webpackJsonp([37],{"+qtE":function(t,e,a){"use strict";var o=a("3cXf"),l=a.n(o);e.a={name:"code",data:function(){return{searchForm:{formdata:{code:"",name:""},currentPage:1,pageSize:20},tableList:{},colsData:[{label:"编码",prop:"code",align:"left",sortable:!0},{label:"编码名称",prop:"name",align:"left",sortable:!0},{label:"编码分类",prop:"type",align:"left",sortable:!0},{label:"显示顺序",prop:"showSort",align:"left",sortable:!0},{label:"自定义字段1名称",prop:"c1",align:"left",sortable:!0},{label:"自定义字段2名称",prop:"c2",align:"left",sortable:!0},{label:"自定义字段3名称",prop:"c3",align:"left",sortable:!0},{label:"备注",prop:"note",align:"left",sortable:!0}],dialogVisible:!1,addForm:{code:"",name:"",type:"",showSort:"",c1:"",c2:"",c3:"",note:"",isUnique:""},rules:this.eachValidate({code:{maxString:"20"},name:{maxString:"50"},type:{maxString:"30"},showSort:{maxString:""},c1:{maxString:"50"},c2:{maxString:"50"},c3:{maxString:"50"},note:{maxString:"100"},isUnique:{maxString:""}})}},computed:{title:function(){return this.addForm.id?"编辑数据字典管理":"新增数据字典管理"},urlType:function(){return this.addForm.id?"put":"post"}},watch:{},methods:{getTbList:function(){var t=this;this.$ajax.get("rest/code/page",{params:this.searchForm,loadingTarget:this.$refs.table}).then(function(e){e.data.status&&(t.tableList=e.data)})},editTb:function(t){this.dialogVisible=!0,this.addForm=JSON.parse(l()(t))},closeDialog:function(t){this.$nextTick(function(){this.$refs[t].resetFields(),this.addForm={code:"",name:"",type:"",showSort:"",c1:"",c2:"",c3:"",note:"",isUnique:""}})},saveDialog:function(t){var e=this;this.$refs[t].validate(function(t){t&&e.$ajax[e.urlType]("rest/code",e.addForm).then(function(t){t.data.status?(e.$message.success(t.data.answerMsg),e.dialogVisible=!1,e.getTbList()):e.$message.error(t.data.answerMsg)})})},delTb:function(t){var e=this;this.$confirm("是否删除该记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$ajax.delete("rest/code",{params:{id:t.id}}).then(function(t){t.data.status?(e.$message.success(t.data.answerMsg),e.getTbList()):e.$message.error(t.data.answerMsg)})})}},mounted:function(){this.getTbList()}}},"5fzw":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("da-manage-page",[a("div",{attrs:{slot:"button"},slot:"button"},[a("el-button",{attrs:{icon:"my-zengjia"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("新增")])],1),t._v(" "),a("el-form",{attrs:{slot:"search",inline:!0,model:t.searchForm.formdata},slot:"search"},[a("el-form-item",{attrs:{label:"编码"}},[a("el-input",{model:{value:t.searchForm.formdata.code,callback:function(e){t.$set(t.searchForm.formdata,"code",e)},expression:"searchForm.formdata.code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"编码名称"}},[a("el-input",{model:{value:t.searchForm.formdata.name,callback:function(e){t.$set(t.searchForm.formdata,"name",e)},expression:"searchForm.formdata.name"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.getTbList}},[t._v("查询")])],1)],1),t._v(" "),a("da-table",{ref:"table",attrs:{slot:"content",colums:t.colsData,"table-list":t.tableList,"search-data":t.searchForm,showSelection:!1},on:{callBack:t.getTbList},slot:"content"},[a("el-table-column",{attrs:{slot:"operation",property:"operation",label:"操作",width:"150",align:"center",fixed:"right"},slot:"operation",scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){t.editTb(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){t.editTb(e.row)}}},[t._v("数据管理")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){t.delTb(e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("da-dialog",{attrs:{title:t.title,visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e},close:function(e){t.closeDialog("addForm")}}},[a("el-form",{ref:"addForm",attrs:{"label-width":"90px",model:t.addForm,rules:t.rules}},[a("el-form-item",{attrs:{label:"编码",prop:"code"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.code,callback:function(e){t.$set(t.addForm,"code",e)},expression:"addForm.code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"编码名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"编码分类",prop:"type"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.type,callback:function(e){t.$set(t.addForm,"type",e)},expression:"addForm.type"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"显示顺序",prop:"showSort"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.showSort,callback:function(e){t.$set(t.addForm,"showSort",e)},expression:"addForm.showSort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"自定义字段1名称",prop:"c1"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.c1,callback:function(e){t.$set(t.addForm,"c1",e)},expression:"addForm.c1"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"自定义字段2名称",prop:"c2"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.c2,callback:function(e){t.$set(t.addForm,"c2",e)},expression:"addForm.c2"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"自定义字段3名称",prop:"c3"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.c3,callback:function(e){t.$set(t.addForm,"c3",e)},expression:"addForm.c3"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"note"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.note,callback:function(e){t.$set(t.addForm,"note",e)},expression:"addForm.note"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否唯一",prop:"isUnique"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.isUnique,callback:function(e){t.$set(t.addForm,"isUnique",e)},expression:"addForm.isUnique"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveDialog("addForm")}}},[t._v("确 定")]),t._v(" "),a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")])],1)],1)],1)},l=[],r={render:o,staticRenderFns:l};e.a=r},wqxe:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("+qtE"),l=a("5fzw"),r=a("J0+h"),s=r(o.a,l.a,null,null,null);e.default=s.exports}});
//# sourceMappingURL=37.25323ee327b0ea4322e1.js.map