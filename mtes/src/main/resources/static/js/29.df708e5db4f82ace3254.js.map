{"version":3,"sources":["webpack:///static/js/29.df708e5db4f82ace3254.js","webpack:///./src/views/platform/running/alarmHistorySearch.vue?2db5","webpack:///./src/views/platform/running/alarmHistorySearch.vue?77c7","webpack:///src/views/platform/running/alarmHistorySearch.vue","webpack:///./src/views/platform/running/alarmHistorySearch.vue?2930","webpack:///./src/views/platform/running/alarmHistorySearch.vue"],"names":["webpackJsonp","NCJU","module","__webpack_exports__","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","attrs","padding-content","no-head","staticClass","_v","maxNum","option-lists","alarmDepartmentList","label","value-key","on","change","changeAlarmDepartment","model","value","callback","$$v","alarmDepartment","expression","time-type","timeType","show-time","update:timeType","$event","changeAlarmTime","alarmTime","attentionAlarmList","changeAttentionAlarm","attentionAlarm","alarmCategoryList","changeAlarmCategory","alarmCategory","alarmEquipmentList","changeAlarmEquipment","alarmEquipment","alarmLevelList","changealArmLevel","alarmLevel","alarmConfirmList","changeAlarmConfirm","alarmConfirm","type","click","search","ref","title","width","height","min-height","padding","colums","alarmDetailcolumnData","front-page","table-list","alarmDetailtable","slot","property","align","fixed","scopedSlots","_u","key","fn","scope","size","detail","row","visible","dialogVisible","update:visible","label-width","diaAlarmDetail","prop","auto-complete","$set","format","confirmOrNot","staticRenderFns","esExports","Sq85","exports","content","i","locals","ayhS","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_1__util_util__","data","allAlarmData","beginTime","finishTime","selectDepartment","selectAttentionAlarm","selectAlarmCode","id","name","selectAlarmLevel","selectAlarmCategory","selectAlarmEquipment","selectAlarmConfirm","subStr","popover","displace","0","1","methods","inintData","$moment","Date","getAlarmDepartment","getAlarmEquipment","getAttentionAlarm","getExceptionCountList","loadData","getAlarmDetailtable","time","_time","_this","$ajax","get","params","orgTypes","parentIds","then","res","status","$each","records","item","push","idValue","concat","orgId","_obj","forEach","length","_this2","userIds","alarmGroups","receiveTypes","isAlarmGroup","isReceiveType","_this3","exceptionCountList","_this4","_this5","alarmLevels","alarmCodes","isConfirm","orgIds","equipIds","productIds","alarmItems","startTime","endTime","isCount","countCycle","groupBys","JSON","parse","mounted","tCLC","version","sources","names","mappings","file","sourcesContent","sourceRoot","wC8c","injectStyle","ssrContext","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_alarmHistorySearch_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_fcfc1e76_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_alarmHistorySearch_vue__","normalizeComponent","__vue_styles__","Component"],"mappings":"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","file":"static/js/29.df708e5db4f82ace3254.js","sourcesContent":["webpackJsonp([29],{\n\n/***/ \"NCJU\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('da-panel', {\n    attrs: {\n      \"padding-content\": \"tr\",\n      \"no-head\": true\n    }\n  }, [_c('div', {\n    staticClass: \"alarmhistory-padb-10\"\n  }, [_c('label', [_vm._v(\"告警部门：\")]), _vm._v(\" \"), _c('da-radio-select', {\n    attrs: {\n      \"maxNum\": 1,\n      \"option-lists\": _vm.alarmDepartmentList,\n      \"label\": \"name\",\n      \"value-key\": \"id\"\n    },\n    on: {\n      \"change\": _vm.changeAlarmDepartment\n    },\n    model: {\n      value: (_vm.alarmDepartment),\n      callback: function($$v) {\n        _vm.alarmDepartment = $$v\n      },\n      expression: \"alarmDepartment\"\n    }\n  }), _vm._v(\" \"), _c('label', [_vm._v(\"时间：\")]), _vm._v(\" \"), _c('da-time-select', {\n    attrs: {\n      \"time-type\": _vm.timeType,\n      \"show-time\": [3, 5, 8]\n    },\n    on: {\n      \"update:timeType\": function($event) {\n        _vm.timeType = $event\n      },\n      \"change\": _vm.changeAlarmTime\n    },\n    model: {\n      value: (_vm.alarmTime),\n      callback: function($$v) {\n        _vm.alarmTime = $$v\n      },\n      expression: \"alarmTime\"\n    }\n  }), _vm._v(\" \"), _c('da-radio-select', {\n    staticClass: \"alarmhistory-padl-10\",\n    attrs: {\n      \"maxNum\": 3,\n      \"option-lists\": _vm.attentionAlarmList,\n      \"label\": \"name\",\n      \"value-key\": \"id\"\n    },\n    on: {\n      \"change\": _vm.changeAttentionAlarm\n    },\n    model: {\n      value: (_vm.attentionAlarm),\n      callback: function($$v) {\n        _vm.attentionAlarm = $$v\n      },\n      expression: \"attentionAlarm\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"inblock alarmhistory-padb-10\"\n  }, [_c('label', [_vm._v(\"告警类型：\")]), _vm._v(\" \"), _c('da-radio-select', {\n    attrs: {\n      \"maxNum\": 1,\n      \"option-lists\": _vm.alarmCategoryList,\n      \"label\": \"name\",\n      \"value-key\": \"id\"\n    },\n    on: {\n      \"change\": _vm.changeAlarmCategory\n    },\n    model: {\n      value: (_vm.alarmCategory),\n      callback: function($$v) {\n        _vm.alarmCategory = $$v\n      },\n      expression: \"alarmCategory\"\n    }\n  }), _vm._v(\" \"), _c('label', [_vm._v(\"告警设备：\")]), _vm._v(\" \"), _c('da-radio-select', {\n    attrs: {\n      \"maxNum\": 1,\n      \"option-lists\": _vm.alarmEquipmentList,\n      \"label\": \"name\",\n      \"value-key\": \"id\"\n    },\n    on: {\n      \"change\": _vm.changeAlarmEquipment\n    },\n    model: {\n      value: (_vm.alarmEquipment),\n      callback: function($$v) {\n        _vm.alarmEquipment = $$v\n      },\n      expression: \"alarmEquipment\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"inblock alarmhistory-padb-10\"\n  }, [_c('label', [_vm._v(\"告警级别：\")]), _vm._v(\" \"), _c('da-radio-select', {\n    attrs: {\n      \"maxNum\": 1,\n      \"option-lists\": _vm.alarmLevelList,\n      \"label\": \"name\",\n      \"value-key\": \"id\"\n    },\n    on: {\n      \"change\": _vm.changealArmLevel\n    },\n    model: {\n      value: (_vm.alarmLevel),\n      callback: function($$v) {\n        _vm.alarmLevel = $$v\n      },\n      expression: \"alarmLevel\"\n    }\n  }), _vm._v(\" \"), _c('label', [_vm._v(\"是否确认：\")]), _vm._v(\" \"), _c('da-radio-select', {\n    attrs: {\n      \"maxNum\": 1,\n      \"option-lists\": _vm.alarmConfirmList,\n      \"label\": \"name\",\n      \"value-key\": \"id\"\n    },\n    on: {\n      \"change\": _vm.changeAlarmConfirm\n    },\n    model: {\n      value: (_vm.alarmConfirm),\n      callback: function($$v) {\n        _vm.alarmConfirm = $$v\n      },\n      expression: \"alarmConfirm\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"alarmhistory-padl-10\"\n  }, [_c('button', {\n    staticClass: \"el-button el-button--primary\",\n    attrs: {\n      \"type\": \"button\"\n    },\n    on: {\n      \"click\": _vm.search\n    }\n  }, [_c('span', [_vm._v(\"查询\")])])])], 1)]), _vm._v(\" \"), _c('da-panel', {\n    ref: \"panelCount\",\n    attrs: {\n      \"title\": \"告警信息详细清单\",\n      \"width\": \"100%\",\n      \"height\": \"auto\",\n      \"padding-content\": \"tblr\",\n      \"min-height\": \"200px\",\n      \"padding\": \"t\"\n    }\n  }, [_c('da-table', {\n    staticClass: \"analysis-table\",\n    attrs: {\n      \"colums\": _vm.alarmDetailcolumnData,\n      \"front-page\": true,\n      \"table-list\": _vm.alarmDetailtable\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"slot\": \"operation\",\n      \"property\": \"operation\",\n      \"label\": \"详细\",\n      \"width\": \"150\",\n      \"align\": \"center\",\n      \"fixed\": \"right\"\n    },\n    slot: \"operation\",\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.detail(scope.row)\n            }\n          }\n        }, [_vm._v(\"查看\")])]\n      }\n    }])\n  })], 1)], 1), _vm._v(\" \"), _c('da-dialog', {\n    attrs: {\n      \"title\": \"告警详情\",\n      \"visible\": _vm.dialogVisible\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogVisible = $event\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"diaAlarmDetail\",\n    attrs: {\n      \"label-width\": \"120px\",\n      \"model\": _vm.diaAlarmDetail\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"告警类型\",\n      \"prop\": \"alarmGroupName\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.diaAlarmDetail.alarmGroupName),\n      callback: function($$v) {\n        _vm.$set(_vm.diaAlarmDetail, \"alarmGroupName\", $$v)\n      },\n      expression: \"diaAlarmDetail.alarmGroupName\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"告警详情\",\n      \"prop\": \"alarmDetail\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\",\n      \"type\": \"textarea\"\n    },\n    model: {\n      value: (_vm.diaAlarmDetail.alarmDetail),\n      callback: function($$v) {\n        _vm.$set(_vm.diaAlarmDetail, \"alarmDetail\", $$v)\n      },\n      expression: \"diaAlarmDetail.alarmDetail\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"所属部门\",\n      \"prop\": \"orgId\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.diaAlarmDetail.orgId),\n      callback: function($$v) {\n        _vm.$set(_vm.diaAlarmDetail, \"orgId\", $$v)\n      },\n      expression: \"diaAlarmDetail.orgId\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"计量名称\",\n      \"prop\": \"meterName\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.diaAlarmDetail.meterName),\n      callback: function($$v) {\n        _vm.$set(_vm.diaAlarmDetail, \"meterName\", $$v)\n      },\n      expression: \"diaAlarmDetail.meterName\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"数据项名称\",\n      \"prop\": \"value\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.diaAlarmDetail.value),\n      callback: function($$v) {\n        _vm.$set(_vm.diaAlarmDetail, \"value\", $$v)\n      },\n      expression: \"diaAlarmDetail.value\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"告警时间\",\n      \"prop\": \"alarmTime\"\n    }\n  }, [_c('el-date-picker', {\n    attrs: {\n      \"type\": \"date\",\n      \"format\": \"yyyy-MM-dd\"\n    },\n    model: {\n      value: (_vm.diaAlarmDetail.alarmTime),\n      callback: function($$v) {\n        _vm.$set(_vm.diaAlarmDetail, \"alarmTime\", $$v)\n      },\n      expression: \"diaAlarmDetail.alarmTime\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"是否确认\",\n      \"prop\": \"isConfirm\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.confirmOrNot),\n      callback: function($$v) {\n        _vm.confirmOrNot = $$v\n      },\n      expression: \"confirmOrNot\"\n    }\n  })], 1)], 1)], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"Sq85\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"tCLC\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"FIqI\")(\"465c5559\", content, true, {});\n\n/***/ }),\n\n/***/ \"ayhS\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"3cXf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_util__ = __webpack_require__(\"yt7g\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      allAlarmData: [], //所有告警详细数据\n      alarmTime: \"\", //告警时间\n      timeType: 3,\n      beginTime: \"\", //查询的开始时间\n      finishTime: \"\", //查询的结束时间\n      alarmDepartment: \"\", //告警部门\n      selectDepartment: \"\", //选择的告警部门\n      alarmDepartmentList: [], //告警部门列表\n      attentionAlarm: \"\", //我关注的告警\n      selectAttentionAlarm: \"\", //关注的告警Id\n      selectAlarmCode: \"\",\n      attentionAlarmList: [{ id: 0, name: \"所有的告警\" }, { id: 1, name: \"我关注的告警\" }], //关注的告警部门列表\n      alarmLevelList: [{ name: \"全部\", id: 0 }, { name: \"一类\", id: 1 }, { name: \"二类\", id: 2 }, { name: \"三类\", id: 3 }, { name: \"四类\", id: 4 }], //告警的等级列表\n      selectAlarmLevel: \"\", //选择的告警级别\n      alarmLevel: \"\", //告警的等级\n      alarmCategory: \"\", //告警类型\n      alarmCategoryList: [], //告警类型列表\n      selectAlarmCategory: \"\", //选择的告警类型\n      alarmEquipment: \"\", //告警设备\n      selectAlarmEquipment: \"\", //选择告警设备\n      alarmEquipmentList: [], //告警设备列表\n      alarmConfirm: \"\", //告警确认\n      selectAlarmConfirm: \"\", //选择是否确认\n      alarmConfirmList: [{ name: \"全部\", id: 0 }, { name: \"已确认\", id: 1 }, { name: \"未确认\", id: 2 }], //告警确认列表\n      alarmDetailcolumnData: [{\n        label: \"告警类型\",\n        prop: \"alarmGroupName\"\n      }, {\n        label: \"告警详情\",\n        prop: \"alarmDetail\",\n        subStr: true,\n        popover: true\n      }, {\n        label: \"所属部门\",\n        prop: \"orgId\",\n        displace: {}\n      }, {\n        label: \"计量点名称\",\n        prop: \"meterName\"\n      }, {\n        label: \"数据项名称\",\n        prop: \"value\"\n      }, {\n        label: \"告警时间\",\n        prop: \"alarmTime\",\n        format: \"YYYY-MM-DD\"\n      }, {\n        label: \"是否确认\",\n        prop: \"isConfirm\",\n        displace: { 0: \"未确认\", 1: \"确认\" }\n      }],\n      alarmDetailtable: [],\n      diaAlarmDetail: {},\n      dialogVisible: false,\n      confirmOrNot: \"\"\n    };\n  },\n\n  methods: {\n    //初始化数据\n    inintData: function inintData() {\n      this.finishTime = this.$moment(new Date(), \"YYYY-MM-DD\");\n      this.beginTime = this.finishTime;\n      this.getAlarmDepartment();\n      this.getAlarmEquipment();\n      this.getAttentionAlarm();\n      this.getExceptionCountList();\n    },\n\n    //加载页面\n    loadData: function loadData() {\n      this.getAlarmDetailtable();\n    },\n\n    //切换时间\n    changeAlarmTime: function changeAlarmTime() {\n      if (this.timeType == 3) {\n        this.beginTime = this.alarmTime;\n        this.finishTime = this.alarmTime;\n      } else if (this.timeType == 5) {\n        var time = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util_util__[\"f\" /* cycleTime */])(this.alarmTime, 5);\n        this.beginTime = time[0];\n        this.finishTime = time[1];\n      } else {\n        var _time = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util_util__[\"f\" /* cycleTime */])(this.alarmTime, 8);\n        this.beginTime = _time[0];\n        this.finishTime = _time[1];\n      }\n    },\n\n    //获取部门列表\n    getAlarmDepartment: function getAlarmDepartment() {\n      var _this = this;\n\n      this.$ajax.get(\"rest/analysisData/depart\", {\n        params: {\n          title: \"查询部门列表\", //功能块标题，作为返回值的一部分返回，用于识别具体是哪一个功能块调用该URI\n          orgTypes: null, //部门类型，多个用逗号隔开，可为空，为空不作为查询条件\n          parentIds: null //上级部门ID，多个用逗号隔开，可为空，为空不作为查询条件\n        }\n      }).then(function (res) {\n        if (res.data.status) {\n          var data = [];\n          _this.$each(res.data.records, function (item) {\n            data.push({\n              name: item.name,\n              idValue: item.id\n            });\n          });\n          data = [{ name: \"全部\", idValue: \"\" }].concat(data);\n          _this.$each(data, function (item, i) {\n            _this.alarmDepartmentList.push({\n              name: item.name,\n              idValue: item.idValue,\n              id: i\n            });\n          });\n\n          var data1 = [];\n          _this.$each(res.data.records, function (item) {\n            data.push({\n              name: item.name,\n              orgId: item.id\n            });\n          });\n          var _obj = void 0;\n          var _obj = {};\n          data.forEach(function (item) {\n            _obj[item.orgId] = item.name;\n          });\n          _this.alarmDetailcolumnData[2].displace = _obj;\n        }\n      });\n    },\n\n    //切换部门\n    changeAlarmDepartment: function changeAlarmDepartment() {\n      for (var i = 0; i < this.alarmDepartmentList.length; i++) {\n        if (this.alarmDepartment == this.alarmDepartmentList[i].id) {\n          this.selectDepartment = this.alarmDepartmentList[i].idValue;\n          break;\n        }\n      }\n    },\n\n    //获得我关注的告警类型\n    getAttentionAlarm: function getAttentionAlarm() {\n      var _this2 = this;\n\n      this.$ajax.get(\"rest/analysisData/alarmItem\", {\n        params: {\n          title: \"关注的告警\", //功能块标题，作为返回值的一部分返回，用于识别具体是哪一个功能块调用该URI\n          userIds: null, //用户ID，为空表示不作为查询条件，多个用逗号隔开，如\"1,2,...\"\n          alarmGroups: null, //告警分组ID，为空表示不作为查询条件，多个用逗号隔开，如\"1,2,...\"\n          receiveTypes: 1, //用户接收告警类型，1:弹窗；2：邮件；3：短信；4：微信，为空时表示不作为查询条件\n          isAlarmGroup: null, //是否返回告警分组\n          isReceiveType: true //是否返回用户接收告警类型\n        }\n      }).then(function (res) {\n        if (res.data.status) {\n          for (var i = 0; i < res.data.records.length; i++) {\n            if (i < res.data.records.length) {\n              _this2.selectAttentionAlarm += res.data.records[i].id + \",\";\n            } else {\n              _this2.selectAttentionAlarm += res.data.records[i].id;\n            }\n          }\n        }\n      });\n    },\n\n    //切换我关注的告警\n    changeAttentionAlarm: function changeAttentionAlarm() {\n      if (this.attentionAlarm == 0) {\n        this.selectAlarmCode = \"\";\n      } else {\n        this.selectAlarmCode = this.selectAttentionAlarm;\n      }\n    },\n\n    //获取告警类型种类\n    getExceptionCountList: function getExceptionCountList() {\n      var _this3 = this;\n\n      this.$ajax.get(\"rest/analysisData/alarmGroup\", {\n        params: {\n          title: \"查询告警种类\" //功能块标题，作为返回值的一部分返回，用于识别具体是哪一个功能块调用该URI\n        }\n      }).then(function (res) {\n        if (res.data.status) {\n          var data = [];\n          _this3.$each(res.data.records, function (item) {\n            data.push({\n              name: item.name,\n              idValue: item.id,\n              value: 0\n            });\n          });\n          _this3.exceptionCountList = data;\n          data = [{ name: \"全部\", idValue: \"\", value: 0 }].concat(data);\n          _this3.$each(data, function (item, i) {\n            _this3.alarmCategoryList.push({\n              name: item.name,\n              idValue: item.idValue,\n              id: i\n            });\n          });\n          _this3.selectAlarmCategory = _this3.alarmCategoryList[0].idValue;\n        }\n      });\n    },\n\n    //切换告警等级\n    changealArmLevel: function changealArmLevel() {\n      switch (this.alarmLevel) {\n        case 0:\n          this.selectAlarmLevel = \"\";\n          break;\n        case 1:\n          this.selectAlarmLevel = \"1\";\n          break;\n        case 2:\n          this.selectAlarmLevel = \"2\";\n          break;\n        case 3:\n          this.selectAlarmLevel = \"3\";\n          break;\n        case 4:\n          this.selectAlarmLevel = \"4\";\n          break;\n      }\n    },\n\n    //切换告警类型\n    changeAlarmCategory: function changeAlarmCategory() {\n      for (var i = 0; i < this.alarmCategoryList.length; i++) {\n        if (this.alarmCategory == this.alarmCategoryList[i].id) {\n          this.selectAlarmCategory = this.alarmCategoryList[i].idValue;\n          break;\n        }\n      }\n    },\n\n    //获取告警设备列表\n    getAlarmEquipment: function getAlarmEquipment() {\n      var _this4 = this;\n\n      this.$ajax.get(\"rest/analysisData/equip\", {\n        params: {\n          title: \"查询设备\", //功能块标题，作为返回值的一部分返回，用于识别具体是哪一个功能块调用该URI\n          orgTypes: null, //部门类型，多个用逗号隔开，可为空，为空不作为查询条件\n          parentIds: null //上级部门ID，多个用逗号隔开，可为空，为空不作为查询条件\n        }\n      }).then(function (res) {\n        if (res.data.status) {\n          var data = [];\n          _this4.$each(res.data.records, function (item) {\n            data.push({\n              name: item.name,\n              idValue: item.id\n            });\n          });\n          data = [{ name: \"全部\", idValue: \"\" }].concat(data);\n          _this4.$each(data, function (item, i) {\n            _this4.alarmEquipmentList.push({\n              name: item.name,\n              idValue: item.idValue,\n              id: i\n            });\n          });\n        }\n      });\n    },\n\n    //切换设备\n    changeAlarmEquipment: function changeAlarmEquipment() {\n      for (var i = 0; i < this.alarmEquipmentList.length; i++) {\n        if (this.alarmEquipment == this.alarmEquipmentList[i].id) {\n          this.selectAlarmEquipment = this.alarmEquipmentList[i].idValue;\n          break;\n        }\n      }\n    },\n\n    //切换确认告警\n    changeAlarmConfirm: function changeAlarmConfirm() {\n      switch (this.alarmConfirm) {\n        case 0:\n          this.selectAlarmConfirm = null;\n          break;\n        case 1:\n          this.selectAlarmConfirm = true;\n          break;\n        case 2:\n          this.selectAlarmConfirm = false;\n          break;\n      }\n    },\n\n    //告警信息详细清单\n    getAlarmDetailtable: function getAlarmDetailtable() {\n      var _this5 = this;\n\n      this.$ajax.get(\"rest/analysisData/alarmData\", {\n        params: {\n          title: \"告警详细信息\", // String,功能标题\n          userIds: null, // String,用户ID\n          alarmLevels: this.selectAlarmLevel, // String,告警级别\n          alarmGroups: this.selectAlarmCategory, // String,告警分组ID,告警类型\n          alarmCodes: this.selectAlarmCode, // String,告警项编码\n          isConfirm: this.selectAlarmConfirm, //\n          receiveTypes: null, // String,用户接收告警类型\n          orgIds: this.selectDepartment, // String,部门ID\n          equipIds: this.selectAlarmEquipment, // String,设备ID\n          productIds: null, // String,产品ID\n          alarmItems: null, // String,告警项ID\n          startTime: this.beginTime, // String,开始时间\n          endTime: this.finishTime, // String,结束时间\n          isCount: false, // Boolean,是否统计\n          countCycle: \"0\", // String,统计周期（1为小时，3为日，5为月，8为年）\n          groupBys: \"101001100\" // String,按什么统计或是否显示，111111111（[部门][级别][分类][编码][确认人][是否确认][时间][设备][产品]）\n        }\n      }).then(function (res) {\n        if (res.data.status) {\n          _this5.alarmDetailtable = res.data.records;\n        }\n      });\n    },\n    detail: function detail(row) {\n      this.dialogVisible = true;\n      this.diaAlarmDetail = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(row));\n      this.confirmOrNot = this.diaAlarmDetail.isConfirm == 0 ? \"未确认\" : \"确认\";\n    },\n\n    //点击查询按钮\n    search: function search() {\n      this.loadData();\n    }\n  },\n  mounted: function mounted() {\n    this.inintData();\n    this.loadData();\n  }\n});\n\n/***/ }),\n\n/***/ \"tCLC\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"acE3\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".alarmhistory-padb-10[data-v-fcfc1e76]{padding-bottom:10px}.alarmhistory-padb-10>label[data-v-fcfc1e76],.alarmhistory-padl-10[data-v-fcfc1e76]{padding-left:10px}\", \"\", {\"version\":3,\"sources\":[\"C:/vscode/ysems_webapp/src/views/platform/running/alarmHistorySearch.vue\"],\"names\":[],\"mappings\":\"AACA,uCACE,mBAAqB,CACtB,AAID,oFACE,iBAAmB,CACpB\",\"file\":\"alarmHistorySearch.vue\",\"sourcesContent\":[\"\\n.alarmhistory-padb-10[data-v-fcfc1e76] {\\r\\n  padding-bottom: 10px;\\n}\\n.alarmhistory-padb-10 > label[data-v-fcfc1e76] {\\r\\n  padding-left: 10px;\\n}\\n.alarmhistory-padl-10[data-v-fcfc1e76] {\\r\\n  padding-left: 10px;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"wC8c\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_alarmHistorySearch_vue__ = __webpack_require__(\"ayhS\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_fcfc1e76_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_alarmHistorySearch_vue__ = __webpack_require__(\"NCJU\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"Sq85\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fcfc1e76\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_alarmHistorySearch_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_fcfc1e76_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_alarmHistorySearch_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/29.df708e5db4f82ace3254.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('da-panel', {\n    attrs: {\n      \"padding-content\": \"tr\",\n      \"no-head\": true\n    }\n  }, [_c('div', {\n    staticClass: \"alarmhistory-padb-10\"\n  }, [_c('label', [_vm._v(\"告警部门：\")]), _vm._v(\" \"), _c('da-radio-select', {\n    attrs: {\n      \"maxNum\": 1,\n      \"option-lists\": _vm.alarmDepartmentList,\n      \"label\": \"name\",\n      \"value-key\": \"id\"\n    },\n    on: {\n      \"change\": _vm.changeAlarmDepartment\n    },\n    model: {\n      value: (_vm.alarmDepartment),\n      callback: function($$v) {\n        _vm.alarmDepartment = $$v\n      },\n      expression: \"alarmDepartment\"\n    }\n  }), _vm._v(\" \"), _c('label', [_vm._v(\"时间：\")]), _vm._v(\" \"), _c('da-time-select', {\n    attrs: {\n      \"time-type\": _vm.timeType,\n      \"show-time\": [3, 5, 8]\n    },\n    on: {\n      \"update:timeType\": function($event) {\n        _vm.timeType = $event\n      },\n      \"change\": _vm.changeAlarmTime\n    },\n    model: {\n      value: (_vm.alarmTime),\n      callback: function($$v) {\n        _vm.alarmTime = $$v\n      },\n      expression: \"alarmTime\"\n    }\n  }), _vm._v(\" \"), _c('da-radio-select', {\n    staticClass: \"alarmhistory-padl-10\",\n    attrs: {\n      \"maxNum\": 3,\n      \"option-lists\": _vm.attentionAlarmList,\n      \"label\": \"name\",\n      \"value-key\": \"id\"\n    },\n    on: {\n      \"change\": _vm.changeAttentionAlarm\n    },\n    model: {\n      value: (_vm.attentionAlarm),\n      callback: function($$v) {\n        _vm.attentionAlarm = $$v\n      },\n      expression: \"attentionAlarm\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"inblock alarmhistory-padb-10\"\n  }, [_c('label', [_vm._v(\"告警类型：\")]), _vm._v(\" \"), _c('da-radio-select', {\n    attrs: {\n      \"maxNum\": 1,\n      \"option-lists\": _vm.alarmCategoryList,\n      \"label\": \"name\",\n      \"value-key\": \"id\"\n    },\n    on: {\n      \"change\": _vm.changeAlarmCategory\n    },\n    model: {\n      value: (_vm.alarmCategory),\n      callback: function($$v) {\n        _vm.alarmCategory = $$v\n      },\n      expression: \"alarmCategory\"\n    }\n  }), _vm._v(\" \"), _c('label', [_vm._v(\"告警设备：\")]), _vm._v(\" \"), _c('da-radio-select', {\n    attrs: {\n      \"maxNum\": 1,\n      \"option-lists\": _vm.alarmEquipmentList,\n      \"label\": \"name\",\n      \"value-key\": \"id\"\n    },\n    on: {\n      \"change\": _vm.changeAlarmEquipment\n    },\n    model: {\n      value: (_vm.alarmEquipment),\n      callback: function($$v) {\n        _vm.alarmEquipment = $$v\n      },\n      expression: \"alarmEquipment\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"inblock alarmhistory-padb-10\"\n  }, [_c('label', [_vm._v(\"告警级别：\")]), _vm._v(\" \"), _c('da-radio-select', {\n    attrs: {\n      \"maxNum\": 1,\n      \"option-lists\": _vm.alarmLevelList,\n      \"label\": \"name\",\n      \"value-key\": \"id\"\n    },\n    on: {\n      \"change\": _vm.changealArmLevel\n    },\n    model: {\n      value: (_vm.alarmLevel),\n      callback: function($$v) {\n        _vm.alarmLevel = $$v\n      },\n      expression: \"alarmLevel\"\n    }\n  }), _vm._v(\" \"), _c('label', [_vm._v(\"是否确认：\")]), _vm._v(\" \"), _c('da-radio-select', {\n    attrs: {\n      \"maxNum\": 1,\n      \"option-lists\": _vm.alarmConfirmList,\n      \"label\": \"name\",\n      \"value-key\": \"id\"\n    },\n    on: {\n      \"change\": _vm.changeAlarmConfirm\n    },\n    model: {\n      value: (_vm.alarmConfirm),\n      callback: function($$v) {\n        _vm.alarmConfirm = $$v\n      },\n      expression: \"alarmConfirm\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"alarmhistory-padl-10\"\n  }, [_c('button', {\n    staticClass: \"el-button el-button--primary\",\n    attrs: {\n      \"type\": \"button\"\n    },\n    on: {\n      \"click\": _vm.search\n    }\n  }, [_c('span', [_vm._v(\"查询\")])])])], 1)]), _vm._v(\" \"), _c('da-panel', {\n    ref: \"panelCount\",\n    attrs: {\n      \"title\": \"告警信息详细清单\",\n      \"width\": \"100%\",\n      \"height\": \"auto\",\n      \"padding-content\": \"tblr\",\n      \"min-height\": \"200px\",\n      \"padding\": \"t\"\n    }\n  }, [_c('da-table', {\n    staticClass: \"analysis-table\",\n    attrs: {\n      \"colums\": _vm.alarmDetailcolumnData,\n      \"front-page\": true,\n      \"table-list\": _vm.alarmDetailtable\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"slot\": \"operation\",\n      \"property\": \"operation\",\n      \"label\": \"详细\",\n      \"width\": \"150\",\n      \"align\": \"center\",\n      \"fixed\": \"right\"\n    },\n    slot: \"operation\",\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.detail(scope.row)\n            }\n          }\n        }, [_vm._v(\"查看\")])]\n      }\n    }])\n  })], 1)], 1), _vm._v(\" \"), _c('da-dialog', {\n    attrs: {\n      \"title\": \"告警详情\",\n      \"visible\": _vm.dialogVisible\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogVisible = $event\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"diaAlarmDetail\",\n    attrs: {\n      \"label-width\": \"120px\",\n      \"model\": _vm.diaAlarmDetail\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"告警类型\",\n      \"prop\": \"alarmGroupName\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.diaAlarmDetail.alarmGroupName),\n      callback: function($$v) {\n        _vm.$set(_vm.diaAlarmDetail, \"alarmGroupName\", $$v)\n      },\n      expression: \"diaAlarmDetail.alarmGroupName\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"告警详情\",\n      \"prop\": \"alarmDetail\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\",\n      \"type\": \"textarea\"\n    },\n    model: {\n      value: (_vm.diaAlarmDetail.alarmDetail),\n      callback: function($$v) {\n        _vm.$set(_vm.diaAlarmDetail, \"alarmDetail\", $$v)\n      },\n      expression: \"diaAlarmDetail.alarmDetail\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"所属部门\",\n      \"prop\": \"orgId\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.diaAlarmDetail.orgId),\n      callback: function($$v) {\n        _vm.$set(_vm.diaAlarmDetail, \"orgId\", $$v)\n      },\n      expression: \"diaAlarmDetail.orgId\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"计量名称\",\n      \"prop\": \"meterName\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.diaAlarmDetail.meterName),\n      callback: function($$v) {\n        _vm.$set(_vm.diaAlarmDetail, \"meterName\", $$v)\n      },\n      expression: \"diaAlarmDetail.meterName\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"数据项名称\",\n      \"prop\": \"value\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.diaAlarmDetail.value),\n      callback: function($$v) {\n        _vm.$set(_vm.diaAlarmDetail, \"value\", $$v)\n      },\n      expression: \"diaAlarmDetail.value\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"告警时间\",\n      \"prop\": \"alarmTime\"\n    }\n  }, [_c('el-date-picker', {\n    attrs: {\n      \"type\": \"date\",\n      \"format\": \"yyyy-MM-dd\"\n    },\n    model: {\n      value: (_vm.diaAlarmDetail.alarmTime),\n      callback: function($$v) {\n        _vm.$set(_vm.diaAlarmDetail, \"alarmTime\", $$v)\n      },\n      expression: \"diaAlarmDetail.alarmTime\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"是否确认\",\n      \"prop\": \"isConfirm\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.confirmOrNot),\n      callback: function($$v) {\n        _vm.confirmOrNot = $$v\n      },\n      expression: \"confirmOrNot\"\n    }\n  })], 1)], 1)], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-fcfc1e76\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/platform/running/alarmHistorySearch.vue\n// module id = NCJU\n// module chunks = 29","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.0@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fcfc1e76\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=styles&index=0!./alarmHistorySearch.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"465c5559\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.1.2@vue-style-loader!./~/_css-loader@0.28.0@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@13.0.4@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-fcfc1e76\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/platform/running/alarmHistorySearch.vue\n// module id = Sq85\n// module chunks = 29","<template>\r\n  <div>\r\n    <da-panel padding-content=\"tr\" :no-head=\"true\">\r\n      <div class=\"alarmhistory-padb-10\">\r\n        <label>告警部门：</label>\r\n        <da-radio-select v-model=\"alarmDepartment\" :maxNum=\"1\" :option-lists=\"alarmDepartmentList\" label=\"name\" value-key=\"id\" @change=\"changeAlarmDepartment\"></da-radio-select>\r\n        <label>时间：</label>\r\n        <da-time-select v-model=\"alarmTime\" :time-type.sync=\"timeType\" :show-time=\"[3,5,8]\" @change=\"changeAlarmTime\"></da-time-select>\r\n        <da-radio-select class=\"alarmhistory-padl-10\" v-model=\"attentionAlarm\" :maxNum=\"3\" :option-lists=\"attentionAlarmList\" label=\"name\" value-key=\"id\" @change=\"changeAttentionAlarm\"></da-radio-select>\r\n      </div>\r\n      <div class=\"inblock alarmhistory-padb-10\">\r\n        <label>告警类型：</label>\r\n        <da-radio-select v-model=\"alarmCategory\" :maxNum=\"1\" :option-lists=\"alarmCategoryList\" label=\"name\" value-key=\"id\" @change=\"changeAlarmCategory\"></da-radio-select>\r\n        <label>告警设备：</label>\r\n        <da-radio-select v-model=\"alarmEquipment\" :maxNum=\"1\" :option-lists=\"alarmEquipmentList\" label=\"name\" value-key=\"id\" @change=\"changeAlarmEquipment\"></da-radio-select>\r\n      </div>\r\n      <div class=\"inblock alarmhistory-padb-10\">\r\n        <label>告警级别：</label>\r\n        <da-radio-select v-model=\"alarmLevel\" :maxNum=\"1\" :option-lists=\"alarmLevelList\" label=\"name\" value-key=\"id\" @change=\"changealArmLevel\"></da-radio-select>\r\n        <label>是否确认：</label>\r\n        <da-radio-select v-model=\"alarmConfirm\" :maxNum=\"1\" :option-lists=\"alarmConfirmList\" label=\"name\" value-key=\"id\" @change=\"changeAlarmConfirm\"></da-radio-select>\r\n        <span class=\"alarmhistory-padl-10\">\r\n          <button type=\"button\" class=\"el-button el-button--primary\" @click=\"search\">\r\n            <span>查询</span>\r\n          </button>\r\n        </span>\r\n      </div>\r\n    </da-panel>\r\n    <da-panel title=\"告警信息详细清单\" width=\"100%\" height=\"auto\" padding-content=\"tblr\" min-height=\"200px\" padding=\"t\" ref=\"panelCount\">\r\n      <da-table class=\"analysis-table\" :colums=\"alarmDetailcolumnData\" :front-page=\"true\" :table-list=\"alarmDetailtable\">\r\n        <el-table-column property=\"operation\" label=\"详细\" width=\"150\" slot=\"operation\" align=\"center\" fixed=\"right\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"small\" @click=\"detail(scope.row)\">查看</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </da-table>\r\n    </da-panel>\r\n     <da-dialog title=\"告警详情\" :visible.sync=\"dialogVisible\">\r\n            <el-form label-width=\"120px\" :model=\"diaAlarmDetail\"  ref=\"diaAlarmDetail\">\r\n                <el-form-item label=\"告警类型\" prop=\"alarmGroupName\">\r\n                    <el-input auto-complete=\"off\" v-model=\"diaAlarmDetail.alarmGroupName\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"告警详情\" prop=\"alarmDetail\" >\r\n                    <el-input auto-complete=\"off\" v-model=\"diaAlarmDetail.alarmDetail\" type=\"textarea\" ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"所属部门\" prop=\"orgId\">\r\n                    <el-input auto-complete=\"off\" v-model=\"diaAlarmDetail.orgId\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"计量名称\" prop=\"meterName\">\r\n                    <el-input auto-complete=\"off\" v-model=\"diaAlarmDetail.meterName\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"数据项名称\" prop=\"value\">\r\n                    <el-input auto-complete=\"off\" v-model=\"diaAlarmDetail.value\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"告警时间\" prop=\"alarmTime\"  >\r\n                   <el-date-picker v-model=\"diaAlarmDetail.alarmTime\" type=\"date\" format=\"yyyy-MM-dd\" > </el-date-picker>\r\n                </el-form-item>\r\n                <el-form-item label=\"是否确认\" prop=\"isConfirm\">\r\n                    <el-input auto-complete=\"off\" v-model=\"confirmOrNot\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n        </da-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { cycleTime, calcTime } from \"../../../util/util\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      allAlarmData: [], //所有告警详细数据\r\n      alarmTime: \"\", //告警时间\r\n      timeType: 3,\r\n      beginTime: \"\", //查询的开始时间\r\n      finishTime: \"\", //查询的结束时间\r\n      alarmDepartment: \"\", //告警部门\r\n      selectDepartment: \"\", //选择的告警部门\r\n      alarmDepartmentList: [], //告警部门列表\r\n      attentionAlarm: \"\", //我关注的告警\r\n      selectAttentionAlarm: \"\", //关注的告警Id\r\n      selectAlarmCode: \"\",\r\n      attentionAlarmList: [\r\n        { id: 0, name: \"所有的告警\" },\r\n        { id: 1, name: \"我关注的告警\" }\r\n      ], //关注的告警部门列表\r\n      alarmLevelList: [\r\n        { name: \"全部\", id: 0 },\r\n        { name: \"一类\", id: 1 },\r\n        { name: \"二类\", id: 2 },\r\n        { name: \"三类\", id: 3 },\r\n        { name: \"四类\", id: 4 }\r\n      ], //告警的等级列表\r\n      selectAlarmLevel: \"\", //选择的告警级别\r\n      alarmLevel: \"\", //告警的等级\r\n      alarmCategory: \"\", //告警类型\r\n      alarmCategoryList: [], //告警类型列表\r\n      selectAlarmCategory: \"\", //选择的告警类型\r\n      alarmEquipment: \"\", //告警设备\r\n      selectAlarmEquipment: \"\", //选择告警设备\r\n      alarmEquipmentList: [], //告警设备列表\r\n      alarmConfirm: \"\", //告警确认\r\n      selectAlarmConfirm: \"\", //选择是否确认\r\n      alarmConfirmList: [\r\n        { name: \"全部\", id: 0 },\r\n        { name: \"已确认\", id: 1 },\r\n        { name: \"未确认\", id: 2 }\r\n      ], //告警确认列表\r\n      alarmDetailcolumnData: [\r\n        {\r\n          label: \"告警类型\",\r\n          prop: \"alarmGroupName\"\r\n        },\r\n        {\r\n          label: \"告警详情\",\r\n          prop: \"alarmDetail\",\r\n          subStr: true,\r\n          popover: true\r\n        },\r\n        {\r\n          label: \"所属部门\",\r\n          prop: \"orgId\",\r\n          displace: {}\r\n        },\r\n        {\r\n          label: \"计量点名称\",\r\n          prop: \"meterName\"\r\n        },\r\n        {\r\n          label: \"数据项名称\",\r\n          prop: \"value\"\r\n        },\r\n        {\r\n          label: \"告警时间\",\r\n          prop: \"alarmTime\",\r\n          format: \"YYYY-MM-DD\"\r\n        },\r\n        {\r\n          label: \"是否确认\",\r\n          prop: \"isConfirm\",\r\n          displace: { 0: \"未确认\", 1: \"确认\" }\r\n        }\r\n      ],\r\n      alarmDetailtable: [],\r\n      diaAlarmDetail: {},\r\n      dialogVisible: false,\r\n      confirmOrNot: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    //初始化数据\r\n    inintData() {\r\n      this.finishTime = this.$moment(new Date(), \"YYYY-MM-DD\");\r\n      this.beginTime = this.finishTime;\r\n      this.getAlarmDepartment();\r\n      this.getAlarmEquipment();\r\n      this.getAttentionAlarm();\r\n      this.getExceptionCountList();\r\n    },\r\n    //加载页面\r\n    loadData() {\r\n      this.getAlarmDetailtable();\r\n    },\r\n    //切换时间\r\n    changeAlarmTime() {\r\n      if (this.timeType == 3) {\r\n        this.beginTime = this.alarmTime;\r\n        this.finishTime = this.alarmTime;\r\n      } else if (this.timeType == 5) {\r\n        let time = cycleTime(this.alarmTime, 5);\r\n        this.beginTime = time[0];\r\n        this.finishTime = time[1];\r\n      } else {\r\n        let time = cycleTime(this.alarmTime, 8);\r\n        this.beginTime = time[0];\r\n        this.finishTime = time[1];\r\n      }\r\n    },\r\n    //获取部门列表\r\n    getAlarmDepartment() {\r\n      this.$ajax\r\n        .get(\"rest/analysisData/depart\", {\r\n          params: {\r\n            title: \"查询部门列表\", //功能块标题，作为返回值的一部分返回，用于识别具体是哪一个功能块调用该URI\r\n            orgTypes: null, //部门类型，多个用逗号隔开，可为空，为空不作为查询条件\r\n            parentIds: null //上级部门ID，多个用逗号隔开，可为空，为空不作为查询条件\r\n          }\r\n        })\r\n        .then(res => {\r\n          if (res.data.status) {\r\n            let data = [];\r\n            this.$each(res.data.records, item => {\r\n              data.push({\r\n                name: item.name,\r\n                idValue: item.id\r\n              });\r\n            });\r\n            data = [{ name: \"全部\", idValue: \"\" }].concat(data);\r\n            this.$each(data, (item, i) => {\r\n              this.alarmDepartmentList.push({\r\n                name: item.name,\r\n                idValue: item.idValue,\r\n                id: i\r\n              });\r\n            });\r\n\r\n            let data1 = [];\r\n            this.$each(res.data.records, item => {\r\n              data.push({\r\n                name: item.name,\r\n                orgId: item.id\r\n              });\r\n            });\r\n            let obj;\r\n            var obj = {};\r\n            data.forEach(item => {\r\n              obj[item.orgId] = item.name;\r\n            });\r\n            this.alarmDetailcolumnData[2].displace = obj;\r\n          }\r\n        });\r\n    },\r\n    //切换部门\r\n    changeAlarmDepartment() {\r\n      for (let i = 0; i < this.alarmDepartmentList.length; i++) {\r\n        if (this.alarmDepartment == this.alarmDepartmentList[i].id) {\r\n          this.selectDepartment = this.alarmDepartmentList[i].idValue;\r\n          break;\r\n        }\r\n      }\r\n    },\r\n    //获得我关注的告警类型\r\n    getAttentionAlarm() {\r\n      this.$ajax\r\n        .get(\"rest/analysisData/alarmItem\", {\r\n          params: {\r\n            title: \"关注的告警\", //功能块标题，作为返回值的一部分返回，用于识别具体是哪一个功能块调用该URI\r\n            userIds: null, //用户ID，为空表示不作为查询条件，多个用逗号隔开，如\"1,2,...\"\r\n            alarmGroups: null, //告警分组ID，为空表示不作为查询条件，多个用逗号隔开，如\"1,2,...\"\r\n            receiveTypes: 1, //用户接收告警类型，1:弹窗；2：邮件；3：短信；4：微信，为空时表示不作为查询条件\r\n            isAlarmGroup: null, //是否返回告警分组\r\n            isReceiveType: true //是否返回用户接收告警类型\r\n          }\r\n        })\r\n        .then(res => {\r\n          if (res.data.status) {\r\n            for (let i = 0; i < res.data.records.length; i++) {\r\n              if (i < res.data.records.length) {\r\n                this.selectAttentionAlarm += res.data.records[i].id + \",\";\r\n              } else {\r\n                this.selectAttentionAlarm += res.data.records[i].id;\r\n              }\r\n            }\r\n          }\r\n        });\r\n    },\r\n    //切换我关注的告警\r\n    changeAttentionAlarm() {\r\n      if (this.attentionAlarm == 0) {\r\n        this.selectAlarmCode = \"\";\r\n      } else {\r\n        this.selectAlarmCode = this.selectAttentionAlarm;\r\n      }\r\n    },\r\n    //获取告警类型种类\r\n    getExceptionCountList() {\r\n      this.$ajax\r\n        .get(\"rest/analysisData/alarmGroup\", {\r\n          params: {\r\n            title: \"查询告警种类\" //功能块标题，作为返回值的一部分返回，用于识别具体是哪一个功能块调用该URI\r\n          }\r\n        })\r\n        .then(res => {\r\n          if (res.data.status) {\r\n            let data = [];\r\n            this.$each(res.data.records, item => {\r\n              data.push({\r\n                name: item.name,\r\n                idValue: item.id,\r\n                value: 0\r\n              });\r\n            });\r\n            this.exceptionCountList = data;\r\n            data = [{ name: \"全部\", idValue: \"\", value: 0 }].concat(data);\r\n            this.$each(data, (item, i) => {\r\n              this.alarmCategoryList.push({\r\n                name: item.name,\r\n                idValue: item.idValue,\r\n                id: i\r\n              });\r\n            });\r\n            this.selectAlarmCategory = this.alarmCategoryList[0].idValue;\r\n          }\r\n        });\r\n    },\r\n    //切换告警等级\r\n    changealArmLevel() {\r\n      switch (this.alarmLevel) {\r\n        case 0:\r\n          this.selectAlarmLevel = \"\";\r\n          break;\r\n        case 1:\r\n          this.selectAlarmLevel = \"1\";\r\n          break;\r\n        case 2:\r\n          this.selectAlarmLevel = \"2\";\r\n          break;\r\n        case 3:\r\n          this.selectAlarmLevel = \"3\";\r\n          break;\r\n        case 4:\r\n          this.selectAlarmLevel = \"4\";\r\n          break;\r\n      }\r\n    },\r\n    //切换告警类型\r\n    changeAlarmCategory() {\r\n      for (let i = 0; i < this.alarmCategoryList.length; i++) {\r\n        if (this.alarmCategory == this.alarmCategoryList[i].id) {\r\n          this.selectAlarmCategory = this.alarmCategoryList[i].idValue;\r\n          break;\r\n        }\r\n      }\r\n    },\r\n    //获取告警设备列表\r\n    getAlarmEquipment() {\r\n      this.$ajax\r\n        .get(\"rest/analysisData/equip\", {\r\n          params: {\r\n            title: \"查询设备\", //功能块标题，作为返回值的一部分返回，用于识别具体是哪一个功能块调用该URI\r\n            orgTypes: null, //部门类型，多个用逗号隔开，可为空，为空不作为查询条件\r\n            parentIds: null //上级部门ID，多个用逗号隔开，可为空，为空不作为查询条件\r\n          }\r\n        })\r\n        .then(res => {\r\n          if (res.data.status) {\r\n            let data = [];\r\n            this.$each(res.data.records, item => {\r\n              data.push({\r\n                name: item.name,\r\n                idValue: item.id\r\n              });\r\n            });\r\n            data = [{ name: \"全部\", idValue: \"\" }].concat(data);\r\n            this.$each(data, (item, i) => {\r\n              this.alarmEquipmentList.push({\r\n                name: item.name,\r\n                idValue: item.idValue,\r\n                id: i\r\n              });\r\n            });\r\n          }\r\n        });\r\n    },\r\n    //切换设备\r\n    changeAlarmEquipment() {\r\n      for (let i = 0; i < this.alarmEquipmentList.length; i++) {\r\n        if (this.alarmEquipment == this.alarmEquipmentList[i].id) {\r\n          this.selectAlarmEquipment = this.alarmEquipmentList[i].idValue;\r\n          break;\r\n        }\r\n      }\r\n    },\r\n    //切换确认告警\r\n    changeAlarmConfirm() {\r\n      switch (this.alarmConfirm) {\r\n        case 0:\r\n          this.selectAlarmConfirm = null;\r\n          break;\r\n        case 1:\r\n          this.selectAlarmConfirm = true;\r\n          break;\r\n        case 2:\r\n          this.selectAlarmConfirm = false;\r\n          break;\r\n      }\r\n    },\r\n    //告警信息详细清单\r\n    getAlarmDetailtable() {\r\n      this.$ajax\r\n        .get(\"rest/analysisData/alarmData\", {\r\n          params: {\r\n            title: \"告警详细信息\", // String,功能标题\r\n            userIds: null, // String,用户ID\r\n            alarmLevels: this.selectAlarmLevel, // String,告警级别\r\n            alarmGroups: this.selectAlarmCategory, // String,告警分组ID,告警类型\r\n            alarmCodes: this.selectAlarmCode, // String,告警项编码\r\n            isConfirm: this.selectAlarmConfirm, //\r\n            receiveTypes: null, // String,用户接收告警类型\r\n            orgIds: this.selectDepartment, // String,部门ID\r\n            equipIds: this.selectAlarmEquipment, // String,设备ID\r\n            productIds: null, // String,产品ID\r\n            alarmItems: null, // String,告警项ID\r\n            startTime: this.beginTime, // String,开始时间\r\n            endTime: this.finishTime, // String,结束时间\r\n            isCount: false, // Boolean,是否统计\r\n            countCycle: \"0\", // String,统计周期（1为小时，3为日，5为月，8为年）\r\n            groupBys: \"101001100\" // String,按什么统计或是否显示，111111111（[部门][级别][分类][编码][确认人][是否确认][时间][设备][产品]）\r\n          }\r\n        })\r\n        .then(res => {\r\n          if (res.data.status) {\r\n            this.alarmDetailtable = res.data.records;\r\n          }\r\n        });\r\n    },\r\n    detail(row) {\r\n      this.dialogVisible = true;\r\n      this.diaAlarmDetail = JSON.parse(JSON.stringify(row));\r\n      this.confirmOrNot =\r\n        this.diaAlarmDetail.isConfirm == 0 ? \"未确认\" : \"确认\";\r\n    },\r\n    //点击查询按钮\r\n    search() {\r\n      this.loadData();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.inintData();\r\n    this.loadData();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.alarmhistory-padb-10 {\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.alarmhistory-padb-10 > label {\r\n  padding-left: 10px;\r\n}\r\n.alarmhistory-padl-10 {\r\n  padding-left: 10px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/platform/running/alarmHistorySearch.vue?b0392fec","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.0@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".alarmhistory-padb-10[data-v-fcfc1e76]{padding-bottom:10px}.alarmhistory-padb-10>label[data-v-fcfc1e76],.alarmhistory-padl-10[data-v-fcfc1e76]{padding-left:10px}\", \"\", {\"version\":3,\"sources\":[\"C:/vscode/ysems_webapp/src/views/platform/running/alarmHistorySearch.vue\"],\"names\":[],\"mappings\":\"AACA,uCACE,mBAAqB,CACtB,AAID,oFACE,iBAAmB,CACpB\",\"file\":\"alarmHistorySearch.vue\",\"sourcesContent\":[\"\\n.alarmhistory-padb-10[data-v-fcfc1e76] {\\r\\n  padding-bottom: 10px;\\n}\\n.alarmhistory-padb-10 > label[data-v-fcfc1e76] {\\r\\n  padding-left: 10px;\\n}\\n.alarmhistory-padl-10[data-v-fcfc1e76] {\\r\\n  padding-left: 10px;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.0@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@13.0.4@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-fcfc1e76\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/platform/running/alarmHistorySearch.vue\n// module id = tCLC\n// module chunks = 29","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fcfc1e76\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./alarmHistorySearch.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./alarmHistorySearch.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fcfc1e76\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./alarmHistorySearch.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fcfc1e76\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/platform/running/alarmHistorySearch.vue\n// module id = wC8c\n// module chunks = 29"],"sourceRoot":""}