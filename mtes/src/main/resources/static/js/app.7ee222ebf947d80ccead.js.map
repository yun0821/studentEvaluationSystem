{"version":3,"sources":["webpack:///static/js/app.7ee222ebf947d80ccead.js","webpack:///src/components/base/tree.vue","webpack:///./src/components/base/fileUpload.vue","webpack:///./src/components/base/selectTree.vue?c804","webpack:///./src/components/base/dialog.vue?c33b","webpack:///src/components/analysis/gaugeChart.vue","webpack:///src/components/base/dialog.vue","webpack:///./src/components/analysis/mixins/resize.js","webpack:///src/components/base/TreeGrid.vue","webpack:///src/components/pageLayout/equalHeightPanel.vue","webpack:///src/components/analysis/radioBlock.vue","webpack:///./src/components/analysis/timeSelect.vue?5eeb","webpack:///./src/components/base/table.vue?6106","webpack:///./src/components/analysis/timeRangeSelect.vue?34fb","webpack:///./src/components/analysis/radioBlock.vue?b885","webpack:///src/components/base/page.vue","webpack:///src/components/base/select.vue","webpack:///src/components/base/dateTime.vue","webpack:///./src/components/base/vLoading/index.js","webpack:///./src/store/targetConstant.js","webpack:///./src/util/uuId.js","webpack:///./src/components/base/vLoading/vLoading.vue?c6e4","webpack:///./src/components/base/table.vue?481d","webpack:///./src/components/analysis/analysis.vue?5c20","webpack:///./src/components/pageLayout/manage.vue?405b","webpack:///src/components/analysis/pieChart.vue","webpack:///./src/components/analysis/radioBlock.vue?6864","webpack:///src/components/analysis/timeSelect.vue","webpack:///./src/components/pageLayout/manage.vue?18b1","webpack:///./static/scripts/utf8-jsp/ueditor.all.js","webpack:///./src/components/base/tree.vue?f394","webpack:///./src/util/dataTranslate/index.js","webpack:///./src/store/index.js","webpack:///./src/util/http.js","webpack:///./src/components/base/select.vue?bad5","webpack:///src/components/analysis/lineChart.vue","webpack:///./src/App.vue","webpack:///./src/components/base/echarts.vue?f0d7","webpack:///./src/components/analysis/gaugeChart.vue","webpack:///./src/components/base/tree.vue?9f60","webpack:///./src/components/pageLayout/panel.vue?5ec0","webpack:///./src/main.js","webpack:///./src/components/analysis/radioSelect.vue?9016","webpack:///./src/components/base/TreeGrid.vue?2cea","webpack:///./src/components/analysis/lineChart.vue","webpack:///src/components/base/selectTree.vue","webpack:///./src/components/analysis/mixins/echart-theme.js","webpack:///src/components/base/myTransfer.vue","webpack:///src/components/analysis/radioSelect.vue","webpack:///./src/components/base/selectTree.vue?85a4","webpack:///./src/components/base/TreeGrid.vue?acf5","webpack:///src/components/base/table.vue","webpack:///./src/components/analysis/timeRangeSelect.vue?1678","webpack:///./src/components/pageLayout/equalHeightPanel.vue?5457","webpack:///./src/store/getters.js","webpack:///./src/components/analysis/lineChart.vue?59e5","webpack:///./src/components/base/page.vue?3256","webpack:///./src/components/analysis/gaugeChart.vue?5c94","webpack:///./src/router/index.js","webpack:///./src/components/analysis/radioSelect.vue?8478","webpack:///./src/components/analysis/timeSelect.vue?1dec","webpack:///src/App.vue","webpack:///./src/util/index.js","webpack:///./src/components/base/dialog.vue?9711","webpack:///./src/util/dataTranslate/dataTranslate.js","webpack:///./src/util/vueutil.js","webpack:///./static/scripts/utf8-jsp/ueditor.parse.min.js","webpack:///./src/components/base/dateTime.vue?9e10","webpack:///src/components/pageLayout/panel.vue","webpack:///src/components/base/echarts.vue","webpack:///./src/store/app.js","webpack:///./src/components/analysis/pieChart.vue","webpack:///./src/components/pageLayout/panel.vue?5bb8","webpack:///./src/components/base/fileUpload.vue?e14e","webpack:///./src/App.vue?a5fa","webpack:///./src/components/analysis/pieChart.vue?1101","webpack:///./src/components/base/page.vue?11d8","webpack:///./src/components/base/vLoading/vLoading.vue?be9b","webpack:///src/components/analysis/timeRangeSelect.vue","webpack:///./src/components/base/select.vue","webpack:///./static/scripts/utf8-jsp/lang/zh-cn/zh-cn.js","webpack:///./static/scripts/utf8-jsp/ueditor.config.js","webpack:///src/components/base/fileUpload.vue","webpack:///./src/components/analysis/analysis.vue?f3dd","webpack:///./src/components/pageLayout/equalHeightPanel.vue?f64e","webpack:///./src/components/base/echarts.vue","webpack:///src/components/analysis/analysis.vue","webpack:///./src/components/base/dateTime.vue?31cc","webpack:///./src/util/validate.js","webpack:///./src/store/store.js","webpack:///src/components/base/vLoading/vLoading.vue","webpack:///./src/components/base/myTransfer.vue?770b","webpack:///./src/util/util.js","webpack:///./src/components/base/myTransfer.vue?dd02"],"names":["webpackJsonp","+vXQ","module","__webpack_exports__","__webpack_require__","props","value","type","String","Number","rend","Function","load","default","setTreeHeight","Boolean","minusH","showCheckbox","expandOnClickNode","Object","children","label","valueKey","defaultExpand","filterNodeMethod","defaultKeys","obj","nodeKey","expandedKeys","checkedKeys","checkStrictly","defalut","dataLists","Array","data","height","watch","val","this","methods","filter","$refs","noLoadTree","setData","handleNodeClick","node","component","msg","$emit","checkChange","nodeCheckd","childCheck","_this","split","item","push","parseInt","join","currentChange","nodeExpand","setHeight","me","timer","document","body","clientHeight","window","onresize","clearTimeout","setTimeout","loadNode","resolve","tier","level","findParent","parent","i","childNodes","length","tempObj","renderContent","h","_ref","store","mounted","/GgC","exports","/hdX","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_fileUpload_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_3d87207a_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_fileUpload_vue__","normalizeComponent","__vue_styles__","Component","0","0NkV","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_selectTree_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_35017560_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_selectTree_vue__","0jMR","0qHx","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","expression","attrs","title","visible","visibleDialog","width","size","top","modal","modal-append-to-body","modalAppendToBody","lock-scroll","lockScroll","custom-class","customClass","close-on-click-modal","closeOnClickModal","close-on-press-escape","closeOnPressEscape","show-close","before-close","handleClose","on","update:visible","$event","close","handClose","open","handOpen","staticClass","aria-label","click","clickBtn","_e","_v","_t","$slots","slot","staticRenderFns","esExports","0t37","__WEBPACK_IMPORTED_MODULE_0_echarts__","__WEBPACK_IMPORTED_MODULE_0_echarts___default","n","__WEBPACK_IMPORTED_MODULE_1__mixins_resize__","mixins","className","id","fixNum","max","min","unit","chart","xAxis","beforeDestroy","dispose","initChart","minValue","maxValue","series","a","init","getElementById","setOption","text","tooltip","formatter","params","ticket","callback","seriesName","toFixed","toolbox","show","feature","restore","saveAsImage","z","splitNumber","radius","axisLine","lineStyle","axisTick","color","splitLine","axisLabel","fontWeight","fontSize","fontStyle","detail","borderRadius","backgroundColor","borderColor","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","borderWidth","textBorderColor","textBorderWidth","textShadowBlur","textShadowColor","textShadowOffsetX","textShadowOffsetY","fontFamily","padding","rich","1","11TP","showClose","beforeCloseFn","done","$nextTick","19xR","__WEBPACK_IMPORTED_MODULE_0__util__","__WEBPACK_IMPORTED_MODULE_1_echarts__","__WEBPACK_IMPORTED_MODULE_1_echarts___default","__WEBPACK_IMPORTED_MODULE_2__echart_theme_js__","registerTheme","__resizeHanlder","resize","addEventListener","removeEventListener","2","2MN3","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default","__WEBPACK_IMPORTED_MODULE_1__util_dataTranslate__","rowClassName","treeMaxHeight","sort","showSelection","treeStructure","columns","dataSource","requestUrl","treeType","defaultExpandAll","isLoading","treeGridHeight","dataTmp","defaultSort","prop","computed","MSDataTransfer","DataTransfer","treeToArray","openLoading","closeLoading","loadTree","arr","key","forEach","index","splice","showTr","element","row","_parent","_expanded","_show","toggle","trIndex","record","undefined","spaceIconShow","toggleIconShow","rowClick","event","target","outerHTML","indexOf","baseTreeGrid","toggleRowSelection","selectionChange","selection","deleteModule","editModule","va1","newV","selectCheck","customDisplay","scope","temp","displace","format","e","console","warn","o","_level","2lkU","3","3tlQ","leftWidth","rightWidth","padValue","setPad","padV","map","3tvm","4jYn","lists","clickHandle","5iQ3","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_timeSelect_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_7785a1e4_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_timeSelect_vue__","6lNP","7oBm","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_table_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_573cf598_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_table_vue__","87l7","change","changeHandle","model","$$v","_l","_s","riadoList","toString","timeName","is-picker-end","isPickerEnd","changeInput","timeSelected","8vLw","style","class","active","disabled","9+Mb","page","thisPage","totalPage","pageSizes","pageRange","isShowPageSizes","pageRangeN","handleCurrentChange","pageSizeChange","changeValue","showPageSizes","selectPage","focus","isNaN","oldV","$el","getElementsByClassName","9Ig9","options","nowIndex","selectChange","pre","next","9j5w","eLabel","rangeSeparator","startPlaceholder","pickerOptions","disabledDate","time","getTime","stime","Date","etime","year","month","week","date","daterange","datetime","datetimerange","formatTime","handler","sTime","$moment","eTime","deep","handleStartTime","handleEndTime","changeFormat","replace","start","end","9n10","9wPN","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_1_vue__","LoadingConstructor","extend","install","Vue","directive","bind","el","binding","loading","createElement","getAttribute","fullscreen","modifiers","instance","loadingStyle","toggleLoading","update","setText","oldValue","unbind","domInserted","removeChild","parentNode","nextTick","originalPosition","position","originalOverflow","overflow","insertDom","domVisible","$on","property","appendChild","AeYD","_targetCycle","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default","targetConstant","state","targetCycle","hour","day","targetType","harvest","energyConsum","unitProductEnergyConsum","saveEnergy","output","unitProductEnergyCost","energyCost","energyPrice","energyRate","targetContentType","energy","compreEnergyConsum","electric","targetSubordinate","workGroup","equip","product","orgId","enterprise","equipRunStatus","stop","standby","run","mutations","setType","payload","actions","B3kq","UUID","createUUID","prototype","valueOf","dg","dc","t","getIntegerBits","rand","base16","returnBase","quadArray","quadString","substring","Math","floor","number","base","toUpperCase","random","BAfu","DcQ7","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_vLoading_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_e5682b8e_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_vLoading_vue__","Dfpj","lock","ref","staticStyle","show-summary","showSummary","summary-method","summaryMethod","border","max-height","maxHeight","highlight-current-row","showRadio","select","select-all","selectAll","row-click","row-dblclick","rowDblclick","selection-change","header-align","align","hidden","class-name","subStr","min-width","sortable","show-overflow-tooltip","showOverflowTooltip","itemChild","scopedSlots","_u","fn","scope2","trigger","placement","popover","isClass","DnpW","EfAQ","__WEBPACK_IMPORTED_MODULE_0__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_7813e8c3_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_manage_vue__","EhFW","selectedNum","legendDisplace","showTitle","innerHTML","chartNoData","legendData","seriesData","selected","$each","trueName","textStyle","x","legend","orient","right","bottom","center","itemStyle","emphasis","ErAH","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_radioBlock_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_5d9af6e6_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_radioBlock_vue__","FNMr","FZQA","__WEBPACK_IMPORTED_MODULE_0__util_util__","timeType","showTime","visibleType","5","8","dateType","lastTime","changeTime","nextTime","identify","GP6Y","GvJL","getListener","force","allListeners","toLowerCase","__allListeners","getDomNode","ltr","startFromChild","guard","tmpNode","tagName","UEDITOR_CONFIG","baidu","UE","editor","plugins","commands","instants","I18N","_customizeUI","version","dom","browser","agent","navigator","userAgent","opera","ie","test","webkit","mac","quirks","compatMode","gecko","v1","match","v2","ie11Compat","documentMode","ie9Compat","ie8","ie8Compat","ie7Compat","ie6Compat","ie9above","ie9below","ie11above","ie11below","geckoRelease","chrome","RegExp","safari","parseFloat","isCompatible","mobile","air","utils","each","iterator","context","l","call","hasOwnProperty","makeInstance","noop","s","b","k","extend2","arguments","inherits","subClass","superClass","oldP","newP","constructor","apply","defer","delay","exclusion","timerID","array","isNumber","v","removeItem","trim","str","listToMap","list","isArray","ci","unhtml","reg","<","&","\"",">","'","unhtmlForUrl","html","m","&lt;","&amp;","&quot;","&gt;","&#39;","&nbsp;","cssStyleToDomStyle","cache","float","cssFloat","styleFloat","cssName","charAt","loadFile","getItem","doc","tmpList","url","src","href","ready","funs","p","write","tag","setAttribute","onload","onreadystatechange","readyState","fi","pop","onerror","Error","getElementsByTagName","isEmptyObject","isString","fixColor","optCss","opt","left","r","margin","clone","source","tmp","transUnitToPx","u","round","domReady","doReady","isReady","fnArr","onready","win","documentElement","doScroll","error","callee","attachEvent","cssRule","indexList","nodeType","styleSheets","cssText","sheetStyle","createStyleSheet","compareFn","item1","item2","localeCompare","len","j","serializeParam","json","strArr","encodeURIComponent","formatUrl","isCrossDomainUrl","protocol","location","hostname","port","clearEmptyAttrs","str2json","JSON","parse","json2str","encodeString","c","escapeMap","charCodeAt","encodeArray","preComma","result","pad","encodeDate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","stringify","\b","\t","\n","\f","\r","\\","isFinite","isDate","encode","EventBase","addListener","types","listener","ti","off","removeListener","fireEvent","listeners","dtd","_","X","A","isindex","fieldset","B","input","button","textarea","C","D","iframe","E","hr","ul","menu","div","blockquote","noscript","table","address","dir","h5","dl","h4","noframes","h6","ol","h1","h3","h2","F","ins","del","script","G","acronym","bdo","var","#","abbr","code","br","cite","kbd","strike","tt","strong","q","samp","em","dfn","span","H","sub","img","embed","object","sup","basefont","applet","font","big","small","I","J","K","form","L","M","tr","N","O","param","P","Q","li","R","S","link","meta","T","U","head","V","block","empty","area","col","command","dialog","keygen","track","wbr","$nonBodyContent","$block","$inline","$inlineWithA","$body","$cdata","$empty","$nonChild","$listItem","dd","dt","$list","$isNotEmpty","$removeEmpty","$removeEmptyBlock","$tableContent","caption","colgroup","tbody","td","tfoot","th","thead","$notTransContent","option","optgroup","attrFix","tabindex","readonly","for","maxlength","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","styleBlock","domUtils","NODE_ELEMENT","NODE_DOCUMENT","NODE_TEXT","NODE_COMMENT","NODE_DOCUMENT_FRAGMENT","POSITION_IDENTICAL","POSITION_DISCONNECTED","POSITION_FOLLOWING","POSITION_PRECEDING","POSITION_IS_CONTAINED","POSITION_CONTAINS","fillChar","keys","46","16","17","18","37","38","39","40","13","getPosition","nodeA","nodeB","parentsA","parentsB","reverse","nextSibling","getNodeIndex","ignoreTextNode","preNode","previousSibling","inDoc","filterFn","includeSelf","isBody","findParentByTagName","tagNames","excludeFn","findParents","closerFirst","parents","insertAfter","newNode","insertBefore","remove","keepChildren","child","hasChildNodes","firstChild","getNextDomNode","getPreDomNode","isBookmarkNode","getWindow","ownerDocument","defaultView","parentWindow","getCommonAncestor","clearEmptySibling","ignoreNext","ignorePre","clear","isEmptyInlineElement","nodeValue","offset","createTextNode","retval","splitText","isWhitespace","getXY","y","offsetParent","offsetTop","offsetLeft","_d","els","evt","srcElement","un","detachEvent","isSameElement","thisAttrs","attributes","otherAttrs","attrA","attrB","al","bl","nodeName","specified","isSameStyle","getNamedItem","styleA","styleB","isBlockElm","getComputedStyle","breakParent","leftNodes","rightNodes","parentClone","cloneNode","trimWhiteTextNode","mergeChild","hasClass","ni","mergeToParent","textDecoration","mergeSibling","merge","rtl","lastChild","unSelectable","onselectstart","onclick","onkeyup","onkeydown","unselectable","all","MozUserSelect","webkitUserSelect","msUserSelect","KhtmlUserSelect","removeAttributes","attrNames","getAttributeNode","removeAttributeNode","removeAttribute","setAttributes","attr","styleName","offsetHeight","getStyle","getPropertyValue","currentStyle","removeClasses","elm","classNames","cls","addClass","isRegExp","preventDefault","returnValue","removeStyle","removeProperty","setStyle","setStyles","styles","removeDirtyAttr","nodes","getChildCount","count","first","isEmptyNode","isBr","clearSelectedArr","scrollToView","winHeight","mode","clientWidth","currentScroll","pageXOffset","pageYOffset","scrollLeft","scrollTop","scrollTo","isFillChar","isInStart","isStartInblock","range","tmpRange","cloneRange","flag","startContainer","startOffset","setStartBefore","setStart","collapse","isEmptyBlock","setViewportOffset","rect","getBoundingClientRect","fillNode","moveChild","hasNoAttributes","isCustomeNode","isTagNode","filterNodeList","nodelist","forAll","results","isFunction","isInNodeEndBoundary","rng","isBoundaryNode","fillHtml","fillCharReg","updateCollapse","collapsed","endContainer","endOffset","selectOneNode","setEndPoint","toStart","execContentsAction","action","tmpStart","tmpEnd","frag","createDocumentFragment","substringData","deleteData","current","currentLevel","startParents","endParents","si","slice","ei","removeFillData","excludeNode","fillData","contains","guid","Range","cloneContents","deleteContents","txt","extractContents","setEnd","setStartAfter","setEndAfter","setEndBefore","setStartAtFirst","setStartAtLast","setEndAtFirst","setEndAtLast","selectNode","selectNodeContents","shrinkBoundary","ignoreEnd","check","trimBoundary","txtToElmBoundary","textNode","ignoreCollapsed","adjust","container","insertNode","nextNode","setCursor","toEnd","noFillData","createBookmark","serialize","same","endNode","startNode","moveToBookmark","bookmark","enlarge","toBlock","stopFn","enlargeToBlockElm","adjustmentBoundary","applyInlineStyle","aNode","removeInlineStyle","getClosedNode","textRange","nativeRange","createControlRange","addElement","createTextRange","moveToElementText","moveStart","tmpText","nativeRangeEnd","notInsertFillData","txtNode","sel","getSelection","removeAllRanges","createRange","addRange","inFillChar","createAddress","ignoreTxt","getAddress","isStart","addrs","firstIndex","addr","startAddress","endAddress","concat","moveToAddress","getNode","equals","traversal","doFn","getBoundaryInformation","getIndex","duplicate","parentElement","distance","siblings","testRange","startIndex","endIndex","compareEndPoints","transformIERangeToRange","ieRange","bi","_getIERange","getNative","Selection","frameElement","_bakIERange","getIERange","ex","rangeInBody","txtRange","_cachedRange","getRange","_cachedStartElement","getStart","_cachedStartElementPath","getStartElementPath","isFocus","rangeCount","optimze","firstRange","getRangeAt","lastRange","_bakRange","getText","nativeSel","clearRange","setValue","tis","hasContents","allHtmlEnabled","getAllHtml","getContent","checkCurLang","lang","langReadied","langIsReady","_selectionChangeTimer","uid","Editor","shortcutkeys","inputRules","outputRules","setOpt","defaultOptions","loadServerConfig","langPath","plugin","registerCommand","getOpt","destroy","display","offsetWidth","delEditor","getStyleValue","initialFrameWidth","minFrameWidth","initialFrameHeight","minFrameHeight","zIndex","iframeCssUrl","initialStyle","customDomain","domain","_setup","contentEditable","spellcheck","geckoSel","_initEvents","autoSyncData","initialContent","autoClearinitialContent","oldExecCommand","execCommand","_setDefaultContent","setContent","focusInEnd","_selectionChange","ui","setFullScreen","_bindshortcutKeys","_bakNativeRange","setInterval","isShow","setHide","setDisabled","sync","formId","notSetHeight","addshortcutkey","cmd","keyCode","which","$1","ctrlKey","metaKey","$2","$3","queryCommandState","notSetCursor","ignoreBlank","root","htmlparser","filterOutputRule","toHtml","headHtml","headHtmlForIE9","charset","getPlainTxt","getContentTxt","isAppendTo","notFireSelectionchange","filterInputRule","enterTag","blur","nativeRng","_proxyDomEvent","stopPropagation","shiftKey","altKey","mouseX","mouseY","hackForMouseUp","clientX","clientY","moveToPoint","bakGetIERange","_callCmdFn","fnName","args","cmdFn","cmdName","notNeedUndo","__hasEnterExecCommand","ignoreContentChange","_ignoreContentChange","queryCommandValue","tags","cn","reset","setEnabled","lastBk","bkqueryCommandState","bkqueryCommandValue","enable","except","disable","cont","setShow","hide","getLang","path","getContentLength","ingoneHtml","addInputRule","rule","addOutputRule","getActionUrl","actionName","imageUrl","serverUrl","_url","UEDITOR_HOME_URL","autoClearEmptyNode","imagePopup","theme","themePath","scaleEnabled","tableNativeEditInFF","fileNameFormat","showErrorMsg","configUrl","isJsonp","_serverConfigLoaded","ajax","request","method","dataType","onsuccess","config","eval","responseText","isServerConfigLoaded","afterConfigReady","readyHandler","doAjax","ajaxOptions","xhr","creatAjaxRequest","timeIsOut","defaultAjaxOptions","timeout","async","ajaxOpts","submitStr","abort","status","setRequestHeader","send","doJsonp","opts","getCallBack","onTimeOut","successhandler","exception","oncomplete","scr","callbackFnName","matches","callbackField","timeOut","exec","search","queryStr","fnStr","ActiveXObject","getJSONP","filterWord","isWordDocument","transUnit","filterPasteWord","marks","parts","insertLine","begin","breakChar","insertIndent","indentChar","nodeToHtml","isText","isElement","isComment","notTransTagName","attrhtml","notTransAttrs","getNodeById","getAttr","getNodesByTagName","nodeTraversal","uNode","_src","_href","cdata_data","createText","noTrans","htmlstr","tmpRoot","innerText","textStr","getData","replaceChild","cj","attrName","setAttr","attrVal","isObject","cssStyle","needChild","htmlattr","needParentTag","needParentNode","hasParent","tmpParent","re_attr","re_tag","allowEmptyTags","currentIndex","nextIndex","currentParent","lastIndex","filterNode","rules","tmpVal","tmpAttrs","tmpCssStyle","_plugins","register","pluginName","oldOptionName","afterDisabled","optionName","execFn","_export","eventName","execName","exeFn","keymap","Backspace","Tab","Enter","Shift","Control","Alt","CapsLock","Esc","Spacebar","PageUp","PageDown","End","Home","Left","Up","Right","Down","Insert","Del","NumLock","Cmd","=","-","LocalStorage","storage","localStorage","addBehavior","LOCAL_FILE","setItem","save","saveLocalData","getLocalData","ROOTKEY","setPreferences","getPreferences","removePreferences","allowDivTransToP","disabledTableInTable","tdParent","cdata_tag","_ue_custom_node_","last","tmpNodes","notNeedFilter","filterRules","hadBreak","tmpLi","autoHeightEnabled","isLine","notEmpty","highlightCont","removeNotAttributeSpan","autotype","pasteFilter","clearFontSize","clearFontFamily","mergeEmptyline","removeEmptyline","remainTag","indent","textIndent","indentValue","textAlign","removeClass","remainClass","imageBlockLine","pN","pNode","removeEmptyNode","removeTagNames","tobdc","ToDBC","bdc2sb","DBC2SB","fromCharCode","txtstring","autotypeset","selectTdClass","pagebreak","anchorclass","cookieOpt","shortcutkey","autosubmit","submit","stringToObj","substr","setBackground","cssRuleId","isSetColored","orgFn","bindEvents","su","imagePath","bgObj","background-color","background-image","background-repeat","background-position","aftersetcontent","inputRule","outputRule","background","floatStyle","unhtmlData","imgCi","alt","hspace","vspace","shift","defaultValue","justify","doJustify","bookmark2","common","text-align","mergeWithParent","needSetChild","bk","mergesibling","fonts","forecolor","backcolor","fontsize","fontfamily","underline","strikethrough","fontborder","needCmd","4","6","7","spanParent","styleVal","optimize","doLink","rngClone","textValue","highlight","ps","pe","as","deleteIframe","_iframe","removeFormatTags","removeFormatAttributes","notIncludeA","isRedundantSpan","tagReg","bookmark1","getObj","startBlock","endBlock","blockquotes","doEnd","childs","bkEnd","curNode","print","w","d","notExchange","doParagraph","sourceCmdName","para","doDirectionality","forward","hh","ii","ss","yyyy","yy","mm","rowspacingtop","rowspacingbottom","lineheight","as3","bash","cpp","css","cf","c#","delphi","diff","erlang","groovy","java","jfx","js","pl","php","plain","python","ruby","scala","sql","vb","xml","filterTxtRules","brs","notNeedCodeQuery","help","undo","redo","searchreplace","preview","insertparagraph","elementpath","insertcode","inserthtml","selectall","fillchar","evtName","anchorname","anchor","20","isHr","notBreakTags","pageBreakTag","noshade","images","wordimage","urlList","word_img","compareAddr","indexA","indexB","compareRangeAddress","rngAddrA","rngAddrB","UndoManager","hasUndo","hasRedo","content","scene","orgState","noNeedFillCharTags","clearKey","getScene","rngAddress","notCompareRange","saveSceneTimer","currentScene","lastScene","maxUndoCount","keycont","lastKeyCode","maxInputCount","undoManger","exclude","inputType","Undo","Redo","isCollapsed","interalTimer","clearInterval","stopCmdUndo","startCmdUndo","initZeroClipboard","ZeroClipboard","debug","swfPath","client","zeroclipboard","textContent","setHtml","copy","alert","getClipboardData","pastebin","pi","pastebins","querySelectorAll","getPureHtml","atr","di","divs","tmpP","metas","dirtyNodes","spans","txtContent","htmlContent","retainOnlyLabelPasted","plainType","tmpAddress","pasteplain","transP","removeNode","$","listToArray","adjustListStyle","ignore","nodeStyleType","styleIndex","listStyle","setListStyle","paddingLeft","customStyle","adjustList","ignoreEmpty","nextList","preList","getLi","TD","PRE","BLOCKQUOTE","cn1","cn2","num","num1","num2","dash","dot","autoTransWordToList","insertorderedlist","decimal","lower-alpha","lower-roman","upper-alpha","upper-roman","insertunorderedlist","circle","disc","square","listDefaultPaddingLeft","listiconpath","maxListLevel","disablePInList","OL","UL","liiconpath","customCss","pn","newChildrens","lastNode","checkListType","unorderlisttype","orderlisttype","cacheNode","preventAndSave","findList","parentList","nextLi","checkLevel","levelNum","closeList","parentLi","startParent","endParent","bko","modifyStart","modifyEnd","nodeStyle","tmpFrag","tmpfrag","hasBlock","tmpDiv","tmpDivs","sourceEditors","holder","setSelectionRange","codemirror","codeEditor","CodeMirror","tabMode","lineNumbers","lineWrapping","getWrapperElement","getScrollerElement","refresh","getCodeMirror","getValue","createSourceEditor","sourceEditor","orgSetContent","sourceMode","sourceEditorFirst","bakCssText","oldGetContent","bakAddress","oldQueryCommandState","codeMirrorJsUrl","rel","codeMirrorCssUrl","hTag","doSave","startTd","endTd","excludeTagNameForTabKey","tabSize","tabNode","autoClearTagName","Scale","resizer","cover","prePos","startPos","elementUpdated","dragId","hands","getDom","initStyle","initEvents","isDraging","_eventHandler","hand","proxy","updateContainerStyle","updateTargetElement","attachTo","_validScaledProp","ele","wrap","hideCover","showCover","editorPos","iframePos","targetObj","imgPos","borderLeftWidth","borderTopWidth","imageScale","imageScaleEnabled","_keyDownHandler","_mouseDownHandler","keydown","charCode","checkIsCludeLink","keyCodes","32","adjustHeight","isFullscreen","currentHeight","lastHeight","bakOverflow","f","enableAutoHeight","overflowY","disableAutoHeight","lastScrollY","onscroll","scrollY","checkHasUI","autofloatMsg","fixIE6FixedPos","docStyle","backgroundImage","backgroundAttachment","setFloating","toobarBoxPos","toolbarBox","origalFloat","origalLeft","placeHolder","LteIE6","orgTop","topOffset","unsetFloating","updateFloating","rect3","toolbarTopOffset","optsAutoFloatEnabled","autoFloatEnabled","uiUtils","defer_updateFloating","getClientRect","enabled","creatInsertStr","classname","ext","lastIndexOf","switchImgAndVideo","img2video","videoObjs","cl","vi","UETable","indexTable","selectedTds","cellsRange","removeSelectedClass","cells","cell","addSelectedClass","getWidth","getTableCellAlignState","tempStatus","isSame","cellNode","currentState","getTableItemsByRange","getUETableBySelected","ueTable","getDefaultValue","tableBorder","tdPadding","tdBorder","tmpValue","borderMap","thin","medium","thick","insertRow","insertCell","getUETable","tdOrTable","cloneCell","ignoreMerge","keepPro","tmpCell","rowSpan","colSpan","borderLeftStyle","borderTopStyle","borderLeftColor","borderRightColor","borderRightWidth","borderTopColor","borderBottomColor","borderBottomWidth","getMaxRows","rows","maxLen","currentMax","getMaxCols","cellRows","cellsNum","getCellColIndex","getHSideCell","previewRowIndex","previewColIndex","cellInfo","getCellInfo","beginColIndex","colIndex","endColIndex","colsNum","beginRowIndex","rowIndex","getCell","cellIndex","getTabNextCell","preRowIndex","nextCell","getVSideCell","ignoreRange","nextRowIndex","nextColIndex","endRowIndex","rowsNum","getSameEndPosCells","xOrY","returns","setCellContent","getSameStartPosXCells","dNum","tds","selectTds","startInfo","endInfo","rowInfo","numCols","deleteCell","getCellsRange","cellA","cellB","checkRange","tmpBeginRowIndex","tmpBeginColIndex","tmpEndRowIndex","tmpEndColIndex","cellAInfo","cellBInfo","getCells","clearSelected","tdHash","returnTds","setSelected","isFullRow","isFullCol","ths","getNextCell","getPreviewCell","moveContent","cellTo","cellFrom","mergeRight","rightColIndex","rightCellInfo","rightCell","mergeDown","downRowIndex","downCellInfo","downCell","mergeRange","leftTopCell","info","deleteRow","curIndex","sourceCell","replaceTdToTh","tableRow","isInsertTitle","infoRow","insertCellIndex","nextRow","preMerged","getPreviewMergedCellsNum","deleteTds","cacheMap","tmpRowIndex","tmpCellIndex","mergeTds","insertCol","preCell","backWidth","isInsertTitleCol","updateWidth","tmpWidth","deleteCol","tableRows","backTableWidth","backTdWidth","splitToCells","splitToRows","splitToCols","endRow","indexRow","endCol","isLastCell","getLastCell","cols","selectRow","selectTable","repeat","colorList","colors","removeBackground","resetTdWidth","getTableWidth","tdsWidths","needIEHack","getSelectedArr","ut","UT","defaultCols","numRows","defaultRows","tdvalign","firstParentBlock","tableWidth","tdWidth","valign","firstRow","tableItems","maxRowNum","newCell","maxColNum","averageWidth","tb","sumWidth","tbAttr","ceil","averageHeight","rowNum","sumHeight","tdpadding","captionHeight","thHeight","captionArr","thArr","trs","verticalAlign","vAlign","activeMenuCell","bkColor","interlaced","classList","borderStyle","showError","removeStyleSize","replaceToProperty","getParentTdOrTh","mouseCoords","pageX","pageY","clientLeft","clientTop","mouseMoveEvent","isEditorDisabled","pos","isInResizeBuffer","abs","userActionStatus","offsetOfTableCell","clearTableDragTimer","singleClickState","tableBorderDrag","onDrag","dragTd","toggleDraggableState","dragLine","getPermissionX","getPermissionY","getRelation","inTableSide","cursor","cursorpath","toggleDragButton","createDragButton","dragOver","dragButtonTimer","dragButton","doClick","doDblClick","onmouseover","onmouseout","capHeight","preTd","nextTd","cellMinWidth","mousePosY","draggable","mousePos","mousedown","hideDragLine","getDragLine","showDragLineAt","onBorder","elePos","cellBorderWidth","mouseDownEvent","getTargetTd","tableClickHander","tableDbclickHandler","getCellsByMoveBorder","extractArray","oldWidth","newWidth","changeable","getTabcellSpace","borderActionHandler","mouseOverEvent","reconstruct","tableDragTimer","dblclickTime","originArr","newObj","mouseUpEvent","tableResizeTimer","dragTdPos","dragLinePos","changeColWidth","changeRowHeight","tar","currentTd","setCellHeight","backHeight","lineHight","tmpHeight","correctChangeValue","cellGroup","isContainMergeCell","borderCells","tabRow","currIndex","tabCell","relatedCell","getTableCellWidth","direction","curCell","getTableCellOffset","tab","offsetVal","prev","tabcellSpace","trow","tabcell","mirror","paddingSpace","tmpTabWidth","contenteditable","onresizestart","ondragstart","line","tablePos","cellPos","switchBorderColor","tableArr","cellWidth","cellHeight","orgGetText","tableDragable","deletetable","inserttable","cellvalign","insertcaption","deletecaption","inserttitle","deletetitle","mergeright","mergedown","mergecells","insertrow","insertrownext","deleterow","insertcol","insertcolnext","deletecol","splittocells","splittorows","splittocols","adaptbytext","adaptbywindow","adaptbycustomer","insertparagraphbeforetable","averagedistributecol","averagedistributerow","tableCopyList","cloneTd","tables","wordBreak","onmousemove","endTdCol","endTdRow","currentRowIndex","ua","notCtrlKey","ratio","backWidths","datatat","cmdFun","lastState","lastValue","sortTable","sortByCellIndex","trArray","lastRowIndex","Fn","reversecurrent","td1","td2","orderbyasc","value1","value2","reversebyasc","orderbynum","reversebynum","tr1","tr2","fragment","items","contextMenu","cleardoc","confirm","confirmclear","unlink","group","paragraph","icon","subMenu","justifyleft","justifyright","justifycenter","justifyjustify","inserttitlecol","deletetitlecol","averageDiseRow","averageDisCol","edittd","getDialog","edittable","setbordervisible","tablesort","enablesort","disablesort","borderbk","setcolor","unsetcolor","setbackground","unsetbackground","redandblue","threecolorgradient","aligntd","aligntable","tableleft","tablecenter","tableright","insertparagraphbefore","insertparagraphafter","getViewportOffsetByEvent","contextItems","subItem","query","Menu","showAt","clip","shortcutMenu","customEvt","screenX","screenY","ShortCutMenu","isHidden","basestyles","bold","italic","subscript","superscript","Bold","Italic","Underline","elementPathEnabled","names","addList","imgT","findTextInString","searchStr","casesensitive","findTextBlockElm","methodName","_blockElm","findNTextInBlockElm","currentNode","currentNodeLength","searchReplace","startBlockNode","rngText","replaceStr","replaceText","rngStart","rngEnd","customstyle","tmpObj","catchRemoteImageEnable","catchremoteimage","imgs","callbacks","catcherActionUrl","catcherFieldName","catcherLocalDomain","catcherUrlPrefix","remoteImages","urls","host","success","oldSrc","newSrc","getLocation","pathname","hash","snapplugin","snapscreen","onSuccess","rs","snapscreenUrlPrefix","snapscreenImgAlign","callBackErrorMsg","local","res","saveSnapshot","_dialogs","front","createInsertStr","toEmbed","cssfloat","logo","webapp","tnode","music","musicObj","sendAndInsertFile","file","fieldName","urlPrefix","maxSize","allowFiles","actionUrl","loadingHtml","errorHandler","successHandler","filetype","loadingId","loader","original","fileext","XMLHttpRequest","fd","FormData","append","response","er","getPasteImage","clipboardData","getDropImage","dataTransfer","files","FileReader","hasImg","getAsFile","saveData","lastSaveTime","MIN_TIME","saveKey","_saveFlag","saveInterval","contentchange","clearlocaldata","getlocaldata","drafts","validData","firstRows","cellCount","chartserror","charts","tableNode","flagText","subTitle","xTitle","yTitle","suffix","tip","dataFormat","tableDataFormat","chartType","Section","nextSection","previousSection","parentSection","getSection","section","getNodeFromAddress","bindMultiEvents","afterexeccommand","keyup","getsections","levels","getSectionLevel","levelFn","Directory","tmpSection","previous","movesection","sourceSection","targetSection","isAfter","targetAddress","addressTarget","isAfterStartAddress","isBeforeEndAddress","deletesection","selectsection","scrolltosection","initUploadBtn","containerBtn","btnIframe","btnStyle","wrapper","btnIframeDoc","btnIframeBody","timestrap","contentDocument","contentWindow","imageFieldName","imageUrlPrefix","showErrorLoader","imageActionUrl","filename","stateTimer","isLoaded","simpleuploadbtnready","simpleupload","serverParam","serverparam","getFileIcon","maps","rar","zip","gz","bz2","docx","pdf","mp3","xls","chm","ppt","pptx","avi","rmvb","wmv","flv","swf","rm","exe","psd","jpg","png","jpeg","gif","ico","bmp","insertfile","filelist","URL","iconDir","xssFilter","whitList","xssFilterRules","tagList","inputXssFilter","outputXssFilter","updateFixedOffset","layer","bindFixedLayer","adjOffset","uidCount","hook","_callbacks","createElementByHtml","getViewportElement","bcr","getViewportRect","viewportEl","innerWidth","innerHeight","fixedLayer","getFixedLayer","getEventOffset","frameEl","setGlobal","magic","unsetGlobal","copyAttributes","tgt","attrNode","elA","elB","compareDocumentPosition","startDrag","handleMouseMove","startX","startY","ondragmove","cancelBubble","handleMouseUp","ondragstop","releaseCaptrue","releaseCapture","setCapture","makeUnselectable","WebkitUserSelect","UIBase","uiName","initOptions","initUIBase","_globalKey","renderHtml","seatEl","postRender","getHtmlTpl","formatHtml","tpl","prefix","box","Separator","initSeparator","Mask","_fill","_onMouseDown","_onClick","vpRect","closeAllPopup","allPopups","queryAutoHide","Popup","initPopup","postHide","ANCHOR_CLASSES","SHADOW_RADIUS","_hidden","autoRender","canSideLeft","canSideUp","getContentHtmlTpl","_UIBase_postRender","captureWheel","captured","_height","_top","combox","ifr","wheelDelta","_doAutoRender","mesureSize","fitSize","sized","__size","popBodyEl","showAnchor","hoz","showAnchorRect","adj","visibility","sideLeft","sideUp","popSize","popEl","notNofity","genColorPicker","noColorText","COLORS","ColorPicker","_onTableClick","_onTableOver","_onTableOut","_onPickNoColor","TablePicker","initTablePicker","defaultNumRows","defaultNumCols","maxNumRows","maxNumCols","lengthOfCellSide","_UIBase_render","_track","sideLen","_onMouseOver","relatedTarget","fromElement","_onMouseOut","toElement","_onMouseMove","TPL_STATEFUL","Stateful","alwalysHoverable","Stateful_init","_Stateful_dGetHtmlTpl","Stateful_getHtmlTpl","Stateful_onMouseEnter","isDisabled","addState","Stateful_onMouseLeave","removeState","Stateful_onMouseOver","Stateful_onMouseOut","Stateful_onMouseDown","Stateful_onMouseUp","Stateful_postRender","hasState","getStateDom","isChecked","setChecked","checked","Button","btnName","cssRules","initButton","showIcon","showText","setTitle","SplitButton","initSplitButton","popup","setPopup","_onPopupShow","_onPopupHide","showPopup","_onArrowClick","_onButtonClick","ColorButton","initColorButton","onpickcolor","_onPickColor","onpicknocolor","_SplitButton_postRender","setColor","TableButton","initTableButton","onpicktable","_onPickTable","AutoTypeSetPicker","initAutoTypeSetPicker","textAlignInputName","imageBlockInputName","symbolConverInputName","mergeLine","delLine","removeFormat","alignment","imageFloat","removeFontsize","removeFontFamily","removeHtml","symbol","getPara","ipt","editorId","ipts","attrValue","iptchild","iptChilds","selects","AutoTypeSetButton","initAutoTypeSetButton","popupUI","radioTd","radios","defalutSelect","symbolConver","checkboxs","CellAlignPicker","initSelected","initCellAlignPicker","middle","selectedIndex","alignType","tempClassName","tempIndex","tmpl","PastePicker","initPastePicker","_isTransfer","cur","screenHt","subPop","Toolbar","initToolbar","add","buff","initMenu","menuSeparator","initItems","getSeparator","MenuItem","createItem","_Popup_getContentHtmlTpl","_Popup_postRender","ownerMenu","clearItems","_showingTimer","_closingTimer","parentMenu","renderLabelHtml","delayShowSubMenu","delayHideSubMenu","hideSubMenu","_bakQueryAutoHide","tabIndex","showSubMenu","this_","Combox","initCombox","onbuttonclick","selectByIndex","setLabel","initValue","indexByValue","getLabelForUnknowValue","modalMask","dragMask","activeDialog","Dialog","autoReset","onok","oncancel","onclose","ok","holdScroll","initDialog","closeButton","closeDialog","initResizeEvent","buttons","__resizeTimer","dialogWrapNode","contentNode","wrapRect","contentRect","safeSetOffset","showAtCenter","_originalContext","overflowX","titleHeight","getContentHtml","contentHtml","iframeUrl","footHtml","_hide","_onTitlebarMouseDown","wrapNode","_onCloseButtonClick","MenuButton","initMenuButton","_value","MultiMenuPop","initMultiMenu","iframe_rendered","onshow","hideAllMenu","allMenus","timeID","UI","isSubMenuShow","initShortCutMenu","SPACE","initEvent","getSubMenuMark","eventType","wt","ht","distanceX","distanceY","setOpacity","relatedTgt","opacity","layerEle","hasContextmenu","setPos","setPosByCxtMenu","fixedlayer","Breakline","Message","initMessage","keepshow","closer","getType","editorui","_Dialog","scrollX","iframeUrlMap","insertimage","spechars","gmap","insertvideo","emotion","attachment","insertframe","edittip","scrawl","template","btnCmds","labelMap","causeByUi","uiReady","typeset","imagefloat","directionality","cmd2","dialogBtns","noOk","vals","mapUrl","onselect","langLabel","langCs","ck","ri","rowspacings","_onMenuClick","isFullScreen","iconSpan","EditorUI","initEditorUI","nodeStack","setCount","wordCount","maximumWords","wordCountMsg","wordOverFlowMsg","errMsg","countDom","_initToolbars","countFn","_actualFrameWidth","_scale","enableScale","disableScale","pastePop","isPaste","_onEditButtonClick","linkDialog","_onImgEditButtonClick","_onImgSetFloat","_setIframeAlign","frame","anchorEl","newFrame","_updateIframe","mapDialog","insertframeDialog","_onRemoveButtonClick","dialogs","dialogName","toolbars","toolbarUis","toolbar","toolbarUi","toolbarItem","toolbarItemUi","itemUI","renderToolbarBoxHtml","showWordImageDialog","_fullscreen","_bakHtmlOverflow","_bakBodyOverflow","_bakAutoHeight","_bakScrollTop","_bakEditorContaninerWidth","_bakCssText","_bakCssText1","_updateFullScreen","scroll","triggerLayout","_updateElementPath","disableElementPath","enableElementPath","down","editorHolder","minEditorHeight","bottombar","scalelayer","move","editorDocument","up","clearSelection","scaleWidth","scaleHeight","minEditorWidth","isMouseMove","scale","fullScreen","timerId","updateFullScreenTime","showToolbarMsg","hideToolbarMsg","zoom","instances","oldRender","renderUI","newDiv","displays","styleWidth","getEditor","registerUI","updateHolderPos","toolbarbox","_messageItems","message","mid","HZMF","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_tree_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_6173fac4_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_tree_vue__","Hi1u","__WEBPACK_IMPORTED_MODULE_0__dataTranslate_js__","IcnI","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vuex__","__WEBPACK_IMPORTED_MODULE_2__app__","__WEBPACK_IMPORTED_MODULE_3__store__","__WEBPACK_IMPORTED_MODULE_4__getters__","__WEBPACK_IMPORTED_MODULE_5__targetConstant__","use","Store","modules","app","getters","JBQq","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_1_axios__","__WEBPACK_IMPORTED_MODULE_1_axios___default","__WEBPACK_IMPORTED_MODULE_2__vueutil__","__WEBPACK_IMPORTED_MODULE_3__main_js__","__WEBPACK_IMPORTED_MODULE_4__util__","__WEBPACK_IMPORTED_MODULE_5_element_ui__","defaults","withCredentials","baseURL","headers","loginOut","sessionStorage","homePage","interceptors","noLoading","loadingTarget","$store","commit","log","err","reject","duration","confirmButtonText","cancelButtonText","then","Jd5Q","placeholder","JxFB","LJik","__WEBPACK_IMPORTED_MODULE_2__util__","__WEBPACK_IMPORTED_MODULE_3__util_util__","lineData","xAxisKey","nyAxis","isStack","defautl","hasDataZoom","isStep","xAxisFormat","legendFormat","dateTime","lineDataAttr","cusProps","truexAxis","calcTime","yAxis","serieIndex","dataIndex","yAxisIndex","nyIndex","_i","stack","smooth","step","fill","newLists","sortData","formatXAis","_i2","setLineData","_this2","yIndex","benchmark","quota","seriesInitObj","orginData","dealData","startTime","endTime","curTime","normal","_this3","aToTime","bToTime","xAxisFormatter","_this4","timeFormat","changeTarget","_this5","serie","axisPointer","animation","itemWidth","itemHeight","itemGap","grid","containLabel","boundaryGap","dataZoom","realtime","M93x","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_c0e0d0a0_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_App_vue__","MB9r","selectedEchart","handleResize","MGpf","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_gaugeChart_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_150f0820_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_gaugeChart_vue__","MoCZ","show-checkbox","default-expand-all","expand-on-click-node","node-key","check-strictly","default-expanded-keys","default-checked-keys","highlight-current","render-content","node-click","check-change","current-change","node-expand","filter-node-method","NAuE","minWidth","noHead","padContValue","min-height","minHeight","NHnr","__WEBPACK_IMPORTED_MODULE_0_core_js_modules_es6_typed_array_buffer__","__WEBPACK_IMPORTED_MODULE_1_core_js_modules_es6_typed_int8_array__","__WEBPACK_IMPORTED_MODULE_2_core_js_modules_es6_typed_uint8_array__","__WEBPACK_IMPORTED_MODULE_3_core_js_modules_es6_typed_uint8_clamped_array__","__WEBPACK_IMPORTED_MODULE_4_core_js_modules_es6_typed_int16_array__","__WEBPACK_IMPORTED_MODULE_5_core_js_modules_es6_typed_uint16_array__","__WEBPACK_IMPORTED_MODULE_6_core_js_modules_es6_typed_int32_array__","__WEBPACK_IMPORTED_MODULE_7_core_js_modules_es6_typed_uint32_array__","__WEBPACK_IMPORTED_MODULE_8_core_js_modules_es6_typed_float32_array__","__WEBPACK_IMPORTED_MODULE_9_core_js_modules_es6_typed_float64_array__","__WEBPACK_IMPORTED_MODULE_10_core_js_modules_es6_map__","__WEBPACK_IMPORTED_MODULE_11_core_js_modules_es6_set__","__WEBPACK_IMPORTED_MODULE_12_core_js_modules_es6_weak_map__","__WEBPACK_IMPORTED_MODULE_13_core_js_modules_es6_weak_set__","__WEBPACK_IMPORTED_MODULE_14_core_js_modules_es6_reflect_apply__","__WEBPACK_IMPORTED_MODULE_15_core_js_modules_es6_reflect_construct__","__WEBPACK_IMPORTED_MODULE_16_core_js_modules_es6_reflect_define_property__","__WEBPACK_IMPORTED_MODULE_17_core_js_modules_es6_reflect_delete_property__","__WEBPACK_IMPORTED_MODULE_18_core_js_modules_es6_reflect_get__","__WEBPACK_IMPORTED_MODULE_19_core_js_modules_es6_reflect_get_own_property_descriptor__","__WEBPACK_IMPORTED_MODULE_20_core_js_modules_es6_reflect_get_prototype_of__","__WEBPACK_IMPORTED_MODULE_21_core_js_modules_es6_reflect_has__","__WEBPACK_IMPORTED_MODULE_22_core_js_modules_es6_reflect_is_extensible__","__WEBPACK_IMPORTED_MODULE_23_core_js_modules_es6_reflect_own_keys__","__WEBPACK_IMPORTED_MODULE_24_core_js_modules_es6_reflect_prevent_extensions__","__WEBPACK_IMPORTED_MODULE_25_core_js_modules_es6_reflect_set__","__WEBPACK_IMPORTED_MODULE_26_core_js_modules_es6_reflect_set_prototype_of__","__WEBPACK_IMPORTED_MODULE_27_core_js_modules_es6_promise__","__WEBPACK_IMPORTED_MODULE_28_core_js_modules_es6_symbol__","__WEBPACK_IMPORTED_MODULE_29_core_js_modules_es6_object_assign__","__WEBPACK_IMPORTED_MODULE_30_core_js_modules_es6_object_is__","__WEBPACK_IMPORTED_MODULE_31_core_js_modules_es6_object_set_prototype_of__","__WEBPACK_IMPORTED_MODULE_32_core_js_modules_es6_function_name__","__WEBPACK_IMPORTED_MODULE_33_core_js_modules_es6_string_raw__","__WEBPACK_IMPORTED_MODULE_34_core_js_modules_es6_string_from_code_point__","__WEBPACK_IMPORTED_MODULE_35_core_js_modules_es6_string_code_point_at__","__WEBPACK_IMPORTED_MODULE_36_core_js_modules_es6_string_repeat__","__WEBPACK_IMPORTED_MODULE_37_core_js_modules_es6_string_starts_with__","__WEBPACK_IMPORTED_MODULE_38_core_js_modules_es6_string_ends_with__","__WEBPACK_IMPORTED_MODULE_39_core_js_modules_es6_string_includes__","__WEBPACK_IMPORTED_MODULE_40_core_js_modules_es6_regexp_flags__","__WEBPACK_IMPORTED_MODULE_41_core_js_modules_es6_regexp_match__","__WEBPACK_IMPORTED_MODULE_42_core_js_modules_es6_regexp_replace__","__WEBPACK_IMPORTED_MODULE_43_core_js_modules_es6_regexp_split__","__WEBPACK_IMPORTED_MODULE_44_core_js_modules_es6_regexp_search__","__WEBPACK_IMPORTED_MODULE_45_core_js_modules_es6_array_from__","__WEBPACK_IMPORTED_MODULE_46_core_js_modules_es6_array_of__","__WEBPACK_IMPORTED_MODULE_47_core_js_modules_es6_array_copy_within__","__WEBPACK_IMPORTED_MODULE_48_core_js_modules_es6_array_find__","__WEBPACK_IMPORTED_MODULE_49_core_js_modules_es6_array_find_index__","__WEBPACK_IMPORTED_MODULE_50_core_js_modules_es6_array_fill__","__WEBPACK_IMPORTED_MODULE_51_core_js_modules_es6_array_iterator__","__WEBPACK_IMPORTED_MODULE_52_core_js_modules_es6_number_is_finite__","__WEBPACK_IMPORTED_MODULE_53_core_js_modules_es6_number_is_integer__","__WEBPACK_IMPORTED_MODULE_54_core_js_modules_es6_number_is_safe_integer__","__WEBPACK_IMPORTED_MODULE_55_core_js_modules_es6_number_is_nan__","__WEBPACK_IMPORTED_MODULE_56_core_js_modules_es6_number_epsilon__","__WEBPACK_IMPORTED_MODULE_57_core_js_modules_es6_number_min_safe_integer__","__WEBPACK_IMPORTED_MODULE_58_core_js_modules_es6_number_max_safe_integer__","__WEBPACK_IMPORTED_MODULE_59_core_js_modules_es6_math_acosh__","__WEBPACK_IMPORTED_MODULE_60_core_js_modules_es6_math_asinh__","__WEBPACK_IMPORTED_MODULE_61_core_js_modules_es6_math_atanh__","__WEBPACK_IMPORTED_MODULE_62_core_js_modules_es6_math_cbrt__","__WEBPACK_IMPORTED_MODULE_63_core_js_modules_es6_math_clz32__","__WEBPACK_IMPORTED_MODULE_64_core_js_modules_es6_math_cosh__","__WEBPACK_IMPORTED_MODULE_65_core_js_modules_es6_math_expm1__","__WEBPACK_IMPORTED_MODULE_66_core_js_modules_es6_math_fround__","__WEBPACK_IMPORTED_MODULE_67_core_js_modules_es6_math_hypot__","__WEBPACK_IMPORTED_MODULE_68_core_js_modules_es6_math_imul__","__WEBPACK_IMPORTED_MODULE_69_core_js_modules_es6_math_log1p__","__WEBPACK_IMPORTED_MODULE_70_core_js_modules_es6_math_log10__","__WEBPACK_IMPORTED_MODULE_71_core_js_modules_es6_math_log2__","__WEBPACK_IMPORTED_MODULE_72_core_js_modules_es6_math_sign__","__WEBPACK_IMPORTED_MODULE_73_core_js_modules_es6_math_sinh__","__WEBPACK_IMPORTED_MODULE_74_core_js_modules_es6_math_tanh__","__WEBPACK_IMPORTED_MODULE_75_core_js_modules_es6_math_trunc__","__WEBPACK_IMPORTED_MODULE_76_core_js_modules_es7_array_includes__","__WEBPACK_IMPORTED_MODULE_77_core_js_modules_es7_object_values__","__WEBPACK_IMPORTED_MODULE_78_core_js_modules_es7_object_entries__","__WEBPACK_IMPORTED_MODULE_79_core_js_modules_es7_object_get_own_property_descriptors__","__WEBPACK_IMPORTED_MODULE_80_core_js_modules_es7_string_pad_start__","__WEBPACK_IMPORTED_MODULE_81_core_js_modules_es7_string_pad_end__","__WEBPACK_IMPORTED_MODULE_82_core_js_modules_web_timers__","__WEBPACK_IMPORTED_MODULE_83_core_js_modules_web_immediate__","__WEBPACK_IMPORTED_MODULE_84_core_js_modules_web_dom_iterable__","__WEBPACK_IMPORTED_MODULE_85_regenerator_runtime_runtime__","__WEBPACK_IMPORTED_MODULE_86__util_vueutil__","__WEBPACK_IMPORTED_MODULE_87__App__","__WEBPACK_IMPORTED_MODULE_88__router__","__WEBPACK_IMPORTED_MODULE_89_element_ui__","__WEBPACK_IMPORTED_MODULE_89_element_ui___default","__WEBPACK_IMPORTED_MODULE_90_element_ui_lib_theme_chalk_index_css__","__WEBPACK_IMPORTED_MODULE_91__assets_styles_reset_css__","__WEBPACK_IMPORTED_MODULE_92__assets_styles_setElementUi_css__","__WEBPACK_IMPORTED_MODULE_93__assets_styles_style_css__","__WEBPACK_IMPORTED_MODULE_94__store__","__WEBPACK_IMPORTED_MODULE_95__static_scripts_utf8_jsp_ueditor_config_js__","__WEBPACK_IMPORTED_MODULE_96__static_scripts_utf8_jsp_ueditor_all_js__","__WEBPACK_IMPORTED_MODULE_97__static_scripts_utf8_jsp_lang_zh_cn_zh_cn_js__","__WEBPACK_IMPORTED_MODULE_98__static_scripts_utf8_jsp_ueditor_parse_min_js__","__WEBPACK_IMPORTED_MODULE_99__util_util__","productionTip","whiteList","beforeEach","to","from","some","afterEach","vm","router","components","App","OAYr","Oz2X","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_radioSelect_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_af492aa8_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_radioSelect_vue__","PSlP","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_TreeGrid_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_f721956c_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_TreeGrid_vue__","PbF9","QUzg","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_lineChart_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_8055f042_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_lineChart_vue__","QXYD","R+bG","__WEBPACK_IMPORTED_MODULE_0__util_util_js__","parentKey","multiple","hideNode","textP","realVal","styleAttr","showTree","currentNodeKey","realText","multipleData","textArr","findNode","treeToList","clickInput","setScrollTop","querySelector","lastSelect","findNodeByValue","readchildNode","tempData","clickClear","realVale","getCurrentNodeKey","closeTree","selectTree","curentKey","splitValue","textData","R0wK","subtextStyle","symbolSize","radar","bar","barBorderWidth","barBorderColor","pie","scatter","boxplot","parallel","sankey","funnel","gauge","candlestick","color0","borderColor0","graph","areaColor","geo","categoryAxis","splitArea","areaStyle","valueAxis","logAxis","timeAxis","iconStyle","crossStyle","timeline","controlStyle","checkpointStyle","visualMap","dataBackgroundColor","fillerColor","handleColor","handleSize","markPoint","Rtzv","chooseList","accredited","filterable","leftDefaultChecked","rightDefaultChecked","titles","buttonTexts","myKey","myLabel","myDisabled","saveClick","backClick","filterList","filterType","emptyText","footerFormat","chooseData","accreditedList","created","btns","btnChild","tempBtn","handleChange","movedKeys","changed","every","that","condition","Rxxi","SCtM","maxNum","optionLists","lastHandle","nextHandle","Sl5w","clearable","is-reverse","current-node-key","lazy","SsWL","TezJ","row-style","default-sort","row-class-name","column","space","levelIndex","$index","TwKq","__WEBPACK_IMPORTED_MODULE_0__page__","__WEBPACK_IMPORTED_MODULE_1__util_util_js__","__WEBPACK_IMPORTED_MODULE_2_file_saver__","__WEBPACK_IMPORTED_MODULE_2_file_saver___default","__WEBPACK_IMPORTED_MODULE_3_xlsx__","__WEBPACK_IMPORTED_MODULE_3_xlsx___default","frontPage","tableList","colums","searchData","currentPage","pageSize","showIndex","selectAttr","vPage","tableData","isPage","checkList","selectable","records","aspnetPager","totalCount","edit","deleteTable","_format","customFn","getCheckedRows","export","wb","table_to_book","wbout","bookType","bookSST","saveAs","Blob","filterData","U83o","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_timeRangeSelect_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_2636df3e_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_timeRangeSelect_vue__","Uj9y","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_equalHeightPanel_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_2d5a7b27_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_equalHeightPanel_vue__","UjVw","VApH","W+85","current-page","total","layout","page-size","domProps","Xz3D","YKug","YNnD","YaEn","platRoute","__WEBPACK_IMPORTED_MODULE_1_vue_router__","routes","redirect","YdHv","YtF0","ZCen","ZoQJ","nodeEach","in_array","getJsonObjLength","jsonObj","Length","formDom","valueList","type1List","type3List","existCheckbox","type4List","kArr","cDatas","debounce","func","wait","immediate","timestamp","later","_len","_key","callNow","dateCalcRound","isTimeRange","temp0","temp1","aGyw","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_dialog_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_cbc01824_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_dialog_vue__","aUnt","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from___default","expandedAll","set","aaZk","__WEBPACK_IMPORTED_MODULE_2__http_js__","__WEBPACK_IMPORTED_MODULE_3__validate_js__","__WEBPACK_IMPORTED_MODULE_4__components_base_vLoading_index_js__","__WEBPACK_IMPORTED_MODULE_5__components_base_table_vue__","__WEBPACK_IMPORTED_MODULE_6__components_base_select_vue__","__WEBPACK_IMPORTED_MODULE_7__components_base_selectTree_vue__","__WEBPACK_IMPORTED_MODULE_8__components_base_TreeGrid_vue__","__WEBPACK_IMPORTED_MODULE_9__components_base_tree_vue__","__WEBPACK_IMPORTED_MODULE_10__components_base_myTransfer_vue__","__WEBPACK_IMPORTED_MODULE_11__components_base_dialog_vue__","__WEBPACK_IMPORTED_MODULE_12__components_base_dateTime_vue__","__WEBPACK_IMPORTED_MODULE_13__components_base_echarts_vue__","__WEBPACK_IMPORTED_MODULE_14__components_base_fileUpload_vue__","__WEBPACK_IMPORTED_MODULE_15__components_pageLayout_manage_vue__","__WEBPACK_IMPORTED_MODULE_16__components_pageLayout_panel_vue__","__WEBPACK_IMPORTED_MODULE_17__components_pageLayout_equalHeightPanel_vue__","__WEBPACK_IMPORTED_MODULE_18__components_analysis_timeSelect_vue__","__WEBPACK_IMPORTED_MODULE_19__components_analysis_timeRangeSelect_vue__","__WEBPACK_IMPORTED_MODULE_20__components_analysis_radioSelect_vue__","__WEBPACK_IMPORTED_MODULE_21__components_analysis_radioBlock_vue__","__WEBPACK_IMPORTED_MODULE_22__components_analysis_lineChart_vue__","__WEBPACK_IMPORTED_MODULE_23__components_analysis_gaugeChart_vue__","__WEBPACK_IMPORTED_MODULE_24__components_analysis_pieChart_vue__","__WEBPACK_IMPORTED_MODULE_25__components_analysis_analysis_vue__","__WEBPACK_IMPORTED_MODULE_26__util__","getCookie","setCookie","delCookie","$echarts","$ajax","success1","er1","$alertMsg","$confirm","catch","$showMsg","$notify","$invokeSubMethod","subComponents","html2Escape","sHtml","escape2Html","arrEntities","lt","gt","nbsp","amp","quot","eachValidate","validation","ruleObj","validator","oDiv","onmousedown","disX","disY","onmouseup","alkQ","removeLastbs","isBoolean","g","isIE","inArray","pushItem","uParse","selector","XRegExp","rootPath","highlightJsUrl","highlightCssUrl","SyntaxHighlighter","tableSortCompareFn","jQuery","Highcharts","typeConfig","highcharts","credits","exporting","subtitle","categories","plotLines","valueSuffix","chartContainerHeight","videojs","autoSetup","flash","aqPd","bmGs","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_dateTime_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_44400d7e_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_dateTime_vue__","c8RQ","paddingContent","cHhC","echartStyle","get","myChart","cbzy","cpjA","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","userInfo","tabs","isloading","setUserInfo","addTab","noClose","removeTab","clearTabs","setPlat","setLoading","giTt","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_pieChart_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_0769a9ad_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_pieChart_vue__","gzMA","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_panel_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_438dc696_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_panel_vue__","jCdM","on-success","on-remove","handleRemove","file-list","mailFileList","accept","jLBv","k7uz","kWqY","mDaC","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_page_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_420f0935_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_page_vue__","mWET","after-leave","handleAfterLeave","pqad","sLabel","cycle","qJEI","qMqN","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_select_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_ec0b9cbc_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_select_vue__","qQfM","formatmatch","horizontal","removeformat","directionalityltr","directionalityrtl","imagenone","imageleft","imageright","imagecenter","touppercase","tolowercase","songti","kaiti","heiti","lishu","yahei","andaleMono","arial","arialBlack","comicSansMs","impact","timesNewRoman","tc","tl","im","hi","autoupload","exceedSizeError","exceedTypeError","jsonEncodeError","loadError","errorLoadConfig","elementPathTip","wordCountTip","cancel","tableDrag","loadconfigError","loadconfigFormatError","loadconfigHttpError","snapScreen_plugin","browserMsg","uploadErrorMsg","confirmClear","delete","deletecode","mergeleft","copymsg","paste","pastemsg","anthorMsg","clearColor","standardColor","themeColor","modify","anchorMsg","clickToUpload","unset","t_row","t_col","more","pasteOpt","pasteSourceFormat","tagFormat","pasteTextFormat","autoTypeSet","static","lang_background_normal","lang_background_local","lang_background_set","lang_background_none","lang_background_colored","lang_background_color","lang_background_netimg","lang_background_align","lang_background_position","repeatType","noUploadImage","toggleSelect","lang_tab_remote","lang_tab_upload","lang_tab_online","lang_tab_search","lang_input_url","lang_input_size","lang_input_width","lang_input_height","lang_input_border","lang_input_vhspace","lang_input_title","lang_input_align","lang_imgLoading","lang_start_upload","searchType","searchTxt","searchBtn","searchReset","noneAlign","leftAlign","rightAlign","centerAlign","uploadSelectFile","uploadAddFile","uploadStart","uploadPause","uploadContinue","uploadRetry","uploadDelete","uploadTurnLeft","uploadTurnRight","uploadPreview","uploadNoPreview","updateStatusReady","updateStatusConfirm","updateStatusFinish","updateStatusError","errorNotSupport","errorExceedSize","errorFileType","errorInterrupt","errorUploadRetry","errorHttp","errorServerUpload","remoteLockError","numError","imageUrlError","imageLoadError","searchRemind","searchLoading","searchRetry","lang_drop_remind","lang_tab_insertV","lang_tab_searchV","lang_tab_uploadV","lang_video_url","lang_video_size","lang_videoW","lang_videoH","lang_alignment","videoSearchTxt","videoType","videoSearchBtn","videoSearchReset","lang_input_fileStatus","startUpload","lang_upload_size","lang_upload_width","lang_upload_height","lang_upload_alignment","lang_format_advice","floatLeft","floatRight","\"default\"","urlError","clickToSelect","goToSource","noVideo","browseFiles","uploadSuccess","delSuccessFile","delFailSaveFile","statusPrompt","flashVersionError","flashLoadingError","fileUploadReady","delUploadQueue","limitPrompt1","limitPrompt2","delFailFile","fileSizeLimit","emptyFile","fileTypeError","unknownError","fileUploading","cancelUpload","netError","failUpload","serverIOError","noAuthority","fileNumLimit","failCheck","fileCanceling","stopUploading","tip1","tip2","applyFor","anthorApi","lang_template_bkcolor","lang_template_clear","lang_template_select","blank","blog","resume","richText","sciPapers","lang_input_previousStep","lang_input_nextsStep","lang_input_clear","lang_input_addPic","lang_input_ScalePic","lang_input_removePic","J_imgTxt","noScarwl","scrawlUpLoading","continueBtn","imageError","backgroundUploading","lang_input_tips","J_searchBtn","emptyTxt","chapter","singer","special","listenTest","lang_input_anchorName","lang_data_source","lang_chart_format","lang_data_align","lang_chart_align_same","lang_chart_align_reverse","lang_chart_title","lang_chart_main_title","lang_chart_sub_title","lang_chart_x_title","lang_chart_y_title","lang_chart_tip","lang_cahrt_tip_prefix","lang_cahrt_tip_description","lang_chart_data_unit","lang_chart_data_unit_title","lang_chart_data_unit_description","lang_chart_type","lang_prev_btn","lang_next_btn","lang_input_choice","lang_input_Tuzki","lang_input_BOBO","lang_input_lvdouwa","lang_input_babyCat","lang_input_bubble","lang_input_youa","lang_input_address","lang_input_search","searchError","lang_input_about","lang_input_shortcuts","lang_input_introduction","lang_Txt_shortcuts","lang_Txt_func","lang_Txt_bold","lang_Txt_copy","lang_Txt_cut","lang_Txt_Paste","lang_Txt_undo","lang_Txt_redo","lang_Txt_italic","lang_Txt_underline","lang_Txt_selectAll","lang_Txt_visualEnter","lang_Txt_fullscreen","lang_input_isScroll","lang_input_frameborder","lang_input_alignMode","enterAddress","lang_input_text","lang_input_target","validLink","httpPrompt","lang_city","lang_address","city","lang_search","lang_dynamicmap","cityMsg","errorMsg","lang_tab_replace","lang_search1","lang_search2","lang_replace","lang_searchReg","lang_searchReg1","lang_case_sensitive1","lang_case_sensitive2","nextFindBtn","preFindBtn","nextReplaceBtn","preReplaceBtn","repalceBtn","repalceAllBtn","getEnd","countMsg","lang_showMsg","lang_download","lang_step1","lang_step2","tsfh","lmsz","szfh","rwfh","xlzm","ewzm","pyzm","yyyb","zyzf","lang_tableStyle","lang_insertCaption","lang_insertTitle","lang_insertTitleCol","lang_orderbycontent","lang_tableSize","lang_autoSizeContent","lang_autoSizePage","lang_example","lang_borderStyle","lang_color","captionName","titleName","cellsName","lang_delRow","lang_delCol","lang_tdBkColor","formula","lang_resave","uploadBtn","clipboard","lang_step","fileType","flashError","copySuccess","flashI18n","autosave","saving","rJJT","getUEBasePath","docUrl","confUrl","getBasePath","self","getConfigFilePath","configPath","basePath","optimizationPath","enableAutoSave","article","aside","audio","bdi","details","footer","header","mark","nav","video","rKfN","fileList1","newData","oldData","fileList","$message","curFile","getFileName","soPF","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_analysis_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_0dfa2c52_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_analysis_vue__","stRy","panel-flex-1","tDMO","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_echarts_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_566bf778_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_echarts_vue__","tOm5","tunb","range-separator","start-placeholder","editable","picker-options","v46e","isDate6","sDate","isDate8","iaMonthDays","__WEBPACK_IMPORTED_MODULE_1__util__","validate","string","creditcard","nCheck","nDigit","bEven","cDigit","idCardNo","intCheckDigit","factorArr","parityBit","varArray","lngProduct","intStrLen","idNumber","regExp","regExpEcho","regExpArr","remote","ajaxObj","account","ruleType","required","email","digits","stringCheck","alnum","chcharacter","imeDisabled","letter","tel","telAndMobile","notSpace","lenString","unequal","exclusive","minString","maxString","rangeString","customVail","wqCo","wtEF","x1Tb","yGHV","yJdf","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_myTransfer_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_1b042ddd_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_myTransfer_vue__","yt7g","cookie","c_name","expiredays","exdate","setDate","escape","toGMTString","exp","setTime","cval","clearCookie","toUTCString","changeTree","changeArr","trimAll","randomUUID","__WEBPACK_IMPORTED_MODULE_5__uuId_js__","getTreeByList","pid","treeList","indexMap","addChildren2Map","childMap","getListByTree","tree","cid","pidV","deepCopy","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_typeof___default","deepJSONCopy","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default","copyIsArray","varType","difference","arr1","arr2","pushList","orginArr","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default","saveList","deleteList","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default","arg","[object Boolean]","[object Number]","[object String]","[object Function]","[object Undefined]","[object Null]","[object Array]","[object Date]","[object RegExp]","[object Object]","[object Error]","reduceById","indexTotal","disName","targetUnit","minute","second","orginDate","splitTime","timeDate","cycleTime","getFixedDisplayData","dataField","displayField","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_typeof__","zD9C","left-default-checked","right-default-checked","button-texts","noChecked","hasChecked","footer-format","zY7U","zhkL"],"mappings":"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/bV,ELgcUC,SACEC,SAAWF,MK/bvB,GLgcYG,aAAeH,MK7b3B,KLgcQd,SACE7D,KAAMtE,KK9bhB0E,ML+bUzG,KK9bV,QL+bUoL,EK9bV,EL+bU3B,IK9bVO,EL+bUR,IK9bVS,EL+bUoB,YK9bV,GL+bUC,OK9bV,OL+bUC,UAEEC,WAEE5E,MK5bd,KL+bU6E,UAEElH,OAAQ,GACRiH,WAEEE,MK5bd,SL+bUC,WAEEpH,OAAQ,GACRiH,WAEEE,MK5bd,SL+bUE,WASEnB,UAAW,SAAmB1K,GAC5B,MAAIkK,GAAW,GACNlK,EAAM+K,QK9b7BvB,GLgcuBxJ,EAAM+K,QK9b7B,KLkcUrE,OAEEoF,WK9bZ,SL+bYC,SK9bZ,GL+bYC,UK7bZ,UL+bUC,QAEEvB,UAAW,SAAmB1K,GAC5B,MAAOA,GAAM+K,QK9b3BvB,ILgcYuC,SK9bZ,GL+bYD,WK9bZ,SL+bYI,aK9bZ,EL+bYC,gBK9bZ,OL+bYC,YK9bZ,OL+bYC,WK9bZ,EL+bYC,YK9bZ,OL+bYC,cK9bZ,EL+bYC,cK9bZ,EL+bYC,YK9bZ,EL+bYC,gBK9bZ,OL+bYC,gBK9bZ,EL+bYC,eK9bZ,EL+bYC,gBK9bZ,OL+bYC,kBK9bZ,EL+bYC,kBK9bZ,EL+bYC,WK9bZ,QL+bYnG,MK9bZ,OL+bYoG,SAAU,EK9btB,IL+bYtB,MK9bZ,OLgcYuB,SAEFtL,KK3bVuI,QLgcErF,QAAS,eAKLqI,EACA,SAAUvN,EAAQoF,KAMlBoI,OACA,SAAUxN,EAAQC,EAAqBC,GAE7C,YM7nBAD,GAAA,GN+oBEE,OACE2G,MM7oBJxG,ON8oBI4G,KM7oBJ5G,ON8oBI6G,IM7oBJ7G,ON8oBI8G,OACE/G,KM7oBNQ,QN8oBMF,SM5oBN,GN8oBI2G,mBACEjH,KM7oBNQ,QN8oBMF,SM5oBN,GN8oBI6G,WM7oBJ3G,QN8oBI6G,YM7oBJpH,ON8oBIsH,mBACEvH,KM7oBNQ,QN8oBMF,SM5oBN,GN8oBImH,oBACEzH,KM7oBNQ,QN8oBMF,SM5oBN,GN8oBI8M,WACEpN,KM7oBNQ,QN8oBMF,SM5oBN,GN8oBI+M,cM7oBJjN,SN8oBIsG,SACE1G,KM7oBNQ,QN8oBMF,SM1oBN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yBrsEZ,UzBssEYC,SyBpsEZ,IzBssEU+V,EyBpsEV,UzBssEQrX,SACEkW,QyBrsEV,OzBssEUjW,UAAW,qBAAuBf,EyBpsE5C,WzBssEQoY,QACE9hB,KyBrsEV,SzBssEU+hB,OyBrsEV,WzBssEUC,MyBrsEV,GzBssEUlb,IyBrsEV,GzBssEUmb,OyBrsEV,GzBssEUtgB,KyBpsEV4f,EzBssEUE,SyBpsEVA,GzBssEQvX,SACE7D,KAAMtE,KyBpsEhB0E,MzBqsEUzG,KyBpsEV,MzBqsEUsL,OyBpsEV,MzBqsEU4W,QAAS,MyBpsEnB,OzBqsEUvgB,KyBpsEV6f,EzBqsEUW,WACEC,UACEhW,WyBpsEd,GzBqsEcE,cyBpsEd,EzBqsEcD,YyB/rEd,6BzBssEExH,QAAS,eAKLwd,KACA,SAAU1iB,EAAQC,EAAqBC,GAE7C,Y0Bh2EA,SAAAoF,GAAAC,GACArF,EAAA,Q1Bg2EqB,GAAIyiB,GAAwIziB,EAAoB,Q0Bj2ErL0iB,EAAA1iB,EAAA,QAGAwF,EAAAxF,EAAA,QAMAyF,EAAAL,EAKAM,EAAAF,EACAid,EAAA,EACAC,EAAA,EACAjd,EANA,kBAEA,KASA1F,GAAA,EAAA2F,EAAA,S1Bw2EMid,KACA,SAAU7iB,EAAQoF,KAMlB0d,KACA,SAAU9iB,EAAQC,EAAqBC,GAE7C,YACqB,IAAI6iB,GAA2C7iB,EAAoB,O2Bn3ExFD,GAAA,G3B24EEE,OACE8G,OACE5G,K2Bx4ENC,Q3B04EIF,OACEC,K2Bz4ENC,O3B04EMK,QAAS,WACP,MAAO,I2Bz4EfwW,Q3B44EI6L,UACE3iB,K2Bx4ENE,Q3B04EI0iB,UACE5iB,K2Bz4EN0B,M3B04EMpB,QAAS,WACP,OAAQ,EAAG,E2Bz4EnB,K3B64EIuiB,aACE7iB,K2Bz4ENQ,Q3B04EMF,S2Bv4EN,I3B04EEqB,KAAM,WACJ,OACE4S,a2Bz4EN,G3B04EMN,WACE1B,GACEzR,M2Bz4EV,I3B04EUd,K2Bz4EV,O3B04EUgS,O2Bx4EV,c3B04EQ8Q,GACEhiB,M2Bz4EV,I3B04EUd,K2Bz4EV,Q3B04EUgS,O2Bx4EV,c3B04EQ+Q,GACEjiB,M2Bz4E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C,GAAiBhD,SAAA+C,kBACjBjJ,GAAA,KlCo0/BMijG,KACA,SAAUljG,EAAQoF,KAMlB+9F,KACA,SAAUnjG,EAAQC,EAAqBC,GAE7C,YACqB,IAAImJ,GAAwCnJ,EAAoB,QAC5DoJ,EAAgDpJ,EAAoBqJ,EAAEF,GACtEG,EAA+CtJ,EAAoB,QACnEkjG,EAAsCljG,EAAoB,QAC1DmjG,EAA2CnjG,EAAoB,OmCl3/BxFD,GAAA,GnC+3/BEwJ,QmC73/BFD,EAAA,GnC83/BErJ,OACEuJ,WACErJ,KmC73/BNC,OnC83/BMK,QmC53/BN,SnC83/BI6gB,gBACEnhB,KmC73/BNY,OnC83/BMN,QAAS,WACP,WAGJgJ,IACEtJ,KmC73/BNC,OnC83/BMK,QmC53/BN,SnC83/BIsG,OACE5G,KmC73/BNC,OnC83/BMK,QmC53/BN,QnC83/BIsB,QACE5B,KmC73/BNC,OnC83/BMK,QmC53/BN,SnC83/BImG,OACEzG,KmC53/BNC,QnC83/BIgjG,UACEjjG,KmC53/BNY,QnC+3/BIE,OACEd,KmC73/BNC,OnC83/BMK,QmC53/BN,QnC83/BIoJ,MACE1J,KmC73/BNC,OnC83/BMK,QmC53/BN,cnC+3/BIS,UACEf,KmC73/BNC,OnC83/BMK,QmC53/BN,anC+3/BI4iG,UACEljG,KmC73/BNC,OnC83/BMK,QmC53/BN,YnC+3/BI6iG,QACEnjG,MAAOE,OmC73/BbwB,OnC83/BMpB,QmC53/BN,GnC+3/BI8iG,SACEpjG,KmC73/BNQ,QnC83/BM6iG,SmC53/BN,GnC+3/BIC,aACEtjG,KmC73/BNQ,QnC83/BMF,SmC53/BN,GnC83/BIijG,QACEvjG,KmC73/BNQ,QnC83/BMF,SmC53/BN,GnC83/BIN,MACEA,KmC73/BNC,OnC83/BMK,QAAS,QAGXkjG,aACExjG,MAAOC,SAGT+R,QACEhS,KmC53/BNC,QnC+3/BIwjG,cACEzjG,KmC53/BNC,QnC+3/BIwB,WACEzB,KmC73/BN0B,MnC83/BMpB,QAAS,WACP,WAGJojG,UAEE1jG,MAAOC,OmC53/BbyB,QnCu4/BIiiG,cACE3jG,KmC73/BN0B,MnC83/B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hB0E,MnC23/BUmb,WACE/V,WmC13/BZ,SnC23/BYC,SmCz3/BZ,InC23/BUqgB,KmCz3/BV,OnC23/BQ3hB,SACEkW,QmC13/BV,OnCg4/BUwlF,aACElmG,KmC13/BZ,QnC23/BYmmG,WmC13/BZ,EnC23/BYrlG,OACEoL,gBmCv3/Bd,anC23/BQ4V,QACEhb,ImC13/BV,GnC23/BU+tE,KmC13/BV,OnC23/BUuxB,UmC13/BV,GnC23/BUC,WmC13/BV,EnC23/BUC,QmC13/BV,GnC23/BU3kG,KmC13/BVmgB,EnC23/BUE,MmC13/BV,KnC23/BUJ,WACE9V,SmC13/BZ,KnC83/BQy6F,MAEEp6E,KmC13/BV,KnC23/BUnK,MmC13/BV,KnC23/BUC,OmC13/BV,KnC23/BUukF,cmCz3/BV,GnC23/BQ58F,QACE5J,KmCz3/BV,WnC03/BUymG,YAA2B,SAAd1kG,KAAK/B,KAClBuL,UACEC,cAIFI,aAKAjK,KmCv3/BViI,InCy3/BQm6F,MmCx3/BRA,EnCy3/BQ75F,OmCv3/BRA,EnC03/BUnI,MAAKuhG,cACPniG,EAAIulG,WACF17F,MmCv3/BV,EnCw3/BU27F,UmCv3/BV,EnCw3/BU1uF,MmCv3/BV,GnCw3/BUC,ImCt3/BV,KnCw3/BUlY,KmCt3/BV,SnCu3/BU2mG,UmCt3/BV,EnCu3/BU1uF,MmCt3/BV,GnCu3/BUC,ImCp3/BV,KnCs3/BQ/W,EAAIolG,MACFtkF,OmCp3/BV,KnCy3/BMpiB,EAAoBwE,EAAE2+F,EAAyD,GAAG7hG,EAAKY,KmCr3/B7F6hG,UnCs3/BM7hG,KAAKiU,QmCr3/BX7U,EnCs3/BMY,KAAK4H,MAAMW,UAAUnJ,GmCr3/B3B,KnCw3/BE0D,QAAS,eASL+hG,KACA,SAAUjnG,EAAQC,EAAqBC,GAE7C,YoCh/gCA,SAAAoF,GAAAC,GACArF,EAAA,QpCg/gCqB,GAAIgnG,GAAiIhnG,EAAoB,QoCj/gC9KinG,EAAAjnG,EAAA,QAGAwF,EAAAxF,EAAA,QAMAyF,EAAAL,EAKAM,EAAAF,EACAwhG,EAAA,EACAC,EAAA,EACAxhG,EANA,KAEA,KASA1F,GAAA,EAAA2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,aACApD,GAAA,aACAqD,OAAA,SACAC,KAAA,OACAC,MAAA,QACAC,IAAA,MACAC,GAAA,eACAC,IAAA,OAEA69D,aAAA,aACA70C,aACA80C,OAAA,KACAj9D,UAAA,KACAk9D,WAAA,OACA90C,SAAA,OACAE,aAAA,aACAC,OAAA,QACAE,UAAA,OACAa,UAAA,OACAY,QAAA,UACAC,WAAA,SACAC,UAAA,MACAC,YAAA,OACAC,WAAA,MACAlB,OAAA,QACAG,iBAAA,WACAX,YAAA,MACAC,aAAA,MACAC,cAAA,OACAC,eAAA,OACAziD,MAAA,KACAm+C,YAAA,OACAD,YAAA,OACA+F,sBAAA,QACAC,qBAAA,QACApF,UAAA,QACAG,UAAA,QACAL,UAAA,OACAG,UAAA,OACAF,cAAA,OACAG,cAAA,OACAX,cAAA,SACAC,cAAA,SACAC,YAAA,UACAC,YAAA,UACAkE,eAAA,UACAC,eAAA,UACAC,eAAA,SACAC,cAAA,SACApE,WAAA,OACAo4C,UAAA,OACAn4C,UAAA,OACAC,WAAA,QACAO,aAAA,UACAE,YAAA,OACAD,YAAA,OACA+D,UAAA,OACAC,WAAA,UACAC,YAAA,UACApC,eAAA,OACAG,WAAA,aACAG,aAAA,aACAC,WAAA,UACAC,aAAA,UACA6B,SAAA,OACAC,SAAA,SACAC,WAAA,WACAC,cAAA,SACAC,gBAAA,SACAC,WAAA,OACAC,mBAAA,OACAzmB,KAAA,eACA45D,QAAA,wBACAC,MAAA,eACAC,SAAA,yBAEAF,QAAA,wBACAE,SAAA,wBACAC,UAAA,KACAC,WAAA,OACAC,cAAA,OACAC,WAAA,OACAtvG,SAAA,KACAja,QAAA,KACAwpH,OAAA,KACA/0C,YAAA,MACAC,aAAA,MACAC,cAAA,KACAjvB,QAAA,KACAvoB,MAAA,KACAssF,UAAA,KACAX,OAAA,KACAY,cAAA,OACAC,MAAA,WACAC,MAAA,IACAC,MAAA,IACAC,KAAA,KACAC,SAAA,OACAC,kBAAA,QACAC,UAAA,QACAC,gBAAA,QACAC,aACAn7B,UAAA,OACAC,QAAA,OACAC,aAAA,OACA3sC,OAAA,OACA4sC,UAAA,O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","file":"static/js/app.7ee222ebf947d80ccead.js","sourcesContent":["webpackJsonp([57],{\n\n/***/ \"+vXQ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_util__ = __webpack_require__(\"yt7g\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/*\r\n    * rend：\r\n    * rend(h, {node, data, store}) {//传来的自定义渲染函数\r\n     *\r\n     *          let renderChild = function () {\r\n     *               if(data.children){\r\n     *                   return  <el-tag>{data.children.length}</el-tag>\r\n     *               }\r\n     *               return\r\n     *           }\r\n     *           fn qiye(data)\r\n     *           if(data.){\r\n     *\r\n     *           return <span style=\"float:right;margin-right:20px\">\r\n     *                           {renderChild()}\r\n     *                       </span>\r\n     *                       qiye\r\n     *                       return ''\r\n     *           )\r\n     *           return (\r\n     *                   <span>\r\n     *                       <span>{node.label}</span>\r\n     *                       {qiye(node)}\r\n     *                   </span>);\r\n     *       },\r\n     * */\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    value: {\n      type: [String, Number]\n    },\n    //自定义节点内容,传过来一个函数，函数内部可以使用jsx语法返回一段dom节点\n    //            class:{\n    //\n    //            },\n    rend: {\n      type: Function\n    },\n    //懒加载\n    load: {\n      default: false\n    },\n    //设置树高度\n    setTreeHeight: {\n      type: Boolean,\n      default: false\n    },\n    //整个窗口减去的高度\n    minusH: {\n      default: 200\n    },\n    //复选框默认不显示\n    showCheckbox: {\n      type: Boolean,\n      default: false\n    },\n    expandOnClickNode: {\n      type: Boolean,\n      default: true\n    },\n    //对应的key value\n    props: {\n      type: Object,\n      default: function _default() {\n        return {\n          children: \"children\",\n          label: \"name\"\n        };\n      }\n    },\n    valueKey: {\n      type: String,\n      default: \"id\"\n    },\n    //默认展开\n    defaultExpand: {\n      type: Boolean,\n      default: false\n    },\n    // 过滤\n    filterNodeMethod: {\n      type: Function\n    },\n    //哪些选项默认展开或默认选中\n    defaultKeys: {\n      default: function _default() {\n        var obj = { nodeKey: \"id\" };\n        obj.expandedKeys = [];\n        obj.checkedKeys = [];\n        return obj;\n      }\n    },\n    // 父子不关联做法\n    checkStrictly: {\n      type: Boolean,\n      defalut: false\n    },\n    dataLists: {\n      type: Array\n    }\n  },\n  data: function data() {\n    return {\n      data: [],\n      height: \"\"\n    };\n  },\n\n  watch: {\n    dataLists: function dataLists(val) {\n      this.data = val;\n    }\n  },\n  methods: {\n    // 过滤\n    filter: function filter(val) {\n      this.$refs.noLoadTree.filter(val);\n    },\n    setData: function setData(val) {\n      this.data = val ? val : [];\n    },\n\n    //点击节点事件\n    handleNodeClick: function handleNodeClick(obj, node, component) {\n      //obj,node,component:该节点所对应的对象、节点对应的 Node、节点组件本身\n      var msg = { obj: obj, node: node, component: component };\n      this.$emit(\"nodeClick\", msg);\n    },\n\n    //节点选中状态发生变化时的回调\n    checkChange: function checkChange(obj, nodeCheckd, childCheck) {\n      var _this = this;\n\n      // 是否关联选择\n      // if (this.checkStrictly) {\n      var data = this.value.split(\",\").filter(function (item) {\n        return item !== \"\";\n      });\n      //\n      if (nodeCheckd) {\n        data.push(obj[this.valueKey]);\n      } else {\n        data = data.filter(function (item) {\n          return parseInt(item) !== obj[_this.valueKey];\n        });\n      }\n      this.$emit(\"input\", data.join(\",\"));\n      // } else {\n      // console.log(obj, nodeCheckd, childCheck, obj[this.valueKey]);\n      // }\n      //obj,nodeCheckd,childCheck  传递给 data 属性的数组中该节点所对应的对象、节点本身是否被选中、节点的子树中是否有没被选中的节点\n      var msg = { obj: obj, nodeCheckd: nodeCheckd, childCheck: childCheck };\n      this.$emit(\"checkChange\", msg);\n    },\n\n    //当前选中节点变化时触发的事件,与点击节点事件类似\n    currentChange: function currentChange(obj, node) {\n      var msg = { obj: obj, node: node };\n      if (!this.showCheckbox) {\n        this.$emit(\"input\", obj[this.valueKey]);\n      }\n      this.$emit(\"currentChange\", msg);\n    },\n\n    //节点被展开时触发的事件\n    nodeExpand: function nodeExpand(obj, node, component) {\n      //obj,node,component:该节点所对应的对象、节点对应的 Node、节点组件本身\n      var msg = { obj: obj, node: node, component: component };\n      this.$emit(\"nodeExpand\", msg);\n    },\n\n    //自定义高度\n    setHeight: function setHeight() {\n      var me = this,\n          timer = null;\n      if (this.setTreeHeight) {\n        me.height = document.body.clientHeight - me.minusH;\n        window.onresize = function () {\n          if (timer) {\n            clearTimeout(timer);\n          }\n          timer = setTimeout(function () {\n            me.height = document.body.clientHeight - me.minusH;\n            me.$emit(\"treeHeight\", me.height);\n          }, 200);\n        };\n      }\n    },\n    loadNode: function loadNode(node, resolve) {\n      //加载节点\n      var tier = []; // 数组的排序代表当前节点的位置(逆序)\n      if (node.level == 0) {\n        resolve(this.data); //渲染起始数组\n        return;\n      }\n      var findParent = function findParent(obj) {\n        if (!obj.parent) {\n          //当无父节点时跳出\n          return obj;\n        }\n        for (var i = 0; i < obj.parent.childNodes.length; i++) {\n          var item = obj.parent.childNodes[i];\n          if (item.label == obj.label) {\n            tier.push(i);\n            break;\n          }\n        }\n        return findParent(obj.parent);\n      };\n      findParent(node); //获得节点层级\n      var tempObj = this.data; //获取渲染节点所在children\n      for (var i = tier.length; i > 0; i--) {\n        tempObj = tempObj[tier[i - 1]].children;\n      }\n      resolve(tempObj); // 需要转圈效果加上计时器延迟\n\n      //                resolve(this.readchildNode(tempObj))// 需要转圈效果加上计时器延迟\n    },\n\n    /*\r\n            removeCurrent(arr = []) {\r\n                arr = Array.from(arr)\r\n                if (arr.indexOf('current') !== -1) {\r\n                    arr.splice(arr.indexOf('current'), 1)\r\n                }\r\n                return arr.join(' ')\r\n            }\r\n            */\n    renderContent: function renderContent(h, _ref) {\n      var node = _ref.node,\n          data = _ref.data,\n          store = _ref.store;\n\n      if (this.rend) {\n        return this.rend(h, { node: node, data: data, store: store });\n      }\n      return h(\n        \"span\",\n        null,\n        [h(\n          \"span\",\n          null,\n          [node.label]\n        )]\n      );\n    }\n  },\n  mounted: function mounted() {\n    var me = this,\n        timer = void 0;\n    //默认选中第一个\n    // me.$nextTick(function() {\n    //   timer = setTimeout(() => {\n    //     let treeNodes = me.$el.querySelectorAll(\".el-tree-node\"),\n    //       firstNode,\n    //       className,\n    //       index = 0;\n    //     if (treeNodes.length > 0) {\n    //       firstNode = treeNodes[0];\n    //       className = firstNode.className;\n    //       firstNode.className = className + \" \" + \"is-current\";\n    //       for (var i = 0; i < treeNodes.length; i++) {\n    //         //                            treeNodes[i].className = me.removeCurrent(treeNodes[i].classList)\n    //         //点击取消选中\n    //         treeNodes[i].onclick = function(e) {\n    //           //                                this.className = this.className + ' current'\n    //           if (!index) {\n    //             firstNode.className = className;\n    //           }\n    //           index++;\n    //           if (timer) clearTimeout(timer);\n    //         };\n    //       }\n    //     }\n    //   }, 500);\n    // });\n    this.setHeight();\n  }\n});\n\n/***/ }),\n\n/***/ \"/GgC\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"/hdX\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_fileUpload_vue__ = __webpack_require__(\"rKfN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_3d87207a_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_fileUpload_vue__ = __webpack_require__(\"jCdM\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"zhkL\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_fileUpload_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_3d87207a_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_fileUpload_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 0:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ \"0NkV\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_selectTree_vue__ = __webpack_require__(\"R+bG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_35017560_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_selectTree_vue__ = __webpack_require__(\"Sl5w\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"cbzy\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_selectTree_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_35017560_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_selectTree_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"0jMR\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"0qHx\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-dialog', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.visible),\n      expression: \"visible\"\n    }],\n    attrs: {\n      \"title\": _vm.title,\n      \"visible\": _vm.visibleDialog,\n      \"width\": _vm.size,\n      \"top\": _vm.top,\n      \"modal\": _vm.modal,\n      \"modal-append-to-body\": _vm.modalAppendToBody,\n      \"lock-scroll\": _vm.lockScroll,\n      \"custom-class\": _vm.customClass,\n      \"close-on-click-modal\": _vm.closeOnClickModal,\n      \"close-on-press-escape\": _vm.closeOnPressEscape,\n      \"show-close\": false,\n      \"before-close\": _vm.handleClose\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.visibleDialog = $event\n      },\n      \"close\": _vm.handClose,\n      \"open\": _vm.handOpen\n    }\n  }, [(_vm.showClose) ? _c('button', {\n    staticClass: \"el-dialog__headerbtn base-dialog-btn\",\n    attrs: {\n      \"type\": \"button\",\n      \"aria-label\": \"Close\"\n    },\n    on: {\n      \"click\": _vm.clickBtn\n    }\n  }, [_c('i', {\n    staticClass: \"el-dialog__close el-icon el-icon-close\"\n  })]) : _vm._e(), _vm._v(\" \"), _vm._t(\"default\"), _vm._v(\" \"), (_vm.$slots.footer) ? _c('div', {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_vm._t(\"footer\")], 2) : _vm._e()], 2)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"0t37\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_echarts__ = __webpack_require__(\"KsGq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_echarts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_echarts__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mixins_resize__ = __webpack_require__(\"19xR\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util__ = __webpack_require__(\"ZoQJ\");\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  mixins: [__WEBPACK_IMPORTED_MODULE_1__mixins_resize__[\"a\" /* default */]],\n  props: {\n    className: {\n      type: String,\n      default: \"chart\"\n    },\n    id: {\n      type: String,\n      default: \"chart\"\n    },\n    width: {\n      type: String\n    },\n    height: {\n      type: String,\n      default: \"300px\"\n    },\n    fixNum: {\n      type: Number,\n      default: 2\n    },\n    dataLists: {\n      type: [Array, Object],\n      default: function _default() {\n        return [];\n      }\n    },\n    title: {\n      type: String,\n      default: \"\"\n    },\n    attrs: {\n      type: Object,\n      default: function _default() {\n        return {\n          max: \"max\",\n          min: \"min\",\n          value: \"value\",\n          unit: \"unit\"\n        };\n      }\n    }\n  },\n  data: function data() {\n    return {\n      chart: null,\n      xAxis: []\n    };\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (!this.chart) {\n      return;\n    }\n    this.chart.dispose();\n    this.chart = null;\n  },\n\n  watch: {\n    dataLists: function dataLists(obj) {\n      this.initChart(obj[this.attrs.min], obj[this.attrs.max], [{ name: obj[this.attrs.unit], value: obj[this.attrs.value] }], this.fixNum);\n    }\n  },\n  methods: {\n    initChart: function initChart(minValue, maxValue, series, fixNum) {\n      if (this.chart) {\n        this.chart.dispose();\n        this.chart = null;\n      }\n      this.chart = __WEBPACK_IMPORTED_MODULE_0_echarts___default.a.init(document.getElementById(this.id), \"shine\");\n\n      this.chart.setOption({\n        title: {\n          text: this.title\n        },\n        tooltip: {\n          formatter: function formatter(params, ticket, callback) {\n            return params.seriesName + \":\" + params.value.toFixed(fixNum * 2) + params.name;\n          }\n        },\n        toolbox: {\n          show: true,\n          feature: {\n            restore: { show: true },\n            saveAsImage: { show: true }\n          }\n        },\n        series: [{\n          name: this.title,\n          type: \"gauge\",\n          z: 3,\n          min: minValue,\n          max: maxValue,\n          splitNumber: 11,\n          radius: \"100%\",\n          axisLine: {\n            // 坐标轴线\n            lineStyle: {\n              // 属性lineStyle控制线条样式\n              width: 10\n            }\n          },\n          axisTick: {\n            // 坐标轴小标记\n            length: 15, // 属性length控制线长\n            lineStyle: {\n              // 属性lineStyle控制线条样式\n              color: \"auto\"\n            }\n          },\n          splitLine: {\n            // 分隔线\n            length: 20, // 属性length控制线长\n            lineStyle: {\n              // 属性lineStyle（详见lineStyle）控制线条样式\n              color: \"auto\"\n            }\n          },\n          axisLabel: {\n            //   backgroundColor: \"auto\",\n            //   borderRadius: 2,\n            //   color: \"#eee\",\n            //   padding: 3,\n            //   textShadowBlur: 2,\n            //   textShadowOffsetX: 1,\n            //   textShadowOffsetY: 1,\n            //   textShadowColor: \"#222\",\n            formatter: function formatter(value) {\n              if (maxValue < 10) {\n                return value.toFixed(fixNum);\n              } else {\n                return value.toFixed(0);\n              }\n            }\n          },\n          title: {\n            // 其余属性默认使用全局文本样式，详见TEXTSTYLE\n            fontWeight: \"bolder\",\n            fontSize: 14,\n            fontStyle: \"italic\"\n          },\n          detail: {\n            // 其余属性默认使用全局文本样式，详见TEXTSTYLE\n            formatter: function formatter(value) {\n              return value.toFixed(fixNum);\n            },\n            fontSize: 14,\n            fontWeight: \"bolder\",\n            borderRadius: 3,\n            backgroundColor: \"#444\",\n            borderColor: \"#aaa\",\n            shadowBlur: 5,\n            shadowColor: \"#333\",\n            shadowOffsetX: 0,\n            shadowOffsetY: 3,\n            borderWidth: 2,\n            textBorderColor: \"#000\",\n            textBorderWidth: 2,\n            textShadowBlur: 2,\n            textShadowColor: \"#fff\",\n            textShadowOffsetX: 0,\n            textShadowOffsetY: 0,\n            fontFamily: \"Arial\",\n            width: \"auto\",\n            padding: [7, 10],\n            color: \"#eee\",\n            //   offsetCenter: [-10, \"40%\"], //相对于仪表盘中心的偏移位置\n            rich: {}\n          },\n          data: series\n        }]\n      });\n    }\n  },\n  mounted: function mounted() {}\n});\n\n/***/ }),\n\n/***/ 1:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ \"11TP\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    title: String,\n    size: String,\n    top: String,\n    modal: {\n      type: Boolean,\n      default: true\n    },\n    modalAppendToBody: {\n      type: Boolean,\n      default: true\n    },\n    lockScroll: Boolean,\n    customClass: String,\n    closeOnClickModal: {\n      type: Boolean,\n      default: false\n    },\n    closeOnPressEscape: {\n      type: Boolean,\n      default: true\n    },\n    showClose: {\n      type: Boolean,\n      default: true\n    },\n    beforeCloseFn: Function,\n    visible: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data: function data() {\n    return {\n      visibleDialog: false\n    };\n  },\n\n  methods: {\n    clickBtn: function clickBtn() {\n      this.$emit(\"update:visible\", false);\n    },\n    handleClose: function handleClose(done) {\n      if (this.beforeCloseFn) {\n        this.beforeCloseFn(done);\n      }\n    },\n    handClose: function handClose() {\n      this.$emit(\"close\");\n    },\n    handOpen: function handOpen() {\n      var _this = this;\n      this.$nextTick(function () {\n        _this.$emit(\"open\");\n      });\n    }\n  },\n  watch: {\n    visible: function visible(val) {\n      this.visibleDialog = val;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"19xR\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(\"ZoQJ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_echarts__ = __webpack_require__(\"KsGq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_echarts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_echarts__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__echart_theme_js__ = __webpack_require__(\"R0wK\");\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    mounted: function mounted() {\n        var _this = this;\n\n        __WEBPACK_IMPORTED_MODULE_1_echarts___default.a.registerTheme(\"shine\", __WEBPACK_IMPORTED_MODULE_2__echart_theme_js__[\"a\" /* default */]);\n        this.__resizeHanlder = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* debounce */])(function () {\n            if (_this.chart) {\n                _this.chart.resize();\n            }\n        }, 100);\n        window.addEventListener('resize', this.__resizeHanlder);\n    },\n    beforeDestroy: function beforeDestroy() {\n        window.removeEventListener('resize', this.__resizeHanlder);\n    }\n});\n\n/***/ }),\n\n/***/ 2:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ \"2MN3\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__ = __webpack_require__(\"hRKE\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_dataTranslate__ = __webpack_require__(\"Hi1u\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: \"tree-grid\",\n  props: {\n    rowClassName: {\n      type: [Function, String],\n      default: \"\"\n    },\n    //传过来设置最大高度\n    treeMaxHeight: {\n      default: \"\"\n    },\n    //排序字段\n    sort: {\n      default: \"displayOrder\"\n    },\n    //是否需要懒加载\n    load: {\n      default: false\n    },\n    //当展示区只是一个树形表格时这么设置\n    setTreeHeight: {\n      default: false\n    },\n    //是否显示CheckBox\n    showSelection: {\n      type: Boolean,\n      default: function _default() {\n        return false;\n      }\n    },\n    // 该属性是确认父组件传过来的数据是否已经是树形结构了，如果是，则不需要进行树形格式化\n    treeStructure: {\n      type: Boolean,\n      default: function _default() {\n        return true;\n      }\n    },\n    // 这是相应的字段展示\n    columns: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    // 这是数据源\n    dataSource: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n\n    // 这个作用是根据自己需求来的，比如在操作中涉及相关按钮编辑，删除等，需要向服务端发送请求，则可以把url传过来\n    requestUrl: {\n      type: String,\n      default: function _default() {\n        return \"\";\n      }\n    },\n\n    // 这个是是否展示操作列\n    treeType: {\n      type: String,\n      default: function _default() {\n        return \"normal\";\n      }\n    },\n    // 是否默认展开所有树\n    defaultExpandAll: {\n      type: Boolean,\n      default: function _default() {\n        return true;\n      }\n    }\n  },\n  data: function data() {\n    return {\n      isLoading: false,\n      treeGridHeight: \"\", //树形表格的高度\n      dataTmp: [],\n      defaultSort: {\n        prop: this.sort\n      }\n    };\n  },\n\n  computed: {\n    // 格式化数据源\n    data: function data() {\n      var me = this;\n      if (me.load) {\n        //懒加载默认显示一二级\n        return this.dataTmp;\n      } else if (me.treeStructure) {\n        //格式化数据\n        var data = __WEBPACK_IMPORTED_MODULE_1__util_dataTranslate__[\"a\" /* default */].MSDataTransfer.DataTransfer.treeToArray(me.dataSource, null, null, me.defaultExpandAll);\n        return data;\n      }\n      return me.dataSource; //不用格式化数据\n    }\n  },\n  methods: {\n    openLoading: function openLoading() {\n      this.isLoading = true;\n    },\n    closeLoading: function closeLoading() {\n      this.isLoading = false;\n    },\n\n    //懒加载树\n    loadTree: function loadTree(arr, key, value) {\n      arr.forEach(function (item, index) {\n        if (item[key] === value) {\n          if (item.children && item.children.length > 0) {\n            for (var i = 0; i < item.children.length; i++) {\n              var val = item.children[i];\n              arr.splice(index + 1 + i, 0, val);\n            }\n          }\n        }\n      });\n    },\n\n    // 显示行\n    showTr: function showTr(element, index) {\n      var row = element.row;\n      var show = row._parent ? row._parent._expanded && row._parent._show : true;\n      row._show = show;\n      return show ? \"\" : \"display:none;\";\n    },\n    // 展开下级\n    toggle: function toggle(trIndex, row) {\n      var me = this;\n      var record = me.data[trIndex];\n      record._expanded = !record._expanded;\n      if (row.index === undefined && me.load) {\n        me.loadTree(me.dataTmp, \"id\", row.id);\n        row.index = 1;\n      }\n    },\n    // 显示层级关系的空格和图标\n    spaceIconShow: function spaceIconShow(index) {\n      var me = this;\n      if (me.treeStructure && index === 0) {\n        return true;\n      }\n      return false;\n    },\n\n    // 点击展开和关闭的时候，图标的切换\n    toggleIconShow: function toggleIconShow(index, record) {\n      var me = this;\n      if (me.treeStructure && index === 0 && record.children && record.children.length > 0) {\n        return true;\n      }\n      return false;\n    },\n    rowClick: function rowClick(row, event) {\n      if (!(event.target.outerHTML.indexOf(\"<span\") == 0 || event.target.outerHTML.indexOf(\"<i\") == 0 || event.target.outerHTML.indexOf(\"<button\") == 0)) {\n        this.$refs.baseTreeGrid.toggleRowSelection(row);\n      }\n    },\n    selectionChange: function selectionChange(selection) {\n      this.$emit(\"selectionChange\", selection);\n    },\n\n    //点击删除\n    deleteModule: function deleteModule(val) {\n      this.$emit(\"deleteModule\", val);\n    },\n\n    //打开编辑\n    editModule: function editModule(val, va1) {\n      var newV = {};\n      for (var key in val) {\n        if (!(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(val[key]) == \"object\" || typeof val[key] == \"function\")) {\n          newV[key] = val[key];\n        }\n      }\n      this.$emit(\"editModule\", newV);\n    },\n\n    //选择表格的复选框\n    selectCheck: function selectCheck(selection) {},\n\n    //设置树形表格的最大高度\n    setHeight: function setHeight() {\n      if (this.setTreeHeight) {\n        var me = this,\n            timer = null;\n        me.treeGridHeight = document.body.clientHeight - 200;\n        window.onresize = function () {\n          if (timer) {\n            clearTimeout(timer);\n          }\n          timer = setTimeout(function () {\n            me.treeGridHeight = document.body.clientHeight - 200;\n          }, 200);\n        };\n      }\n    },\n    customDisplay: function customDisplay(item, scope) {\n      var temp = \"\";\n      if (item.displace) {\n        temp = item.displace[scope.row[item.prop]];\n      } else {\n        temp = scope.row[item.prop];\n      }\n\n      //需要格式化的时间格式必须为时间戳（数字）或时间字符串格式\n      if (item.format && (typeof temp === \"string\" || typeof temp === \"number\")) {\n        try {\n          temp = this.format(temp, item.format);\n        } catch (e) {\n          console.warn(e);\n        }\n      }\n      return temp;\n    }\n  },\n  mounted: function mounted() {\n    this.setHeight();\n  },\n\n  watch: {\n    dataSource: function dataSource(n, o) {\n      if (n !== o && this.load) {\n        var me = this,\n            dataSource = void 0;\n        me.dataTmp = [];\n        dataSource = me.dataSource ? me.dataSource : [];\n        if (me.treeStructure) {\n          var data = __WEBPACK_IMPORTED_MODULE_1__util_dataTranslate__[\"a\" /* default */].MSDataTransfer.DataTransfer.treeToArray(dataSource, null, null, me.defaultExpandAll);\n          data.forEach(function (item) {\n            if (item._level <= 1) {\n              item.index = item._level == 0 ? 1 : undefined;\n              me.dataTmp.push(item);\n            }\n          });\n        }\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"2lkU\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 3:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"briU\");\nmodule.exports = __webpack_require__(\"NHnr\");\n\n\n/***/ }),\n\n/***/ \"3tlQ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    width: {\n      type: String,\n      default: \"100%\"\n    },\n    height: {\n      type: String,\n      default: \"500px\"\n    },\n    leftWidth: {\n      type: String,\n      default: \"250px\"\n    },\n    rightWidth: {\n      type: String\n    },\n    padding: {\n      type: String,\n      default: \"0\"\n    }\n  },\n  computed: {\n    padValue: function padValue() {\n      return this.setPad(this.padding);\n    }\n  },\n  methods: {\n    setPad: function setPad(padV) {\n      return [\"t\", \"r\", \"b\", \"l\"].map(function (item) {\n        if (padV.indexOf(item) === -1) {\n          return 0;\n        } else {\n          return \"10px\";\n        }\n      }).join(\" \");\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"3tvm\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"4jYn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    value: {\n      type: [String, Number, Boolean]\n    },\n    dataLists: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    width: {\n      type: String,\n      default: \"50%\"\n    },\n    label: {\n      type: String,\n      default: \"name\"\n    },\n    valueKey: {\n      type: String,\n      default: \"id\"\n    }\n  },\n  data: function data() {\n    return {};\n  },\n\n  watch: {\n    dataLists: function dataLists(lists) {\n      this.$emit(\"input\", lists[0][this.valueKey]);\n    }\n  },\n  methods: {\n    clickHandle: function clickHandle(data) {\n      if (this.value !== data[this.valueKey]) {\n        this.$emit(\"input\", data[this.valueKey]);\n        this.$emit(\"change\", data);\n      }\n    }\n  },\n  mounted: function mounted() {\n    if (!this.value && this.dataLists.length > 0) {\n      this.$emit(\"input\", this.dataLists[0][this.valueKey]);\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"5iQ3\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_timeSelect_vue__ = __webpack_require__(\"FZQA\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_7785a1e4_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_timeSelect_vue__ = __webpack_require__(\"YtF0\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"BAfu\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7785a1e4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_timeSelect_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_7785a1e4_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_timeSelect_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"6lNP\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"7oBm\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_table_vue__ = __webpack_require__(\"TwKq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_573cf598_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_table_vue__ = __webpack_require__(\"Dfpj\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"zY7U\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_table_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_573cf598_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_table_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"87l7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"inblock\"\n  }, [_c('el-radio-group', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.visibleType),\n      expression: \"visibleType\"\n    }],\n    staticClass: \"ts-radio\",\n    on: {\n      \"change\": _vm.changeHandle\n    },\n    model: {\n      value: (_vm.type),\n      callback: function($$v) {\n        _vm.type = $$v\n      },\n      expression: \"type\"\n    }\n  }, _vm._l((_vm.showTime), function(item, index) {\n    return _c('el-radio-button', {\n      key: index,\n      attrs: {\n        \"label\": item\n      }\n    }, [_vm._v(_vm._s(_vm.riadoList[item.toString()] ? _vm.riadoList[item.toString()].label : \"\"))])\n  })), _vm._v(\" \"), _c('da-time', {\n    attrs: {\n      \"label\": _vm.label,\n      \"type\": _vm.riadoList[_vm.type.toString()] ? _vm.riadoList[_vm.type.toString()].timeName : '',\n      \"is-picker-end\": _vm.isPickerEnd,\n      \"width\": _vm.width\n    },\n    on: {\n      \"change\": _vm.changeInput\n    },\n    model: {\n      value: (_vm.timeSelected),\n      callback: function($$v) {\n        _vm.timeSelected = $$v\n      },\n      expression: \"timeSelected\"\n    }\n  })], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"8vLw\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"radio-wrap\"\n  }, _vm._l((_vm.dataLists), function(item, index) {\n    return _c('div', {\n      key: index,\n      staticClass: \"radio-block\",\n      style: ({\n        width: _vm.width\n      })\n    }, [_c('el-button', {\n      staticClass: \"radio-btn\",\n      class: {\n        'active': _vm.value === item[_vm.valueKey], disabled: item.disabled\n      },\n      attrs: {\n        \"type\": \"text\",\n        \"disabled\": item.disabled\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.clickHandle(item)\n        }\n      }\n    }, [_vm._v(_vm._s(item[_vm.label]))])], 1)\n  }))\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"9+Mb\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    page: {\n      type: Object,\n      default: function _default() {\n        return {\n          thisPage: 1, //当前页\n          totalPage: 0, //总共多少页\n          pageSizes: \"\", //总共多少条\n          pageRange: \"\" //每页多少条\n        };\n      }\n    },\n    pageSizes: {\n      type: Array,\n      default: function _default() {\n        return [\"自定义\", 100, 50, 10]; //[10, 50, 100, '自定义']\n      }\n    }\n  },\n  data: function data() {\n    return {\n      pageRange: 10,\n      isShowPageSizes: false\n    };\n  },\n\n  computed: {\n    pageRangeN: function pageRangeN() {\n      return Number(this.pageRange);\n    }\n  },\n  methods: {\n    //currentPage改变时会触发\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.$emit(\"currentChange\", val);\n    },\n\n    //input输入paegsizes触发\n    pageSizeChange: function pageSizeChange() {\n      this.changeValue(this.pageRange);\n      this.$emit(\"pageSizeChange\", this.pageRange);\n    },\n\n    //点击input显示下拉列表\n    showPageSizes: function showPageSizes() {\n      this.isShowPageSizes = !this.isShowPageSizes;\n    },\n\n    //点击下拉列表\n    selectPage: function selectPage(val) {\n      if (val === \"自定义\") {\n        this.$refs[\"basePageInput\"].focus();\n      } else if (this.pageRange != val) {\n        this.pageRange = val;\n        this.$emit(\"pageSizeChange\", this.pageRange);\n      }\n      this.isShowPageSizes = false;\n    },\n\n    //转换input的值\n    changeValue: function changeValue(val) {\n      if (isNaN(parseInt(val)) || parseInt(val) <= 0) {\n        this.pageRange = 10;\n      } else {\n        this.pageRange = parseInt(val);\n      }\n    }\n  },\n  watch: {\n    page: function page(newV, oldV) {\n      this.pageRange = newV.pageRange;\n    }\n  },\n  mounted: function mounted() {\n    var me = this;\n    document.addEventListener(\"click\", function (e) {\n      if (e.target == me.$el.getElementsByClassName(\"base-input-pageSizes\")[0]) {\n        return;\n      } else {\n        me.isShowPageSizes = false;\n      }\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"9Ig9\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/*组件说明:\n    父组件传入options,形式为[{value:,label],具体参考elementUi中options的取值;\n    父组件接收onChange事件,onChange事件传出选择项的value值,每次选择都会做改变;\n */\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    props: {\n        options: {\n            type: Array\n            //       required:true\n            //      default(){\n            //        return[\n            //          {value:0,label:'部门1'}\n            //        ]\n            //      }\n        }\n\n    },\n    data: function data() {\n        return {\n            value: '',\n            nowIndex: 0\n        };\n    },\n\n    methods: {\n        selectChange: function selectChange(val) {\n            var _this = this;\n\n            var msg = { val: val };\n            this.options.forEach(function (value, index) {\n                if (value['value'] == val) {\n                    msg.label = value['label'];\n                    msg.index = index;\n                    _this.nowIndex = index;\n                }\n            });\n            this.$emit('change', msg);\n        },\n        pre: function pre() {\n            this.nowIndex--;\n            if (this.nowIndex < 0) {\n                this.nowIndex = this.options.length - 1;\n            }\n            this.value = this.options[this.nowIndex].value;\n        },\n        next: function next() {\n            this.nowIndex++;\n            if (this.nowIndex >= this.options.length) {\n                this.nowIndex = 0;\n            }\n            this.value = this.options[this.nowIndex].value;\n        }\n    },\n    mounted: function mounted() {\n        if (this.options) {\n            this.value = this.options[this.nowIndex].value;\n        }\n    }\n});\n\n/***/ }),\n\n/***/ \"9j5w\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/**\r\n * 选择开始结束时间的组件\r\n * 可用作 日、月、年 时分秒\r\n *\r\n */\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    type: {\n      type: String,\n      default: \"date\" //year/month/date/week/datetime 、datetimerange/daterange\n    },\n    width: {\n      type: String,\n      default: \"100%\"\n    },\n    label: {\n      type: Object,\n      default: function _default() {\n        return {\n          eLabel: \"到\"\n        };\n      }\n    },\n    rangeSeparator: {\n      type: String\n    },\n    startPlaceholder: {\n      type: String\n    },\n    isPickerEnd: {\n      type: Boolean,\n      default: true\n    },\n    value: {\n      // 必须要使用value\n      default: \"\"\n    },\n    pickerOptions: {\n      type: Object,\n      default: function _default() {\n        var _this = this;\n\n        return {\n          disabledDate: function disabledDate(time) {\n            return _this.isPickerEnd && time.getTime() < (_this.stime === \"\" ? new Date(1970) - 8.64e7 : _this.stime.getTime());\n          }\n        };\n      }\n    }\n  },\n  data: function data() {\n    return {\n      stime: \"\",\n      etime: \"\",\n      time: \"\",\n      format: {\n        year: \"YYYY\",\n        month: \"YYYY-MM\",\n        week: \"YYYY 第 WW 周\",\n        date: \"YYYY-MM-DD\",\n        daterange: \"YYYY-MM-DD\",\n        datetime: \"YYYY-MM-DD HH:mm:ss\",\n        datetimerange: \"YYYY-MM-DD HH:mm:ss\"\n      }\n    };\n  },\n\n  watch: {\n    type: function type(val) {\n      if (this.stime || this.etime) {\n        this.$emit(\"input\", this.formatTime(this.stime, this.etime));\n      } else if (this.time && this.time.length === 2) {\n        this.$emit(\"input\", this.formatTime(this.time[0], this.time[1]));\n      } else {\n        this.$emit(\"input\", []);\n      }\n    },\n\n    // XXX\n    time: {\n      handler: function handler(val) {\n        if (this.value.join(\",\") !== this.time.join(\",\")) {\n          // this.time = this.value;\n          var sTime = this.$moment(new Date(this.time[0]), this.format[this.type]);\n          var eTime = this.$moment(new Date(this.time[1]), this.format[this.type]);\n\n          this.$emit(\"input\", [sTime, eTime]);\n        }\n      },\n\n      deep: true\n    },\n    value: {\n      handler: function handler(val) {\n        if (this.type === \"datetimerange\" || this.type === \"daterange\") {\n          if (this.value && this.value.join(\",\") !== this.time.join(\",\")) {\n            this.time = this.value;\n          }\n        } else {\n          if (this.value && this.value.join(\",\") !== this.stime + \",\" + this.etime) {\n            this.stime = new Date(this.value[0]);\n            this.etime = new Date(this.value[1]);\n          }\n        }\n      },\n\n      deep: true\n    }\n  },\n  methods: {\n    handleStartTime: function handleStartTime() {\n      var time = [];\n      if (this.isPickerEnd && this.stime > this.etime) {\n        this.etime = \"\";\n      }\n      var formatTime = this.formatTime(this.stime, this.etime);\n      this.$emit(\"input\", formatTime);\n      this.$emit(\"change\", formatTime);\n    },\n    handleEndTime: function handleEndTime() {\n      var formatTime = this.formatTime(this.stime, this.etime);\n      this.$emit(\"input\", formatTime);\n      this.$emit(\"change\", formatTime);\n    },\n    changeFormat: function changeFormat(format) {\n      return format ? format.replace(/Y/g, \"y\").replace(/D/g, \"d\") : \"\";\n    },\n    formatTime: function formatTime(start, end) {\n      return [start ? this.$moment(start, this.format[this.type]) : \"\", end ? this.$moment(end, this.format[this.type]) : \"\"];\n    }\n  },\n  mounted: function mounted() {\n    if (!(this.value && this.value[0] && this.value[1])) {\n      var date = new Date();\n      if (this.type === \"datetimerange\" || this.type === \"daterange\") {\n        this.time = [date, date];\n      } else {\n        this.stime = date;\n        this.etime = date;\n      }\n    } else {\n      if (this.type === \"datetimerange\" || this.type === \"daterange\") {\n        this.time = [new Date(this.value[0]), new Date(this.value[1])];\n      } else {\n        this.stime = new Date(this.value[0]);\n        this.etime = new Date(this.value[1]);\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"9n10\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"9wPN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(\"ZLEe\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue__ = __webpack_require__(\"5vqR\");\n\n\nvar LoadingConstructor = __WEBPACK_IMPORTED_MODULE_1_vue__[\"default\"].extend(__webpack_require__(\"DcQ7\"));\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    install: function install(Vue) {\n        Vue.directive('loading', { // 指令的关键\n            bind: function bind(el, binding) {\n                var loading = new LoadingConstructor({ // 实例化一个loading\n                    el: document.createElement('div'),\n                    data: {\n                        text: el.getAttribute('loading-text'), // 通过loading-text属性获取loading的文字\n                        fullscreen: !!binding.modifiers.fullscreen\n                    }\n                });\n                el.instance = loading; // el.instance是个Vue实例\n                el.loading = loading.$el; // el.loading的DOM元素是loading.$el\n                el.loadingStyle = {};\n                toggleLoading(el, binding);\n            },\n            update: function update(el, binding) {\n                el.instance.setText(el.getAttribute('loading-text'));\n                if (binding.oldValue !== binding.value) {\n                    toggleLoading(el, binding);\n                }\n            },\n            unbind: function unbind(el, binding) {\n                // 解绑\n                if (el.domInserted) {\n                    if (binding.modifiers.fullscreen) {\n                        document.body.removeChild(el.loading);\n                    } else {\n                        el.loading && el.loading.parentNode && el.loading.parentNode.removeChild(el.loading);\n                    }\n                }\n            }\n        });\n\n        var toggleLoading = function toggleLoading(el, binding) {\n            // 用于控制Loading的出现与消失\n            if (binding.value) {\n                Vue.nextTick(function () {\n                    if (binding.modifiers.fullscreen) {\n                        // 如果是全屏\n                        el.originalPosition = document.body.style.position;\n                        el.originalOverflow = document.body.style.overflow;\n                        insertDom(document.body, el, binding); // 插入dom\n                    } else {\n                        el.originalPosition = el.style.position;\n                        insertDom(el, el, binding); // 如果非全屏，插入元素自身\n                    }\n                });\n            } else {\n                if (el.domVisible) {\n                    el.instance.$on('after-leave', function () {\n                        el.domVisible = false;\n                        if (binding.modifiers.fullscreen && el.originalOverflow !== 'hidden') {\n                            document.body.style.overflow = el.originalOverflow;\n                        }\n                        if (binding.modifiers.fullscreen) {\n                            document.body.style.position = el.originalPosition;\n                        } else {\n                            el.style.position = el.originalPosition;\n                        }\n                    });\n                    el.instance.visible = false;\n                }\n            }\n        };\n\n        var insertDom = function insertDom(parent, el, binding) {\n            // 插入dom的逻辑\n            if (!el.domVisible) {\n                __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(el.loadingStyle).forEach(function (property) {\n                    el.loading.style[property] = el.loadingStyle[property];\n                });\n                if (el.originalPosition !== 'absolute') {\n                    parent.style.position = 'relative';\n                }\n                if (binding.modifiers.fullscreen) {\n                    parent.style.overflow = 'hidden';\n                }\n                el.domVisible = true;\n                parent.appendChild(el.loading); // 插入的是el.loading而不是el本身\n                Vue.nextTick(function () {\n                    el.instance.visible = true;\n                });\n                el.domInserted = true;\n            }\n        };\n    }\n});\n\n/***/ }),\n\n/***/ \"AeYD\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__ = __webpack_require__(\"a3Yh\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__);\n\n\nvar _targetCycle;\n\n/**\r\n * 指标变量\r\n * 获取变量：this.$store.state.targetConstant.type\r\n * 变量赋值：this.$store.commit(\"setType\", obj)\r\n */\nvar targetConstant = {\n  /**\r\n   * 常量定义区\r\n   */\n  state: {\n    // 定义常量type（对象类型）\n    type: {},\n    targetCycle: (_targetCycle = { hour: 1, week: 2, day: 3 }, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_targetCycle, \"week\", 4), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_targetCycle, \"month\", 5), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_targetCycle, \"quater\", 6), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_targetCycle, \"halfYear\", 7), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_targetCycle, \"year\", 8), _targetCycle),\n    /**\r\n     * 指标类型\r\n     * harvest:产量指标类型,energyConsum:能耗指标类型,unitProductEnergyConsum:单位产品能耗指标类型,saveEnergy:能耗节能指标,\r\n     * output:产值指标类型,unitProductEnergyCost:单位产品成本指标,energyCost:能源成本指标,energyRate: 折标系数指标\r\n     */\n    targetType: {\n      harvest: 4,\n      energyConsum: 1,\n      unitProductEnergyConsum: 2,\n      saveEnergy: 75,\n      output: 6,\n      unitProductEnergyCost: 17,\n      energyCost: 30,\n      energyPrice: 89,\n      energyRate: 109\n    },\n    /**\r\n     * 指标统计内容类型\r\n     */\n    targetContentType: { energy: 1 },\n    /**\r\n     * 能源种类\r\n     * compreEnergyConsum:综合能耗\r\n     */\n    energy: { compreEnergyConsum: 42, electric: 35 },\n    /**\r\n     * 指标关联对象\r\n     */\n    targetSubordinate: { workGroup: 1, equip: 2, product: 3 },\n    orgId: { enterprise: 35 },\n    /**\r\n     * 设备运行状态\r\n     */\n    equipRunStatus: { stop: 1, standby: 2, run: 3 }\n  },\n  /**\r\n   * 常量赋值区\r\n   */\n  mutations: {\n    setType: function setType(state, payload) {\n      state.type = payload;\n    }\n  },\n  actions: {}\n\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (targetConstant);\n\n/***/ }),\n\n/***/ \"B3kq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nfunction UUID() {\n    this.id = this.createUUID();\n}\n\n// When asked what this Object is, lie and return it's value\nUUID.prototype.valueOf = function () {\n    return this.id;\n};\nUUID.prototype.toString = function () {\n    return this.id;\n};\n\n//\n// INSTANCE SPECIFIC METHODS\n//\nUUID.prototype.createUUID = function () {\n    //\n    // Loose interpretation of the specification DCE 1.1: Remote Procedure Call\n    // since JavaScript doesn't allow access to internal systems, the last 48 bits \n    // of the node section is made up using a series of random numbers (6 octets long).\n    //  \n    var dg = new Date(1582, 10, 15, 0, 0, 0, 0);\n    var dc = new Date();\n    var t = dc.getTime() - dg.getTime();\n    var tl = UUID.getIntegerBits(t, 0, 31);\n    var tm = UUID.getIntegerBits(t, 32, 47);\n    var thv = UUID.getIntegerBits(t, 48, 59) + '1'; // version 1, security version is 2\n    var csar = UUID.getIntegerBits(UUID.rand(4095), 0, 7);\n    var csl = UUID.getIntegerBits(UUID.rand(4095), 0, 7);\n    // since detection of anything about the machine/browser is far to buggy, \n    // include some more random numbers here\n    // if NIC or an IP can be obtained reliably, that should be put in\n    // here instead.\n    var n = UUID.getIntegerBits(UUID.rand(8191), 0, 7) + UUID.getIntegerBits(UUID.rand(8191), 8, 15) + UUID.getIntegerBits(UUID.rand(8191), 0, 7) + UUID.getIntegerBits(UUID.rand(8191), 8, 15) + UUID.getIntegerBits(UUID.rand(8191), 0, 15); // this last number is two octets long\n    return tl + tm + thv + csar + csl + n;\n};\n\n//Pull out only certain bits from a very large integer, used to get the time\n//code information for the first part of a UUID. Will return zero's if there \n//aren't enough bits to shift where it needs to.\nUUID.getIntegerBits = function (val, start, end) {\n    var base16 = UUID.returnBase(val, 16);\n    var quadArray = new Array();\n    var quadString = '';\n    var i = 0;\n    for (i = 0; i < base16.length; i++) {\n        quadArray.push(base16.substring(i, i + 1));\n    }\n    for (i = Math.floor(start / 4); i <= Math.floor(end / 4); i++) {\n        if (!quadArray[i] || quadArray[i] == '') quadString += '0';else quadString += quadArray[i];\n    }\n    return quadString;\n};\n\n//Replaced from the original function to leverage the built in methods in\n//JavaScript. Thanks to Robert Kieffer for pointing this one out\nUUID.returnBase = function (number, base) {\n    return number.toString(base).toUpperCase();\n};\n\n//pick a random number within a range of numbers\n//int b rand(int a); where 0 <= b <= a\nUUID.rand = function (max) {\n    return Math.floor(Math.random() * (max + 1));\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (UUID);\n\n/***/ }),\n\n/***/ \"BAfu\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"DcQ7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_vLoading_vue__ = __webpack_require__(\"yGHV\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_e5682b8e_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_vLoading_vue__ = __webpack_require__(\"mWET\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"Rxxi\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_vLoading_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_e5682b8e_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_vLoading_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"Dfpj\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_vm._t(\"searchTool\"), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.lock\",\n      value: (_vm.isLoading),\n      expression: \"isLoading\",\n      modifiers: {\n        \"lock\": true\n      }\n    }],\n    ref: _vm.id,\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"id\": _vm.id,\n      \"data\": _vm.data,\n      \"show-summary\": _vm.showSummary,\n      \"summary-method\": _vm.summaryMethod,\n      \"border\": _vm.border,\n      \"max-height\": _vm.maxHeight,\n      \"highlight-current-row\": _vm.showRadio\n    },\n    on: {\n      \"select\": _vm.select,\n      \"select-all\": _vm.selectAll,\n      \"row-click\": _vm.rowClick,\n      \"row-dblclick\": _vm.rowDblclick,\n      \"selection-change\": _vm.selectionChange\n    }\n  }, [(_vm.showSelection) ? _c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"header-align\": \"center\",\n      \"align\": \"center\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showIndex) ? _c('el-table-column', {\n    attrs: {\n      \"type\": \"index\",\n      \"label\": \"序号\",\n      \"width\": \"60\",\n      \"header-align\": \"center\",\n      \"align\": \"center\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.colums), function(item) {\n    return [(!item.hidden === true && item.children) ? _c('el-table-column', {\n      key: item.prop,\n      attrs: {\n        \"label\": item.label,\n        \"align\": item.align ? item.align : 'center',\n        \"header-align\": \"center\",\n        \"prop\": item.prop,\n        \"class-name\": item.subStr === true ? 'sys_text_substr' : '',\n        \"min-width\": item.width ? item.width : ' ',\n        \"sortable\": item.sortable ? item.sortable : false,\n        \"show-overflow-tooltip\": item.showOverflowTooltip ? item.showOverflowTooltip : false\n      }\n    }, _vm._l((item.children), function(itemChild) {\n      return _c('el-table-column', {\n        key: itemChild.prop,\n        attrs: {\n          \"label\": itemChild.label,\n          \"align\": itemChild.align ? itemChild.align : 'center',\n          \"header-align\": \"center\",\n          \"prop\": itemChild.prop,\n          \"class-name\": itemChild.subStr === true ? 'sys_text_substr' : '',\n          \"min-width\": itemChild.width ? itemChild.width : ' ',\n          \"sortable\": itemChild.sortable ? itemChild.sortable : false,\n          \"show-overflow-tooltip\": itemChild.showOverflowTooltip ? itemChild.showOverflowTooltip : false\n        },\n        scopedSlots: _vm._u([{\n          key: \"default\",\n          fn: function(scope2) {\n            return [(itemChild.popover) ? _c('el-popover', {\n              staticClass: \"table_popover\",\n              attrs: {\n                \"trigger\": \"hover\",\n                \"placement\": \"top\"\n              }\n            }, [_vm._t(\"hover\", [_c('p', [_vm._v(_vm._s(typeof itemChild.popover === \"boolean\" ? _vm.customDisplay(itemChild, scope2) : scope2.row[itemChild.popover] || itemChild.popover))])]), _vm._v(\" \"), _c('div', {\n              staticClass: \"name-wrapper\",\n              attrs: {\n                \"slot\": \"reference\"\n              },\n              slot: \"reference\"\n            }, [_c('el-tag', [_vm._v(_vm._s(_vm.customDisplay(itemChild, scope2)))])], 1)], 2) : _vm._e(), _vm._v(\" \"), (!itemChild.popover) ? [_vm._v(_vm._s(_vm.customDisplay(itemChild, scope2)))] : _vm._e()]\n          }\n        }])\n      })\n    })) : _vm._e(), _vm._v(\" \"), (!(item.hidden === true) && !item.children) ? _c('el-table-column', {\n      key: item.prop,\n      attrs: {\n        \"label\": item.label,\n        \"align\": item.align ? item.align : 'center',\n        \"header-align\": \"center\",\n        \"prop\": item.prop,\n        \"class-name\": item.subStr === true ? 'sys_text_substr' : '',\n        \"min-width\": item.width ? item.width : ' ',\n        \"sortable\": item.sortable ? item.sortable : false,\n        \"show-overflow-tooltip\": item.showOverflowTooltip ? item.showOverflowTooltip : false\n      },\n      scopedSlots: _vm._u([{\n        key: \"default\",\n        fn: function(scope) {\n          return [(item.popover) ? _c('el-popover', {\n            staticClass: \"table_popover\",\n            attrs: {\n              \"trigger\": \"hover\",\n              \"placement\": \"top\"\n            }\n          }, [_vm._t(\"hover\", [_c('p', [_vm._v(_vm._s(typeof item.popover === \"boolean\" ? _vm.customDisplay(item, scope) : scope.row[item.popover] || item.popover))])]), _vm._v(\" \"), _c('div', {\n            staticClass: \"name-wrapper\",\n            attrs: {\n              \"slot\": \"reference\"\n            },\n            slot: \"reference\"\n          }, [_c('el-tag', [_vm._v(_vm._s(_vm.customDisplay(item, scope)))])], 1)], 2) : _vm._e(), _vm._v(\" \"), (!item.popover) ? [_vm._v(_vm._s(_vm.customDisplay(item, scope)))] : _vm._e()]\n        }\n      }])\n    }) : _vm._e()]\n  }), _vm._v(\" \"), _vm._t(\"default\"), _vm._v(\" \"), _vm._t(\"operation\")], 2), _vm._v(\" \"), (_vm.isPage) ? _c('v-page', {\n    class: _vm.isClass ? 'cation' : ' ',\n    attrs: {\n      \"page\": _vm.page\n    },\n    on: {\n      \"currentChange\": _vm.currentChange,\n      \"pageSizeChange\": _vm.pageSizeChange\n    }\n  }) : _vm._e()], 2)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"DnpW\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"analysis-panel\",\n    style: ({\n      width: _vm.width\n    })\n  }, [_c('h3', {\n    staticClass: \"text-center\"\n  }, [_vm._v(_vm._s(_vm.title))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"analysis-panel-body\"\n  }, [_vm._t(\"default\")], 2)])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"EfAQ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_7813e8c3_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_manage_vue__ = __webpack_require__(\"GP6Y\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"FNMr\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\nvar __vue_script__ = null\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7813e8c3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __WEBPACK_IMPORTED_MODULE_0__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_7813e8c3_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_manage_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"EhFW\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_echarts__ = __webpack_require__(\"KsGq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_echarts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_echarts__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mixins_resize__ = __webpack_require__(\"19xR\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util__ = __webpack_require__(\"ZoQJ\");\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  mixins: [__WEBPACK_IMPORTED_MODULE_1__mixins_resize__[\"a\" /* default */]],\n  props: {\n    className: {\n      type: String,\n      default: \"chart\"\n    },\n    id: {\n      type: String,\n      default: \"chart\"\n    },\n    width: {\n      type: String,\n      default: \"100%\"\n    },\n    height: {\n      type: String,\n      default: \"250px\"\n    },\n    selectedNum: {\n      type: Number,\n      default: 5\n    },\n    label: {\n      type: String,\n      default: \"name\"\n    },\n    valueKey: {\n      type: String,\n      default: \"dataValue\"\n    },\n    unit: {\n      type: String,\n      default: \"targetUnit\"\n    },\n    title: {\n      type: String\n    },\n    dataLists: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    legendDisplace: {\n      type: Object\n    },\n    // 是否显示title\n    showTitle: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      chart: null,\n      xAxis: []\n    };\n  },\n\n  watch: {\n    dataLists: function dataLists(lists) {\n      var _this = this;\n\n      if (this.dataLists.length === 0) {\n        document.getElementById(this.id).innerHTML = this.chartNoData();\n        return;\n      }\n      var legendData = [],\n          seriesData = [],\n          selected = {};\n      this.$each(lists, function (item, index) {\n        var trueName = _this.legendDisplace ? _this.legendDisplace[item[_this.label]] : item[_this.label];\n        legendData.push(trueName);\n        seriesData.push({\n          name: trueName,\n          value: item[_this.valueKey]\n        });\n        selected[item.label] = index < _this.selectedNum;\n      });\n      this.initChart(legendData, seriesData, selected);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (!this.chart) {\n      return;\n    }\n    this.chart.dispose();\n    this.chart = null;\n  },\n\n  methods: {\n    initChart: function initChart(legendData, seriesData, selected) {\n      if (this.chart) {\n        this.chart.dispose();\n        this.chart = null;\n      }\n      this.chart = __WEBPACK_IMPORTED_MODULE_0_echarts___default.a.init(document.getElementById(this.id), \"shine\");\n      var unit = this.dataLists[0][this.unit];\n      this.chart.setOption({\n        title: {\n          text: this.showTitle ? this.title : \"\",\n          textStyle: {\n            fontWeight: \"lighter\",\n            fontSize: 14\n          },\n          x: \"center\"\n        },\n        tooltip: {\n          trigger: \"item\",\n          formatter: \"{a} <br/>{b} : {c}\" + unit + \" ({d}%)\"\n        },\n        legend: {\n          type: \"scroll\",\n          orient: \"vertical\",\n          right: 10,\n          top: 20,\n          bottom: 20,\n          data: legendData,\n\n          selected: selected\n        },\n        series: [{\n          name: this.title,\n          type: \"pie\",\n          radius: \"55%\",\n          center: [\"40%\", \"50%\"],\n          data: seriesData,\n          itemStyle: {\n            emphasis: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: \"rgba(0, 0, 0, 0.5)\"\n            }\n          }\n        }]\n      });\n    }\n  },\n  mounted: function mounted() {}\n});\n\n/***/ }),\n\n/***/ \"ErAH\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_radioBlock_vue__ = __webpack_require__(\"4jYn\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_5d9af6e6_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_radioBlock_vue__ = __webpack_require__(\"8vLw\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"2lkU\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5d9af6e6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_radioBlock_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_5d9af6e6_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_radioBlock_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"FNMr\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"FZQA\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_util__ = __webpack_require__(\"yt7g\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/**\r\n *\r\n * @event change 类型和值修改都触发事件\r\n * @event inputChange 选择时间或左右切换时间时触发事件\r\n * @event radioChange 切换时间类型时触发事件\r\n */\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    width: {\n      type: String\n    },\n    value: {\n      type: String,\n      default: function _default() {\n        return new Date();\n      }\n    },\n    timeType: {\n      type: Number\n    },\n    showTime: {\n      type: Array,\n      default: function _default() {\n        return [3, 5, 8];\n      }\n    },\n    // 是否隐藏时间类型选择\n    visibleType: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      timeSelected: \"\",\n      riadoList: {\n        3: {\n          label: \"日\",\n          type: \"date\",\n          format: \"YYYY-MM-DD\"\n        },\n        5: {\n          label: \"月\",\n          type: \"month\",\n          format: \"YYYY-MM-01\"\n        },\n        8: {\n          label: \"年\",\n          type: \"year\",\n          format: \"YYYY-01-01\"\n        }\n      },\n      dateType: this.timeType || this.showTime[0]\n    };\n  },\n\n  watch: {\n    value: function value() {\n      // 格式化成标准时间\n      var time = this.$moment(this.value, this.riadoList[this.dateType.toString()].format);\n      // 当外部时间与内部不一样时触发\n      if (this.timeSelected !== time) {\n        this.timeSelected = time;\n        this.$emit(\"input\", time);\n      } else if (this.timeSelected === time && time !== this.value) {\n        // 与格式化后的时间一致且格式化前的时间不一致，修改外部时间\n        this.$emit(\"input\", time);\n      }\n    },\n    timeType: function timeType() {\n      // 当外部类型与内部不一样时触发\n      if (this.dateType !== this.timeType) {\n        this.dateType = this.timeType;\n      }\n    }\n  },\n  methods: {\n    lastTime: function lastTime() {\n      this.changeTime(-1);\n    },\n    nextTime: function nextTime() {\n      this.changeTime(1);\n    },\n    changeTime: function changeTime(identify) {\n      // 增减一个时间\n      var time = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util_util__[\"g\" /* calcTime */])(this.value, identify, this.dateType, this.riadoList[this.dateType.toString()].format);\n      this.setData(time);\n      this.$emit(\"inputChange\", this.value, this.dateType);\n    },\n    changeHandle: function changeHandle() {\n      this.$emit(\"update:timeType\", this.dateType);\n      var value = this.$moment(this.value, this.riadoList[this.dateType.toString()].format);\n      this.setData(value);\n      this.$emit(\"radioChange\", this.value, this.dateType);\n    },\n    changeInput: function changeInput(value) {\n      value = this.$moment(value, this.riadoList[this.dateType.toString()].format);\n      this.setData(value);\n      this.$emit(\"inputChange\", this.value, this.dateType);\n    },\n    setData: function setData(value) {\n      this.$emit(\"input\", value);\n      this.$emit(\"change\", value, this.dateType);\n    }\n  },\n  mounted: function mounted() {\n    if (!this.value) {\n      this.$emit(\"input\", this.$moment(new Date(), this.riadoList[this.dateType.toString()].format));\n      this.timeSelected = this.$moment(new Date(), this.riadoList[this.dateType.toString()].format);\n    } else {\n      this.timeSelected = this.value;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"GP6Y\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('header', {\n    staticClass: \"page-head\"\n  }, [_vm._t(\"head\")], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"page-flex\"\n  }, [_c('div', {\n    staticClass: \"page-btn\"\n  }, [_vm._t(\"button\")], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"page-form\"\n  }, [_vm._t(\"search\")], 2)]), _vm._v(\" \"), _c('section', {\n    staticClass: \"page-content\"\n  }, [_vm._t(\"content\")], 2), _vm._v(\" \"), _vm._t(\"default\")], 2)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"GvJL\":\n/***/ (function(module, exports) {\n\n/*!\r\n * UEditor\r\n * version: ueditor\r\n * build: Wed Aug 10 2016 11:06:16 GMT+0800 (CST)\r\n */\r\n\r\n(function() {\r\n\r\n    // editor.js\r\n    UEDITOR_CONFIG = window.UEDITOR_CONFIG || {};\r\n\r\n    var baidu = window.baidu || {};\r\n\r\n    window.baidu = baidu;\r\n\r\n    window.UE = baidu.editor = window.UE || {};\r\n\r\n    UE.plugins = {};\r\n\r\n    UE.commands = {};\r\n\r\n    UE.instants = {};\r\n\r\n    UE.I18N = {};\r\n\r\n    UE._customizeUI = {};\r\n\r\n    UE.version = \"1.4.3\";\r\n\r\n    var dom = UE.dom = {};\r\n\r\n    // core/browser.js\r\n    /**\r\n     * 浏览器判断模块\r\n     * @file\r\n     * @module UE.browser\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 提供浏览器检测的模块\r\n     * @unfile\r\n     * @module UE.browser\r\n     */\r\n    var browser = UE.browser = function() {\r\n        var agent = navigator.userAgent.toLowerCase(),\r\n            opera = window.opera,\r\n            browser = {\r\n                /**\r\n                 * @property {boolean} ie 检测当前浏览器是否为IE\r\n                 * @example\r\n                 * ```javascript\r\n                 * if ( UE.browser.ie ) {\r\n                 *     console.log( '当前浏览器是IE' );\r\n                 * }\r\n                 * ```\r\n                 */\r\n                ie: /(msie\\s|trident.*rv:)([\\w.]+)/.test(agent),\r\n\r\n                /**\r\n                 * @property {boolean} opera 检测当前浏览器是否为Opera\r\n                 * @example\r\n                 * ```javascript\r\n                 * if ( UE.browser.opera ) {\r\n                 *     console.log( '当前浏览器是Opera' );\r\n                 * }\r\n                 * ```\r\n                 */\r\n                opera: (!!opera && opera.version),\r\n\r\n                /**\r\n                 * @property {boolean} webkit 检测当前浏览器是否是webkit内核的浏览器\r\n                 * @example\r\n                 * ```javascript\r\n                 * if ( UE.browser.webkit ) {\r\n                 *     console.log( '当前浏览器是webkit内核浏览器' );\r\n                 * }\r\n                 * ```\r\n                 */\r\n                webkit: (agent.indexOf(' applewebkit/') > -1),\r\n\r\n                /**\r\n                 * @property {boolean} mac 检测当前浏览器是否是运行在mac平台下\r\n                 * @example\r\n                 * ```javascript\r\n                 * if ( UE.browser.mac ) {\r\n                 *     console.log( '当前浏览器运行在mac平台下' );\r\n                 * }\r\n                 * ```\r\n                 */\r\n                mac: (agent.indexOf('macintosh') > -1),\r\n\r\n                /**\r\n                 * @property {boolean} quirks 检测当前浏览器是否处于“怪异模式”下\r\n                 * @example\r\n                 * ```javascript\r\n                 * if ( UE.browser.quirks ) {\r\n                 *     console.log( '当前浏览器运行处于“怪异模式”' );\r\n                 * }\r\n                 * ```\r\n                 */\r\n                quirks: (document.compatMode == 'BackCompat')\r\n            };\r\n\r\n        /**\r\n         * @property {boolean} gecko 检测当前浏览器内核是否是gecko内核\r\n         * @example\r\n         * ```javascript\r\n         * if ( UE.browser.gecko ) {\r\n         *     console.log( '当前浏览器内核是gecko内核' );\r\n         * }\r\n         * ```\r\n         */\r\n        browser.gecko = (navigator.product == 'Gecko' && !browser.webkit && !browser.opera && !browser.ie);\r\n\r\n        var version = 0;\r\n\r\n        // Internet Explorer 6.0+\r\n        if (browser.ie) {\r\n\r\n            var v1 = agent.match(/(?:msie\\s([\\w.]+))/);\r\n            var v2 = agent.match(/(?:trident.*rv:([\\w.]+))/);\r\n            if (v1 && v2 && v1[1] && v2[1]) {\r\n                version = Math.max(v1[1] * 1, v2[1] * 1);\r\n            } else if (v1 && v1[1]) {\r\n                version = v1[1] * 1;\r\n            } else if (v2 && v2[1]) {\r\n                version = v2[1] * 1;\r\n            } else {\r\n                version = 0;\r\n            }\r\n\r\n            browser.ie11Compat = document.documentMode == 11;\r\n            /**\r\n             * @property { boolean } ie9Compat 检测浏览器模式是否为 IE9 兼容模式\r\n             * @warning 如果浏览器不是IE， 则该值为undefined\r\n             * @example\r\n             * ```javascript\r\n             * if ( UE.browser.ie9Compat ) {\r\n             *     console.log( '当前浏览器运行在IE9兼容模式下' );\r\n             * }\r\n             * ```\r\n             */\r\n            browser.ie9Compat = document.documentMode == 9;\r\n\r\n            /**\r\n             * @property { boolean } ie8 检测浏览器是否是IE8浏览器\r\n             * @warning 如果浏览器不是IE， 则该值为undefined\r\n             * @example\r\n             * ```javascript\r\n             * if ( UE.browser.ie8 ) {\r\n             *     console.log( '当前浏览器是IE8浏览器' );\r\n             * }\r\n             * ```\r\n             */\r\n            browser.ie8 = !!document.documentMode;\r\n\r\n            /**\r\n             * @property { boolean } ie8Compat 检测浏览器模式是否为 IE8 兼容模式\r\n             * @warning 如果浏览器不是IE， 则该值为undefined\r\n             * @example\r\n             * ```javascript\r\n             * if ( UE.browser.ie8Compat ) {\r\n             *     console.log( '当前浏览器运行在IE8兼容模式下' );\r\n             * }\r\n             * ```\r\n             */\r\n            browser.ie8Compat = document.documentMode == 8;\r\n\r\n            /**\r\n             * @property { boolean } ie7Compat 检测浏览器模式是否为 IE7 兼容模式\r\n             * @warning 如果浏览器不是IE， 则该值为undefined\r\n             * @example\r\n             * ```javascript\r\n             * if ( UE.browser.ie7Compat ) {\r\n             *     console.log( '当前浏览器运行在IE7兼容模式下' );\r\n             * }\r\n             * ```\r\n             */\r\n            browser.ie7Compat = ((version == 7 && !document.documentMode) ||\r\n                document.documentMode == 7);\r\n\r\n            /**\r\n             * @property { boolean } ie6Compat 检测浏览器模式是否为 IE6 模式 或者怪异模式\r\n             * @warning 如果浏览器不是IE， 则该值为undefined\r\n             * @example\r\n             * ```javascript\r\n             * if ( UE.browser.ie6Compat ) {\r\n             *     console.log( '当前浏览器运行在IE6模式或者怪异模式下' );\r\n             * }\r\n             * ```\r\n             */\r\n            browser.ie6Compat = (version < 7 || browser.quirks);\r\n\r\n            browser.ie9above = version > 8;\r\n\r\n            browser.ie9below = version < 9;\r\n\r\n            browser.ie11above = version > 10;\r\n\r\n            browser.ie11below = version < 11;\r\n\r\n        }\r\n\r\n        // Gecko.\r\n        if (browser.gecko) {\r\n            var geckoRelease = agent.match(/rv:([\\d\\.]+)/);\r\n            if (geckoRelease) {\r\n                geckoRelease = geckoRelease[1].split('.');\r\n                version = geckoRelease[0] * 10000 + (geckoRelease[1] || 0) * 100 + (geckoRelease[2] || 0) * 1;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @property { Number } chrome 检测当前浏览器是否为Chrome, 如果是，则返回Chrome的大版本号\r\n         * @warning 如果浏览器不是chrome， 则该值为undefined\r\n         * @example\r\n         * ```javascript\r\n         * if ( UE.browser.chrome ) {\r\n         *     console.log( '当前浏览器是Chrome' );\r\n         * }\r\n         * ```\r\n         */\r\n        if (/chrome\\/(\\d+\\.\\d)/i.test(agent)) {\r\n            browser.chrome = +RegExp['\\x241'];\r\n        }\r\n\r\n        /**\r\n         * @property { Number } safari 检测当前浏览器是否为Safari, 如果是，则返回Safari的大版本号\r\n         * @warning 如果浏览器不是safari， 则该值为undefined\r\n         * @example\r\n         * ```javascript\r\n         * if ( UE.browser.safari ) {\r\n         *     console.log( '当前浏览器是Safari' );\r\n         * }\r\n         * ```\r\n         */\r\n        if (/(\\d+\\.\\d)?(?:\\.\\d)?\\s+safari\\/?(\\d+\\.\\d+)?/i.test(agent) && !/chrome/i.test(agent)) {\r\n            browser.safari = +(RegExp['\\x241'] || RegExp['\\x242']);\r\n        }\r\n\r\n\r\n        // Opera 9.50+\r\n        if (browser.opera)\r\n            version = parseFloat(opera.version());\r\n\r\n        // WebKit 522+ (Safari 3+)\r\n        if (browser.webkit)\r\n            version = parseFloat(agent.match(/ applewebkit\\/(\\d+)/)[1]);\r\n\r\n        /**\r\n         * @property { Number } version 检测当前浏览器版本号\r\n         * @remind\r\n         * <ul>\r\n         *     <li>IE系列返回值为5,6,7,8,9,10等</li>\r\n         *     <li>gecko系列会返回10900，158900等</li>\r\n         *     <li>webkit系列会返回其build号 (如 522等)</li>\r\n         * </ul>\r\n         * @example\r\n         * ```javascript\r\n         * console.log( '当前浏览器版本号是： ' + UE.browser.version );\r\n         * ```\r\n         */\r\n        browser.version = version;\r\n\r\n        /**\r\n         * @property { boolean } isCompatible 检测当前浏览器是否能够与UEditor良好兼容\r\n         * @example\r\n         * ```javascript\r\n         * if ( UE.browser.isCompatible ) {\r\n         *     console.log( '浏览器与UEditor能够良好兼容' );\r\n         * }\r\n         * ```\r\n         */\r\n        browser.isCompatible = !browser.mobile && (\r\n            (browser.ie && version >= 6) ||\r\n            (browser.gecko && version >= 10801) ||\r\n            (browser.opera && version >= 9.5) ||\r\n            (browser.air && version >= 1) ||\r\n            (browser.webkit && version >= 522) ||\r\n            false);\r\n        return browser;\r\n    }();\r\n    //快捷方式\r\n    var ie = browser.ie,\r\n        webkit = browser.webkit,\r\n        gecko = browser.gecko,\r\n        opera = browser.opera;\r\n\r\n    // core/utils.js\r\n    /**\r\n     * 工具函数包\r\n     * @file\r\n     * @module UE.utils\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * UEditor封装使用的静态工具函数\r\n     * @module UE.utils\r\n     * @unfile\r\n     */\r\n\r\n    var utils = UE.utils = {\r\n\r\n        /**\r\n         * 用给定的迭代器遍历对象\r\n         * @method each\r\n         * @param { Object } obj 需要遍历的对象\r\n         * @param { Function } iterator 迭代器， 该方法接受两个参数， 第一个参数是当前所处理的value， 第二个参数是当前遍历对象的key\r\n         * @example\r\n         * ```javascript\r\n         * var demoObj = {\r\n         *     key1: 1,\r\n         *     key2: 2\r\n         * };\r\n         *\r\n         * //output: key1: 1, key2: 2\r\n         * UE.utils.each( demoObj, funciton ( value, key ) {\r\n         *\r\n         *     console.log( key + \":\" + value );\r\n         *\r\n         * } );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 用给定的迭代器遍历数组或类数组对象\r\n         * @method each\r\n         * @param { Array } array 需要遍历的数组或者类数组\r\n         * @param { Function } iterator 迭代器， 该方法接受两个参数， 第一个参数是当前所处理的value， 第二个参数是当前遍历对象的key\r\n         * @example\r\n         * ```javascript\r\n         * var divs = document.getElmentByTagNames( \"div\" );\r\n         *\r\n         * //output: 0: DIV, 1: DIV ...\r\n         * UE.utils.each( divs, funciton ( value, key ) {\r\n         *\r\n         *     console.log( key + \":\" + value.tagName );\r\n         *\r\n         * } );\r\n         * ```\r\n         */\r\n        each: function(obj, iterator, context) {\r\n            if (obj == null) return;\r\n            if (obj.length === +obj.length) {\r\n                for (var i = 0, l = obj.length; i < l; i++) {\r\n                    if (iterator.call(context, obj[i], i, obj) === false)\r\n                        return false;\r\n                }\r\n            } else {\r\n                for (var key in obj) {\r\n                    if (obj.hasOwnProperty(key)) {\r\n                        if (iterator.call(context, obj[key], key, obj) === false)\r\n                            return false;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * 以给定对象作为原型创建一个新对象\r\n         * @method makeInstance\r\n         * @param { Object } protoObject 该对象将作为新创建对象的原型\r\n         * @return { Object } 新的对象， 该对象的原型是给定的protoObject对象\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var protoObject = { sayHello: function () { console.log('Hello UEditor!'); } };\r\n         *\r\n         * var newObject = UE.utils.makeInstance( protoObject );\r\n         * //output: Hello UEditor!\r\n         * newObject.sayHello();\r\n         * ```\r\n         */\r\n        makeInstance: function(obj) {\r\n            var noop = new Function();\r\n            noop.prototype = obj;\r\n            obj = new noop;\r\n            noop.prototype = null;\r\n            return obj;\r\n        },\r\n\r\n        /**\r\n         * 将source对象中的属性扩展到target对象上\r\n         * @method extend\r\n         * @remind 该方法将强制把source对象上的属性复制到target对象上\r\n         * @see UE.utils.extend(Object,Object,Boolean)\r\n         * @param { Object } target 目标对象， 新的属性将附加到该对象上\r\n         * @param { Object } source 源对象， 该对象的属性会被附加到target对象上\r\n         * @return { Object } 返回target对象\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var target = { name: 'target', sex: 1 },\r\n         *      source = { name: 'source', age: 17 };\r\n         *\r\n         * UE.utils.extend( target, source );\r\n         *\r\n         * //output: { name: 'source', sex: 1, age: 17 }\r\n         * console.log( target );\r\n         *\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 将source对象中的属性扩展到target对象上， 根据指定的isKeepTarget值决定是否保留目标对象中与\r\n         * 源对象属性名相同的属性值。\r\n         * @method extend\r\n         * @param { Object } target 目标对象， 新的属性将附加到该对象上\r\n         * @param { Object } source 源对象， 该对象的属性会被附加到target对象上\r\n         * @param { Boolean } isKeepTarget 是否保留目标对象中与源对象中属性名相同的属性\r\n         * @return { Object } 返回target对象\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var target = { name: 'target', sex: 1 },\r\n         *      source = { name: 'source', age: 17 };\r\n         *\r\n         * UE.utils.extend( target, source, true );\r\n         *\r\n         * //output: { name: 'target', sex: 1, age: 17 }\r\n         * console.log( target );\r\n         *\r\n         * ```\r\n         */\r\n        extend: function(t, s, b) {\r\n            if (s) {\r\n                for (var k in s) {\r\n                    if (!b || !t.hasOwnProperty(k)) {\r\n                        t[k] = s[k];\r\n                    }\r\n                }\r\n            }\r\n            return t;\r\n        },\r\n\r\n        /**\r\n         * 将给定的多个对象的属性复制到目标对象target上\r\n         * @method extend2\r\n         * @remind 该方法将强制把源对象上的属性复制到target对象上\r\n         * @remind 该方法支持两个及以上的参数， 从第二个参数开始， 其属性都会被复制到第一个参数上。 如果遇到同名的属性，\r\n         *          将会覆盖掉之前的值。\r\n         * @param { Object } target 目标对象， 新的属性将附加到该对象上\r\n         * @param { Object... } source 源对象， 支持多个对象， 该对象的属性会被附加到target对象上\r\n         * @return { Object } 返回target对象\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var target = {},\r\n         *     source1 = { name: 'source', age: 17 },\r\n         *     source2 = { title: 'dev' };\r\n         *\r\n         * UE.utils.extend2( target, source1, source2 );\r\n         *\r\n         * //output: { name: 'source', age: 17, title: 'dev' }\r\n         * console.log( target );\r\n         *\r\n         * ```\r\n         */\r\n        extend2: function(t) {\r\n            var a = arguments;\r\n            for (var i = 1; i < a.length; i++) {\r\n                var x = a[i];\r\n                for (var k in x) {\r\n                    if (!t.hasOwnProperty(k)) {\r\n                        t[k] = x[k];\r\n                    }\r\n                }\r\n            }\r\n            return t;\r\n        },\r\n\r\n        /**\r\n         * 模拟继承机制， 使得subClass继承自superClass\r\n         * @method inherits\r\n         * @param { Object } subClass 子类对象\r\n         * @param { Object } superClass 超类对象\r\n         * @warning 该方法只能让subClass继承超类的原型， subClass对象自身的属性和方法不会被继承\r\n         * @return { Object } 继承superClass后的子类对象\r\n         * @example\r\n         * ```javascript\r\n         * function SuperClass(){\r\n         *     this.name = \"小李\";\r\n         * }\r\n         *\r\n         * SuperClass.prototype = {\r\n         *     hello:function(str){\r\n         *         console.log(this.name + str);\r\n         *     }\r\n         * }\r\n         *\r\n         * function SubClass(){\r\n         *     this.name = \"小张\";\r\n         * }\r\n         *\r\n         * UE.utils.inherits(SubClass,SuperClass);\r\n         *\r\n         * var sub = new SubClass();\r\n         * //output: '小张早上好!\r\n         * sub.hello(\"早上好!\");\r\n         * ```\r\n         */\r\n        inherits: function(subClass, superClass) {\r\n            var oldP = subClass.prototype,\r\n                newP = utils.makeInstance(superClass.prototype);\r\n            utils.extend(newP, oldP, true);\r\n            subClass.prototype = newP;\r\n            return (newP.constructor = subClass);\r\n        },\r\n\r\n        /**\r\n         * 用指定的context对象作为函数fn的上下文\r\n         * @method bind\r\n         * @param { Function } fn 需要绑定上下文的函数对象\r\n         * @param { Object } content 函数fn新的上下文对象\r\n         * @return { Function } 一个新的函数， 该函数作为原始函数fn的代理， 将完成fn的上下文调换工作。\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var name = 'window',\r\n         *     newTest = null;\r\n         *\r\n         * function test () {\r\n         *     console.log( this.name );\r\n         * }\r\n         *\r\n         * newTest = UE.utils.bind( test, { name: 'object' } );\r\n         *\r\n         * //output: object\r\n         * newTest();\r\n         *\r\n         * //output: window\r\n         * test();\r\n         *\r\n         * ```\r\n         */\r\n        bind: function(fn, context) {\r\n            return function() {\r\n                return fn.apply(context, arguments);\r\n            };\r\n        },\r\n\r\n        /**\r\n         * 创建延迟指定时间后执行的函数fn\r\n         * @method defer\r\n         * @param { Function } fn 需要延迟执行的函数对象\r\n         * @param { int } delay 延迟的时间， 单位是毫秒\r\n         * @warning 该方法的时间控制是不精确的，仅仅只能保证函数的执行是在给定的时间之后，\r\n         *           而不能保证刚好到达延迟时间时执行。\r\n         * @return { Function } 目标函数fn的代理函数， 只有执行该函数才能起到延时效果\r\n         * @example\r\n         * ```javascript\r\n         * var start = 0;\r\n         *\r\n         * function test(){\r\n         *     console.log( new Date() - start );\r\n         * }\r\n         *\r\n         * var testDefer = UE.utils.defer( test, 1000 );\r\n         * //\r\n         * start = new Date();\r\n         * //output: (大约在1000毫秒之后输出) 1000\r\n         * testDefer();\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 创建延迟指定时间后执行的函数fn, 如果在延迟时间内再次执行该方法， 将会根据指定的exclusion的值，\r\n         * 决定是否取消前一次函数的执行， 如果exclusion的值为true， 则取消执行，反之，将继续执行前一个方法。\r\n         * @method defer\r\n         * @param { Function } fn 需要延迟执行的函数对象\r\n         * @param { int } delay 延迟的时间， 单位是毫秒\r\n         * @param { Boolean } exclusion 如果在延迟时间内再次执行该函数，该值将决定是否取消执行前一次函数的执行，\r\n         *                     值为true表示取消执行， 反之则将在执行前一次函数之后才执行本次函数调用。\r\n         * @warning 该方法的时间控制是不精确的，仅仅只能保证函数的执行是在给定的时间之后，\r\n         *           而不能保证刚好到达延迟时间时执行。\r\n         * @return { Function } 目标函数fn的代理函数， 只有执行该函数才能起到延时效果\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * function test(){\r\n         *     console.log(1);\r\n         * }\r\n         *\r\n         * var testDefer = UE.utils.defer( test, 1000, true );\r\n         *\r\n         * //output: (两次调用仅有一次输出) 1\r\n         * testDefer();\r\n         * testDefer();\r\n         * ```\r\n         */\r\n        defer: function(fn, delay, exclusion) {\r\n            var timerID;\r\n            return function() {\r\n                if (exclusion) {\r\n                    clearTimeout(timerID);\r\n                }\r\n                timerID = setTimeout(fn, delay);\r\n            };\r\n        },\r\n\r\n        /**\r\n         * 获取元素item在数组array中首次出现的位置, 如果未找到item， 则返回-1\r\n         * @method indexOf\r\n         * @remind 该方法的匹配过程使用的是恒等“===”\r\n         * @param { Array } array 需要查找的数组对象\r\n         * @param { * } item 需要在目标数组中查找的值\r\n         * @return { int } 返回item在目标数组array中首次出现的位置， 如果在数组中未找到item， 则返回-1\r\n         * @example\r\n         * ```javascript\r\n         * var item = 1,\r\n         *     arr = [ 3, 4, 6, 8, 1, 1, 2 ];\r\n         *\r\n         * //output: 4\r\n         * console.log( UE.utils.indexOf( arr, item ) );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 获取元素item数组array中首次出现的位置, 如果未找到item， 则返回-1。通过start的值可以指定搜索的起始位置。\r\n         * @method indexOf\r\n         * @remind 该方法的匹配过程使用的是恒等“===”\r\n         * @param { Array } array 需要查找的数组对象\r\n         * @param { * } item 需要在目标数组中查找的值\r\n         * @param { int } start 搜索的起始位置\r\n         * @return { int } 返回item在目标数组array中的start位置之后首次出现的位置， 如果在数组中未找到item， 则返回-1\r\n         * @example\r\n         * ```javascript\r\n         * var item = 1,\r\n         *     arr = [ 3, 4, 6, 8, 1, 2, 8, 3, 2, 1, 1, 4 ];\r\n         *\r\n         * //output: 9\r\n         * console.log( UE.utils.indexOf( arr, item, 5 ) );\r\n         * ```\r\n         */\r\n        indexOf: function(array, item, start) {\r\n            var index = -1;\r\n            start = this.isNumber(start) ? start : 0;\r\n            this.each(array, function(v, i) {\r\n                if (i >= start && v === item) {\r\n                    index = i;\r\n                    return false;\r\n                }\r\n            });\r\n            return index;\r\n        },\r\n\r\n        /**\r\n         * 移除数组array中所有的元素item\r\n         * @method removeItem\r\n         * @param { Array } array 要移除元素的目标数组\r\n         * @param { * } item 将要被移除的元素\r\n         * @remind 该方法的匹配过程使用的是恒等“===”\r\n         * @example\r\n         * ```javascript\r\n         * var arr = [ 4, 5, 7, 1, 3, 4, 6 ];\r\n         *\r\n         * UE.utils.removeItem( arr, 4 );\r\n         * //output: [ 5, 7, 1, 3, 6 ]\r\n         * console.log( arr );\r\n         *\r\n         * ```\r\n         */\r\n        removeItem: function(array, item) {\r\n            for (var i = 0, l = array.length; i < l; i++) {\r\n                if (array[i] === item) {\r\n                    array.splice(i, 1);\r\n                    i--;\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * 删除字符串str的首尾空格\r\n         * @method trim\r\n         * @param { String } str 需要删除首尾空格的字符串\r\n         * @return { String } 删除了首尾的空格后的字符串\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var str = \" UEdtior \";\r\n         *\r\n         * //output: 9\r\n         * console.log( str.length );\r\n         *\r\n         * //output: 7\r\n         * console.log( UE.utils.trim( \" UEdtior \" ).length );\r\n         *\r\n         * //output: 9\r\n         * console.log( str.length );\r\n         *\r\n         *  ```\r\n         */\r\n        trim: function(str) {\r\n            return str.replace(/(^[ \\t\\n\\r]+)|([ \\t\\n\\r]+$)/g, '');\r\n        },\r\n\r\n        /**\r\n         * 将字符串str以','分隔成数组后，将该数组转换成哈希对象， 其生成的hash对象的key为数组中的元素， value为1\r\n         * @method listToMap\r\n         * @warning 该方法在生成的hash对象中，会为每一个key同时生成一个另一个全大写的key。\r\n         * @param { String } str 该字符串将被以','分割为数组， 然后进行转化\r\n         * @return { Object } 转化之后的hash对象\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * //output: Object {UEdtior: 1, UEDTIOR: 1, Hello: 1, HELLO: 1}\r\n         * console.log( UE.utils.listToMap( 'UEdtior,Hello' ) );\r\n         *\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 将字符串数组转换成哈希对象， 其生成的hash对象的key为数组中的元素， value为1\r\n         * @method listToMap\r\n         * @warning 该方法在生成的hash对象中，会为每一个key同时生成一个另一个全大写的key。\r\n         * @param { Array } arr 字符串数组\r\n         * @return { Object } 转化之后的hash对象\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * //output: Object {UEdtior: 1, UEDTIOR: 1, Hello: 1, HELLO: 1}\r\n         * console.log( UE.utils.listToMap( [ 'UEdtior', 'Hello' ] ) );\r\n         *\r\n         * ```\r\n         */\r\n        listToMap: function(list) {\r\n            if (!list) return {};\r\n            list = utils.isArray(list) ? list : list.split(',');\r\n            for (var i = 0, ci, obj = {}; ci = list[i++];) {\r\n                obj[ci.toUpperCase()] = obj[ci] = 1;\r\n            }\r\n            return obj;\r\n        },\r\n\r\n        /**\r\n         * 将str中的html符号转义,将转义“'，&，<，\"，>”五个字符\r\n         * @method unhtml\r\n         * @param { String } str 需要转义的字符串\r\n         * @return { String } 转义后的字符串\r\n         * @example\r\n         * ```javascript\r\n         * var html = '<body>&</body>';\r\n         *\r\n         * //output: &lt;body&gt;&amp;&lt;/body&gt;\r\n         * console.log( UE.utils.unhtml( html ) );\r\n         *\r\n         * ```\r\n         */\r\n        unhtml: function(str, reg) {\r\n            return str ? str.replace(reg || /[&<\">'](?:(amp|lt|quot|gt|#39|nbsp|#\\d+);)?/g, function(a, b) {\r\n                if (b) {\r\n                    return a;\r\n                } else {\r\n                    return {\r\n                        '<': '&lt;',\r\n                        '&': '&amp;',\r\n                        '\"': '&quot;',\r\n                        '>': '&gt;',\r\n                        \"'\": '&#39;'\r\n                    }[a]\r\n                }\r\n\r\n            }) : '';\r\n        },\r\n        /**\r\n         * 将url中的html字符转义， 仅转义  ', \", <, > 四个字符\r\n         * @param  { String } str 需要转义的字符串\r\n         * @param  { RegExp } reg 自定义的正则\r\n         * @return { String }     转义后的字符串\r\n         */\r\n        unhtmlForUrl: function(str, reg) {\r\n            return str ? str.replace(reg || /[<\">']/g, function(a) {\r\n                return {\r\n                    '<': '&lt;',\r\n                    '&': '&amp;',\r\n                    '\"': '&quot;',\r\n                    '>': '&gt;',\r\n                    \"'\": '&#39;'\r\n                }[a]\r\n\r\n            }) : '';\r\n        },\r\n\r\n        /**\r\n         * 将str中的转义字符还原成html字符\r\n         * @see UE.utils.unhtml(String);\r\n         * @method html\r\n         * @param { String } str 需要逆转义的字符串\r\n         * @return { String } 逆转义后的字符串\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var str = '&lt;body&gt;&amp;&lt;/body&gt;';\r\n         *\r\n         * //output: <body>&</body>\r\n         * console.log( UE.utils.html( str ) );\r\n         *\r\n         * ```\r\n         */\r\n        html: function(str) {\r\n            return str ? str.replace(/&((g|l|quo)t|amp|#39|nbsp);/g, function(m) {\r\n                return {\r\n                    '&lt;': '<',\r\n                    '&amp;': '&',\r\n                    '&quot;': '\"',\r\n                    '&gt;': '>',\r\n                    '&#39;': \"'\",\r\n                    '&nbsp;': ' '\r\n                }[m]\r\n            }) : '';\r\n        },\r\n\r\n        /**\r\n         * 将css样式转换为驼峰的形式\r\n         * @method cssStyleToDomStyle\r\n         * @param { String } cssName 需要转换的css样式名\r\n         * @return { String } 转换成驼峰形式后的css样式名\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var str = 'border-top';\r\n         *\r\n         * //output: borderTop\r\n         * console.log( UE.utils.cssStyleToDomStyle( str ) );\r\n         *\r\n         * ```\r\n         */\r\n        cssStyleToDomStyle: function() {\r\n            var test = document.createElement('div').style,\r\n                cache = {\r\n                    'float': test.cssFloat != undefined ? 'cssFloat' : test.styleFloat != undefined ? 'styleFloat' : 'float'\r\n                };\r\n\r\n            return function(cssName) {\r\n                return cache[cssName] || (cache[cssName] = cssName.toLowerCase().replace(/-./g, function(match) {\r\n                    return match.charAt(1).toUpperCase();\r\n                }));\r\n            };\r\n        }(),\r\n\r\n        /**\r\n         * 动态加载文件到doc中\r\n         * @method loadFile\r\n         * @param { DomDocument } document 需要加载资源文件的文档对象\r\n         * @param { Object } options 加载资源文件的属性集合， 取值请参考代码示例\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * UE.utils.loadFile( document, {\r\n         *     src:\"test.js\",\r\n         *     tag:\"script\",\r\n         *     type:\"text/javascript\",\r\n         *     defer:\"defer\"\r\n         * } );\r\n         *\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 动态加载文件到doc中，加载成功后执行的回调函数fn\r\n         * @method loadFile\r\n         * @param { DomDocument } document 需要加载资源文件的文档对象\r\n         * @param { Object } options 加载资源文件的属性集合， 该集合支持的值是script标签和style标签支持的所有属性。\r\n         * @param { Function } fn 资源文件加载成功之后执行的回调\r\n         * @warning 对于在同一个文档中多次加载同一URL的文件， 该方法会在第一次加载之后缓存该请求，\r\n         *           在此之后的所有同一URL的请求， 将会直接触发回调。\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * UE.utils.loadFile( document, {\r\n         *     src:\"test.js\",\r\n         *     tag:\"script\",\r\n         *     type:\"text/javascript\",\r\n         *     defer:\"defer\"\r\n         * }, function () {\r\n         *     console.log('加载成功');\r\n         * } );\r\n         *\r\n         * ```\r\n         */\r\n        loadFile: function() {\r\n            var tmpList = [];\r\n\r\n            function getItem(doc, obj) {\r\n                try {\r\n                    for (var i = 0, ci; ci = tmpList[i++];) {\r\n                        if (ci.doc === doc && ci.url == (obj.src || obj.href)) {\r\n                            return ci;\r\n                        }\r\n                    }\r\n                } catch (e) {\r\n                    return null;\r\n                }\r\n\r\n            }\r\n\r\n            return function(doc, obj, fn) {\r\n                var item = getItem(doc, obj);\r\n                if (item) {\r\n                    if (item.ready) {\r\n                        fn && fn();\r\n                    } else {\r\n                        item.funs.push(fn)\r\n                    }\r\n                    return;\r\n                }\r\n                tmpList.push({\r\n                    doc: doc,\r\n                    url: obj.src || obj.href,\r\n                    funs: [fn]\r\n                });\r\n                if (!doc.body) {\r\n                    var html = [];\r\n                    for (var p in obj) {\r\n                        if (p == 'tag') continue;\r\n                        html.push(p + '=\"' + obj[p] + '\"')\r\n                    }\r\n                    doc.write('<' + obj.tag + ' ' + html.join(' ') + ' ></' + obj.tag + '>');\r\n                    return;\r\n                }\r\n                if (obj.id && doc.getElementById(obj.id)) {\r\n                    return;\r\n                }\r\n                var element = doc.createElement(obj.tag);\r\n                delete obj.tag;\r\n                for (var p in obj) {\r\n                    element.setAttribute(p, obj[p]);\r\n                }\r\n                element.onload = element.onreadystatechange = function() {\r\n                    if (!this.readyState || /loaded|complete/.test(this.readyState)) {\r\n                        item = getItem(doc, obj);\r\n                        if (item.funs.length > 0) {\r\n                            item.ready = 1;\r\n                            for (var fi; fi = item.funs.pop();) {\r\n                                fi();\r\n                            }\r\n                        }\r\n                        element.onload = element.onreadystatechange = null;\r\n                    }\r\n                };\r\n                element.onerror = function() {\r\n                    throw Error('The load ' + (obj.href || obj.src) + ' fails,check the url settings of file ueditor.config.js ')\r\n                };\r\n                doc.getElementsByTagName(\"head\")[0].appendChild(element);\r\n            }\r\n        }(),\r\n\r\n        /**\r\n         * 判断obj对象是否为空\r\n         * @method isEmptyObject\r\n         * @param { * } obj 需要判断的对象\r\n         * @remind 如果判断的对象是NULL， 将直接返回true， 如果是数组且为空， 返回true， 如果是字符串， 且字符串为空，\r\n         *          返回true， 如果是普通对象， 且该对象没有任何实例属性， 返回true\r\n         * @return { Boolean } 对象是否为空\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * //output: true\r\n         * console.log( UE.utils.isEmptyObject( {} ) );\r\n         *\r\n         * //output: true\r\n         * console.log( UE.utils.isEmptyObject( [] ) );\r\n         *\r\n         * //output: true\r\n         * console.log( UE.utils.isEmptyObject( \"\" ) );\r\n         *\r\n         * //output: false\r\n         * console.log( UE.utils.isEmptyObject( { key: 1 } ) );\r\n         *\r\n         * //output: false\r\n         * console.log( UE.utils.isEmptyObject( [1] ) );\r\n         *\r\n         * //output: false\r\n         * console.log( UE.utils.isEmptyObject( \"1\" ) );\r\n         *\r\n         * ```\r\n         */\r\n        isEmptyObject: function(obj) {\r\n            if (obj == null) return true;\r\n            if (this.isArray(obj) || this.isString(obj)) return obj.length === 0;\r\n            for (var key in obj)\r\n                if (obj.hasOwnProperty(key)) return false;\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * 把rgb格式的颜色值转换成16进制格式\r\n         * @method fixColor\r\n         * @param { String } rgb格式的颜色值\r\n         * @param { String }\r\n         * @example\r\n         * rgb(255,255,255)  => \"#ffffff\"\r\n         */\r\n        fixColor: function(name, value) {\r\n            if (/color/i.test(name) && /rgba?/.test(value)) {\r\n                var array = value.split(\",\");\r\n                if (array.length > 3)\r\n                    return \"\";\r\n                value = \"#\";\r\n                for (var i = 0, color; color = array[i++];) {\r\n                    color = parseInt(color.replace(/[^\\d]/gi, ''), 10).toString(16);\r\n                    value += color.length == 1 ? \"0\" + color : color;\r\n                }\r\n                value = value.toUpperCase();\r\n            }\r\n            return value;\r\n        },\r\n        /**\r\n         * 只针对border,padding,margin做了处理，因为性能问题\r\n         * @public\r\n         * @function\r\n         * @param {String}    val style字符串\r\n         */\r\n        optCss: function(val) {\r\n            var padding, margin, border;\r\n            val = val.replace(/(padding|margin|border)\\-([^:]+):([^;]+);?/gi, function(str, key, name, val) {\r\n                if (val.split(' ').length == 1) {\r\n                    switch (key) {\r\n                        case 'padding':\r\n                            !padding && (padding = {});\r\n                            padding[name] = val;\r\n                            return '';\r\n                        case 'margin':\r\n                            !margin && (margin = {});\r\n                            margin[name] = val;\r\n                            return '';\r\n                        case 'border':\r\n                            return val == 'initial' ? '' : str;\r\n                    }\r\n                }\r\n                return str;\r\n            });\r\n\r\n            function opt(obj, name) {\r\n                if (!obj) {\r\n                    return '';\r\n                }\r\n                var t = obj.top,\r\n                    b = obj.bottom,\r\n                    l = obj.left,\r\n                    r = obj.right,\r\n                    val = '';\r\n                if (!t || !l || !b || !r) {\r\n                    for (var p in obj) {\r\n                        val += ';' + name + '-' + p + ':' + obj[p] + ';';\r\n                    }\r\n                } else {\r\n                    val += ';' + name + ':' +\r\n                        (t == b && b == l && l == r ? t :\r\n                            t == b && l == r ? (t + ' ' + l) :\r\n                            l == r ? (t + ' ' + l + ' ' + b) : (t + ' ' + r + ' ' + b + ' ' + l)) + ';'\r\n                }\r\n                return val;\r\n            }\r\n\r\n            val += opt(padding, 'padding') + opt(margin, 'margin');\r\n            return val.replace(/^[ \\n\\r\\t;]*|[ \\n\\r\\t]*$/, '').replace(/;([ \\n\\r\\t]+)|\\1;/g, ';')\r\n                .replace(/(&((l|g)t|quot|#39))?;{2,}/g, function(a, b) {\r\n                    return b ? b + \";;\" : ';'\r\n                });\r\n        },\r\n\r\n        /**\r\n         * 克隆对象\r\n         * @method clone\r\n         * @param { Object } source 源对象\r\n         * @return { Object } source的一个副本\r\n         */\r\n\r\n        /**\r\n         * 深度克隆对象，将source的属性克隆到target对象， 会覆盖target重名的属性。\r\n         * @method clone\r\n         * @param { Object } source 源对象\r\n         * @param { Object } target 目标对象\r\n         * @return { Object } 附加了source对象所有属性的target对象\r\n         */\r\n        clone: function(source, target) {\r\n            var tmp;\r\n            target = target || {};\r\n            for (var i in source) {\r\n                if (source.hasOwnProperty(i)) {\r\n                    tmp = source[i];\r\n                    if (typeof tmp == 'object') {\r\n                        target[i] = utils.isArray(tmp) ? [] : {};\r\n                        utils.clone(source[i], target[i])\r\n                    } else {\r\n                        target[i] = tmp;\r\n                    }\r\n                }\r\n            }\r\n            return target;\r\n        },\r\n\r\n        /**\r\n         * 把cm／pt为单位的值转换为px为单位的值\r\n         * @method transUnitToPx\r\n         * @param { String } 待转换的带单位的字符串\r\n         * @return { String } 转换为px为计量单位的值的字符串\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * //output: 500px\r\n         * console.log( UE.utils.transUnitToPx( '20cm' ) );\r\n         *\r\n         * //output: 27px\r\n         * console.log( UE.utils.transUnitToPx( '20pt' ) );\r\n         *\r\n         * ```\r\n         */\r\n        transUnitToPx: function(val) {\r\n            if (!/(pt|cm)/.test(val)) {\r\n                return val\r\n            }\r\n            var unit;\r\n            val.replace(/([\\d.]+)(\\w+)/, function(str, v, u) {\r\n                val = v;\r\n                unit = u;\r\n            });\r\n            switch (unit) {\r\n                case 'cm':\r\n                    val = parseFloat(val) * 25;\r\n                    break;\r\n                case 'pt':\r\n                    val = Math.round(parseFloat(val) * 96 / 72);\r\n            }\r\n            return val + (val ? 'px' : '');\r\n        },\r\n\r\n        /**\r\n         * 在dom树ready之后执行给定的回调函数\r\n         * @method domReady\r\n         * @remind 如果在执行该方法的时候， dom树已经ready， 那么回调函数将立刻执行\r\n         * @param { Function } fn dom树ready之后的回调函数\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * UE.utils.domReady( function () {\r\n         *\r\n         *     console.log('123');\r\n         *\r\n         * } );\r\n         *\r\n         * ```\r\n         */\r\n        domReady: function() {\r\n\r\n            var fnArr = [];\r\n\r\n            function doReady(doc) {\r\n                //确保onready只执行一次\r\n                doc.isReady = true;\r\n                for (var ci; ci = fnArr.pop(); ci()) {}\r\n            }\r\n\r\n            return function(onready, win) {\r\n                win = win || window;\r\n                var doc = win.document;\r\n                onready && fnArr.push(onready);\r\n                if (doc.readyState === \"complete\") {\r\n                    doReady(doc);\r\n                } else {\r\n                    doc.isReady && doReady(doc);\r\n                    if (browser.ie && browser.version != 11) {\r\n                        (function() {\r\n                            if (doc.isReady) return;\r\n                            try {\r\n                                doc.documentElement.doScroll(\"left\");\r\n                            } catch (error) {\r\n                                setTimeout(arguments.callee, 0);\r\n                                return;\r\n                            }\r\n                            doReady(doc);\r\n                        })();\r\n                        win.attachEvent('onload', function() {\r\n                            doReady(doc)\r\n                        });\r\n                    } else {\r\n                        doc.addEventListener(\"DOMContentLoaded\", function() {\r\n                            doc.removeEventListener(\"DOMContentLoaded\", arguments.callee, false);\r\n                            doReady(doc);\r\n                        }, false);\r\n                        win.addEventListener('load', function() {\r\n                            doReady(doc)\r\n                        }, false);\r\n                    }\r\n                }\r\n\r\n            }\r\n        }(),\r\n\r\n        /**\r\n         * 动态添加css样式\r\n         * @method cssRule\r\n         * @param { String } 节点名称\r\n         * @grammar UE.utils.cssRule('添加的样式的节点名称',['样式'，'放到哪个document上'])\r\n         * @grammar UE.utils.cssRule('body','body{background:#ccc}') => null  //给body添加背景颜色\r\n         * @grammar UE.utils.cssRule('body') =>样式的字符串  //取得key值为body的样式的内容,如果没有找到key值先关的样式将返回空，例如刚才那个背景颜色，将返回 body{background:#ccc}\r\n         * @grammar UE.utils.cssRule('body',document) => 返回指定key的样式，并且指定是哪个document\r\n         * @grammar UE.utils.cssRule('body','') =>null //清空给定的key值的背景颜色\r\n         */\r\n        cssRule: browser.ie && browser.version != 11 ? function(key, style, doc) {\r\n            var indexList, index;\r\n            if (style === undefined || style && style.nodeType && style.nodeType == 9) {\r\n                //获取样式\r\n                doc = style && style.nodeType && style.nodeType == 9 ? style : (doc || document);\r\n                indexList = doc.indexList || (doc.indexList = {});\r\n                index = indexList[key];\r\n                if (index !== undefined) {\r\n                    return doc.styleSheets[index].cssText\r\n                }\r\n                return undefined;\r\n            }\r\n            doc = doc || document;\r\n            indexList = doc.indexList || (doc.indexList = {});\r\n            index = indexList[key];\r\n            //清除样式\r\n            if (style === '') {\r\n                if (index !== undefined) {\r\n                    doc.styleSheets[index].cssText = '';\r\n                    delete indexList[key];\r\n                    return true\r\n                }\r\n                return false;\r\n            }\r\n\r\n            //添加样式\r\n            if (index !== undefined) {\r\n                sheetStyle = doc.styleSheets[index];\r\n            } else {\r\n                sheetStyle = doc.createStyleSheet('', index = doc.styleSheets.length);\r\n                indexList[key] = index;\r\n            }\r\n            sheetStyle.cssText = style;\r\n        } : function(key, style, doc) {\r\n            var head, node;\r\n            if (style === undefined || style && style.nodeType && style.nodeType == 9) {\r\n                //获取样式\r\n                doc = style && style.nodeType && style.nodeType == 9 ? style : (doc || document);\r\n                node = doc.getElementById(key);\r\n                return node ? node.innerHTML : undefined;\r\n            }\r\n            doc = doc || document;\r\n            node = doc.getElementById(key);\r\n\r\n            //清除样式\r\n            if (style === '') {\r\n                if (node) {\r\n                    node.parentNode.removeChild(node);\r\n                    return true\r\n                }\r\n                return false;\r\n            }\r\n\r\n            //添加样式\r\n            if (node) {\r\n                node.innerHTML = style;\r\n            } else {\r\n                node = doc.createElement('style');\r\n                node.id = key;\r\n                node.innerHTML = style;\r\n                doc.getElementsByTagName('head')[0].appendChild(node);\r\n            }\r\n        },\r\n        sort: function(array, compareFn) {\r\n            compareFn = compareFn || function(item1, item2) { return item1.localeCompare(item2); };\r\n            for (var i = 0, len = array.length; i < len; i++) {\r\n                for (var j = i, length = array.length; j < length; j++) {\r\n                    if (compareFn(array[i], array[j]) > 0) {\r\n                        var t = array[i];\r\n                        array[i] = array[j];\r\n                        array[j] = t;\r\n                    }\r\n                }\r\n            }\r\n            return array;\r\n        },\r\n        serializeParam: function(json) {\r\n            var strArr = [];\r\n            for (var i in json) {\r\n                //忽略默认的几个参数\r\n                if (i == \"method\" || i == \"timeout\" || i == \"async\") continue;\r\n                //传递过来的对象和函数不在提交之列\r\n                if (!((typeof json[i]).toLowerCase() == \"function\" || (typeof json[i]).toLowerCase() == \"object\")) {\r\n                    strArr.push(encodeURIComponent(i) + \"=\" + encodeURIComponent(json[i]));\r\n                } else if (utils.isArray(json[i])) {\r\n                    //支持传数组内容\r\n                    for (var j = 0; j < json[i].length; j++) {\r\n                        strArr.push(encodeURIComponent(i) + \"[]=\" + encodeURIComponent(json[i][j]));\r\n                    }\r\n                }\r\n            }\r\n            return strArr.join(\"&\");\r\n        },\r\n        formatUrl: function(url) {\r\n            var u = url.replace(/&&/g, '&');\r\n            u = u.replace(/\\?&/g, '?');\r\n            u = u.replace(/&$/g, '');\r\n            u = u.replace(/&#/g, '#');\r\n            u = u.replace(/&+/g, '&');\r\n            return u;\r\n        },\r\n        isCrossDomainUrl: function(url) {\r\n            var a = document.createElement('a');\r\n            a.href = url;\r\n            if (browser.ie) {\r\n                a.href = a.href;\r\n            }\r\n            return !(a.protocol == location.protocol && a.hostname == location.hostname &&\r\n                (a.port == location.port || (a.port == '80' && location.port == '') || (a.port == '' && location.port == '80')));\r\n        },\r\n        clearEmptyAttrs: function(obj) {\r\n            for (var p in obj) {\r\n                if (obj[p] === '') {\r\n                    delete obj[p]\r\n                }\r\n            }\r\n            return obj;\r\n        },\r\n        str2json: function(s) {\r\n\r\n            if (!utils.isString(s)) return null;\r\n            if (window.JSON) {\r\n                return JSON.parse(s);\r\n            } else {\r\n                return (new Function(\"return \" + utils.trim(s || '')))();\r\n            }\r\n\r\n        },\r\n        json2str: (function() {\r\n\r\n            if (window.JSON) {\r\n\r\n                return JSON.stringify;\r\n\r\n            } else {\r\n\r\n                var escapeMap = {\r\n                    \"\\b\": '\\\\b',\r\n                    \"\\t\": '\\\\t',\r\n                    \"\\n\": '\\\\n',\r\n                    \"\\f\": '\\\\f',\r\n                    \"\\r\": '\\\\r',\r\n                    '\"': '\\\\\"',\r\n                    \"\\\\\": '\\\\\\\\'\r\n                };\r\n\r\n                function encodeString(source) {\r\n                    if (/[\"\\\\\\x00-\\x1f]/.test(source)) {\r\n                        source = source.replace(\r\n                            /[\"\\\\\\x00-\\x1f]/g,\r\n                            function(match) {\r\n                                var c = escapeMap[match];\r\n                                if (c) {\r\n                                    return c;\r\n                                }\r\n                                c = match.charCodeAt();\r\n                                return \"\\\\u00\" +\r\n                                    Math.floor(c / 16).toString(16) +\r\n                                    (c % 16).toString(16);\r\n                            });\r\n                    }\r\n                    return '\"' + source + '\"';\r\n                }\r\n\r\n                function encodeArray(source) {\r\n                    var result = [\"[\"],\r\n                        l = source.length,\r\n                        preComma, i, item;\r\n\r\n                    for (i = 0; i < l; i++) {\r\n                        item = source[i];\r\n\r\n                        switch (typeof item) {\r\n                            case \"undefined\":\r\n                            case \"function\":\r\n                            case \"unknown\":\r\n                                break;\r\n                            default:\r\n                                if (preComma) {\r\n                                    result.push(',');\r\n                                }\r\n                                result.push(utils.json2str(item));\r\n                                preComma = 1;\r\n                        }\r\n                    }\r\n                    result.push(\"]\");\r\n                    return result.join(\"\");\r\n                }\r\n\r\n                function pad(source) {\r\n                    return source < 10 ? '0' + source : source;\r\n                }\r\n\r\n                function encodeDate(source) {\r\n                    return '\"' + source.getFullYear() + \"-\" +\r\n                        pad(source.getMonth() + 1) + \"-\" +\r\n                        pad(source.getDate()) + \"T\" +\r\n                        pad(source.getHours()) + \":\" +\r\n                        pad(source.getMinutes()) + \":\" +\r\n                        pad(source.getSeconds()) + '\"';\r\n                }\r\n\r\n                return function(value) {\r\n                    switch (typeof value) {\r\n                        case 'undefined':\r\n                            return 'undefined';\r\n\r\n                        case 'number':\r\n                            return isFinite(value) ? String(value) : \"null\";\r\n\r\n                        case 'string':\r\n                            return encodeString(value);\r\n\r\n                        case 'boolean':\r\n                            return String(value);\r\n\r\n                        default:\r\n                            if (value === null) {\r\n                                return 'null';\r\n                            } else if (utils.isArray(value)) {\r\n                                return encodeArray(value);\r\n                            } else if (utils.isDate(value)) {\r\n                                return encodeDate(value);\r\n                            } else {\r\n                                var result = ['{'],\r\n                                    encode = utils.json2str,\r\n                                    preComma,\r\n                                    item;\r\n\r\n                                for (var key in value) {\r\n                                    if (Object.prototype.hasOwnProperty.call(value, key)) {\r\n                                        item = value[key];\r\n                                        switch (typeof item) {\r\n                                            case 'undefined':\r\n                                            case 'unknown':\r\n                                            case 'function':\r\n                                                break;\r\n                                            default:\r\n                                                if (preComma) {\r\n                                                    result.push(',');\r\n                                                }\r\n                                                preComma = 1;\r\n                                                result.push(encode(key) + ':' + encode(item));\r\n                                        }\r\n                                    }\r\n                                }\r\n                                result.push('}');\r\n                                return result.join('');\r\n                            }\r\n                    }\r\n                };\r\n            }\r\n\r\n        })()\r\n\r\n    };\r\n    /**\r\n     * 判断给定的对象是否是字符串\r\n     * @method isString\r\n     * @param { * } object 需要判断的对象\r\n     * @return { Boolean } 给定的对象是否是字符串\r\n     */\r\n\r\n    /**\r\n     * 判断给定的对象是否是数组\r\n     * @method isArray\r\n     * @param { * } object 需要判断的对象\r\n     * @return { Boolean } 给定的对象是否是数组\r\n     */\r\n\r\n    /**\r\n     * 判断给定的对象是否是一个Function\r\n     * @method isFunction\r\n     * @param { * } object 需要判断的对象\r\n     * @return { Boolean } 给定的对象是否是Function\r\n     */\r\n\r\n    /**\r\n     * 判断给定的对象是否是Number\r\n     * @method isNumber\r\n     * @param { * } object 需要判断的对象\r\n     * @return { Boolean } 给定的对象是否是Number\r\n     */\r\n\r\n    /**\r\n     * 判断给定的对象是否是一个正则表达式\r\n     * @method isRegExp\r\n     * @param { * } object 需要判断的对象\r\n     * @return { Boolean } 给定的对象是否是正则表达式\r\n     */\r\n\r\n    /**\r\n     * 判断给定的对象是否是一个普通对象\r\n     * @method isObject\r\n     * @param { * } object 需要判断的对象\r\n     * @return { Boolean } 给定的对象是否是普通对象\r\n     */\r\n    utils.each(['String', 'Function', 'Array', 'Number', 'RegExp', 'Object', 'Date'], function(v) {\r\n        UE.utils['is' + v] = function(obj) {\r\n            return Object.prototype.toString.apply(obj) == '[object ' + v + ']';\r\n        }\r\n    });\r\n\r\n\r\n    // core/EventBase.js\r\n    /**\r\n     * UE采用的事件基类\r\n     * @file\r\n     * @module UE\r\n     * @class EventBase\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * UEditor公用空间，UEditor所有的功能都挂载在该空间下\r\n     * @unfile\r\n     * @module UE\r\n     */\r\n\r\n    /**\r\n     * UE采用的事件基类，继承此类的对应类将获取addListener,removeListener,fireEvent方法。\r\n     * 在UE中，Editor以及所有ui实例都继承了该类，故可以在对应的ui对象以及editor对象上使用上述方法。\r\n     * @unfile\r\n     * @module UE\r\n     * @class EventBase\r\n     */\r\n\r\n    /**\r\n     * 通过此构造器，子类可以继承EventBase获取事件监听的方法\r\n     * @constructor\r\n     * @example\r\n     * ```javascript\r\n     * UE.EventBase.call(editor);\r\n     * ```\r\n     */\r\n    var EventBase = UE.EventBase = function() {};\r\n\r\n    EventBase.prototype = {\r\n\r\n        /**\r\n         * 注册事件监听器\r\n         * @method addListener\r\n         * @param { String } types 监听的事件名称，同时监听多个事件使用空格分隔\r\n         * @param { Function } fn 监听的事件被触发时，会执行该回调函数\r\n         * @waining 事件被触发时，监听的函数假如返回的值恒等于true，回调函数的队列中后面的函数将不执行\r\n         * @example\r\n         * ```javascript\r\n         * editor.addListener('selectionchange',function(){\r\n         *      console.log(\"选区已经变化！\");\r\n         * })\r\n         * editor.addListener('beforegetcontent aftergetcontent',function(type){\r\n         *         if(type == 'beforegetcontent'){\r\n         *             //do something\r\n         *         }else{\r\n         *             //do something\r\n         *         }\r\n         *         console.log(this.getContent) // this是注册的事件的编辑器实例\r\n         * })\r\n         * ```\r\n         * @see UE.EventBase:fireEvent(String)\r\n         */\r\n        addListener: function(types, listener) {\r\n            types = utils.trim(types).split(/\\s+/);\r\n            for (var i = 0, ti; ti = types[i++];) {\r\n                getListener(this, ti, true).push(listener);\r\n            }\r\n        },\r\n\r\n        on: function(types, listener) {\r\n            return this.addListener(types, listener);\r\n        },\r\n        off: function(types, listener) {\r\n            return this.removeListener(types, listener)\r\n        },\r\n        trigger: function() {\r\n            return this.fireEvent.apply(this, arguments);\r\n        },\r\n        /**\r\n         * 移除事件监听器\r\n         * @method removeListener\r\n         * @param { String } types 移除的事件名称，同时移除多个事件使用空格分隔\r\n         * @param { Function } fn 移除监听事件的函数引用\r\n         * @example\r\n         * ```javascript\r\n         * //changeCallback为方法体\r\n         * editor.removeListener(\"selectionchange\",changeCallback);\r\n         * ```\r\n         */\r\n        removeListener: function(types, listener) {\r\n            types = utils.trim(types).split(/\\s+/);\r\n            for (var i = 0, ti; ti = types[i++];) {\r\n                utils.removeItem(getListener(this, ti) || [], listener);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * 触发事件\r\n         * @method fireEvent\r\n         * @param { String } types 触发的事件名称，同时触发多个事件使用空格分隔\r\n         * @remind 该方法会触发addListener\r\n         * @return { * } 返回触发事件的队列中，最后执行的回调函数的返回值\r\n         * @example\r\n         * ```javascript\r\n         * editor.fireEvent(\"selectionchange\");\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 触发事件\r\n         * @method fireEvent\r\n         * @param { String } types 触发的事件名称，同时触发多个事件使用空格分隔\r\n         * @param { *... } options 可选参数，可以传入一个或多个参数，会传给事件触发的回调函数\r\n         * @return { * } 返回触发事件的队列中，最后执行的回调函数的返回值\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * editor.addListener( \"selectionchange\", function ( type, arg1, arg2 ) {\r\n         *\r\n         *     console.log( arg1 + \" \" + arg2 );\r\n         *\r\n         * } );\r\n         *\r\n         * //触发selectionchange事件， 会执行上面的事件监听器\r\n         * //output: Hello World\r\n         * editor.fireEvent(\"selectionchange\", \"Hello\", \"World\");\r\n         * ```\r\n         */\r\n        fireEvent: function() {\r\n            var types = arguments[0];\r\n            types = utils.trim(types).split(' ');\r\n            for (var i = 0, ti; ti = types[i++];) {\r\n                var listeners = getListener(this, ti),\r\n                    r, t, k;\r\n                if (listeners) {\r\n                    k = listeners.length;\r\n                    while (k--) {\r\n                        if (!listeners[k]) continue;\r\n                        t = listeners[k].apply(this, arguments);\r\n                        if (t === true) {\r\n                            return t;\r\n                        }\r\n                        if (t !== undefined) {\r\n                            r = t;\r\n                        }\r\n                    }\r\n                }\r\n                if (t = this['on' + ti.toLowerCase()]) {\r\n                    r = t.apply(this, arguments);\r\n                }\r\n            }\r\n            return r;\r\n        }\r\n    };\r\n    /**\r\n     * 获得对象所拥有监听类型的所有监听器\r\n     * @unfile\r\n     * @module UE\r\n     * @since 1.2.6.1\r\n     * @method getListener\r\n     * @public\r\n     * @param { Object } obj  查询监听器的对象\r\n     * @param { String } type 事件类型\r\n     * @param { Boolean } force  为true且当前所有type类型的侦听器不存在时，创建一个空监听器数组\r\n     * @return { Array } 监听器数组\r\n     */\r\n    function getListener(obj, type, force) {\r\n        var allListeners;\r\n        type = type.toLowerCase();\r\n        return ((allListeners = (obj.__allListeners || force && (obj.__allListeners = {}))) &&\r\n            (allListeners[type] || force && (allListeners[type] = [])));\r\n    }\r\n\r\n\r\n\r\n    // core/dtd.js\r\n    ///import editor.js\r\n    ///import core/dom/dom.js\r\n    ///import core/utils.js\r\n    /**\r\n     * dtd html语义化的体现类\r\n     * @constructor\r\n     * @namespace dtd\r\n     */\r\n    var dtd = dom.dtd = (function() {\r\n        function _(s) {\r\n            for (var k in s) {\r\n                s[k.toUpperCase()] = s[k];\r\n            }\r\n            return s;\r\n        }\r\n        var X = utils.extend2;\r\n        var A = _({ isindex: 1, fieldset: 1 }),\r\n            B = _({ input: 1, button: 1, select: 1, textarea: 1, label: 1 }),\r\n            C = X(_({ a: 1 }), B),\r\n            D = X({ iframe: 1 }, C),\r\n            E = _({ hr: 1, ul: 1, menu: 1, div: 1, blockquote: 1, noscript: 1, table: 1, center: 1, address: 1, dir: 1, pre: 1, h5: 1, dl: 1, h4: 1, noframes: 1, h6: 1, ol: 1, h1: 1, h3: 1, h2: 1 }),\r\n            F = _({ ins: 1, del: 1, script: 1, style: 1 }),\r\n            G = X(_({ b: 1, acronym: 1, bdo: 1, 'var': 1, '#': 1, abbr: 1, code: 1, br: 1, i: 1, cite: 1, kbd: 1, u: 1, strike: 1, s: 1, tt: 1, strong: 1, q: 1, samp: 1, em: 1, dfn: 1, span: 1 }), F),\r\n            H = X(_({ sub: 1, img: 1, embed: 1, object: 1, sup: 1, basefont: 1, map: 1, applet: 1, font: 1, big: 1, small: 1 }), G),\r\n            I = X(_({ p: 1 }), H),\r\n            J = X(_({ iframe: 1 }), H, B),\r\n            K = _({ img: 1, embed: 1, noscript: 1, br: 1, kbd: 1, center: 1, button: 1, basefont: 1, h5: 1, h4: 1, samp: 1, h6: 1, ol: 1, h1: 1, h3: 1, h2: 1, form: 1, font: 1, '#': 1, select: 1, menu: 1, ins: 1, abbr: 1, label: 1, code: 1, table: 1, script: 1, cite: 1, input: 1, iframe: 1, strong: 1, textarea: 1, noframes: 1, big: 1, small: 1, span: 1, hr: 1, sub: 1, bdo: 1, 'var': 1, div: 1, object: 1, sup: 1, strike: 1, dir: 1, map: 1, dl: 1, applet: 1, del: 1, isindex: 1, fieldset: 1, ul: 1, b: 1, acronym: 1, a: 1, blockquote: 1, i: 1, u: 1, s: 1, tt: 1, address: 1, q: 1, pre: 1, p: 1, em: 1, dfn: 1 }),\r\n\r\n            L = X(_({ a: 0 }), J), //a不能被切开，所以把他\r\n            M = _({ tr: 1 }),\r\n            N = _({ '#': 1 }),\r\n            O = X(_({ param: 1 }), K),\r\n            P = X(_({ form: 1 }), A, D, E, I),\r\n            Q = _({ li: 1, ol: 1, ul: 1 }),\r\n            R = _({ style: 1, script: 1 }),\r\n            S = _({ base: 1, link: 1, meta: 1, title: 1 }),\r\n            T = X(S, R),\r\n            U = _({ head: 1, body: 1 }),\r\n            V = _({ html: 1 });\r\n\r\n        var block = _({ address: 1, blockquote: 1, center: 1, dir: 1, div: 1, dl: 1, fieldset: 1, form: 1, h1: 1, h2: 1, h3: 1, h4: 1, h5: 1, h6: 1, hr: 1, isindex: 1, menu: 1, noframes: 1, ol: 1, p: 1, pre: 1, table: 1, ul: 1 }),\r\n\r\n            empty = _({ area: 1, base: 1, basefont: 1, br: 1, col: 1, command: 1, dialog: 1, embed: 1, hr: 1, img: 1, input: 1, isindex: 1, keygen: 1, link: 1, meta: 1, param: 1, source: 1, track: 1, wbr: 1 });\r\n\r\n        return _({\r\n\r\n            // $ 表示自定的属性\r\n\r\n            // body外的元素列表.\r\n            $nonBodyContent: X(V, U, S),\r\n\r\n            //块结构元素列表\r\n            $block: block,\r\n\r\n            //内联元素列表\r\n            $inline: L,\r\n\r\n            $inlineWithA: X(_({ a: 1 }), L),\r\n\r\n            $body: X(_({ script: 1, style: 1 }), block),\r\n\r\n            $cdata: _({ script: 1, style: 1 }),\r\n\r\n            //自闭和元素\r\n            $empty: empty,\r\n\r\n            //不是自闭合，但不能让range选中里边\r\n            $nonChild: _({ iframe: 1, textarea: 1 }),\r\n            //列表元素列表\r\n            $listItem: _({ dd: 1, dt: 1, li: 1 }),\r\n\r\n            //列表根元素列表\r\n            $list: _({ ul: 1, ol: 1, dl: 1 }),\r\n\r\n            //不能认为是空的元素\r\n            $isNotEmpty: _({ table: 1, ul: 1, ol: 1, dl: 1, iframe: 1, area: 1, base: 1, col: 1, hr: 1, img: 1, embed: 1, input: 1, link: 1, meta: 1, param: 1, h1: 1, h2: 1, h3: 1, h4: 1, h5: 1, h6: 1 }),\r\n\r\n            //如果没有子节点就可以删除的元素列表，像span,a\r\n            $removeEmpty: _({ a: 1, abbr: 1, acronym: 1, address: 1, b: 1, bdo: 1, big: 1, cite: 1, code: 1, del: 1, dfn: 1, em: 1, font: 1, i: 1, ins: 1, label: 1, kbd: 1, q: 1, s: 1, samp: 1, small: 1, span: 1, strike: 1, strong: 1, sub: 1, sup: 1, tt: 1, u: 1, 'var': 1 }),\r\n\r\n            $removeEmptyBlock: _({ 'p': 1, 'div': 1 }),\r\n\r\n            //在table元素里的元素列表\r\n            $tableContent: _({ caption: 1, col: 1, colgroup: 1, tbody: 1, td: 1, tfoot: 1, th: 1, thead: 1, tr: 1, table: 1 }),\r\n            //不转换的标签\r\n            $notTransContent: _({ pre: 1, script: 1, style: 1, textarea: 1 }),\r\n            html: U,\r\n            head: T,\r\n            style: N,\r\n            script: N,\r\n            body: P,\r\n            base: {},\r\n            link: {},\r\n            meta: {},\r\n            title: N,\r\n            col: {},\r\n            tr: _({ td: 1, th: 1 }),\r\n            img: {},\r\n            embed: {},\r\n            colgroup: _({ thead: 1, col: 1, tbody: 1, tr: 1, tfoot: 1 }),\r\n            noscript: P,\r\n            td: P,\r\n            br: {},\r\n            th: P,\r\n            center: P,\r\n            kbd: L,\r\n            button: X(I, E),\r\n            basefont: {},\r\n            h5: L,\r\n            h4: L,\r\n            samp: L,\r\n            h6: L,\r\n            ol: Q,\r\n            h1: L,\r\n            h3: L,\r\n            option: N,\r\n            h2: L,\r\n            form: X(A, D, E, I),\r\n            select: _({ optgroup: 1, option: 1 }),\r\n            font: L,\r\n            ins: L,\r\n            menu: Q,\r\n            abbr: L,\r\n            label: L,\r\n            table: _({ thead: 1, col: 1, tbody: 1, tr: 1, colgroup: 1, caption: 1, tfoot: 1 }),\r\n            code: L,\r\n            tfoot: M,\r\n            cite: L,\r\n            li: P,\r\n            input: {},\r\n            iframe: P,\r\n            strong: L,\r\n            textarea: N,\r\n            noframes: P,\r\n            big: L,\r\n            small: L,\r\n            //trace:\r\n            span: _({ '#': 1, br: 1, b: 1, strong: 1, u: 1, i: 1, em: 1, sub: 1, sup: 1, strike: 1, span: 1 }),\r\n            hr: L,\r\n            dt: L,\r\n            sub: L,\r\n            optgroup: _({ option: 1 }),\r\n            param: {},\r\n            bdo: L,\r\n            'var': L,\r\n            div: P,\r\n            object: O,\r\n            sup: L,\r\n            dd: P,\r\n            strike: L,\r\n            area: {},\r\n            dir: Q,\r\n            map: X(_({ area: 1, form: 1, p: 1 }), A, F, E),\r\n            applet: O,\r\n            dl: _({ dt: 1, dd: 1 }),\r\n            del: L,\r\n            isindex: {},\r\n            fieldset: X(_({ legend: 1 }), K),\r\n            thead: M,\r\n            ul: Q,\r\n            acronym: L,\r\n            b: L,\r\n            a: X(_({ a: 1 }), J),\r\n            blockquote: X(_({ td: 1, tr: 1, tbody: 1, li: 1 }), P),\r\n            caption: L,\r\n            i: L,\r\n            u: L,\r\n            tbody: M,\r\n            s: L,\r\n            address: X(D, I),\r\n            tt: L,\r\n            legend: L,\r\n            q: L,\r\n            pre: X(G, C),\r\n            p: X(_({ 'a': 1 }), L),\r\n            em: L,\r\n            dfn: L\r\n        });\r\n    })();\r\n\r\n\r\n    // core/domUtils.js\r\n    /**\r\n     * Dom操作工具包\r\n     * @file\r\n     * @module UE.dom.domUtils\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * Dom操作工具包\r\n     * @unfile\r\n     * @module UE.dom.domUtils\r\n     */\r\n    function getDomNode(node, start, ltr, startFromChild, fn, guard) {\r\n        var tmpNode = startFromChild && node[start],\r\n            parent;\r\n        !tmpNode && (tmpNode = node[ltr]);\r\n        while (!tmpNode && (parent = (parent || node).parentNode)) {\r\n            if (parent.tagName == 'BODY' || guard && !guard(parent)) {\r\n                return null;\r\n            }\r\n            tmpNode = parent[ltr];\r\n        }\r\n        if (tmpNode && fn && !fn(tmpNode)) {\r\n            return getDomNode(tmpNode, start, ltr, false, fn);\r\n        }\r\n        return tmpNode;\r\n    }\r\n    var attrFix = ie && browser.version < 9 ? {\r\n            tabindex: \"tabIndex\",\r\n            readonly: \"readOnly\",\r\n            \"for\": \"htmlFor\",\r\n            \"class\": \"className\",\r\n            maxlength: \"maxLength\",\r\n            cellspacing: \"cellSpacing\",\r\n            cellpadding: \"cellPadding\",\r\n            rowspan: \"rowSpan\",\r\n            colspan: \"colSpan\",\r\n            usemap: \"useMap\",\r\n            frameborder: \"frameBorder\"\r\n        } : {\r\n            tabindex: \"tabIndex\",\r\n            readonly: \"readOnly\"\r\n        },\r\n        styleBlock = utils.listToMap([\r\n            '-webkit-box', '-moz-box', 'block',\r\n            'list-item', 'table', 'table-row-group',\r\n            'table-header-group', 'table-footer-group',\r\n            'table-row', 'table-column-group', 'table-column',\r\n            'table-cell', 'table-caption'\r\n        ]);\r\n    var domUtils = dom.domUtils = {\r\n        //节点常量\r\n        NODE_ELEMENT: 1,\r\n        NODE_DOCUMENT: 9,\r\n        NODE_TEXT: 3,\r\n        NODE_COMMENT: 8,\r\n        NODE_DOCUMENT_FRAGMENT: 11,\r\n\r\n        //位置关系\r\n        POSITION_IDENTICAL: 0,\r\n        POSITION_DISCONNECTED: 1,\r\n        POSITION_FOLLOWING: 2,\r\n        POSITION_PRECEDING: 4,\r\n        POSITION_IS_CONTAINED: 8,\r\n        POSITION_CONTAINS: 16,\r\n        //ie6使用其他的会有一段空白出现\r\n        fillChar: ie && browser.version == '6' ? '\\ufeff' : '\\u200B',\r\n        //-------------------------Node部分--------------------------------\r\n        keys: {\r\n            /*Backspace*/\r\n            8: 1,\r\n            /*Delete*/\r\n            46: 1,\r\n            /*Shift*/\r\n            16: 1,\r\n            /*Ctrl*/\r\n            17: 1,\r\n            /*Alt*/\r\n            18: 1,\r\n            37: 1,\r\n            38: 1,\r\n            39: 1,\r\n            40: 1,\r\n            13: 1 /*enter*/\r\n        },\r\n        /**\r\n         * 获取节点A相对于节点B的位置关系\r\n         * @method getPosition\r\n         * @param { Node } nodeA 需要查询位置关系的节点A\r\n         * @param { Node } nodeB 需要查询位置关系的节点B\r\n         * @return { Number } 节点A与节点B的关系\r\n         * @example\r\n         * ```javascript\r\n         * //output: 20\r\n         * var position = UE.dom.domUtils.getPosition( document.documentElement, document.body );\r\n         *\r\n         * switch ( position ) {\r\n         *\r\n         *      //0\r\n         *      case UE.dom.domUtils.POSITION_IDENTICAL:\r\n         *          console.log('元素相同');\r\n         *          break;\r\n         *      //1\r\n         *      case UE.dom.domUtils.POSITION_DISCONNECTED:\r\n         *          console.log('两个节点在不同的文档中');\r\n         *          break;\r\n         *      //2\r\n         *      case UE.dom.domUtils.POSITION_FOLLOWING:\r\n         *          console.log('节点A在节点B之后');\r\n         *          break;\r\n         *      //4\r\n         *      case UE.dom.domUtils.POSITION_PRECEDING;\r\n         *          console.log('节点A在节点B之前');\r\n         *          break;\r\n         *      //8\r\n         *      case UE.dom.domUtils.POSITION_IS_CONTAINED:\r\n         *          console.log('节点A被节点B包含');\r\n         *          break;\r\n         *      case 10:\r\n         *          console.log('节点A被节点B包含且节点A在节点B之后');\r\n         *          break;\r\n         *      //16\r\n         *      case UE.dom.domUtils.POSITION_CONTAINS:\r\n         *          console.log('节点A包含节点B');\r\n         *          break;\r\n         *      case 20:\r\n         *          console.log('节点A包含节点B且节点A在节点B之前');\r\n         *          break;\r\n         *\r\n         * }\r\n         * ```\r\n         */\r\n        getPosition: function(nodeA, nodeB) {\r\n            // 如果两个节点是同一个节点\r\n            if (nodeA === nodeB) {\r\n                // domUtils.POSITION_IDENTICAL\r\n                return 0;\r\n            }\r\n            var node,\r\n                parentsA = [nodeA],\r\n                parentsB = [nodeB];\r\n            node = nodeA;\r\n            while (node = node.parentNode) {\r\n                // 如果nodeB是nodeA的祖先节点\r\n                if (node === nodeB) {\r\n                    // domUtils.POSITION_IS_CONTAINED + domUtils.POSITION_FOLLOWING\r\n                    return 10;\r\n                }\r\n                parentsA.push(node);\r\n            }\r\n            node = nodeB;\r\n            while (node = node.parentNode) {\r\n                // 如果nodeA是nodeB的祖先节点\r\n                if (node === nodeA) {\r\n                    // domUtils.POSITION_CONTAINS + domUtils.POSITION_PRECEDING\r\n                    return 20;\r\n                }\r\n                parentsB.push(node);\r\n            }\r\n            parentsA.reverse();\r\n            parentsB.reverse();\r\n            if (parentsA[0] !== parentsB[0]) {\r\n                // domUtils.POSITION_DISCONNECTED\r\n                return 1;\r\n            }\r\n            var i = -1;\r\n            while (i++, parentsA[i] === parentsB[i]) {}\r\n            nodeA = parentsA[i];\r\n            nodeB = parentsB[i];\r\n            while (nodeA = nodeA.nextSibling) {\r\n                if (nodeA === nodeB) {\r\n                    // domUtils.POSITION_PRECEDING\r\n                    return 4\r\n                }\r\n            }\r\n            // domUtils.POSITION_FOLLOWING\r\n            return 2;\r\n        },\r\n\r\n        /**\r\n         * 检测节点node在父节点中的索引位置\r\n         * @method getNodeIndex\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @return { Number } 该节点在父节点中的位置\r\n         * @see UE.dom.domUtils.getNodeIndex(Node,Boolean)\r\n         */\r\n\r\n        /**\r\n         * 检测节点node在父节点中的索引位置， 根据给定的mergeTextNode参数决定是否要合并多个连续的文本节点为一个节点\r\n         * @method getNodeIndex\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @param { Boolean } mergeTextNode 是否合并多个连续的文本节点为一个节点\r\n         * @return { Number } 该节点在父节点中的位置\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         *      var node = document.createElement(\"div\");\r\n         *\r\n         *      node.appendChild( document.createTextNode( \"hello\" ) );\r\n         *      node.appendChild( document.createTextNode( \"world\" ) );\r\n         *      node.appendChild( node = document.createElement( \"div\" ) );\r\n         *\r\n         *      //output: 2\r\n         *      console.log( UE.dom.domUtils.getNodeIndex( node ) );\r\n         *\r\n         *      //output: 1\r\n         *      console.log( UE.dom.domUtils.getNodeIndex( node, true ) );\r\n         *\r\n         * ```\r\n         */\r\n        getNodeIndex: function(node, ignoreTextNode) {\r\n            var preNode = node,\r\n                i = 0;\r\n            while (preNode = preNode.previousSibling) {\r\n                if (ignoreTextNode && preNode.nodeType == 3) {\r\n                    if (preNode.nodeType != preNode.nextSibling.nodeType) {\r\n                        i++;\r\n                    }\r\n                    continue;\r\n                }\r\n                i++;\r\n            }\r\n            return i;\r\n        },\r\n\r\n        /**\r\n         * 检测节点node是否在给定的document对象上\r\n         * @method inDoc\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @param { DomDocument } doc 需要检测的document对象\r\n         * @return { Boolean } 该节点node是否在给定的document的dom树上\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var node = document.createElement(\"div\");\r\n         *\r\n         * //output: false\r\n         * console.log( UE.do.domUtils.inDoc( node, document ) );\r\n         *\r\n         * document.body.appendChild( node );\r\n         *\r\n         * //output: true\r\n         * console.log( UE.do.domUtils.inDoc( node, document ) );\r\n         *\r\n         * ```\r\n         */\r\n        inDoc: function(node, doc) {\r\n            return domUtils.getPosition(node, doc) == 10;\r\n        },\r\n        /**\r\n         * 根据给定的过滤规则filterFn， 查找符合该过滤规则的node节点的第一个祖先节点，\r\n         * 查找的起点是给定node节点的父节点。\r\n         * @method findParent\r\n         * @param { Node } node 需要查找的节点\r\n         * @param { Function } filterFn 自定义的过滤方法。\r\n         * @warning 查找的终点是到body节点为止\r\n         * @remind 自定义的过滤方法filterFn接受一个Node对象作为参数， 该对象代表当前执行检测的祖先节点。 如果该\r\n         *          节点满足过滤条件， 则要求返回true， 这时将直接返回该节点作为findParent()的结果， 否则， 请返回false。\r\n         * @return { Node | Null } 如果找到符合过滤条件的节点， 就返回该节点， 否则返回NULL\r\n         * @example\r\n         * ```javascript\r\n         * var filterNode = UE.dom.domUtils.findParent( document.body.firstChild, function ( node ) {\r\n         *\r\n         *     //由于查找的终点是body节点， 所以永远也不会匹配当前过滤器的条件， 即这里永远会返回false\r\n         *     return node.tagName === \"HTML\";\r\n         *\r\n         * } );\r\n         *\r\n         * //output: true\r\n         * console.log( filterNode === null );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 根据给定的过滤规则filterFn， 查找符合该过滤规则的node节点的第一个祖先节点，\r\n         * 如果includeSelf的值为true，则查找的起点是给定的节点node， 否则， 起点是node的父节点\r\n         * @method findParent\r\n         * @param { Node } node 需要查找的节点\r\n         * @param { Function } filterFn 自定义的过滤方法。\r\n         * @param { Boolean } includeSelf 查找过程是否包含自身\r\n         * @warning 查找的终点是到body节点为止\r\n         * @remind 自定义的过滤方法filterFn接受一个Node对象作为参数， 该对象代表当前执行检测的祖先节点。 如果该\r\n         *          节点满足过滤条件， 则要求返回true， 这时将直接返回该节点作为findParent()的结果， 否则， 请返回false。\r\n         * @remind 如果includeSelf为true， 则过滤器第一次执行时的参数会是节点本身。\r\n         *          反之， 过滤器第一次执行时的参数将是该节点的父节点。\r\n         * @return { Node | Null } 如果找到符合过滤条件的节点， 就返回该节点， 否则返回NULL\r\n         * @example\r\n         * ```html\r\n         * <body>\r\n         *\r\n         *      <div id=\"test\">\r\n         *      </div>\r\n         *\r\n         *      <script type=\"text/javascript\">\r\n         *\r\n         *          //output: DIV, BODY\r\n         *          var filterNode = UE.dom.domUtils.findParent( document.getElementById( \"test\" ), function ( node ) {\r\n         *\r\n         *              console.log( node.tagName );\r\n         *              return false;\r\n         *\r\n         *          }, true );\r\n         *\r\n         *      </script>\r\n         * </body>\r\n         * ```\r\n         */\r\n        findParent: function(node, filterFn, includeSelf) {\r\n            if (node && !domUtils.isBody(node)) {\r\n                node = includeSelf ? node : node.parentNode;\r\n                while (node) {\r\n                    if (!filterFn || filterFn(node) || domUtils.isBody(node)) {\r\n                        return filterFn && !filterFn(node) && domUtils.isBody(node) ? null : node;\r\n                    }\r\n                    node = node.parentNode;\r\n                }\r\n            }\r\n            return null;\r\n        },\r\n        /**\r\n         * 查找node的节点名为tagName的第一个祖先节点， 查找的起点是node节点的父节点。\r\n         * @method findParentByTagName\r\n         * @param { Node } node 需要查找的节点对象\r\n         * @param { Array } tagNames 需要查找的父节点的名称数组\r\n         * @warning 查找的终点是到body节点为止\r\n         * @return { Node | NULL } 如果找到符合条件的节点， 则返回该节点， 否则返回NULL\r\n         * @example\r\n         * ```javascript\r\n         * var node = UE.dom.domUtils.findParentByTagName( document.getElementsByTagName(\"div\")[0], [ \"BODY\" ] );\r\n         * //output: BODY\r\n         * console.log( node.tagName );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 查找node的节点名为tagName的祖先节点， 如果includeSelf的值为true，则查找的起点是给定的节点node，\r\n         * 否则， 起点是node的父节点。\r\n         * @method findParentByTagName\r\n         * @param { Node } node 需要查找的节点对象\r\n         * @param { Array } tagNames 需要查找的父节点的名称数组\r\n         * @param { Boolean } includeSelf 查找过程是否包含node节点自身\r\n         * @warning 查找的终点是到body节点为止\r\n         * @return { Node | NULL } 如果找到符合条件的节点， 则返回该节点， 否则返回NULL\r\n         * @example\r\n         * ```javascript\r\n         * var queryTarget = document.getElementsByTagName(\"div\")[0];\r\n         * var node = UE.dom.domUtils.findParentByTagName( queryTarget, [ \"DIV\" ], true );\r\n         * //output: true\r\n         * console.log( queryTarget === node );\r\n         * ```\r\n         */\r\n        findParentByTagName: function(node, tagNames, includeSelf, excludeFn) {\r\n            tagNames = utils.listToMap(utils.isArray(tagNames) ? tagNames : [tagNames]);\r\n            return domUtils.findParent(node, function(node) {\r\n                return tagNames[node.tagName] && !(excludeFn && excludeFn(node));\r\n            }, includeSelf);\r\n        },\r\n        /**\r\n         * 查找节点node的祖先节点集合， 查找的起点是给定节点的父节点，结果集中不包含给定的节点。\r\n         * @method findParents\r\n         * @param { Node } node 需要查找的节点对象\r\n         * @return { Array } 给定节点的祖先节点数组\r\n         * @grammar UE.dom.domUtils.findParents(node)  => Array  //返回一个祖先节点数组集合，不包含自身\r\n         * @grammar UE.dom.domUtils.findParents(node,includeSelf)  => Array  //返回一个祖先节点数组集合，includeSelf指定是否包含自身\r\n         * @grammar UE.dom.domUtils.findParents(node,includeSelf,filterFn)  => Array  //返回一个祖先节点数组集合，filterFn指定过滤条件，返回true的node将被选取\r\n         * @grammar UE.dom.domUtils.findParents(node,includeSelf,filterFn,closerFirst)  => Array  //返回一个祖先节点数组集合，closerFirst为true的话，node的直接父亲节点是数组的第0个\r\n         */\r\n\r\n        /**\r\n         * 查找节点node的祖先节点集合， 如果includeSelf的值为true，\r\n         * 则返回的结果集中允许出现当前给定的节点， 否则， 该节点不会出现在其结果集中。\r\n         * @method findParents\r\n         * @param { Node } node 需要查找的节点对象\r\n         * @param { Boolean } includeSelf 查找的结果中是否允许包含当前查找的节点对象\r\n         * @return { Array } 给定节点的祖先节点数组\r\n         */\r\n        findParents: function(node, includeSelf, filterFn, closerFirst) {\r\n            var parents = includeSelf && (filterFn && filterFn(node) || !filterFn) ? [node] : [];\r\n            while (node = domUtils.findParent(node, filterFn)) {\r\n                parents.push(node);\r\n            }\r\n            return closerFirst ? parents : parents.reverse();\r\n        },\r\n\r\n        /**\r\n         * 在节点node后面插入新节点newNode\r\n         * @method insertAfter\r\n         * @param { Node } node 目标节点\r\n         * @param { Node } newNode 新插入的节点， 该节点将置于目标节点之后\r\n         * @return { Node } 新插入的节点\r\n         */\r\n        insertAfter: function(node, newNode) {\r\n            return node.nextSibling ? node.parentNode.insertBefore(newNode, node.nextSibling) :\r\n                node.parentNode.appendChild(newNode);\r\n        },\r\n\r\n        /**\r\n         * 删除节点node及其下属的所有节点\r\n         * @method remove\r\n         * @param { Node } node 需要删除的节点对象\r\n         * @return { Node } 返回刚删除的节点对象\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\">\r\n         *     <div id=\"child\">你好</div>\r\n         * </div>\r\n         * <script>\r\n         *     UE.dom.domUtils.remove( document.body, false );\r\n         *     //output: false\r\n         *     console.log( document.getElementById( \"child\" ) !== null );\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 删除节点node，并根据keepChildren的值决定是否保留子节点\r\n         * @method remove\r\n         * @param { Node } node 需要删除的节点对象\r\n         * @param { Boolean } keepChildren 是否需要保留子节点\r\n         * @return { Node } 返回刚删除的节点对象\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\">\r\n         *     <div id=\"child\">你好</div>\r\n         * </div>\r\n         * <script>\r\n         *     UE.dom.domUtils.remove( document.body, true );\r\n         *     //output: true\r\n         *     console.log( document.getElementById( \"child\" ) !== null );\r\n         * </script>\r\n         * ```\r\n         */\r\n        remove: function(node, keepChildren) {\r\n            var parent = node.parentNode,\r\n                child;\r\n            if (parent) {\r\n                if (keepChildren && node.hasChildNodes()) {\r\n                    while (child = node.firstChild) {\r\n                        parent.insertBefore(child, node);\r\n                    }\r\n                }\r\n                parent.removeChild(node);\r\n            }\r\n            return node;\r\n        },\r\n\r\n        /**\r\n         * 取得node节点的下一个兄弟节点， 如果该节点其后没有兄弟节点， 则递归查找其父节点之后的第一个兄弟节点，\r\n         * 直到找到满足条件的节点或者递归到BODY节点之后才会结束。\r\n         * @method getNextDomNode\r\n         * @param { Node } node 需要获取其后的兄弟节点的节点对象\r\n         * @return { Node | NULL } 如果找满足条件的节点， 则返回该节点， 否则返回NULL\r\n         * @example\r\n         * ```html\r\n         *     <body>\r\n         *      <div id=\"test\">\r\n         *          <span></span>\r\n         *      </div>\r\n         *      <i>xxx</i>\r\n         * </body>\r\n         * <script>\r\n         *\r\n         *     //output: i节点\r\n         *     console.log( UE.dom.domUtils.getNextDomNode( document.getElementById( \"test\" ) ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         * @example\r\n         * ```html\r\n         * <body>\r\n         *      <div>\r\n         *          <span></span>\r\n         *          <i id=\"test\">xxx</i>\r\n         *      </div>\r\n         *      <b>xxx</b>\r\n         * </body>\r\n         * <script>\r\n         *\r\n         *     //由于id为test的i节点之后没有兄弟节点， 则查找其父节点（div）后面的兄弟节点\r\n         *     //output: b节点\r\n         *     console.log( UE.dom.domUtils.getNextDomNode( document.getElementById( \"test\" ) ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 取得node节点的下一个兄弟节点， 如果startFromChild的值为ture，则先获取其子节点，\r\n         * 如果有子节点则直接返回第一个子节点；如果没有子节点或者startFromChild的值为false，\r\n         * 则执行<a href=\"#UE.dom.domUtils.getNextDomNode(Node)\">getNextDomNode(Node node)</a>的查找过程。\r\n         * @method getNextDomNode\r\n         * @param { Node } node 需要获取其后的兄弟节点的节点对象\r\n         * @param { Boolean } startFromChild 查找过程是否从其子节点开始\r\n         * @return { Node | NULL } 如果找满足条件的节点， 则返回该节点， 否则返回NULL\r\n         * @see UE.dom.domUtils.getNextDomNode(Node)\r\n         */\r\n        getNextDomNode: function(node, startFromChild, filterFn, guard) {\r\n            return getDomNode(node, 'firstChild', 'nextSibling', startFromChild, filterFn, guard);\r\n        },\r\n        getPreDomNode: function(node, startFromChild, filterFn, guard) {\r\n            return getDomNode(node, 'lastChild', 'previousSibling', startFromChild, filterFn, guard);\r\n        },\r\n        /**\r\n         * 检测节点node是否属是UEditor定义的bookmark节点\r\n         * @method isBookmarkNode\r\n         * @private\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @return { Boolean } 是否是bookmark节点\r\n         * @example\r\n         * ```html\r\n         * <span id=\"_baidu_bookmark_1\"></span>\r\n         * <script>\r\n         *      var bookmarkNode = document.getElementById(\"_baidu_bookmark_1\");\r\n         *      //output: true\r\n         *      console.log( UE.dom.domUtils.isBookmarkNode( bookmarkNode ) );\r\n         * </script>\r\n         * ```\r\n         */\r\n        isBookmarkNode: function(node) {\r\n            return node.nodeType == 1 && node.id && /^_baidu_bookmark_/i.test(node.id);\r\n        },\r\n        /**\r\n         * 获取节点node所属的window对象\r\n         * @method  getWindow\r\n         * @param { Node } node 节点对象\r\n         * @return { Window } 当前节点所属的window对象\r\n         * @example\r\n         * ```javascript\r\n         * //output: true\r\n         * console.log( UE.dom.domUtils.getWindow( document.body ) === window );\r\n         * ```\r\n         */\r\n        getWindow: function(node) {\r\n            var doc = node.ownerDocument || node;\r\n            return doc.defaultView || doc.parentWindow;\r\n        },\r\n        /**\r\n         * 获取离nodeA与nodeB最近的公共的祖先节点\r\n         * @method  getCommonAncestor\r\n         * @param { Node } nodeA 第一个节点\r\n         * @param { Node } nodeB 第二个节点\r\n         * @remind 如果给定的两个节点是同一个节点， 将直接返回该节点。\r\n         * @return { Node | NULL } 如果未找到公共节点， 返回NULL， 否则返回最近的公共祖先节点。\r\n         * @example\r\n         * ```javascript\r\n         * var commonAncestor = UE.dom.domUtils.getCommonAncestor( document.body, document.body.firstChild );\r\n         * //output: true\r\n         * console.log( commonAncestor.tagName.toLowerCase() === 'body' );\r\n         * ```\r\n         */\r\n        getCommonAncestor: function(nodeA, nodeB) {\r\n            if (nodeA === nodeB)\r\n                return nodeA;\r\n            var parentsA = [nodeA],\r\n                parentsB = [nodeB],\r\n                parent = nodeA,\r\n                i = -1;\r\n            while (parent = parent.parentNode) {\r\n                if (parent === nodeB) {\r\n                    return parent;\r\n                }\r\n                parentsA.push(parent);\r\n            }\r\n            parent = nodeB;\r\n            while (parent = parent.parentNode) {\r\n                if (parent === nodeA)\r\n                    return parent;\r\n                parentsB.push(parent);\r\n            }\r\n            parentsA.reverse();\r\n            parentsB.reverse();\r\n            while (i++, parentsA[i] === parentsB[i]) {}\r\n            return i == 0 ? null : parentsA[i - 1];\r\n\r\n        },\r\n        /**\r\n         * 清除node节点左右连续为空的兄弟inline节点\r\n         * @method clearEmptySibling\r\n         * @param { Node } node 执行的节点对象， 如果该节点的左右连续的兄弟节点是空的inline节点，\r\n         * 则这些兄弟节点将被删除\r\n         * @grammar UE.dom.domUtils.clearEmptySibling(node,ignoreNext)  //ignoreNext指定是否忽略右边空节点\r\n         * @grammar UE.dom.domUtils.clearEmptySibling(node,ignoreNext,ignorePre)  //ignorePre指定是否忽略左边空节点\r\n         * @example\r\n         * ```html\r\n         * <body>\r\n         *     <div></div>\r\n         *     <span id=\"test\"></span>\r\n         *     <i></i>\r\n         *     <b></b>\r\n         *     <em>xxx</em>\r\n         *     <span></span>\r\n         * </body>\r\n         * <script>\r\n         *\r\n         *      UE.dom.domUtils.clearEmptySibling( document.getElementById( \"test\" ) );\r\n         *\r\n         *      //output: <div></div><span id=\"test\"></span><em>xxx</em><span></span>\r\n         *      console.log( document.body.innerHTML );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 清除node节点左右连续为空的兄弟inline节点， 如果ignoreNext的值为true，\r\n         * 则忽略对右边兄弟节点的操作。\r\n         * @method clearEmptySibling\r\n         * @param { Node } node 执行的节点对象， 如果该节点的左右连续的兄弟节点是空的inline节点，\r\n         * @param { Boolean } ignoreNext 是否忽略忽略对右边的兄弟节点的操作\r\n         * 则这些兄弟节点将被删除\r\n         * @see UE.dom.domUtils.clearEmptySibling(Node)\r\n         */\r\n\r\n        /**\r\n         * 清除node节点左右连续为空的兄弟inline节点， 如果ignoreNext的值为true，\r\n         * 则忽略对右边兄弟节点的操作， 如果ignorePre的值为true，则忽略对左边兄弟节点的操作。\r\n         * @method clearEmptySibling\r\n         * @param { Node } node 执行的节点对象， 如果该节点的左右连续的兄弟节点是空的inline节点，\r\n         * @param { Boolean } ignoreNext 是否忽略忽略对右边的兄弟节点的操作\r\n         * @param { Boolean } ignorePre 是否忽略忽略对左边的兄弟节点的操作\r\n         * 则这些兄弟节点将被删除\r\n         * @see UE.dom.domUtils.clearEmptySibling(Node)\r\n         */\r\n        clearEmptySibling: function(node, ignoreNext, ignorePre) {\r\n            function clear(next, dir) {\r\n                var tmpNode;\r\n                while (next && !domUtils.isBookmarkNode(next) && (domUtils.isEmptyInlineElement(next)\r\n                        //这里不能把空格算进来会吧空格干掉，出现文字间的空格丢掉了\r\n                        ||\r\n                        !new RegExp('[^\\t\\n\\r' + domUtils.fillChar + ']').test(next.nodeValue))) {\r\n                    tmpNode = next[dir];\r\n                    domUtils.remove(next);\r\n                    next = tmpNode;\r\n                }\r\n            }!ignoreNext && clear(node.nextSibling, 'nextSibling');\r\n            !ignorePre && clear(node.previousSibling, 'previousSibling');\r\n        },\r\n        /**\r\n         * 将一个文本节点textNode拆分成两个文本节点，offset指定拆分位置\r\n         * @method split\r\n         * @param { Node } textNode 需要拆分的文本节点对象\r\n         * @param { int } offset 需要拆分的位置， 位置计算从0开始\r\n         * @return { Node } 拆分后形成的新节点\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\">abcdef</div>\r\n         * <script>\r\n         *      var newNode = UE.dom.domUtils.split( document.getElementById( \"test\" ).firstChild, 3 );\r\n         *      //output: def\r\n         *      console.log( newNode.nodeValue );\r\n         * </script>\r\n         * ```\r\n         */\r\n        split: function(node, offset) {\r\n            var doc = node.ownerDocument;\r\n            if (browser.ie && offset == node.nodeValue.length) {\r\n                var next = doc.createTextNode('');\r\n                return domUtils.insertAfter(node, next);\r\n            }\r\n            var retval = node.splitText(offset);\r\n            //ie8下splitText不会跟新childNodes,我们手动触发他的更新\r\n            if (browser.ie8) {\r\n                var tmpNode = doc.createTextNode('');\r\n                domUtils.insertAfter(retval, tmpNode);\r\n                domUtils.remove(tmpNode);\r\n            }\r\n            return retval;\r\n        },\r\n\r\n        /**\r\n         * 检测文本节点textNode是否为空节点（包括空格、换行、占位符等字符）\r\n         * @method  isWhitespace\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @return { Boolean } 检测的节点是否为空\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\">\r\n         *\r\n         * </div>\r\n         * <script>\r\n         *      //output: true\r\n         *      console.log( UE.dom.domUtils.isWhitespace( document.getElementById(\"test\").firstChild ) );\r\n         * </script>\r\n         * ```\r\n         */\r\n        isWhitespace: function(node) {\r\n            return !new RegExp('[^ \\t\\n\\r' + domUtils.fillChar + ']').test(node.nodeValue);\r\n        },\r\n        /**\r\n         * 获取元素element相对于viewport的位置坐标\r\n         * @method getXY\r\n         * @param { Node } element 需要计算位置的节点对象\r\n         * @return { Object } 返回形如{x:left,y:top}的一个key-value映射对象， 其中键x代表水平偏移距离，\r\n         *                          y代表垂直偏移距离。\r\n         *\r\n         * @example\r\n         * ```javascript\r\n         * var location = UE.dom.domUtils.getXY( document.getElementById(\"test\") );\r\n         * //output: test的坐标为: 12, 24\r\n         * console.log( 'test的坐标为： ', location.x, ',', location.y );\r\n         * ```\r\n         */\r\n        getXY: function(element) {\r\n            var x = 0,\r\n                y = 0;\r\n            while (element.offsetParent) {\r\n                y += element.offsetTop;\r\n                x += element.offsetLeft;\r\n                element = element.offsetParent;\r\n            }\r\n            return { 'x': x, 'y': y };\r\n        },\r\n        /**\r\n         * 为元素element绑定原生DOM事件，type为事件类型，handler为处理函数\r\n         * @method on\r\n         * @param { Node } element 需要绑定事件的节点对象\r\n         * @param { String } type 绑定的事件类型\r\n         * @param { Function } handler 事件处理器\r\n         * @example\r\n         * ```javascript\r\n         * UE.dom.domUtils.on(document.body,\"click\",function(e){\r\n         *     //e为事件对象，this为被点击元素对戏那个\r\n         * });\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 为元素element绑定原生DOM事件，type为事件类型，handler为处理函数\r\n         * @method on\r\n         * @param { Node } element 需要绑定事件的节点对象\r\n         * @param { Array } type 绑定的事件类型数组\r\n         * @param { Function } handler 事件处理器\r\n         * @example\r\n         * ```javascript\r\n         * UE.dom.domUtils.on(document.body,[\"click\",\"mousedown\"],function(evt){\r\n         *     //evt为事件对象，this为被点击元素对象\r\n         * });\r\n         * ```\r\n         */\r\n        on: function(element, type, handler) {\r\n\r\n            var types = utils.isArray(type) ? type : utils.trim(type).split(/\\s+/),\r\n                k = types.length;\r\n            if (k)\r\n                while (k--) {\r\n                    type = types[k];\r\n                    if (element.addEventListener) {\r\n                        element.addEventListener(type, handler, false);\r\n                    } else {\r\n                        if (!handler._d) {\r\n                            handler._d = {\r\n                                els: []\r\n                            };\r\n                        }\r\n                        var key = type + handler.toString(),\r\n                            index = utils.indexOf(handler._d.els, element);\r\n                        if (!handler._d[key] || index == -1) {\r\n                            if (index == -1) {\r\n                                handler._d.els.push(element);\r\n                            }\r\n                            if (!handler._d[key]) {\r\n                                handler._d[key] = function(evt) {\r\n                                    return handler.call(evt.srcElement, evt || window.event);\r\n                                };\r\n                            }\r\n\r\n\r\n                            element.attachEvent('on' + type, handler._d[key]);\r\n                        }\r\n                    }\r\n                }\r\n            element = null;\r\n        },\r\n        /**\r\n         * 解除DOM事件绑定\r\n         * @method un\r\n         * @param { Node } element 需要解除事件绑定的节点对象\r\n         * @param { String } type 需要接触绑定的事件类型\r\n         * @param { Function } handler 对应的事件处理器\r\n         * @example\r\n         * ```javascript\r\n         * UE.dom.domUtils.un(document.body,\"click\",function(evt){\r\n         *     //evt为事件对象，this为被点击元素对象\r\n         * });\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 解除DOM事件绑定\r\n         * @method un\r\n         * @param { Node } element 需要解除事件绑定的节点对象\r\n         * @param { Array } type 需要接触绑定的事件类型数组\r\n         * @param { Function } handler 对应的事件处理器\r\n         * @example\r\n         * ```javascript\r\n         * UE.dom.domUtils.un(document.body, [\"click\",\"mousedown\"],function(evt){\r\n         *     //evt为事件对象，this为被点击元素对象\r\n         * });\r\n         * ```\r\n         */\r\n        un: function(element, type, handler) {\r\n            var types = utils.isArray(type) ? type : utils.trim(type).split(/\\s+/),\r\n                k = types.length;\r\n            if (k)\r\n                while (k--) {\r\n                    type = types[k];\r\n                    if (element.removeEventListener) {\r\n                        element.removeEventListener(type, handler, false);\r\n                    } else {\r\n                        var key = type + handler.toString();\r\n                        try {\r\n                            element.detachEvent('on' + type, handler._d ? handler._d[key] : handler);\r\n                        } catch (e) {}\r\n                        if (handler._d && handler._d[key]) {\r\n                            var index = utils.indexOf(handler._d.els, element);\r\n                            if (index != -1) {\r\n                                handler._d.els.splice(index, 1);\r\n                            }\r\n                            handler._d.els.length == 0 && delete handler._d[key];\r\n                        }\r\n                    }\r\n                }\r\n        },\r\n\r\n        /**\r\n         * 比较节点nodeA与节点nodeB是否具有相同的标签名、属性名以及属性值\r\n         * @method  isSameElement\r\n         * @param { Node } nodeA 需要比较的节点\r\n         * @param { Node } nodeB 需要比较的节点\r\n         * @return { Boolean } 两个节点是否具有相同的标签名、属性名以及属性值\r\n         * @example\r\n         * ```html\r\n         * <span style=\"font-size:12px\">ssss</span>\r\n         * <span style=\"font-size:12px\">bbbbb</span>\r\n         * <span style=\"font-size:13px\">ssss</span>\r\n         * <span style=\"font-size:14px\">bbbbb</span>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var nodes = document.getElementsByTagName( \"span\" );\r\n         *\r\n         *     //output: true\r\n         *     console.log( UE.dom.domUtils.isSameElement( nodes[0], nodes[1] ) );\r\n         *\r\n         *     //output: false\r\n         *     console.log( UE.dom.domUtils.isSameElement( nodes[2], nodes[3] ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        isSameElement: function(nodeA, nodeB) {\r\n            if (nodeA.tagName != nodeB.tagName) {\r\n                return false;\r\n            }\r\n            var thisAttrs = nodeA.attributes,\r\n                otherAttrs = nodeB.attributes;\r\n            if (!ie && thisAttrs.length != otherAttrs.length) {\r\n                return false;\r\n            }\r\n            var attrA, attrB, al = 0,\r\n                bl = 0;\r\n            for (var i = 0; attrA = thisAttrs[i++];) {\r\n                if (attrA.nodeName == 'style') {\r\n                    if (attrA.specified) {\r\n                        al++;\r\n                    }\r\n                    if (domUtils.isSameStyle(nodeA, nodeB)) {\r\n                        continue;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                }\r\n                if (ie) {\r\n                    if (attrA.specified) {\r\n                        al++;\r\n                        attrB = otherAttrs.getNamedItem(attrA.nodeName);\r\n                    } else {\r\n                        continue;\r\n                    }\r\n                } else {\r\n                    attrB = nodeB.attributes[attrA.nodeName];\r\n                }\r\n                if (!attrB.specified || attrA.nodeValue != attrB.nodeValue) {\r\n                    return false;\r\n                }\r\n            }\r\n            // 有可能attrB的属性包含了attrA的属性之外还有自己的属性\r\n            if (ie) {\r\n                for (i = 0; attrB = otherAttrs[i++];) {\r\n                    if (attrB.specified) {\r\n                        bl++;\r\n                    }\r\n                }\r\n                if (al != bl) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * 判断节点nodeA与节点nodeB的元素的style属性是否一致\r\n         * @method isSameStyle\r\n         * @param { Node } nodeA 需要比较的节点\r\n         * @param { Node } nodeB 需要比较的节点\r\n         * @return { Boolean } 两个节点是否具有相同的style属性值\r\n         * @example\r\n         * ```html\r\n         * <span style=\"font-size:12px\">ssss</span>\r\n         * <span style=\"font-size:12px\">bbbbb</span>\r\n         * <span style=\"font-size:13px\">ssss</span>\r\n         * <span style=\"font-size:14px\">bbbbb</span>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var nodes = document.getElementsByTagName( \"span\" );\r\n         *\r\n         *     //output: true\r\n         *     console.log( UE.dom.domUtils.isSameStyle( nodes[0], nodes[1] ) );\r\n         *\r\n         *     //output: false\r\n         *     console.log( UE.dom.domUtils.isSameStyle( nodes[2], nodes[3] ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        isSameStyle: function(nodeA, nodeB) {\r\n            var styleA = nodeA.style.cssText.replace(/( ?; ?)/g, ';').replace(/( ?: ?)/g, ':'),\r\n                styleB = nodeB.style.cssText.replace(/( ?; ?)/g, ';').replace(/( ?: ?)/g, ':');\r\n            if (browser.opera) {\r\n                styleA = nodeA.style;\r\n                styleB = nodeB.style;\r\n                if (styleA.length != styleB.length)\r\n                    return false;\r\n                for (var p in styleA) {\r\n                    if (/^(\\d+|csstext)$/i.test(p)) {\r\n                        continue;\r\n                    }\r\n                    if (styleA[p] != styleB[p]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n            if (!styleA || !styleB) {\r\n                return styleA == styleB;\r\n            }\r\n            styleA = styleA.split(';');\r\n            styleB = styleB.split(';');\r\n            if (styleA.length != styleB.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0, ci; ci = styleA[i++];) {\r\n                if (utils.indexOf(styleB, ci) == -1) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        },\r\n        /**\r\n         * 检查节点node是否为block元素\r\n         * @method isBlockElm\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @return { Boolean } 是否是block元素节点\r\n         * @warning 该方法的判断规则如下： 如果该元素原本是block元素， 则不论该元素当前的css样式是什么都会返回true；\r\n         *          否则，检测该元素的css样式， 如果该元素当前是block元素， 则返回true。 其余情况下都返回false。\r\n         * @example\r\n         * ```html\r\n         * <span id=\"test1\" style=\"display: block\"></span>\r\n         * <span id=\"test2\"></span>\r\n         * <div id=\"test3\" style=\"display: inline\"></div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     //output: true\r\n         *     console.log( UE.dom.domUtils.isBlockElm( document.getElementById(\"test1\") ) );\r\n         *\r\n         *     //output: false\r\n         *     console.log( UE.dom.domUtils.isBlockElm( document.getElementById(\"test2\") ) );\r\n         *\r\n         *     //output: true\r\n         *     console.log( UE.dom.domUtils.isBlockElm( document.getElementById(\"test3\") ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        isBlockElm: function(node) {\r\n            return node.nodeType == 1 && (dtd.$block[node.tagName] || styleBlock[domUtils.getComputedStyle(node, 'display')]) && !dtd.$nonChild[node.tagName];\r\n        },\r\n        /**\r\n         * 检测node节点是否为body节点\r\n         * @method isBody\r\n         * @param { Element } node 需要检测的dom元素\r\n         * @return { Boolean } 给定的元素是否是body元素\r\n         * @example\r\n         * ```javascript\r\n         * //output: true\r\n         * console.log( UE.dom.domUtils.isBody( document.body ) );\r\n         * ```\r\n         */\r\n        isBody: function(node) {\r\n            return node && node.nodeType == 1 && node.tagName.toLowerCase() == 'body';\r\n        },\r\n        /**\r\n         * 以node节点为分界，将该节点的指定祖先节点parent拆分成两个独立的节点，\r\n         * 拆分形成的两个节点之间是node节点\r\n         * @method breakParent\r\n         * @param { Node } node 作为分界的节点对象\r\n         * @param { Node } parent 该节点必须是node节点的祖先节点， 且是block节点。\r\n         * @return { Node } 给定的node分界节点\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         *      var node = document.createElement(\"span\"),\r\n         *          wrapNode = document.createElement( \"div\" ),\r\n         *          parent = document.createElement(\"p\");\r\n         *\r\n         *      parent.appendChild( node );\r\n         *      wrapNode.appendChild( parent );\r\n         *\r\n         *      //拆分前\r\n         *      //output: <p><span></span></p>\r\n         *      console.log( wrapNode.innerHTML );\r\n         *\r\n         *\r\n         *      UE.dom.domUtils.breakParent( node, parent );\r\n         *      //拆分后\r\n         *      //output: <p></p><span></span><p></p>\r\n         *      console.log( wrapNode.innerHTML );\r\n         *\r\n         * ```\r\n         */\r\n        breakParent: function(node, parent) {\r\n            var tmpNode,\r\n                parentClone = node,\r\n                clone = node,\r\n                leftNodes,\r\n                rightNodes;\r\n            do {\r\n                parentClone = parentClone.parentNode;\r\n                if (leftNodes) {\r\n                    tmpNode = parentClone.cloneNode(false);\r\n                    tmpNode.appendChild(leftNodes);\r\n                    leftNodes = tmpNode;\r\n                    tmpNode = parentClone.cloneNode(false);\r\n                    tmpNode.appendChild(rightNodes);\r\n                    rightNodes = tmpNode;\r\n                } else {\r\n                    leftNodes = parentClone.cloneNode(false);\r\n                    rightNodes = leftNodes.cloneNode(false);\r\n                }\r\n                while (tmpNode = clone.previousSibling) {\r\n                    leftNodes.insertBefore(tmpNode, leftNodes.firstChild);\r\n                }\r\n                while (tmpNode = clone.nextSibling) {\r\n                    rightNodes.appendChild(tmpNode);\r\n                }\r\n                clone = parentClone;\r\n            } while (parent !== parentClone);\r\n            tmpNode = parent.parentNode;\r\n            tmpNode.insertBefore(leftNodes, parent);\r\n            tmpNode.insertBefore(rightNodes, parent);\r\n            tmpNode.insertBefore(node, rightNodes);\r\n            domUtils.remove(parent);\r\n            return node;\r\n        },\r\n        /**\r\n         * 检查节点node是否是空inline节点\r\n         * @method  isEmptyInlineElement\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @return { Number }  如果给定的节点是空的inline节点， 则返回1, 否则返回0。\r\n         * @example\r\n         * ```html\r\n         * <b><i></i></b> => 1\r\n         * <b><i></i><u></u></b> => 1\r\n         * <b></b> => 1\r\n         * <b>xx<i></i></b> => 0\r\n         * ```\r\n         */\r\n        isEmptyInlineElement: function(node) {\r\n            if (node.nodeType != 1 || !dtd.$removeEmpty[node.tagName]) {\r\n                return 0;\r\n            }\r\n            node = node.firstChild;\r\n            while (node) {\r\n                //如果是创建的bookmark就跳过\r\n                if (domUtils.isBookmarkNode(node)) {\r\n                    return 0;\r\n                }\r\n                if (node.nodeType == 1 && !domUtils.isEmptyInlineElement(node) ||\r\n                    node.nodeType == 3 && !domUtils.isWhitespace(node)\r\n                ) {\r\n                    return 0;\r\n                }\r\n                node = node.nextSibling;\r\n            }\r\n            return 1;\r\n\r\n        },\r\n\r\n        /**\r\n         * 删除node节点下首尾两端的空白文本子节点\r\n         * @method trimWhiteTextNode\r\n         * @param { Element } node 需要执行删除操作的元素对象\r\n         * @example\r\n         * ```javascript\r\n         *      var node = document.createElement(\"div\");\r\n         *\r\n         *      node.appendChild( document.createTextNode( \"\" ) );\r\n         *\r\n         *      node.appendChild( document.createElement(\"div\") );\r\n         *\r\n         *      node.appendChild( document.createTextNode( \"\" ) );\r\n         *\r\n         *      //3\r\n         *      console.log( node.childNodes.length );\r\n         *\r\n         *      UE.dom.domUtils.trimWhiteTextNode( node );\r\n         *\r\n         *      //1\r\n         *      console.log( node.childNodes.length );\r\n         * ```\r\n         */\r\n        trimWhiteTextNode: function(node) {\r\n            function remove(dir) {\r\n                var child;\r\n                while ((child = node[dir]) && child.nodeType == 3 && domUtils.isWhitespace(child)) {\r\n                    node.removeChild(child);\r\n                }\r\n            }\r\n            remove('firstChild');\r\n            remove('lastChild');\r\n        },\r\n\r\n        /**\r\n         * 合并node节点下相同的子节点\r\n         * @name mergeChild\r\n         * @desc\r\n         * UE.dom.domUtils.mergeChild(node,tagName) //tagName要合并的子节点的标签\r\n         * @example\r\n         * <p><span style=\"font-size:12px;\">xx<span style=\"font-size:12px;\">aa</span>xx</span></p>\r\n         * ==> UE.dom.domUtils.mergeChild(node,'span')\r\n         * <p><span style=\"font-size:12px;\">xxaaxx</span></p>\r\n         */\r\n        mergeChild: function(node, tagName, attrs) {\r\n            var list = domUtils.getElementsByTagName(node, node.tagName.toLowerCase());\r\n            for (var i = 0, ci; ci = list[i++];) {\r\n                if (!ci.parentNode || domUtils.isBookmarkNode(ci)) {\r\n                    continue;\r\n                }\r\n                //span单独处理\r\n                if (ci.tagName.toLowerCase() == 'span') {\r\n                    if (node === ci.parentNode) {\r\n                        domUtils.trimWhiteTextNode(node);\r\n                        if (node.childNodes.length == 1) {\r\n                            node.style.cssText = ci.style.cssText + \";\" + node.style.cssText;\r\n                            domUtils.remove(ci, true);\r\n                            continue;\r\n                        }\r\n                    }\r\n                    ci.style.cssText = node.style.cssText + ';' + ci.style.cssText;\r\n                    if (attrs) {\r\n                        var style = attrs.style;\r\n                        if (style) {\r\n                            style = style.split(';');\r\n                            for (var j = 0, s; s = style[j++];) {\r\n                                ci.style[utils.cssStyleToDomStyle(s.split(':')[0])] = s.split(':')[1];\r\n                            }\r\n                        }\r\n                    }\r\n                    if (domUtils.isSameStyle(ci, node)) {\r\n                        domUtils.remove(ci, true);\r\n                    }\r\n                    continue;\r\n                }\r\n                if (domUtils.isSameElement(node, ci)) {\r\n                    domUtils.remove(ci, true);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * 原生方法getElementsByTagName的封装\r\n         * @method getElementsByTagName\r\n         * @param { Node } node 目标节点对象\r\n         * @param { String } tagName 需要查找的节点的tagName， 多个tagName以空格分割\r\n         * @return { Array } 符合条件的节点集合\r\n         */\r\n        getElementsByTagName: function(node, name, filter) {\r\n            if (filter && utils.isString(filter)) {\r\n                var className = filter;\r\n                filter = function(node) { return domUtils.hasClass(node, className) }\r\n            }\r\n            name = utils.trim(name).replace(/[ ]{2,}/g, ' ').split(' ');\r\n            var arr = [];\r\n            for (var n = 0, ni; ni = name[n++];) {\r\n                var list = node.getElementsByTagName(ni);\r\n                for (var i = 0, ci; ci = list[i++];) {\r\n                    if (!filter || filter(ci))\r\n                        arr.push(ci);\r\n                }\r\n            }\r\n\r\n            return arr;\r\n        },\r\n        /**\r\n         * 将节点node提取到父节点上\r\n         * @method mergeToParent\r\n         * @param { Element } node 需要提取的元素对象\r\n         * @example\r\n         * ```html\r\n         * <div id=\"parent\">\r\n         *     <div id=\"sub\">\r\n         *         <span id=\"child\"></span>\r\n         *     </div>\r\n         * </div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var child = document.getElementById( \"child\" );\r\n         *\r\n         *     //output: sub\r\n         *     console.log( child.parentNode.id );\r\n         *\r\n         *     UE.dom.domUtils.mergeToParent( child );\r\n         *\r\n         *     //output: parent\r\n         *     console.log( child.parentNode.id );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        mergeToParent: function(node) {\r\n            var parent = node.parentNode;\r\n            while (parent && dtd.$removeEmpty[parent.tagName]) {\r\n                if (parent.tagName == node.tagName || parent.tagName == 'A') { //针对a标签单独处理\r\n                    domUtils.trimWhiteTextNode(parent);\r\n                    //span需要特殊处理  不处理这样的情况 <span stlye=\"color:#fff\">xxx<span style=\"color:#ccc\">xxx</span>xxx</span>\r\n                    if (parent.tagName == 'SPAN' && !domUtils.isSameStyle(parent, node) ||\r\n                        (parent.tagName == 'A' && node.tagName == 'SPAN')) {\r\n                        if (parent.childNodes.length > 1 || parent !== node.parentNode) {\r\n                            node.style.cssText = parent.style.cssText + \";\" + node.style.cssText;\r\n                            parent = parent.parentNode;\r\n                            continue;\r\n                        } else {\r\n                            parent.style.cssText += \";\" + node.style.cssText;\r\n                            //trace:952 a标签要保持下划线\r\n                            if (parent.tagName == 'A') {\r\n                                parent.style.textDecoration = 'underline';\r\n                            }\r\n                        }\r\n                    }\r\n                    if (parent.tagName != 'A') {\r\n                        parent === node.parentNode && domUtils.remove(node, true);\r\n                        break;\r\n                    }\r\n                }\r\n                parent = parent.parentNode;\r\n            }\r\n        },\r\n        /**\r\n         * 合并节点node的左右兄弟节点\r\n         * @method mergeSibling\r\n         * @param { Element } node 需要合并的目标节点\r\n         * @example\r\n         * ```html\r\n         * <b>xxxx</b><b id=\"test\">ooo</b><b>xxxx</b>\r\n         *\r\n         * <script>\r\n         *     var demoNode = document.getElementById(\"test\");\r\n         *     UE.dom.domUtils.mergeSibling( demoNode );\r\n         *     //output: xxxxoooxxxx\r\n         *     console.log( demoNode.innerHTML );\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 合并节点node的左右兄弟节点， 可以根据给定的条件选择是否忽略合并左节点。\r\n         * @method mergeSibling\r\n         * @param { Element } node 需要合并的目标节点\r\n         * @param { Boolean } ignorePre 是否忽略合并左节点\r\n         * @example\r\n         * ```html\r\n         * <b>xxxx</b><b id=\"test\">ooo</b><b>xxxx</b>\r\n         *\r\n         * <script>\r\n         *     var demoNode = document.getElementById(\"test\");\r\n         *     UE.dom.domUtils.mergeSibling( demoNode, true );\r\n         *     //output: oooxxxx\r\n         *     console.log( demoNode.innerHTML );\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 合并节点node的左右兄弟节点，可以根据给定的条件选择是否忽略合并左右节点。\r\n         * @method mergeSibling\r\n         * @param { Element } node 需要合并的目标节点\r\n         * @param { Boolean } ignorePre 是否忽略合并左节点\r\n         * @param { Boolean } ignoreNext 是否忽略合并右节点\r\n         * @remind 如果同时忽略左右节点， 则该操作什么也不会做\r\n         * @example\r\n         * ```html\r\n         * <b>xxxx</b><b id=\"test\">ooo</b><b>xxxx</b>\r\n         *\r\n         * <script>\r\n         *     var demoNode = document.getElementById(\"test\");\r\n         *     UE.dom.domUtils.mergeSibling( demoNode, false, true );\r\n         *     //output: xxxxooo\r\n         *     console.log( demoNode.innerHTML );\r\n         * </script>\r\n         * ```\r\n         */\r\n        mergeSibling: function(node, ignorePre, ignoreNext) {\r\n            function merge(rtl, start, node) {\r\n                var next;\r\n                if ((next = node[rtl]) && !domUtils.isBookmarkNode(next) && next.nodeType == 1 && domUtils.isSameElement(node, next)) {\r\n                    while (next.firstChild) {\r\n                        if (start == 'firstChild') {\r\n                            node.insertBefore(next.lastChild, node.firstChild);\r\n                        } else {\r\n                            node.appendChild(next.firstChild);\r\n                        }\r\n                    }\r\n                    domUtils.remove(next);\r\n                }\r\n            }!ignorePre && merge('previousSibling', 'firstChild', node);\r\n            !ignoreNext && merge('nextSibling', 'lastChild', node);\r\n        },\r\n\r\n        /**\r\n         * 设置节点node及其子节点不会被选中\r\n         * @method unSelectable\r\n         * @param { Element } node 需要执行操作的dom元素\r\n         * @remind 执行该操作后的节点， 将不能被鼠标选中\r\n         * @example\r\n         * ```javascript\r\n         * UE.dom.domUtils.unSelectable( document.body );\r\n         * ```\r\n         */\r\n        unSelectable: ie && browser.ie9below || browser.opera ? function(node) {\r\n            //for ie9\r\n            node.onselectstart = function() {\r\n                return false;\r\n            };\r\n            node.onclick = node.onkeyup = node.onkeydown = function() {\r\n                return false;\r\n            };\r\n            node.unselectable = 'on';\r\n            node.setAttribute(\"unselectable\", \"on\");\r\n            for (var i = 0, ci; ci = node.all[i++];) {\r\n                switch (ci.tagName.toLowerCase()) {\r\n                    case 'iframe':\r\n                    case 'textarea':\r\n                    case 'input':\r\n                    case 'select':\r\n                        break;\r\n                    default:\r\n                        ci.unselectable = 'on';\r\n                        node.setAttribute(\"unselectable\", \"on\");\r\n                }\r\n            }\r\n        } : function(node) {\r\n            node.style.MozUserSelect =\r\n                node.style.webkitUserSelect =\r\n                node.style.msUserSelect =\r\n                node.style.KhtmlUserSelect = 'none';\r\n        },\r\n        /**\r\n         * 删除节点node上的指定属性名称的属性\r\n         * @method  removeAttributes\r\n         * @param { Node } node 需要删除属性的节点对象\r\n         * @param { String } attrNames 可以是空格隔开的多个属性名称，该操作将会依次删除相应的属性\r\n         * @example\r\n         * ```html\r\n         * <div id=\"wrap\">\r\n         *      <span style=\"font-size:14px;\" id=\"test\" name=\"followMe\">xxxxx</span>\r\n         * </div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     UE.dom.domUtils.removeAttributes( document.getElementById( \"test\" ), \"id name\" );\r\n         *\r\n         *     //output: <span style=\"font-size:14px;\">xxxxx</span>\r\n         *     console.log( document.getElementById(\"wrap\").innerHTML );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 删除节点node上的指定属性名称的属性\r\n         * @method  removeAttributes\r\n         * @param { Node } node 需要删除属性的节点对象\r\n         * @param { Array } attrNames 需要删除的属性名数组\r\n         * @example\r\n         * ```html\r\n         * <div id=\"wrap\">\r\n         *      <span style=\"font-size:14px;\" id=\"test\" name=\"followMe\">xxxxx</span>\r\n         * </div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     UE.dom.domUtils.removeAttributes( document.getElementById( \"test\" ), [\"id\", \"name\"] );\r\n         *\r\n         *     //output: <span style=\"font-size:14px;\">xxxxx</span>\r\n         *     console.log( document.getElementById(\"wrap\").innerHTML );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        removeAttributes: function(node, attrNames) {\r\n            attrNames = utils.isArray(attrNames) ? attrNames : utils.trim(attrNames).replace(/[ ]{2,}/g, ' ').split(' ');\r\n            for (var i = 0, ci; ci = attrNames[i++];) {\r\n                ci = attrFix[ci] || ci;\r\n                switch (ci) {\r\n                    case 'className':\r\n                        node[ci] = '';\r\n                        break;\r\n                    case 'style':\r\n                        node.style.cssText = '';\r\n                        var val = node.getAttributeNode('style');\r\n                        !browser.ie && val && node.removeAttributeNode(val);\r\n                }\r\n                node.removeAttribute(ci);\r\n            }\r\n        },\r\n        /**\r\n         * 在doc下创建一个标签名为tag，属性为attrs的元素\r\n         * @method createElement\r\n         * @param { DomDocument } doc 新创建的元素属于该document节点创建\r\n         * @param { String } tagName 需要创建的元素的标签名\r\n         * @param { Object } attrs 新创建的元素的属性key-value集合\r\n         * @return { Element } 新创建的元素对象\r\n         * @example\r\n         * ```javascript\r\n         * var ele = UE.dom.domUtils.createElement( document, 'div', {\r\n         *     id: 'test'\r\n         * } );\r\n         *\r\n         * //output: DIV\r\n         * console.log( ele.tagName );\r\n         *\r\n         * //output: test\r\n         * console.log( ele.id );\r\n         *\r\n         * ```\r\n         */\r\n        createElement: function(doc, tag, attrs) {\r\n            return domUtils.setAttributes(doc.createElement(tag), attrs)\r\n        },\r\n        /**\r\n         * 为节点node添加属性attrs，attrs为属性键值对\r\n         * @method setAttributes\r\n         * @param { Element } node 需要设置属性的元素对象\r\n         * @param { Object } attrs 需要设置的属性名-值对\r\n         * @return { Element } 设置属性的元素对象\r\n         * @example\r\n         * ```html\r\n         * <span id=\"test\"></span>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var testNode = UE.dom.domUtils.setAttributes( document.getElementById( \"test\" ), {\r\n         *         id: 'demo'\r\n         *     } );\r\n         *\r\n         *     //output: demo\r\n         *     console.log( testNode.id );\r\n         *\r\n         * </script>\r\n         *\r\n         */\r\n        setAttributes: function(node, attrs) {\r\n            for (var attr in attrs) {\r\n                if (attrs.hasOwnProperty(attr)) {\r\n                    var value = attrs[attr];\r\n                    switch (attr) {\r\n                        case 'class':\r\n                            //ie下要这样赋值，setAttribute不起作用\r\n                            node.className = value;\r\n                            break;\r\n                        case 'style':\r\n                            node.style.cssText = node.style.cssText + \";\" + value;\r\n                            break;\r\n                        case 'innerHTML':\r\n                            node[attr] = value;\r\n                            break;\r\n                        case 'value':\r\n                            node.value = value;\r\n                            break;\r\n                        default:\r\n                            node.setAttribute(attrFix[attr] || attr, value);\r\n                    }\r\n                }\r\n            }\r\n            return node;\r\n        },\r\n\r\n        /**\r\n         * 获取元素element经过计算后的样式值\r\n         * @method getComputedStyle\r\n         * @param { Element } element 需要获取样式的元素对象\r\n         * @param { String } styleName 需要获取的样式名\r\n         * @return { String } 获取到的样式值\r\n         * @example\r\n         * ```html\r\n         * <style type=\"text/css\">\r\n         *      #test {\r\n         *          font-size: 15px;\r\n         *      }\r\n         * </style>\r\n         *\r\n         * <span id=\"test\"></span>\r\n         *\r\n         * <script>\r\n         *     //output: 15px\r\n         *     console.log( UE.dom.domUtils.getComputedStyle( document.getElementById( \"test\" ), 'font-size' ) );\r\n         * </script>\r\n         * ```\r\n         */\r\n        getComputedStyle: function(element, styleName) {\r\n            //一下的属性单独处理\r\n            var pros = 'width height top left';\r\n\r\n            if (pros.indexOf(styleName) > -1) {\r\n                return element['offset' + styleName.replace(/^\\w/, function(s) { return s.toUpperCase() })] + 'px';\r\n            }\r\n            //忽略文本节点\r\n            if (element.nodeType == 3) {\r\n                element = element.parentNode;\r\n            }\r\n            //ie下font-size若body下定义了font-size，则从currentStyle里会取到这个font-size. 取不到实际值，故此修改.\r\n            if (browser.ie && browser.version < 9 && styleName == 'font-size' && !element.style.fontSize &&\r\n                !dtd.$empty[element.tagName] && !dtd.$nonChild[element.tagName]) {\r\n                var span = element.ownerDocument.createElement('span');\r\n                span.style.cssText = 'padding:0;border:0;font-family:simsun;';\r\n                span.innerHTML = '.';\r\n                element.appendChild(span);\r\n                var result = span.offsetHeight;\r\n                element.removeChild(span);\r\n                span = null;\r\n                return result + 'px';\r\n            }\r\n            try {\r\n                var value = domUtils.getStyle(element, styleName) ||\r\n                    (window.getComputedStyle ? domUtils.getWindow(element).getComputedStyle(element, '').getPropertyValue(styleName) :\r\n                        (element.currentStyle || element.style)[utils.cssStyleToDomStyle(styleName)]);\r\n\r\n            } catch (e) {\r\n                return \"\";\r\n            }\r\n            return utils.transUnitToPx(utils.fixColor(styleName, value));\r\n        },\r\n        /**\r\n         * 删除元素element指定的className\r\n         * @method removeClasses\r\n         * @param { Element } ele 需要删除class的元素节点\r\n         * @param { String } classNames 需要删除的className， 多个className之间以空格分开\r\n         * @example\r\n         * ```html\r\n         * <span id=\"test\" class=\"test1 test2 test3\">xxx</span>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var testNode = document.getElementById( \"test\" );\r\n         *     UE.dom.domUtils.removeClasses( testNode, \"test1 test2\" );\r\n         *\r\n         *     //output: test3\r\n         *     console.log( testNode.className );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 删除元素element指定的className\r\n         * @method removeClasses\r\n         * @param { Element } ele 需要删除class的元素节点\r\n         * @param { Array } classNames 需要删除的className数组\r\n         * @example\r\n         * ```html\r\n         * <span id=\"test\" class=\"test1 test2 test3\">xxx</span>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var testNode = document.getElementById( \"test\" );\r\n         *     UE.dom.domUtils.removeClasses( testNode, [\"test1\", \"test2\"] );\r\n         *\r\n         *     //output: test3\r\n         *     console.log( testNode.className );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        removeClasses: function(elm, classNames) {\r\n            classNames = utils.isArray(classNames) ? classNames :\r\n                utils.trim(classNames).replace(/[ ]{2,}/g, ' ').split(' ');\r\n            for (var i = 0, ci, cls = elm.className; ci = classNames[i++];) {\r\n                cls = cls.replace(new RegExp('\\\\b' + ci + '\\\\b'), '')\r\n            }\r\n            cls = utils.trim(cls).replace(/[ ]{2,}/g, ' ');\r\n            if (cls) {\r\n                elm.className = cls;\r\n            } else {\r\n                domUtils.removeAttributes(elm, ['class']);\r\n            }\r\n        },\r\n        /**\r\n         * 给元素element添加className\r\n         * @method addClass\r\n         * @param { Node } ele 需要增加className的元素\r\n         * @param { String } classNames 需要添加的className， 多个className之间以空格分割\r\n         * @remind 相同的类名不会被重复添加\r\n         * @example\r\n         * ```html\r\n         * <span id=\"test\" class=\"cls1 cls2\"></span>\r\n         *\r\n         * <script>\r\n         *     var testNode = document.getElementById(\"test\");\r\n         *\r\n         *     UE.dom.domUtils.addClass( testNode, \"cls2 cls3 cls4\" );\r\n         *\r\n         *     //output: cl1 cls2 cls3 cls4\r\n         *     console.log( testNode.className );\r\n         *\r\n         * <script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 给元素element添加className\r\n         * @method addClass\r\n         * @param { Node } ele 需要增加className的元素\r\n         * @param { Array } classNames 需要添加的className的数组\r\n         * @remind 相同的类名不会被重复添加\r\n         * @example\r\n         * ```html\r\n         * <span id=\"test\" class=\"cls1 cls2\"></span>\r\n         *\r\n         * <script>\r\n         *     var testNode = document.getElementById(\"test\");\r\n         *\r\n         *     UE.dom.domUtils.addClass( testNode, [\"cls2\", \"cls3\", \"cls4\"] );\r\n         *\r\n         *     //output: cl1 cls2 cls3 cls4\r\n         *     console.log( testNode.className );\r\n         *\r\n         * <script>\r\n         * ```\r\n         */\r\n        addClass: function(elm, classNames) {\r\n            if (!elm) return;\r\n            classNames = utils.trim(classNames).replace(/[ ]{2,}/g, ' ').split(' ');\r\n            for (var i = 0, ci, cls = elm.className; ci = classNames[i++];) {\r\n                if (!new RegExp('\\\\b' + ci + '\\\\b').test(cls)) {\r\n                    cls += ' ' + ci;\r\n                }\r\n            }\r\n            elm.className = utils.trim(cls);\r\n        },\r\n        /**\r\n         * 判断元素element是否包含给定的样式类名className\r\n         * @method hasClass\r\n         * @param { Node } ele 需要检测的元素\r\n         * @param { String } classNames 需要检测的className， 多个className之间用空格分割\r\n         * @return { Boolean } 元素是否包含所有给定的className\r\n         * @example\r\n         * ```html\r\n         * <span id=\"test1\" class=\"cls1 cls2\"></span>\r\n         *\r\n         * <script>\r\n         *     var test1 = document.getElementById(\"test1\");\r\n         *\r\n         *     //output: false\r\n         *     console.log( UE.dom.domUtils.hasClass( test1, \"cls2 cls1 cls3\" ) );\r\n         *\r\n         *     //output: true\r\n         *     console.log( UE.dom.domUtils.hasClass( test1, \"cls2 cls1\" ) );\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 判断元素element是否包含给定的样式类名className\r\n         * @method hasClass\r\n         * @param { Node } ele 需要检测的元素\r\n         * @param { Array } classNames 需要检测的className数组\r\n         * @return { Boolean } 元素是否包含所有给定的className\r\n         * @example\r\n         * ```html\r\n         * <span id=\"test1\" class=\"cls1 cls2\"></span>\r\n         *\r\n         * <script>\r\n         *     var test1 = document.getElementById(\"test1\");\r\n         *\r\n         *     //output: false\r\n         *     console.log( UE.dom.domUtils.hasClass( test1, [ \"cls2\", \"cls1\", \"cls3\" ] ) );\r\n         *\r\n         *     //output: true\r\n         *     console.log( UE.dom.domUtils.hasClass( test1, [ \"cls2\", \"cls1\" ]) );\r\n         * </script>\r\n         * ```\r\n         */\r\n        hasClass: function(element, className) {\r\n            if (utils.isRegExp(className)) {\r\n                return className.test(element.className)\r\n            }\r\n            className = utils.trim(className).replace(/[ ]{2,}/g, ' ').split(' ');\r\n            for (var i = 0, ci, cls = element.className; ci = className[i++];) {\r\n                if (!new RegExp('\\\\b' + ci + '\\\\b', 'i').test(cls)) {\r\n                    return false;\r\n                }\r\n            }\r\n            return i - 1 == className.length;\r\n        },\r\n\r\n        /**\r\n         * 阻止事件默认行为\r\n         * @method preventDefault\r\n         * @param { Event } evt 需要阻止默认行为的事件对象\r\n         * @example\r\n         * ```javascript\r\n         * UE.dom.domUtils.preventDefault( evt );\r\n         * ```\r\n         */\r\n        preventDefault: function(evt) {\r\n            evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\r\n        },\r\n        /**\r\n         * 删除元素element指定的样式\r\n         * @method removeStyle\r\n         * @param { Element } element 需要删除样式的元素\r\n         * @param { String } styleName 需要删除的样式名\r\n         * @example\r\n         * ```html\r\n         * <span id=\"test\" style=\"color: red; background: blue;\"></span>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var testNode = document.getElementById(\"test\");\r\n         *\r\n         *     UE.dom.domUtils.removeStyle( testNode, 'color' );\r\n         *\r\n         *     //output: background: blue;\r\n         *     console.log( testNode.style.cssText );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        removeStyle: function(element, name) {\r\n            if (browser.ie) {\r\n                //针对color先单独处理一下\r\n                if (name == 'color') {\r\n                    name = '(^|;)' + name;\r\n                }\r\n                element.style.cssText = element.style.cssText.replace(new RegExp(name + '[^:]*:[^;]+;?', 'ig'), '')\r\n            } else {\r\n                if (element.style.removeProperty) {\r\n                    element.style.removeProperty(name);\r\n                } else {\r\n                    element.style.removeAttribute(utils.cssStyleToDomStyle(name));\r\n                }\r\n            }\r\n\r\n\r\n            if (!element.style.cssText) {\r\n                domUtils.removeAttributes(element, ['style']);\r\n            }\r\n        },\r\n        /**\r\n         * 获取元素element的style属性的指定值\r\n         * @method getStyle\r\n         * @param { Element } element 需要获取属性值的元素\r\n         * @param { String } styleName 需要获取的style的名称\r\n         * @warning 该方法仅获取元素style属性中所标明的值\r\n         * @return { String } 该元素包含指定的style属性值\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\" style=\"color: red;\"></div>\r\n         *\r\n         * <script>\r\n         *\r\n         *      var testNode = document.getElementById( \"test\" );\r\n         *\r\n         *      //output: red\r\n         *      console.log( UE.dom.domUtils.getStyle( testNode, \"color\" ) );\r\n         *\r\n         *      //output: \"\"\r\n         *      console.log( UE.dom.domUtils.getStyle( testNode, \"background\" ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        getStyle: function(element, name) {\r\n            var value = element.style[utils.cssStyleToDomStyle(name)];\r\n            return utils.fixColor(name, value);\r\n        },\r\n        /**\r\n         * 为元素element设置样式属性值\r\n         * @method setStyle\r\n         * @param { Element } element 需要设置样式的元素\r\n         * @param { String } styleName 样式名\r\n         * @param { String } styleValue 样式值\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\"></div>\r\n         *\r\n         * <script>\r\n         *\r\n         *      var testNode = document.getElementById( \"test\" );\r\n         *\r\n         *      //output: \"\"\r\n         *      console.log( testNode.style.color );\r\n         *\r\n         *      UE.dom.domUtils.setStyle( testNode, 'color', 'red' );\r\n         *      //output: \"red\"\r\n         *      console.log( testNode.style.color );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        setStyle: function(element, name, value) {\r\n            element.style[utils.cssStyleToDomStyle(name)] = value;\r\n            if (!utils.trim(element.style.cssText)) {\r\n                this.removeAttributes(element, 'style')\r\n            }\r\n        },\r\n        /**\r\n         * 为元素element设置多个样式属性值\r\n         * @method setStyles\r\n         * @param { Element } element 需要设置样式的元素\r\n         * @param { Object } styles 样式名值对\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\"></div>\r\n         *\r\n         * <script>\r\n         *\r\n         *      var testNode = document.getElementById( \"test\" );\r\n         *\r\n         *      //output: \"\"\r\n         *      console.log( testNode.style.color );\r\n         *\r\n         *      UE.dom.domUtils.setStyles( testNode, {\r\n         *          'color': 'red'\r\n         *      } );\r\n         *      //output: \"red\"\r\n         *      console.log( testNode.style.color );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        setStyles: function(element, styles) {\r\n            for (var name in styles) {\r\n                if (styles.hasOwnProperty(name)) {\r\n                    domUtils.setStyle(element, name, styles[name]);\r\n                }\r\n            }\r\n        },\r\n        /**\r\n         * 删除_moz_dirty属性\r\n         * @private\r\n         * @method removeDirtyAttr\r\n         */\r\n        removeDirtyAttr: function(node) {\r\n            for (var i = 0, ci, nodes = node.getElementsByTagName('*'); ci = nodes[i++];) {\r\n                ci.removeAttribute('_moz_dirty');\r\n            }\r\n            node.removeAttribute('_moz_dirty');\r\n        },\r\n        /**\r\n         * 获取子节点的数量\r\n         * @method getChildCount\r\n         * @param { Element } node 需要检测的元素\r\n         * @return { Number } 给定的node元素的子节点数量\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\">\r\n         *      <span></span>\r\n         * </div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     //output: 3\r\n         *     console.log( UE.dom.domUtils.getChildCount( document.getElementById(\"test\") ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 根据给定的过滤规则， 获取符合条件的子节点的数量\r\n         * @method getChildCount\r\n         * @param { Element } node 需要检测的元素\r\n         * @param { Function } fn 过滤器， 要求对符合条件的子节点返回true， 反之则要求返回false\r\n         * @return { Number } 符合过滤条件的node元素的子节点数量\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\">\r\n         *      <span></span>\r\n         * </div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     //output: 1\r\n         *     console.log( UE.dom.domUtils.getChildCount( document.getElementById(\"test\"), function ( node ) {\r\n         *\r\n         *         return node.nodeType === 1;\r\n         *\r\n         *     } ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        getChildCount: function(node, fn) {\r\n            var count = 0,\r\n                first = node.firstChild;\r\n            fn = fn || function() {\r\n                return 1;\r\n            };\r\n            while (first) {\r\n                if (fn(first)) {\r\n                    count++;\r\n                }\r\n                first = first.nextSibling;\r\n            }\r\n            return count;\r\n        },\r\n\r\n        /**\r\n         * 判断给定节点是否为空节点\r\n         * @method isEmptyNode\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @return { Boolean } 节点是否为空\r\n         * @example\r\n         * ```javascript\r\n         * UE.dom.domUtils.isEmptyNode( document.body );\r\n         * ```\r\n         */\r\n        isEmptyNode: function(node) {\r\n            return !node.firstChild || domUtils.getChildCount(node, function(node) {\r\n                return !domUtils.isBr(node) && !domUtils.isBookmarkNode(node) && !domUtils.isWhitespace(node)\r\n            }) == 0\r\n        },\r\n        clearSelectedArr: function(nodes) {\r\n            var node;\r\n            while (node = nodes.pop()) {\r\n                domUtils.removeAttributes(node, ['class']);\r\n            }\r\n        },\r\n        /**\r\n         * 将显示区域滚动到指定节点的位置\r\n         * @method scrollToView\r\n         * @param    {Node}   node    节点\r\n         * @param    {window}   win      window对象\r\n         * @param    {Number}    offsetTop    距离上方的偏移量\r\n         */\r\n        scrollToView: function(node, win, offsetTop) {\r\n            var getViewPaneSize = function() {\r\n                    var doc = win.document,\r\n                        mode = doc.compatMode == 'CSS1Compat';\r\n                    return {\r\n                        width: (mode ? doc.documentElement.clientWidth : doc.body.clientWidth) || 0,\r\n                        height: (mode ? doc.documentElement.clientHeight : doc.body.clientHeight) || 0\r\n                    };\r\n                },\r\n                getScrollPosition = function(win) {\r\n                    if ('pageXOffset' in win) {\r\n                        return {\r\n                            x: win.pageXOffset || 0,\r\n                            y: win.pageYOffset || 0\r\n                        };\r\n                    } else {\r\n                        var doc = win.document;\r\n                        return {\r\n                            x: doc.documentElement.scrollLeft || doc.body.scrollLeft || 0,\r\n                            y: doc.documentElement.scrollTop || doc.body.scrollTop || 0\r\n                        };\r\n                    }\r\n                };\r\n            var winHeight = getViewPaneSize().height,\r\n                offset = winHeight * -1 + offsetTop;\r\n            offset += (node.offsetHeight || 0);\r\n            var elementPosition = domUtils.getXY(node);\r\n            offset += elementPosition.y;\r\n            var currentScroll = getScrollPosition(win).y;\r\n            // offset += 50;\r\n            if (offset > currentScroll || offset < currentScroll - winHeight) {\r\n                win.scrollTo(0, offset + (offset < 0 ? -20 : 20));\r\n            }\r\n        },\r\n        /**\r\n         * 判断给定节点是否为br\r\n         * @method isBr\r\n         * @param { Node } node 需要判断的节点对象\r\n         * @return { Boolean } 给定的节点是否是br节点\r\n         */\r\n        isBr: function(node) {\r\n            return node.nodeType == 1 && node.tagName == 'BR';\r\n        },\r\n        /**\r\n         * 判断给定的节点是否是一个“填充”节点\r\n         * @private\r\n         * @method isFillChar\r\n         * @param { Node } node 需要判断的节点\r\n         * @param { Boolean } isInStart 是否从节点内容的开始位置匹配\r\n         * @returns { Boolean } 节点是否是填充节点\r\n         */\r\n        isFillChar: function(node, isInStart) {\r\n            if (node.nodeType != 3)\r\n                return false;\r\n            var text = node.nodeValue;\r\n            if (isInStart) {\r\n                return new RegExp('^' + domUtils.fillChar).test(text)\r\n            }\r\n            return !text.replace(new RegExp(domUtils.fillChar, 'g'), '').length\r\n        },\r\n        isStartInblock: function(range) {\r\n            var tmpRange = range.cloneRange(),\r\n                flag = 0,\r\n                start = tmpRange.startContainer,\r\n                tmp;\r\n            if (start.nodeType == 1 && start.childNodes[tmpRange.startOffset]) {\r\n                start = start.childNodes[tmpRange.startOffset];\r\n                var pre = start.previousSibling;\r\n                while (pre && domUtils.isFillChar(pre)) {\r\n                    start = pre;\r\n                    pre = pre.previousSibling;\r\n                }\r\n            }\r\n            if (this.isFillChar(start, true) && tmpRange.startOffset == 1) {\r\n                tmpRange.setStartBefore(start);\r\n                start = tmpRange.startContainer;\r\n            }\r\n\r\n            while (start && domUtils.isFillChar(start)) {\r\n                tmp = start;\r\n                start = start.previousSibling\r\n            }\r\n            if (tmp) {\r\n                tmpRange.setStartBefore(tmp);\r\n                start = tmpRange.startContainer;\r\n            }\r\n            if (start.nodeType == 1 && domUtils.isEmptyNode(start) && tmpRange.startOffset == 1) {\r\n                tmpRange.setStart(start, 0).collapse(true);\r\n            }\r\n            while (!tmpRange.startOffset) {\r\n                start = tmpRange.startContainer;\r\n                if (domUtils.isBlockElm(start) || domUtils.isBody(start)) {\r\n                    flag = 1;\r\n                    break;\r\n                }\r\n                var pre = tmpRange.startContainer.previousSibling,\r\n                    tmpNode;\r\n                if (!pre) {\r\n                    tmpRange.setStartBefore(tmpRange.startContainer);\r\n                } else {\r\n                    while (pre && domUtils.isFillChar(pre)) {\r\n                        tmpNode = pre;\r\n                        pre = pre.previousSibling;\r\n                    }\r\n                    if (tmpNode) {\r\n                        tmpRange.setStartBefore(tmpNode);\r\n                    } else {\r\n                        tmpRange.setStartBefore(tmpRange.startContainer);\r\n                    }\r\n                }\r\n            }\r\n            return flag && !domUtils.isBody(tmpRange.startContainer) ? 1 : 0;\r\n        },\r\n\r\n        /**\r\n         * 判断给定的元素是否是一个空元素\r\n         * @method isEmptyBlock\r\n         * @param { Element } node 需要判断的元素\r\n         * @return { Boolean } 是否是空元素\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\"></div>\r\n         *\r\n         * <script>\r\n         *     //output: true\r\n         *     console.log( UE.dom.domUtils.isEmptyBlock( document.getElementById(\"test\") ) );\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 根据指定的判断规则判断给定的元素是否是一个空元素\r\n         * @method isEmptyBlock\r\n         * @param { Element } node 需要判断的元素\r\n         * @param { RegExp } reg 对内容执行判断的正则表达式对象\r\n         * @return { Boolean } 是否是空元素\r\n         */\r\n        isEmptyBlock: function(node, reg) {\r\n            if (node.nodeType != 1)\r\n                return 0;\r\n            reg = reg || new RegExp('[ \\xa0\\t\\r\\n' + domUtils.fillChar + ']', 'g');\r\n\r\n            if (node[browser.ie ? 'innerText' : 'textContent'].replace(reg, '').length > 0) {\r\n                return 0;\r\n            }\r\n            for (var n in dtd.$isNotEmpty) {\r\n                if (node.getElementsByTagName(n).length) {\r\n                    return 0;\r\n                }\r\n            }\r\n            return 1;\r\n        },\r\n\r\n        /**\r\n         * 移动元素使得该元素的位置移动指定的偏移量的距离\r\n         * @method setViewportOffset\r\n         * @param { Element } element 需要设置偏移量的元素\r\n         * @param { Object } offset 偏移量， 形如{ left: 100, top: 50 }的一个键值对， 表示该元素将在\r\n         *                                  现有的位置上向水平方向偏移offset.left的距离， 在竖直方向上偏移\r\n         *                                  offset.top的距离\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\" style=\"top: 100px; left: 50px; position: absolute;\"></div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var testNode = document.getElementById(\"test\");\r\n         *\r\n         *     UE.dom.domUtils.setViewportOffset( testNode, {\r\n         *         left: 200,\r\n         *         top: 50\r\n         *     } );\r\n         *\r\n         *     //output: top: 300px; left: 100px; position: absolute;\r\n         *     console.log( testNode.style.cssText );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        setViewportOffset: function(element, offset) {\r\n            var left = parseInt(element.style.left) | 0;\r\n            var top = parseInt(element.style.top) | 0;\r\n            var rect = element.getBoundingClientRect();\r\n            var offsetLeft = offset.left - rect.left;\r\n            var offsetTop = offset.top - rect.top;\r\n            if (offsetLeft) {\r\n                element.style.left = left + offsetLeft + 'px';\r\n            }\r\n            if (offsetTop) {\r\n                element.style.top = top + offsetTop + 'px';\r\n            }\r\n        },\r\n\r\n        /**\r\n         * 用“填充字符”填充节点\r\n         * @method fillNode\r\n         * @private\r\n         * @param { DomDocument } doc 填充的节点所在的docment对象\r\n         * @param { Node } node 需要填充的节点对象\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\"></div>\r\n         *\r\n         * <script>\r\n         *     var testNode = document.getElementById(\"test\");\r\n         *\r\n         *     //output: 0\r\n         *     console.log( testNode.childNodes.length );\r\n         *\r\n         *     UE.dom.domUtils.fillNode( document, testNode );\r\n         *\r\n         *     //output: 1\r\n         *     console.log( testNode.childNodes.length );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        fillNode: function(doc, node) {\r\n            var tmpNode = browser.ie ? doc.createTextNode(domUtils.fillChar) : doc.createElement('br');\r\n            node.innerHTML = '';\r\n            node.appendChild(tmpNode);\r\n        },\r\n\r\n        /**\r\n         * 把节点src的所有子节点追加到另一个节点tag上去\r\n         * @method moveChild\r\n         * @param { Node } src 源节点， 该节点下的所有子节点将被移除\r\n         * @param { Node } tag 目标节点， 从源节点移除的子节点将被追加到该节点下\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test1\">\r\n         *      <span></span>\r\n         * </div>\r\n         * <div id=\"test2\">\r\n         *     <div></div>\r\n         * </div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var test1 = document.getElementById(\"test1\"),\r\n         *         test2 = document.getElementById(\"test2\");\r\n         *\r\n         *     UE.dom.domUtils.moveChild( test1, test2 );\r\n         *\r\n         *     //output: \"\"（空字符串）\r\n         *     console.log( test1.innerHTML );\r\n         *\r\n         *     //output: \"<div></div><span></span>\"\r\n         *     console.log( test2.innerHTML );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 把节点src的所有子节点移动到另一个节点tag上去, 可以通过dir参数控制附加的行为是“追加”还是“插入顶部”\r\n         * @method moveChild\r\n         * @param { Node } src 源节点， 该节点下的所有子节点将被移除\r\n         * @param { Node } tag 目标节点， 从源节点移除的子节点将被附加到该节点下\r\n         * @param { Boolean } dir 附加方式， 如果为true， 则附加进去的节点将被放到目标节点的顶部， 反之，则放到末尾\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test1\">\r\n         *      <span></span>\r\n         * </div>\r\n         * <div id=\"test2\">\r\n         *     <div></div>\r\n         * </div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var test1 = document.getElementById(\"test1\"),\r\n         *         test2 = document.getElementById(\"test2\");\r\n         *\r\n         *     UE.dom.domUtils.moveChild( test1, test2, true );\r\n         *\r\n         *     //output: \"\"（空字符串）\r\n         *     console.log( test1.innerHTML );\r\n         *\r\n         *     //output: \"<span></span><div></div>\"\r\n         *     console.log( test2.innerHTML );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        moveChild: function(src, tag, dir) {\r\n            while (src.firstChild) {\r\n                if (dir && tag.firstChild) {\r\n                    tag.insertBefore(src.lastChild, tag.firstChild);\r\n                } else {\r\n                    tag.appendChild(src.firstChild);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * 判断节点的标签上是否不存在任何属性\r\n         * @method hasNoAttributes\r\n         * @private\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @return { Boolean } 节点是否不包含任何属性\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\"><span>xxxx</span></div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     //output: false\r\n         *     console.log( UE.dom.domUtils.hasNoAttributes( document.getElementById(\"test\") ) );\r\n         *\r\n         *     //output: true\r\n         *     console.log( UE.dom.domUtils.hasNoAttributes( document.getElementById(\"test\").firstChild ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        hasNoAttributes: function(node) {\r\n            return browser.ie ? /^<\\w+\\s*?>/.test(node.outerHTML) : node.attributes.length == 0;\r\n        },\r\n\r\n        /**\r\n         * 检测节点是否是UEditor所使用的辅助节点\r\n         * @method isCustomeNode\r\n         * @private\r\n         * @param { Node } node 需要检测的节点\r\n         * @remind 辅助节点是指编辑器要完成工作临时添加的节点， 在输出的时候将会从编辑器内移除， 不会影响最终的结果。\r\n         * @return { Boolean } 给定的节点是否是一个辅助节点\r\n         */\r\n        isCustomeNode: function(node) {\r\n            return node.nodeType == 1 && node.getAttribute('_ue_custom_node_');\r\n        },\r\n\r\n        /**\r\n         * 检测节点的标签是否是给定的标签\r\n         * @method isTagNode\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @param { String } tagName 标签\r\n         * @return { Boolean } 节点的标签是否是给定的标签\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\"></div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     //output: true\r\n         *     console.log( UE.dom.domUtils.isTagNode( document.getElementById(\"test\"), \"div\" ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        isTagNode: function(node, tagNames) {\r\n            return node.nodeType == 1 && new RegExp('\\\\b' + node.tagName + '\\\\b', 'i').test(tagNames)\r\n        },\r\n\r\n        /**\r\n         * 给定一个节点数组，在通过指定的过滤器过滤后， 获取其中满足过滤条件的第一个节点\r\n         * @method filterNodeList\r\n         * @param { Array } nodeList 需要过滤的节点数组\r\n         * @param { Function } fn 过滤器， 对符合条件的节点， 执行结果返回true， 反之则返回false\r\n         * @return { Node | NULL } 如果找到符合过滤条件的节点， 则返回该节点， 否则返回NULL\r\n         * @example\r\n         * ```javascript\r\n         * var divNodes = document.getElementsByTagName(\"div\");\r\n         * divNodes = [].slice.call( divNodes, 0 );\r\n         *\r\n         * //output: null\r\n         * console.log( UE.dom.domUtils.filterNodeList( divNodes, function ( node ) {\r\n         *     return node.tagName.toLowerCase() !== 'div';\r\n         * } ) );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 给定一个节点数组nodeList和一组标签名tagNames， 获取其中能够匹配标签名的节点集合中的第一个节点\r\n         * @method filterNodeList\r\n         * @param { Array } nodeList 需要过滤的节点数组\r\n         * @param { String } tagNames 需要匹配的标签名， 多个标签名之间用空格分割\r\n         * @return { Node | NULL } 如果找到标签名匹配的节点， 则返回该节点， 否则返回NULL\r\n         * @example\r\n         * ```javascript\r\n         * var divNodes = document.getElementsByTagName(\"div\");\r\n         * divNodes = [].slice.call( divNodes, 0 );\r\n         *\r\n         * //output: null\r\n         * console.log( UE.dom.domUtils.filterNodeList( divNodes, 'a span' ) );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 给定一个节点数组，在通过指定的过滤器过滤后， 如果参数forAll为true， 则会返回所有满足过滤\r\n         * 条件的节点集合， 否则， 返回满足条件的节点集合中的第一个节点\r\n         * @method filterNodeList\r\n         * @param { Array } nodeList 需要过滤的节点数组\r\n         * @param { Function } fn 过滤器， 对符合条件的节点， 执行结果返回true， 反之则返回false\r\n         * @param { Boolean } forAll 是否返回整个节点数组, 如果该参数为false， 则返回节点集合中的第一个节点\r\n         * @return { Array | Node | NULL } 如果找到符合过滤条件的节点， 则根据参数forAll的值决定返回满足\r\n         *                                      过滤条件的节点数组或第一个节点， 否则返回NULL\r\n         * @example\r\n         * ```javascript\r\n         * var divNodes = document.getElementsByTagName(\"div\");\r\n         * divNodes = [].slice.call( divNodes, 0 );\r\n         *\r\n         * //output: 3（假定有3个div）\r\n         * console.log( divNodes.length );\r\n         *\r\n         * var nodes = UE.dom.domUtils.filterNodeList( divNodes, function ( node ) {\r\n         *     return node.tagName.toLowerCase() === 'div';\r\n         * }, true );\r\n         *\r\n         * //output: 3\r\n         * console.log( nodes.length );\r\n         *\r\n         * var node = UE.dom.domUtils.filterNodeList( divNodes, function ( node ) {\r\n         *     return node.tagName.toLowerCase() === 'div';\r\n         * }, false );\r\n         *\r\n         * //output: div\r\n         * console.log( node.nodeName );\r\n         * ```\r\n         */\r\n        filterNodeList: function(nodelist, filter, forAll) {\r\n            var results = [];\r\n            if (!utils.isFunction(filter)) {\r\n                var str = filter;\r\n                filter = function(n) {\r\n                    return utils.indexOf(utils.isArray(str) ? str : str.split(' '), n.tagName.toLowerCase()) != -1\r\n                };\r\n            }\r\n            utils.each(nodelist, function(n) {\r\n                filter(n) && results.push(n)\r\n            });\r\n            return results.length == 0 ? null : results.length == 1 || !forAll ? results[0] : results\r\n        },\r\n\r\n        /**\r\n         * 查询给定的range选区是否在给定的node节点内，且在该节点的最末尾\r\n         * @method isInNodeEndBoundary\r\n         * @param { UE.dom.Range } rng 需要判断的range对象， 该对象的startContainer不能为NULL\r\n         * @param node 需要检测的节点对象\r\n         * @return { Number } 如果给定的选取range对象是在node内部的最末端， 则返回1, 否则返回0\r\n         */\r\n        isInNodeEndBoundary: function(rng, node) {\r\n            var start = rng.startContainer;\r\n            if (start.nodeType == 3 && rng.startOffset != start.nodeValue.length) {\r\n                return 0;\r\n            }\r\n            if (start.nodeType == 1 && rng.startOffset != start.childNodes.length) {\r\n                return 0;\r\n            }\r\n            while (start !== node) {\r\n                if (start.nextSibling) {\r\n                    return 0\r\n                };\r\n                start = start.parentNode;\r\n            }\r\n            return 1;\r\n        },\r\n        isBoundaryNode: function(node, dir) {\r\n            var tmp;\r\n            while (!domUtils.isBody(node)) {\r\n                tmp = node;\r\n                node = node.parentNode;\r\n                if (tmp !== node[dir]) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        },\r\n        fillHtml: browser.ie11below ? '&nbsp;' : '<br/>'\r\n    };\r\n    var fillCharReg = new RegExp(domUtils.fillChar, 'g');\r\n\r\n    // core/Range.js\r\n    /**\r\n     * Range封装\r\n     * @file\r\n     * @module UE.dom\r\n     * @class Range\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * dom操作封装\r\n     * @unfile\r\n     * @module UE.dom\r\n     */\r\n\r\n    /**\r\n     * Range实现类，本类是UEditor底层核心类，封装不同浏览器之间的Range操作。\r\n     * @unfile\r\n     * @module UE.dom\r\n     * @class Range\r\n     */\r\n\r\n\r\n    (function() {\r\n        var guid = 0,\r\n            fillChar = domUtils.fillChar,\r\n            fillData;\r\n\r\n        /**\r\n         * 更新range的collapse状态\r\n         * @param  {Range}   range    range对象\r\n         */\r\n        function updateCollapse(range) {\r\n            range.collapsed =\r\n                range.startContainer && range.endContainer &&\r\n                range.startContainer === range.endContainer &&\r\n                range.startOffset == range.endOffset;\r\n        }\r\n\r\n        function selectOneNode(rng) {\r\n            return !rng.collapsed && rng.startContainer.nodeType == 1 && rng.startContainer === rng.endContainer && rng.endOffset - rng.startOffset == 1\r\n        }\r\n\r\n        function setEndPoint(toStart, node, offset, range) {\r\n            //如果node是自闭合标签要处理\r\n            if (node.nodeType == 1 && (dtd.$empty[node.tagName] || dtd.$nonChild[node.tagName])) {\r\n                offset = domUtils.getNodeIndex(node) + (toStart ? 0 : 1);\r\n                node = node.parentNode;\r\n            }\r\n            if (toStart) {\r\n                range.startContainer = node;\r\n                range.startOffset = offset;\r\n                if (!range.endContainer) {\r\n                    range.collapse(true);\r\n                }\r\n            } else {\r\n                range.endContainer = node;\r\n                range.endOffset = offset;\r\n                if (!range.startContainer) {\r\n                    range.collapse(false);\r\n                }\r\n            }\r\n            updateCollapse(range);\r\n            return range;\r\n        }\r\n\r\n        function execContentsAction(range, action) {\r\n            //调整边界\r\n            //range.includeBookmark();\r\n            var start = range.startContainer,\r\n                end = range.endContainer,\r\n                startOffset = range.startOffset,\r\n                endOffset = range.endOffset,\r\n                doc = range.document,\r\n                frag = doc.createDocumentFragment(),\r\n                tmpStart, tmpEnd;\r\n            if (start.nodeType == 1) {\r\n                start = start.childNodes[startOffset] || (tmpStart = start.appendChild(doc.createTextNode('')));\r\n            }\r\n            if (end.nodeType == 1) {\r\n                end = end.childNodes[endOffset] || (tmpEnd = end.appendChild(doc.createTextNode('')));\r\n            }\r\n            if (start === end && start.nodeType == 3) {\r\n                frag.appendChild(doc.createTextNode(start.substringData(startOffset, endOffset - startOffset)));\r\n                //is not clone\r\n                if (action) {\r\n                    start.deleteData(startOffset, endOffset - startOffset);\r\n                    range.collapse(true);\r\n                }\r\n                return frag;\r\n            }\r\n            var current, currentLevel, clone = frag,\r\n                startParents = domUtils.findParents(start, true),\r\n                endParents = domUtils.findParents(end, true);\r\n            for (var i = 0; startParents[i] == endParents[i];) {\r\n                i++;\r\n            }\r\n            for (var j = i, si; si = startParents[j]; j++) {\r\n                current = si.nextSibling;\r\n                if (si == start) {\r\n                    if (!tmpStart) {\r\n                        if (range.startContainer.nodeType == 3) {\r\n                            clone.appendChild(doc.createTextNode(start.nodeValue.slice(startOffset)));\r\n                            //is not clone\r\n                            if (action) {\r\n                                start.deleteData(startOffset, start.nodeValue.length - startOffset);\r\n                            }\r\n                        } else {\r\n                            clone.appendChild(!action ? start.cloneNode(true) : start);\r\n                        }\r\n                    }\r\n                } else {\r\n                    currentLevel = si.cloneNode(false);\r\n                    clone.appendChild(currentLevel);\r\n                }\r\n                while (current) {\r\n                    if (current === end || current === endParents[j]) {\r\n                        break;\r\n                    }\r\n                    si = current.nextSibling;\r\n                    clone.appendChild(!action ? current.cloneNode(true) : current);\r\n                    current = si;\r\n                }\r\n                clone = currentLevel;\r\n            }\r\n            clone = frag;\r\n            if (!startParents[i]) {\r\n                clone.appendChild(startParents[i - 1].cloneNode(false));\r\n                clone = clone.firstChild;\r\n            }\r\n            for (var j = i, ei; ei = endParents[j]; j++) {\r\n                current = ei.previousSibling;\r\n                if (ei == end) {\r\n                    if (!tmpEnd && range.endContainer.nodeType == 3) {\r\n                        clone.appendChild(doc.createTextNode(end.substringData(0, endOffset)));\r\n                        //is not clone\r\n                        if (action) {\r\n                            end.deleteData(0, endOffset);\r\n                        }\r\n                    }\r\n                } else {\r\n                    currentLevel = ei.cloneNode(false);\r\n                    clone.appendChild(currentLevel);\r\n                }\r\n                //如果两端同级，右边第一次已经被开始做了\r\n                if (j != i || !startParents[i]) {\r\n                    while (current) {\r\n                        if (current === start) {\r\n                            break;\r\n                        }\r\n                        ei = current.previousSibling;\r\n                        clone.insertBefore(!action ? current.cloneNode(true) : current, clone.firstChild);\r\n                        current = ei;\r\n                    }\r\n                }\r\n                clone = currentLevel;\r\n            }\r\n            if (action) {\r\n                range.setStartBefore(!endParents[i] ? endParents[i - 1] : !startParents[i] ? startParents[i - 1] : endParents[i]).collapse(true);\r\n            }\r\n            tmpStart && domUtils.remove(tmpStart);\r\n            tmpEnd && domUtils.remove(tmpEnd);\r\n            return frag;\r\n        }\r\n\r\n        /**\r\n         * 创建一个跟document绑定的空的Range实例\r\n         * @constructor\r\n         * @param { Document } document 新建的选区所属的文档对象\r\n         */\r\n\r\n        /**\r\n         * @property { Node } startContainer 当前Range的开始边界的容器节点, 可以是一个元素节点或者是文本节点\r\n         */\r\n\r\n        /**\r\n         * @property { Node } startOffset 当前Range的开始边界容器节点的偏移量, 如果是元素节点，\r\n         *                              该值就是childNodes中的第几个节点， 如果是文本节点就是文本内容的第几个字符\r\n         */\r\n\r\n        /**\r\n         * @property { Node } endContainer 当前Range的结束边界的容器节点, 可以是一个元素节点或者是文本节点\r\n         */\r\n\r\n        /**\r\n         * @property { Node } endOffset 当前Range的结束边界容器节点的偏移量, 如果是元素节点，\r\n         *                              该值就是childNodes中的第几个节点， 如果是文本节点就是文本内容的第几个字符\r\n         */\r\n\r\n        /**\r\n         * @property { Boolean } collapsed 当前Range是否闭合\r\n         * @default true\r\n         * @remind Range是闭合的时候， startContainer === endContainer && startOffset === endOffset\r\n         */\r\n\r\n        /**\r\n         * @property { Document } document 当前Range所属的Document对象\r\n         * @remind 不同range的的document属性可以是不同的\r\n         */\r\n        var Range = dom.Range = function(document) {\r\n            var me = this;\r\n            me.startContainer =\r\n                me.startOffset =\r\n                me.endContainer =\r\n                me.endOffset = null;\r\n            me.document = document;\r\n            me.collapsed = true;\r\n        };\r\n\r\n        /**\r\n         * 删除fillData\r\n         * @param doc\r\n         * @param excludeNode\r\n         */\r\n        function removeFillData(doc, excludeNode) {\r\n            try {\r\n                if (fillData && domUtils.inDoc(fillData, doc)) {\r\n                    if (!fillData.nodeValue.replace(fillCharReg, '').length) {\r\n                        var tmpNode = fillData.parentNode;\r\n                        domUtils.remove(fillData);\r\n                        while (tmpNode && domUtils.isEmptyInlineElement(tmpNode) &&\r\n                            //safari的contains有bug\r\n                            (browser.safari ? !(domUtils.getPosition(tmpNode, excludeNode) & domUtils.POSITION_CONTAINS) : !tmpNode.contains(excludeNode))\r\n                        ) {\r\n                            fillData = tmpNode.parentNode;\r\n                            domUtils.remove(tmpNode);\r\n                            tmpNode = fillData;\r\n                        }\r\n                    } else {\r\n                        fillData.nodeValue = fillData.nodeValue.replace(fillCharReg, '');\r\n                    }\r\n                }\r\n            } catch (e) {}\r\n        }\r\n\r\n        /**\r\n         * @param node\r\n         * @param dir\r\n         */\r\n        function mergeSibling(node, dir) {\r\n            var tmpNode;\r\n            node = node[dir];\r\n            while (node && domUtils.isFillChar(node)) {\r\n                tmpNode = node[dir];\r\n                domUtils.remove(node);\r\n                node = tmpNode;\r\n            }\r\n        }\r\n\r\n        Range.prototype = {\r\n\r\n            /**\r\n             * 克隆选区的内容到一个DocumentFragment里\r\n             * @method cloneContents\r\n             * @return { DocumentFragment | NULL } 如果选区是闭合的将返回null， 否则， 返回包含所clone内容的DocumentFragment元素\r\n             * @example\r\n             * ```html\r\n             * <body>\r\n             *      <!-- 中括号表示选区 -->\r\n             *      <b>x<i>x[x</i>xx]x</b>\r\n             *\r\n             *      <script>\r\n             *          //range是已选中的选区\r\n             *          var fragment = range.cloneContents(),\r\n             *              node = document.createElement(\"div\");\r\n             *\r\n             *          node.appendChild( fragment );\r\n             *\r\n             *          //output: <i>x</i>xx\r\n             *          console.log( node.innerHTML );\r\n             *\r\n             *      </script>\r\n             * </body>\r\n             * ```\r\n             */\r\n            cloneContents: function() {\r\n                return this.collapsed ? null : execContentsAction(this, 0);\r\n            },\r\n\r\n            /**\r\n             * 删除当前选区范围中的所有内容\r\n             * @method deleteContents\r\n             * @remind 执行完该操作后， 当前Range对象变成了闭合状态\r\n             * @return { UE.dom.Range } 当前操作的Range对象\r\n             * @example\r\n             * ```html\r\n             * <body>\r\n             *      <!-- 中括号表示选区 -->\r\n             *      <b>x<i>x[x</i>xx]x</b>\r\n             *\r\n             *      <script>\r\n             *          //range是已选中的选区\r\n             *          range.deleteContents();\r\n             *\r\n             *          //竖线表示闭合后的选区位置\r\n             *          //output: <b>x<i>x</i>|x</b>\r\n             *          console.log( document.body.innerHTML );\r\n             *\r\n             *          //此时， range的各项属性为\r\n             *          //output: B\r\n             *          console.log( range.startContainer.tagName );\r\n             *          //output: 2\r\n             *          console.log( range.startOffset );\r\n             *          //output: B\r\n             *          console.log( range.endContainer.tagName );\r\n             *          //output: 2\r\n             *          console.log( range.endOffset );\r\n             *          //output: true\r\n             *          console.log( range.collapsed );\r\n             *\r\n             *      </script>\r\n             * </body>\r\n             * ```\r\n             */\r\n            deleteContents: function() {\r\n                var txt;\r\n                if (!this.collapsed) {\r\n                    execContentsAction(this, 1);\r\n                }\r\n                if (browser.webkit) {\r\n                    txt = this.startContainer;\r\n                    if (txt.nodeType == 3 && !txt.nodeValue.length) {\r\n                        this.setStartBefore(txt).collapse(true);\r\n                        domUtils.remove(txt);\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * 将当前选区的内容提取到一个DocumentFragment里\r\n             * @method extractContents\r\n             * @remind 执行该操作后， 选区将变成闭合状态\r\n             * @warning 执行该操作后， 原来选区所选中的内容将从dom树上剥离出来\r\n             * @return { DocumentFragment } 返回包含所提取内容的DocumentFragment对象\r\n             * @example\r\n             * ```html\r\n             * <body>\r\n             *      <!-- 中括号表示选区 -->\r\n             *      <b>x<i>x[x</i>xx]x</b>\r\n             *\r\n             *      <script>\r\n             *          //range是已选中的选区\r\n             *          var fragment = range.extractContents(),\r\n             *              node = document.createElement( \"div\" );\r\n             *\r\n             *          node.appendChild( fragment );\r\n             *\r\n             *          //竖线表示闭合后的选区位置\r\n             *\r\n             *          //output: <b>x<i>x</i>|x</b>\r\n             *          console.log( document.body.innerHTML );\r\n             *          //output: <i>x</i>xx\r\n             *          console.log( node.innerHTML );\r\n             *\r\n             *          //此时， range的各项属性为\r\n             *          //output: B\r\n             *          console.log( range.startContainer.tagName );\r\n             *          //output: 2\r\n             *          console.log( range.startOffset );\r\n             *          //output: B\r\n             *          console.log( range.endContainer.tagName );\r\n             *          //output: 2\r\n             *          console.log( range.endOffset );\r\n             *          //output: true\r\n             *          console.log( range.collapsed );\r\n             *\r\n             *      </script>\r\n             * </body>\r\n             */\r\n            extractContents: function() {\r\n                return this.collapsed ? null : execContentsAction(this, 2);\r\n            },\r\n\r\n            /**\r\n             * 设置Range的开始容器节点和偏移量\r\n             * @method  setStart\r\n             * @remind 如果给定的节点是元素节点，那么offset指的是其子元素中索引为offset的元素，\r\n             *          如果是文本节点，那么offset指的是其文本内容的第offset个字符\r\n             * @remind 如果提供的容器节点是一个不能包含子元素的节点， 则该选区的开始容器将被设置\r\n             *          为该节点的父节点， 此时， 其距离开始容器的偏移量也变成了该节点在其父节点\r\n             *          中的索引\r\n             * @param { Node } node 将被设为当前选区开始边界容器的节点对象\r\n             * @param { int } offset 选区的开始位置偏移量\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区 -->\r\n             * <b>xxx<i>x<span>xx</span>xx<em>xx</em>xxx</i>[xxx]</b>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行操作\r\n             *     range.setStart( document.getElementsByTagName(\"i\")[0], 1 );\r\n             *\r\n             *     //此时， 选区变成了\r\n             *     //<b>xxx<i>x[<span>xx</span>xx<em>xx</em>xxx</i>xxx]</b>\r\n             *\r\n             * </script>\r\n             * ```\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区 -->\r\n             * <b>xxx<img>[xx]x</b>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行操作\r\n             *     range.setStart( document.getElementsByTagName(\"img\")[0], 3 );\r\n             *\r\n             *     //此时， 选区变成了\r\n             *     //<b>xxx[<img>xx]x</b>\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n            setStart: function(node, offset) {\r\n                return setEndPoint(true, node, offset, this);\r\n            },\r\n\r\n            /**\r\n             * 设置Range的结束容器和偏移量\r\n             * @method  setEnd\r\n             * @param { Node } node 作为当前选区结束边界容器的节点对象\r\n             * @param { int } offset 结束边界的偏移量\r\n             * @see UE.dom.Range:setStart(Node,int)\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n            setEnd: function(node, offset) {\r\n                return setEndPoint(false, node, offset, this);\r\n            },\r\n\r\n            /**\r\n             * 将Range开始位置设置到node节点之后\r\n             * @method  setStartAfter\r\n             * @remind 该操作将会把给定节点的父节点作为range的开始容器， 且偏移量是该节点在其父节点中的位置索引+1\r\n             * @param { Node } node 选区的开始边界将紧接着该节点之后\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区示例 -->\r\n             * <b>xx<i>xxx</i><span>xx[x</span>xxx]</b>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行操作\r\n             *     range.setStartAfter( document.getElementsByTagName(\"i\")[0] );\r\n             *\r\n             *     //结果选区\r\n             *     //<b>xx<i>xxx</i>[<span>xxx</span>xxx]</b>\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n            setStartAfter: function(node) {\r\n                return this.setStart(node.parentNode, domUtils.getNodeIndex(node) + 1);\r\n            },\r\n\r\n            /**\r\n             * 将Range开始位置设置到node节点之前\r\n             * @method  setStartBefore\r\n             * @remind 该操作将会把给定节点的父节点作为range的开始容器， 且偏移量是该节点在其父节点中的位置索引\r\n             * @param { Node } node 新的选区开始位置在该节点之前\r\n             * @see UE.dom.Range:setStartAfter(Node)\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n            setStartBefore: function(node) {\r\n                return this.setStart(node.parentNode, domUtils.getNodeIndex(node));\r\n            },\r\n\r\n            /**\r\n             * 将Range结束位置设置到node节点之后\r\n             * @method  setEndAfter\r\n             * @remind 该操作将会把给定节点的父节点作为range的结束容器， 且偏移量是该节点在其父节点中的位置索引+1\r\n             * @param { Node } node 目标节点\r\n             * @see UE.dom.Range:setStartAfter(Node)\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区示例 -->\r\n             * <b>[xx<i>xxx</i><span>xx]x</span>xxx</b>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行操作\r\n             *     range.setStartAfter( document.getElementsByTagName(\"span\")[0] );\r\n             *\r\n             *     //结果选区\r\n             *     //<b>[xx<i>xxx</i><span>xxx</span>]xxx</b>\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n            setEndAfter: function(node) {\r\n                return this.setEnd(node.parentNode, domUtils.getNodeIndex(node) + 1);\r\n            },\r\n\r\n            /**\r\n             * 将Range结束位置设置到node节点之前\r\n             * @method  setEndBefore\r\n             * @remind 该操作将会把给定节点的父节点作为range的结束容器， 且偏移量是该节点在其父节点中的位置索引\r\n             * @param { Node } node 目标节点\r\n             * @see UE.dom.Range:setEndAfter(Node)\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n            setEndBefore: function(node) {\r\n                return this.setEnd(node.parentNode, domUtils.getNodeIndex(node));\r\n            },\r\n\r\n            /**\r\n             * 设置Range的开始位置到node节点内的第一个子节点之前\r\n             * @method  setStartAtFirst\r\n             * @remind 选区的开始容器将变成给定的节点， 且偏移量为0\r\n             * @remind 如果给定的节点是元素节点， 则该节点必须是允许包含子节点的元素。\r\n             * @param { Node } node 目标节点\r\n             * @see UE.dom.Range:setStartBefore(Node)\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区示例 -->\r\n             * <b>xx<i>xxx</i><span>[xx]x</span>xxx</b>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行操作\r\n             *     range.setStartAtFirst( document.getElementsByTagName(\"i\")[0] );\r\n             *\r\n             *     //结果选区\r\n             *     //<b>xx<i>[xxx</i><span>xx]x</span>xxx</b>\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n            setStartAtFirst: function(node) {\r\n                return this.setStart(node, 0);\r\n            },\r\n\r\n            /**\r\n             * 设置Range的开始位置到node节点内的最后一个节点之后\r\n             * @method setStartAtLast\r\n             * @remind 选区的开始容器将变成给定的节点， 且偏移量为该节点的子节点数\r\n             * @remind 如果给定的节点是元素节点， 则该节点必须是允许包含子节点的元素。\r\n             * @param { Node } node 目标节点\r\n             * @see UE.dom.Range:setStartAtFirst(Node)\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n            setStartAtLast: function(node) {\r\n                return this.setStart(node, node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length);\r\n            },\r\n\r\n            /**\r\n             * 设置Range的结束位置到node节点内的第一个节点之前\r\n             * @method  setEndAtFirst\r\n             * @param { Node } node 目标节点\r\n             * @remind 选区的结束容器将变成给定的节点， 且偏移量为0\r\n             * @remind node必须是一个元素节点， 且必须是允许包含子节点的元素。\r\n             * @see UE.dom.Range:setStartAtFirst(Node)\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n            setEndAtFirst: function(node) {\r\n                return this.setEnd(node, 0);\r\n            },\r\n\r\n            /**\r\n             * 设置Range的结束位置到node节点内的最后一个节点之后\r\n             * @method  setEndAtLast\r\n             * @param { Node } node 目标节点\r\n             * @remind 选区的结束容器将变成给定的节点， 且偏移量为该节点的子节点数量\r\n             * @remind node必须是一个元素节点， 且必须是允许包含子节点的元素。\r\n             * @see UE.dom.Range:setStartAtFirst(Node)\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n            setEndAtLast: function(node) {\r\n                return this.setEnd(node, node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length);\r\n            },\r\n\r\n            /**\r\n             * 选中给定节点\r\n             * @method  selectNode\r\n             * @remind 此时， 选区的开始容器和结束容器都是该节点的父节点， 其startOffset是该节点在父节点中的位置索引，\r\n             *          而endOffset为startOffset+1\r\n             * @param { Node } node 需要选中的节点\r\n             * @return { UE.dom.Range } 当前range对象，此时的range仅包含当前给定的节点对象\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区示例 -->\r\n             * <b>xx<i>xxx</i><span>[xx]x</span>xxx</b>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行操作\r\n             *     range.selectNode( document.getElementsByTagName(\"i\")[0] );\r\n             *\r\n             *     //结果选区\r\n             *     //<b>xx[<i>xxx</i>]<span>xxx</span>xxx</b>\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n            selectNode: function(node) {\r\n                return this.setStartBefore(node).setEndAfter(node);\r\n            },\r\n\r\n            /**\r\n             * 选中给定节点内部的所有节点\r\n             * @method  selectNodeContents\r\n             * @remind 此时， 选区的开始容器和结束容器都是该节点， 其startOffset为0，\r\n             *          而endOffset是该节点的子节点数。\r\n             * @param { Node } node 目标节点， 当前range将包含该节点内的所有节点\r\n             * @return { UE.dom.Range } 当前range对象， 此时range仅包含给定节点的所有子节点\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区示例 -->\r\n             * <b>xx<i>xxx</i><span>[xx]x</span>xxx</b>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行操作\r\n             *     range.selectNode( document.getElementsByTagName(\"b\")[0] );\r\n             *\r\n             *     //结果选区\r\n             *     //<b>[xx<i>xxx</i><span>xxx</span>xxx]</b>\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n            selectNodeContents: function(node) {\r\n                return this.setStart(node, 0).setEndAtLast(node);\r\n            },\r\n\r\n            /**\r\n             * clone当前Range对象\r\n             * @method  cloneRange\r\n             * @remind 返回的range是一个全新的range对象， 其内部所有属性与当前被clone的range相同。\r\n             * @return { UE.dom.Range } 当前range对象的一个副本\r\n             */\r\n            cloneRange: function() {\r\n                var me = this;\r\n                return new Range(me.document).setStart(me.startContainer, me.startOffset).setEnd(me.endContainer, me.endOffset);\r\n\r\n            },\r\n\r\n            /**\r\n             * 向当前选区的结束处闭合选区\r\n             * @method  collapse\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区示例 -->\r\n             * <b>xx<i>xxx</i><span>[xx]x</span>xxx</b>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行操作\r\n             *     range.collapse();\r\n             *\r\n             *     //结果选区\r\n             *     //“|”表示选区已闭合\r\n             *     //<b>xx<i>xxx</i><span>xx|x</span>xxx</b>\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 闭合当前选区，根据给定的toStart参数项决定是向当前选区开始处闭合还是向结束处闭合，\r\n             * 如果toStart的值为true，则向开始位置闭合， 反之，向结束位置闭合。\r\n             * @method  collapse\r\n             * @param { Boolean } toStart 是否向选区开始处闭合\r\n             * @return { UE.dom.Range } 当前range对象，此时range对象处于闭合状态\r\n             * @see UE.dom.Range:collapse()\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区示例 -->\r\n             * <b>xx<i>xxx</i><span>[xx]x</span>xxx</b>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行操作\r\n             *     range.collapse( true );\r\n             *\r\n             *     //结果选区\r\n             *     //“|”表示选区已闭合\r\n             *     //<b>xx<i>xxx</i><span>|xxx</span>xxx</b>\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n            collapse: function(toStart) {\r\n                var me = this;\r\n                if (toStart) {\r\n                    me.endContainer = me.startContainer;\r\n                    me.endOffset = me.startOffset;\r\n                } else {\r\n                    me.startContainer = me.endContainer;\r\n                    me.startOffset = me.endOffset;\r\n                }\r\n                me.collapsed = true;\r\n                return me;\r\n            },\r\n\r\n            /**\r\n             * 调整range的开始位置和结束位置，使其\"收缩\"到最小的位置\r\n             * @method  shrinkBoundary\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @example\r\n             * ```html\r\n             * <span>xx<b>xx[</b>xxxxx]</span> => <span>xx<b>xx</b>[xxxxx]</span>\r\n             * ```\r\n             *\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区示例 -->\r\n             * <b>x[xx</b><i>]xxx</i>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行收缩\r\n             *     range.shrinkBoundary();\r\n             *\r\n             *     //结果选区\r\n             *     //<b>x[xx]</b><i>xxx</i>\r\n             * </script>\r\n             * ```\r\n             *\r\n             * @example\r\n             * ```html\r\n             * [<b><i>xxxx</i>xxxxxxx</b>] => <b><i>[xxxx</i>xxxxxxx]</b>\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 调整range的开始位置和结束位置，使其\"收缩\"到最小的位置，\r\n             * 如果ignoreEnd的值为true，则忽略对结束位置的调整\r\n             * @method  shrinkBoundary\r\n             * @param { Boolean } ignoreEnd 是否忽略对结束位置的调整\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @see UE.dom.domUtils.Range:shrinkBoundary()\r\n             */\r\n            shrinkBoundary: function(ignoreEnd) {\r\n                var me = this,\r\n                    child,\r\n                    collapsed = me.collapsed;\r\n\r\n                function check(node) {\r\n                    return node.nodeType == 1 && !domUtils.isBookmarkNode(node) && !dtd.$empty[node.tagName] && !dtd.$nonChild[node.tagName]\r\n                }\r\n                while (me.startContainer.nodeType == 1 //是element\r\n                    &&\r\n                    (child = me.startContainer.childNodes[me.startOffset]) //子节点也是element\r\n                    &&\r\n                    check(child)) {\r\n                    me.setStart(child, 0);\r\n                }\r\n                if (collapsed) {\r\n                    return me.collapse(true);\r\n                }\r\n                if (!ignoreEnd) {\r\n                    while (me.endContainer.nodeType == 1 //是element\r\n                        &&\r\n                        me.endOffset > 0 //如果是空元素就退出 endOffset=0那么endOffst-1为负值，childNodes[endOffset]报错\r\n                        &&\r\n                        (child = me.endContainer.childNodes[me.endOffset - 1]) //子节点也是element\r\n                        &&\r\n                        check(child)) {\r\n                        me.setEnd(child, child.childNodes.length);\r\n                    }\r\n                }\r\n                return me;\r\n            },\r\n\r\n            /**\r\n             * 获取离当前选区内包含的所有节点最近的公共祖先节点，\r\n             * @method  getCommonAncestor\r\n             * @remind 返回的公共祖先节点一定不是range自身的容器节点， 但有可能是一个文本节点\r\n             * @return { Node } 当前range对象内所有节点的公共祖先节点\r\n             * @example\r\n             * ```html\r\n             * //选区示例\r\n             * <span>xxx<b>x[x<em>xx]x</em>xxx</b>xx</span>\r\n             * <script>\r\n             *\r\n             *     var node = range.getCommonAncestor();\r\n             *\r\n             *     //公共祖先节点是： b节点\r\n             *     //输出： B\r\n             *     console.log(node.tagName);\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 获取当前选区所包含的所有节点的公共祖先节点， 可以根据给定的参数 includeSelf 决定获取到\r\n             * 的公共祖先节点是否可以是当前选区的startContainer或endContainer节点， 如果 includeSelf\r\n             * 的取值为true， 则返回的节点可以是自身的容器节点， 否则， 则不能是容器节点\r\n             * @method  getCommonAncestor\r\n             * @param { Boolean } includeSelf 是否允许获取到的公共祖先节点是当前range对象的容器节点\r\n             * @return { Node } 当前range对象内所有节点的公共祖先节点\r\n             * @see UE.dom.Range:getCommonAncestor()\r\n             * @example\r\n             * ```html\r\n             * <body>\r\n             *\r\n             *     <!-- 选区示例 -->\r\n             *     <b>xxx<i>xxxx<span>xx[x</span>xx]x</i>xxxxxxx</b>\r\n             *\r\n             *     <script>\r\n             *\r\n             *         var node = range.getCommonAncestor( false );\r\n             *\r\n             *         //这里的公共祖先节点是B而不是I， 是因为参数限制了获取到的节点不能是容器节点\r\n             *         //output: B\r\n             *         console.log( node.tagName );\r\n             *\r\n             *     </script>\r\n             *\r\n             * </body>\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 获取当前选区所包含的所有节点的公共祖先节点， 可以根据给定的参数 includeSelf 决定获取到\r\n             * 的公共祖先节点是否可以是当前选区的startContainer或endContainer节点， 如果 includeSelf\r\n             * 的取值为true， 则返回的节点可以是自身的容器节点， 否则， 则不能是容器节点； 同时可以根据\r\n             * ignoreTextNode 参数的取值决定是否忽略类型为文本节点的祖先节点。\r\n             * @method  getCommonAncestor\r\n             * @param { Boolean } includeSelf 是否允许获取到的公共祖先节点是当前range对象的容器节点\r\n             * @param { Boolean } ignoreTextNode 获取祖先节点的过程中是否忽略类型为文本节点的祖先节点\r\n             * @return { Node } 当前range对象内所有节点的公共祖先节点\r\n             * @see UE.dom.Range:getCommonAncestor()\r\n             * @see UE.dom.Range:getCommonAncestor(Boolean)\r\n             * @example\r\n             * ```html\r\n             * <body>\r\n             *\r\n             *     <!-- 选区示例 -->\r\n             *     <b>xxx<i>xxxx<span>x[x]x</span>xxx</i>xxxxxxx</b>\r\n             *\r\n             *     <script>\r\n             *\r\n             *         var node = range.getCommonAncestor( true, false );\r\n             *\r\n             *         //output: SPAN\r\n             *         console.log( node.tagName );\r\n             *\r\n             *     </script>\r\n             *\r\n             * </body>\r\n             * ```\r\n             */\r\n            getCommonAncestor: function(includeSelf, ignoreTextNode) {\r\n                var me = this,\r\n                    start = me.startContainer,\r\n                    end = me.endContainer;\r\n                if (start === end) {\r\n                    if (includeSelf && selectOneNode(this)) {\r\n                        start = start.childNodes[me.startOffset];\r\n                        if (start.nodeType == 1)\r\n                            return start;\r\n                    }\r\n                    //只有在上来就相等的情况下才会出现是文本的情况\r\n                    return ignoreTextNode && start.nodeType == 3 ? start.parentNode : start;\r\n                }\r\n                return domUtils.getCommonAncestor(start, end);\r\n            },\r\n\r\n            /**\r\n             * 调整当前Range的开始和结束边界容器，如果是容器节点是文本节点,就调整到包含该文本节点的父节点上\r\n             * @method trimBoundary\r\n             * @remind 该操作有可能会引起文本节点被切开\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @example\r\n             * ```html\r\n             *\r\n             * //选区示例\r\n             * <b>xxx<i>[xxxxx]</i>xxx</b>\r\n             *\r\n             * <script>\r\n             *     //未调整前， 选区的开始容器和结束都是文本节点\r\n             *     //执行调整\r\n             *     range.trimBoundary();\r\n             *\r\n             *     //调整之后， 容器节点变成了i节点\r\n             *     //<b>xxx[<i>xxxxx</i>]xxx</b>\r\n             * </script>\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 调整当前Range的开始和结束边界容器，如果是容器节点是文本节点,就调整到包含该文本节点的父节点上，\r\n             * 可以根据 ignoreEnd 参数的值决定是否调整对结束边界的调整\r\n             * @method trimBoundary\r\n             * @param { Boolean } ignoreEnd 是否忽略对结束边界的调整\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @example\r\n             * ```html\r\n             *\r\n             * //选区示例\r\n             * <b>xxx<i>[xxxxx]</i>xxx</b>\r\n             *\r\n             * <script>\r\n             *     //未调整前， 选区的开始容器和结束都是文本节点\r\n             *     //执行调整\r\n             *     range.trimBoundary( true );\r\n             *\r\n             *     //调整之后， 开始容器节点变成了i节点\r\n             *     //但是， 结束容器没有发生变化\r\n             *     //<b>xxx[<i>xxxxx]</i>xxx</b>\r\n             * </script>\r\n             * ```\r\n             */\r\n            trimBoundary: function(ignoreEnd) {\r\n                this.txtToElmBoundary();\r\n                var start = this.startContainer,\r\n                    offset = this.startOffset,\r\n                    collapsed = this.collapsed,\r\n                    end = this.endContainer;\r\n                if (start.nodeType == 3) {\r\n                    if (offset == 0) {\r\n                        this.setStartBefore(start);\r\n                    } else {\r\n                        if (offset >= start.nodeValue.length) {\r\n                            this.setStartAfter(start);\r\n                        } else {\r\n                            var textNode = domUtils.split(start, offset);\r\n                            //跟新结束边界\r\n                            if (start === end) {\r\n                                this.setEnd(textNode, this.endOffset - offset);\r\n                            } else if (start.parentNode === end) {\r\n                                this.endOffset += 1;\r\n                            }\r\n                            this.setStartBefore(textNode);\r\n                        }\r\n                    }\r\n                    if (collapsed) {\r\n                        return this.collapse(true);\r\n                    }\r\n                }\r\n                if (!ignoreEnd) {\r\n                    offset = this.endOffset;\r\n                    end = this.endContainer;\r\n                    if (end.nodeType == 3) {\r\n                        if (offset == 0) {\r\n                            this.setEndBefore(end);\r\n                        } else {\r\n                            offset < end.nodeValue.length && domUtils.split(end, offset);\r\n                            this.setEndAfter(end);\r\n                        }\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * 如果选区在文本的边界上，就扩展选区到文本的父节点上, 如果当前选区是闭合的， 则什么也不做\r\n             * @method txtToElmBoundary\r\n             * @remind 该操作不会修改dom节点\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n\r\n            /**\r\n             * 如果选区在文本的边界上，就扩展选区到文本的父节点上, 如果当前选区是闭合的， 则根据参数项\r\n             * ignoreCollapsed 的值决定是否执行该调整\r\n             * @method txtToElmBoundary\r\n             * @param { Boolean } ignoreCollapsed 是否忽略选区的闭合状态， 如果该参数取值为true， 则\r\n             *                      不论选区是否闭合， 都会执行该操作， 反之， 则不会对闭合的选区执行该操作\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n            txtToElmBoundary: function(ignoreCollapsed) {\r\n                function adjust(r, c) {\r\n                    var container = r[c + 'Container'],\r\n                        offset = r[c + 'Offset'];\r\n                    if (container.nodeType == 3) {\r\n                        if (!offset) {\r\n                            r['set' + c.replace(/(\\w)/, function(a) {\r\n                                return a.toUpperCase();\r\n                            }) + 'Before'](container);\r\n                        } else if (offset >= container.nodeValue.length) {\r\n                            r['set' + c.replace(/(\\w)/, function(a) {\r\n                                return a.toUpperCase();\r\n                            }) + 'After'](container);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (ignoreCollapsed || !this.collapsed) {\r\n                    adjust(this, 'start');\r\n                    adjust(this, 'end');\r\n                }\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * 在当前选区的开始位置前插入节点，新插入的节点会被该range包含\r\n             * @method  insertNode\r\n             * @param { Node } node 需要插入的节点\r\n             * @remind 插入的节点可以是一个DocumentFragment依次插入多个节点\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n            insertNode: function(node) {\r\n                var first = node,\r\n                    length = 1;\r\n                if (node.nodeType == 11) {\r\n                    first = node.firstChild;\r\n                    length = node.childNodes.length;\r\n                }\r\n                this.trimBoundary(true);\r\n                var start = this.startContainer,\r\n                    offset = this.startOffset;\r\n                var nextNode = start.childNodes[offset];\r\n                if (nextNode) {\r\n                    start.insertBefore(node, nextNode);\r\n                } else {\r\n                    start.appendChild(node);\r\n                }\r\n                if (first.parentNode === this.endContainer) {\r\n                    this.endOffset = this.endOffset + length;\r\n                }\r\n                return this.setStartBefore(first);\r\n            },\r\n\r\n            /**\r\n             * 闭合选区到当前选区的开始位置， 并且定位光标到闭合后的位置\r\n             * @method  setCursor\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @see UE.dom.Range:collapse()\r\n             */\r\n\r\n            /**\r\n             * 闭合选区，可以根据参数toEnd的值控制选区是向前闭合还是向后闭合， 并且定位光标到闭合后的位置。\r\n             * @method  setCursor\r\n             * @param { Boolean } toEnd 是否向后闭合， 如果为true， 则闭合选区时， 将向结束容器方向闭合，\r\n             *                      反之，则向开始容器方向闭合\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @see UE.dom.Range:collapse(Boolean)\r\n             */\r\n            setCursor: function(toEnd, noFillData) {\r\n                return this.collapse(!toEnd).select(noFillData);\r\n            },\r\n\r\n            /**\r\n             * 创建当前range的一个书签，记录下当前range的位置，方便当dom树改变时，还能找回原来的选区位置\r\n             * @method createBookmark\r\n             * @param { Boolean } serialize 控制返回的标记位置是对当前位置的引用还是ID，如果该值为true，则\r\n             *                              返回标记位置的ID， 反之则返回标记位置节点的引用\r\n             * @return { Object } 返回一个书签记录键值对， 其包含的key有： start => 开始标记的ID或者引用，\r\n             *                          end => 结束标记的ID或引用， id => 当前标记的类型， 如果为true，则表示\r\n             *                          返回的记录的类型为ID， 反之则为引用\r\n             */\r\n            createBookmark: function(serialize, same) {\r\n                var endNode,\r\n                    startNode = this.document.createElement('span');\r\n                startNode.style.cssText = 'display:none;line-height:0px;';\r\n                startNode.appendChild(this.document.createTextNode('\\u200D'));\r\n                startNode.id = '_baidu_bookmark_start_' + (same ? '' : guid++);\r\n\r\n                if (!this.collapsed) {\r\n                    endNode = startNode.cloneNode(true);\r\n                    endNode.id = '_baidu_bookmark_end_' + (same ? '' : guid++);\r\n                }\r\n                this.insertNode(startNode);\r\n                if (endNode) {\r\n                    this.collapse().insertNode(endNode).setEndBefore(endNode);\r\n                }\r\n                this.setStartAfter(startNode);\r\n                return {\r\n                    start: serialize ? startNode.id : startNode,\r\n                    end: endNode ? serialize ? endNode.id : endNode : null,\r\n                    id: serialize\r\n                }\r\n            },\r\n\r\n            /**\r\n             *  调整当前range的边界到书签位置，并删除该书签对象所标记的位置内的节点\r\n             *  @method  moveToBookmark\r\n             *  @param { BookMark } bookmark createBookmark所创建的标签对象\r\n             *  @return { UE.dom.Range } 当前range对象\r\n             *  @see UE.dom.Range:createBookmark(Boolean)\r\n             */\r\n            moveToBookmark: function(bookmark) {\r\n                var start = bookmark.id ? this.document.getElementById(bookmark.start) : bookmark.start,\r\n                    end = bookmark.end && bookmark.id ? this.document.getElementById(bookmark.end) : bookmark.end;\r\n                this.setStartBefore(start);\r\n                domUtils.remove(start);\r\n                if (end) {\r\n                    this.setEndBefore(end);\r\n                    domUtils.remove(end);\r\n                } else {\r\n                    this.collapse(true);\r\n                }\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * 调整range的边界，使其\"放大\"到最近的父节点\r\n             * @method  enlarge\r\n             * @remind 会引起选区的变化\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n\r\n            /**\r\n             * 调整range的边界，使其\"放大\"到最近的父节点，根据参数 toBlock 的取值， 可以\r\n             * 要求扩大之后的父节点是block节点\r\n             * @method  enlarge\r\n             * @param { Boolean } toBlock 是否要求扩大之后的父节点必须是block节点\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n            enlarge: function(toBlock, stopFn) {\r\n                var isBody = domUtils.isBody,\r\n                    pre, node, tmp = this.document.createTextNode('');\r\n                if (toBlock) {\r\n                    node = this.startContainer;\r\n                    if (node.nodeType == 1) {\r\n                        if (node.childNodes[this.startOffset]) {\r\n                            pre = node = node.childNodes[this.startOffset]\r\n                        } else {\r\n                            node.appendChild(tmp);\r\n                            pre = node = tmp;\r\n                        }\r\n                    } else {\r\n                        pre = node;\r\n                    }\r\n                    while (1) {\r\n                        if (domUtils.isBlockElm(node)) {\r\n                            node = pre;\r\n                            while ((pre = node.previousSibling) && !domUtils.isBlockElm(pre)) {\r\n                                node = pre;\r\n                            }\r\n                            this.setStartBefore(node);\r\n                            break;\r\n                        }\r\n                        pre = node;\r\n                        node = node.parentNode;\r\n                    }\r\n                    node = this.endContainer;\r\n                    if (node.nodeType == 1) {\r\n                        if (pre = node.childNodes[this.endOffset]) {\r\n                            node.insertBefore(tmp, pre);\r\n                        } else {\r\n                            node.appendChild(tmp);\r\n                        }\r\n                        pre = node = tmp;\r\n                    } else {\r\n                        pre = node;\r\n                    }\r\n                    while (1) {\r\n                        if (domUtils.isBlockElm(node)) {\r\n                            node = pre;\r\n                            while ((pre = node.nextSibling) && !domUtils.isBlockElm(pre)) {\r\n                                node = pre;\r\n                            }\r\n                            this.setEndAfter(node);\r\n                            break;\r\n                        }\r\n                        pre = node;\r\n                        node = node.parentNode;\r\n                    }\r\n                    if (tmp.parentNode === this.endContainer) {\r\n                        this.endOffset--;\r\n                    }\r\n                    domUtils.remove(tmp);\r\n                }\r\n\r\n                // 扩展边界到最大\r\n                if (!this.collapsed) {\r\n                    while (this.startOffset == 0) {\r\n                        if (stopFn && stopFn(this.startContainer)) {\r\n                            break;\r\n                        }\r\n                        if (isBody(this.startContainer)) {\r\n                            break;\r\n                        }\r\n                        this.setStartBefore(this.startContainer);\r\n                    }\r\n                    while (this.endOffset == (this.endContainer.nodeType == 1 ? this.endContainer.childNodes.length : this.endContainer.nodeValue.length)) {\r\n                        if (stopFn && stopFn(this.endContainer)) {\r\n                            break;\r\n                        }\r\n                        if (isBody(this.endContainer)) {\r\n                            break;\r\n                        }\r\n                        this.setEndAfter(this.endContainer);\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            enlargeToBlockElm: function(ignoreEnd) {\r\n                while (!domUtils.isBlockElm(this.startContainer)) {\r\n                    this.setStartBefore(this.startContainer);\r\n                }\r\n                if (!ignoreEnd) {\r\n                    while (!domUtils.isBlockElm(this.endContainer)) {\r\n                        this.setEndAfter(this.endContainer);\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            /**\r\n             * 调整Range的边界，使其\"缩小\"到最合适的位置\r\n             * @method adjustmentBoundary\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @see UE.dom.Range:shrinkBoundary()\r\n             */\r\n            adjustmentBoundary: function() {\r\n                if (!this.collapsed) {\r\n                    while (!domUtils.isBody(this.startContainer) &&\r\n                        this.startOffset == this.startContainer[this.startContainer.nodeType == 3 ? 'nodeValue' : 'childNodes'].length &&\r\n                        this.startContainer[this.startContainer.nodeType == 3 ? 'nodeValue' : 'childNodes'].length\r\n                    ) {\r\n\r\n                        this.setStartAfter(this.startContainer);\r\n                    }\r\n                    while (!domUtils.isBody(this.endContainer) && !this.endOffset &&\r\n                        this.endContainer[this.endContainer.nodeType == 3 ? 'nodeValue' : 'childNodes'].length\r\n                    ) {\r\n                        this.setEndBefore(this.endContainer);\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * 给range选区中的内容添加给定的inline标签\r\n             * @method applyInlineStyle\r\n             * @param { String } tagName 需要添加的标签名\r\n             * @example\r\n             * ```html\r\n             * <p>xxxx[xxxx]x</p>  ==>  range.applyInlineStyle(\"strong\")  ==>  <p>xxxx[<strong>xxxx</strong>]x</p>\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 给range选区中的内容添加给定的inline标签， 并且为标签附加上一些初始化属性。\r\n             * @method applyInlineStyle\r\n             * @param { String } tagName 需要添加的标签名\r\n             * @param { Object } attrs 跟随新添加的标签的属性\r\n             * @return { UE.dom.Range } 当前选区\r\n             * @example\r\n             * ```html\r\n             * <p>xxxx[xxxx]x</p>\r\n             *\r\n             * ==>\r\n             *\r\n             * <!-- 执行操作 -->\r\n             * range.applyInlineStyle(\"strong\",{\"style\":\"font-size:12px\"})\r\n             *\r\n             * ==>\r\n             *\r\n             * <p>xxxx[<strong style=\"font-size:12px\">xxxx</strong>]x</p>\r\n             * ```\r\n             */\r\n            applyInlineStyle: function(tagName, attrs, list) {\r\n                if (this.collapsed) return this;\r\n                this.trimBoundary().enlarge(false,\r\n                    function(node) {\r\n                        return node.nodeType == 1 && domUtils.isBlockElm(node)\r\n                    }).adjustmentBoundary();\r\n                var bookmark = this.createBookmark(),\r\n                    end = bookmark.end,\r\n                    filterFn = function(node) {\r\n                        return node.nodeType == 1 ? node.tagName.toLowerCase() != 'br' : !domUtils.isWhitespace(node);\r\n                    },\r\n                    current = domUtils.getNextDomNode(bookmark.start, false, filterFn),\r\n                    node,\r\n                    pre,\r\n                    range = this.cloneRange();\r\n                while (current && (domUtils.getPosition(current, end) & domUtils.POSITION_PRECEDING)) {\r\n                    if (current.nodeType == 3 || dtd[tagName][current.tagName]) {\r\n                        range.setStartBefore(current);\r\n                        node = current;\r\n                        while (node && (node.nodeType == 3 || dtd[tagName][node.tagName]) && node !== end) {\r\n                            pre = node;\r\n                            node = domUtils.getNextDomNode(node, node.nodeType == 1, null, function(parent) {\r\n                                return dtd[tagName][parent.tagName];\r\n                            });\r\n                        }\r\n                        var frag = range.setEndAfter(pre).extractContents(),\r\n                            elm;\r\n                        if (list && list.length > 0) {\r\n                            var level, top;\r\n                            top = level = list[0].cloneNode(false);\r\n                            for (var i = 1, ci; ci = list[i++];) {\r\n                                level.appendChild(ci.cloneNode(false));\r\n                                level = level.firstChild;\r\n                            }\r\n                            elm = level;\r\n                        } else {\r\n                            elm = range.document.createElement(tagName);\r\n                        }\r\n                        if (attrs) {\r\n                            domUtils.setAttributes(elm, attrs);\r\n                        }\r\n                        elm.appendChild(frag);\r\n                        range.insertNode(list ? top : elm);\r\n                        //处理下滑线在a上的情况\r\n                        var aNode;\r\n                        if (tagName == 'span' && attrs.style && /text\\-decoration/.test(attrs.style) && (aNode = domUtils.findParentByTagName(elm, 'a', true))) {\r\n                            domUtils.setAttributes(aNode, attrs);\r\n                            domUtils.remove(elm, true);\r\n                            elm = aNode;\r\n                        } else {\r\n                            domUtils.mergeSibling(elm);\r\n                            domUtils.clearEmptySibling(elm);\r\n                        }\r\n                        //去除子节点相同的\r\n                        domUtils.mergeChild(elm, attrs);\r\n                        current = domUtils.getNextDomNode(elm, false, filterFn);\r\n                        domUtils.mergeToParent(elm);\r\n                        if (node === end) {\r\n                            break;\r\n                        }\r\n                    } else {\r\n                        current = domUtils.getNextDomNode(current, true, filterFn);\r\n                    }\r\n                }\r\n                return this.moveToBookmark(bookmark);\r\n            },\r\n\r\n            /**\r\n             * 移除当前选区内指定的inline标签，但保留其中的内容\r\n             * @method removeInlineStyle\r\n             * @param { String } tagName 需要移除的标签名\r\n             * @return { UE.dom.Range } 当前的range对象\r\n             * @example\r\n             * ```html\r\n             * xx[x<span>xxx<em>yyy</em>zz]z</span>  => range.removeInlineStyle([\"em\"])  => xx[x<span>xxxyyyzz]z</span>\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 移除当前选区内指定的一组inline标签，但保留其中的内容\r\n             * @method removeInlineStyle\r\n             * @param { Array } tagNameArr 需要移除的标签名的数组\r\n             * @return { UE.dom.Range } 当前的range对象\r\n             * @see UE.dom.Range:removeInlineStyle(String)\r\n             */\r\n            removeInlineStyle: function(tagNames) {\r\n                if (this.collapsed) return this;\r\n                tagNames = utils.isArray(tagNames) ? tagNames : [tagNames];\r\n                this.shrinkBoundary().adjustmentBoundary();\r\n                var start = this.startContainer,\r\n                    end = this.endContainer;\r\n                while (1) {\r\n                    if (start.nodeType == 1) {\r\n                        if (utils.indexOf(tagNames, start.tagName.toLowerCase()) > -1) {\r\n                            break;\r\n                        }\r\n                        if (start.tagName.toLowerCase() == 'body') {\r\n                            start = null;\r\n                            break;\r\n                        }\r\n                    }\r\n                    start = start.parentNode;\r\n                }\r\n                while (1) {\r\n                    if (end.nodeType == 1) {\r\n                        if (utils.indexOf(tagNames, end.tagName.toLowerCase()) > -1) {\r\n                            break;\r\n                        }\r\n                        if (end.tagName.toLowerCase() == 'body') {\r\n                            end = null;\r\n                            break;\r\n                        }\r\n                    }\r\n                    end = end.parentNode;\r\n                }\r\n                var bookmark = this.createBookmark(),\r\n                    frag,\r\n                    tmpRange;\r\n                if (start) {\r\n                    tmpRange = this.cloneRange().setEndBefore(bookmark.start).setStartBefore(start);\r\n                    frag = tmpRange.extractContents();\r\n                    tmpRange.insertNode(frag);\r\n                    domUtils.clearEmptySibling(start, true);\r\n                    start.parentNode.insertBefore(bookmark.start, start);\r\n                }\r\n                if (end) {\r\n                    tmpRange = this.cloneRange().setStartAfter(bookmark.end).setEndAfter(end);\r\n                    frag = tmpRange.extractContents();\r\n                    tmpRange.insertNode(frag);\r\n                    domUtils.clearEmptySibling(end, false, true);\r\n                    end.parentNode.insertBefore(bookmark.end, end.nextSibling);\r\n                }\r\n                var current = domUtils.getNextDomNode(bookmark.start, false, function(node) {\r\n                        return node.nodeType == 1;\r\n                    }),\r\n                    next;\r\n                while (current && current !== bookmark.end) {\r\n                    next = domUtils.getNextDomNode(current, true, function(node) {\r\n                        return node.nodeType == 1;\r\n                    });\r\n                    if (utils.indexOf(tagNames, current.tagName.toLowerCase()) > -1) {\r\n                        domUtils.remove(current, true);\r\n                    }\r\n                    current = next;\r\n                }\r\n                return this.moveToBookmark(bookmark);\r\n            },\r\n\r\n            /**\r\n             * 获取当前选中的自闭合的节点\r\n             * @method  getClosedNode\r\n             * @return { Node | NULL } 如果当前选中的是自闭合节点， 则返回该节点， 否则返回NULL\r\n             */\r\n            getClosedNode: function() {\r\n                var node;\r\n                if (!this.collapsed) {\r\n                    var range = this.cloneRange().adjustmentBoundary().shrinkBoundary();\r\n                    if (selectOneNode(range)) {\r\n                        var child = range.startContainer.childNodes[range.startOffset];\r\n                        if (child && child.nodeType == 1 && (dtd.$empty[child.tagName] || dtd.$nonChild[child.tagName])) {\r\n                            node = child;\r\n                        }\r\n                    }\r\n                }\r\n                return node;\r\n            },\r\n\r\n            /**\r\n             * 在页面上高亮range所表示的选区\r\n             * @method select\r\n             * @return { UE.dom.Range } 返回当前Range对象\r\n             */\r\n            //这里不区分ie9以上，trace:3824\r\n            select: browser.ie ? function(noFillData, textRange) {\r\n                var nativeRange;\r\n                if (!this.collapsed)\r\n                    this.shrinkBoundary();\r\n                var node = this.getClosedNode();\r\n                if (node && !textRange) {\r\n                    try {\r\n                        nativeRange = this.document.body.createControlRange();\r\n                        nativeRange.addElement(node);\r\n                        nativeRange.select();\r\n                    } catch (e) {}\r\n                    return this;\r\n                }\r\n                var bookmark = this.createBookmark(),\r\n                    start = bookmark.start,\r\n                    end;\r\n                nativeRange = this.document.body.createTextRange();\r\n                nativeRange.moveToElementText(start);\r\n                nativeRange.moveStart('character', 1);\r\n                if (!this.collapsed) {\r\n                    var nativeRangeEnd = this.document.body.createTextRange();\r\n                    end = bookmark.end;\r\n                    nativeRangeEnd.moveToElementText(end);\r\n                    nativeRange.setEndPoint('EndToEnd', nativeRangeEnd);\r\n                } else {\r\n                    if (!noFillData && this.startContainer.nodeType != 3) {\r\n                        //使用<span>|x<span>固定住光标\r\n                        var tmpText = this.document.createTextNode(fillChar),\r\n                            tmp = this.document.createElement('span');\r\n                        tmp.appendChild(this.document.createTextNode(fillChar));\r\n                        start.parentNode.insertBefore(tmp, start);\r\n                        start.parentNode.insertBefore(tmpText, start);\r\n                        //当点b,i,u时，不能清除i上边的b\r\n                        removeFillData(this.document, tmpText);\r\n                        fillData = tmpText;\r\n                        mergeSibling(tmp, 'previousSibling');\r\n                        mergeSibling(start, 'nextSibling');\r\n                        nativeRange.moveStart('character', -1);\r\n                        nativeRange.collapse(true);\r\n                    }\r\n                }\r\n                this.moveToBookmark(bookmark);\r\n                tmp && domUtils.remove(tmp);\r\n                //IE在隐藏状态下不支持range操作，catch一下\r\n                try {\r\n                    nativeRange.select();\r\n                } catch (e) {}\r\n                return this;\r\n            } : function(notInsertFillData) {\r\n                function checkOffset(rng) {\r\n\r\n                    function check(node, offset, dir) {\r\n                        if (node.nodeType == 3 && node.nodeValue.length < offset) {\r\n                            rng[dir + 'Offset'] = node.nodeValue.length\r\n                        }\r\n                    }\r\n                    check(rng.startContainer, rng.startOffset, 'start');\r\n                    check(rng.endContainer, rng.endOffset, 'end');\r\n                }\r\n                var win = domUtils.getWindow(this.document),\r\n                    sel = win.getSelection(),\r\n                    txtNode;\r\n                //FF下关闭自动长高时滚动条在关闭dialog时会跳\r\n                //ff下如果不body.focus将不能定位闭合光标到编辑器内\r\n                browser.gecko ? this.document.body.focus() : win.focus();\r\n                if (sel) {\r\n                    sel.removeAllRanges();\r\n                    // trace:870 chrome/safari后边是br对于闭合得range不能定位 所以去掉了判断\r\n                    // this.startContainer.nodeType != 3 &&! ((child = this.startContainer.childNodes[this.startOffset]) && child.nodeType == 1 && child.tagName == 'BR'\r\n                    if (this.collapsed && !notInsertFillData) {\r\n                        //                    //opear如果没有节点接着，原生的不能够定位,不能在body的第一级插入空白节点\r\n                        //                    if (notInsertFillData && browser.opera && !domUtils.isBody(this.startContainer) && this.startContainer.nodeType == 1) {\r\n                        //                        var tmp = this.document.createTextNode('');\r\n                        //                        this.insertNode(tmp).setStart(tmp, 0).collapse(true);\r\n                        //                    }\r\n                        //\r\n                        //处理光标落在文本节点的情况\r\n                        //处理以下的情况\r\n                        //<b>|xxxx</b>\r\n                        //<b>xxxx</b>|xxxx\r\n                        //xxxx<b>|</b>\r\n                        var start = this.startContainer,\r\n                            child = start;\r\n                        if (start.nodeType == 1) {\r\n                            child = start.childNodes[this.startOffset];\r\n\r\n                        }\r\n                        if (!(start.nodeType == 3 && this.startOffset) &&\r\n                            (child ?\r\n                                (!child.previousSibling || child.previousSibling.nodeType != 3) :\r\n                                (!start.lastChild || start.lastChild.nodeType != 3)\r\n                            )\r\n                        ) {\r\n                            txtNode = this.document.createTextNode(fillChar);\r\n                            //跟着前边走\r\n                            this.insertNode(txtNode);\r\n                            removeFillData(this.document, txtNode);\r\n                            mergeSibling(txtNode, 'previousSibling');\r\n                            mergeSibling(txtNode, 'nextSibling');\r\n                            fillData = txtNode;\r\n                            this.setStart(txtNode, browser.webkit ? 1 : 0).collapse(true);\r\n                        }\r\n                    }\r\n                    var nativeRange = this.document.createRange();\r\n                    if (this.collapsed && browser.opera && this.startContainer.nodeType == 1) {\r\n                        var child = this.startContainer.childNodes[this.startOffset];\r\n                        if (!child) {\r\n                            //往前靠拢\r\n                            child = this.startContainer.lastChild;\r\n                            if (child && domUtils.isBr(child)) {\r\n                                this.setStartBefore(child).collapse(true);\r\n                            }\r\n                        } else {\r\n                            //向后靠拢\r\n                            while (child && domUtils.isBlockElm(child)) {\r\n                                if (child.nodeType == 1 && child.childNodes[0]) {\r\n                                    child = child.childNodes[0]\r\n                                } else {\r\n                                    break;\r\n                                }\r\n                            }\r\n                            child && this.setStartBefore(child).collapse(true)\r\n                        }\r\n\r\n                    }\r\n                    //是createAddress最后一位算的不准，现在这里进行微调\r\n                    checkOffset(this);\r\n                    nativeRange.setStart(this.startContainer, this.startOffset);\r\n                    nativeRange.setEnd(this.endContainer, this.endOffset);\r\n                    sel.addRange(nativeRange);\r\n                }\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * 滚动到当前range开始的位置\r\n             * @method scrollToView\r\n             * @param { Window } win 当前range对象所属的window对象\r\n             * @return { UE.dom.Range } 当前Range对象\r\n             */\r\n\r\n            /**\r\n             * 滚动到距离当前range开始位置 offset 的位置处\r\n             * @method scrollToView\r\n             * @param { Window } win 当前range对象所属的window对象\r\n             * @param { Number } offset 距离range开始位置处的偏移量， 如果为正数， 则向下偏移， 反之， 则向上偏移\r\n             * @return { UE.dom.Range } 当前Range对象\r\n             */\r\n            scrollToView: function(win, offset) {\r\n                win = win ? window : domUtils.getWindow(this.document);\r\n                var me = this,\r\n                    span = me.document.createElement('span');\r\n                //trace:717\r\n                span.innerHTML = '&nbsp;';\r\n                me.cloneRange().insertNode(span);\r\n                domUtils.scrollToView(span, win, offset);\r\n                domUtils.remove(span);\r\n                return me;\r\n            },\r\n\r\n            /**\r\n             * 判断当前选区内容是否占位符\r\n             * @private\r\n             * @method inFillChar\r\n             * @return { Boolean } 如果是占位符返回true，否则返回false\r\n             */\r\n            inFillChar: function() {\r\n                var start = this.startContainer;\r\n                if (this.collapsed && start.nodeType == 3 &&\r\n                    start.nodeValue.replace(new RegExp('^' + domUtils.fillChar), '').length + 1 == start.nodeValue.length\r\n                ) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            },\r\n\r\n            /**\r\n             * 保存\r\n             * @method createAddress\r\n             * @private\r\n             * @return { Boolean } 返回开始和结束的位置\r\n             * @example\r\n             * ```html\r\n             * <body>\r\n             *     <p>\r\n             *         aaaa\r\n             *         <em>\r\n             *             <!-- 选区开始 -->\r\n             *             bbbb\r\n             *             <!-- 选区结束 -->\r\n             *         </em>\r\n             *     </p>\r\n             *\r\n             *     <script>\r\n             *         //output: {startAddress:[0,1,0,0],endAddress:[0,1,0,4]}\r\n             *         console.log( range.createAddress() );\r\n             *     </script>\r\n             * </body>\r\n             * ```\r\n             */\r\n            createAddress: function(ignoreEnd, ignoreTxt) {\r\n                var addr = {},\r\n                    me = this;\r\n\r\n                function getAddress(isStart) {\r\n                    var node = isStart ? me.startContainer : me.endContainer;\r\n                    var parents = domUtils.findParents(node, true, function(node) { return !domUtils.isBody(node) }),\r\n                        addrs = [];\r\n                    for (var i = 0, ci; ci = parents[i++];) {\r\n                        addrs.push(domUtils.getNodeIndex(ci, ignoreTxt));\r\n                    }\r\n                    var firstIndex = 0;\r\n\r\n                    if (ignoreTxt) {\r\n                        if (node.nodeType == 3) {\r\n                            var tmpNode = node.previousSibling;\r\n                            while (tmpNode && tmpNode.nodeType == 3) {\r\n                                firstIndex += tmpNode.nodeValue.replace(fillCharReg, '').length;\r\n                                tmpNode = tmpNode.previousSibling;\r\n                            }\r\n                            firstIndex += (isStart ? me.startOffset : me.endOffset) // - (fillCharReg.test(node.nodeValue) ? 1 : 0 )\r\n                        } else {\r\n                            node = node.childNodes[isStart ? me.startOffset : me.endOffset];\r\n                            if (node) {\r\n                                firstIndex = domUtils.getNodeIndex(node, ignoreTxt);\r\n                            } else {\r\n                                node = isStart ? me.startContainer : me.endContainer;\r\n                                var first = node.firstChild;\r\n                                while (first) {\r\n                                    if (domUtils.isFillChar(first)) {\r\n                                        first = first.nextSibling;\r\n                                        continue;\r\n                                    }\r\n                                    firstIndex++;\r\n                                    if (first.nodeType == 3) {\r\n                                        while (first && first.nodeType == 3) {\r\n                                            first = first.nextSibling;\r\n                                        }\r\n                                    } else {\r\n                                        first = first.nextSibling;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                    } else {\r\n                        firstIndex = isStart ? domUtils.isFillChar(node) ? 0 : me.startOffset : me.endOffset\r\n                    }\r\n                    if (firstIndex < 0) {\r\n                        firstIndex = 0;\r\n                    }\r\n                    addrs.push(firstIndex);\r\n                    return addrs;\r\n                }\r\n                addr.startAddress = getAddress(true);\r\n                if (!ignoreEnd) {\r\n                    addr.endAddress = me.collapsed ? [].concat(addr.startAddress) : getAddress();\r\n                }\r\n                return addr;\r\n            },\r\n\r\n            /**\r\n             * 保存\r\n             * @method createAddress\r\n             * @private\r\n             * @return { Boolean } 返回开始和结束的位置\r\n             * @example\r\n             * ```html\r\n             * <body>\r\n             *     <p>\r\n             *         aaaa\r\n             *         <em>\r\n             *             <!-- 选区开始 -->\r\n             *             bbbb\r\n             *             <!-- 选区结束 -->\r\n             *         </em>\r\n             *     </p>\r\n             *\r\n             *     <script>\r\n             *         var range = editor.selection.getRange();\r\n             *         range.moveToAddress({startAddress:[0,1,0,0],endAddress:[0,1,0,4]});\r\n             *         range.select();\r\n             *         //output: 'bbbb'\r\n             *         console.log(editor.selection.getText());\r\n             *     </script>\r\n             * </body>\r\n             * ```\r\n             */\r\n            moveToAddress: function(addr, ignoreEnd) {\r\n                var me = this;\r\n\r\n                function getNode(address, isStart) {\r\n                    var tmpNode = me.document.body,\r\n                        parentNode, offset;\r\n                    for (var i = 0, ci, l = address.length; i < l; i++) {\r\n                        ci = address[i];\r\n                        parentNode = tmpNode;\r\n                        tmpNode = tmpNode.childNodes[ci];\r\n                        if (!tmpNode) {\r\n                            offset = ci;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (isStart) {\r\n                        if (tmpNode) {\r\n                            me.setStartBefore(tmpNode)\r\n                        } else {\r\n                            me.setStart(parentNode, offset)\r\n                        }\r\n                    } else {\r\n                        if (tmpNode) {\r\n                            me.setEndBefore(tmpNode)\r\n                        } else {\r\n                            me.setEnd(parentNode, offset)\r\n                        }\r\n                    }\r\n                }\r\n                getNode(addr.startAddress, true);\r\n                !ignoreEnd && addr.endAddress && getNode(addr.endAddress);\r\n                return me;\r\n            },\r\n\r\n            /**\r\n             * 判断给定的Range对象是否和当前Range对象表示的是同一个选区\r\n             * @method equals\r\n             * @param { UE.dom.Range } 需要判断的Range对象\r\n             * @return { Boolean } 如果给定的Range对象与当前Range对象表示的是同一个选区， 则返回true， 否则返回false\r\n             */\r\n            equals: function(rng) {\r\n                for (var p in this) {\r\n                    if (this.hasOwnProperty(p)) {\r\n                        if (this[p] !== rng[p])\r\n                            return false\r\n                    }\r\n                }\r\n                return true;\r\n\r\n            },\r\n\r\n            /**\r\n             * 遍历range内的节点。每当遍历一个节点时， 都会执行参数项 doFn 指定的函数， 该函数的接受当前遍历的节点\r\n             * 作为其参数。\r\n             * @method traversal\r\n             * @param { Function }  doFn 对每个遍历的节点要执行的方法， 该方法接受当前遍历的节点作为其参数\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @example\r\n             * ```html\r\n             *\r\n             * <body>\r\n             *\r\n             *     <!-- 选区开始 -->\r\n             *     <span></span>\r\n             *     <a></a>\r\n             *     <!-- 选区结束 -->\r\n             * </body>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //output: <span></span><a></a>\r\n             *     console.log( range.cloneContents() );\r\n             *\r\n             *     range.traversal( function ( node ) {\r\n             *\r\n             *         if ( node.nodeType === 1 ) {\r\n             *             node.className = \"test\";\r\n             *         }\r\n             *\r\n             *     } );\r\n             *\r\n             *     //output: <span class=\"test\"></span><a class=\"test\"></a>\r\n             *     console.log( range.cloneContents() );\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 遍历range内的节点。\r\n             * 每当遍历一个节点时， 都会执行参数项 doFn 指定的函数， 该函数的接受当前遍历的节点\r\n             * 作为其参数。\r\n             * 可以通过参数项 filterFn 来指定一个过滤器， 只有符合该过滤器过滤规则的节点才会触\r\n             * 发doFn函数的执行\r\n             * @method traversal\r\n             * @param { Function } doFn 对每个遍历的节点要执行的方法， 该方法接受当前遍历的节点作为其参数\r\n             * @param { Function } filterFn 过滤器， 该函数接受当前遍历的节点作为参数， 如果该节点满足过滤\r\n             *                      规则， 请返回true， 该节点会触发doFn， 否则， 请返回false， 则该节点不\r\n             *                      会触发doFn。\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @see UE.dom.Range:traversal(Function)\r\n             * @example\r\n             * ```html\r\n             *\r\n             * <body>\r\n             *\r\n             *     <!-- 选区开始 -->\r\n             *     <span></span>\r\n             *     <a></a>\r\n             *     <!-- 选区结束 -->\r\n             * </body>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //output: <span></span><a></a>\r\n             *     console.log( range.cloneContents() );\r\n             *\r\n             *     range.traversal( function ( node ) {\r\n             *\r\n             *         node.className = \"test\";\r\n             *\r\n             *     }, function ( node ) {\r\n             *          return node.nodeType === 1;\r\n             *     } );\r\n             *\r\n             *     //output: <span class=\"test\"></span><a class=\"test\"></a>\r\n             *     console.log( range.cloneContents() );\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n            traversal: function(doFn, filterFn) {\r\n                if (this.collapsed)\r\n                    return this;\r\n                var bookmark = this.createBookmark(),\r\n                    end = bookmark.end,\r\n                    current = domUtils.getNextDomNode(bookmark.start, false, filterFn);\r\n                while (current && current !== end && (domUtils.getPosition(current, end) & domUtils.POSITION_PRECEDING)) {\r\n                    var tmpNode = domUtils.getNextDomNode(current, false, filterFn);\r\n                    doFn(current);\r\n                    current = tmpNode;\r\n                }\r\n                return this.moveToBookmark(bookmark);\r\n            }\r\n        };\r\n    })();\r\n\r\n    // core/Selection.js\r\n    /**\r\n     * 选集\r\n     * @file\r\n     * @module UE.dom\r\n     * @class Selection\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 选区集合\r\n     * @unfile\r\n     * @module UE.dom\r\n     * @class Selection\r\n     */\r\n    (function() {\r\n\r\n        function getBoundaryInformation(range, start) {\r\n            var getIndex = domUtils.getNodeIndex;\r\n            range = range.duplicate();\r\n            range.collapse(start);\r\n            var parent = range.parentElement();\r\n            //如果节点里没有子节点，直接退出\r\n            if (!parent.hasChildNodes()) {\r\n                return { container: parent, offset: 0 };\r\n            }\r\n            var siblings = parent.children,\r\n                child,\r\n                testRange = range.duplicate(),\r\n                startIndex = 0,\r\n                endIndex = siblings.length - 1,\r\n                index = -1,\r\n                distance;\r\n            while (startIndex <= endIndex) {\r\n                index = Math.floor((startIndex + endIndex) / 2);\r\n                child = siblings[index];\r\n                testRange.moveToElementText(child);\r\n                var position = testRange.compareEndPoints('StartToStart', range);\r\n                if (position > 0) {\r\n                    endIndex = index - 1;\r\n                } else if (position < 0) {\r\n                    startIndex = index + 1;\r\n                } else {\r\n                    //trace:1043\r\n                    return { container: parent, offset: getIndex(child) };\r\n                }\r\n            }\r\n            if (index == -1) {\r\n                testRange.moveToElementText(parent);\r\n                testRange.setEndPoint('StartToStart', range);\r\n                distance = testRange.text.replace(/(\\r\\n|\\r)/g, '\\n').length;\r\n                siblings = parent.childNodes;\r\n                if (!distance) {\r\n                    child = siblings[siblings.length - 1];\r\n                    return { container: child, offset: child.nodeValue.length };\r\n                }\r\n\r\n                var i = siblings.length;\r\n                while (distance > 0) {\r\n                    distance -= siblings[--i].nodeValue.length;\r\n                }\r\n                return { container: siblings[i], offset: -distance };\r\n            }\r\n            testRange.collapse(position > 0);\r\n            testRange.setEndPoint(position > 0 ? 'StartToStart' : 'EndToStart', range);\r\n            distance = testRange.text.replace(/(\\r\\n|\\r)/g, '\\n').length;\r\n            if (!distance) {\r\n                return dtd.$empty[child.tagName] || dtd.$nonChild[child.tagName] ? { container: parent, offset: getIndex(child) + (position > 0 ? 0 : 1) } : { container: child, offset: position > 0 ? 0 : child.childNodes.length }\r\n            }\r\n            while (distance > 0) {\r\n                try {\r\n                    var pre = child;\r\n                    child = child[position > 0 ? 'previousSibling' : 'nextSibling'];\r\n                    distance -= child.nodeValue.length;\r\n                } catch (e) {\r\n                    return { container: parent, offset: getIndex(pre) };\r\n                }\r\n            }\r\n            return { container: child, offset: position > 0 ? -distance : child.nodeValue.length + distance }\r\n        }\r\n\r\n        /**\r\n         * 将ieRange转换为Range对象\r\n         * @param {Range}   ieRange    ieRange对象\r\n         * @param {Range}   range      Range对象\r\n         * @return  {Range}  range       返回转换后的Range对象\r\n         */\r\n        function transformIERangeToRange(ieRange, range) {\r\n            if (ieRange.item) {\r\n                range.selectNode(ieRange.item(0));\r\n            } else {\r\n                var bi = getBoundaryInformation(ieRange, true);\r\n                range.setStart(bi.container, bi.offset);\r\n                if (ieRange.compareEndPoints('StartToEnd', ieRange) != 0) {\r\n                    bi = getBoundaryInformation(ieRange, false);\r\n                    range.setEnd(bi.container, bi.offset);\r\n                }\r\n            }\r\n            return range;\r\n        }\r\n\r\n        /**\r\n         * 获得ieRange\r\n         * @param {Selection} sel    Selection对象\r\n         * @return {ieRange}    得到ieRange\r\n         */\r\n        function _getIERange(sel) {\r\n            var ieRange;\r\n            //ie下有可能报错\r\n            try {\r\n                ieRange = sel.getNative().createRange();\r\n            } catch (e) {\r\n                return null;\r\n            }\r\n            var el = ieRange.item ? ieRange.item(0) : ieRange.parentElement();\r\n            if ((el.ownerDocument || el) === sel.document) {\r\n                return ieRange;\r\n            }\r\n            return null;\r\n        }\r\n\r\n        var Selection = dom.Selection = function(doc) {\r\n            var me = this,\r\n                iframe;\r\n            me.document = doc;\r\n            if (browser.ie9below) {\r\n                iframe = domUtils.getWindow(doc).frameElement;\r\n                domUtils.on(iframe, 'beforedeactivate', function() {\r\n                    me._bakIERange = me.getIERange();\r\n                });\r\n                domUtils.on(iframe, 'activate', function() {\r\n                    try {\r\n                        if (!_getIERange(me) && me._bakIERange) {\r\n                            me._bakIERange.select();\r\n                        }\r\n                    } catch (ex) {}\r\n                    me._bakIERange = null;\r\n                });\r\n            }\r\n            iframe = doc = null;\r\n        };\r\n\r\n        Selection.prototype = {\r\n\r\n            rangeInBody: function(rng, txtRange) {\r\n                var node = browser.ie9below || txtRange ? rng.item ? rng.item() : rng.parentElement() : rng.startContainer;\r\n\r\n                return node === this.document.body || domUtils.inDoc(node, this.document);\r\n            },\r\n\r\n            /**\r\n             * 获取原生seleciton对象\r\n             * @method getNative\r\n             * @return { Object } 获得selection对象\r\n             * @example\r\n             * ```javascript\r\n             * editor.selection.getNative();\r\n             * ```\r\n             */\r\n            getNative: function() {\r\n                var doc = this.document;\r\n                try {\r\n                    return !doc ? null : browser.ie9below ? doc.selection : domUtils.getWindow(doc).getSelection();\r\n                } catch (e) {\r\n                    return null;\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 获得ieRange\r\n             * @method getIERange\r\n             * @return { Object } 返回ie原生的Range\r\n             * @example\r\n             * ```javascript\r\n             * editor.selection.getIERange();\r\n             * ```\r\n             */\r\n            getIERange: function() {\r\n                var ieRange = _getIERange(this);\r\n                if (!ieRange) {\r\n                    if (this._bakIERange) {\r\n                        return this._bakIERange;\r\n                    }\r\n                }\r\n                return ieRange;\r\n            },\r\n\r\n            /**\r\n             * 缓存当前选区的range和选区的开始节点\r\n             * @method cache\r\n             */\r\n            cache: function() {\r\n                this.clear();\r\n                this._cachedRange = this.getRange();\r\n                this._cachedStartElement = this.getStart();\r\n                this._cachedStartElementPath = this.getStartElementPath();\r\n            },\r\n\r\n            /**\r\n             * 获取选区开始位置的父节点到body\r\n             * @method getStartElementPath\r\n             * @return { Array } 返回父节点集合\r\n             * @example\r\n             * ```javascript\r\n             * editor.selection.getStartElementPath();\r\n             * ```\r\n             */\r\n            getStartElementPath: function() {\r\n                if (this._cachedStartElementPath) {\r\n                    return this._cachedStartElementPath;\r\n                }\r\n                var start = this.getStart();\r\n                if (start) {\r\n                    return domUtils.findParents(start, true, null, true)\r\n                }\r\n                return [];\r\n            },\r\n\r\n            /**\r\n             * 清空缓存\r\n             * @method clear\r\n             */\r\n            clear: function() {\r\n                this._cachedStartElementPath = this._cachedRange = this._cachedStartElement = null;\r\n            },\r\n\r\n            /**\r\n             * 编辑器是否得到了选区\r\n             * @method isFocus\r\n             */\r\n            isFocus: function() {\r\n                try {\r\n                    if (browser.ie9below) {\r\n\r\n                        var nativeRange = _getIERange(this);\r\n                        return !!(nativeRange && this.rangeInBody(nativeRange));\r\n                    } else {\r\n                        return !!this.getNative().rangeCount;\r\n                    }\r\n                } catch (e) {\r\n                    return false;\r\n                }\r\n\r\n            },\r\n\r\n            /**\r\n             * 获取选区对应的Range\r\n             * @method getRange\r\n             * @return { Object } 得到Range对象\r\n             * @example\r\n             * ```javascript\r\n             * editor.selection.getRange();\r\n             * ```\r\n             */\r\n            getRange: function() {\r\n                var me = this;\r\n\r\n                function optimze(range) {\r\n                    var child = me.document.body.firstChild,\r\n                        collapsed = range.collapsed;\r\n                    while (child && child.firstChild) {\r\n                        range.setStart(child, 0);\r\n                        child = child.firstChild;\r\n                    }\r\n                    if (!range.startContainer) {\r\n                        range.setStart(me.document.body, 0)\r\n                    }\r\n                    if (collapsed) {\r\n                        range.collapse(true);\r\n                    }\r\n                }\r\n\r\n                if (me._cachedRange != null) {\r\n                    return this._cachedRange;\r\n                }\r\n                var range = new baidu.editor.dom.Range(me.document);\r\n\r\n                if (browser.ie9below) {\r\n                    var nativeRange = me.getIERange();\r\n                    if (nativeRange) {\r\n                        //备份的_bakIERange可能已经实效了，dom树发生了变化比如从源码模式切回来，所以try一下，实效就放到body开始位置\r\n                        try {\r\n                            transformIERangeToRange(nativeRange, range);\r\n                        } catch (e) {\r\n                            optimze(range);\r\n                        }\r\n\r\n                    } else {\r\n                        optimze(range);\r\n                    }\r\n                } else {\r\n                    var sel = me.getNative();\r\n                    if (sel && sel.rangeCount) {\r\n                        var firstRange = sel.getRangeAt(0);\r\n                        var lastRange = sel.getRangeAt(sel.rangeCount - 1);\r\n                        range.setStart(firstRange.startContainer, firstRange.startOffset).setEnd(lastRange.endContainer, lastRange.endOffset);\r\n                        if (range.collapsed && domUtils.isBody(range.startContainer) && !range.startOffset) {\r\n                            optimze(range);\r\n                        }\r\n                    } else {\r\n                        //trace:1734 有可能已经不在dom树上了，标识的节点\r\n                        if (this._bakRange && domUtils.inDoc(this._bakRange.startContainer, this.document)) {\r\n                            return this._bakRange;\r\n                        }\r\n                        optimze(range);\r\n                    }\r\n                }\r\n                return this._bakRange = range;\r\n            },\r\n\r\n            /**\r\n             * 获取开始元素，用于状态反射\r\n             * @method getStart\r\n             * @return { Element } 获得开始元素\r\n             * @example\r\n             * ```javascript\r\n             * editor.selection.getStart();\r\n             * ```\r\n             */\r\n            getStart: function() {\r\n                if (this._cachedStartElement) {\r\n                    return this._cachedStartElement;\r\n                }\r\n                var range = browser.ie9below ? this.getIERange() : this.getRange(),\r\n                    tmpRange,\r\n                    start, tmp, parent;\r\n                if (browser.ie9below) {\r\n                    if (!range) {\r\n                        //todo 给第一个值可能会有问题\r\n                        return this.document.body.firstChild;\r\n                    }\r\n                    //control元素\r\n                    if (range.item) {\r\n                        return range.item(0);\r\n                    }\r\n                    tmpRange = range.duplicate();\r\n                    //修正ie下<b>x</b>[xx] 闭合后 <b>x|</b>xx\r\n                    tmpRange.text.length > 0 && tmpRange.moveStart('character', 1);\r\n                    tmpRange.collapse(1);\r\n                    start = tmpRange.parentElement();\r\n                    parent = tmp = range.parentElement();\r\n                    while (tmp = tmp.parentNode) {\r\n                        if (tmp == start) {\r\n                            start = parent;\r\n                            break;\r\n                        }\r\n                    }\r\n                } else {\r\n                    range.shrinkBoundary();\r\n                    start = range.startContainer;\r\n                    if (start.nodeType == 1 && start.hasChildNodes()) {\r\n                        start = start.childNodes[Math.min(start.childNodes.length - 1, range.startOffset)];\r\n                    }\r\n                    if (start.nodeType == 3) {\r\n                        return start.parentNode;\r\n                    }\r\n                }\r\n                return start;\r\n            },\r\n\r\n            /**\r\n             * 得到选区中的文本\r\n             * @method getText\r\n             * @return { String } 选区中包含的文本\r\n             * @example\r\n             * ```javascript\r\n             * editor.selection.getText();\r\n             * ```\r\n             */\r\n            getText: function() {\r\n                var nativeSel, nativeRange;\r\n                if (this.isFocus() && (nativeSel = this.getNative())) {\r\n                    nativeRange = browser.ie9below ? nativeSel.createRange() : nativeSel.getRangeAt(0);\r\n                    return browser.ie9below ? nativeRange.text : nativeRange.toString();\r\n                }\r\n                return '';\r\n            },\r\n\r\n            /**\r\n             * 清除选区\r\n             * @method clearRange\r\n             * @example\r\n             * ```javascript\r\n             * editor.selection.clearRange();\r\n             * ```\r\n             */\r\n            clearRange: function() {\r\n                this.getNative()[browser.ie9below ? 'empty' : 'removeAllRanges']();\r\n            }\r\n        };\r\n    })();\r\n\r\n    // core/Editor.js\r\n    /**\r\n     * 编辑器主类，包含编辑器提供的大部分公用接口\r\n     * @file\r\n     * @module UE\r\n     * @class Editor\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * UEditor公用空间，UEditor所有的功能都挂载在该空间下\r\n     * @unfile\r\n     * @module UE\r\n     */\r\n\r\n    /**\r\n     * UEditor的核心类，为用户提供与编辑器交互的接口。\r\n     * @unfile\r\n     * @module UE\r\n     * @class Editor\r\n     */\r\n\r\n    (function() {\r\n        var uid = 0,\r\n            _selectionChangeTimer;\r\n\r\n        /**\r\n         * 获取编辑器的html内容，赋值到编辑器所在表单的textarea文本域里面\r\n         * @private\r\n         * @method setValue\r\n         * @param { UE.Editor } editor 编辑器事例\r\n         */\r\n        function setValue(form, editor) {\r\n            var textarea;\r\n            if (editor.textarea) {\r\n                if (utils.isString(editor.textarea)) {\r\n                    for (var i = 0, ti, tis = domUtils.getElementsByTagName(form, 'textarea'); ti = tis[i++];) {\r\n                        if (ti.id == 'ueditor_textarea_' + editor.options.textarea) {\r\n                            textarea = ti;\r\n                            break;\r\n                        }\r\n                    }\r\n                } else {\r\n                    textarea = editor.textarea;\r\n                }\r\n            }\r\n            if (!textarea) {\r\n                form.appendChild(textarea = domUtils.createElement(document, 'textarea', {\r\n                    'name': editor.options.textarea,\r\n                    'id': 'ueditor_textarea_' + editor.options.textarea,\r\n                    'style': \"display:none\"\r\n                }));\r\n                //不要产生多个textarea\r\n                editor.textarea = textarea;\r\n            }!textarea.getAttribute('name') && textarea.setAttribute('name', editor.options.textarea);\r\n            textarea.value = editor.hasContents() ?\r\n                (editor.options.allHtmlEnabled ? editor.getAllHtml() : editor.getContent(null, null, true)) :\r\n                ''\r\n        }\r\n\r\n        function loadPlugins(me) {\r\n            //初始化插件\r\n            for (var pi in UE.plugins) {\r\n                UE.plugins[pi].call(me);\r\n            }\r\n\r\n        }\r\n\r\n        function checkCurLang(I18N) {\r\n            for (var lang in I18N) {\r\n                return lang\r\n            }\r\n        }\r\n\r\n        function langReadied(me) {\r\n            me.langIsReady = true;\r\n\r\n            me.fireEvent(\"langReady\");\r\n        }\r\n\r\n        /**\r\n         * 编辑器准备就绪后会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event ready\r\n         * @remind render方法执行完成之后,会触发该事件\r\n         * @remind\r\n         * @example\r\n         * ```javascript\r\n         * editor.addListener( 'ready', function( editor ) {\r\n         *     editor.execCommand( 'focus' ); //编辑器家在完成后，让编辑器拿到焦点\r\n         * } );\r\n         * ```\r\n         */\r\n        /**\r\n         * 执行destroy方法,会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event destroy\r\n         * @see UE.Editor:destroy()\r\n         */\r\n        /**\r\n         * 执行reset方法,会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event reset\r\n         * @see UE.Editor:reset()\r\n         */\r\n        /**\r\n         * 执行focus方法,会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event focus\r\n         * @see UE.Editor:focus(Boolean)\r\n         */\r\n        /**\r\n         * 语言加载完成会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event langReady\r\n         */\r\n        /**\r\n         * 运行命令之后会触发该命令\r\n         * @module UE\r\n         * @class Editor\r\n         * @event beforeExecCommand\r\n         */\r\n        /**\r\n         * 运行命令之后会触发该命令\r\n         * @module UE\r\n         * @class Editor\r\n         * @event afterExecCommand\r\n         */\r\n        /**\r\n         * 运行命令之前会触发该命令\r\n         * @module UE\r\n         * @class Editor\r\n         * @event firstBeforeExecCommand\r\n         */\r\n        /**\r\n         * 在getContent方法执行之前会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event beforeGetContent\r\n         * @see UE.Editor:getContent()\r\n         */\r\n        /**\r\n         * 在getContent方法执行之后会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event afterGetContent\r\n         * @see UE.Editor:getContent()\r\n         */\r\n        /**\r\n         * 在getAllHtml方法执行时会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event getAllHtml\r\n         * @see UE.Editor:getAllHtml()\r\n         */\r\n        /**\r\n         * 在setContent方法执行之前会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event beforeSetContent\r\n         * @see UE.Editor:setContent(String)\r\n         */\r\n        /**\r\n         * 在setContent方法执行之后会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event afterSetContent\r\n         * @see UE.Editor:setContent(String)\r\n         */\r\n        /**\r\n         * 每当编辑器内部选区发生改变时，将触发该事件\r\n         * @event selectionchange\r\n         * @warning 该事件的触发非常频繁，不建议在该事件的处理过程中做重量级的处理\r\n         * @example\r\n         * ```javascript\r\n         * editor.addListener( 'selectionchange', function( editor ) {\r\n         *     console.log('选区发生改变');\r\n         * }\r\n         */\r\n        /**\r\n         * 在所有selectionchange的监听函数执行之前，会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event beforeSelectionChange\r\n         * @see UE.Editor:selectionchange\r\n         */\r\n        /**\r\n         * 在所有selectionchange的监听函数执行完之后，会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event afterSelectionChange\r\n         * @see UE.Editor:selectionchange\r\n         */\r\n        /**\r\n         * 编辑器内容发生改变时会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event contentChange\r\n         */\r\n\r\n\r\n        /**\r\n         * 以默认参数构建一个编辑器实例\r\n         * @constructor\r\n         * @remind 通过 改构造方法实例化的编辑器,不带ui层.需要render到一个容器,编辑器实例才能正常渲染到页面\r\n         * @example\r\n         * ```javascript\r\n         * var editor = new UE.Editor();\r\n         * editor.execCommand('blod');\r\n         * ```\r\n         * @see UE.Config\r\n         */\r\n\r\n        /**\r\n         * 以给定的参数集合创建一个编辑器实例，对于未指定的参数，将应用默认参数。\r\n         * @constructor\r\n         * @remind 通过 改构造方法实例化的编辑器,不带ui层.需要render到一个容器,编辑器实例才能正常渲染到页面\r\n         * @param { Object } setting 创建编辑器的参数\r\n         * @example\r\n         * ```javascript\r\n         * var editor = new UE.Editor();\r\n         * editor.execCommand('blod');\r\n         * ```\r\n         * @see UE.Config\r\n         */\r\n        var Editor = UE.Editor = function(options) {\r\n            var me = this;\r\n            me.uid = uid++;\r\n            EventBase.call(me);\r\n            me.commands = {};\r\n            me.options = utils.extend(utils.clone(options || {}), UEDITOR_CONFIG, true);\r\n            me.shortcutkeys = {};\r\n            me.inputRules = [];\r\n            me.outputRules = [];\r\n            //设置默认的常用属性\r\n            me.setOpt(Editor.defaultOptions(me));\r\n\r\n            /* 尝试异步加载后台配置 */\r\n            me.loadServerConfig();\r\n\r\n            if (!utils.isEmptyObject(UE.I18N)) {\r\n                //修改默认的语言类型\r\n                me.options.lang = checkCurLang(UE.I18N);\r\n                UE.plugin.load(me);\r\n                langReadied(me);\r\n\r\n            } else {\r\n                utils.loadFile(document, {\r\n                    src: me.options.langPath + me.options.lang + \"/\" + me.options.lang + \".js\",\r\n                    tag: \"script\",\r\n                    type: \"text/javascript\",\r\n                    defer: \"defer\"\r\n                }, function() {\r\n                    UE.plugin.load(me);\r\n                    langReadied(me);\r\n                });\r\n            }\r\n\r\n            UE.instants['ueditorInstant' + me.uid] = me;\r\n        };\r\n        Editor.prototype = {\r\n            registerCommand: function(name, obj) {\r\n                this.commands[name] = obj;\r\n            },\r\n            /**\r\n             * 编辑器对外提供的监听ready事件的接口， 通过调用该方法，达到的效果与监听ready事件是一致的\r\n             * @method ready\r\n             * @param { Function } fn 编辑器ready之后所执行的回调, 如果在注册事件之前编辑器已经ready，将会\r\n             * 立即触发该回调。\r\n             * @remind 需要等待编辑器加载完成后才能执行的代码,可以使用该方法传入\r\n             * @example\r\n             * ```javascript\r\n             * editor.ready( function( editor ) {\r\n             *     editor.setContent('初始化完毕');\r\n             * } );\r\n             * ```\r\n             * @see UE.Editor.event:ready\r\n             */\r\n            ready: function(fn) {\r\n                var me = this;\r\n                if (fn) {\r\n                    me.isReady ? fn.apply(me) : me.addListener('ready', fn);\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 该方法是提供给插件里面使用，设置配置项默认值\r\n             * @method setOpt\r\n             * @warning 三处设置配置项的优先级: 实例化时传入参数 > setOpt()设置 > config文件里设置\r\n             * @warning 该方法仅供编辑器插件内部和编辑器初始化时调用，其他地方不能调用。\r\n             * @param { String } key 编辑器的可接受的选项名称\r\n             * @param { * } val  该选项可接受的值\r\n             * @example\r\n             * ```javascript\r\n             * editor.setOpt( 'initContent', '欢迎使用编辑器' );\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 该方法是提供给插件里面使用，以{key:value}集合的方式设置插件内用到的配置项默认值\r\n             * @method setOpt\r\n             * @warning 三处设置配置项的优先级: 实例化时传入参数 > setOpt()设置 > config文件里设置\r\n             * @warning 该方法仅供编辑器插件内部和编辑器初始化时调用，其他地方不能调用。\r\n             * @param { Object } options 将要设置的选项的键值对对象\r\n             * @example\r\n             * ```javascript\r\n             * editor.setOpt( {\r\n             *     'initContent': '欢迎使用编辑器'\r\n             * } );\r\n             * ```\r\n             */\r\n            setOpt: function(key, val) {\r\n                var obj = {};\r\n                if (utils.isString(key)) {\r\n                    obj[key] = val\r\n                } else {\r\n                    obj = key;\r\n                }\r\n                utils.extend(this.options, obj, true);\r\n            },\r\n            getOpt: function(key) {\r\n                return this.options[key]\r\n            },\r\n            /**\r\n             * 销毁编辑器实例，使用textarea代替\r\n             * @method destroy\r\n             * @example\r\n             * ```javascript\r\n             * editor.destroy();\r\n             * ```\r\n             */\r\n            destroy: function() {\r\n\r\n                var me = this;\r\n                me.fireEvent('destroy');\r\n                var container = me.container.parentNode;\r\n                var textarea = me.textarea;\r\n                if (!textarea) {\r\n                    textarea = document.createElement('textarea');\r\n                    container.parentNode.insertBefore(textarea, container);\r\n                } else {\r\n                    textarea.style.display = ''\r\n                }\r\n\r\n                textarea.style.width = me.iframe.offsetWidth + 'px';\r\n                textarea.style.height = me.iframe.offsetHeight + 'px';\r\n                textarea.value = me.getContent();\r\n                textarea.id = me.key;\r\n                container.innerHTML = '';\r\n                domUtils.remove(container);\r\n                var key = me.key;\r\n                //trace:2004\r\n                for (var p in me) {\r\n                    if (me.hasOwnProperty(p)) {\r\n                        delete this[p];\r\n                    }\r\n                }\r\n                UE.delEditor(key);\r\n            },\r\n\r\n            /**\r\n             * 渲染编辑器的DOM到指定容器\r\n             * @method render\r\n             * @param { String } containerId 指定一个容器ID\r\n             * @remind 执行该方法,会触发ready事件\r\n             * @warning 必须且只能调用一次\r\n             */\r\n\r\n            /**\r\n             * 渲染编辑器的DOM到指定容器\r\n             * @method render\r\n             * @param { Element } containerDom 直接指定容器对象\r\n             * @remind 执行该方法,会触发ready事件\r\n             * @warning 必须且只能调用一次\r\n             */\r\n            render: function(container) {\r\n                var me = this,\r\n                    options = me.options,\r\n                    getStyleValue = function(attr) {\r\n                        return parseInt(domUtils.getComputedStyle(container, attr));\r\n                    };\r\n                if (utils.isString(container)) {\r\n                    container = document.getElementById(container);\r\n                }\r\n                if (container) {\r\n                    if (options.initialFrameWidth) {\r\n                        options.minFrameWidth = options.initialFrameWidth\r\n                    } else {\r\n                        options.minFrameWidth = options.initialFrameWidth = container.offsetWidth;\r\n                    }\r\n                    if (options.initialFrameHeight) {\r\n                        options.minFrameHeight = options.initialFrameHeight\r\n                    } else {\r\n                        options.initialFrameHeight = options.minFrameHeight = container.offsetHeight;\r\n                    }\r\n\r\n                    container.style.width = /%$/.test(options.initialFrameWidth) ? '100%' : options.initialFrameWidth -\r\n                        getStyleValue(\"padding-left\") - getStyleValue(\"padding-right\") + 'px';\r\n                    container.style.height = /%$/.test(options.initialFrameHeight) ? '100%' : options.initialFrameHeight -\r\n                        getStyleValue(\"padding-top\") - getStyleValue(\"padding-bottom\") + 'px';\r\n\r\n                    container.style.zIndex = options.zIndex;\r\n\r\n                    var html = (ie && browser.version < 9 ? '' : '<!DOCTYPE html>') +\r\n                        '<html xmlns=\\'http://www.w3.org/1999/xhtml\\' class=\\'view\\' ><head>' +\r\n                        '<style type=\\'text/css\\'>' +\r\n                        //设置四周的留边\r\n                        '.view{padding:0;word-wrap:break-word;cursor:text;height:90%;}\\n' +\r\n                        //设置默认字体和字号\r\n                        //font-family不能呢随便改，在safari下fillchar会有解析问题\r\n                        'body{margin:8px;font-family:sans-serif;font-size:16px;}' +\r\n                        //设置段落间距\r\n                        'p{margin:5px 0;}</style>' +\r\n                        (options.iframeCssUrl ? '<link rel=\\'stylesheet\\' type=\\'text/css\\' href=\\'' + utils.unhtml(options.iframeCssUrl) + '\\'/>' : '') +\r\n                        (options.initialStyle ? '<style>' + options.initialStyle + '</style>' : '') +\r\n                        '</head><body class=\\'view\\' ></body>' +\r\n                        '<script type=\\'text/javascript\\' ' + (ie ? 'defer=\\'defer\\'' : '') + ' id=\\'_initialScript\\'>' +\r\n                        'setTimeout(function(){editor = window.parent.UE.instants[\\'ueditorInstant' + me.uid + '\\'];editor._setup(document);},0);' +\r\n                        'var _tmpScript = document.getElementById(\\'_initialScript\\');_tmpScript.parentNode.removeChild(_tmpScript);</script></html>';\r\n                    container.appendChild(domUtils.createElement(document, 'iframe', {\r\n                        id: 'ueditor_' + me.uid,\r\n                        width: \"100%\",\r\n                        height: \"100%\",\r\n                        frameborder: \"0\",\r\n                        //先注释掉了，加的原因忘记了，但开启会直接导致全屏模式下内容多时不会出现滚动条\r\n                        //                    scrolling :'no',\r\n                        src: 'javascript:void(function(){document.open();' + (options.customDomain && document.domain != location.hostname ? 'document.domain=\"' + document.domain + '\";' : '') +\r\n                            'document.write(\"' + html + '\");document.close();}())'\r\n                    }));\r\n                    container.style.overflow = 'hidden';\r\n                    //解决如果是给定的百分比，会导致高度算不对的问题\r\n                    setTimeout(function() {\r\n                        if (/%$/.test(options.initialFrameWidth)) {\r\n                            options.minFrameWidth = options.initialFrameWidth = container.offsetWidth;\r\n                            //如果这里给定宽度，会导致ie在拖动窗口大小时，编辑区域不随着变化\r\n                            //                        container.style.width = options.initialFrameWidth + 'px';\r\n                        }\r\n                        if (/%$/.test(options.initialFrameHeight)) {\r\n                            options.minFrameHeight = options.initialFrameHeight = container.offsetHeight;\r\n                            container.style.height = options.initialFrameHeight + 'px';\r\n                        }\r\n                    })\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 编辑器初始化\r\n             * @method _setup\r\n             * @private\r\n             * @param { Element } doc 编辑器Iframe中的文档对象\r\n             */\r\n            _setup: function(doc) {\r\n\r\n                var me = this,\r\n                    options = me.options;\r\n                if (ie) {\r\n                    doc.body.disabled = true;\r\n                    doc.body.contentEditable = true;\r\n                    doc.body.disabled = false;\r\n                } else {\r\n                    doc.body.contentEditable = true;\r\n                }\r\n                doc.body.spellcheck = false;\r\n                me.document = doc;\r\n                me.window = doc.defaultView || doc.parentWindow;\r\n                me.iframe = me.window.frameElement;\r\n                me.body = doc.body;\r\n                me.selection = new dom.Selection(doc);\r\n                //gecko初始化就能得到range,无法判断isFocus了\r\n                var geckoSel;\r\n                if (browser.gecko && (geckoSel = this.selection.getNative())) {\r\n                    geckoSel.removeAllRanges();\r\n                }\r\n                this._initEvents();\r\n                //为form提交提供一个隐藏的textarea\r\n                for (var form = this.iframe.parentNode; !domUtils.isBody(form); form = form.parentNode) {\r\n                    if (form.tagName == 'FORM') {\r\n                        me.form = form;\r\n                        if (me.options.autoSyncData) {\r\n                            domUtils.on(me.window, 'blur', function() {\r\n                                setValue(form, me);\r\n                            });\r\n                        } else {\r\n                            domUtils.on(form, 'submit', function() {\r\n                                setValue(this, me);\r\n                            });\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                if (options.initialContent) {\r\n                    if (options.autoClearinitialContent) {\r\n                        var oldExecCommand = me.execCommand;\r\n                        me.execCommand = function() {\r\n                            me.fireEvent('firstBeforeExecCommand');\r\n                            return oldExecCommand.apply(me, arguments);\r\n                        };\r\n                        this._setDefaultContent(options.initialContent);\r\n                    } else\r\n                        this.setContent(options.initialContent, false, true);\r\n                }\r\n\r\n                //编辑器不能为空内容\r\n\r\n                if (domUtils.isEmptyNode(me.body)) {\r\n                    me.body.innerHTML = '<p>' + (browser.ie ? '' : '<br/>') + '</p>';\r\n                }\r\n                //如果要求focus, 就把光标定位到内容开始\r\n                if (options.focus) {\r\n                    setTimeout(function() {\r\n                        me.focus(me.options.focusInEnd);\r\n                        //如果自动清除开着，就不需要做selectionchange;\r\n                        !me.options.autoClearinitialContent && me._selectionChange();\r\n                    }, 0);\r\n                }\r\n                if (!me.container) {\r\n                    me.container = this.iframe.parentNode;\r\n                }\r\n                if (options.fullscreen && me.ui) {\r\n                    me.ui.setFullScreen(true);\r\n                }\r\n\r\n                try {\r\n                    me.document.execCommand('2D-position', false, false);\r\n                } catch (e) {}\r\n                try {\r\n                    me.document.execCommand('enableInlineTableEditing', false, false);\r\n                } catch (e) {}\r\n                try {\r\n                    me.document.execCommand('enableObjectResizing', false, false);\r\n                } catch (e) {}\r\n\r\n                //挂接快捷键\r\n                me._bindshortcutKeys();\r\n                me.isReady = 1;\r\n                me.fireEvent('ready');\r\n                options.onready && options.onready.call(me);\r\n                if (!browser.ie9below) {\r\n                    domUtils.on(me.window, ['blur', 'focus'], function(e) {\r\n                        //chrome下会出现alt+tab切换时，导致选区位置不对\r\n                        if (e.type == 'blur') {\r\n                            me._bakRange = me.selection.getRange();\r\n                            try {\r\n                                me._bakNativeRange = me.selection.getNative().getRangeAt(0);\r\n                                me.selection.getNative().removeAllRanges();\r\n                            } catch (e) {\r\n                                me._bakNativeRange = null;\r\n                            }\r\n\r\n                        } else {\r\n                            try {\r\n                                me._bakRange && me._bakRange.select();\r\n                            } catch (e) {}\r\n                        }\r\n                    });\r\n                }\r\n                //trace:1518 ff3.6body不够寛，会导致点击空白处无法获得焦点\r\n                if (browser.gecko && browser.version <= 10902) {\r\n                    //修复ff3.6初始化进来，不能点击获得焦点\r\n                    me.body.contentEditable = false;\r\n                    setTimeout(function() {\r\n                        me.body.contentEditable = true;\r\n                    }, 100);\r\n                    setInterval(function() {\r\n                        me.body.style.height = me.iframe.offsetHeight - 20 + 'px'\r\n                    }, 100)\r\n                }\r\n\r\n                !options.isShow && me.setHide();\r\n                options.readonly && me.setDisabled();\r\n            },\r\n\r\n            /**\r\n             * 同步数据到编辑器所在的form\r\n             * 从编辑器的容器节点向上查找form元素，若找到，就同步编辑内容到找到的form里，为提交数据做准备，主要用于是手动提交的情况\r\n             * 后台取得数据的键值，使用你容器上的name属性，如果没有就使用参数里的textarea项\r\n             * @method sync\r\n             * @example\r\n             * ```javascript\r\n             * editor.sync();\r\n             * form.sumbit(); //form变量已经指向了form元素\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 根据传入的formId，在页面上查找要同步数据的表单，若找到，就同步编辑内容到找到的form里，为提交数据做准备\r\n             * 后台取得数据的键值，该键值默认使用给定的编辑器容器的name属性，如果没有name属性则使用参数项里给定的“textarea”项\r\n             * @method sync\r\n             * @param { String } formID 指定一个要同步数据的form的id,编辑器的数据会同步到你指定form下\r\n             */\r\n            sync: function(formId) {\r\n                var me = this,\r\n                    form = formId ? document.getElementById(formId) :\r\n                    domUtils.findParent(me.iframe.parentNode, function(node) {\r\n                        return node.tagName == 'FORM'\r\n                    }, true);\r\n                form && setValue(form, me);\r\n            },\r\n\r\n            /**\r\n             * 设置编辑器高度\r\n             * @method setHeight\r\n             * @remind 当配置项autoHeightEnabled为真时,该方法无效\r\n             * @param { Number } number 设置的高度值，纯数值，不带单位\r\n             * @example\r\n             * ```javascript\r\n             * editor.setHeight(number);\r\n             * ```\r\n             */\r\n            setHeight: function(height, notSetHeight) {\r\n                if (height !== parseInt(this.iframe.parentNode.style.height)) {\r\n                    this.iframe.parentNode.style.height = height + 'px';\r\n                }!notSetHeight && (this.options.minFrameHeight = this.options.initialFrameHeight = height);\r\n                this.body.style.height = height + 'px';\r\n                !notSetHeight && this.trigger('setHeight')\r\n            },\r\n\r\n            /**\r\n             * 为编辑器的编辑命令提供快捷键\r\n             * 这个接口是为插件扩展提供的接口,主要是为新添加的插件，如果需要添加快捷键，所提供的接口\r\n             * @method addshortcutkey\r\n             * @param { Object } keyset 命令名和快捷键键值对对象，多个按钮的快捷键用“＋”分隔\r\n             * @example\r\n             * ```javascript\r\n             * editor.addshortcutkey({\r\n             *     \"Bold\" : \"ctrl+66\",//^B\r\n             *     \"Italic\" : \"ctrl+73\", //^I\r\n             * });\r\n             * ```\r\n             */\r\n            /**\r\n             * 这个接口是为插件扩展提供的接口,主要是为新添加的插件，如果需要添加快捷键，所提供的接口\r\n             * @method addshortcutkey\r\n             * @param { String } cmd 触发快捷键时，响应的命令\r\n             * @param { String } keys 快捷键的字符串，多个按钮用“＋”分隔\r\n             * @example\r\n             * ```javascript\r\n             * editor.addshortcutkey(\"Underline\", \"ctrl+85\"); //^U\r\n             * ```\r\n             */\r\n            addshortcutkey: function(cmd, keys) {\r\n                var obj = {};\r\n                if (keys) {\r\n                    obj[cmd] = keys\r\n                } else {\r\n                    obj = cmd;\r\n                }\r\n                utils.extend(this.shortcutkeys, obj)\r\n            },\r\n\r\n            /**\r\n             * 对编辑器设置keydown事件监听，绑定快捷键和命令，当快捷键组合触发成功，会响应对应的命令\r\n             * @method _bindshortcutKeys\r\n             * @private\r\n             */\r\n            _bindshortcutKeys: function() {\r\n                var me = this,\r\n                    shortcutkeys = this.shortcutkeys;\r\n                me.addListener('keydown', function(type, e) {\r\n                    var keyCode = e.keyCode || e.which;\r\n                    for (var i in shortcutkeys) {\r\n                        var tmp = shortcutkeys[i].split(',');\r\n                        for (var t = 0, ti; ti = tmp[t++];) {\r\n                            ti = ti.split(':');\r\n                            var key = ti[0],\r\n                                param = ti[1];\r\n                            if (/^(ctrl)(\\+shift)?\\+(\\d+)$/.test(key.toLowerCase()) || /^(\\d+)$/.test(key)) {\r\n                                if (((RegExp.$1 == 'ctrl' ? (e.ctrlKey || e.metaKey) : 0) &&\r\n                                        (RegExp.$2 != \"\" ? e[RegExp.$2.slice(1) + \"Key\"] : 1) &&\r\n                                        keyCode == RegExp.$3\r\n                                    ) ||\r\n                                    keyCode == RegExp.$1\r\n                                ) {\r\n                                    if (me.queryCommandState(i, param) != -1)\r\n                                        me.execCommand(i, param);\r\n                                    domUtils.preventDefault(e);\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                });\r\n            },\r\n\r\n            /**\r\n             * 获取编辑器的内容\r\n             * @method getContent\r\n             * @warning 该方法获取到的是经过编辑器内置的过滤规则进行过滤后得到的内容\r\n             * @return { String } 编辑器的内容字符串, 如果编辑器的内容为空，或者是空的标签内容（如:”&lt;p&gt;&lt;br/&gt;&lt;/p&gt;“）， 则返回空字符串\r\n             * @example\r\n             * ```javascript\r\n             * //编辑器html内容:<p>1<strong>2<em>34</em>5</strong>6</p>\r\n             * var content = editor.getContent(); //返回值:<p>1<strong>2<em>34</em>5</strong>6</p>\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 获取编辑器的内容。 可以通过参数定义编辑器内置的判空规则\r\n             * @method getContent\r\n             * @param { Function } fn 自定的判空规则， 要求该方法返回一个boolean类型的值，\r\n             *                      代表当前编辑器的内容是否空，\r\n             *                      如果返回true， 则该方法将直接返回空字符串；如果返回false，则编辑器将返回\r\n             *                      经过内置过滤规则处理后的内容。\r\n             * @remind 该方法在处理包含有初始化内容的时候能起到很好的作用。\r\n             * @warning 该方法获取到的是经过编辑器内置的过滤规则进行过滤后得到的内容\r\n             * @return { String } 编辑器的内容字符串\r\n             * @example\r\n             * ```javascript\r\n             * // editor 是一个编辑器的实例\r\n             * var content = editor.getContent( function ( editor ) {\r\n             *      return editor.body.innerHTML === '欢迎使用UEditor'; //返回空字符串\r\n             * } );\r\n             * ```\r\n             */\r\n            getContent: function(cmd, fn, notSetCursor, ignoreBlank, formatter) {\r\n                var me = this;\r\n                if (cmd && utils.isFunction(cmd)) {\r\n                    fn = cmd;\r\n                    cmd = '';\r\n                }\r\n                if (fn ? !fn() : !this.hasContents()) {\r\n                    return '';\r\n                }\r\n                me.fireEvent('beforegetcontent');\r\n                var root = UE.htmlparser(me.body.innerHTML, ignoreBlank);\r\n                me.filterOutputRule(root);\r\n                me.fireEvent('aftergetcontent', cmd, root);\r\n                return root.toHtml(formatter);\r\n            },\r\n\r\n            /**\r\n             * 取得完整的html代码，可以直接显示成完整的html文档\r\n             * @method getAllHtml\r\n             * @return { String } 编辑器的内容html文档字符串\r\n             * @eaxmple\r\n             * ```javascript\r\n             * editor.getAllHtml(); //返回格式大致是: <html><head>...</head><body>...</body></html>\r\n             * ```\r\n             */\r\n            getAllHtml: function() {\r\n                var me = this,\r\n                    headHtml = [],\r\n                    html = '';\r\n                me.fireEvent('getAllHtml', headHtml);\r\n                if (browser.ie && browser.version > 8) {\r\n                    var headHtmlForIE9 = '';\r\n                    utils.each(me.document.styleSheets, function(si) {\r\n                        headHtmlForIE9 += (si.href ? '<link rel=\"stylesheet\" type=\"text/css\" href=\"' + si.href + '\" />' : '<style>' + si.cssText + '</style>');\r\n                    });\r\n                    utils.each(me.document.getElementsByTagName('script'), function(si) {\r\n                        headHtmlForIE9 += si.outerHTML;\r\n                    });\r\n\r\n                }\r\n                return '<html><head>' + (me.options.charset ? '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=' + me.options.charset + '\"/>' : '') +\r\n                    (headHtmlForIE9 || me.document.getElementsByTagName('head')[0].innerHTML) + headHtml.join('\\n') + '</head>' +\r\n                    '<body ' + (ie && browser.version < 9 ? 'class=\"view\"' : '') + '>' + me.getContent(null, null, true) + '</body></html>';\r\n            },\r\n\r\n            /**\r\n             * 得到编辑器的纯文本内容，但会保留段落格式\r\n             * @method getPlainTxt\r\n             * @return { String } 编辑器带段落格式的纯文本内容字符串\r\n             * @example\r\n             * ```javascript\r\n             * //编辑器html内容:<p><strong>1</strong></p><p><strong>2</strong></p>\r\n             * console.log(editor.getPlainTxt()); //输出:\"1\\n2\\n\r\n             * ```\r\n             */\r\n            getPlainTxt: function() {\r\n                var reg = new RegExp(domUtils.fillChar, 'g'),\r\n                    html = this.body.innerHTML.replace(/[\\n\\r]/g, ''); //ie要先去了\\n在处理\r\n                html = html.replace(/<(p|div)[^>]*>(<br\\/?>|&nbsp;)<\\/\\1>/gi, '\\n')\r\n                    .replace(/<br\\/?>/gi, '\\n')\r\n                    .replace(/<[^>/]+>/g, '')\r\n                    .replace(/(\\n)?<\\/([^>]+)>/g, function(a, b, c) {\r\n                        return dtd.$block[c] ? '\\n' : b ? b : '';\r\n                    });\r\n                //取出来的空格会有c2a0会变成乱码，处理这种情况\\u00a0\r\n                return html.replace(reg, '').replace(/\\u00a0/g, ' ').replace(/&nbsp;/g, ' ');\r\n            },\r\n\r\n            /**\r\n             * 获取编辑器中的纯文本内容,没有段落格式\r\n             * @method getContentTxt\r\n             * @return { String } 编辑器不带段落格式的纯文本内容字符串\r\n             * @example\r\n             * ```javascript\r\n             * //编辑器html内容:<p><strong>1</strong></p><p><strong>2</strong></p>\r\n             * console.log(editor.getPlainTxt()); //输出:\"12\r\n             * ```\r\n             */\r\n            getContentTxt: function() {\r\n                var reg = new RegExp(domUtils.fillChar, 'g');\r\n                //取出来的空格会有c2a0会变成乱码，处理这种情况\\u00a0\r\n                return this.body[browser.ie ? 'innerText' : 'textContent'].replace(reg, '').replace(/\\u00a0/g, ' ');\r\n            },\r\n\r\n            /**\r\n             * 设置编辑器的内容，可修改编辑器当前的html内容\r\n             * @method setContent\r\n             * @warning 通过该方法插入的内容，是经过编辑器内置的过滤规则进行过滤后得到的内容\r\n             * @warning 该方法会触发selectionchange事件\r\n             * @param { String } html 要插入的html内容\r\n             * @example\r\n             * ```javascript\r\n             * editor.getContent('<p>test</p>');\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 设置编辑器的内容，可修改编辑器当前的html内容\r\n             * @method setContent\r\n             * @warning 通过该方法插入的内容，是经过编辑器内置的过滤规则进行过滤后得到的内容\r\n             * @warning 该方法会触发selectionchange事件\r\n             * @param { String } html 要插入的html内容\r\n             * @param { Boolean } isAppendTo 若传入true，不清空原来的内容，在最后插入内容，否则，清空内容再插入\r\n             * @example\r\n             * ```javascript\r\n             * //假设设置前的编辑器内容是 <p>old text</p>\r\n             * editor.setContent('<p>new text</p>', true); //插入的结果是<p>old text</p><p>new text</p>\r\n             * ```\r\n             */\r\n            setContent: function(html, isAppendTo, notFireSelectionchange) {\r\n                var me = this;\r\n\r\n                me.fireEvent('beforesetcontent', html);\r\n                var root = UE.htmlparser(html);\r\n                me.filterInputRule(root);\r\n                html = root.toHtml();\r\n\r\n                me.body.innerHTML = (isAppendTo ? me.body.innerHTML : '') + html;\r\n\r\n\r\n                function isCdataDiv(node) {\r\n                    return node.tagName == 'DIV' && node.getAttribute('cdata_tag');\r\n                }\r\n                //给文本或者inline节点套p标签\r\n                if (me.options.enterTag == 'p') {\r\n\r\n                    var child = this.body.firstChild,\r\n                        tmpNode;\r\n                    if (!child || child.nodeType == 1 &&\r\n                        (dtd.$cdata[child.tagName] || isCdataDiv(child) ||\r\n                            domUtils.isCustomeNode(child)\r\n                        ) &&\r\n                        child === this.body.lastChild) {\r\n                        this.body.innerHTML = '<p>' + (browser.ie ? '&nbsp;' : '<br/>') + '</p>' + this.body.innerHTML;\r\n\r\n                    } else {\r\n                        var p = me.document.createElement('p');\r\n                        while (child) {\r\n                            while (child && (child.nodeType == 3 || child.nodeType == 1 && dtd.p[child.tagName] && !dtd.$cdata[child.tagName])) {\r\n                                tmpNode = child.nextSibling;\r\n                                p.appendChild(child);\r\n                                child = tmpNode;\r\n                            }\r\n                            if (p.firstChild) {\r\n                                if (!child) {\r\n                                    me.body.appendChild(p);\r\n                                    break;\r\n                                } else {\r\n                                    child.parentNode.insertBefore(p, child);\r\n                                    p = me.document.createElement('p');\r\n                                }\r\n                            }\r\n                            child = child.nextSibling;\r\n                        }\r\n                    }\r\n                }\r\n                me.fireEvent('aftersetcontent');\r\n                me.fireEvent('contentchange');\r\n\r\n                !notFireSelectionchange && me._selectionChange();\r\n                //清除保存的选区\r\n                me._bakRange = me._bakIERange = me._bakNativeRange = null;\r\n                //trace:1742 setContent后gecko能得到焦点问题\r\n                var geckoSel;\r\n                if (browser.gecko && (geckoSel = this.selection.getNative())) {\r\n                    geckoSel.removeAllRanges();\r\n                }\r\n                if (me.options.autoSyncData) {\r\n                    me.form && setValue(me.form, me);\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 让编辑器获得焦点，默认focus到编辑器头部\r\n             * @method focus\r\n             * @example\r\n             * ```javascript\r\n             * editor.focus()\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 让编辑器获得焦点，toEnd确定focus位置\r\n             * @method focus\r\n             * @param { Boolean } toEnd 默认focus到编辑器头部，toEnd为true时focus到内容尾部\r\n             * @example\r\n             * ```javascript\r\n             * editor.focus(true)\r\n             * ```\r\n             */\r\n            focus: function(toEnd) {\r\n                try {\r\n                    var me = this,\r\n                        rng = me.selection.getRange();\r\n                    if (toEnd) {\r\n                        var node = me.body.lastChild;\r\n                        if (node && node.nodeType == 1 && !dtd.$empty[node.tagName]) {\r\n                            if (domUtils.isEmptyBlock(node)) {\r\n                                rng.setStartAtFirst(node)\r\n                            } else {\r\n                                rng.setStartAtLast(node)\r\n                            }\r\n                            rng.collapse(true);\r\n                        }\r\n                        rng.setCursor(true);\r\n                    } else {\r\n                        if (!rng.collapsed && domUtils.isBody(rng.startContainer) && rng.startOffset == 0) {\r\n\r\n                            var node = me.body.firstChild;\r\n                            if (node && node.nodeType == 1 && !dtd.$empty[node.tagName]) {\r\n                                rng.setStartAtFirst(node).collapse(true);\r\n                            }\r\n                        }\r\n\r\n                        rng.select(true);\r\n\r\n                    }\r\n                    this.fireEvent('focus selectionchange');\r\n                } catch (e) {}\r\n\r\n            },\r\n            isFocus: function() {\r\n                return this.selection.isFocus();\r\n            },\r\n            blur: function() {\r\n                var sel = this.selection.getNative();\r\n                if (sel.empty && browser.ie) {\r\n                    var nativeRng = document.body.createTextRange();\r\n                    nativeRng.moveToElementText(document.body);\r\n                    nativeRng.collapse(true);\r\n                    nativeRng.select();\r\n                    sel.empty()\r\n                } else {\r\n                    sel.removeAllRanges()\r\n                }\r\n\r\n                //this.fireEvent('blur selectionchange');\r\n            },\r\n            /**\r\n             * 初始化UE事件及部分事件代理\r\n             * @method _initEvents\r\n             * @private\r\n             */\r\n            _initEvents: function() {\r\n                var me = this,\r\n                    doc = me.document,\r\n                    win = me.window;\r\n                me._proxyDomEvent = utils.bind(me._proxyDomEvent, me);\r\n                domUtils.on(doc, ['click', 'contextmenu', 'mousedown', 'keydown', 'keyup', 'keypress', 'mouseup', 'mouseover', 'mouseout', 'selectstart'], me._proxyDomEvent);\r\n                domUtils.on(win, ['focus', 'blur'], me._proxyDomEvent);\r\n                domUtils.on(me.body, 'drop', function(e) {\r\n                    //阻止ff下默认的弹出新页面打开图片\r\n                    if (browser.gecko && e.stopPropagation) { e.stopPropagation(); }\r\n                    me.fireEvent('contentchange')\r\n                });\r\n                domUtils.on(doc, ['mouseup', 'keydown'], function(evt) {\r\n                    //特殊键不触发selectionchange\r\n                    if (evt.type == 'keydown' && (evt.ctrlKey || evt.metaKey || evt.shiftKey || evt.altKey)) {\r\n                        return;\r\n                    }\r\n                    if (evt.button == 2) return;\r\n                    me._selectionChange(250, evt);\r\n                });\r\n            },\r\n            /**\r\n             * 触发事件代理\r\n             * @method _proxyDomEvent\r\n             * @private\r\n             * @return { * } fireEvent的返回值\r\n             * @see UE.EventBase:fireEvent(String)\r\n             */\r\n            _proxyDomEvent: function(evt) {\r\n                if (this.fireEvent('before' + evt.type.replace(/^on/, '').toLowerCase()) === false) {\r\n                    return false;\r\n                }\r\n                if (this.fireEvent(evt.type.replace(/^on/, ''), evt) === false) {\r\n                    return false;\r\n                }\r\n                return this.fireEvent('after' + evt.type.replace(/^on/, '').toLowerCase())\r\n            },\r\n            /**\r\n             * 变化选区\r\n             * @method _selectionChange\r\n             * @private\r\n             */\r\n            _selectionChange: function(delay, evt) {\r\n                var me = this;\r\n                //有光标才做selectionchange 为了解决未focus时点击source不能触发更改工具栏状态的问题（source命令notNeedUndo=1）\r\n                //            if ( !me.selection.isFocus() ){\r\n                //                return;\r\n                //            }\r\n\r\n\r\n                var hackForMouseUp = false;\r\n                var mouseX, mouseY;\r\n                if (browser.ie && browser.version < 9 && evt && evt.type == 'mouseup') {\r\n                    var range = this.selection.getRange();\r\n                    if (!range.collapsed) {\r\n                        hackForMouseUp = true;\r\n                        mouseX = evt.clientX;\r\n                        mouseY = evt.clientY;\r\n                    }\r\n                }\r\n                clearTimeout(_selectionChangeTimer);\r\n                _selectionChangeTimer = setTimeout(function() {\r\n                    if (!me.selection || !me.selection.getNative()) {\r\n                        return;\r\n                    }\r\n                    //修复一个IE下的bug: 鼠标点击一段已选择的文本中间时，可能在mouseup后的一段时间内取到的range是在selection的type为None下的错误值.\r\n                    //IE下如果用户是拖拽一段已选择文本，则不会触发mouseup事件，所以这里的特殊处理不会对其有影响\r\n                    var ieRange;\r\n                    if (hackForMouseUp && me.selection.getNative().type == 'None') {\r\n                        ieRange = me.document.body.createTextRange();\r\n                        try {\r\n                            ieRange.moveToPoint(mouseX, mouseY);\r\n                        } catch (ex) {\r\n                            ieRange = null;\r\n                        }\r\n                    }\r\n                    var bakGetIERange;\r\n                    if (ieRange) {\r\n                        bakGetIERange = me.selection.getIERange;\r\n                        me.selection.getIERange = function() {\r\n                            return ieRange;\r\n                        };\r\n                    }\r\n                    me.selection.cache();\r\n                    if (bakGetIERange) {\r\n                        me.selection.getIERange = bakGetIERange;\r\n                    }\r\n                    if (me.selection._cachedRange && me.selection._cachedStartElement) {\r\n                        me.fireEvent('beforeselectionchange');\r\n                        // 第二个参数causeByUi为true代表由用户交互造成的selectionchange.\r\n                        me.fireEvent('selectionchange', !!evt);\r\n                        me.fireEvent('afterselectionchange');\r\n                        me.selection.clear();\r\n                    }\r\n                }, delay || 50);\r\n            },\r\n\r\n            /**\r\n             * 执行编辑命令\r\n             * @method _callCmdFn\r\n             * @private\r\n             * @param { String } fnName 函数名称\r\n             * @param { * } args 传给命令函数的参数\r\n             * @return { * } 返回命令函数运行的返回值\r\n             */\r\n            _callCmdFn: function(fnName, args) {\r\n                var cmdName = args[0].toLowerCase(),\r\n                    cmd, cmdFn;\r\n                cmd = this.commands[cmdName] || UE.commands[cmdName];\r\n                cmdFn = cmd && cmd[fnName];\r\n                //没有querycommandstate或者没有command的都默认返回0\r\n                if ((!cmd || !cmdFn) && fnName == 'queryCommandState') {\r\n                    return 0;\r\n                } else if (cmdFn) {\r\n                    return cmdFn.apply(this, args);\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 执行编辑命令cmdName，完成富文本编辑效果\r\n             * @method execCommand\r\n             * @param { String } cmdName 需要执行的命令\r\n             * @remind 具体命令的使用请参考<a href=\"#COMMAND.LIST\">命令列表</a>\r\n             * @return { * } 返回命令函数运行的返回值\r\n             * @example\r\n             * ```javascript\r\n             * editor.execCommand(cmdName);\r\n             * ```\r\n             */\r\n            execCommand: function(cmdName) {\r\n                cmdName = cmdName.toLowerCase();\r\n                var me = this,\r\n                    result,\r\n                    cmd = me.commands[cmdName] || UE.commands[cmdName];\r\n                if (!cmd || !cmd.execCommand) {\r\n                    return null;\r\n                }\r\n                if (!cmd.notNeedUndo && !me.__hasEnterExecCommand) {\r\n                    me.__hasEnterExecCommand = true;\r\n                    if (me.queryCommandState.apply(me, arguments) != -1) {\r\n                        me.fireEvent('saveScene');\r\n                        me.fireEvent.apply(me, ['beforeexeccommand', cmdName].concat(arguments));\r\n                        result = this._callCmdFn('execCommand', arguments);\r\n                        //保存场景时，做了内容对比，再看是否进行contentchange触发，这里多触发了一次，去掉\r\n                        //                    (!cmd.ignoreContentChange && !me._ignoreContentChange) && me.fireEvent('contentchange');\r\n                        me.fireEvent.apply(me, ['afterexeccommand', cmdName].concat(arguments));\r\n                        me.fireEvent('saveScene');\r\n                    }\r\n                    me.__hasEnterExecCommand = false;\r\n                } else {\r\n                    result = this._callCmdFn('execCommand', arguments);\r\n                    (!me.__hasEnterExecCommand && !cmd.ignoreContentChange && !me._ignoreContentChange) && me.fireEvent('contentchange')\r\n                }\r\n                (!me.__hasEnterExecCommand && !cmd.ignoreContentChange && !me._ignoreContentChange) && me._selectionChange();\r\n                return result;\r\n            },\r\n\r\n            /**\r\n             * 根据传入的command命令，查选编辑器当前的选区，返回命令的状态\r\n             * @method  queryCommandState\r\n             * @param { String } cmdName 需要查询的命令名称\r\n             * @remind 具体命令的使用请参考<a href=\"#COMMAND.LIST\">命令列表</a>\r\n             * @return { Number } number 返回放前命令的状态，返回值三种情况：(-1|0|1)\r\n             * @example\r\n             * ```javascript\r\n             * editor.queryCommandState(cmdName)  => (-1|0|1)\r\n             * ```\r\n             * @see COMMAND.LIST\r\n             */\r\n            queryCommandState: function(cmdName) {\r\n                return this._callCmdFn('queryCommandState', arguments);\r\n            },\r\n\r\n            /**\r\n             * 根据传入的command命令，查选编辑器当前的选区，根据命令返回相关的值\r\n             * @method queryCommandValue\r\n             * @param { String } cmdName 需要查询的命令名称\r\n             * @remind 具体命令的使用请参考<a href=\"#COMMAND.LIST\">命令列表</a>\r\n             * @remind 只有部分插件有此方法\r\n             * @return { * } 返回每个命令特定的当前状态值\r\n             * @grammar editor.queryCommandValue(cmdName)  =>  {*}\r\n             * @see COMMAND.LIST\r\n             */\r\n            queryCommandValue: function(cmdName) {\r\n                return this._callCmdFn('queryCommandValue', arguments);\r\n            },\r\n\r\n            /**\r\n             * 检查编辑区域中是否有内容\r\n             * @method  hasContents\r\n             * @remind 默认有文本内容，或者有以下节点都不认为是空\r\n             * table,ul,ol,dl,iframe,area,base,col,hr,img,embed,input,link,meta,param\r\n             * @return { Boolean } 检查有内容返回true，否则返回false\r\n             * @example\r\n             * ```javascript\r\n             * editor.hasContents()\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 检查编辑区域中是否有内容，若包含参数tags中的节点类型，直接返回true\r\n             * @method  hasContents\r\n             * @param { Array } tags 传入数组判断时用到的节点类型\r\n             * @return { Boolean } 若文档中包含tags数组里对应的tag，返回true，否则返回false\r\n             * @example\r\n             * ```javascript\r\n             * editor.hasContents(['span']);\r\n             * ```\r\n             */\r\n            hasContents: function(tags) {\r\n                if (tags) {\r\n                    for (var i = 0, ci; ci = tags[i++];) {\r\n                        if (this.document.getElementsByTagName(ci).length > 0) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n                if (!domUtils.isEmptyBlock(this.body)) {\r\n                    return true\r\n                }\r\n                //随时添加,定义的特殊标签如果存在，不能认为是空\r\n                tags = ['div'];\r\n                for (i = 0; ci = tags[i++];) {\r\n                    var nodes = domUtils.getElementsByTagName(this.document, ci);\r\n                    for (var n = 0, cn; cn = nodes[n++];) {\r\n                        if (domUtils.isCustomeNode(cn)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n                return false;\r\n            },\r\n\r\n            /**\r\n             * 重置编辑器，可用来做多个tab使用同一个编辑器实例\r\n             * @method  reset\r\n             * @remind 此方法会清空编辑器内容，清空回退列表，会触发reset事件\r\n             * @example\r\n             * ```javascript\r\n             * editor.reset()\r\n             * ```\r\n             */\r\n            reset: function() {\r\n                this.fireEvent('reset');\r\n            },\r\n\r\n            /**\r\n             * 设置当前编辑区域可以编辑\r\n             * @method setEnabled\r\n             * @example\r\n             * ```javascript\r\n             * editor.setEnabled()\r\n             * ```\r\n             */\r\n            setEnabled: function() {\r\n                var me = this,\r\n                    range;\r\n                if (me.body.contentEditable == 'false') {\r\n                    me.body.contentEditable = true;\r\n                    range = me.selection.getRange();\r\n                    //有可能内容丢失了\r\n                    try {\r\n                        range.moveToBookmark(me.lastBk);\r\n                        delete me.lastBk\r\n                    } catch (e) {\r\n                        range.setStartAtFirst(me.body).collapse(true)\r\n                    }\r\n                    range.select(true);\r\n                    if (me.bkqueryCommandState) {\r\n                        me.queryCommandState = me.bkqueryCommandState;\r\n                        delete me.bkqueryCommandState;\r\n                    }\r\n                    if (me.bkqueryCommandValue) {\r\n                        me.queryCommandValue = me.bkqueryCommandValue;\r\n                        delete me.bkqueryCommandValue;\r\n                    }\r\n                    me.fireEvent('selectionchange');\r\n                }\r\n            },\r\n            enable: function() {\r\n                return this.setEnabled();\r\n            },\r\n\r\n            /** 设置当前编辑区域不可编辑\r\n             * @method setDisabled\r\n             */\r\n\r\n            /** 设置当前编辑区域不可编辑,except中的命令除外\r\n             * @method setDisabled\r\n             * @param { String } except 例外命令的字符串\r\n             * @remind 即使设置了disable，此处配置的例外命令仍然可以执行\r\n             * @example\r\n             * ```javascript\r\n             * editor.setDisabled('bold'); //禁用工具栏中除加粗之外的所有功能\r\n             * ```\r\n             */\r\n\r\n            /** 设置当前编辑区域不可编辑,except中的命令除外\r\n             * @method setDisabled\r\n             * @param { Array } except 例外命令的字符串数组，数组中的命令仍然可以执行\r\n             * @remind 即使设置了disable，此处配置的例外命令仍然可以执行\r\n             * @example\r\n             * ```javascript\r\n             * editor.setDisabled(['bold','insertimage']); //禁用工具栏中除加粗和插入图片之外的所有功能\r\n             * ```\r\n             */\r\n            setDisabled: function(except) {\r\n                var me = this;\r\n                except = except ? utils.isArray(except) ? except : [except] : [];\r\n                if (me.body.contentEditable == 'true') {\r\n                    if (!me.lastBk) {\r\n                        me.lastBk = me.selection.getRange().createBookmark(true);\r\n                    }\r\n                    me.body.contentEditable = false;\r\n                    me.bkqueryCommandState = me.queryCommandState;\r\n                    me.bkqueryCommandValue = me.queryCommandValue;\r\n                    me.queryCommandState = function(type) {\r\n                        if (utils.indexOf(except, type) != -1) {\r\n                            return me.bkqueryCommandState.apply(me, arguments);\r\n                        }\r\n                        return -1;\r\n                    };\r\n                    me.queryCommandValue = function(type) {\r\n                        if (utils.indexOf(except, type) != -1) {\r\n                            return me.bkqueryCommandValue.apply(me, arguments);\r\n                        }\r\n                        return null;\r\n                    };\r\n                    me.fireEvent('selectionchange');\r\n                }\r\n            },\r\n            disable: function(except) {\r\n                return this.setDisabled(except);\r\n            },\r\n\r\n            /**\r\n             * 设置默认内容\r\n             * @method _setDefaultContent\r\n             * @private\r\n             * @param  { String } cont 要存入的内容\r\n             */\r\n            _setDefaultContent: function() {\r\n                function clear() {\r\n                    var me = this;\r\n                    if (me.document.getElementById('initContent')) {\r\n                        me.body.innerHTML = '<p>' + (ie ? '' : '<br/>') + '</p>';\r\n                        me.removeListener('firstBeforeExecCommand focus', clear);\r\n                        setTimeout(function() {\r\n                            me.focus();\r\n                            me._selectionChange();\r\n                        }, 0)\r\n                    }\r\n                }\r\n\r\n                return function(cont) {\r\n                    var me = this;\r\n                    me.body.innerHTML = '<p id=\"initContent\">' + cont + '</p>';\r\n\r\n                    me.addListener('firstBeforeExecCommand focus', clear);\r\n                }\r\n            }(),\r\n\r\n            /**\r\n             * 显示编辑器\r\n             * @method setShow\r\n             * @example\r\n             * ```javascript\r\n             * editor.setShow()\r\n             * ```\r\n             */\r\n            setShow: function() {\r\n                var me = this,\r\n                    range = me.selection.getRange();\r\n                if (me.container.style.display == 'none') {\r\n                    //有可能内容丢失了\r\n                    try {\r\n                        range.moveToBookmark(me.lastBk);\r\n                        delete me.lastBk\r\n                    } catch (e) {\r\n                        range.setStartAtFirst(me.body).collapse(true)\r\n                    }\r\n                    //ie下focus实效，所以做了个延迟\r\n                    setTimeout(function() {\r\n                        range.select(true);\r\n                    }, 100);\r\n                    me.container.style.display = '';\r\n                }\r\n\r\n            },\r\n            show: function() {\r\n                return this.setShow();\r\n            },\r\n            /**\r\n             * 隐藏编辑器\r\n             * @method setHide\r\n             * @example\r\n             * ```javascript\r\n             * editor.setHide()\r\n             * ```\r\n             */\r\n            setHide: function() {\r\n                var me = this;\r\n                if (!me.lastBk) {\r\n                    me.lastBk = me.selection.getRange().createBookmark(true);\r\n                }\r\n                me.container.style.display = 'none'\r\n            },\r\n            hide: function() {\r\n                return this.setHide();\r\n            },\r\n\r\n            /**\r\n             * 根据指定的路径，获取对应的语言资源\r\n             * @method getLang\r\n             * @param { String } path 路径根据的是lang目录下的语言文件的路径结构\r\n             * @return { Object | String } 根据路径返回语言资源的Json格式对象或者语言字符串\r\n             * @example\r\n             * ```javascript\r\n             * editor.getLang('contextMenu.delete'); //如果当前是中文，那返回是的是'删除'\r\n             * ```\r\n             */\r\n            getLang: function(path) {\r\n                var lang = UE.I18N[this.options.lang];\r\n                if (!lang) {\r\n                    throw Error(\"not import language file\");\r\n                }\r\n                path = (path || \"\").split(\".\");\r\n                for (var i = 0, ci; ci = path[i++];) {\r\n                    lang = lang[ci];\r\n                    if (!lang) break;\r\n                }\r\n                return lang;\r\n            },\r\n\r\n            /**\r\n             * 计算编辑器html内容字符串的长度\r\n             * @method  getContentLength\r\n             * @return { Number } 返回计算的长度\r\n             * @example\r\n             * ```javascript\r\n             * //编辑器html内容<p><strong>132</strong></p>\r\n             * editor.getContentLength() //返回27\r\n             * ```\r\n             */\r\n            /**\r\n             * 计算编辑器当前纯文本内容的长度\r\n             * @method  getContentLength\r\n             * @param { Boolean } ingoneHtml 传入true时，只按照纯文本来计算\r\n             * @return { Number } 返回计算的长度，内容中有hr/img/iframe标签，长度加1\r\n             * @example\r\n             * ```javascript\r\n             * //编辑器html内容<p><strong>132</strong></p>\r\n             * editor.getContentLength() //返回3\r\n             * ```\r\n             */\r\n            getContentLength: function(ingoneHtml, tagNames) {\r\n                var count = this.getContent(false, false, true).length;\r\n                if (ingoneHtml) {\r\n                    tagNames = (tagNames || []).concat(['hr', 'img', 'iframe']);\r\n                    count = this.getContentTxt().replace(/[\\t\\r\\n]+/g, '').length;\r\n                    for (var i = 0, ci; ci = tagNames[i++];) {\r\n                        count += this.document.getElementsByTagName(ci).length;\r\n                    }\r\n                }\r\n                return count;\r\n            },\r\n\r\n            /**\r\n             * 注册输入过滤规则\r\n             * @method  addInputRule\r\n             * @param { Function } rule 要添加的过滤规则\r\n             * @example\r\n             * ```javascript\r\n             * editor.addInputRule(function(root){\r\n             *   $.each(root.getNodesByTagName('div'),function(i,node){\r\n             *       node.tagName=\"p\";\r\n             *   });\r\n             * });\r\n             * ```\r\n             */\r\n            addInputRule: function(rule) {\r\n                this.inputRules.push(rule);\r\n            },\r\n\r\n            /**\r\n             * 执行注册的过滤规则\r\n             * @method  filterInputRule\r\n             * @param { UE.uNode } root 要过滤的uNode节点\r\n             * @remind 执行editor.setContent方法和执行'inserthtml'命令后，会运行该过滤函数\r\n             * @example\r\n             * ```javascript\r\n             * editor.filterInputRule(editor.body);\r\n             * ```\r\n             * @see UE.Editor:addInputRule\r\n             */\r\n            filterInputRule: function(root) {\r\n                for (var i = 0, ci; ci = this.inputRules[i++];) {\r\n                    ci.call(this, root)\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 注册输出过滤规则\r\n             * @method  addOutputRule\r\n             * @param { Function } rule 要添加的过滤规则\r\n             * @example\r\n             * ```javascript\r\n             * editor.addOutputRule(function(root){\r\n             *   $.each(root.getNodesByTagName('p'),function(i,node){\r\n             *       node.tagName=\"div\";\r\n             *   });\r\n             * });\r\n             * ```\r\n             */\r\n            addOutputRule: function(rule) {\r\n                this.outputRules.push(rule)\r\n            },\r\n\r\n            /**\r\n             * 根据输出过滤规则，过滤编辑器内容\r\n             * @method  filterOutputRule\r\n             * @remind 执行editor.getContent方法的时候，会先运行该过滤函数\r\n             * @param { UE.uNode } root 要过滤的uNode节点\r\n             * @example\r\n             * ```javascript\r\n             * editor.filterOutputRule(editor.body);\r\n             * ```\r\n             * @see UE.Editor:addOutputRule\r\n             */\r\n            filterOutputRule: function(root) {\r\n                for (var i = 0, ci; ci = this.outputRules[i++];) {\r\n                    ci.call(this, root)\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 根据action名称获取请求的路径\r\n             * @method  getActionUrl\r\n             * @remind 假如没有设置serverUrl,会根据imageUrl设置默认的controller路径\r\n             * @param { String } action action名称\r\n             * @example\r\n             * ```javascript\r\n             * editor.getActionUrl('config'); //返回 \"/ueditor/php/controller.php?action=config\"\r\n             * editor.getActionUrl('image'); //返回 \"/ueditor/php/controller.php?action=uplaodimage\"\r\n             * editor.getActionUrl('scrawl'); //返回 \"/ueditor/php/controller.php?action=uplaodscrawl\"\r\n             * editor.getActionUrl('imageManager'); //返回 \"/ueditor/php/controller.php?action=listimage\"\r\n             * ```\r\n             */\r\n            getActionUrl: function(action) {\r\n                var actionName = this.getOpt(action) || action,\r\n                    imageUrl = this.getOpt('imageUrl'),\r\n                    serverUrl = this.getOpt('serverUrl');\r\n\r\n                if (!serverUrl && imageUrl) {\r\n                    serverUrl = imageUrl.replace(/^(.*[\\/]).+([\\.].+)$/, '$1controller$2');\r\n                }\r\n\r\n                if (serverUrl) {\r\n                    serverUrl = serverUrl + (serverUrl.indexOf('?') == -1 ? '?' : '&') + 'action=' + (actionName || '');\r\n                    return utils.formatUrl(serverUrl);\r\n                } else {\r\n                    return '';\r\n                }\r\n            }\r\n        };\r\n        utils.inherits(Editor, EventBase);\r\n    })();\r\n\r\n\r\n    // core/Editor.defaultoptions.js\r\n    //维护编辑器一下默认的不在插件中的配置项\r\n    UE.Editor.defaultOptions = function(editor) {\r\n\r\n        var _url = editor.options.UEDITOR_HOME_URL;\r\n        return {\r\n            isShow: true,\r\n            initialContent: '',\r\n            initialStyle: '',\r\n            autoClearinitialContent: false,\r\n            iframeCssUrl: _url + 'themes/iframe.css',\r\n            textarea: 'editorValue',\r\n            focus: false,\r\n            focusInEnd: true,\r\n            autoClearEmptyNode: true,\r\n            fullscreen: false,\r\n            readonly: false,\r\n            zIndex: 999,\r\n            imagePopup: true,\r\n            enterTag: 'p',\r\n            customDomain: false,\r\n            lang: 'zh-cn',\r\n            langPath: _url + 'lang/',\r\n            theme: 'default',\r\n            themePath: _url + 'themes/',\r\n            allHtmlEnabled: false,\r\n            scaleEnabled: false,\r\n            tableNativeEditInFF: false,\r\n            autoSyncData: true,\r\n            fileNameFormat: '{time}{rand:6}'\r\n        }\r\n    };\r\n\r\n    // core/loadconfig.js\r\n    (function() {\r\n\r\n        UE.Editor.prototype.loadServerConfig = function() {\r\n            var me = this;\r\n            setTimeout(function() {\r\n                try {\r\n                    me.options.imageUrl && me.setOpt('serverUrl', me.options.imageUrl.replace(/^(.*[\\/]).+([\\.].+)$/, '$1controller$2'));\r\n\r\n                    var configUrl = me.getActionUrl('config'),\r\n                        isJsonp = utils.isCrossDomainUrl(configUrl);\r\n\r\n                    /* 发出ajax请求 */\r\n                    me._serverConfigLoaded = false;\r\n\r\n                    configUrl && UE.ajax.request(configUrl, {\r\n                        'method': 'GET',\r\n                        'dataType': isJsonp ? 'jsonp' : '',\r\n                        'onsuccess': function(r) {\r\n                            try {\r\n                                var config = isJsonp ? r : eval(\"(\" + r.responseText + \")\");\r\n                                utils.extend(me.options, config);\r\n                                me.fireEvent('serverConfigLoaded');\r\n                                me._serverConfigLoaded = true;\r\n                            } catch (e) {\r\n                                showErrorMsg(me.getLang('loadconfigFormatError'));\r\n                            }\r\n                        },\r\n                        'onerror': function() {\r\n                            showErrorMsg(me.getLang('loadconfigHttpError'));\r\n                        }\r\n                    });\r\n                } catch (e) {\r\n                    showErrorMsg(me.getLang('loadconfigError'));\r\n                }\r\n            });\r\n\r\n            function showErrorMsg(msg) {\r\n                console && console.error(msg);\r\n                //me.fireEvent('showMessage', {\r\n                //    'title': msg,\r\n                //    'type': 'error'\r\n                //});\r\n            }\r\n        };\r\n\r\n        UE.Editor.prototype.isServerConfigLoaded = function() {\r\n            var me = this;\r\n            return me._serverConfigLoaded || false;\r\n        };\r\n\r\n        UE.Editor.prototype.afterConfigReady = function(handler) {\r\n            if (!handler || !utils.isFunction(handler)) return;\r\n            var me = this;\r\n            var readyHandler = function() {\r\n                handler.apply(me, arguments);\r\n                me.removeListener('serverConfigLoaded', readyHandler);\r\n            };\r\n\r\n            if (me.isServerConfigLoaded()) {\r\n                handler.call(me, 'serverConfigLoaded');\r\n            } else {\r\n                me.addListener('serverConfigLoaded', readyHandler);\r\n            }\r\n        };\r\n\r\n    })();\r\n\r\n\r\n    // core/ajax.js\r\n    /**\r\n     * @file\r\n     * @module UE.ajax\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 提供对ajax请求的支持\r\n     * @module UE.ajax\r\n     */\r\n    UE.ajax = function() {\r\n\r\n        //创建一个ajaxRequest对象\r\n        var fnStr = 'XMLHttpRequest()';\r\n        try {\r\n            new ActiveXObject(\"Msxml2.XMLHTTP\");\r\n            fnStr = 'ActiveXObject(\\'Msxml2.XMLHTTP\\')';\r\n        } catch (e) {\r\n            try {\r\n                new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n                fnStr = 'ActiveXObject(\\'Microsoft.XMLHTTP\\')'\r\n            } catch (e) {}\r\n        }\r\n        var creatAjaxRequest = new Function('return new ' + fnStr);\r\n\r\n\r\n        /**\r\n         * 将json参数转化成适合ajax提交的参数列表\r\n         * @param json\r\n         */\r\n        function json2str(json) {\r\n            var strArr = [];\r\n            for (var i in json) {\r\n                //忽略默认的几个参数\r\n                if (i == \"method\" || i == \"timeout\" || i == \"async\" || i == \"dataType\" || i == \"callback\") continue;\r\n                //忽略控制\r\n                if (json[i] == undefined || json[i] == null) continue;\r\n                //传递过来的对象和函数不在提交之列\r\n                if (!((typeof json[i]).toLowerCase() == \"function\" || (typeof json[i]).toLowerCase() == \"object\")) {\r\n                    strArr.push(encodeURIComponent(i) + \"=\" + encodeURIComponent(json[i]));\r\n                } else if (utils.isArray(json[i])) {\r\n                    //支持传数组内容\r\n                    for (var j = 0; j < json[i].length; j++) {\r\n                        strArr.push(encodeURIComponent(i) + \"[]=\" + encodeURIComponent(json[i][j]));\r\n                    }\r\n                }\r\n            }\r\n            return strArr.join(\"&\");\r\n        }\r\n\r\n        function doAjax(url, ajaxOptions) {\r\n            var xhr = creatAjaxRequest(),\r\n                //是否超时\r\n                timeIsOut = false,\r\n                //默认参数\r\n                defaultAjaxOptions = {\r\n                    method: \"POST\",\r\n                    timeout: 5000,\r\n                    async: true,\r\n                    data: {}, //需要传递对象的话只能覆盖\r\n                    onsuccess: function() {},\r\n                    onerror: function() {}\r\n                };\r\n\r\n            if (typeof url === \"object\") {\r\n                ajaxOptions = url;\r\n                url = ajaxOptions.url;\r\n            }\r\n            if (!xhr || !url) return;\r\n            var ajaxOpts = ajaxOptions ? utils.extend(defaultAjaxOptions, ajaxOptions) : defaultAjaxOptions;\r\n\r\n            var submitStr = json2str(ajaxOpts); // { name:\"Jim\",city:\"Beijing\" } --> \"name=Jim&city=Beijing\"\r\n            //如果用户直接通过data参数传递json对象过来，则也要将此json对象转化为字符串\r\n            if (!utils.isEmptyObject(ajaxOpts.data)) {\r\n                submitStr += (submitStr ? \"&\" : \"\") + json2str(ajaxOpts.data);\r\n            }\r\n            //超时检测\r\n            var timerID = setTimeout(function() {\r\n                if (xhr.readyState != 4) {\r\n                    timeIsOut = true;\r\n                    xhr.abort();\r\n                    clearTimeout(timerID);\r\n                }\r\n            }, ajaxOpts.timeout);\r\n\r\n            var method = ajaxOpts.method.toUpperCase();\r\n            var str = url + (url.indexOf(\"?\") == -1 ? \"?\" : \"&\") + (method == \"POST\" ? \"\" : submitStr + \"&noCache=\" + +new Date);\r\n            xhr.open(method, str, ajaxOpts.async);\r\n            xhr.onreadystatechange = function() {\r\n                if (xhr.readyState == 4) {\r\n                    if (!timeIsOut && xhr.status == 200) {\r\n                        ajaxOpts.onsuccess(xhr);\r\n                    } else {\r\n                        ajaxOpts.onerror(xhr);\r\n                    }\r\n                }\r\n            };\r\n            if (method == \"POST\") {\r\n                xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n                xhr.send(submitStr);\r\n            } else {\r\n                xhr.send(null);\r\n            }\r\n        }\r\n\r\n        function doJsonp(url, opts) {\r\n\r\n            var successhandler = opts.onsuccess || function() {},\r\n                scr = document.createElement('SCRIPT'),\r\n                options = opts || {},\r\n                charset = options['charset'],\r\n                callbackField = options['jsonp'] || 'callback',\r\n                callbackFnName,\r\n                timeOut = options['timeOut'] || 0,\r\n                timer,\r\n                reg = new RegExp('(\\\\?|&)' + callbackField + '=([^&]*)'),\r\n                matches;\r\n\r\n            if (utils.isFunction(successhandler)) {\r\n                callbackFnName = 'bd__editor__' + Math.floor(Math.random() * 2147483648).toString(36);\r\n                window[callbackFnName] = getCallBack(0);\r\n            } else if (utils.isString(successhandler)) {\r\n                callbackFnName = successhandler;\r\n            } else {\r\n                if (matches = reg.exec(url)) {\r\n                    callbackFnName = matches[2];\r\n                }\r\n            }\r\n\r\n            url = url.replace(reg, '\\x241' + callbackField + '=' + callbackFnName);\r\n\r\n            if (url.search(reg) < 0) {\r\n                url += (url.indexOf('?') < 0 ? '?' : '&') + callbackField + '=' + callbackFnName;\r\n            }\r\n\r\n            var queryStr = json2str(opts); // { name:\"Jim\",city:\"Beijing\" } --> \"name=Jim&city=Beijing\"\r\n            //如果用户直接通过data参数传递json对象过来，则也要将此json对象转化为字符串\r\n            if (!utils.isEmptyObject(opts.data)) {\r\n                queryStr += (queryStr ? \"&\" : \"\") + json2str(opts.data);\r\n            }\r\n            if (queryStr) {\r\n                url = url.replace(/\\?/, '?' + queryStr + '&');\r\n            }\r\n\r\n            scr.onerror = getCallBack(1);\r\n            if (timeOut) {\r\n                timer = setTimeout(getCallBack(1), timeOut);\r\n            }\r\n            createScriptTag(scr, url, charset);\r\n\r\n            function createScriptTag(scr, url, charset) {\r\n                scr.setAttribute('type', 'text/javascript');\r\n                scr.setAttribute('defer', 'defer');\r\n                charset && scr.setAttribute('charset', charset);\r\n                scr.setAttribute('src', url);\r\n                document.getElementsByTagName('head')[0].appendChild(scr);\r\n            }\r\n\r\n            function getCallBack(onTimeOut) {\r\n                return function() {\r\n                    try {\r\n                        if (onTimeOut) {\r\n                            options.onerror && options.onerror();\r\n                        } else {\r\n                            try {\r\n                                clearTimeout(timer);\r\n                                successhandler.apply(window, arguments);\r\n                            } catch (e) {}\r\n                        }\r\n                    } catch (exception) {\r\n                        options.onerror && options.onerror.call(window, exception);\r\n                    } finally {\r\n                        options.oncomplete && options.oncomplete.apply(window, arguments);\r\n                        scr.parentNode && scr.parentNode.removeChild(scr);\r\n                        window[callbackFnName] = null;\r\n                        try {\r\n                            delete window[callbackFnName];\r\n                        } catch (e) {}\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            /**\r\n             * 根据给定的参数项，向指定的url发起一个ajax请求。 ajax请求完成后，会根据请求结果调用相应回调： 如果请求\r\n             * 成功， 则调用onsuccess回调， 失败则调用 onerror 回调\r\n             * @method request\r\n             * @param { URLString } url ajax请求的url地址\r\n             * @param { Object } ajaxOptions ajax请求选项的键值对，支持的选项如下：\r\n             * @example\r\n             * ```javascript\r\n             * //向sayhello.php发起一个异步的Ajax GET请求, 请求超时时间为10s， 请求完成后执行相应的回调。\r\n             * UE.ajax.requeset( 'sayhello.php', {\r\n             *\r\n             *     //请求方法。可选值： 'GET', 'POST'，默认值是'POST'\r\n             *     method: 'GET',\r\n             *\r\n             *     //超时时间。 默认为5000， 单位是ms\r\n             *     timeout: 10000,\r\n             *\r\n             *     //是否是异步请求。 true为异步请求， false为同步请求\r\n             *     async: true,\r\n             *\r\n             *     //请求携带的数据。如果请求为GET请求， data会经过stringify后附加到请求url之后。\r\n             *     data: {\r\n             *         name: 'ueditor'\r\n             *     },\r\n             *\r\n             *     //请求成功后的回调， 该回调接受当前的XMLHttpRequest对象作为参数。\r\n             *     onsuccess: function ( xhr ) {\r\n             *         console.log( xhr.responseText );\r\n             *     },\r\n             *\r\n             *     //请求失败或者超时后的回调。\r\n             *     onerror: function ( xhr ) {\r\n             *          alert( 'Ajax请求失败' );\r\n             *     }\r\n             *\r\n             * } );\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 根据给定的参数项发起一个ajax请求， 参数项里必须包含一个url地址。 ajax请求完成后，会根据请求结果调用相应回调： 如果请求\r\n             * 成功， 则调用onsuccess回调， 失败则调用 onerror 回调。\r\n             * @method request\r\n             * @warning 如果在参数项里未提供一个key为“url”的地址值，则该请求将直接退出。\r\n             * @param { Object } ajaxOptions ajax请求选项的键值对，支持的选项如下：\r\n             * @example\r\n             * ```javascript\r\n             *\r\n             * //向sayhello.php发起一个异步的Ajax POST请求, 请求超时时间为5s， 请求完成后不执行任何回调。\r\n             * UE.ajax.requeset( 'sayhello.php', {\r\n             *\r\n             *     //请求的地址， 该项是必须的。\r\n             *     url: 'sayhello.php'\r\n             *\r\n             * } );\r\n             * ```\r\n             */\r\n            request: function(url, opts) {\r\n                if (opts && opts.dataType == 'jsonp') {\r\n                    doJsonp(url, opts);\r\n                } else {\r\n                    doAjax(url, opts);\r\n                }\r\n            },\r\n            getJSONP: function(url, data, fn) {\r\n                var opts = {\r\n                    'data': data,\r\n                    'oncomplete': fn\r\n                };\r\n                doJsonp(url, opts);\r\n            }\r\n        };\r\n\r\n\r\n    }();\r\n\r\n\r\n    // core/filterword.js\r\n    /**\r\n     * UE过滤word的静态方法\r\n     * @file\r\n     */\r\n\r\n    /**\r\n     * UEditor公用空间，UEditor所有的功能都挂载在该空间下\r\n     * @module UE\r\n     */\r\n\r\n\r\n    /**\r\n     * 根据传入html字符串过滤word\r\n     * @module UE\r\n     * @since 1.2.6.1\r\n     * @method filterWord\r\n     * @param { String } html html字符串\r\n     * @return { String } 已过滤后的结果字符串\r\n     * @example\r\n     * ```javascript\r\n     * UE.filterWord(html);\r\n     * ```\r\n     */\r\n    var filterWord = UE.filterWord = function() {\r\n\r\n        //是否是word过来的内容\r\n        function isWordDocument(str) {\r\n            return /(class=\"?Mso|style=\"[^\"]*\\bmso\\-|w:WordDocument|<(v|o):|lang=)/ig.test(str);\r\n        }\r\n        //去掉小数\r\n        function transUnit(v) {\r\n            v = v.replace(/[\\d.]+\\w+/g, function(m) {\r\n                return utils.transUnitToPx(m);\r\n            });\r\n            return v;\r\n        }\r\n\r\n        function filterPasteWord(str) {\r\n            return str.replace(/[\\t\\r\\n]+/g, ' ')\r\n                .replace(/<!--[\\s\\S]*?-->/ig, \"\")\r\n                //转换图片\r\n                .replace(/<v:shape [^>]*>[\\s\\S]*?.<\\/v:shape>/gi, function(str) {\r\n                    //opera能自己解析出image所这里直接返回空\r\n                    if (browser.opera) {\r\n                        return '';\r\n                    }\r\n                    try {\r\n                        //有可能是bitmap占为图，无用，直接过滤掉，主要体现在粘贴excel表格中\r\n                        if (/Bitmap/i.test(str)) {\r\n                            return '';\r\n                        }\r\n                        var width = str.match(/width:([ \\d.]*p[tx])/i)[1],\r\n                            height = str.match(/height:([ \\d.]*p[tx])/i)[1],\r\n                            src = str.match(/src=\\s*\"([^\"]*)\"/i)[1];\r\n                        return '<img width=\"' + transUnit(width) + '\" height=\"' + transUnit(height) + '\" src=\"' + src + '\" />';\r\n                    } catch (e) {\r\n                        return '';\r\n                    }\r\n                })\r\n                //针对wps添加的多余标签处理\r\n                .replace(/<\\/?div[^>]*>/g, '')\r\n                //去掉多余的属性\r\n                .replace(/v:\\w+=([\"']?)[^'\"]+\\1/g, '')\r\n                .replace(/<(!|script[^>]*>.*?<\\/script(?=[>\\s])|\\/?(\\?xml(:\\w+)?|xml|meta|link|style|\\w+:\\w+)(?=[\\s\\/>]))[^>]*>/gi, \"\")\r\n                .replace(/<p [^>]*class=\"?MsoHeading\"?[^>]*>(.*?)<\\/p>/gi, \"<p><strong>$1</strong></p>\")\r\n                //去掉多余的属性\r\n                .replace(/\\s+(class|lang|align)\\s*=\\s*(['\"]?)([\\w-]+)\\2/ig, function(str, name, marks, val) {\r\n                    //保留list的标示\r\n                    return name == 'class' && val == 'MsoListParagraph' ? str : ''\r\n                })\r\n                //清除多余的font/span不能匹配&nbsp;有可能是空格\r\n                .replace(/<(font|span)[^>]*>(\\s*)<\\/\\1>/gi, function(a, b, c) {\r\n                    return c.replace(/[\\t\\r\\n ]+/g, ' ')\r\n                })\r\n                //处理style的问题\r\n                .replace(/(<[a-z][^>]*)\\sstyle=([\"'])([^\\2]*?)\\2/gi, function(str, tag, tmp, style) {\r\n                    var n = [],\r\n                        s = style.replace(/^\\s+|\\s+$/, '')\r\n                        .replace(/&#39;/g, '\\'')\r\n                        .replace(/&quot;/gi, \"'\")\r\n                        .replace(/[\\d.]+(cm|pt)/g, function(str) {\r\n                            return utils.transUnitToPx(str)\r\n                        })\r\n                        .split(/;\\s*/g);\r\n\r\n                    for (var i = 0, v; v = s[i]; i++) {\r\n\r\n                        var name, value,\r\n                            parts = v.split(\":\");\r\n\r\n                        if (parts.length == 2) {\r\n                            name = parts[0].toLowerCase();\r\n                            value = parts[1].toLowerCase();\r\n                            if (/^(background)\\w*/.test(name) && value.replace(/(initial|\\s)/g, '').length == 0 ||\r\n                                /^(margin)\\w*/.test(name) && /^0\\w+$/.test(value)\r\n                            ) {\r\n                                continue;\r\n                            }\r\n\r\n                            switch (name) {\r\n                                case \"mso-padding-alt\":\r\n                                case \"mso-padding-top-alt\":\r\n                                case \"mso-padding-right-alt\":\r\n                                case \"mso-padding-bottom-alt\":\r\n                                case \"mso-padding-left-alt\":\r\n                                case \"mso-margin-alt\":\r\n                                case \"mso-margin-top-alt\":\r\n                                case \"mso-margin-right-alt\":\r\n                                case \"mso-margin-bottom-alt\":\r\n                                case \"mso-margin-left-alt\":\r\n                                    //ie下会出现挤到一起的情况\r\n                                    //case \"mso-table-layout-alt\":\r\n                                case \"mso-height\":\r\n                                case \"mso-width\":\r\n                                case \"mso-vertical-align-alt\":\r\n                                    //trace:1819 ff下会解析出padding在table上\r\n                                    if (!/<table/.test(tag))\r\n                                        n[i] = name.replace(/^mso-|-alt$/g, \"\") + \":\" + transUnit(value);\r\n                                    continue;\r\n                                case \"horiz-align\":\r\n                                    n[i] = \"text-align:\" + value;\r\n                                    continue;\r\n\r\n                                case \"vert-align\":\r\n                                    n[i] = \"vertical-align:\" + value;\r\n                                    continue;\r\n\r\n                                case \"font-color\":\r\n                                case \"mso-foreground\":\r\n                                    n[i] = \"color:\" + value;\r\n                                    continue;\r\n\r\n                                case \"mso-background\":\r\n                                case \"mso-highlight\":\r\n                                    n[i] = \"background:\" + value;\r\n                                    continue;\r\n\r\n                                case \"mso-default-height\":\r\n                                    n[i] = \"min-height:\" + transUnit(value);\r\n                                    continue;\r\n\r\n                                case \"mso-default-width\":\r\n                                    n[i] = \"min-width:\" + transUnit(value);\r\n                                    continue;\r\n\r\n                                case \"mso-padding-between-alt\":\r\n                                    n[i] = \"border-collapse:separate;border-spacing:\" + transUnit(value);\r\n                                    continue;\r\n\r\n                                case \"text-line-through\":\r\n                                    if ((value == \"single\") || (value == \"double\")) {\r\n                                        n[i] = \"text-decoration:line-through\";\r\n                                    }\r\n                                    continue;\r\n                                case \"mso-zero-height\":\r\n                                    if (value == \"yes\") {\r\n                                        n[i] = \"display:none\";\r\n                                    }\r\n                                    continue;\r\n                                    //                                case 'background':\r\n                                    //                                    break;\r\n                                case 'margin':\r\n                                    if (!/[1-9]/.test(value)) {\r\n                                        continue;\r\n                                    }\r\n\r\n                            }\r\n\r\n                            if (/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/.test(name) ||\r\n                                /text\\-indent|padding|margin/.test(name) && /\\-[\\d.]+/.test(value)\r\n                            ) {\r\n                                continue;\r\n                            }\r\n\r\n                            n[i] = name + \":\" + parts[1];\r\n                        }\r\n                    }\r\n                    return tag + (n.length ? ' style=\"' + n.join(';').replace(/;{2,}/g, ';') + '\"' : '');\r\n                })\r\n\r\n\r\n        }\r\n\r\n        return function(html) {\r\n            return (isWordDocument(html) ? filterPasteWord(html) : html);\r\n        };\r\n    }();\r\n\r\n    // core/node.js\r\n    /**\r\n     * 编辑器模拟的节点类\r\n     * @file\r\n     * @module UE\r\n     * @class uNode\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * UEditor公用空间，UEditor所有的功能都挂载在该空间下\r\n     * @unfile\r\n     * @module UE\r\n     */\r\n\r\n    (function() {\r\n\r\n        /**\r\n         * 编辑器模拟的节点类\r\n         * @unfile\r\n         * @module UE\r\n         * @class uNode\r\n         */\r\n\r\n        /**\r\n         * 通过一个键值对，创建一个uNode对象\r\n         * @constructor\r\n         * @param { Object } attr 传入要创建的uNode的初始属性\r\n         * @example\r\n         * ```javascript\r\n         * var node = new uNode({\r\n         *     type:'element',\r\n         *     tagName:'span',\r\n         *     attrs:{style:'font-size:14px;'}\r\n         * }\r\n         * ```\r\n         */\r\n        var uNode = UE.uNode = function(obj) {\r\n            this.type = obj.type;\r\n            this.data = obj.data;\r\n            this.tagName = obj.tagName;\r\n            this.parentNode = obj.parentNode;\r\n            this.attrs = obj.attrs || {};\r\n            this.children = obj.children;\r\n        };\r\n\r\n        var notTransAttrs = {\r\n            'href': 1,\r\n            'src': 1,\r\n            '_src': 1,\r\n            '_href': 1,\r\n            'cdata_data': 1\r\n        };\r\n\r\n        var notTransTagName = {\r\n            style: 1,\r\n            script: 1\r\n        };\r\n\r\n        var indentChar = '    ',\r\n            breakChar = '\\n';\r\n\r\n        function insertLine(arr, current, begin) {\r\n            arr.push(breakChar);\r\n            return current + (begin ? 1 : -1);\r\n        }\r\n\r\n        function insertIndent(arr, current) {\r\n            //插入缩进\r\n            for (var i = 0; i < current; i++) {\r\n                arr.push(indentChar);\r\n            }\r\n        }\r\n\r\n        //创建uNode的静态方法\r\n        //支持标签和html\r\n        uNode.createElement = function(html) {\r\n            if (/[<>]/.test(html)) {\r\n                return UE.htmlparser(html).children[0]\r\n            } else {\r\n                return new uNode({\r\n                    type: 'element',\r\n                    children: [],\r\n                    tagName: html\r\n                })\r\n            }\r\n        };\r\n        uNode.createText = function(data, noTrans) {\r\n            return new UE.uNode({\r\n                type: 'text',\r\n                'data': noTrans ? data : utils.unhtml(data || '')\r\n            })\r\n        };\r\n\r\n        function nodeToHtml(node, arr, formatter, current) {\r\n            switch (node.type) {\r\n                case 'root':\r\n                    for (var i = 0, ci; ci = node.children[i++];) {\r\n                        //插入新行\r\n                        if (formatter && ci.type == 'element' && !dtd.$inlineWithA[ci.tagName] && i > 1) {\r\n                            insertLine(arr, current, true);\r\n                            insertIndent(arr, current)\r\n                        }\r\n                        nodeToHtml(ci, arr, formatter, current)\r\n                    }\r\n                    break;\r\n                case 'text':\r\n                    isText(node, arr);\r\n                    break;\r\n                case 'element':\r\n                    isElement(node, arr, formatter, current);\r\n                    break;\r\n                case 'comment':\r\n                    isComment(node, arr, formatter);\r\n            }\r\n            return arr;\r\n        }\r\n\r\n        function isText(node, arr) {\r\n            if (node.parentNode.tagName == 'pre') {\r\n                //源码模式下输入html标签，不能做转换处理，直接输出\r\n                arr.push(node.data)\r\n            } else {\r\n                arr.push(notTransTagName[node.parentNode.tagName] ? utils.html(node.data) : node.data.replace(/[ ]{2}/g, ' &nbsp;'))\r\n            }\r\n\r\n        }\r\n\r\n        function isElement(node, arr, formatter, current) {\r\n            var attrhtml = '';\r\n            if (node.attrs) {\r\n                attrhtml = [];\r\n                var attrs = node.attrs;\r\n                for (var a in attrs) {\r\n                    //这里就针对\r\n                    //<p>'<img src='http://nsclick.baidu.com/u.gif?&asdf=\\\"sdf&asdfasdfs;asdf'></p>\r\n                    //这里边的\\\"做转换，要不用innerHTML直接被截断了，属性src\r\n                    //有可能做的不够\r\n                    attrhtml.push(a + (attrs[a] !== undefined ? '=\"' + (notTransAttrs[a] ? utils.html(attrs[a]).replace(/[\"]/g, function(a) {\r\n                        return '&quot;'\r\n                    }) : utils.unhtml(attrs[a])) + '\"' : ''))\r\n                }\r\n                attrhtml = attrhtml.join(' ');\r\n            }\r\n            arr.push('<' + node.tagName +\r\n                (attrhtml ? ' ' + attrhtml : '') +\r\n                (dtd.$empty[node.tagName] ? '\\/' : '') + '>'\r\n            );\r\n            //插入新行\r\n            if (formatter && !dtd.$inlineWithA[node.tagName] && node.tagName != 'pre') {\r\n                if (node.children && node.children.length) {\r\n                    current = insertLine(arr, current, true);\r\n                    insertIndent(arr, current)\r\n                }\r\n\r\n            }\r\n            if (node.children && node.children.length) {\r\n                for (var i = 0, ci; ci = node.children[i++];) {\r\n                    if (formatter && ci.type == 'element' && !dtd.$inlineWithA[ci.tagName] && i > 1) {\r\n                        insertLine(arr, current);\r\n                        insertIndent(arr, current)\r\n                    }\r\n                    nodeToHtml(ci, arr, formatter, current)\r\n                }\r\n            }\r\n            if (!dtd.$empty[node.tagName]) {\r\n                if (formatter && !dtd.$inlineWithA[node.tagName] && node.tagName != 'pre') {\r\n\r\n                    if (node.children && node.children.length) {\r\n                        current = insertLine(arr, current);\r\n                        insertIndent(arr, current)\r\n                    }\r\n                }\r\n                arr.push('<\\/' + node.tagName + '>');\r\n            }\r\n\r\n        }\r\n\r\n        function isComment(node, arr) {\r\n            arr.push('<!--' + node.data + '-->');\r\n        }\r\n\r\n        function getNodeById(root, id) {\r\n            var node;\r\n            if (root.type == 'element' && root.getAttr('id') == id) {\r\n                return root;\r\n            }\r\n            if (root.children && root.children.length) {\r\n                for (var i = 0, ci; ci = root.children[i++];) {\r\n                    if (node = getNodeById(ci, id)) {\r\n                        return node;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        function getNodesByTagName(node, tagName, arr) {\r\n            if (node.type == 'element' && node.tagName == tagName) {\r\n                arr.push(node);\r\n            }\r\n            if (node.children && node.children.length) {\r\n                for (var i = 0, ci; ci = node.children[i++];) {\r\n                    getNodesByTagName(ci, tagName, arr)\r\n                }\r\n            }\r\n        }\r\n\r\n        function nodeTraversal(root, fn) {\r\n            if (root.children && root.children.length) {\r\n                for (var i = 0, ci; ci = root.children[i];) {\r\n                    nodeTraversal(ci, fn);\r\n                    //ci被替换的情况，这里就不再走 fn了\r\n                    if (ci.parentNode) {\r\n                        if (ci.children && ci.children.length) {\r\n                            fn(ci)\r\n                        }\r\n                        if (ci.parentNode) i++\r\n                    }\r\n                }\r\n            } else {\r\n                fn(root)\r\n            }\r\n\r\n        }\r\n        uNode.prototype = {\r\n\r\n            /**\r\n             * 当前节点对象，转换成html文本\r\n             * @method toHtml\r\n             * @return { String } 返回转换后的html字符串\r\n             * @example\r\n             * ```javascript\r\n             * node.toHtml();\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 当前节点对象，转换成html文本\r\n             * @method toHtml\r\n             * @param { Boolean } formatter 是否格式化返回值\r\n             * @return { String } 返回转换后的html字符串\r\n             * @example\r\n             * ```javascript\r\n             * node.toHtml( true );\r\n             * ```\r\n             */\r\n            toHtml: function(formatter) {\r\n                var arr = [];\r\n                nodeToHtml(this, arr, formatter, 0);\r\n                return arr.join('')\r\n            },\r\n\r\n            /**\r\n             * 获取节点的html内容\r\n             * @method innerHTML\r\n             * @warning 假如节点的type不是'element'，或节点的标签名称不在dtd列表里，直接返回当前节点\r\n             * @return { String } 返回节点的html内容\r\n             * @example\r\n             * ```javascript\r\n             * var htmlstr = node.innerHTML();\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 设置节点的html内容\r\n             * @method innerHTML\r\n             * @warning 假如节点的type不是'element'，或节点的标签名称不在dtd列表里，直接返回当前节点\r\n             * @param { String } htmlstr 传入要设置的html内容\r\n             * @return { UE.uNode } 返回节点本身\r\n             * @example\r\n             * ```javascript\r\n             * node.innerHTML('<span>text</span>');\r\n             * ```\r\n             */\r\n            innerHTML: function(htmlstr) {\r\n                if (this.type != 'element' || dtd.$empty[this.tagName]) {\r\n                    return this;\r\n                }\r\n                if (utils.isString(htmlstr)) {\r\n                    if (this.children) {\r\n                        for (var i = 0, ci; ci = this.children[i++];) {\r\n                            ci.parentNode = null;\r\n                        }\r\n                    }\r\n                    this.children = [];\r\n                    var tmpRoot = UE.htmlparser(htmlstr);\r\n                    for (var i = 0, ci; ci = tmpRoot.children[i++];) {\r\n                        this.children.push(ci);\r\n                        ci.parentNode = this;\r\n                    }\r\n                    return this;\r\n                } else {\r\n                    var tmpRoot = new UE.uNode({\r\n                        type: 'root',\r\n                        children: this.children\r\n                    });\r\n                    return tmpRoot.toHtml();\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 获取节点的纯文本内容\r\n             * @method innerText\r\n             * @warning 假如节点的type不是'element'，或节点的标签名称不在dtd列表里，直接返回当前节点\r\n             * @return { String } 返回节点的存文本内容\r\n             * @example\r\n             * ```javascript\r\n             * var textStr = node.innerText();\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 设置节点的纯文本内容\r\n             * @method innerText\r\n             * @warning 假如节点的type不是'element'，或节点的标签名称不在dtd列表里，直接返回当前节点\r\n             * @param { String } textStr 传入要设置的文本内容\r\n             * @return { UE.uNode } 返回节点本身\r\n             * @example\r\n             * ```javascript\r\n             * node.innerText('<span>text</span>');\r\n             * ```\r\n             */\r\n            innerText: function(textStr, noTrans) {\r\n                if (this.type != 'element' || dtd.$empty[this.tagName]) {\r\n                    return this;\r\n                }\r\n                if (textStr) {\r\n                    if (this.children) {\r\n                        for (var i = 0, ci; ci = this.children[i++];) {\r\n                            ci.parentNode = null;\r\n                        }\r\n                    }\r\n                    this.children = [];\r\n                    this.appendChild(uNode.createText(textStr, noTrans));\r\n                    return this;\r\n                } else {\r\n                    return this.toHtml().replace(/<[^>]+>/g, '');\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 获取当前对象的data属性\r\n             * @method getData\r\n             * @return { Object } 若节点的type值是elemenet，返回空字符串，否则返回节点的data属性\r\n             * @example\r\n             * ```javascript\r\n             * node.getData();\r\n             * ```\r\n             */\r\n            getData: function() {\r\n                if (this.type == 'element')\r\n                    return '';\r\n                return this.data\r\n            },\r\n\r\n            /**\r\n             * 获取当前节点下的第一个子节点\r\n             * @method firstChild\r\n             * @return { UE.uNode } 返回第一个子节点\r\n             * @example\r\n             * ```javascript\r\n             * node.firstChild(); //返回第一个子节点\r\n             * ```\r\n             */\r\n            firstChild: function() {\r\n                //            if (this.type != 'element' || dtd.$empty[this.tagName]) {\r\n                //                return this;\r\n                //            }\r\n                return this.children ? this.children[0] : null;\r\n            },\r\n\r\n            /**\r\n             * 获取当前节点下的最后一个子节点\r\n             * @method lastChild\r\n             * @return { UE.uNode } 返回最后一个子节点\r\n             * @example\r\n             * ```javascript\r\n             * node.lastChild(); //返回最后一个子节点\r\n             * ```\r\n             */\r\n            lastChild: function() {\r\n                //            if (this.type != 'element' || dtd.$empty[this.tagName] ) {\r\n                //                return this;\r\n                //            }\r\n                return this.children ? this.children[this.children.length - 1] : null;\r\n            },\r\n\r\n            /**\r\n             * 获取和当前节点有相同父亲节点的前一个节点\r\n             * @method previousSibling\r\n             * @return { UE.uNode } 返回前一个节点\r\n             * @example\r\n             * ```javascript\r\n             * node.children[2].previousSibling(); //返回子节点node.children[1]\r\n             * ```\r\n             */\r\n            previousSibling: function() {\r\n                var parent = this.parentNode;\r\n                for (var i = 0, ci; ci = parent.children[i]; i++) {\r\n                    if (ci === this) {\r\n                        return i == 0 ? null : parent.children[i - 1];\r\n                    }\r\n                }\r\n\r\n            },\r\n\r\n            /**\r\n             * 获取和当前节点有相同父亲节点的后一个节点\r\n             * @method nextSibling\r\n             * @return { UE.uNode } 返回后一个节点,找不到返回null\r\n             * @example\r\n             * ```javascript\r\n             * node.children[2].nextSibling(); //如果有，返回子节点node.children[3]\r\n             * ```\r\n             */\r\n            nextSibling: function() {\r\n                var parent = this.parentNode;\r\n                for (var i = 0, ci; ci = parent.children[i++];) {\r\n                    if (ci === this) {\r\n                        return parent.children[i];\r\n                    }\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 用新的节点替换当前节点\r\n             * @method replaceChild\r\n             * @param { UE.uNode } target 要替换成该节点参数\r\n             * @param { UE.uNode } source 要被替换掉的节点\r\n             * @return { UE.uNode } 返回替换之后的节点对象\r\n             * @example\r\n             * ```javascript\r\n             * node.replaceChild(newNode, childNode); //用newNode替换childNode,childNode是node的子节点\r\n             * ```\r\n             */\r\n            replaceChild: function(target, source) {\r\n                if (this.children) {\r\n                    if (target.parentNode) {\r\n                        target.parentNode.removeChild(target);\r\n                    }\r\n                    for (var i = 0, ci; ci = this.children[i]; i++) {\r\n                        if (ci === source) {\r\n                            this.children.splice(i, 1, target);\r\n                            source.parentNode = null;\r\n                            target.parentNode = this;\r\n                            return target;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 在节点的子节点列表最后位置插入一个节点\r\n             * @method appendChild\r\n             * @param { UE.uNode } node 要插入的节点\r\n             * @return { UE.uNode } 返回刚插入的子节点\r\n             * @example\r\n             * ```javascript\r\n             * node.appendChild( newNode ); //在node内插入子节点newNode\r\n             * ```\r\n             */\r\n            appendChild: function(node) {\r\n                if (this.type == 'root' || (this.type == 'element' && !dtd.$empty[this.tagName])) {\r\n                    if (!this.children) {\r\n                        this.children = []\r\n                    }\r\n                    if (node.parentNode) {\r\n                        node.parentNode.removeChild(node);\r\n                    }\r\n                    for (var i = 0, ci; ci = this.children[i]; i++) {\r\n                        if (ci === node) {\r\n                            this.children.splice(i, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n                    this.children.push(node);\r\n                    node.parentNode = this;\r\n                    return node;\r\n                }\r\n\r\n\r\n            },\r\n\r\n            /**\r\n             * 在传入节点的前面插入一个节点\r\n             * @method insertBefore\r\n             * @param { UE.uNode } target 要插入的节点\r\n             * @param { UE.uNode } source 在该参数节点前面插入\r\n             * @return { UE.uNode } 返回刚插入的子节点\r\n             * @example\r\n             * ```javascript\r\n             * node.parentNode.insertBefore(newNode, node); //在node节点后面插入newNode\r\n             * ```\r\n             */\r\n            insertBefore: function(target, source) {\r\n                if (this.children) {\r\n                    if (target.parentNode) {\r\n                        target.parentNode.removeChild(target);\r\n                    }\r\n                    for (var i = 0, ci; ci = this.children[i]; i++) {\r\n                        if (ci === source) {\r\n                            this.children.splice(i, 0, target);\r\n                            target.parentNode = this;\r\n                            return target;\r\n                        }\r\n                    }\r\n\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 在传入节点的后面插入一个节点\r\n             * @method insertAfter\r\n             * @param { UE.uNode } target 要插入的节点\r\n             * @param { UE.uNode } source 在该参数节点后面插入\r\n             * @return { UE.uNode } 返回刚插入的子节点\r\n             * @example\r\n             * ```javascript\r\n             * node.parentNode.insertAfter(newNode, node); //在node节点后面插入newNode\r\n             * ```\r\n             */\r\n            insertAfter: function(target, source) {\r\n                if (this.children) {\r\n                    if (target.parentNode) {\r\n                        target.parentNode.removeChild(target);\r\n                    }\r\n                    for (var i = 0, ci; ci = this.children[i]; i++) {\r\n                        if (ci === source) {\r\n                            this.children.splice(i + 1, 0, target);\r\n                            target.parentNode = this;\r\n                            return target;\r\n                        }\r\n\r\n                    }\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 从当前节点的子节点列表中，移除节点\r\n             * @method removeChild\r\n             * @param { UE.uNode } node 要移除的节点引用\r\n             * @param { Boolean } keepChildren 是否保留移除节点的子节点，若传入true，自动把移除节点的子节点插入到移除的位置\r\n             * @return { * } 返回刚移除的子节点\r\n             * @example\r\n             * ```javascript\r\n             * node.removeChild(childNode,true); //在node的子节点列表中移除child节点，并且吧child的子节点插入到移除的位置\r\n             * ```\r\n             */\r\n            removeChild: function(node, keepChildren) {\r\n                if (this.children) {\r\n                    for (var i = 0, ci; ci = this.children[i]; i++) {\r\n                        if (ci === node) {\r\n                            this.children.splice(i, 1);\r\n                            ci.parentNode = null;\r\n                            if (keepChildren && ci.children && ci.children.length) {\r\n                                for (var j = 0, cj; cj = ci.children[j]; j++) {\r\n                                    this.children.splice(i + j, 0, cj);\r\n                                    cj.parentNode = this;\r\n\r\n                                }\r\n                            }\r\n                            return ci;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 获取当前节点所代表的元素属性，即获取attrs对象下的属性值\r\n             * @method getAttr\r\n             * @param { String } attrName 要获取的属性名称\r\n             * @return { * } 返回attrs对象下的属性值\r\n             * @example\r\n             * ```javascript\r\n             * node.getAttr('title');\r\n             * ```\r\n             */\r\n            getAttr: function(attrName) {\r\n                return this.attrs && this.attrs[attrName.toLowerCase()]\r\n            },\r\n\r\n            /**\r\n             * 设置当前节点所代表的元素属性，即设置attrs对象下的属性值\r\n             * @method setAttr\r\n             * @param { String } attrName 要设置的属性名称\r\n             * @param { * } attrVal 要设置的属性值，类型视设置的属性而定\r\n             * @return { * } 返回attrs对象下的属性值\r\n             * @example\r\n             * ```javascript\r\n             * node.setAttr('title','标题');\r\n             * ```\r\n             */\r\n            setAttr: function(attrName, attrVal) {\r\n                if (!attrName) {\r\n                    delete this.attrs;\r\n                    return;\r\n                }\r\n                if (!this.attrs) {\r\n                    this.attrs = {};\r\n                }\r\n                if (utils.isObject(attrName)) {\r\n                    for (var a in attrName) {\r\n                        if (!attrName[a]) {\r\n                            delete this.attrs[a]\r\n                        } else {\r\n                            this.attrs[a.toLowerCase()] = attrName[a];\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (!attrVal) {\r\n                        delete this.attrs[attrName]\r\n                    } else {\r\n                        this.attrs[attrName.toLowerCase()] = attrVal;\r\n                    }\r\n\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 获取当前节点在父节点下的位置索引\r\n             * @method getIndex\r\n             * @return { Number } 返回索引数值，如果没有父节点，返回-1\r\n             * @example\r\n             * ```javascript\r\n             * node.getIndex();\r\n             * ```\r\n             */\r\n            getIndex: function() {\r\n                var parent = this.parentNode;\r\n                for (var i = 0, ci; ci = parent.children[i]; i++) {\r\n                    if (ci === this) {\r\n                        return i;\r\n                    }\r\n                }\r\n                return -1;\r\n            },\r\n\r\n            /**\r\n             * 在当前节点下，根据id查找节点\r\n             * @method getNodeById\r\n             * @param { String } id 要查找的id\r\n             * @return { UE.uNode } 返回找到的节点\r\n             * @example\r\n             * ```javascript\r\n             * node.getNodeById('textId');\r\n             * ```\r\n             */\r\n            getNodeById: function(id) {\r\n                var node;\r\n                if (this.children && this.children.length) {\r\n                    for (var i = 0, ci; ci = this.children[i++];) {\r\n                        if (node = getNodeById(ci, id)) {\r\n                            return node;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 在当前节点下，根据元素名称查找节点列表\r\n             * @method getNodesByTagName\r\n             * @param { String } tagNames 要查找的元素名称\r\n             * @return { Array } 返回找到的节点列表\r\n             * @example\r\n             * ```javascript\r\n             * node.getNodesByTagName('span');\r\n             * ```\r\n             */\r\n            getNodesByTagName: function(tagNames) {\r\n                tagNames = utils.trim(tagNames).replace(/[ ]{2,}/g, ' ').split(' ');\r\n                var arr = [],\r\n                    me = this;\r\n                utils.each(tagNames, function(tagName) {\r\n                    if (me.children && me.children.length) {\r\n                        for (var i = 0, ci; ci = me.children[i++];) {\r\n                            getNodesByTagName(ci, tagName, arr)\r\n                        }\r\n                    }\r\n                });\r\n                return arr;\r\n            },\r\n\r\n            /**\r\n             * 根据样式名称，获取节点的样式值\r\n             * @method getStyle\r\n             * @param { String } name 要获取的样式名称\r\n             * @return { String } 返回样式值\r\n             * @example\r\n             * ```javascript\r\n             * node.getStyle('font-size');\r\n             * ```\r\n             */\r\n            getStyle: function(name) {\r\n                var cssStyle = this.getAttr('style');\r\n                if (!cssStyle) {\r\n                    return ''\r\n                }\r\n                var reg = new RegExp('(^|;)\\\\s*' + name + ':([^;]+)', 'i');\r\n                var match = cssStyle.match(reg);\r\n                if (match && match[0]) {\r\n                    return match[2]\r\n                }\r\n                return '';\r\n            },\r\n\r\n            /**\r\n             * 给节点设置样式\r\n             * @method setStyle\r\n             * @param { String } name 要设置的的样式名称\r\n             * @param { String } val 要设置的的样值\r\n             * @example\r\n             * ```javascript\r\n             * node.setStyle('font-size', '12px');\r\n             * ```\r\n             */\r\n            setStyle: function(name, val) {\r\n                function exec(name, val) {\r\n                    var reg = new RegExp('(^|;)\\\\s*' + name + ':([^;]+;?)', 'gi');\r\n                    cssStyle = cssStyle.replace(reg, '$1');\r\n                    if (val) {\r\n                        cssStyle = name + ':' + utils.unhtml(val) + ';' + cssStyle\r\n                    }\r\n\r\n                }\r\n\r\n                var cssStyle = this.getAttr('style');\r\n                if (!cssStyle) {\r\n                    cssStyle = '';\r\n                }\r\n                if (utils.isObject(name)) {\r\n                    for (var a in name) {\r\n                        exec(a, name[a])\r\n                    }\r\n                } else {\r\n                    exec(name, val)\r\n                }\r\n                this.setAttr('style', utils.trim(cssStyle))\r\n            },\r\n\r\n            /**\r\n             * 传入一个函数，递归遍历当前节点下的所有节点\r\n             * @method traversal\r\n             * @param { Function } fn 遍历到节点的时，传入节点作为参数，运行此函数\r\n             * @example\r\n             * ```javascript\r\n             * traversal(node, function(){\r\n             *     console.log(node.type);\r\n             * });\r\n             * ```\r\n             */\r\n            traversal: function(fn) {\r\n                if (this.children && this.children.length) {\r\n                    nodeTraversal(this, fn);\r\n                }\r\n                return this;\r\n            }\r\n        }\r\n    })();\r\n\r\n\r\n    // core/htmlparser.js\r\n    /**\r\n     * html字符串转换成uNode节点\r\n     * @file\r\n     * @module UE\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * UEditor公用空间，UEditor所有的功能都挂载在该空间下\r\n     * @unfile\r\n     * @module UE\r\n     */\r\n\r\n    /**\r\n     * html字符串转换成uNode节点的静态方法\r\n     * @method htmlparser\r\n     * @param { String } htmlstr 要转换的html代码\r\n     * @param { Boolean } ignoreBlank 若设置为true，转换的时候忽略\\n\\r\\t等空白字符\r\n     * @return { uNode } 给定的html片段转换形成的uNode对象\r\n     * @example\r\n     * ```javascript\r\n     * var root = UE.htmlparser('<p><b>htmlparser</b></p>', true);\r\n     * ```\r\n     */\r\n\r\n    var htmlparser = UE.htmlparser = function(htmlstr, ignoreBlank) {\r\n        //todo 原来的方式  [^\"'<>\\/] 有\\/就不能配对上 <TD vAlign=top background=../AAA.JPG> 这样的标签了\r\n        //先去掉了，加上的原因忘了，这里先记录\r\n        var re_tag = /<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)-->)|(?:([^\\s\\/<>]+)\\s*((?:(?:\"[^\"]*\")|(?:'[^']*')|[^\"'<>])*)\\/?>))/g,\r\n            re_attr = /([\\w\\-:.]+)(?:(?:\\s*=\\s*(?:(?:\"([^\"]*)\")|(?:'([^']*)')|([^\\s>]+)))|(?=\\s|$))/g;\r\n\r\n        //ie下取得的html可能会有\\n存在，要去掉，在处理replace(/[\\t\\r\\n]*/g,'');代码高量的\\n不能去除\r\n        var allowEmptyTags = {\r\n            b: 1,\r\n            code: 1,\r\n            i: 1,\r\n            u: 1,\r\n            strike: 1,\r\n            s: 1,\r\n            tt: 1,\r\n            strong: 1,\r\n            q: 1,\r\n            samp: 1,\r\n            em: 1,\r\n            span: 1,\r\n            sub: 1,\r\n            img: 1,\r\n            sup: 1,\r\n            font: 1,\r\n            big: 1,\r\n            small: 1,\r\n            iframe: 1,\r\n            a: 1,\r\n            br: 1,\r\n            pre: 1\r\n        };\r\n        htmlstr = htmlstr.replace(new RegExp(domUtils.fillChar, 'g'), '');\r\n        if (!ignoreBlank) {\r\n            htmlstr = htmlstr.replace(new RegExp('[\\\\r\\\\t\\\\n' + (ignoreBlank ? '' : ' ') + ']*<\\/?(\\\\w+)\\\\s*(?:[^>]*)>[\\\\r\\\\t\\\\n' + (ignoreBlank ? '' : ' ') + ']*', 'g'), function(a, b) {\r\n                //br暂时单独处理\r\n                if (b && allowEmptyTags[b.toLowerCase()]) {\r\n                    return a.replace(/(^[\\n\\r]+)|([\\n\\r]+$)/g, '');\r\n                }\r\n                return a.replace(new RegExp('^[\\\\r\\\\n' + (ignoreBlank ? '' : ' ') + ']+'), '').replace(new RegExp('[\\\\r\\\\n' + (ignoreBlank ? '' : ' ') + ']+$'), '');\r\n            });\r\n        }\r\n\r\n        var notTransAttrs = {\r\n            'href': 1,\r\n            'src': 1\r\n        };\r\n\r\n        var uNode = UE.uNode,\r\n            needParentNode = {\r\n                'td': 'tr',\r\n                'tr': ['tbody', 'thead', 'tfoot'],\r\n                'tbody': 'table',\r\n                'th': 'tr',\r\n                'thead': 'table',\r\n                'tfoot': 'table',\r\n                'caption': 'table',\r\n                'li': ['ul', 'ol'],\r\n                'dt': 'dl',\r\n                'dd': 'dl',\r\n                'option': 'select'\r\n            },\r\n            needChild = {\r\n                'ol': 'li',\r\n                'ul': 'li'\r\n            };\r\n\r\n        function text(parent, data) {\r\n\r\n            if (needChild[parent.tagName]) {\r\n                var tmpNode = uNode.createElement(needChild[parent.tagName]);\r\n                parent.appendChild(tmpNode);\r\n                tmpNode.appendChild(uNode.createText(data));\r\n                parent = tmpNode;\r\n            } else {\r\n\r\n                parent.appendChild(uNode.createText(data));\r\n            }\r\n        }\r\n\r\n        function element(parent, tagName, htmlattr) {\r\n            var needParentTag;\r\n            if (needParentTag = needParentNode[tagName]) {\r\n                var tmpParent = parent,\r\n                    hasParent;\r\n                while (tmpParent.type != 'root') {\r\n                    if (utils.isArray(needParentTag) ? utils.indexOf(needParentTag, tmpParent.tagName) != -1 : needParentTag == tmpParent.tagName) {\r\n                        parent = tmpParent;\r\n                        hasParent = true;\r\n                        break;\r\n                    }\r\n                    tmpParent = tmpParent.parentNode;\r\n                }\r\n                if (!hasParent) {\r\n                    parent = element(parent, utils.isArray(needParentTag) ? needParentTag[0] : needParentTag)\r\n                }\r\n            }\r\n            //按dtd处理嵌套\r\n            //        if(parent.type != 'root' && !dtd[parent.tagName][tagName])\r\n            //            parent = parent.parentNode;\r\n            var elm = new uNode({\r\n                parentNode: parent,\r\n                type: 'element',\r\n                tagName: tagName.toLowerCase(),\r\n                //是自闭合的处理一下\r\n                children: dtd.$empty[tagName] ? null : []\r\n            });\r\n            //如果属性存在，处理属性\r\n            if (htmlattr) {\r\n                var attrs = {},\r\n                    match;\r\n                while (match = re_attr.exec(htmlattr)) {\r\n                    attrs[match[1].toLowerCase()] = notTransAttrs[match[1].toLowerCase()] ? (match[2] || match[3] || match[4]) : utils.unhtml(match[2] || match[3] || match[4])\r\n                }\r\n                elm.attrs = attrs;\r\n            }\r\n            //trace:3970\r\n            //        //如果parent下不能放elm\r\n            //        if(dtd.$inline[parent.tagName] && dtd.$block[elm.tagName] && !dtd[parent.tagName][elm.tagName]){\r\n            //            parent = parent.parentNode;\r\n            //            elm.parentNode = parent;\r\n            //        }\r\n            parent.children.push(elm);\r\n            //如果是自闭合节点返回父亲节点\r\n            return dtd.$empty[tagName] ? parent : elm\r\n        }\r\n\r\n        function comment(parent, data) {\r\n            parent.children.push(new uNode({\r\n                type: 'comment',\r\n                data: data,\r\n                parentNode: parent\r\n            }));\r\n        }\r\n\r\n        var match, currentIndex = 0,\r\n            nextIndex = 0;\r\n        //设置根节点\r\n        var root = new uNode({\r\n            type: 'root',\r\n            children: []\r\n        });\r\n        var currentParent = root;\r\n\r\n        while (match = re_tag.exec(htmlstr)) {\r\n            currentIndex = match.index;\r\n            try {\r\n                if (currentIndex > nextIndex) {\r\n                    //text node\r\n                    text(currentParent, htmlstr.slice(nextIndex, currentIndex));\r\n                }\r\n                if (match[3]) {\r\n\r\n                    if (dtd.$cdata[currentParent.tagName]) {\r\n                        text(currentParent, match[0]);\r\n                    } else {\r\n                        //start tag\r\n                        currentParent = element(currentParent, match[3].toLowerCase(), match[4]);\r\n                    }\r\n\r\n\r\n                } else if (match[1]) {\r\n                    if (currentParent.type != 'root') {\r\n                        if (dtd.$cdata[currentParent.tagName] && !dtd.$cdata[match[1]]) {\r\n                            text(currentParent, match[0]);\r\n                        } else {\r\n                            var tmpParent = currentParent;\r\n                            while (currentParent.type == 'element' && currentParent.tagName != match[1].toLowerCase()) {\r\n                                currentParent = currentParent.parentNode;\r\n                                if (currentParent.type == 'root') {\r\n                                    currentParent = tmpParent;\r\n                                    throw 'break'\r\n                                }\r\n                            }\r\n                            //end tag\r\n                            currentParent = currentParent.parentNode;\r\n                        }\r\n\r\n                    }\r\n\r\n                } else if (match[2]) {\r\n                    //comment\r\n                    comment(currentParent, match[2])\r\n                }\r\n            } catch (e) {}\r\n\r\n            nextIndex = re_tag.lastIndex;\r\n\r\n        }\r\n        //如果结束是文本，就有可能丢掉，所以这里手动判断一下\r\n        //例如 <li>sdfsdfsdf<li>sdfsdfsdfsdf\r\n        if (nextIndex < htmlstr.length) {\r\n            text(currentParent, htmlstr.slice(nextIndex));\r\n        }\r\n        return root;\r\n    };\r\n\r\n\r\n    // core/filternode.js\r\n    /**\r\n     * UE过滤节点的静态方法\r\n     * @file\r\n     */\r\n\r\n    /**\r\n     * UEditor公用空间，UEditor所有的功能都挂载在该空间下\r\n     * @module UE\r\n     */\r\n\r\n\r\n    /**\r\n     * 根据传入节点和过滤规则过滤相应节点\r\n     * @module UE\r\n     * @since 1.2.6.1\r\n     * @method filterNode\r\n     * @param { Object } root 指定root节点\r\n     * @param { Object } rules 过滤规则json对象\r\n     * @example\r\n     * ```javascript\r\n     * UE.filterNode(root,editor.options.filterRules);\r\n     * ```\r\n     */\r\n    var filterNode = UE.filterNode = function() {\r\n        function filterNode(node, rules) {\r\n            switch (node.type) {\r\n                case 'text':\r\n                    break;\r\n                case 'element':\r\n                    var val;\r\n                    if (val = rules[node.tagName]) {\r\n                        if (val === '-') {\r\n                            node.parentNode.removeChild(node)\r\n                        } else if (utils.isFunction(val)) {\r\n                            var parentNode = node.parentNode,\r\n                                index = node.getIndex();\r\n                            val(node);\r\n                            if (node.parentNode) {\r\n                                if (node.children) {\r\n                                    for (var i = 0, ci; ci = node.children[i];) {\r\n                                        filterNode(ci, rules);\r\n                                        if (ci.parentNode) {\r\n                                            i++;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                for (var i = index, ci; ci = parentNode.children[i];) {\r\n                                    filterNode(ci, rules);\r\n                                    if (ci.parentNode) {\r\n                                        i++;\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n\r\n                        } else {\r\n                            var attrs = val['$'];\r\n                            if (attrs && node.attrs) {\r\n                                var tmpAttrs = {},\r\n                                    tmpVal;\r\n                                for (var a in attrs) {\r\n                                    tmpVal = node.getAttr(a);\r\n                                    //todo 只先对style单独处理\r\n                                    if (a == 'style' && utils.isArray(attrs[a])) {\r\n                                        var tmpCssStyle = [];\r\n                                        utils.each(attrs[a], function(v) {\r\n                                            var tmp;\r\n                                            if (tmp = node.getStyle(v)) {\r\n                                                tmpCssStyle.push(v + ':' + tmp);\r\n                                            }\r\n                                        });\r\n                                        tmpVal = tmpCssStyle.join(';')\r\n                                    }\r\n                                    if (tmpVal) {\r\n                                        tmpAttrs[a] = tmpVal;\r\n                                    }\r\n\r\n                                }\r\n                                node.attrs = tmpAttrs;\r\n                            }\r\n                            if (node.children) {\r\n                                for (var i = 0, ci; ci = node.children[i];) {\r\n                                    filterNode(ci, rules);\r\n                                    if (ci.parentNode) {\r\n                                        i++;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    } else {\r\n                        //如果不在名单里扣出子节点并删除该节点,cdata除外\r\n                        if (dtd.$cdata[node.tagName]) {\r\n                            node.parentNode.removeChild(node)\r\n                        } else {\r\n                            var parentNode = node.parentNode,\r\n                                index = node.getIndex();\r\n                            node.parentNode.removeChild(node, true);\r\n                            for (var i = index, ci; ci = parentNode.children[i];) {\r\n                                filterNode(ci, rules);\r\n                                if (ci.parentNode) {\r\n                                    i++;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'comment':\r\n                    node.parentNode.removeChild(node)\r\n            }\r\n\r\n        }\r\n        return function(root, rules) {\r\n            if (utils.isEmptyObject(rules)) {\r\n                return root;\r\n            }\r\n            var val;\r\n            if (val = rules['-']) {\r\n                utils.each(val.split(' '), function(k) {\r\n                    rules[k] = '-'\r\n                })\r\n            }\r\n            for (var i = 0, ci; ci = root.children[i];) {\r\n                filterNode(ci, rules);\r\n                if (ci.parentNode) {\r\n                    i++;\r\n                }\r\n            }\r\n            return root;\r\n        }\r\n    }();\r\n\r\n    // core/plugin.js\r\n    /**\r\n     * Created with JetBrains PhpStorm.\r\n     * User: campaign\r\n     * Date: 10/8/13\r\n     * Time: 6:15 PM\r\n     * To change this template use File | Settings | File Templates.\r\n     */\r\n    UE.plugin = function() {\r\n        var _plugins = {};\r\n        return {\r\n            register: function(pluginName, fn, oldOptionName, afterDisabled) {\r\n                if (oldOptionName && utils.isFunction(oldOptionName)) {\r\n                    afterDisabled = oldOptionName;\r\n                    oldOptionName = null\r\n                }\r\n                _plugins[pluginName] = {\r\n                    optionName: oldOptionName || pluginName,\r\n                    execFn: fn,\r\n                    //当插件被禁用时执行\r\n                    afterDisabled: afterDisabled\r\n                }\r\n            },\r\n            load: function(editor) {\r\n                utils.each(_plugins, function(plugin) {\r\n                    var _export = plugin.execFn.call(editor);\r\n                    if (editor.options[plugin.optionName] !== false) {\r\n                        if (_export) {\r\n                            //后边需要再做扩展\r\n                            utils.each(_export, function(v, k) {\r\n                                switch (k.toLowerCase()) {\r\n                                    case 'shortcutkey':\r\n                                        editor.addshortcutkey(v);\r\n                                        break;\r\n                                    case 'bindevents':\r\n                                        utils.each(v, function(fn, eventName) {\r\n                                            editor.addListener(eventName, fn);\r\n                                        });\r\n                                        break;\r\n                                    case 'bindmultievents':\r\n                                        utils.each(utils.isArray(v) ? v : [v], function(event) {\r\n                                            var types = utils.trim(event.type).split(/\\s+/);\r\n                                            utils.each(types, function(eventName) {\r\n                                                editor.addListener(eventName, event.handler);\r\n                                            });\r\n                                        });\r\n                                        break;\r\n                                    case 'commands':\r\n                                        utils.each(v, function(execFn, execName) {\r\n                                            editor.commands[execName] = execFn\r\n                                        });\r\n                                        break;\r\n                                    case 'outputrule':\r\n                                        editor.addOutputRule(v);\r\n                                        break;\r\n                                    case 'inputrule':\r\n                                        editor.addInputRule(v);\r\n                                        break;\r\n                                    case 'defaultoptions':\r\n                                        editor.setOpt(v)\r\n                                }\r\n                            })\r\n                        }\r\n\r\n                    } else if (plugin.afterDisabled) {\r\n                        plugin.afterDisabled.call(editor)\r\n                    }\r\n\r\n                });\r\n                //向下兼容\r\n                utils.each(UE.plugins, function(plugin) {\r\n                    plugin.call(editor);\r\n                });\r\n            },\r\n            run: function(pluginName, editor) {\r\n                var plugin = _plugins[pluginName];\r\n                if (plugin) {\r\n                    plugin.exeFn.call(editor)\r\n                }\r\n            }\r\n        }\r\n    }();\r\n\r\n    // core/keymap.js\r\n    var keymap = UE.keymap = {\r\n        'Backspace': 8,\r\n        'Tab': 9,\r\n        'Enter': 13,\r\n\r\n        'Shift': 16,\r\n        'Control': 17,\r\n        'Alt': 18,\r\n        'CapsLock': 20,\r\n\r\n        'Esc': 27,\r\n\r\n        'Spacebar': 32,\r\n\r\n        'PageUp': 33,\r\n        'PageDown': 34,\r\n        'End': 35,\r\n        'Home': 36,\r\n\r\n        'Left': 37,\r\n        'Up': 38,\r\n        'Right': 39,\r\n        'Down': 40,\r\n\r\n        'Insert': 45,\r\n\r\n        'Del': 46,\r\n\r\n        'NumLock': 144,\r\n\r\n        'Cmd': 91,\r\n\r\n        '=': 187,\r\n        '-': 189,\r\n\r\n        \"b\": 66,\r\n        'i': 73,\r\n        //回退\r\n        'z': 90,\r\n        'y': 89,\r\n        //粘贴\r\n        'v': 86,\r\n        'x': 88,\r\n\r\n        's': 83,\r\n\r\n        'n': 78\r\n    };\r\n\r\n    // core/localstorage.js\r\n    //存储媒介封装\r\n    var LocalStorage = UE.LocalStorage = (function() {\r\n\r\n        var storage = window.localStorage || getUserData() || null,\r\n            LOCAL_FILE = 'localStorage';\r\n\r\n        return {\r\n\r\n            saveLocalData: function(key, data) {\r\n\r\n                if (storage && data) {\r\n                    storage.setItem(key, data);\r\n                    return true;\r\n                }\r\n\r\n                return false;\r\n\r\n            },\r\n\r\n            getLocalData: function(key) {\r\n\r\n                if (storage) {\r\n                    return storage.getItem(key);\r\n                }\r\n\r\n                return null;\r\n\r\n            },\r\n\r\n            removeItem: function(key) {\r\n\r\n                storage && storage.removeItem(key);\r\n\r\n            }\r\n\r\n        };\r\n\r\n        function getUserData() {\r\n\r\n            var container = document.createElement(\"div\");\r\n            container.style.display = \"none\";\r\n\r\n            if (!container.addBehavior) {\r\n                return null;\r\n            }\r\n\r\n            container.addBehavior(\"#default#userdata\");\r\n\r\n            return {\r\n\r\n                getItem: function(key) {\r\n\r\n                    var result = null;\r\n\r\n                    try {\r\n                        document.body.appendChild(container);\r\n                        container.load(LOCAL_FILE);\r\n                        result = container.getAttribute(key);\r\n                        document.body.removeChild(container);\r\n                    } catch (e) {}\r\n\r\n                    return result;\r\n\r\n                },\r\n\r\n                setItem: function(key, value) {\r\n\r\n                    document.body.appendChild(container);\r\n                    container.setAttribute(key, value);\r\n                    container.save(LOCAL_FILE);\r\n                    document.body.removeChild(container);\r\n\r\n                },\r\n\r\n                //// 暂时没有用到\r\n                //clear: function () {\r\n                //\r\n                //    var expiresTime = new Date();\r\n                //    expiresTime.setFullYear(expiresTime.getFullYear() - 1);\r\n                //    document.body.appendChild(container);\r\n                //    container.expires = expiresTime.toUTCString();\r\n                //    container.save(LOCAL_FILE);\r\n                //    document.body.removeChild(container);\r\n                //\r\n                //},\r\n\r\n                removeItem: function(key) {\r\n\r\n                    document.body.appendChild(container);\r\n                    container.removeAttribute(key);\r\n                    container.save(LOCAL_FILE);\r\n                    document.body.removeChild(container);\r\n\r\n                }\r\n\r\n            };\r\n\r\n        }\r\n\r\n    })();\r\n\r\n    (function() {\r\n\r\n        var ROOTKEY = 'ueditor_preference';\r\n\r\n        UE.Editor.prototype.setPreferences = function(key, value) {\r\n            var obj = {};\r\n            if (utils.isString(key)) {\r\n                obj[key] = value;\r\n            } else {\r\n                obj = key;\r\n            }\r\n            var data = LocalStorage.getLocalData(ROOTKEY);\r\n            if (data && (data = utils.str2json(data))) {\r\n                utils.extend(data, obj);\r\n            } else {\r\n                data = obj;\r\n            }\r\n            data && LocalStorage.saveLocalData(ROOTKEY, utils.json2str(data));\r\n        };\r\n\r\n        UE.Editor.prototype.getPreferences = function(key) {\r\n            var data = LocalStorage.getLocalData(ROOTKEY);\r\n            if (data && (data = utils.str2json(data))) {\r\n                return key ? data[key] : data\r\n            }\r\n            return null;\r\n        };\r\n\r\n        UE.Editor.prototype.removePreferences = function(key) {\r\n            var data = LocalStorage.getLocalData(ROOTKEY);\r\n            if (data && (data = utils.str2json(data))) {\r\n                data[key] = undefined;\r\n                delete data[key]\r\n            }\r\n            data && LocalStorage.saveLocalData(ROOTKEY, utils.json2str(data));\r\n        };\r\n\r\n    })();\r\n\r\n\r\n    // plugins/defaultfilter.js\r\n    ///import core\r\n    ///plugin 编辑器默认的过滤转换机制\r\n\r\n    UE.plugins['defaultfilter'] = function() {\r\n        var me = this;\r\n        me.setOpt({\r\n            'allowDivTransToP': true,\r\n            'disabledTableInTable': true\r\n        });\r\n        //默认的过滤处理\r\n        //进入编辑器的内容处理\r\n        me.addInputRule(function(root) {\r\n            var allowDivTransToP = this.options.allowDivTransToP;\r\n            var val;\r\n\r\n            function tdParent(node) {\r\n                while (node && node.type == 'element') {\r\n                    if (node.tagName == 'td') {\r\n                        return true;\r\n                    }\r\n                    node = node.parentNode;\r\n                }\r\n                return false;\r\n            }\r\n            //进行默认的处理\r\n            root.traversal(function(node) {\r\n                if (node.type == 'element') {\r\n                    if (!dtd.$cdata[node.tagName] && me.options.autoClearEmptyNode && dtd.$inline[node.tagName] && !dtd.$empty[node.tagName] && (!node.attrs || utils.isEmptyObject(node.attrs))) {\r\n                        if (!node.firstChild()) node.parentNode.removeChild(node);\r\n                        else if (node.tagName == 'span' && (!node.attrs || utils.isEmptyObject(node.attrs))) {\r\n                            node.parentNode.removeChild(node, true)\r\n                        }\r\n                        return;\r\n                    }\r\n                    switch (node.tagName) {\r\n                        case 'style':\r\n                        case 'script':\r\n                            node.setAttr({\r\n                                cdata_tag: node.tagName,\r\n                                cdata_data: (node.innerHTML() || ''),\r\n                                '_ue_custom_node_': 'true'\r\n                            });\r\n                            node.tagName = 'div';\r\n                            node.innerHTML('');\r\n                            break;\r\n                        case 'a':\r\n                            if (val = node.getAttr('href')) {\r\n                                node.setAttr('_href', val)\r\n                            }\r\n                            break;\r\n                        case 'img':\r\n                            //todo base64暂时去掉，后边做远程图片上传后，干掉这个\r\n                            if (val = node.getAttr('src')) {\r\n                                if (/^data:/.test(val)) {\r\n                                    node.parentNode.removeChild(node);\r\n                                    break;\r\n                                }\r\n                            }\r\n                            node.setAttr('_src', node.getAttr('src'));\r\n                            break;\r\n                        case 'span':\r\n                            if (browser.webkit && (val = node.getStyle('white-space'))) {\r\n                                if (/nowrap|normal/.test(val)) {\r\n                                    node.setStyle('white-space', '');\r\n                                    if (me.options.autoClearEmptyNode && utils.isEmptyObject(node.attrs)) {\r\n                                        node.parentNode.removeChild(node, true)\r\n                                    }\r\n                                }\r\n                            }\r\n                            val = node.getAttr('id');\r\n                            if (val && /^_baidu_bookmark_/i.test(val)) {\r\n                                node.parentNode.removeChild(node)\r\n                            }\r\n                            break;\r\n                        case 'p':\r\n                            if (val = node.getAttr('align')) {\r\n                                node.setAttr('align');\r\n                                node.setStyle('text-align', val)\r\n                            }\r\n                            //trace:3431\r\n                            //                        var cssStyle = node.getAttr('style');\r\n                            //                        if (cssStyle) {\r\n                            //                            cssStyle = cssStyle.replace(/(margin|padding)[^;]+/g, '');\r\n                            //                            node.setAttr('style', cssStyle)\r\n                            //\r\n                            //                        }\r\n                            //p标签不允许嵌套\r\n                            utils.each(node.children, function(n) {\r\n                                if (n.type == 'element' && n.tagName == 'p') {\r\n                                    var next = n.nextSibling();\r\n                                    node.parentNode.insertAfter(n, node);\r\n                                    var last = n;\r\n                                    while (next) {\r\n                                        var tmp = next.nextSibling();\r\n                                        node.parentNode.insertAfter(next, last);\r\n                                        last = next;\r\n                                        next = tmp;\r\n                                    }\r\n                                    return false;\r\n                                }\r\n                            });\r\n                            if (!node.firstChild()) {\r\n                                node.innerHTML(browser.ie ? '&nbsp;' : '<br/>')\r\n                            }\r\n                            break;\r\n                        case 'div':\r\n                            if (node.getAttr('cdata_tag')) {\r\n                                break;\r\n                            }\r\n                            //针对代码这里不处理插入代码的div\r\n                            val = node.getAttr('class');\r\n                            if (val && /^line number\\d+/.test(val)) {\r\n                                break;\r\n                            }\r\n                            if (!allowDivTransToP) {\r\n                                break;\r\n                            }\r\n                            var tmpNode, p = UE.uNode.createElement('p');\r\n                            while (tmpNode = node.firstChild()) {\r\n                                if (tmpNode.type == 'text' || !UE.dom.dtd.$block[tmpNode.tagName]) {\r\n                                    p.appendChild(tmpNode);\r\n                                } else {\r\n                                    if (p.firstChild()) {\r\n                                        node.parentNode.insertBefore(p, node);\r\n                                        p = UE.uNode.createElement('p');\r\n                                    } else {\r\n                                        node.parentNode.insertBefore(tmpNode, node);\r\n                                    }\r\n                                }\r\n                            }\r\n                            if (p.firstChild()) {\r\n                                node.parentNode.insertBefore(p, node);\r\n                            }\r\n                            node.parentNode.removeChild(node);\r\n                            break;\r\n                        case 'dl':\r\n                            node.tagName = 'ul';\r\n                            break;\r\n                        case 'dt':\r\n                        case 'dd':\r\n                            node.tagName = 'li';\r\n                            break;\r\n                        case 'li':\r\n                            var className = node.getAttr('class');\r\n                            if (!className || !/list\\-/.test(className)) {\r\n                                node.setAttr()\r\n                            }\r\n                            var tmpNodes = node.getNodesByTagName('ol ul');\r\n                            UE.utils.each(tmpNodes, function(n) {\r\n                                node.parentNode.insertAfter(n, node);\r\n                            });\r\n                            break;\r\n                        case 'td':\r\n                        case 'th':\r\n                        case 'caption':\r\n                            if (!node.children || !node.children.length) {\r\n                                node.appendChild(browser.ie11below ? UE.uNode.createText(' ') : UE.uNode.createElement('br'))\r\n                            }\r\n                            break;\r\n                        case 'table':\r\n                            if (me.options.disabledTableInTable && tdParent(node)) {\r\n                                node.parentNode.insertBefore(UE.uNode.createText(node.innerText()), node);\r\n                                node.parentNode.removeChild(node)\r\n                            }\r\n                    }\r\n\r\n                }\r\n                //            if(node.type == 'comment'){\r\n                //                node.parentNode.removeChild(node);\r\n                //            }\r\n            })\r\n\r\n        });\r\n\r\n        //从编辑器出去的内容处理\r\n        me.addOutputRule(function(root) {\r\n\r\n            var val;\r\n            root.traversal(function(node) {\r\n                if (node.type == 'element') {\r\n\r\n                    if (me.options.autoClearEmptyNode && dtd.$inline[node.tagName] && !dtd.$empty[node.tagName] && (!node.attrs || utils.isEmptyObject(node.attrs))) {\r\n\r\n                        if (!node.firstChild()) node.parentNode.removeChild(node);\r\n                        else if (node.tagName == 'span' && (!node.attrs || utils.isEmptyObject(node.attrs))) {\r\n                            node.parentNode.removeChild(node, true)\r\n                        }\r\n                        return;\r\n                    }\r\n                    switch (node.tagName) {\r\n                        case 'div':\r\n                            if (val = node.getAttr('cdata_tag')) {\r\n                                node.tagName = val;\r\n                                node.appendChild(UE.uNode.createText(node.getAttr('cdata_data')));\r\n                                node.setAttr({ cdata_tag: '', cdata_data: '', '_ue_custom_node_': '' });\r\n                            }\r\n                            break;\r\n                        case 'a':\r\n                            if (val = node.getAttr('_href')) {\r\n                                node.setAttr({\r\n                                    'href': utils.html(val),\r\n                                    '_href': ''\r\n                                })\r\n                            }\r\n                            break;\r\n                            break;\r\n                        case 'span':\r\n                            val = node.getAttr('id');\r\n                            if (val && /^_baidu_bookmark_/i.test(val)) {\r\n                                node.parentNode.removeChild(node)\r\n                            }\r\n                            break;\r\n                        case 'img':\r\n                            if (val = node.getAttr('_src')) {\r\n                                node.setAttr({\r\n                                    'src': node.getAttr('_src'),\r\n                                    '_src': ''\r\n                                })\r\n                            }\r\n\r\n\r\n                    }\r\n                }\r\n\r\n            })\r\n\r\n\r\n        });\r\n    };\r\n\r\n\r\n    // plugins/inserthtml.js\r\n    /**\r\n     * 插入html字符串插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 插入html代码\r\n     * @command inserthtml\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { String } html 插入的html字符串\r\n     * @remaind 插入的标签内容是在当前的选区位置上插入，如果当前是闭合状态，那直接插入内容， 如果当前是选中状态，将先清除当前选中内容后，再做插入\r\n     * @warning 注意:该命令会对当前选区的位置，对插入的内容进行过滤转换处理。 过滤的规则遵循html语意化的原则。\r\n     * @example\r\n     * ```javascript\r\n     * //xxx[BB]xxx 当前选区为非闭合选区，选中BB这两个文本\r\n     * //执行命令，插入<b>CC</b>\r\n     * //插入后的效果 xxx<b>CC</b>xxx\r\n     * //<p>xx|xxx</p> 当前选区为闭合状态\r\n     * //插入<p>CC</p>\r\n     * //结果 <p>xx</p><p>CC</p><p>xxx</p>\r\n     * //<p>xxxx</p>|</p>xxx</p> 当前选区在两个p标签之间\r\n     * //插入 xxxx\r\n     * //结果 <p>xxxx</p><p>xxxx</p></p>xxx</p>\r\n     * ```\r\n     */\r\n\r\n    UE.commands['inserthtml'] = {\r\n        execCommand: function(command, html, notNeedFilter) {\r\n            var me = this,\r\n                range,\r\n                div;\r\n            if (!html) {\r\n                return;\r\n            }\r\n            if (me.fireEvent('beforeinserthtml', html) === true) {\r\n                return;\r\n            }\r\n            range = me.selection.getRange();\r\n            div = range.document.createElement('div');\r\n            div.style.display = 'inline';\r\n\r\n            if (!notNeedFilter) {\r\n                var root = UE.htmlparser(html);\r\n                //如果给了过滤规则就先进行过滤\r\n                if (me.options.filterRules) {\r\n                    UE.filterNode(root, me.options.filterRules);\r\n                }\r\n                //执行默认的处理\r\n                me.filterInputRule(root);\r\n                html = root.toHtml()\r\n            }\r\n            div.innerHTML = utils.trim(html);\r\n\r\n            if (!range.collapsed) {\r\n                var tmpNode = range.startContainer;\r\n                if (domUtils.isFillChar(tmpNode)) {\r\n                    range.setStartBefore(tmpNode)\r\n                }\r\n                tmpNode = range.endContainer;\r\n                if (domUtils.isFillChar(tmpNode)) {\r\n                    range.setEndAfter(tmpNode)\r\n                }\r\n                range.txtToElmBoundary();\r\n                //结束边界可能放到了br的前边，要把br包含进来\r\n                // x[xxx]<br/>\r\n                if (range.endContainer && range.endContainer.nodeType == 1) {\r\n                    tmpNode = range.endContainer.childNodes[range.endOffset];\r\n                    if (tmpNode && domUtils.isBr(tmpNode)) {\r\n                        range.setEndAfter(tmpNode);\r\n                    }\r\n                }\r\n                if (range.startOffset == 0) {\r\n                    tmpNode = range.startContainer;\r\n                    if (domUtils.isBoundaryNode(tmpNode, 'firstChild')) {\r\n                        tmpNode = range.endContainer;\r\n                        if (range.endOffset == (tmpNode.nodeType == 3 ? tmpNode.nodeValue.length : tmpNode.childNodes.length) && domUtils.isBoundaryNode(tmpNode, 'lastChild')) {\r\n                            me.body.innerHTML = '<p>' + (browser.ie ? '' : '<br/>') + '</p>';\r\n                            range.setStart(me.body.firstChild, 0).collapse(true)\r\n\r\n                        }\r\n                    }\r\n                }!range.collapsed && range.deleteContents();\r\n                if (range.startContainer.nodeType == 1) {\r\n                    var child = range.startContainer.childNodes[range.startOffset],\r\n                        pre;\r\n                    if (child && domUtils.isBlockElm(child) && (pre = child.previousSibling) && domUtils.isBlockElm(pre)) {\r\n                        range.setEnd(pre, pre.childNodes.length).collapse();\r\n                        while (child.firstChild) {\r\n                            pre.appendChild(child.firstChild);\r\n                        }\r\n                        domUtils.remove(child);\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n\r\n            var child, parent, pre, tmp, hadBreak = 0,\r\n                nextNode;\r\n            //如果当前位置选中了fillchar要干掉，要不会产生空行\r\n            if (range.inFillChar()) {\r\n                child = range.startContainer;\r\n                if (domUtils.isFillChar(child)) {\r\n                    range.setStartBefore(child).collapse(true);\r\n                    domUtils.remove(child);\r\n                } else if (domUtils.isFillChar(child, true)) {\r\n                    child.nodeValue = child.nodeValue.replace(fillCharReg, '');\r\n                    range.startOffset--;\r\n                    range.collapsed && range.collapse(true)\r\n                }\r\n            }\r\n            //列表单独处理\r\n            var li = domUtils.findParentByTagName(range.startContainer, 'li', true);\r\n            if (li) {\r\n                var next, last;\r\n                while (child = div.firstChild) {\r\n                    //针对hr单独处理一下先\r\n                    while (child && (child.nodeType == 3 || !domUtils.isBlockElm(child) || child.tagName == 'HR')) {\r\n                        next = child.nextSibling;\r\n                        range.insertNode(child).collapse();\r\n                        last = child;\r\n                        child = next;\r\n\r\n                    }\r\n                    if (child) {\r\n                        if (/^(ol|ul)$/i.test(child.tagName)) {\r\n                            while (child.firstChild) {\r\n                                last = child.firstChild;\r\n                                domUtils.insertAfter(li, child.firstChild);\r\n                                li = li.nextSibling;\r\n                            }\r\n                            domUtils.remove(child)\r\n                        } else {\r\n                            var tmpLi;\r\n                            next = child.nextSibling;\r\n                            tmpLi = me.document.createElement('li');\r\n                            domUtils.insertAfter(li, tmpLi);\r\n                            tmpLi.appendChild(child);\r\n                            last = child;\r\n                            child = next;\r\n                            li = tmpLi;\r\n                        }\r\n                    }\r\n                }\r\n                li = domUtils.findParentByTagName(range.startContainer, 'li', true);\r\n                if (domUtils.isEmptyBlock(li)) {\r\n                    domUtils.remove(li)\r\n                }\r\n                if (last) {\r\n\r\n                    range.setStartAfter(last).collapse(true).select(true)\r\n                }\r\n            } else {\r\n                while (child = div.firstChild) {\r\n                    if (hadBreak) {\r\n                        var p = me.document.createElement('p');\r\n                        while (child && (child.nodeType == 3 || !dtd.$block[child.tagName])) {\r\n                            nextNode = child.nextSibling;\r\n                            p.appendChild(child);\r\n                            child = nextNode;\r\n                        }\r\n                        if (p.firstChild) {\r\n\r\n                            child = p\r\n                        }\r\n                    }\r\n                    range.insertNode(child);\r\n                    nextNode = child.nextSibling;\r\n                    if (!hadBreak && child.nodeType == domUtils.NODE_ELEMENT && domUtils.isBlockElm(child)) {\r\n\r\n                        parent = domUtils.findParent(child, function(node) { return domUtils.isBlockElm(node); });\r\n                        if (parent && parent.tagName.toLowerCase() != 'body' && !(dtd[parent.tagName][child.nodeName] && child.parentNode === parent)) {\r\n                            if (!dtd[parent.tagName][child.nodeName]) {\r\n                                pre = parent;\r\n                            } else {\r\n                                tmp = child.parentNode;\r\n                                while (tmp !== parent) {\r\n                                    pre = tmp;\r\n                                    tmp = tmp.parentNode;\r\n\r\n                                }\r\n                            }\r\n\r\n\r\n                            domUtils.breakParent(child, pre || tmp);\r\n                            //去掉break后前一个多余的节点  <p>|<[p> ==> <p></p><div></div><p>|</p>\r\n                            var pre = child.previousSibling;\r\n                            domUtils.trimWhiteTextNode(pre);\r\n                            if (!pre.childNodes.length) {\r\n                                domUtils.remove(pre);\r\n                            }\r\n                            //trace:2012,在非ie的情况，切开后剩下的节点有可能不能点入光标添加br占位\r\n\r\n                            if (!browser.ie &&\r\n                                (next = child.nextSibling) &&\r\n                                domUtils.isBlockElm(next) &&\r\n                                next.lastChild &&\r\n                                !domUtils.isBr(next.lastChild)) {\r\n                                next.appendChild(me.document.createElement('br'));\r\n                            }\r\n                            hadBreak = 1;\r\n                        }\r\n                    }\r\n                    var next = child.nextSibling;\r\n                    if (!div.firstChild && next && domUtils.isBlockElm(next)) {\r\n\r\n                        range.setStart(next, 0).collapse(true);\r\n                        break;\r\n                    }\r\n                    range.setEndAfter(child).collapse();\r\n\r\n                }\r\n\r\n                child = range.startContainer;\r\n\r\n                if (nextNode && domUtils.isBr(nextNode)) {\r\n                    domUtils.remove(nextNode)\r\n                }\r\n                //用chrome可能有空白展位符\r\n                if (domUtils.isBlockElm(child) && domUtils.isEmptyNode(child)) {\r\n                    if (nextNode = child.nextSibling) {\r\n                        domUtils.remove(child);\r\n                        if (nextNode.nodeType == 1 && dtd.$block[nextNode.tagName]) {\r\n\r\n                            range.setStart(nextNode, 0).collapse(true).shrinkBoundary()\r\n                        }\r\n                    } else {\r\n\r\n                        try {\r\n                            child.innerHTML = browser.ie ? domUtils.fillChar : '<br/>';\r\n                        } catch (e) {\r\n                            range.setStartBefore(child);\r\n                            domUtils.remove(child)\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n                //加上true因为在删除表情等时会删两次，第一次是删的fillData\r\n                try {\r\n                    range.select(true);\r\n                } catch (e) {}\r\n\r\n            }\r\n\r\n\r\n\r\n            setTimeout(function() {\r\n                range = me.selection.getRange();\r\n                range.scrollToView(me.autoHeightEnabled, me.autoHeightEnabled ? domUtils.getXY(me.iframe).y : 0);\r\n                me.fireEvent('afterinserthtml', html);\r\n            }, 200);\r\n        }\r\n    };\r\n\r\n\r\n    // plugins/autotypeset.js\r\n    /**\r\n     * 自动排版\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 对当前编辑器的内容执行自动排版， 排版的行为根据config配置文件里的“autotypeset”选项进行控制。\r\n     * @command autotypeset\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'autotypeset' );\r\n     * ```\r\n     */\r\n\r\n    UE.plugins['autotypeset'] = function() {\r\n\r\n        this.setOpt({\r\n            'autotypeset': {\r\n                mergeEmptyline: true, //合并空行\r\n                removeClass: true, //去掉冗余的class\r\n                removeEmptyline: false, //去掉空行\r\n                textAlign: \"left\", //段落的排版方式，可以是 left,right,center,justify 去掉这个属性表示不执行排版\r\n                imageBlockLine: 'center', //图片的浮动方式，独占一行剧中,左右浮动，默认: center,left,right,none 去掉这个属性表示不执行排版\r\n                pasteFilter: false, //根据规则过滤没事粘贴进来的内容\r\n                clearFontSize: false, //去掉所有的内嵌字号，使用编辑器默认的字号\r\n                clearFontFamily: false, //去掉所有的内嵌字体，使用编辑器默认的字体\r\n                removeEmptyNode: false, // 去掉空节点\r\n                //可以去掉的标签\r\n                removeTagNames: utils.extend({ div: 1 }, dtd.$removeEmpty),\r\n                indent: false, // 行首缩进\r\n                indentValue: '2em', //行首缩进的大小\r\n                bdc2sb: false,\r\n                tobdc: false\r\n            }\r\n        });\r\n\r\n        var me = this,\r\n            opt = me.options.autotypeset,\r\n            remainClass = {\r\n                'selectTdClass': 1,\r\n                'pagebreak': 1,\r\n                'anchorclass': 1\r\n            },\r\n            remainTag = {\r\n                'li': 1\r\n            },\r\n            tags = {\r\n                div: 1,\r\n                p: 1,\r\n                //trace:2183 这些也认为是行\r\n                blockquote: 1,\r\n                center: 1,\r\n                h1: 1,\r\n                h2: 1,\r\n                h3: 1,\r\n                h4: 1,\r\n                h5: 1,\r\n                h6: 1,\r\n                span: 1\r\n            },\r\n            highlightCont;\r\n        //升级了版本，但配置项目里没有autotypeset\r\n        if (!opt) {\r\n            return;\r\n        }\r\n\r\n        readLocalOpts();\r\n\r\n        function isLine(node, notEmpty) {\r\n            if (!node || node.nodeType == 3)\r\n                return 0;\r\n            if (domUtils.isBr(node))\r\n                return 1;\r\n            if (node && node.parentNode && tags[node.tagName.toLowerCase()]) {\r\n                if (highlightCont && highlightCont.contains(node) ||\r\n                    node.getAttribute('pagebreak')\r\n                ) {\r\n                    return 0;\r\n                }\r\n\r\n                return notEmpty ? !domUtils.isEmptyBlock(node) : domUtils.isEmptyBlock(node, new RegExp('[\\\\s' + domUtils.fillChar +\r\n                    ']', 'g'));\r\n            }\r\n        }\r\n\r\n        function removeNotAttributeSpan(node) {\r\n            if (!node.style.cssText) {\r\n                domUtils.removeAttributes(node, ['style']);\r\n                if (node.tagName.toLowerCase() == 'span' && domUtils.hasNoAttributes(node)) {\r\n                    domUtils.remove(node, true);\r\n                }\r\n            }\r\n        }\r\n\r\n        function autotype(type, html) {\r\n\r\n            var me = this,\r\n                cont;\r\n            if (html) {\r\n                if (!opt.pasteFilter) {\r\n                    return;\r\n                }\r\n                cont = me.document.createElement('div');\r\n                cont.innerHTML = html.html;\r\n            } else {\r\n                cont = me.document.body;\r\n            }\r\n            var nodes = domUtils.getElementsByTagName(cont, '*');\r\n\r\n            // 行首缩进，段落方向，段间距，段内间距\r\n            for (var i = 0, ci; ci = nodes[i++];) {\r\n\r\n                if (me.fireEvent('excludeNodeinautotype', ci) === true) {\r\n                    continue;\r\n                }\r\n                //font-size\r\n                if (opt.clearFontSize && ci.style.fontSize) {\r\n                    domUtils.removeStyle(ci, 'font-size');\r\n\r\n                    removeNotAttributeSpan(ci);\r\n\r\n                }\r\n                //font-family\r\n                if (opt.clearFontFamily && ci.style.fontFamily) {\r\n                    domUtils.removeStyle(ci, 'font-family');\r\n                    removeNotAttributeSpan(ci);\r\n                }\r\n\r\n                if (isLine(ci)) {\r\n                    //合并空行\r\n                    if (opt.mergeEmptyline) {\r\n                        var next = ci.nextSibling,\r\n                            tmpNode, isBr = domUtils.isBr(ci);\r\n                        while (isLine(next)) {\r\n                            tmpNode = next;\r\n                            next = tmpNode.nextSibling;\r\n                            if (isBr && (!next || next && !domUtils.isBr(next))) {\r\n                                break;\r\n                            }\r\n                            domUtils.remove(tmpNode);\r\n                        }\r\n\r\n                    }\r\n                    //去掉空行，保留占位的空行\r\n                    if (opt.removeEmptyline && domUtils.inDoc(ci, cont) && !remainTag[ci.parentNode.tagName.toLowerCase()]) {\r\n                        if (domUtils.isBr(ci)) {\r\n                            next = ci.nextSibling;\r\n                            if (next && !domUtils.isBr(next)) {\r\n                                continue;\r\n                            }\r\n                        }\r\n                        domUtils.remove(ci);\r\n                        continue;\r\n\r\n                    }\r\n\r\n                }\r\n                if (isLine(ci, true) && ci.tagName != 'SPAN') {\r\n                    if (opt.indent) {\r\n                        ci.style.textIndent = opt.indentValue;\r\n                    }\r\n                    if (opt.textAlign) {\r\n                        ci.style.textAlign = opt.textAlign;\r\n                    }\r\n                    // if(opt.lineHeight)\r\n                    //     ci.style.lineHeight = opt.lineHeight + 'cm';\r\n\r\n                }\r\n\r\n                //去掉class,保留的class不去掉\r\n                if (opt.removeClass && ci.className && !remainClass[ci.className.toLowerCase()]) {\r\n\r\n                    if (highlightCont && highlightCont.contains(ci)) {\r\n                        continue;\r\n                    }\r\n                    domUtils.removeAttributes(ci, ['class']);\r\n                }\r\n\r\n                //表情不处理\r\n                if (opt.imageBlockLine && ci.tagName.toLowerCase() == 'img' && !ci.getAttribute('emotion')) {\r\n                    if (html) {\r\n                        var img = ci;\r\n                        switch (opt.imageBlockLine) {\r\n                            case 'left':\r\n                            case 'right':\r\n                            case 'none':\r\n                                var pN = img.parentNode,\r\n                                    tmpNode, pre, next;\r\n                                while (dtd.$inline[pN.tagName] || pN.tagName == 'A') {\r\n                                    pN = pN.parentNode;\r\n                                }\r\n                                tmpNode = pN;\r\n                                if (tmpNode.tagName == 'P' && domUtils.getStyle(tmpNode, 'text-align') == 'center') {\r\n                                    if (!domUtils.isBody(tmpNode) && domUtils.getChildCount(tmpNode, function(node) { return !domUtils.isBr(node) && !domUtils.isWhitespace(node) }) == 1) {\r\n                                        pre = tmpNode.previousSibling;\r\n                                        next = tmpNode.nextSibling;\r\n                                        if (pre && next && pre.nodeType == 1 && next.nodeType == 1 && pre.tagName == next.tagName && domUtils.isBlockElm(pre)) {\r\n                                            pre.appendChild(tmpNode.firstChild);\r\n                                            while (next.firstChild) {\r\n                                                pre.appendChild(next.firstChild);\r\n                                            }\r\n                                            domUtils.remove(tmpNode);\r\n                                            domUtils.remove(next);\r\n                                        } else {\r\n                                            domUtils.setStyle(tmpNode, 'text-align', '');\r\n                                        }\r\n\r\n\r\n                                    }\r\n\r\n\r\n                                }\r\n                                domUtils.setStyle(img, 'float', opt.imageBlockLine);\r\n                                break;\r\n                            case 'center':\r\n                                if (me.queryCommandValue('imagefloat') != 'center') {\r\n                                    pN = img.parentNode;\r\n                                    domUtils.setStyle(img, 'float', 'none');\r\n                                    tmpNode = img;\r\n                                    while (pN && domUtils.getChildCount(pN, function(node) { return !domUtils.isBr(node) && !domUtils.isWhitespace(node) }) == 1 &&\r\n                                        (dtd.$inline[pN.tagName] || pN.tagName == 'A')) {\r\n                                        tmpNode = pN;\r\n                                        pN = pN.parentNode;\r\n                                    }\r\n                                    var pNode = me.document.createElement('p');\r\n                                    domUtils.setAttributes(pNode, {\r\n\r\n                                        style: 'text-align:center'\r\n                                    });\r\n                                    tmpNode.parentNode.insertBefore(pNode, tmpNode);\r\n                                    pNode.appendChild(tmpNode);\r\n                                    domUtils.setStyle(tmpNode, 'float', '');\r\n\r\n                                }\r\n\r\n\r\n                        }\r\n                    } else {\r\n                        var range = me.selection.getRange();\r\n                        range.selectNode(ci).select();\r\n                        me.execCommand('imagefloat', opt.imageBlockLine);\r\n                    }\r\n\r\n                }\r\n\r\n                //去掉冗余的标签\r\n                if (opt.removeEmptyNode) {\r\n                    if (opt.removeTagNames[ci.tagName.toLowerCase()] && domUtils.hasNoAttributes(ci) && domUtils.isEmptyBlock(ci)) {\r\n                        domUtils.remove(ci);\r\n                    }\r\n                }\r\n            }\r\n            if (opt.tobdc) {\r\n                var root = UE.htmlparser(cont.innerHTML);\r\n                root.traversal(function(node) {\r\n                    if (node.type == 'text') {\r\n                        node.data = ToDBC(node.data)\r\n                    }\r\n                });\r\n                cont.innerHTML = root.toHtml()\r\n            }\r\n            if (opt.bdc2sb) {\r\n                var root = UE.htmlparser(cont.innerHTML);\r\n                root.traversal(function(node) {\r\n                    if (node.type == 'text') {\r\n                        node.data = DBC2SB(node.data)\r\n                    }\r\n                });\r\n                cont.innerHTML = root.toHtml()\r\n            }\r\n            if (html) {\r\n                html.html = cont.innerHTML;\r\n            }\r\n        }\r\n        if (opt.pasteFilter) {\r\n            me.addListener('beforepaste', autotype);\r\n        }\r\n\r\n        function DBC2SB(str) {\r\n            var result = '';\r\n            for (var i = 0; i < str.length; i++) {\r\n                var code = str.charCodeAt(i); //获取当前字符的unicode编码\r\n                if (code >= 65281 && code <= 65373) //在这个unicode编码范围中的是所有的英文字母已经各种字符\r\n                {\r\n                    result += String.fromCharCode(str.charCodeAt(i) - 65248); //把全角字符的unicode编码转换为对应半角字符的unicode码\r\n                } else if (code == 12288) //空格\r\n                {\r\n                    result += String.fromCharCode(str.charCodeAt(i) - 12288 + 32);\r\n                } else {\r\n                    result += str.charAt(i);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n\r\n        function ToDBC(txtstring) {\r\n            txtstring = utils.html(txtstring);\r\n            var tmp = \"\";\r\n            var mark = \"\"; /*用于判断,如果是html尖括里的标记,则不进行全角的转换*/\r\n            for (var i = 0; i < txtstring.length; i++) {\r\n                if (txtstring.charCodeAt(i) == 32) {\r\n                    tmp = tmp + String.fromCharCode(12288);\r\n                } else if (txtstring.charCodeAt(i) < 127) {\r\n                    tmp = tmp + String.fromCharCode(txtstring.charCodeAt(i) + 65248);\r\n                } else {\r\n                    tmp += txtstring.charAt(i);\r\n                }\r\n            }\r\n            return tmp;\r\n        }\r\n\r\n        function readLocalOpts() {\r\n            var cookieOpt = me.getPreferences('autotypeset');\r\n            utils.extend(me.options.autotypeset, cookieOpt);\r\n        }\r\n\r\n        me.commands['autotypeset'] = {\r\n            execCommand: function() {\r\n                me.removeListener('beforepaste', autotype);\r\n                if (opt.pasteFilter) {\r\n                    me.addListener('beforepaste', autotype);\r\n                }\r\n                autotype.call(me)\r\n            }\r\n\r\n        };\r\n\r\n    };\r\n\r\n\r\n\r\n    // plugins/autosubmit.js\r\n    /**\r\n     * 快捷键提交\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 提交表单\r\n     * @command autosubmit\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'autosubmit' );\r\n     * ```\r\n     */\r\n\r\n    UE.plugin.register('autosubmit', function() {\r\n        return {\r\n            shortcutkey: {\r\n                \"autosubmit\": \"ctrl+13\" //手动提交\r\n            },\r\n            commands: {\r\n                'autosubmit': {\r\n                    execCommand: function() {\r\n                        var me = this,\r\n                            form = domUtils.findParentByTagName(me.iframe, \"form\", false);\r\n                        if (form) {\r\n                            if (me.fireEvent(\"beforesubmit\") === false) {\r\n                                return;\r\n                            }\r\n                            me.sync();\r\n                            form.submit();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    // plugins/background.js\r\n    /**\r\n     * 背景插件，为UEditor提供设置背景功能\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n    UE.plugin.register('background', function() {\r\n        var me = this,\r\n            cssRuleId = 'editor_background',\r\n            isSetColored,\r\n            reg = new RegExp('body[\\\\s]*\\\\{(.+)\\\\}', 'i');\r\n\r\n        function stringToObj(str) {\r\n            var obj = {},\r\n                styles = str.split(';');\r\n            utils.each(styles, function(v) {\r\n                var index = v.indexOf(':'),\r\n                    key = utils.trim(v.substr(0, index)).toLowerCase();\r\n                key && (obj[key] = utils.trim(v.substr(index + 1) || ''));\r\n            });\r\n            return obj;\r\n        }\r\n\r\n        function setBackground(obj) {\r\n            if (obj) {\r\n                var styles = [];\r\n                for (var name in obj) {\r\n                    if (obj.hasOwnProperty(name)) {\r\n                        styles.push(name + \":\" + obj[name] + '; ');\r\n                    }\r\n                }\r\n                utils.cssRule(cssRuleId, styles.length ? ('body{' + styles.join(\"\") + '}') : '', me.document);\r\n            } else {\r\n                utils.cssRule(cssRuleId, '', me.document)\r\n            }\r\n        }\r\n        //重写editor.hasContent方法\r\n\r\n        var orgFn = me.hasContents;\r\n        me.hasContents = function() {\r\n            if (me.queryCommandValue('background')) {\r\n                return true\r\n            }\r\n            return orgFn.apply(me, arguments);\r\n        };\r\n        return {\r\n            bindEvents: {\r\n                'getAllHtml': function(type, headHtml) {\r\n                    var body = this.body,\r\n                        su = domUtils.getComputedStyle(body, \"background-image\"),\r\n                        url = \"\";\r\n                    if (su.indexOf(me.options.imagePath) > 0) {\r\n                        url = su.substring(su.indexOf(me.options.imagePath), su.length - 1).replace(/\"|\\(|\\)/ig, \"\");\r\n                    } else {\r\n                        url = su != \"none\" ? su.replace(/url\\(\"?|\"?\\)/ig, \"\") : \"\";\r\n                    }\r\n                    var html = '<style type=\"text/css\">body{';\r\n                    var bgObj = {\r\n                        \"background-color\": domUtils.getComputedStyle(body, \"background-color\") || \"#ffffff\",\r\n                        'background-image': url ? 'url(' + url + ')' : '',\r\n                        'background-repeat': domUtils.getComputedStyle(body, \"background-repeat\") || \"\",\r\n                        'background-position': browser.ie ? (domUtils.getComputedStyle(body, \"background-position-x\") + \" \" + domUtils.getComputedStyle(body, \"background-position-y\")) : domUtils.getComputedStyle(body, \"background-position\"),\r\n                        'height': domUtils.getComputedStyle(body, \"height\")\r\n                    };\r\n                    for (var name in bgObj) {\r\n                        if (bgObj.hasOwnProperty(name)) {\r\n                            html += name + \":\" + bgObj[name] + \"; \";\r\n                        }\r\n                    }\r\n                    html += '}</style> ';\r\n                    headHtml.push(html);\r\n                },\r\n                'aftersetcontent': function() {\r\n                    if (isSetColored == false) setBackground();\r\n                }\r\n            },\r\n            inputRule: function(root) {\r\n                isSetColored = false;\r\n                utils.each(root.getNodesByTagName('p'), function(p) {\r\n                    var styles = p.getAttr('data-background');\r\n                    if (styles) {\r\n                        isSetColored = true;\r\n                        setBackground(stringToObj(styles));\r\n                        p.parentNode.removeChild(p);\r\n                    }\r\n                })\r\n            },\r\n            outputRule: function(root) {\r\n                var me = this,\r\n                    styles = (utils.cssRule(cssRuleId, me.document) || '').replace(/[\\n\\r]+/g, '').match(reg);\r\n                if (styles) {\r\n                    root.appendChild(UE.uNode.createElement('<p style=\"display:none;\" data-background=\"' + utils.trim(styles[1].replace(/\"/g, '').replace(/[\\s]+/g, ' ')) + '\"><br/></p>'));\r\n                }\r\n            },\r\n            commands: {\r\n                'background': {\r\n                    execCommand: function(cmd, obj) {\r\n                        setBackground(obj);\r\n                    },\r\n                    queryCommandValue: function() {\r\n                        var me = this,\r\n                            styles = (utils.cssRule(cssRuleId, me.document) || '').replace(/[\\n\\r]+/g, '').match(reg);\r\n                        return styles ? stringToObj(styles[1]) : null;\r\n                    },\r\n                    notNeedUndo: true\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    // plugins/image.js\r\n    /**\r\n     * 图片插入、排版插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 图片对齐方式\r\n     * @command imagefloat\r\n     * @method execCommand\r\n     * @remind 值center为独占一行居中\r\n     * @param { String } cmd 命令字符串\r\n     * @param { String } align 对齐方式，可传left、right、none、center\r\n     * @remaind center表示图片独占一行\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'imagefloat', 'center' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 如果选区所在位置是图片区域\r\n     * @command imagefloat\r\n     * @method queryCommandValue\r\n     * @param { String } cmd 命令字符串\r\n     * @return { String } 返回图片对齐方式\r\n     * @example\r\n     * ```javascript\r\n     * editor.queryCommandValue( 'imagefloat' );\r\n     * ```\r\n     */\r\n\r\n    UE.commands['imagefloat'] = {\r\n        execCommand: function(cmd, align) {\r\n            var me = this,\r\n                range = me.selection.getRange();\r\n            if (!range.collapsed) {\r\n                var img = range.getClosedNode();\r\n                if (img && img.tagName == 'IMG') {\r\n                    switch (align) {\r\n                        case 'left':\r\n                        case 'right':\r\n                        case 'none':\r\n                            var pN = img.parentNode,\r\n                                tmpNode, pre, next;\r\n                            while (dtd.$inline[pN.tagName] || pN.tagName == 'A') {\r\n                                pN = pN.parentNode;\r\n                            }\r\n                            tmpNode = pN;\r\n                            if (tmpNode.tagName == 'P' && domUtils.getStyle(tmpNode, 'text-align') == 'center') {\r\n                                if (!domUtils.isBody(tmpNode) && domUtils.getChildCount(tmpNode, function(node) {\r\n                                        return !domUtils.isBr(node) && !domUtils.isWhitespace(node);\r\n                                    }) == 1) {\r\n                                    pre = tmpNode.previousSibling;\r\n                                    next = tmpNode.nextSibling;\r\n                                    if (pre && next && pre.nodeType == 1 && next.nodeType == 1 && pre.tagName == next.tagName && domUtils.isBlockElm(pre)) {\r\n                                        pre.appendChild(tmpNode.firstChild);\r\n                                        while (next.firstChild) {\r\n                                            pre.appendChild(next.firstChild);\r\n                                        }\r\n                                        domUtils.remove(tmpNode);\r\n                                        domUtils.remove(next);\r\n                                    } else {\r\n                                        domUtils.setStyle(tmpNode, 'text-align', '');\r\n                                    }\r\n\r\n\r\n                                }\r\n\r\n                                range.selectNode(img).select();\r\n                            }\r\n                            domUtils.setStyle(img, 'float', align == 'none' ? '' : align);\r\n                            if (align == 'none') {\r\n                                domUtils.removeAttributes(img, 'align');\r\n                            }\r\n\r\n                            break;\r\n                        case 'center':\r\n                            if (me.queryCommandValue('imagefloat') != 'center') {\r\n                                pN = img.parentNode;\r\n                                domUtils.setStyle(img, 'float', '');\r\n                                domUtils.removeAttributes(img, 'align');\r\n                                tmpNode = img;\r\n                                while (pN && domUtils.getChildCount(pN, function(node) {\r\n                                        return !domUtils.isBr(node) && !domUtils.isWhitespace(node);\r\n                                    }) == 1 &&\r\n                                    (dtd.$inline[pN.tagName] || pN.tagName == 'A')) {\r\n                                    tmpNode = pN;\r\n                                    pN = pN.parentNode;\r\n                                }\r\n                                range.setStartBefore(tmpNode).setCursor(false);\r\n                                pN = me.document.createElement('div');\r\n                                pN.appendChild(tmpNode);\r\n                                domUtils.setStyle(tmpNode, 'float', '');\r\n\r\n                                me.execCommand('insertHtml', '<p id=\"_img_parent_tmp\" style=\"text-align:center\">' + pN.innerHTML + '</p>');\r\n\r\n                                tmpNode = me.document.getElementById('_img_parent_tmp');\r\n                                tmpNode.removeAttribute('id');\r\n                                tmpNode = tmpNode.firstChild;\r\n                                range.selectNode(tmpNode).select();\r\n                                //去掉后边多余的元素\r\n                                next = tmpNode.parentNode.nextSibling;\r\n                                if (next && domUtils.isEmptyNode(next)) {\r\n                                    domUtils.remove(next);\r\n                                }\r\n\r\n                            }\r\n\r\n                            break;\r\n                    }\r\n\r\n                }\r\n            }\r\n        },\r\n        queryCommandValue: function() {\r\n            var range = this.selection.getRange(),\r\n                startNode, floatStyle;\r\n            if (range.collapsed) {\r\n                return 'none';\r\n            }\r\n            startNode = range.getClosedNode();\r\n            if (startNode && startNode.nodeType == 1 && startNode.tagName == 'IMG') {\r\n                floatStyle = domUtils.getComputedStyle(startNode, 'float') || startNode.getAttribute('align');\r\n\r\n                if (floatStyle == 'none') {\r\n                    floatStyle = domUtils.getComputedStyle(startNode.parentNode, 'text-align') == 'center' ? 'center' : floatStyle;\r\n                }\r\n                return {\r\n                    left: 1,\r\n                    right: 1,\r\n                    center: 1\r\n                }[floatStyle] ? floatStyle: 'none';\r\n            }\r\n            return 'none';\r\n\r\n\r\n        },\r\n        queryCommandState: function() {\r\n            var range = this.selection.getRange(),\r\n                startNode;\r\n\r\n            if (range.collapsed) return -1;\r\n\r\n            startNode = range.getClosedNode();\r\n            if (startNode && startNode.nodeType == 1 && startNode.tagName == 'IMG') {\r\n                return 0;\r\n            }\r\n            return -1;\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * 插入图片\r\n     * @command insertimage\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { Object } opt 属性键值对，这些属性都将被复制到当前插入图片\r\n     * @remind 该命令第二个参数可接受一个图片配置项对象的数组，可以插入多张图片，\r\n     * 此时数组的每一个元素都是一个Object类型的图片属性集合。\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'insertimage', {\r\n     *     src:'a/b/c.jpg',\r\n     *     width:'100',\r\n     *     height:'100'\r\n     * } );\r\n     * ```\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'insertimage', [{\r\n     *     src:'a/b/c.jpg',\r\n     *     width:'100',\r\n     *     height:'100'\r\n     * },{\r\n     *     src:'a/b/d.jpg',\r\n     *     width:'100',\r\n     *     height:'100'\r\n     * }] );\r\n     * ```\r\n     */\r\n\r\n    UE.commands['insertimage'] = {\r\n        execCommand: function(cmd, opt) {\r\n\r\n            opt = utils.isArray(opt) ? opt : [opt];\r\n            if (!opt.length) {\r\n                return;\r\n            }\r\n            var me = this,\r\n                range = me.selection.getRange(),\r\n                img = range.getClosedNode();\r\n\r\n            if (me.fireEvent('beforeinsertimage', opt) === true) {\r\n                return;\r\n            }\r\n\r\n            function unhtmlData(imgCi) {\r\n\r\n                utils.each('width,height,border,hspace,vspace'.split(','), function(item) {\r\n\r\n                    if (imgCi[item]) {\r\n                        imgCi[item] = parseInt(imgCi[item], 10) || 0;\r\n                    }\r\n                });\r\n\r\n                utils.each('src,_src'.split(','), function(item) {\r\n\r\n                    if (imgCi[item]) {\r\n                        imgCi[item] = utils.unhtmlForUrl(imgCi[item]);\r\n                    }\r\n                });\r\n                utils.each('title,alt'.split(','), function(item) {\r\n\r\n                    if (imgCi[item]) {\r\n                        imgCi[item] = utils.unhtml(imgCi[item]);\r\n                    }\r\n                });\r\n            }\r\n\r\n            if (img && /img/i.test(img.tagName) && (img.className != \"edui-faked-video\" || img.className.indexOf(\"edui-upload-video\") != -1) && !img.getAttribute(\"word_img\")) {\r\n                var first = opt.shift();\r\n                var floatStyle = first['floatStyle'];\r\n                delete first['floatStyle'];\r\n                ////                img.style.border = (first.border||0) +\"px solid #000\";\r\n                ////                img.style.margin = (first.margin||0) +\"px\";\r\n                //                img.style.cssText += ';margin:' + (first.margin||0) +\"px;\" + 'border:' + (first.border||0) +\"px solid #000\";\r\n                domUtils.setAttributes(img, first);\r\n                me.execCommand('imagefloat', floatStyle);\r\n                if (opt.length > 0) {\r\n                    range.setStartAfter(img).setCursor(false, true);\r\n                    me.execCommand('insertimage', opt);\r\n                }\r\n\r\n            } else {\r\n                var html = [],\r\n                    str = '',\r\n                    ci;\r\n                ci = opt[0];\r\n                if (opt.length == 1) {\r\n                    unhtmlData(ci);\r\n\r\n                    str = '<img src=\"' + ci.src + '\" ' + (ci._src ? ' _src=\"' + ci._src + '\" ' : '') +\r\n                        (ci.width ? 'width=\"' + ci.width + '\" ' : '') +\r\n                        (ci.height ? ' height=\"' + ci.height + '\" ' : '') +\r\n                        (ci['floatStyle'] == 'left' || ci['floatStyle'] == 'right' ? ' style=\"float:' + ci['floatStyle'] + ';\"' : '') +\r\n                        (ci.title && ci.title != \"\" ? ' title=\"' + ci.title + '\"' : '') +\r\n                        (ci.border && ci.border != \"0\" ? ' border=\"' + ci.border + '\"' : '') +\r\n                        (ci.alt && ci.alt != \"\" ? ' alt=\"' + ci.alt + '\"' : '') +\r\n                        (ci.hspace && ci.hspace != \"0\" ? ' hspace = \"' + ci.hspace + '\"' : '') +\r\n                        (ci.vspace && ci.vspace != \"0\" ? ' vspace = \"' + ci.vspace + '\"' : '') + '/>';\r\n                    if (ci['floatStyle'] == 'center') {\r\n                        str = '<p style=\"text-align: center\">' + str + '</p>';\r\n                    }\r\n                    html.push(str);\r\n\r\n                } else {\r\n                    for (var i = 0; ci = opt[i++];) {\r\n                        unhtmlData(ci);\r\n                        str = '<p ' + (ci['floatStyle'] == 'center' ? 'style=\"text-align: center\" ' : '') + '><img src=\"' + ci.src + '\" ' +\r\n                            (ci.width ? 'width=\"' + ci.width + '\" ' : '') + (ci._src ? ' _src=\"' + ci._src + '\" ' : '') +\r\n                            (ci.height ? ' height=\"' + ci.height + '\" ' : '') +\r\n                            ' style=\"' + (ci['floatStyle'] && ci['floatStyle'] != 'center' ? 'float:' + ci['floatStyle'] + ';' : '') +\r\n                            (ci.border || '') + '\" ' +\r\n                            (ci.title ? ' title=\"' + ci.title + '\"' : '') + ' /></p>';\r\n                        html.push(str);\r\n                    }\r\n                }\r\n\r\n                me.execCommand('insertHtml', html.join(''));\r\n            }\r\n\r\n            me.fireEvent('afterinsertimage', opt)\r\n        }\r\n    };\r\n\r\n\r\n    // plugins/justify.js\r\n    /**\r\n     * 段落格式\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 段落对齐方式\r\n     * @command justify\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { String } align 对齐方式：left => 居左，right => 居右，center => 居中，justify => 两端对齐\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'justify', 'center' );\r\n     * ```\r\n     */\r\n    /**\r\n     * 如果选区所在位置是段落区域，返回当前段落对齐方式\r\n     * @command justify\r\n     * @method queryCommandValue\r\n     * @param { String } cmd 命令字符串\r\n     * @return { String } 返回段落对齐方式\r\n     * @example\r\n     * ```javascript\r\n     * editor.queryCommandValue( 'justify' );\r\n     * ```\r\n     */\r\n\r\n    UE.plugins['justify'] = function() {\r\n        var me = this,\r\n            block = domUtils.isBlockElm,\r\n            defaultValue = {\r\n                left: 1,\r\n                right: 1,\r\n                center: 1,\r\n                justify: 1\r\n            },\r\n            doJustify = function(range, style) {\r\n                var bookmark = range.createBookmark(),\r\n                    filterFn = function(node) {\r\n                        return node.nodeType == 1 ? node.tagName.toLowerCase() != 'br' && !domUtils.isBookmarkNode(node) : !domUtils.isWhitespace(node);\r\n                    };\r\n\r\n                range.enlarge(true);\r\n                var bookmark2 = range.createBookmark(),\r\n                    current = domUtils.getNextDomNode(bookmark2.start, false, filterFn),\r\n                    tmpRange = range.cloneRange(),\r\n                    tmpNode;\r\n                while (current && !(domUtils.getPosition(current, bookmark2.end) & domUtils.POSITION_FOLLOWING)) {\r\n                    if (current.nodeType == 3 || !block(current)) {\r\n                        tmpRange.setStartBefore(current);\r\n                        while (current && current !== bookmark2.end && !block(current)) {\r\n                            tmpNode = current;\r\n                            current = domUtils.getNextDomNode(current, false, null, function(node) {\r\n                                return !block(node);\r\n                            });\r\n                        }\r\n                        tmpRange.setEndAfter(tmpNode);\r\n                        var common = tmpRange.getCommonAncestor();\r\n                        if (!domUtils.isBody(common) && block(common)) {\r\n                            domUtils.setStyles(common, utils.isString(style) ? { 'text-align': style } : style);\r\n                            current = common;\r\n                        } else {\r\n                            var p = range.document.createElement('p');\r\n                            domUtils.setStyles(p, utils.isString(style) ? { 'text-align': style } : style);\r\n                            var frag = tmpRange.extractContents();\r\n                            p.appendChild(frag);\r\n                            tmpRange.insertNode(p);\r\n                            current = p;\r\n                        }\r\n                        current = domUtils.getNextDomNode(current, false, filterFn);\r\n                    } else {\r\n                        current = domUtils.getNextDomNode(current, true, filterFn);\r\n                    }\r\n                }\r\n                return range.moveToBookmark(bookmark2).moveToBookmark(bookmark);\r\n            };\r\n\r\n        UE.commands['justify'] = {\r\n            execCommand: function(cmdName, align) {\r\n                var range = this.selection.getRange(),\r\n                    txt;\r\n\r\n                //闭合时单独处理\r\n                if (range.collapsed) {\r\n                    txt = this.document.createTextNode('p');\r\n                    range.insertNode(txt);\r\n                }\r\n                doJustify(range, align);\r\n                if (txt) {\r\n                    range.setStartBefore(txt).collapse(true);\r\n                    domUtils.remove(txt);\r\n                }\r\n\r\n                range.select();\r\n\r\n\r\n                return true;\r\n            },\r\n            queryCommandValue: function() {\r\n                var startNode = this.selection.getStart(),\r\n                    value = domUtils.getComputedStyle(startNode, 'text-align');\r\n                return defaultValue[value] ? value : 'left';\r\n            },\r\n            queryCommandState: function() {\r\n                var start = this.selection.getStart(),\r\n                    cell = start && domUtils.findParentByTagName(start, [\"td\", \"th\", \"caption\"], true);\r\n\r\n                return cell ? -1 : 0;\r\n            }\r\n\r\n        };\r\n    };\r\n\r\n\r\n    // plugins/font.js\r\n    /**\r\n     * 字体颜色,背景色,字号,字体,下划线,删除线\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 字体颜色\r\n     * @command forecolor\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { String } value 色值(必须十六进制)\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'forecolor', '#000' );\r\n     * ```\r\n     */\r\n    /**\r\n     * 返回选区字体颜色\r\n     * @command forecolor\r\n     * @method queryCommandValue\r\n     * @param { String } cmd 命令字符串\r\n     * @return { String } 返回字体颜色\r\n     * @example\r\n     * ```javascript\r\n     * editor.queryCommandValue( 'forecolor' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 字体背景颜色\r\n     * @command backcolor\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { String } value 色值(必须十六进制)\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'backcolor', '#000' );\r\n     * ```\r\n     */\r\n    /**\r\n     * 返回选区字体颜色\r\n     * @command backcolor\r\n     * @method queryCommandValue\r\n     * @param { String } cmd 命令字符串\r\n     * @return { String } 返回字体背景颜色\r\n     * @example\r\n     * ```javascript\r\n     * editor.queryCommandValue( 'backcolor' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 字体大小\r\n     * @command fontsize\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { String } value 字体大小\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'fontsize', '14px' );\r\n     * ```\r\n     */\r\n    /**\r\n     * 返回选区字体大小\r\n     * @command fontsize\r\n     * @method queryCommandValue\r\n     * @param { String } cmd 命令字符串\r\n     * @return { String } 返回字体大小\r\n     * @example\r\n     * ```javascript\r\n     * editor.queryCommandValue( 'fontsize' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 字体样式\r\n     * @command fontfamily\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { String } value 字体样式\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'fontfamily', '微软雅黑' );\r\n     * ```\r\n     */\r\n    /**\r\n     * 返回选区字体样式\r\n     * @command fontfamily\r\n     * @method queryCommandValue\r\n     * @param { String } cmd 命令字符串\r\n     * @return { String } 返回字体样式\r\n     * @example\r\n     * ```javascript\r\n     * editor.queryCommandValue( 'fontfamily' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 字体下划线,与删除线互斥\r\n     * @command underline\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'underline' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 字体删除线,与下划线互斥\r\n     * @command strikethrough\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'strikethrough' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 字体边框\r\n     * @command fontborder\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'fontborder' );\r\n     * ```\r\n     */\r\n\r\n    UE.plugins['font'] = function() {\r\n        var me = this,\r\n            fonts = {\r\n                'forecolor': 'color',\r\n                'backcolor': 'background-color',\r\n                'fontsize': 'font-size',\r\n                'fontfamily': 'font-family',\r\n                'underline': 'text-decoration',\r\n                'strikethrough': 'text-decoration',\r\n                'fontborder': 'border'\r\n            },\r\n            needCmd = { 'underline': 1, 'strikethrough': 1, 'fontborder': 1 },\r\n            needSetChild = {\r\n                'forecolor': 'color',\r\n                'backcolor': 'background-color',\r\n                'fontsize': 'font-size',\r\n                'fontfamily': 'font-family'\r\n\r\n            };\r\n        me.setOpt({\r\n            'fontfamily': [\r\n                { name: 'songti', val: '宋体,SimSun' },\r\n                { name: 'yahei', val: '微软雅黑,Microsoft YaHei' },\r\n                { name: 'kaiti', val: '楷体,楷体_GB2312, SimKai' },\r\n                { name: 'heiti', val: '黑体, SimHei' },\r\n                { name: 'lishu', val: '隶书, SimLi' },\r\n                { name: 'andaleMono', val: 'andale mono' },\r\n                { name: 'arial', val: 'arial, helvetica,sans-serif' },\r\n                { name: 'arialBlack', val: 'arial black,avant garde' },\r\n                { name: 'comicSansMs', val: 'comic sans ms' },\r\n                { name: 'impact', val: 'impact,chicago' },\r\n                { name: 'timesNewRoman', val: 'times new roman' }\r\n            ],\r\n            'fontsize': [10, 11, 12, 14, 16, 18, 20, 24, 36]\r\n        });\r\n\r\n        function mergeWithParent(node) {\r\n            var parent;\r\n            while (parent = node.parentNode) {\r\n                if (parent.tagName == 'SPAN' && domUtils.getChildCount(parent, function(child) {\r\n                        return !domUtils.isBookmarkNode(child) && !domUtils.isBr(child)\r\n                    }) == 1) {\r\n                    parent.style.cssText += node.style.cssText;\r\n                    domUtils.remove(node, true);\r\n                    node = parent;\r\n\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        function mergeChild(rng, cmdName, value) {\r\n            if (needSetChild[cmdName]) {\r\n                rng.adjustmentBoundary();\r\n                if (!rng.collapsed && rng.startContainer.nodeType == 1) {\r\n                    var start = rng.startContainer.childNodes[rng.startOffset];\r\n                    if (start && domUtils.isTagNode(start, 'span')) {\r\n                        var bk = rng.createBookmark();\r\n                        utils.each(domUtils.getElementsByTagName(start, 'span'), function(span) {\r\n                            if (!span.parentNode || domUtils.isBookmarkNode(span)) return;\r\n                            if (cmdName == 'backcolor' && domUtils.getComputedStyle(span, 'background-color').toLowerCase() === value) {\r\n                                return;\r\n                            }\r\n                            domUtils.removeStyle(span, needSetChild[cmdName]);\r\n                            if (span.style.cssText.replace(/^\\s+$/, '').length == 0) {\r\n                                domUtils.remove(span, true)\r\n                            }\r\n                        });\r\n                        rng.moveToBookmark(bk)\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        function mergesibling(rng, cmdName, value) {\r\n            var collapsed = rng.collapsed,\r\n                bk = rng.createBookmark(),\r\n                common;\r\n            if (collapsed) {\r\n                common = bk.start.parentNode;\r\n                while (dtd.$inline[common.tagName]) {\r\n                    common = common.parentNode;\r\n                }\r\n            } else {\r\n                common = domUtils.getCommonAncestor(bk.start, bk.end);\r\n            }\r\n            utils.each(domUtils.getElementsByTagName(common, 'span'), function(span) {\r\n                if (!span.parentNode || domUtils.isBookmarkNode(span)) return;\r\n                if (/\\s*border\\s*:\\s*none;?\\s*/i.test(span.style.cssText)) {\r\n                    if (/^\\s*border\\s*:\\s*none;?\\s*$/.test(span.style.cssText)) {\r\n                        domUtils.remove(span, true);\r\n                    } else {\r\n                        domUtils.removeStyle(span, 'border');\r\n                    }\r\n                    return\r\n                }\r\n                if (/border/i.test(span.style.cssText) && span.parentNode.tagName == 'SPAN' && /border/i.test(span.parentNode.style.cssText)) {\r\n                    span.style.cssText = span.style.cssText.replace(/border[^:]*:[^;]+;?/gi, '');\r\n                }\r\n                if (!(cmdName == 'fontborder' && value == 'none')) {\r\n                    var next = span.nextSibling;\r\n                    while (next && next.nodeType == 1 && next.tagName == 'SPAN') {\r\n                        if (domUtils.isBookmarkNode(next) && cmdName == 'fontborder') {\r\n                            span.appendChild(next);\r\n                            next = span.nextSibling;\r\n                            continue;\r\n                        }\r\n                        if (next.style.cssText == span.style.cssText) {\r\n                            domUtils.moveChild(next, span);\r\n                            domUtils.remove(next);\r\n                        }\r\n                        if (span.nextSibling === next)\r\n                            break;\r\n                        next = span.nextSibling;\r\n                    }\r\n                }\r\n\r\n\r\n                mergeWithParent(span);\r\n                if (browser.ie && browser.version > 8) {\r\n                    //拷贝父亲们的特别的属性,这里只做背景颜色的处理\r\n                    var parent = domUtils.findParent(span, function(n) { return n.tagName == 'SPAN' && /background-color/.test(n.style.cssText) });\r\n                    if (parent && !/background-color/.test(span.style.cssText)) {\r\n                        span.style.backgroundColor = parent.style.backgroundColor;\r\n                    }\r\n                }\r\n\r\n            });\r\n            rng.moveToBookmark(bk);\r\n            mergeChild(rng, cmdName, value)\r\n        }\r\n\r\n        me.addInputRule(function(root) {\r\n            utils.each(root.getNodesByTagName('u s del font strike'), function(node) {\r\n                if (node.tagName == 'font') {\r\n                    var cssStyle = [];\r\n                    for (var p in node.attrs) {\r\n                        switch (p) {\r\n                            case 'size':\r\n                                cssStyle.push('font-size:' +\r\n                                    ({\r\n                                        '1': '10',\r\n                                        '2': '12',\r\n                                        '3': '16',\r\n                                        '4': '18',\r\n                                        '5': '24',\r\n                                        '6': '32',\r\n                                        '7': '48'\r\n                                    }[node.attrs[p]] || node.attrs[p]) + 'px');\r\n                                break;\r\n                            case 'color':\r\n                                cssStyle.push('color:' + node.attrs[p]);\r\n                                break;\r\n                            case 'face':\r\n                                cssStyle.push('font-family:' + node.attrs[p]);\r\n                                break;\r\n                            case 'style':\r\n                                cssStyle.push(node.attrs[p]);\r\n                        }\r\n                    }\r\n                    node.attrs = {\r\n                        'style': cssStyle.join(';')\r\n                    };\r\n                } else {\r\n                    var val = node.tagName == 'u' ? 'underline' : 'line-through';\r\n                    node.attrs = {\r\n                        'style': (node.getAttr('style') || '') + 'text-decoration:' + val + ';'\r\n                    }\r\n                }\r\n                node.tagName = 'span';\r\n            });\r\n            //        utils.each(root.getNodesByTagName('span'), function (node) {\r\n            //            var val;\r\n            //            if(val = node.getAttr('class')){\r\n            //                if(/fontstrikethrough/.test(val)){\r\n            //                    node.setStyle('text-decoration','line-through');\r\n            //                    if(node.attrs['class']){\r\n            //                        node.attrs['class'] = node.attrs['class'].replace(/fontstrikethrough/,'');\r\n            //                    }else{\r\n            //                        node.setAttr('class')\r\n            //                    }\r\n            //                }\r\n            //                if(/fontborder/.test(val)){\r\n            //                    node.setStyle('border','1px solid #000');\r\n            //                    if(node.attrs['class']){\r\n            //                        node.attrs['class'] = node.attrs['class'].replace(/fontborder/,'');\r\n            //                    }else{\r\n            //                        node.setAttr('class')\r\n            //                    }\r\n            //                }\r\n            //            }\r\n            //        });\r\n        });\r\n        //    me.addOutputRule(function(root){\r\n        //        utils.each(root.getNodesByTagName('span'), function (node) {\r\n        //            var val;\r\n        //            if(val = node.getStyle('text-decoration')){\r\n        //                if(/line-through/.test(val)){\r\n        //                    if(node.attrs['class']){\r\n        //                        node.attrs['class'] += ' fontstrikethrough';\r\n        //                    }else{\r\n        //                        node.setAttr('class','fontstrikethrough')\r\n        //                    }\r\n        //                }\r\n        //\r\n        //                node.setStyle('text-decoration')\r\n        //            }\r\n        //            if(val = node.getStyle('border')){\r\n        //                if(/1px/.test(val) && /solid/.test(val)){\r\n        //                    if(node.attrs['class']){\r\n        //                        node.attrs['class'] += ' fontborder';\r\n        //\r\n        //                    }else{\r\n        //                        node.setAttr('class','fontborder')\r\n        //                    }\r\n        //                }\r\n        //                node.setStyle('border')\r\n        //\r\n        //            }\r\n        //        });\r\n        //    });\r\n        for (var p in fonts) {\r\n            (function(cmd, style) {\r\n                UE.commands[cmd] = {\r\n                    execCommand: function(cmdName, value) {\r\n                        value = value || (this.queryCommandState(cmdName) ? 'none' : cmdName == 'underline' ? 'underline' :\r\n                            cmdName == 'fontborder' ? '1px solid #000' :\r\n                            'line-through');\r\n                        var me = this,\r\n                            range = this.selection.getRange(),\r\n                            text;\r\n\r\n                        if (value == 'default') {\r\n\r\n                            if (range.collapsed) {\r\n                                text = me.document.createTextNode('font');\r\n                                range.insertNode(text).select();\r\n\r\n                            }\r\n                            me.execCommand('removeFormat', 'span,a', style);\r\n                            if (text) {\r\n                                range.setStartBefore(text).collapse(true);\r\n                                domUtils.remove(text);\r\n                            }\r\n                            mergesibling(range, cmdName, value);\r\n                            range.select()\r\n                        } else {\r\n                            if (!range.collapsed) {\r\n                                if (needCmd[cmd] && me.queryCommandValue(cmd)) {\r\n                                    me.execCommand('removeFormat', 'span,a', style);\r\n                                }\r\n                                range = me.selection.getRange();\r\n\r\n                                range.applyInlineStyle('span', { 'style': style + ':' + value });\r\n                                mergesibling(range, cmdName, value);\r\n                                range.select();\r\n                            } else {\r\n\r\n                                var span = domUtils.findParentByTagName(range.startContainer, 'span', true);\r\n                                text = me.document.createTextNode('font');\r\n                                if (span && !span.children.length && !span[browser.ie ? 'innerText' : 'textContent'].replace(fillCharReg, '').length) {\r\n                                    //for ie hack when enter\r\n                                    range.insertNode(text);\r\n                                    if (needCmd[cmd]) {\r\n                                        range.selectNode(text).select();\r\n                                        me.execCommand('removeFormat', 'span,a', style, null);\r\n\r\n                                        span = domUtils.findParentByTagName(text, 'span', true);\r\n                                        range.setStartBefore(text);\r\n\r\n                                    }\r\n                                    span && (span.style.cssText += ';' + style + ':' + value);\r\n                                    range.collapse(true).select();\r\n\r\n\r\n                                } else {\r\n                                    range.insertNode(text);\r\n                                    range.selectNode(text).select();\r\n                                    span = range.document.createElement('span');\r\n\r\n                                    if (needCmd[cmd]) {\r\n                                        //a标签内的不处理跳过\r\n                                        if (domUtils.findParentByTagName(text, 'a', true)) {\r\n                                            range.setStartBefore(text).setCursor();\r\n                                            domUtils.remove(text);\r\n                                            return;\r\n                                        }\r\n                                        me.execCommand('removeFormat', 'span,a', style);\r\n                                    }\r\n\r\n                                    span.style.cssText = style + ':' + value;\r\n\r\n\r\n                                    text.parentNode.insertBefore(span, text);\r\n                                    //修复，span套span 但样式不继承的问题\r\n                                    if (!browser.ie || browser.ie && browser.version == 9) {\r\n                                        var spanParent = span.parentNode;\r\n                                        while (!domUtils.isBlockElm(spanParent)) {\r\n                                            if (spanParent.tagName == 'SPAN') {\r\n                                                //opera合并style不会加入\";\"\r\n                                                span.style.cssText = spanParent.style.cssText + \";\" + span.style.cssText;\r\n                                            }\r\n                                            spanParent = spanParent.parentNode;\r\n                                        }\r\n                                    }\r\n\r\n\r\n                                    if (opera) {\r\n                                        setTimeout(function() {\r\n                                            range.setStart(span, 0).collapse(true);\r\n                                            mergesibling(range, cmdName, value);\r\n                                            range.select();\r\n                                        });\r\n                                    } else {\r\n                                        range.setStart(span, 0).collapse(true);\r\n                                        mergesibling(range, cmdName, value);\r\n                                        range.select();\r\n                                    }\r\n\r\n                                    //trace:981\r\n                                    //domUtils.mergeToParent(span)\r\n                                }\r\n                                domUtils.remove(text);\r\n                            }\r\n\r\n\r\n                        }\r\n                        return true;\r\n                    },\r\n                    queryCommandValue: function(cmdName) {\r\n                        var startNode = this.selection.getStart();\r\n\r\n                        //trace:946\r\n                        if (cmdName == 'underline' || cmdName == 'strikethrough') {\r\n                            var tmpNode = startNode,\r\n                                value;\r\n                            while (tmpNode && !domUtils.isBlockElm(tmpNode) && !domUtils.isBody(tmpNode)) {\r\n                                if (tmpNode.nodeType == 1) {\r\n                                    value = domUtils.getComputedStyle(tmpNode, style);\r\n                                    if (value != 'none') {\r\n                                        return value;\r\n                                    }\r\n                                }\r\n\r\n                                tmpNode = tmpNode.parentNode;\r\n                            }\r\n                            return 'none';\r\n                        }\r\n                        if (cmdName == 'fontborder') {\r\n                            var tmp = startNode,\r\n                                val;\r\n                            while (tmp && dtd.$inline[tmp.tagName]) {\r\n                                if (val = domUtils.getComputedStyle(tmp, 'border')) {\r\n\r\n                                    if (/1px/.test(val) && /solid/.test(val)) {\r\n                                        return val;\r\n                                    }\r\n                                }\r\n                                tmp = tmp.parentNode;\r\n                            }\r\n                            return ''\r\n                        }\r\n\r\n                        if (cmdName == 'FontSize') {\r\n                            var styleVal = domUtils.getComputedStyle(startNode, style),\r\n                                tmp = /^([\\d\\.]+)(\\w+)$/.exec(styleVal);\r\n\r\n                            if (tmp) {\r\n\r\n                                return Math.floor(tmp[1]) + tmp[2];\r\n\r\n                            }\r\n\r\n                            return styleVal;\r\n\r\n                        }\r\n\r\n                        return domUtils.getComputedStyle(startNode, style);\r\n                    },\r\n                    queryCommandState: function(cmdName) {\r\n                        if (!needCmd[cmdName])\r\n                            return 0;\r\n                        var val = this.queryCommandValue(cmdName);\r\n                        if (cmdName == 'fontborder') {\r\n                            return /1px/.test(val) && /solid/.test(val)\r\n                        } else {\r\n                            return cmdName == 'underline' ? /underline/.test(val) : /line\\-through/.test(val);\r\n\r\n                        }\r\n\r\n                    }\r\n                };\r\n            })(p, fonts[p]);\r\n        }\r\n    };\r\n\r\n    // plugins/link.js\r\n    /**\r\n     * 超链接\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 插入超链接\r\n     * @command link\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { Object } options   设置自定义属性，例如：url、title、target\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'link', '{\r\n     *     url:'ueditor.baidu.com',\r\n     *     title:'ueditor',\r\n     *     target:'_blank'\r\n     * }' );\r\n     * ```\r\n     */\r\n    /**\r\n     * 返回当前选中的第一个超链接节点\r\n     * @command link\r\n     * @method queryCommandValue\r\n     * @param { String } cmd 命令字符串\r\n     * @return { Element } 超链接节点\r\n     * @example\r\n     * ```javascript\r\n     * editor.queryCommandValue( 'link' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 取消超链接\r\n     * @command unlink\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'unlink');\r\n     * ```\r\n     */\r\n\r\n    UE.plugins['link'] = function() {\r\n        function optimize(range) {\r\n            var start = range.startContainer,\r\n                end = range.endContainer;\r\n\r\n            if (start = domUtils.findParentByTagName(start, 'a', true)) {\r\n                range.setStartBefore(start);\r\n            }\r\n            if (end = domUtils.findParentByTagName(end, 'a', true)) {\r\n                range.setEndAfter(end);\r\n            }\r\n        }\r\n\r\n\r\n        UE.commands['unlink'] = {\r\n            execCommand: function() {\r\n                var range = this.selection.getRange(),\r\n                    bookmark;\r\n                if (range.collapsed && !domUtils.findParentByTagName(range.startContainer, 'a', true)) {\r\n                    return;\r\n                }\r\n                bookmark = range.createBookmark();\r\n                optimize(range);\r\n                range.removeInlineStyle('a').moveToBookmark(bookmark).select();\r\n            },\r\n            queryCommandState: function() {\r\n                return !this.highlight && this.queryCommandValue('link') ? 0 : -1;\r\n            }\r\n\r\n        };\r\n\r\n        function doLink(range, opt, me) {\r\n            var rngClone = range.cloneRange(),\r\n                link = me.queryCommandValue('link');\r\n            optimize(range = range.adjustmentBoundary());\r\n            var start = range.startContainer;\r\n            if (start.nodeType == 1 && link) {\r\n                start = start.childNodes[range.startOffset];\r\n                if (start && start.nodeType == 1 && start.tagName == 'A' && /^(?:https?|ftp|file)\\s*:\\s*\\/\\//.test(start[browser.ie ? 'innerText' : 'textContent'])) {\r\n                    start[browser.ie ? 'innerText' : 'textContent'] = utils.html(opt.textValue || opt.href);\r\n\r\n                }\r\n            }\r\n            if (!rngClone.collapsed || link) {\r\n                range.removeInlineStyle('a');\r\n                rngClone = range.cloneRange();\r\n            }\r\n\r\n            if (rngClone.collapsed) {\r\n                var a = range.document.createElement('a'),\r\n                    text = '';\r\n                if (opt.textValue) {\r\n\r\n                    text = utils.html(opt.textValue);\r\n                    delete opt.textValue;\r\n                } else {\r\n                    text = utils.html(opt.href);\r\n\r\n                }\r\n                domUtils.setAttributes(a, opt);\r\n                start = domUtils.findParentByTagName(rngClone.startContainer, 'a', true);\r\n                if (start && domUtils.isInNodeEndBoundary(rngClone, start)) {\r\n                    range.setStartAfter(start).collapse(true);\r\n\r\n                }\r\n                a[browser.ie ? 'innerText' : 'textContent'] = text;\r\n                range.insertNode(a).selectNode(a);\r\n            } else {\r\n                range.applyInlineStyle('a', opt);\r\n\r\n            }\r\n        }\r\n        UE.commands['link'] = {\r\n            execCommand: function(cmdName, opt) {\r\n                var range;\r\n                opt._href && (opt._href = utils.unhtml(opt._href, /[<\">]/g));\r\n                opt.href && (opt.href = utils.unhtml(opt.href, /[<\">]/g));\r\n                opt.textValue && (opt.textValue = utils.unhtml(opt.textValue, /[<\">]/g));\r\n                doLink(range = this.selection.getRange(), opt, this);\r\n                //闭合都不加占位符，如果加了会在a后边多个占位符节点，导致a是图片背景组成的列表，出现空白问题\r\n                range.collapse().select(true);\r\n\r\n            },\r\n            queryCommandValue: function() {\r\n                var range = this.selection.getRange(),\r\n                    node;\r\n                if (range.collapsed) {\r\n                    //                    node = this.selection.getStart();\r\n                    //在ie下getstart()取值偏上了\r\n                    node = range.startContainer;\r\n                    node = node.nodeType == 1 ? node : node.parentNode;\r\n\r\n                    if (node && (node = domUtils.findParentByTagName(node, 'a', true)) && !domUtils.isInNodeEndBoundary(range, node)) {\r\n\r\n                        return node;\r\n                    }\r\n                } else {\r\n                    //trace:1111  如果是<p><a>xx</a></p> startContainer是p就会找不到a\r\n                    range.shrinkBoundary();\r\n                    var start = range.startContainer.nodeType == 3 || !range.startContainer.childNodes[range.startOffset] ? range.startContainer : range.startContainer.childNodes[range.startOffset],\r\n                        end = range.endContainer.nodeType == 3 || range.endOffset == 0 ? range.endContainer : range.endContainer.childNodes[range.endOffset - 1],\r\n                        common = range.getCommonAncestor();\r\n                    node = domUtils.findParentByTagName(common, 'a', true);\r\n                    if (!node && common.nodeType == 1) {\r\n\r\n                        var as = common.getElementsByTagName('a'),\r\n                            ps, pe;\r\n\r\n                        for (var i = 0, ci; ci = as[i++];) {\r\n                            ps = domUtils.getPosition(ci, start), pe = domUtils.getPosition(ci, end);\r\n                            if ((ps & domUtils.POSITION_FOLLOWING || ps & domUtils.POSITION_CONTAINS) &&\r\n                                (pe & domUtils.POSITION_PRECEDING || pe & domUtils.POSITION_CONTAINS)\r\n                            ) {\r\n                                node = ci;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    return node;\r\n                }\r\n\r\n            },\r\n            queryCommandState: function() {\r\n                //判断如果是视频的话连接不可用\r\n                //fix 853\r\n                var img = this.selection.getRange().getClosedNode(),\r\n                    flag = img && (img.className == \"edui-faked-video\" || img.className.indexOf(\"edui-upload-video\") != -1);\r\n                return flag ? -1 : 0;\r\n            }\r\n        };\r\n    };\r\n\r\n    // plugins/iframe.js\r\n    ///import core\r\n    ///import plugins\\inserthtml.js\r\n    ///commands 插入框架\r\n    ///commandsName  InsertFrame\r\n    ///commandsTitle  插入Iframe\r\n    ///commandsDialog  dialogs\\insertframe\r\n\r\n    UE.plugins['insertframe'] = function() {\r\n        var me = this;\r\n\r\n        function deleteIframe() {\r\n            me._iframe && delete me._iframe;\r\n        }\r\n\r\n        me.addListener(\"selectionchange\", function() {\r\n            deleteIframe();\r\n        });\r\n\r\n    };\r\n\r\n\r\n\r\n    // plugins/scrawl.js\r\n    ///import core\r\n    ///commands 涂鸦\r\n    ///commandsName  Scrawl\r\n    ///commandsTitle  涂鸦\r\n    ///commandsDialog  dialogs\\scrawl\r\n    UE.commands['scrawl'] = {\r\n        queryCommandState: function() {\r\n            return (browser.ie && browser.version <= 8) ? -1 : 0;\r\n        }\r\n    };\r\n\r\n\r\n    // plugins/removeformat.js\r\n    /**\r\n     * 清除格式\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 清除文字样式\r\n     * @command removeformat\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param   {String}   tags     以逗号隔开的标签。如：strong\r\n     * @param   {String}   style    样式如：color\r\n     * @param   {String}   attrs    属性如:width\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'removeformat', 'strong','color','width' );\r\n     * ```\r\n     */\r\n\r\n    UE.plugins['removeformat'] = function() {\r\n        var me = this;\r\n        me.setOpt({\r\n            'removeFormatTags': 'b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var',\r\n            'removeFormatAttributes': 'class,style,lang,width,height,align,hspace,valign'\r\n        });\r\n        me.commands['removeformat'] = {\r\n            execCommand: function(cmdName, tags, style, attrs, notIncludeA) {\r\n\r\n                var tagReg = new RegExp('^(?:' + (tags || this.options.removeFormatTags).replace(/,/g, '|') + ')$', 'i'),\r\n                    removeFormatAttributes = style ? [] : (attrs || this.options.removeFormatAttributes).split(','),\r\n                    range = new dom.Range(this.document),\r\n                    bookmark, node, parent,\r\n                    filter = function(node) {\r\n                        return node.nodeType == 1;\r\n                    };\r\n\r\n                function isRedundantSpan(node) {\r\n                    if (node.nodeType == 3 || node.tagName.toLowerCase() != 'span') {\r\n                        return 0;\r\n                    }\r\n                    if (browser.ie) {\r\n                        //ie 下判断实效，所以只能简单用style来判断\r\n                        //return node.style.cssText == '' ? 1 : 0;\r\n                        var attrs = node.attributes;\r\n                        if (attrs.length) {\r\n                            for (var i = 0, l = attrs.length; i < l; i++) {\r\n                                if (attrs[i].specified) {\r\n                                    return 0;\r\n                                }\r\n                            }\r\n                            return 1;\r\n                        }\r\n                    }\r\n                    return !node.attributes.length;\r\n                }\r\n\r\n                function doRemove(range) {\r\n\r\n                    var bookmark1 = range.createBookmark();\r\n                    if (range.collapsed) {\r\n                        range.enlarge(true);\r\n                    }\r\n\r\n                    //不能把a标签切了\r\n                    if (!notIncludeA) {\r\n                        var aNode = domUtils.findParentByTagName(range.startContainer, 'a', true);\r\n                        if (aNode) {\r\n                            range.setStartBefore(aNode);\r\n                        }\r\n\r\n                        aNode = domUtils.findParentByTagName(range.endContainer, 'a', true);\r\n                        if (aNode) {\r\n                            range.setEndAfter(aNode);\r\n                        }\r\n\r\n                    }\r\n\r\n\r\n                    bookmark = range.createBookmark();\r\n\r\n                    node = bookmark.start;\r\n\r\n                    //切开始\r\n                    while ((parent = node.parentNode) && !domUtils.isBlockElm(parent)) {\r\n                        domUtils.breakParent(node, parent);\r\n\r\n                        domUtils.clearEmptySibling(node);\r\n                    }\r\n                    if (bookmark.end) {\r\n                        //切结束\r\n                        node = bookmark.end;\r\n                        while ((parent = node.parentNode) && !domUtils.isBlockElm(parent)) {\r\n                            domUtils.breakParent(node, parent);\r\n                            domUtils.clearEmptySibling(node);\r\n                        }\r\n\r\n                        //开始去除样式\r\n                        var current = domUtils.getNextDomNode(bookmark.start, false, filter),\r\n                            next;\r\n                        while (current) {\r\n                            if (current == bookmark.end) {\r\n                                break;\r\n                            }\r\n\r\n                            next = domUtils.getNextDomNode(current, true, filter);\r\n\r\n                            if (!dtd.$empty[current.tagName.toLowerCase()] && !domUtils.isBookmarkNode(current)) {\r\n                                if (tagReg.test(current.tagName)) {\r\n                                    if (style) {\r\n                                        domUtils.removeStyle(current, style);\r\n                                        if (isRedundantSpan(current) && style != 'text-decoration') {\r\n                                            domUtils.remove(current, true);\r\n                                        }\r\n                                    } else {\r\n                                        domUtils.remove(current, true);\r\n                                    }\r\n                                } else {\r\n                                    //trace:939  不能把list上的样式去掉\r\n                                    if (!dtd.$tableContent[current.tagName] && !dtd.$list[current.tagName]) {\r\n                                        domUtils.removeAttributes(current, removeFormatAttributes);\r\n                                        if (isRedundantSpan(current)) {\r\n                                            domUtils.remove(current, true);\r\n                                        }\r\n                                    }\r\n\r\n                                }\r\n                            }\r\n                            current = next;\r\n                        }\r\n                    }\r\n                    //trace:1035\r\n                    //trace:1096 不能把td上的样式去掉，比如边框\r\n                    var pN = bookmark.start.parentNode;\r\n                    if (domUtils.isBlockElm(pN) && !dtd.$tableContent[pN.tagName] && !dtd.$list[pN.tagName]) {\r\n                        domUtils.removeAttributes(pN, removeFormatAttributes);\r\n                    }\r\n                    pN = bookmark.end.parentNode;\r\n                    if (bookmark.end && domUtils.isBlockElm(pN) && !dtd.$tableContent[pN.tagName] && !dtd.$list[pN.tagName]) {\r\n                        domUtils.removeAttributes(pN, removeFormatAttributes);\r\n                    }\r\n                    range.moveToBookmark(bookmark).moveToBookmark(bookmark1);\r\n                    //清除冗余的代码 <b><bookmark></b>\r\n                    var node = range.startContainer,\r\n                        tmp,\r\n                        collapsed = range.collapsed;\r\n                    while (node.nodeType == 1 && domUtils.isEmptyNode(node) && dtd.$removeEmpty[node.tagName]) {\r\n                        tmp = node.parentNode;\r\n                        range.setStartBefore(node);\r\n                        //trace:937\r\n                        //更新结束边界\r\n                        if (range.startContainer === range.endContainer) {\r\n                            range.endOffset--;\r\n                        }\r\n                        domUtils.remove(node);\r\n                        node = tmp;\r\n                    }\r\n\r\n                    if (!collapsed) {\r\n                        node = range.endContainer;\r\n                        while (node.nodeType == 1 && domUtils.isEmptyNode(node) && dtd.$removeEmpty[node.tagName]) {\r\n                            tmp = node.parentNode;\r\n                            range.setEndBefore(node);\r\n                            domUtils.remove(node);\r\n\r\n                            node = tmp;\r\n                        }\r\n\r\n\r\n                    }\r\n                }\r\n\r\n\r\n\r\n                range = this.selection.getRange();\r\n                doRemove(range);\r\n                range.select();\r\n\r\n            }\r\n\r\n        };\r\n\r\n    };\r\n\r\n\r\n    // plugins/blockquote.js\r\n    /**\r\n     * 添加引用\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 添加引用\r\n     * @command blockquote\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'blockquote' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 添加引用\r\n     * @command blockquote\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { Object } attrs 节点属性\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'blockquote',{\r\n     *     style: \"color: red;\"\r\n     * } );\r\n     * ```\r\n     */\r\n\r\n\r\n    UE.plugins['blockquote'] = function() {\r\n        var me = this;\r\n\r\n        function getObj(editor) {\r\n            return domUtils.filterNodeList(editor.selection.getStartElementPath(), 'blockquote');\r\n        }\r\n        me.commands['blockquote'] = {\r\n            execCommand: function(cmdName, attrs) {\r\n                var range = this.selection.getRange(),\r\n                    obj = getObj(this),\r\n                    blockquote = dtd.blockquote,\r\n                    bookmark = range.createBookmark();\r\n\r\n                if (obj) {\r\n\r\n                    var start = range.startContainer,\r\n                        startBlock = domUtils.isBlockElm(start) ? start : domUtils.findParent(start, function(node) { return domUtils.isBlockElm(node) }),\r\n\r\n                        end = range.endContainer,\r\n                        endBlock = domUtils.isBlockElm(end) ? end : domUtils.findParent(end, function(node) { return domUtils.isBlockElm(node) });\r\n\r\n                    //处理一下li\r\n                    startBlock = domUtils.findParentByTagName(startBlock, 'li', true) || startBlock;\r\n                    endBlock = domUtils.findParentByTagName(endBlock, 'li', true) || endBlock;\r\n\r\n\r\n                    if (startBlock.tagName == 'LI' || startBlock.tagName == 'TD' || startBlock === obj || domUtils.isBody(startBlock)) {\r\n                        domUtils.remove(obj, true);\r\n                    } else {\r\n                        domUtils.breakParent(startBlock, obj);\r\n                    }\r\n\r\n                    if (startBlock !== endBlock) {\r\n                        obj = domUtils.findParentByTagName(endBlock, 'blockquote');\r\n                        if (obj) {\r\n                            if (endBlock.tagName == 'LI' || endBlock.tagName == 'TD' || domUtils.isBody(endBlock)) {\r\n                                obj.parentNode && domUtils.remove(obj, true);\r\n                            } else {\r\n                                domUtils.breakParent(endBlock, obj);\r\n                            }\r\n\r\n                        }\r\n                    }\r\n\r\n                    var blockquotes = domUtils.getElementsByTagName(this.document, 'blockquote');\r\n                    for (var i = 0, bi; bi = blockquotes[i++];) {\r\n                        if (!bi.childNodes.length) {\r\n                            domUtils.remove(bi);\r\n                        } else if (domUtils.getPosition(bi, startBlock) & domUtils.POSITION_FOLLOWING && domUtils.getPosition(bi, endBlock) & domUtils.POSITION_PRECEDING) {\r\n                            domUtils.remove(bi, true);\r\n                        }\r\n                    }\r\n\r\n\r\n\r\n\r\n                } else {\r\n\r\n                    var tmpRange = range.cloneRange(),\r\n                        node = tmpRange.startContainer.nodeType == 1 ? tmpRange.startContainer : tmpRange.startContainer.parentNode,\r\n                        preNode = node,\r\n                        doEnd = 1;\r\n\r\n                    //调整开始\r\n                    while (1) {\r\n                        if (domUtils.isBody(node)) {\r\n                            if (preNode !== node) {\r\n                                if (range.collapsed) {\r\n                                    tmpRange.selectNode(preNode);\r\n                                    doEnd = 0;\r\n                                } else {\r\n                                    tmpRange.setStartBefore(preNode);\r\n                                }\r\n                            } else {\r\n                                tmpRange.setStart(node, 0);\r\n                            }\r\n\r\n                            break;\r\n                        }\r\n                        if (!blockquote[node.tagName]) {\r\n                            if (range.collapsed) {\r\n                                tmpRange.selectNode(preNode);\r\n                            } else {\r\n                                tmpRange.setStartBefore(preNode);\r\n                            }\r\n                            break;\r\n                        }\r\n\r\n                        preNode = node;\r\n                        node = node.parentNode;\r\n                    }\r\n\r\n                    //调整结束\r\n                    if (doEnd) {\r\n                        preNode = node = node = tmpRange.endContainer.nodeType == 1 ? tmpRange.endContainer : tmpRange.endContainer.parentNode;\r\n                        while (1) {\r\n\r\n                            if (domUtils.isBody(node)) {\r\n                                if (preNode !== node) {\r\n\r\n                                    tmpRange.setEndAfter(preNode);\r\n\r\n                                } else {\r\n                                    tmpRange.setEnd(node, node.childNodes.length);\r\n                                }\r\n\r\n                                break;\r\n                            }\r\n                            if (!blockquote[node.tagName]) {\r\n                                tmpRange.setEndAfter(preNode);\r\n                                break;\r\n                            }\r\n\r\n                            preNode = node;\r\n                            node = node.parentNode;\r\n                        }\r\n\r\n                    }\r\n\r\n\r\n                    node = range.document.createElement('blockquote');\r\n                    domUtils.setAttributes(node, attrs);\r\n                    node.appendChild(tmpRange.extractContents());\r\n                    tmpRange.insertNode(node);\r\n                    //去除重复的\r\n                    var childs = domUtils.getElementsByTagName(node, 'blockquote');\r\n                    for (var i = 0, ci; ci = childs[i++];) {\r\n                        if (ci.parentNode) {\r\n                            domUtils.remove(ci, true);\r\n                        }\r\n                    }\r\n\r\n                }\r\n                range.moveToBookmark(bookmark).select();\r\n            },\r\n            queryCommandState: function() {\r\n                return getObj(this) ? 1 : 0;\r\n            }\r\n        };\r\n    };\r\n\r\n\r\n\r\n    // plugins/convertcase.js\r\n    /**\r\n     * 大小写转换\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 把选区内文本变大写，与“tolowercase”命令互斥\r\n     * @command touppercase\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'touppercase' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 把选区内文本变小写，与“touppercase”命令互斥\r\n     * @command tolowercase\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'tolowercase' );\r\n     * ```\r\n     */\r\n    UE.commands['touppercase'] =\r\n        UE.commands['tolowercase'] = {\r\n            execCommand: function(cmd) {\r\n                var me = this;\r\n                var rng = me.selection.getRange();\r\n                if (rng.collapsed) {\r\n                    return rng;\r\n                }\r\n                var bk = rng.createBookmark(),\r\n                    bkEnd = bk.end,\r\n                    filterFn = function(node) {\r\n                        return !domUtils.isBr(node) && !domUtils.isWhitespace(node);\r\n                    },\r\n                    curNode = domUtils.getNextDomNode(bk.start, false, filterFn);\r\n                while (curNode && (domUtils.getPosition(curNode, bkEnd) & domUtils.POSITION_PRECEDING)) {\r\n\r\n                    if (curNode.nodeType == 3) {\r\n                        curNode.nodeValue = curNode.nodeValue[cmd == 'touppercase' ? 'toUpperCase' : 'toLowerCase']();\r\n                    }\r\n                    curNode = domUtils.getNextDomNode(curNode, true, filterFn);\r\n                    if (curNode === bkEnd) {\r\n                        break;\r\n                    }\r\n\r\n                }\r\n                rng.moveToBookmark(bk).select();\r\n            }\r\n        };\r\n\r\n\r\n\r\n    // plugins/indent.js\r\n    /**\r\n     * 首行缩进\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 缩进\r\n     * @command indent\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'indent' );\r\n     * ```\r\n     */\r\n    UE.commands['indent'] = {\r\n        execCommand: function() {\r\n            var me = this,\r\n                value = me.queryCommandState(\"indent\") ? \"0em\" : (me.options.indentValue || '2em');\r\n            me.execCommand('Paragraph', 'p', { style: 'text-indent:' + value });\r\n        },\r\n        queryCommandState: function() {\r\n            var pN = domUtils.filterNodeList(this.selection.getStartElementPath(), 'p h1 h2 h3 h4 h5 h6');\r\n            return pN && pN.style.textIndent && parseInt(pN.style.textIndent) ? 1 : 0;\r\n        }\r\n\r\n    };\r\n\r\n\r\n    // plugins/print.js\r\n    /**\r\n     * 打印\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 打印\r\n     * @command print\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'print' );\r\n     * ```\r\n     */\r\n    UE.commands['print'] = {\r\n        execCommand: function() {\r\n            this.window.print();\r\n        },\r\n        notNeedUndo: 1\r\n    };\r\n\r\n\r\n\r\n    // plugins/preview.js\r\n    /**\r\n     * 预览\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 预览\r\n     * @command preview\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'preview' );\r\n     * ```\r\n     */\r\n    UE.commands['preview'] = {\r\n        execCommand: function() {\r\n            var w = window.open('', '_blank', ''),\r\n                d = w.document;\r\n            d.open();\r\n            d.write('<!DOCTYPE html><html><head><meta charset=\"utf-8\"/><script src=\"' + this.options.UEDITOR_HOME_URL + 'ueditor.parse.js\"></script><script>' +\r\n                \"setTimeout(function(){uParse('div',{rootPath: '\" + this.options.UEDITOR_HOME_URL + \"'})},300)\" +\r\n                '</script></head><body><div>' + this.getContent(null, null, true) + '</div></body></html>');\r\n            d.close();\r\n        },\r\n        notNeedUndo: 1\r\n    };\r\n\r\n\r\n    // plugins/selectall.js\r\n    /**\r\n     * 全选\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 选中所有内容\r\n     * @command selectall\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'selectall' );\r\n     * ```\r\n     */\r\n    UE.plugins['selectall'] = function() {\r\n        var me = this;\r\n        me.commands['selectall'] = {\r\n            execCommand: function() {\r\n                //去掉了原生的selectAll,因为会出现报错和当内容为空时，不能出现闭合状态的光标\r\n                var me = this,\r\n                    body = me.body,\r\n                    range = me.selection.getRange();\r\n                range.selectNodeContents(body);\r\n                if (domUtils.isEmptyBlock(body)) {\r\n                    //opera不能自动合并到元素的里边，要手动处理一下\r\n                    if (browser.opera && body.firstChild && body.firstChild.nodeType == 1) {\r\n                        range.setStartAtFirst(body.firstChild);\r\n                    }\r\n                    range.collapse(true);\r\n                }\r\n                range.select(true);\r\n            },\r\n            notNeedUndo: 1\r\n        };\r\n\r\n\r\n        //快捷键\r\n        me.addshortcutkey({\r\n            \"selectAll\": \"ctrl+65\"\r\n        });\r\n    };\r\n\r\n\r\n    // plugins/paragraph.js\r\n    /**\r\n     * 段落样式\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 段落格式\r\n     * @command paragraph\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param {String}   style               标签值为：'p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'\r\n     * @param {Object}   attrs               标签的属性\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'Paragraph','h1','{\r\n     *     class:'test'\r\n     * }' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 返回选区内节点标签名\r\n     * @command paragraph\r\n     * @method queryCommandValue\r\n     * @param { String } cmd 命令字符串\r\n     * @return { String } 节点标签名\r\n     * @example\r\n     * ```javascript\r\n     * editor.queryCommandValue( 'Paragraph' );\r\n     * ```\r\n     */\r\n\r\n    UE.plugins['paragraph'] = function() {\r\n        var me = this,\r\n            block = domUtils.isBlockElm,\r\n            notExchange = ['TD', 'LI', 'PRE'],\r\n\r\n            doParagraph = function(range, style, attrs, sourceCmdName) {\r\n                var bookmark = range.createBookmark(),\r\n                    filterFn = function(node) {\r\n                        return node.nodeType == 1 ? node.tagName.toLowerCase() != 'br' && !domUtils.isBookmarkNode(node) : !domUtils.isWhitespace(node);\r\n                    },\r\n                    para;\r\n\r\n                range.enlarge(true);\r\n                var bookmark2 = range.createBookmark(),\r\n                    current = domUtils.getNextDomNode(bookmark2.start, false, filterFn),\r\n                    tmpRange = range.cloneRange(),\r\n                    tmpNode;\r\n                while (current && !(domUtils.getPosition(current, bookmark2.end) & domUtils.POSITION_FOLLOWING)) {\r\n                    if (current.nodeType == 3 || !block(current)) {\r\n                        tmpRange.setStartBefore(current);\r\n                        while (current && current !== bookmark2.end && !block(current)) {\r\n                            tmpNode = current;\r\n                            current = domUtils.getNextDomNode(current, false, null, function(node) {\r\n                                return !block(node);\r\n                            });\r\n                        }\r\n                        tmpRange.setEndAfter(tmpNode);\r\n\r\n                        para = range.document.createElement(style);\r\n                        if (attrs) {\r\n                            domUtils.setAttributes(para, attrs);\r\n                            if (sourceCmdName && sourceCmdName == 'customstyle' && attrs.style) {\r\n                                para.style.cssText = attrs.style;\r\n                            }\r\n                        }\r\n                        para.appendChild(tmpRange.extractContents());\r\n                        //需要内容占位\r\n                        if (domUtils.isEmptyNode(para)) {\r\n                            domUtils.fillChar(range.document, para);\r\n\r\n                        }\r\n\r\n                        tmpRange.insertNode(para);\r\n\r\n                        var parent = para.parentNode;\r\n                        //如果para上一级是一个block元素且不是body,td就删除它\r\n                        if (block(parent) && !domUtils.isBody(para.parentNode) && utils.indexOf(notExchange, parent.tagName) == -1) {\r\n                            //存储dir,style\r\n                            if (!(sourceCmdName && sourceCmdName == 'customstyle')) {\r\n                                parent.getAttribute('dir') && para.setAttribute('dir', parent.getAttribute('dir'));\r\n                                //trace:1070\r\n                                parent.style.cssText && (para.style.cssText = parent.style.cssText + ';' + para.style.cssText);\r\n                                //trace:1030\r\n                                parent.style.textAlign && !para.style.textAlign && (para.style.textAlign = parent.style.textAlign);\r\n                                parent.style.textIndent && !para.style.textIndent && (para.style.textIndent = parent.style.textIndent);\r\n                                parent.style.padding && !para.style.padding && (para.style.padding = parent.style.padding);\r\n                            }\r\n\r\n                            //trace:1706 选择的就是h1-6要删除\r\n                            if (attrs && /h\\d/i.test(parent.tagName) && !/h\\d/i.test(para.tagName)) {\r\n                                domUtils.setAttributes(parent, attrs);\r\n                                if (sourceCmdName && sourceCmdName == 'customstyle' && attrs.style) {\r\n                                    parent.style.cssText = attrs.style;\r\n                                }\r\n                                domUtils.remove(para, true);\r\n                                para = parent;\r\n                            } else {\r\n                                domUtils.remove(para.parentNode, true);\r\n                            }\r\n\r\n                        }\r\n                        if (utils.indexOf(notExchange, parent.tagName) != -1) {\r\n                            current = parent;\r\n                        } else {\r\n                            current = para;\r\n                        }\r\n\r\n\r\n                        current = domUtils.getNextDomNode(current, false, filterFn);\r\n                    } else {\r\n                        current = domUtils.getNextDomNode(current, true, filterFn);\r\n                    }\r\n                }\r\n                return range.moveToBookmark(bookmark2).moveToBookmark(bookmark);\r\n            };\r\n        me.setOpt('paragraph', { 'p': '', 'h1': '', 'h2': '', 'h3': '', 'h4': '', 'h5': '', 'h6': '' });\r\n        me.commands['paragraph'] = {\r\n            execCommand: function(cmdName, style, attrs, sourceCmdName) {\r\n                var range = this.selection.getRange();\r\n                //闭合时单独处理\r\n                if (range.collapsed) {\r\n                    var txt = this.document.createTextNode('p');\r\n                    range.insertNode(txt);\r\n                    //去掉冗余的fillchar\r\n                    if (browser.ie) {\r\n                        var node = txt.previousSibling;\r\n                        if (node && domUtils.isWhitespace(node)) {\r\n                            domUtils.remove(node);\r\n                        }\r\n                        node = txt.nextSibling;\r\n                        if (node && domUtils.isWhitespace(node)) {\r\n                            domUtils.remove(node);\r\n                        }\r\n                    }\r\n\r\n                }\r\n                range = doParagraph(range, style, attrs, sourceCmdName);\r\n                if (txt) {\r\n                    range.setStartBefore(txt).collapse(true);\r\n                    pN = txt.parentNode;\r\n\r\n                    domUtils.remove(txt);\r\n\r\n                    if (domUtils.isBlockElm(pN) && domUtils.isEmptyNode(pN)) {\r\n                        domUtils.fillNode(this.document, pN);\r\n                    }\r\n\r\n                }\r\n\r\n                if (browser.gecko && range.collapsed && range.startContainer.nodeType == 1) {\r\n                    var child = range.startContainer.childNodes[range.startOffset];\r\n                    if (child && child.nodeType == 1 && child.tagName.toLowerCase() == style) {\r\n                        range.setStart(child, 0).collapse(true);\r\n                    }\r\n                }\r\n                //trace:1097 原来有true，原因忘了，但去了就不能清除多余的占位符了\r\n                range.select();\r\n\r\n\r\n                return true;\r\n            },\r\n            queryCommandValue: function() {\r\n                var node = domUtils.filterNodeList(this.selection.getStartElementPath(), 'p h1 h2 h3 h4 h5 h6');\r\n                return node ? node.tagName.toLowerCase() : '';\r\n            }\r\n        };\r\n    };\r\n\r\n\r\n    // plugins/directionality.js\r\n    /**\r\n     * 设置文字输入的方向的插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n    (function() {\r\n        var block = domUtils.isBlockElm,\r\n            getObj = function(editor) {\r\n                //            var startNode = editor.selection.getStart(),\r\n                //                parents;\r\n                //            if ( startNode ) {\r\n                //                //查找所有的是block的父亲节点\r\n                //                parents = domUtils.findParents( startNode, true, block, true );\r\n                //                for ( var i = 0,ci; ci = parents[i++]; ) {\r\n                //                    if ( ci.getAttribute( 'dir' ) ) {\r\n                //                        return ci;\r\n                //                    }\r\n                //                }\r\n                //            }\r\n                return domUtils.filterNodeList(editor.selection.getStartElementPath(), function(n) { return n && n.nodeType == 1 && n.getAttribute('dir') });\r\n\r\n            },\r\n            doDirectionality = function(range, editor, forward) {\r\n\r\n                var bookmark,\r\n                    filterFn = function(node) {\r\n                        return node.nodeType == 1 ? !domUtils.isBookmarkNode(node) : !domUtils.isWhitespace(node);\r\n                    },\r\n\r\n                    obj = getObj(editor);\r\n\r\n                if (obj && range.collapsed) {\r\n                    obj.setAttribute('dir', forward);\r\n                    return range;\r\n                }\r\n                bookmark = range.createBookmark();\r\n                range.enlarge(true);\r\n                var bookmark2 = range.createBookmark(),\r\n                    current = domUtils.getNextDomNode(bookmark2.start, false, filterFn),\r\n                    tmpRange = range.cloneRange(),\r\n                    tmpNode;\r\n                while (current && !(domUtils.getPosition(current, bookmark2.end) & domUtils.POSITION_FOLLOWING)) {\r\n                    if (current.nodeType == 3 || !block(current)) {\r\n                        tmpRange.setStartBefore(current);\r\n                        while (current && current !== bookmark2.end && !block(current)) {\r\n                            tmpNode = current;\r\n                            current = domUtils.getNextDomNode(current, false, null, function(node) {\r\n                                return !block(node);\r\n                            });\r\n                        }\r\n                        tmpRange.setEndAfter(tmpNode);\r\n                        var common = tmpRange.getCommonAncestor();\r\n                        if (!domUtils.isBody(common) && block(common)) {\r\n                            //遍历到了block节点\r\n                            common.setAttribute('dir', forward);\r\n                            current = common;\r\n                        } else {\r\n                            //没有遍历到，添加一个block节点\r\n                            var p = range.document.createElement('p');\r\n                            p.setAttribute('dir', forward);\r\n                            var frag = tmpRange.extractContents();\r\n                            p.appendChild(frag);\r\n                            tmpRange.insertNode(p);\r\n                            current = p;\r\n                        }\r\n\r\n                        current = domUtils.getNextDomNode(current, false, filterFn);\r\n                    } else {\r\n                        current = domUtils.getNextDomNode(current, true, filterFn);\r\n                    }\r\n                }\r\n                return range.moveToBookmark(bookmark2).moveToBookmark(bookmark);\r\n            };\r\n\r\n        /**\r\n         * 文字输入方向\r\n         * @command directionality\r\n         * @method execCommand\r\n         * @param { String } cmdName 命令字符串\r\n         * @param { String } forward 传入'ltr'表示从左向右输入，传入'rtl'表示从右向左输入\r\n         * @example\r\n         * ```javascript\r\n         * editor.execCommand( 'directionality', 'ltr');\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 查询当前选区的文字输入方向\r\n         * @command directionality\r\n         * @method queryCommandValue\r\n         * @param { String } cmdName 命令字符串\r\n         * @return { String } 返回'ltr'表示从左向右输入，返回'rtl'表示从右向左输入\r\n         * @example\r\n         * ```javascript\r\n         * editor.queryCommandValue( 'directionality');\r\n         * ```\r\n         */\r\n        UE.commands['directionality'] = {\r\n            execCommand: function(cmdName, forward) {\r\n                var range = this.selection.getRange();\r\n                //闭合时单独处理\r\n                if (range.collapsed) {\r\n                    var txt = this.document.createTextNode('d');\r\n                    range.insertNode(txt);\r\n                }\r\n                doDirectionality(range, this, forward);\r\n                if (txt) {\r\n                    range.setStartBefore(txt).collapse(true);\r\n                    domUtils.remove(txt);\r\n                }\r\n\r\n                range.select();\r\n                return true;\r\n            },\r\n            queryCommandValue: function() {\r\n                var node = getObj(this);\r\n                return node ? node.getAttribute('dir') : 'ltr';\r\n            }\r\n        };\r\n    })();\r\n\r\n\r\n\r\n    // plugins/horizontal.js\r\n    /**\r\n     * 插入分割线插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 插入分割线\r\n     * @command horizontal\r\n     * @method execCommand\r\n     * @param { String } cmdName 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'horizontal' );\r\n     * ```\r\n     */\r\n    UE.plugins['horizontal'] = function() {\r\n        var me = this;\r\n        me.commands['horizontal'] = {\r\n            execCommand: function(cmdName) {\r\n                var me = this;\r\n                if (me.queryCommandState(cmdName) !== -1) {\r\n                    me.execCommand('insertHtml', '<hr>');\r\n                    var range = me.selection.getRange(),\r\n                        start = range.startContainer;\r\n                    if (start.nodeType == 1 && !start.childNodes[range.startOffset]) {\r\n\r\n                        var tmp;\r\n                        if (tmp = start.childNodes[range.startOffset - 1]) {\r\n                            if (tmp.nodeType == 1 && tmp.tagName == 'HR') {\r\n                                if (me.options.enterTag == 'p') {\r\n                                    tmp = me.document.createElement('p');\r\n                                    range.insertNode(tmp);\r\n                                    range.setStart(tmp, 0).setCursor();\r\n\r\n                                } else {\r\n                                    tmp = me.document.createElement('br');\r\n                                    range.insertNode(tmp);\r\n                                    range.setStartBefore(tmp).setCursor();\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                    return true;\r\n                }\r\n\r\n            },\r\n            //边界在table里不能加分隔线\r\n            queryCommandState: function() {\r\n                return domUtils.filterNodeList(this.selection.getStartElementPath(), 'table') ? -1 : 0;\r\n            }\r\n        };\r\n        //    me.addListener('delkeyup',function(){\r\n        //        var rng = this.selection.getRange();\r\n        //        if(browser.ie && browser.version > 8){\r\n        //            rng.txtToElmBoundary(true);\r\n        //            if(domUtils.isStartInblock(rng)){\r\n        //                var tmpNode = rng.startContainer;\r\n        //                var pre = tmpNode.previousSibling;\r\n        //                if(pre && domUtils.isTagNode(pre,'hr')){\r\n        //                    domUtils.remove(pre);\r\n        //                    rng.select();\r\n        //                    return;\r\n        //                }\r\n        //            }\r\n        //        }\r\n        //        if(domUtils.isBody(rng.startContainer)){\r\n        //            var hr = rng.startContainer.childNodes[rng.startOffset -1];\r\n        //            if(hr && hr.nodeName == 'HR'){\r\n        //                var next = hr.nextSibling;\r\n        //                if(next){\r\n        //                    rng.setStart(next,0)\r\n        //                }else if(hr.previousSibling){\r\n        //                    rng.setStartAtLast(hr.previousSibling)\r\n        //                }else{\r\n        //                    var p = this.document.createElement('p');\r\n        //                    hr.parentNode.insertBefore(p,hr);\r\n        //                    domUtils.fillNode(this.document,p);\r\n        //                    rng.setStart(p,0);\r\n        //                }\r\n        //                domUtils.remove(hr);\r\n        //                rng.setCursor(false,true);\r\n        //            }\r\n        //        }\r\n        //    })\r\n        me.addListener('delkeydown', function(name, evt) {\r\n            var rng = this.selection.getRange();\r\n            rng.txtToElmBoundary(true);\r\n            if (domUtils.isStartInblock(rng)) {\r\n                var tmpNode = rng.startContainer;\r\n                var pre = tmpNode.previousSibling;\r\n                if (pre && domUtils.isTagNode(pre, 'hr')) {\r\n                    domUtils.remove(pre);\r\n                    rng.select();\r\n                    domUtils.preventDefault(evt);\r\n                    return true;\r\n\r\n                }\r\n            }\r\n\r\n        })\r\n    };\r\n\r\n\r\n\r\n    // plugins/time.js\r\n    /**\r\n     * 插入时间和日期\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 插入时间，默认格式：12:59:59\r\n     * @command time\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'time');\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 插入日期，默认格式：2013-08-30\r\n     * @command date\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'date');\r\n     * ```\r\n     */\r\n    UE.commands['time'] = UE.commands[\"date\"] = {\r\n        execCommand: function(cmd, format) {\r\n            var date = new Date;\r\n\r\n            function formatTime(date, format) {\r\n                var hh = ('0' + date.getHours()).slice(-2),\r\n                    ii = ('0' + date.getMinutes()).slice(-2),\r\n                    ss = ('0' + date.getSeconds()).slice(-2);\r\n                format = format || 'hh:ii:ss';\r\n                return format.replace(/hh/ig, hh).replace(/ii/ig, ii).replace(/ss/ig, ss);\r\n            }\r\n\r\n            function formatDate(date, format) {\r\n                var yyyy = ('000' + date.getFullYear()).slice(-4),\r\n                    yy = yyyy.slice(-2),\r\n                    mm = ('0' + (date.getMonth() + 1)).slice(-2),\r\n                    dd = ('0' + date.getDate()).slice(-2);\r\n                format = format || 'yyyy-mm-dd';\r\n                return format.replace(/yyyy/ig, yyyy).replace(/yy/ig, yy).replace(/mm/ig, mm).replace(/dd/ig, dd);\r\n            }\r\n\r\n            this.execCommand('insertHtml', cmd == \"time\" ? formatTime(date, format) : formatDate(date, format));\r\n        }\r\n    };\r\n\r\n\r\n    // plugins/rowspacing.js\r\n    /**\r\n     * 段前段后间距插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 设置段间距\r\n     * @command rowspacing\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { String } value 段间距的值，以px为单位\r\n     * @param { String } dir 间距位置，top或bottom，分别表示段前和段后\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'rowspacing', '10', 'top' );\r\n     * ```\r\n     */\r\n\r\n    UE.plugins['rowspacing'] = function() {\r\n        var me = this;\r\n        me.setOpt({\r\n            'rowspacingtop': ['5', '10', '15', '20', '25'],\r\n            'rowspacingbottom': ['5', '10', '15', '20', '25']\r\n\r\n        });\r\n        me.commands['rowspacing'] = {\r\n            execCommand: function(cmdName, value, dir) {\r\n                this.execCommand('paragraph', 'p', { style: 'margin-' + dir + ':' + value + 'px' });\r\n                return true;\r\n            },\r\n            queryCommandValue: function(cmdName, dir) {\r\n                var pN = domUtils.filterNodeList(this.selection.getStartElementPath(), function(node) { return domUtils.isBlockElm(node) }),\r\n                    value;\r\n                //trace:1026\r\n                if (pN) {\r\n                    value = domUtils.getComputedStyle(pN, 'margin-' + dir).replace(/[^\\d]/g, '');\r\n                    return !value ? 0 : value;\r\n                }\r\n                return 0;\r\n\r\n            }\r\n        };\r\n    };\r\n\r\n\r\n\r\n\r\n    // plugins/lineheight.js\r\n    /**\r\n     * 设置行内间距\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n    UE.plugins['lineheight'] = function() {\r\n        var me = this;\r\n        me.setOpt({ 'lineheight': ['1', '1.5', '1.75', '2', '3', '4', '5'] });\r\n\r\n        /**\r\n         * 行距\r\n         * @command lineheight\r\n         * @method execCommand\r\n         * @param { String } cmdName 命令字符串\r\n         * @param { String } value 传入的行高值， 该值是当前字体的倍数， 例如： 1.5, 1.75\r\n         * @example\r\n         * ```javascript\r\n         * editor.execCommand( 'lineheight', 1.5);\r\n         * ```\r\n         */\r\n        /**\r\n         * 查询当前选区内容的行高大小\r\n         * @command lineheight\r\n         * @method queryCommandValue\r\n         * @param { String } cmd 命令字符串\r\n         * @return { String } 返回当前行高大小\r\n         * @example\r\n         * ```javascript\r\n         * editor.queryCommandValue( 'lineheight' );\r\n         * ```\r\n         */\r\n\r\n        me.commands['lineheight'] = {\r\n            execCommand: function(cmdName, value) {\r\n                this.execCommand('paragraph', 'p', { style: 'line-height:' + (value == \"1\" ? \"normal\" : value + 'em') });\r\n                return true;\r\n            },\r\n            queryCommandValue: function() {\r\n                var pN = domUtils.filterNodeList(this.selection.getStartElementPath(), function(node) { return domUtils.isBlockElm(node) });\r\n                if (pN) {\r\n                    var value = domUtils.getComputedStyle(pN, 'line-height');\r\n                    return value == 'normal' ? 1 : value.replace(/[^\\d.]*/ig, \"\");\r\n                }\r\n            }\r\n        };\r\n    };\r\n\r\n\r\n\r\n\r\n    // plugins/insertcode.js\r\n    /**\r\n     * 插入代码插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    UE.plugins['insertcode'] = function() {\r\n        var me = this;\r\n        me.ready(function() {\r\n            utils.cssRule('pre', 'pre{margin:.5em 0;padding:.4em .6em;border-radius:8px;background:#f8f8f8;}',\r\n                me.document)\r\n        });\r\n        me.setOpt('insertcode', {\r\n            'as3': 'ActionScript3',\r\n            'bash': 'Bash/Shell',\r\n            'cpp': 'C/C++',\r\n            'css': 'Css',\r\n            'cf': 'CodeFunction',\r\n            'c#': 'C#',\r\n            'delphi': 'Delphi',\r\n            'diff': 'Diff',\r\n            'erlang': 'Erlang',\r\n            'groovy': 'Groovy',\r\n            'html': 'Html',\r\n            'java': 'Java',\r\n            'jfx': 'JavaFx',\r\n            'js': 'Javascript',\r\n            'pl': 'Perl',\r\n            'php': 'Php',\r\n            'plain': 'Plain Text',\r\n            'ps': 'PowerShell',\r\n            'python': 'Python',\r\n            'ruby': 'Ruby',\r\n            'scala': 'Scala',\r\n            'sql': 'Sql',\r\n            'vb': 'Vb',\r\n            'xml': 'Xml'\r\n        });\r\n\r\n        /**\r\n         * 插入代码\r\n         * @command insertcode\r\n         * @method execCommand\r\n         * @param { String } cmd 命令字符串\r\n         * @param { String } lang 插入代码的语言\r\n         * @example\r\n         * ```javascript\r\n         * editor.execCommand( 'insertcode', 'javascript' );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 如果选区所在位置是插入插入代码区域，返回代码的语言\r\n         * @command insertcode\r\n         * @method queryCommandValue\r\n         * @param { String } cmd 命令字符串\r\n         * @return { String } 返回代码的语言\r\n         * @example\r\n         * ```javascript\r\n         * editor.queryCommandValue( 'insertcode' );\r\n         * ```\r\n         */\r\n\r\n        me.commands['insertcode'] = {\r\n            execCommand: function(cmd, lang) {\r\n                var me = this,\r\n                    rng = me.selection.getRange(),\r\n                    pre = domUtils.findParentByTagName(rng.startContainer, 'pre', true);\r\n                if (pre) {\r\n                    pre.className = 'brush:' + lang + ';toolbar:false;';\r\n                } else {\r\n                    var code = '';\r\n                    if (rng.collapsed) {\r\n                        code = browser.ie && browser.ie11below ? (browser.version <= 8 ? '&nbsp;' : '') : '<br/>';\r\n                    } else {\r\n                        var frag = rng.extractContents();\r\n                        var div = me.document.createElement('div');\r\n                        div.appendChild(frag);\r\n\r\n                        utils.each(UE.filterNode(UE.htmlparser(div.innerHTML.replace(/[\\r\\t]/g, '')), me.options.filterTxtRules).children, function(node) {\r\n                            if (browser.ie && browser.ie11below && browser.version > 8) {\r\n\r\n                                if (node.type == 'element') {\r\n                                    if (node.tagName == 'br') {\r\n                                        code += '\\n'\r\n                                    } else if (!dtd.$empty[node.tagName]) {\r\n                                        utils.each(node.children, function(cn) {\r\n                                            if (cn.type == 'element') {\r\n                                                if (cn.tagName == 'br') {\r\n                                                    code += '\\n'\r\n                                                } else if (!dtd.$empty[node.tagName]) {\r\n                                                    code += cn.innerText();\r\n                                                }\r\n                                            } else {\r\n                                                code += cn.data\r\n                                            }\r\n                                        })\r\n                                        if (!/\\n$/.test(code)) {\r\n                                            code += '\\n';\r\n                                        }\r\n                                    }\r\n                                } else {\r\n                                    code += node.data + '\\n'\r\n                                }\r\n                                if (!node.nextSibling() && /\\n$/.test(code)) {\r\n                                    code = code.replace(/\\n$/, '');\r\n                                }\r\n                            } else {\r\n                                if (browser.ie && browser.ie11below) {\r\n\r\n                                    if (node.type == 'element') {\r\n                                        if (node.tagName == 'br') {\r\n                                            code += '<br>'\r\n                                        } else if (!dtd.$empty[node.tagName]) {\r\n                                            utils.each(node.children, function(cn) {\r\n                                                if (cn.type == 'element') {\r\n                                                    if (cn.tagName == 'br') {\r\n                                                        code += '<br>'\r\n                                                    } else if (!dtd.$empty[node.tagName]) {\r\n                                                        code += cn.innerText();\r\n                                                    }\r\n                                                } else {\r\n                                                    code += cn.data\r\n                                                }\r\n                                            });\r\n                                            if (!/br>$/.test(code)) {\r\n                                                code += '<br>';\r\n                                            }\r\n                                        }\r\n                                    } else {\r\n                                        code += node.data + '<br>'\r\n                                    }\r\n                                    if (!node.nextSibling() && /<br>$/.test(code)) {\r\n                                        code = code.replace(/<br>$/, '');\r\n                                    }\r\n\r\n                                } else {\r\n                                    code += (node.type == 'element' ? (dtd.$empty[node.tagName] ? '' : node.innerText()) : node.data);\r\n                                    if (!/br\\/?\\s*>$/.test(code)) {\r\n                                        if (!node.nextSibling())\r\n                                            return;\r\n                                        code += '<br>'\r\n                                    }\r\n                                }\r\n\r\n                            }\r\n\r\n                        });\r\n                    }\r\n                    me.execCommand('inserthtml', '<pre id=\"coder\"class=\"brush:' + lang + ';toolbar:false\">' + code + '</pre>', true);\r\n\r\n                    pre = me.document.getElementById('coder');\r\n                    domUtils.removeAttributes(pre, 'id');\r\n                    var tmpNode = pre.previousSibling;\r\n\r\n                    if (tmpNode && (tmpNode.nodeType == 3 && tmpNode.nodeValue.length == 1 && browser.ie && browser.version == 6 || domUtils.isEmptyBlock(tmpNode))) {\r\n\r\n                        domUtils.remove(tmpNode)\r\n                    }\r\n                    var rng = me.selection.getRange();\r\n                    if (domUtils.isEmptyBlock(pre)) {\r\n                        rng.setStart(pre, 0).setCursor(false, true)\r\n                    } else {\r\n                        rng.selectNodeContents(pre).select()\r\n                    }\r\n                }\r\n\r\n\r\n\r\n            },\r\n            queryCommandValue: function() {\r\n                var path = this.selection.getStartElementPath();\r\n                var lang = '';\r\n                utils.each(path, function(node) {\r\n                    if (node.nodeName == 'PRE') {\r\n                        var match = node.className.match(/brush:([^;]+)/);\r\n                        lang = match && match[1] ? match[1] : '';\r\n                        return false;\r\n                    }\r\n                });\r\n                return lang;\r\n            }\r\n        };\r\n\r\n        me.addInputRule(function(root) {\r\n            utils.each(root.getNodesByTagName('pre'), function(pre) {\r\n                var brs = pre.getNodesByTagName('br');\r\n                if (brs.length) {\r\n                    browser.ie && browser.ie11below && browser.version > 8 && utils.each(brs, function(br) {\r\n                        var txt = UE.uNode.createText('\\n');\r\n                        br.parentNode.insertBefore(txt, br);\r\n                        br.parentNode.removeChild(br);\r\n                    });\r\n                    return;\r\n                }\r\n                if (browser.ie && browser.ie11below && browser.version > 8)\r\n                    return;\r\n                var code = pre.innerText().split(/\\n/);\r\n                pre.innerHTML('');\r\n                utils.each(code, function(c) {\r\n                    if (c.length) {\r\n                        pre.appendChild(UE.uNode.createText(c));\r\n                    }\r\n                    pre.appendChild(UE.uNode.createElement('br'))\r\n                })\r\n            })\r\n        });\r\n        me.addOutputRule(function(root) {\r\n            utils.each(root.getNodesByTagName('pre'), function(pre) {\r\n                var code = '';\r\n                utils.each(pre.children, function(n) {\r\n                    if (n.type == 'text') {\r\n                        //在ie下文本内容有可能末尾带有\\n要去掉\r\n                        //trace:3396\r\n                        code += n.data.replace(/[ ]/g, '&nbsp;').replace(/\\n$/, '');\r\n                    } else {\r\n                        if (n.tagName == 'br') {\r\n                            code += '\\n'\r\n                        } else {\r\n                            code += (!dtd.$empty[n.tagName] ? '' : n.innerText());\r\n                        }\r\n\r\n                    }\r\n\r\n                });\r\n\r\n                pre.innerText(code.replace(/(&nbsp;|\\n)+$/, ''))\r\n            })\r\n        });\r\n        //不需要判断highlight的command列表\r\n        me.notNeedCodeQuery = {\r\n            help: 1,\r\n            undo: 1,\r\n            redo: 1,\r\n            source: 1,\r\n            print: 1,\r\n            searchreplace: 1,\r\n            fullscreen: 1,\r\n            preview: 1,\r\n            insertparagraph: 1,\r\n            elementpath: 1,\r\n            insertcode: 1,\r\n            inserthtml: 1,\r\n            selectall: 1\r\n        };\r\n        //将queyCommamndState重置\r\n        var orgQuery = me.queryCommandState;\r\n        me.queryCommandState = function(cmd) {\r\n            var me = this;\r\n\r\n            if (!me.notNeedCodeQuery[cmd.toLowerCase()] && me.selection && me.queryCommandValue('insertcode')) {\r\n                return -1;\r\n            }\r\n            return UE.Editor.prototype.queryCommandState.apply(this, arguments)\r\n        };\r\n        me.addListener('beforeenterkeydown', function() {\r\n            var rng = me.selection.getRange();\r\n            var pre = domUtils.findParentByTagName(rng.startContainer, 'pre', true);\r\n            if (pre) {\r\n                me.fireEvent('saveScene');\r\n                if (!rng.collapsed) {\r\n                    rng.deleteContents();\r\n                }\r\n                if (!browser.ie || browser.ie9above) {\r\n                    var tmpNode = me.document.createElement('br'),\r\n                        pre;\r\n                    rng.insertNode(tmpNode).setStartAfter(tmpNode).collapse(true);\r\n                    var next = tmpNode.nextSibling;\r\n                    if (!next && (!browser.ie || browser.version > 10)) {\r\n                        rng.insertNode(tmpNode.cloneNode(false));\r\n                    } else {\r\n                        rng.setStartAfter(tmpNode);\r\n                    }\r\n                    pre = tmpNode.previousSibling;\r\n                    var tmp;\r\n                    while (pre) {\r\n                        tmp = pre;\r\n                        pre = pre.previousSibling;\r\n                        if (!pre || pre.nodeName == 'BR') {\r\n                            pre = tmp;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (pre) {\r\n                        var str = '';\r\n                        while (pre && pre.nodeName != 'BR' && new RegExp('^[\\\\s' + domUtils.fillChar + ']*$').test(pre.nodeValue)) {\r\n                            str += pre.nodeValue;\r\n                            pre = pre.nextSibling;\r\n                        }\r\n                        if (pre.nodeName != 'BR') {\r\n                            var match = pre.nodeValue.match(new RegExp('^([\\\\s' + domUtils.fillChar + ']+)'));\r\n                            if (match && match[1]) {\r\n                                str += match[1]\r\n                            }\r\n\r\n                        }\r\n                        if (str) {\r\n                            str = me.document.createTextNode(str);\r\n                            rng.insertNode(str).setStartAfter(str);\r\n                        }\r\n                    }\r\n                    rng.collapse(true).select(true);\r\n                } else {\r\n                    if (browser.version > 8) {\r\n\r\n                        var txt = me.document.createTextNode('\\n');\r\n                        var start = rng.startContainer;\r\n                        if (rng.startOffset == 0) {\r\n                            var preNode = start.previousSibling;\r\n                            if (preNode) {\r\n                                rng.insertNode(txt);\r\n                                var fillchar = me.document.createTextNode(' ');\r\n                                rng.setStartAfter(txt).insertNode(fillchar).setStart(fillchar, 0).collapse(true).select(true)\r\n                            }\r\n                        } else {\r\n                            rng.insertNode(txt).setStartAfter(txt);\r\n                            var fillchar = me.document.createTextNode(' ');\r\n                            start = rng.startContainer.childNodes[rng.startOffset];\r\n                            if (start && !/^\\n/.test(start.nodeValue)) {\r\n                                rng.setStartBefore(txt)\r\n                            }\r\n                            rng.insertNode(fillchar).setStart(fillchar, 0).collapse(true).select(true)\r\n                        }\r\n\r\n                    } else {\r\n                        var tmpNode = me.document.createElement('br');\r\n                        rng.insertNode(tmpNode);\r\n                        rng.insertNode(me.document.createTextNode(domUtils.fillChar));\r\n                        rng.setStartAfter(tmpNode);\r\n                        pre = tmpNode.previousSibling;\r\n                        var tmp;\r\n                        while (pre) {\r\n                            tmp = pre;\r\n                            pre = pre.previousSibling;\r\n                            if (!pre || pre.nodeName == 'BR') {\r\n                                pre = tmp;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (pre) {\r\n                            var str = '';\r\n                            while (pre && pre.nodeName != 'BR' && new RegExp('^[ ' + domUtils.fillChar + ']*$').test(pre.nodeValue)) {\r\n                                str += pre.nodeValue;\r\n                                pre = pre.nextSibling;\r\n                            }\r\n                            if (pre.nodeName != 'BR') {\r\n                                var match = pre.nodeValue.match(new RegExp('^([ ' + domUtils.fillChar + ']+)'));\r\n                                if (match && match[1]) {\r\n                                    str += match[1]\r\n                                }\r\n\r\n                            }\r\n\r\n                            str = me.document.createTextNode(str);\r\n                            rng.insertNode(str).setStartAfter(str);\r\n                        }\r\n                        rng.collapse(true).select();\r\n                    }\r\n\r\n\r\n                }\r\n                me.fireEvent('saveScene');\r\n                return true;\r\n            }\r\n\r\n\r\n        });\r\n\r\n        me.addListener('tabkeydown', function(cmd, evt) {\r\n            var rng = me.selection.getRange();\r\n            var pre = domUtils.findParentByTagName(rng.startContainer, 'pre', true);\r\n            if (pre) {\r\n                me.fireEvent('saveScene');\r\n                if (evt.shiftKey) {\r\n\r\n                } else {\r\n                    if (!rng.collapsed) {\r\n                        var bk = rng.createBookmark();\r\n                        var start = bk.start.previousSibling;\r\n\r\n                        while (start) {\r\n                            if (pre.firstChild === start && !domUtils.isBr(start)) {\r\n                                pre.insertBefore(me.document.createTextNode('    '), start);\r\n\r\n                                break;\r\n                            }\r\n                            if (domUtils.isBr(start)) {\r\n                                pre.insertBefore(me.document.createTextNode('    '), start.nextSibling);\r\n\r\n                                break;\r\n                            }\r\n                            start = start.previousSibling;\r\n                        }\r\n                        var end = bk.end;\r\n                        start = bk.start.nextSibling;\r\n                        if (pre.firstChild === bk.start) {\r\n                            pre.insertBefore(me.document.createTextNode('    '), start.nextSibling)\r\n\r\n                        }\r\n                        while (start && start !== end) {\r\n                            if (domUtils.isBr(start) && start.nextSibling) {\r\n                                if (start.nextSibling === end) {\r\n                                    break;\r\n                                }\r\n                                pre.insertBefore(me.document.createTextNode('    '), start.nextSibling)\r\n                            }\r\n\r\n                            start = start.nextSibling;\r\n                        }\r\n                        rng.moveToBookmark(bk).select();\r\n                    } else {\r\n                        var tmpNode = me.document.createTextNode('    ');\r\n                        rng.insertNode(tmpNode).setStartAfter(tmpNode).collapse(true).select(true);\r\n                    }\r\n                }\r\n\r\n\r\n                me.fireEvent('saveScene');\r\n                return true;\r\n            }\r\n\r\n\r\n        });\r\n\r\n\r\n        me.addListener('beforeinserthtml', function(evtName, html) {\r\n            var me = this,\r\n                rng = me.selection.getRange(),\r\n                pre = domUtils.findParentByTagName(rng.startContainer, 'pre', true);\r\n            if (pre) {\r\n                if (!rng.collapsed) {\r\n                    rng.deleteContents()\r\n                }\r\n                var htmlstr = '';\r\n                if (browser.ie && browser.version > 8) {\r\n\r\n                    utils.each(UE.filterNode(UE.htmlparser(html), me.options.filterTxtRules).children, function(node) {\r\n                        if (node.type == 'element') {\r\n                            if (node.tagName == 'br') {\r\n                                htmlstr += '\\n'\r\n                            } else if (!dtd.$empty[node.tagName]) {\r\n                                utils.each(node.children, function(cn) {\r\n                                    if (cn.type == 'element') {\r\n                                        if (cn.tagName == 'br') {\r\n                                            htmlstr += '\\n'\r\n                                        } else if (!dtd.$empty[node.tagName]) {\r\n                                            htmlstr += cn.innerText();\r\n                                        }\r\n                                    } else {\r\n                                        htmlstr += cn.data\r\n                                    }\r\n                                })\r\n                                if (!/\\n$/.test(htmlstr)) {\r\n                                    htmlstr += '\\n';\r\n                                }\r\n                            }\r\n                        } else {\r\n                            htmlstr += node.data + '\\n'\r\n                        }\r\n                        if (!node.nextSibling() && /\\n$/.test(htmlstr)) {\r\n                            htmlstr = htmlstr.replace(/\\n$/, '');\r\n                        }\r\n                    });\r\n                    var tmpNode = me.document.createTextNode(utils.html(htmlstr.replace(/&nbsp;/g, ' ')));\r\n                    rng.insertNode(tmpNode).selectNode(tmpNode).select();\r\n                } else {\r\n                    var frag = me.document.createDocumentFragment();\r\n\r\n                    utils.each(UE.filterNode(UE.htmlparser(html), me.options.filterTxtRules).children, function(node) {\r\n                        if (node.type == 'element') {\r\n                            if (node.tagName == 'br') {\r\n                                frag.appendChild(me.document.createElement('br'))\r\n                            } else if (!dtd.$empty[node.tagName]) {\r\n                                utils.each(node.children, function(cn) {\r\n                                    if (cn.type == 'element') {\r\n                                        if (cn.tagName == 'br') {\r\n\r\n                                            frag.appendChild(me.document.createElement('br'))\r\n                                        } else if (!dtd.$empty[node.tagName]) {\r\n                                            frag.appendChild(me.document.createTextNode(utils.html(cn.innerText().replace(/&nbsp;/g, ' '))));\r\n\r\n                                        }\r\n                                    } else {\r\n                                        frag.appendChild(me.document.createTextNode(utils.html(cn.data.replace(/&nbsp;/g, ' '))));\r\n\r\n                                    }\r\n                                })\r\n                                if (frag.lastChild.nodeName != 'BR') {\r\n                                    frag.appendChild(me.document.createElement('br'))\r\n                                }\r\n                            }\r\n                        } else {\r\n                            frag.appendChild(me.document.createTextNode(utils.html(node.data.replace(/&nbsp;/g, ' '))));\r\n                        }\r\n                        if (!node.nextSibling() && frag.lastChild.nodeName == 'BR') {\r\n                            frag.removeChild(frag.lastChild)\r\n                        }\r\n\r\n\r\n                    });\r\n                    rng.insertNode(frag).select();\r\n\r\n                }\r\n\r\n                return true;\r\n            }\r\n        });\r\n        //方向键的处理\r\n        me.addListener('keydown', function(cmd, evt) {\r\n            var me = this,\r\n                keyCode = evt.keyCode || evt.which;\r\n            if (keyCode == 40) {\r\n                var rng = me.selection.getRange(),\r\n                    pre, start = rng.startContainer;\r\n                if (rng.collapsed && (pre = domUtils.findParentByTagName(rng.startContainer, 'pre', true)) && !pre.nextSibling) {\r\n                    var last = pre.lastChild\r\n                    while (last && last.nodeName == 'BR') {\r\n                        last = last.previousSibling;\r\n                    }\r\n                    if (last === start || rng.startContainer === pre && rng.startOffset == pre.childNodes.length) {\r\n                        me.execCommand('insertparagraph');\r\n                        domUtils.preventDefault(evt)\r\n                    }\r\n\r\n                }\r\n            }\r\n        });\r\n        //trace:3395\r\n        me.addListener('delkeydown', function(type, evt) {\r\n            var rng = this.selection.getRange();\r\n            rng.txtToElmBoundary(true);\r\n            var start = rng.startContainer;\r\n            if (domUtils.isTagNode(start, 'pre') && rng.collapsed && domUtils.isStartInblock(rng)) {\r\n                var p = me.document.createElement('p');\r\n                domUtils.fillNode(me.document, p);\r\n                start.parentNode.insertBefore(p, start);\r\n                domUtils.remove(start);\r\n                rng.setStart(p, 0).setCursor(false, true);\r\n                domUtils.preventDefault(evt);\r\n                return true;\r\n            }\r\n        })\r\n    };\r\n\r\n\r\n    // plugins/cleardoc.js\r\n    /**\r\n     * 清空文档插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 清空文档\r\n     * @command cleardoc\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * //editor 是编辑器实例\r\n     * editor.execCommand('cleardoc');\r\n     * ```\r\n     */\r\n\r\n    UE.commands['cleardoc'] = {\r\n        execCommand: function(cmdName) {\r\n            var me = this,\r\n                enterTag = me.options.enterTag,\r\n                range = me.selection.getRange();\r\n            if (enterTag == \"br\") {\r\n                me.body.innerHTML = \"<br/>\";\r\n                range.setStart(me.body, 0).setCursor();\r\n            } else {\r\n                me.body.innerHTML = \"<p>\" + (ie ? \"\" : \"<br/>\") + \"</p>\";\r\n                range.setStart(me.body.firstChild, 0).setCursor(false, true);\r\n            }\r\n            setTimeout(function() {\r\n                me.fireEvent(\"clearDoc\");\r\n            }, 0);\r\n\r\n        }\r\n    };\r\n\r\n\r\n\r\n    // plugins/anchor.js\r\n    /**\r\n     * 锚点插件，为UEditor提供插入锚点支持\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n    UE.plugin.register('anchor', function() {\r\n\r\n        return {\r\n            bindEvents: {\r\n                'ready': function() {\r\n                    utils.cssRule('anchor',\r\n                        '.anchorclass{background: url(\\'' +\r\n                        this.options.themePath +\r\n                        this.options.theme + '/images/anchor.gif\\') no-repeat scroll left center transparent;cursor: auto;display: inline-block;height: 16px;width: 15px;}',\r\n                        this.document);\r\n                }\r\n            },\r\n            outputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('img'), function(a) {\r\n                    var val;\r\n                    if (val = a.getAttr('anchorname')) {\r\n                        a.tagName = 'a';\r\n                        a.setAttr({\r\n                            anchorname: '',\r\n                            name: val,\r\n                            'class': ''\r\n                        })\r\n                    }\r\n                })\r\n            },\r\n            inputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('a'), function(a) {\r\n                    var val;\r\n                    if ((val = a.getAttr('name')) && !a.getAttr('href')) {\r\n                        a.tagName = 'img';\r\n                        a.setAttr({\r\n                            anchorname: a.getAttr('name'),\r\n                            'class': 'anchorclass'\r\n                        });\r\n                        a.setAttr('name')\r\n\r\n                    }\r\n                })\r\n\r\n            },\r\n            commands: {\r\n                /**\r\n                 * 插入锚点\r\n                 * @command anchor\r\n                 * @method execCommand\r\n                 * @param { String } cmd 命令字符串\r\n                 * @param { String } name 锚点名称字符串\r\n                 * @example\r\n                 * ```javascript\r\n                 * //editor 是编辑器实例\r\n                 * editor.execCommand('anchor', 'anchor1');\r\n                 * ```\r\n                 */\r\n                'anchor': {\r\n                    execCommand: function(cmd, name) {\r\n                        var range = this.selection.getRange(),\r\n                            img = range.getClosedNode();\r\n                        if (img && img.getAttribute('anchorname')) {\r\n                            if (name) {\r\n                                img.setAttribute('anchorname', name);\r\n                            } else {\r\n                                range.setStartBefore(img).setCursor();\r\n                                domUtils.remove(img);\r\n                            }\r\n                        } else {\r\n                            if (name) {\r\n                                //只在选区的开始插入\r\n                                var anchor = this.document.createElement('img');\r\n                                range.collapse(true);\r\n                                domUtils.setAttributes(anchor, {\r\n                                    'anchorname': name,\r\n                                    'class': 'anchorclass'\r\n                                });\r\n                                range.insertNode(anchor).setStartAfter(anchor).setCursor(false, true);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n    // plugins/wordcount.js\r\n    ///import core\r\n    ///commands 字数统计\r\n    ///commandsName  WordCount,wordCount\r\n    ///commandsTitle  字数统计\r\n    /*\r\n     * Created by JetBrains WebStorm.\r\n     * User: taoqili\r\n     * Date: 11-9-7\r\n     * Time: 下午8:18\r\n     * To change this template use File | Settings | File Templates.\r\n     */\r\n\r\n    UE.plugins['wordcount'] = function() {\r\n        var me = this;\r\n        me.setOpt('wordCount', true);\r\n        me.addListener('contentchange', function() {\r\n            me.fireEvent('wordcount');\r\n        });\r\n        var timer;\r\n        me.addListener('ready', function() {\r\n            var me = this;\r\n            domUtils.on(me.body, \"keyup\", function(evt) {\r\n                var code = evt.keyCode || evt.which,\r\n                    //忽略的按键,ctr,alt,shift,方向键\r\n                    ignores = { \"16\": 1, \"18\": 1, \"20\": 1, \"37\": 1, \"38\": 1, \"39\": 1, \"40\": 1 };\r\n                if (code in ignores) return;\r\n                clearTimeout(timer);\r\n                timer = setTimeout(function() {\r\n                    me.fireEvent('wordcount');\r\n                }, 200)\r\n            })\r\n        });\r\n    };\r\n\r\n\r\n    // plugins/pagebreak.js\r\n    /**\r\n     * 分页功能插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n    UE.plugins['pagebreak'] = function() {\r\n        var me = this,\r\n            notBreakTags = ['td'];\r\n        me.setOpt('pageBreakTag', '_ueditor_page_break_tag_');\r\n\r\n        function fillNode(node) {\r\n            if (domUtils.isEmptyBlock(node)) {\r\n                var firstChild = node.firstChild,\r\n                    tmpNode;\r\n\r\n                while (firstChild && firstChild.nodeType == 1 && domUtils.isEmptyBlock(firstChild)) {\r\n                    tmpNode = firstChild;\r\n                    firstChild = firstChild.firstChild;\r\n                }!tmpNode && (tmpNode = node);\r\n                domUtils.fillNode(me.document, tmpNode);\r\n            }\r\n        }\r\n        //分页符样式添加\r\n\r\n        me.ready(function() {\r\n            utils.cssRule('pagebreak', '.pagebreak{display:block;clear:both !important;cursor:default !important;width: 100% !important;margin:0;}', me.document);\r\n        });\r\n\r\n        function isHr(node) {\r\n            return node && node.nodeType == 1 && node.tagName == 'HR' && node.className == 'pagebreak';\r\n        }\r\n        me.addInputRule(function(root) {\r\n            root.traversal(function(node) {\r\n                if (node.type == 'text' && node.data == me.options.pageBreakTag) {\r\n                    var hr = UE.uNode.createElement('<hr class=\"pagebreak\" noshade=\"noshade\" size=\"5\" style=\"-webkit-user-select: none;\">');\r\n                    node.parentNode.insertBefore(hr, node);\r\n                    node.parentNode.removeChild(node)\r\n                }\r\n            })\r\n        });\r\n        me.addOutputRule(function(node) {\r\n            utils.each(node.getNodesByTagName('hr'), function(n) {\r\n                if (n.getAttr('class') == 'pagebreak') {\r\n                    var txt = UE.uNode.createText(me.options.pageBreakTag);\r\n                    n.parentNode.insertBefore(txt, n);\r\n                    n.parentNode.removeChild(n);\r\n                }\r\n            })\r\n\r\n        });\r\n\r\n        /**\r\n         * 插入分页符\r\n         * @command pagebreak\r\n         * @method execCommand\r\n         * @param { String } cmd 命令字符串\r\n         * @remind 在表格中插入分页符会把表格切分成两部分\r\n         * @remind 获取编辑器内的数据时， 编辑器会把分页符转换成“_ueditor_page_break_tag_”字符串，\r\n         *          以便于提交数据到服务器端后处理分页。\r\n         * @example\r\n         * ```javascript\r\n         * editor.execCommand( 'pagebreak'); //插入一个hr标签，带有样式类名pagebreak\r\n         * ```\r\n         */\r\n\r\n        me.commands['pagebreak'] = {\r\n            execCommand: function() {\r\n                var range = me.selection.getRange(),\r\n                    hr = me.document.createElement('hr');\r\n                domUtils.setAttributes(hr, {\r\n                    'class': 'pagebreak',\r\n                    noshade: \"noshade\",\r\n                    size: \"5\"\r\n                });\r\n                domUtils.unSelectable(hr);\r\n                //table单独处理\r\n                var node = domUtils.findParentByTagName(range.startContainer, notBreakTags, true),\r\n\r\n                    parents = [],\r\n                    pN;\r\n                if (node) {\r\n                    switch (node.tagName) {\r\n                        case 'TD':\r\n                            pN = node.parentNode;\r\n                            if (!pN.previousSibling) {\r\n                                var table = domUtils.findParentByTagName(pN, 'table');\r\n                                //                            var tableWrapDiv = table.parentNode;\r\n                                //                            if(tableWrapDiv && tableWrapDiv.nodeType == 1\r\n                                //                                && tableWrapDiv.tagName == 'DIV'\r\n                                //                                && tableWrapDiv.getAttribute('dropdrag')\r\n                                //                                ){\r\n                                //                                domUtils.remove(tableWrapDiv,true);\r\n                                //                            }\r\n                                table.parentNode.insertBefore(hr, table);\r\n                                parents = domUtils.findParents(hr, true);\r\n\r\n                            } else {\r\n                                pN.parentNode.insertBefore(hr, pN);\r\n                                parents = domUtils.findParents(hr);\r\n\r\n                            }\r\n                            pN = parents[1];\r\n                            if (hr !== pN) {\r\n                                domUtils.breakParent(hr, pN);\r\n\r\n                            }\r\n                            //table要重写绑定一下拖拽\r\n                            me.fireEvent('afteradjusttable', me.document);\r\n                    }\r\n\r\n                } else {\r\n\r\n                    if (!range.collapsed) {\r\n                        range.deleteContents();\r\n                        var start = range.startContainer;\r\n                        while (!domUtils.isBody(start) && domUtils.isBlockElm(start) && domUtils.isEmptyNode(start)) {\r\n                            range.setStartBefore(start).collapse(true);\r\n                            domUtils.remove(start);\r\n                            start = range.startContainer;\r\n                        }\r\n\r\n                    }\r\n                    range.insertNode(hr);\r\n\r\n                    var pN = hr.parentNode,\r\n                        nextNode;\r\n                    while (!domUtils.isBody(pN)) {\r\n                        domUtils.breakParent(hr, pN);\r\n                        nextNode = hr.nextSibling;\r\n                        if (nextNode && domUtils.isEmptyBlock(nextNode)) {\r\n                            domUtils.remove(nextNode);\r\n                        }\r\n                        pN = hr.parentNode;\r\n                    }\r\n                    nextNode = hr.nextSibling;\r\n                    var pre = hr.previousSibling;\r\n                    if (isHr(pre)) {\r\n                        domUtils.remove(pre);\r\n                    } else {\r\n                        pre && fillNode(pre);\r\n                    }\r\n\r\n                    if (!nextNode) {\r\n                        var p = me.document.createElement('p');\r\n\r\n                        hr.parentNode.appendChild(p);\r\n                        domUtils.fillNode(me.document, p);\r\n                        range.setStart(p, 0).collapse(true);\r\n                    } else {\r\n                        if (isHr(nextNode)) {\r\n                            domUtils.remove(nextNode);\r\n                        } else {\r\n                            fillNode(nextNode);\r\n                        }\r\n                        range.setEndAfter(hr).collapse(false);\r\n                    }\r\n\r\n                    range.select(true);\r\n\r\n                }\r\n\r\n            }\r\n        };\r\n    };\r\n\r\n    // plugins/wordimage.js\r\n    ///import core\r\n    ///commands 本地图片引导上传\r\n    ///commandsName  WordImage\r\n    ///commandsTitle  本地图片引导上传\r\n    ///commandsDialog  dialogs\\wordimage\r\n\r\n    UE.plugin.register('wordimage', function() {\r\n        var me = this,\r\n            images = [];\r\n        return {\r\n            commands: {\r\n                'wordimage': {\r\n                    execCommand: function() {\r\n                        var images = domUtils.getElementsByTagName(me.body, \"img\");\r\n                        var urlList = [];\r\n                        for (var i = 0, ci; ci = images[i++];) {\r\n                            var url = ci.getAttribute(\"word_img\");\r\n                            url && urlList.push(url);\r\n                        }\r\n                        return urlList;\r\n                    },\r\n                    queryCommandState: function() {\r\n                        images = domUtils.getElementsByTagName(me.body, \"img\");\r\n                        for (var i = 0, ci; ci = images[i++];) {\r\n                            if (ci.getAttribute(\"word_img\")) {\r\n                                return 1;\r\n                            }\r\n                        }\r\n                        return -1;\r\n                    },\r\n                    notNeedUndo: true\r\n                }\r\n            },\r\n            inputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('img'), function(img) {\r\n                    var attrs = img.attrs,\r\n                        flag = parseInt(attrs.width) < 128 || parseInt(attrs.height) < 43,\r\n                        opt = me.options,\r\n                        src = opt.UEDITOR_HOME_URL + 'themes/default/images/spacer.gif';\r\n                    if (attrs['src'] && /^(?:(file:\\/+))/.test(attrs['src'])) {\r\n                        img.setAttr({\r\n                            width: attrs.width,\r\n                            height: attrs.height,\r\n                            alt: attrs.alt,\r\n                            word_img: attrs.src,\r\n                            src: src,\r\n                            'style': 'background:url(' + (flag ? opt.themePath + opt.theme + '/images/word.gif' : opt.langPath + opt.lang + '/images/localimage.png') + ') no-repeat center center;border:1px solid #ddd'\r\n                        })\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    });\r\n\r\n    // plugins/dragdrop.js\r\n    UE.plugins['dragdrop'] = function() {\r\n\r\n        var me = this;\r\n        me.ready(function() {\r\n            domUtils.on(this.body, 'dragend', function() {\r\n                var rng = me.selection.getRange();\r\n                var node = rng.getClosedNode() || me.selection.getStart();\r\n\r\n                if (node && node.tagName == 'IMG') {\r\n\r\n                    var pre = node.previousSibling,\r\n                        next;\r\n                    while (next = node.nextSibling) {\r\n                        if (next.nodeType == 1 && next.tagName == 'SPAN' && !next.firstChild) {\r\n                            domUtils.remove(next)\r\n                        } else {\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n\r\n                    if ((pre && pre.nodeType == 1 && !domUtils.isEmptyBlock(pre) || !pre) && (!next || next && !domUtils.isEmptyBlock(next))) {\r\n                        if (pre && pre.tagName == 'P' && !domUtils.isEmptyBlock(pre)) {\r\n                            pre.appendChild(node);\r\n                            domUtils.moveChild(next, pre);\r\n                            domUtils.remove(next);\r\n                        } else if (next && next.tagName == 'P' && !domUtils.isEmptyBlock(next)) {\r\n                            next.insertBefore(node, next.firstChild);\r\n                        }\r\n\r\n                        if (pre && pre.tagName == 'P' && domUtils.isEmptyBlock(pre)) {\r\n                            domUtils.remove(pre)\r\n                        }\r\n                        if (next && next.tagName == 'P' && domUtils.isEmptyBlock(next)) {\r\n                            domUtils.remove(next)\r\n                        }\r\n                        rng.selectNode(node).select();\r\n                        me.fireEvent('saveScene');\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            })\r\n        });\r\n        me.addListener('keyup', function(type, evt) {\r\n            var keyCode = evt.keyCode || evt.which;\r\n            if (keyCode == 13) {\r\n                var rng = me.selection.getRange(),\r\n                    node;\r\n                if (node = domUtils.findParentByTagName(rng.startContainer, 'p', true)) {\r\n                    if (domUtils.getComputedStyle(node, 'text-align') == 'center') {\r\n                        domUtils.removeStyle(node, 'text-align')\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    };\r\n\r\n\r\n    // plugins/undo.js\r\n    /**\r\n     * undo redo\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 撤销上一次执行的命令\r\n     * @command undo\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'undo' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 重做上一次执行的命令\r\n     * @command redo\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'redo' );\r\n     * ```\r\n     */\r\n\r\n    UE.plugins['undo'] = function() {\r\n        var saveSceneTimer;\r\n        var me = this,\r\n            maxUndoCount = me.options.maxUndoCount || 20,\r\n            maxInputCount = me.options.maxInputCount || 20,\r\n            fillchar = new RegExp(domUtils.fillChar + '|<\\/hr>', 'gi'); // ie会产生多余的</hr>\r\n        var noNeedFillCharTags = {\r\n            ol: 1,\r\n            ul: 1,\r\n            table: 1,\r\n            tbody: 1,\r\n            tr: 1,\r\n            body: 1\r\n        };\r\n        var orgState = me.options.autoClearEmptyNode;\r\n\r\n        function compareAddr(indexA, indexB) {\r\n            if (indexA.length != indexB.length)\r\n                return 0;\r\n            for (var i = 0, l = indexA.length; i < l; i++) {\r\n                if (indexA[i] != indexB[i])\r\n                    return 0\r\n            }\r\n            return 1;\r\n        }\r\n\r\n        function compareRangeAddress(rngAddrA, rngAddrB) {\r\n            if (rngAddrA.collapsed != rngAddrB.collapsed) {\r\n                return 0;\r\n            }\r\n            if (!compareAddr(rngAddrA.startAddress, rngAddrB.startAddress) || !compareAddr(rngAddrA.endAddress, rngAddrB.endAddress)) {\r\n                return 0;\r\n            }\r\n            return 1;\r\n        }\r\n\r\n        function UndoManager() {\r\n            this.list = [];\r\n            this.index = 0;\r\n            this.hasUndo = false;\r\n            this.hasRedo = false;\r\n            this.undo = function() {\r\n                if (this.hasUndo) {\r\n                    if (!this.list[this.index - 1] && this.list.length == 1) {\r\n                        this.reset();\r\n                        return;\r\n                    }\r\n                    while (this.list[this.index].content == this.list[this.index - 1].content) {\r\n                        this.index--;\r\n                        if (this.index == 0) {\r\n                            return this.restore(0);\r\n                        }\r\n                    }\r\n                    this.restore(--this.index);\r\n                }\r\n            };\r\n            this.redo = function() {\r\n                if (this.hasRedo) {\r\n                    while (this.list[this.index].content == this.list[this.index + 1].content) {\r\n                        this.index++;\r\n                        if (this.index == this.list.length - 1) {\r\n                            return this.restore(this.index);\r\n                        }\r\n                    }\r\n                    this.restore(++this.index);\r\n                }\r\n            };\r\n\r\n            this.restore = function() {\r\n                var me = this.editor;\r\n                var scene = this.list[this.index];\r\n                var root = UE.htmlparser(scene.content.replace(fillchar, ''));\r\n                me.options.autoClearEmptyNode = false;\r\n                me.filterInputRule(root);\r\n                me.options.autoClearEmptyNode = orgState;\r\n                //trace:873\r\n                //去掉展位符\r\n                me.document.body.innerHTML = root.toHtml();\r\n                me.fireEvent('afterscencerestore');\r\n                //处理undo后空格不展位的问题\r\n                if (browser.ie) {\r\n                    utils.each(domUtils.getElementsByTagName(me.document, 'td th caption p'), function(node) {\r\n                        if (domUtils.isEmptyNode(node)) {\r\n                            domUtils.fillNode(me.document, node);\r\n                        }\r\n                    })\r\n                }\r\n\r\n                try {\r\n                    var rng = new dom.Range(me.document).moveToAddress(scene.address);\r\n                    rng.select(noNeedFillCharTags[rng.startContainer.nodeName.toLowerCase()]);\r\n                } catch (e) {}\r\n\r\n                this.update();\r\n                this.clearKey();\r\n                //不能把自己reset了\r\n                me.fireEvent('reset', true);\r\n            };\r\n\r\n            this.getScene = function() {\r\n                var me = this.editor;\r\n                var rng = me.selection.getRange(),\r\n                    rngAddress = rng.createAddress(false, true);\r\n                me.fireEvent('beforegetscene');\r\n                var root = UE.htmlparser(me.body.innerHTML);\r\n                me.options.autoClearEmptyNode = false;\r\n                me.filterOutputRule(root);\r\n                me.options.autoClearEmptyNode = orgState;\r\n                var cont = root.toHtml();\r\n                //trace:3461\r\n                //这个会引起回退时导致空格丢失的情况\r\n                //            browser.ie && (cont = cont.replace(/>&nbsp;</g, '><').replace(/\\s*</g, '<').replace(/>\\s*/g, '>'));\r\n                me.fireEvent('aftergetscene');\r\n\r\n                return {\r\n                    address: rngAddress,\r\n                    content: cont\r\n                }\r\n            };\r\n            this.save = function(notCompareRange, notSetCursor) {\r\n                clearTimeout(saveSceneTimer);\r\n                var currentScene = this.getScene(notSetCursor),\r\n                    lastScene = this.list[this.index];\r\n\r\n                if (lastScene && lastScene.content != currentScene.content) {\r\n                    me.trigger('contentchange')\r\n                }\r\n                //内容相同位置相同不存\r\n                if (lastScene && lastScene.content == currentScene.content &&\r\n                    (notCompareRange ? 1 : compareRangeAddress(lastScene.address, currentScene.address))\r\n                ) {\r\n                    return;\r\n                }\r\n                this.list = this.list.slice(0, this.index + 1);\r\n                this.list.push(currentScene);\r\n                //如果大于最大数量了，就把最前的剔除\r\n                if (this.list.length > maxUndoCount) {\r\n                    this.list.shift();\r\n                }\r\n                this.index = this.list.length - 1;\r\n                this.clearKey();\r\n                //跟新undo/redo状态\r\n                this.update();\r\n\r\n            };\r\n            this.update = function() {\r\n                this.hasRedo = !!this.list[this.index + 1];\r\n                this.hasUndo = !!this.list[this.index - 1];\r\n            };\r\n            this.reset = function() {\r\n                this.list = [];\r\n                this.index = 0;\r\n                this.hasUndo = false;\r\n                this.hasRedo = false;\r\n                this.clearKey();\r\n            };\r\n            this.clearKey = function() {\r\n                keycont = 0;\r\n                lastKeyCode = null;\r\n            };\r\n        }\r\n\r\n        me.undoManger = new UndoManager();\r\n        me.undoManger.editor = me;\r\n\r\n        function saveScene() {\r\n            this.undoManger.save();\r\n        }\r\n\r\n        me.addListener('saveScene', function() {\r\n            var args = Array.prototype.splice.call(arguments, 1);\r\n            this.undoManger.save.apply(this.undoManger, args);\r\n        });\r\n\r\n        //    me.addListener('beforeexeccommand', saveScene);\r\n        //    me.addListener('afterexeccommand', saveScene);\r\n\r\n        me.addListener('reset', function(type, exclude) {\r\n            if (!exclude) {\r\n                this.undoManger.reset();\r\n            }\r\n        });\r\n        me.commands['redo'] = me.commands['undo'] = {\r\n            execCommand: function(cmdName) {\r\n                this.undoManger[cmdName]();\r\n            },\r\n            queryCommandState: function(cmdName) {\r\n                return this.undoManger['has' + (cmdName.toLowerCase() == 'undo' ? 'Undo' : 'Redo')] ? 0 : -1;\r\n            },\r\n            notNeedUndo: 1\r\n        };\r\n\r\n        var keys = {\r\n                //  /*Backspace*/ 8:1, /*Delete*/ 46:1,\r\n                /*Shift*/\r\n                16: 1,\r\n                /*Ctrl*/\r\n                17: 1,\r\n                /*Alt*/\r\n                18: 1,\r\n                37: 1,\r\n                38: 1,\r\n                39: 1,\r\n                40: 1\r\n\r\n            },\r\n            keycont = 0,\r\n            lastKeyCode;\r\n        //输入法状态下不计算字符数\r\n        var inputType = false;\r\n        me.addListener('ready', function() {\r\n            domUtils.on(this.body, 'compositionstart', function() {\r\n                inputType = true;\r\n            });\r\n            domUtils.on(this.body, 'compositionend', function() {\r\n                inputType = false;\r\n            })\r\n        });\r\n        //快捷键\r\n        me.addshortcutkey({\r\n            \"Undo\": \"ctrl+90\", //undo\r\n            \"Redo\": \"ctrl+89\" //redo\r\n\r\n        });\r\n        var isCollapsed = true;\r\n        me.addListener('keydown', function(type, evt) {\r\n\r\n            var me = this;\r\n            var keyCode = evt.keyCode || evt.which;\r\n            if (!keys[keyCode] && !evt.ctrlKey && !evt.metaKey && !evt.shiftKey && !evt.altKey) {\r\n                if (inputType)\r\n                    return;\r\n\r\n                if (!me.selection.getRange().collapsed) {\r\n                    me.undoManger.save(false, true);\r\n                    isCollapsed = false;\r\n                    return;\r\n                }\r\n                if (me.undoManger.list.length == 0) {\r\n                    me.undoManger.save(true);\r\n                }\r\n                clearTimeout(saveSceneTimer);\r\n\r\n                function save(cont) {\r\n                    cont.undoManger.save(false, true);\r\n                    cont.fireEvent('selectionchange');\r\n                }\r\n                saveSceneTimer = setTimeout(function() {\r\n                    if (inputType) {\r\n                        var interalTimer = setInterval(function() {\r\n                            if (!inputType) {\r\n                                save(me);\r\n                                clearInterval(interalTimer)\r\n                            }\r\n                        }, 300)\r\n                        return;\r\n                    }\r\n                    save(me);\r\n                }, 200);\r\n\r\n                lastKeyCode = keyCode;\r\n                keycont++;\r\n                if (keycont >= maxInputCount) {\r\n                    save(me)\r\n                }\r\n            }\r\n        });\r\n        me.addListener('keyup', function(type, evt) {\r\n            var keyCode = evt.keyCode || evt.which;\r\n            if (!keys[keyCode] && !evt.ctrlKey && !evt.metaKey && !evt.shiftKey && !evt.altKey) {\r\n                if (inputType)\r\n                    return;\r\n                if (!isCollapsed) {\r\n                    this.undoManger.save(false, true);\r\n                    isCollapsed = true;\r\n                }\r\n            }\r\n        });\r\n        //扩展实例，添加关闭和开启命令undo\r\n        me.stopCmdUndo = function() {\r\n            me.__hasEnterExecCommand = true;\r\n        };\r\n        me.startCmdUndo = function() {\r\n            me.__hasEnterExecCommand = false;\r\n        }\r\n    };\r\n\r\n\r\n    // plugins/copy.js\r\n    UE.plugin.register('copy', function() {\r\n\r\n        var me = this;\r\n\r\n        function initZeroClipboard() {\r\n\r\n            ZeroClipboard.config({\r\n                debug: false,\r\n                swfPath: me.options.UEDITOR_HOME_URL + 'third-party/zeroclipboard/ZeroClipboard.swf'\r\n            });\r\n\r\n            var client = me.zeroclipboard = new ZeroClipboard();\r\n\r\n            // 复制内容\r\n            client.on('copy', function(e) {\r\n                var client = e.client,\r\n                    rng = me.selection.getRange(),\r\n                    div = document.createElement('div');\r\n\r\n                div.appendChild(rng.cloneContents());\r\n                client.setText(div.innerText || div.textContent);\r\n                client.setHtml(div.innerHTML);\r\n                rng.select();\r\n            });\r\n            // hover事件传递到target\r\n            client.on('mouseover mouseout', function(e) {\r\n                var target = e.target;\r\n                if (e.type == 'mouseover') {\r\n                    domUtils.addClass(target, 'edui-state-hover');\r\n                } else if (e.type == 'mouseout') {\r\n                    domUtils.removeClasses(target, 'edui-state-hover');\r\n                }\r\n            });\r\n            // flash加载不成功\r\n            client.on('wrongflash noflash', function() {\r\n                ZeroClipboard.destroy();\r\n            });\r\n        }\r\n\r\n        return {\r\n            bindEvents: {\r\n                'ready': function() {\r\n                    if (!browser.ie) {\r\n                        if (window.ZeroClipboard) {\r\n                            initZeroClipboard();\r\n                        } else {\r\n                            utils.loadFile(document, {\r\n                                src: me.options.UEDITOR_HOME_URL + \"third-party/zeroclipboard/ZeroClipboard.js\",\r\n                                tag: \"script\",\r\n                                type: \"text/javascript\",\r\n                                defer: \"defer\"\r\n                            }, function() {\r\n                                initZeroClipboard();\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            commands: {\r\n                'copy': {\r\n                    execCommand: function(cmd) {\r\n                        if (!me.document.execCommand('copy')) {\r\n                            alert(me.getLang('copymsg'));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n    // plugins/paste.js\r\n    ///import core\r\n    ///import plugins/inserthtml.js\r\n    ///import plugins/undo.js\r\n    ///import plugins/serialize.js\r\n    ///commands 粘贴\r\n    ///commandsName  PastePlain\r\n    ///commandsTitle  纯文本粘贴模式\r\n    /**\r\n     * @description 粘贴\r\n     * @author zhanyi\r\n     */\r\n    UE.plugins['paste'] = function() {\r\n        function getClipboardData(callback) {\r\n            var doc = this.document;\r\n            if (doc.getElementById('baidu_pastebin')) {\r\n                return;\r\n            }\r\n            var range = this.selection.getRange(),\r\n                bk = range.createBookmark(),\r\n                //创建剪贴的容器div\r\n                pastebin = doc.createElement('div');\r\n            pastebin.id = 'baidu_pastebin';\r\n            // Safari 要求div必须有内容，才能粘贴内容进来\r\n            browser.webkit && pastebin.appendChild(doc.createTextNode(domUtils.fillChar + domUtils.fillChar));\r\n            doc.body.appendChild(pastebin);\r\n            //trace:717 隐藏的span不能得到top\r\n            //bk.start.innerHTML = '&nbsp;';\r\n            bk.start.style.display = '';\r\n            pastebin.style.cssText = \"position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:\" +\r\n                //要在现在光标平行的位置加入，否则会出现跳动的问题\r\n                domUtils.getXY(bk.start).y + 'px';\r\n\r\n            range.selectNodeContents(pastebin).select(true);\r\n\r\n            setTimeout(function() {\r\n                if (browser.webkit) {\r\n                    for (var i = 0, pastebins = doc.querySelectorAll('#baidu_pastebin'), pi; pi = pastebins[i++];) {\r\n                        if (domUtils.isEmptyNode(pi)) {\r\n                            domUtils.remove(pi);\r\n                        } else {\r\n                            pastebin = pi;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                try {\r\n                    pastebin.parentNode.removeChild(pastebin);\r\n                } catch (e) {}\r\n                range.moveToBookmark(bk).select(true);\r\n                callback(pastebin);\r\n            }, 0);\r\n        }\r\n\r\n        var me = this;\r\n\r\n        me.setOpt({\r\n            retainOnlyLabelPasted: false\r\n        });\r\n\r\n        var txtContent, htmlContent, address;\r\n\r\n        function getPureHtml(html) {\r\n            return html.replace(/<(\\/?)([\\w\\-]+)([^>]*)>/gi, function(a, b, tagName, attrs) {\r\n                tagName = tagName.toLowerCase();\r\n                if ({ img: 1 }[tagName]) {\r\n                    return a;\r\n                }\r\n                attrs = attrs.replace(/([\\w\\-]*?)\\s*=\\s*((\"([^\"]*)\")|('([^']*)')|([^\\s>]+))/gi, function(str, atr, val) {\r\n                    if ({\r\n                            'src': 1,\r\n                            'href': 1,\r\n                            'name': 1\r\n                        }[atr.toLowerCase()]) {\r\n                        return atr + '=' + val + ' '\r\n                    }\r\n                    return ''\r\n                });\r\n                if ({\r\n                        'span': 1,\r\n                        'div': 1\r\n                    }[tagName]) {\r\n                    return ''\r\n                } else {\r\n\r\n                    return '<' + b + tagName + ' ' + utils.trim(attrs) + '>'\r\n                }\r\n\r\n            });\r\n        }\r\n\r\n        function filter(div) {\r\n            var html;\r\n            if (div.firstChild) {\r\n                //去掉cut中添加的边界值\r\n                var nodes = domUtils.getElementsByTagName(div, 'span');\r\n                for (var i = 0, ni; ni = nodes[i++];) {\r\n                    if (ni.id == '_baidu_cut_start' || ni.id == '_baidu_cut_end') {\r\n                        domUtils.remove(ni);\r\n                    }\r\n                }\r\n\r\n                if (browser.webkit) {\r\n\r\n                    var brs = div.querySelectorAll('div br');\r\n                    for (var i = 0, bi; bi = brs[i++];) {\r\n                        var pN = bi.parentNode;\r\n                        if (pN.tagName == 'DIV' && pN.childNodes.length == 1) {\r\n                            pN.innerHTML = '<p><br/></p>';\r\n                            domUtils.remove(pN);\r\n                        }\r\n                    }\r\n                    var divs = div.querySelectorAll('#baidu_pastebin');\r\n                    for (var i = 0, di; di = divs[i++];) {\r\n                        var tmpP = me.document.createElement('p');\r\n                        di.parentNode.insertBefore(tmpP, di);\r\n                        while (di.firstChild) {\r\n                            tmpP.appendChild(di.firstChild);\r\n                        }\r\n                        domUtils.remove(di);\r\n                    }\r\n\r\n                    var metas = div.querySelectorAll('meta');\r\n                    for (var i = 0, ci; ci = metas[i++];) {\r\n                        domUtils.remove(ci);\r\n                    }\r\n\r\n                    var brs = div.querySelectorAll('br');\r\n                    for (i = 0; ci = brs[i++];) {\r\n                        if (/^apple-/i.test(ci.className)) {\r\n                            domUtils.remove(ci);\r\n                        }\r\n                    }\r\n                }\r\n                if (browser.gecko) {\r\n                    var dirtyNodes = div.querySelectorAll('[_moz_dirty]');\r\n                    for (i = 0; ci = dirtyNodes[i++];) {\r\n                        ci.removeAttribute('_moz_dirty');\r\n                    }\r\n                }\r\n                if (!browser.ie) {\r\n                    var spans = div.querySelectorAll('span.Apple-style-span');\r\n                    for (var i = 0, ci; ci = spans[i++];) {\r\n                        domUtils.remove(ci, true);\r\n                    }\r\n                }\r\n\r\n                //ie下使用innerHTML会产生多余的\\r\\n字符，也会产生&nbsp;这里过滤掉\r\n                html = div.innerHTML; //.replace(/>(?:(\\s|&nbsp;)*?)</g,'><');\r\n\r\n                //过滤word粘贴过来的冗余属性\r\n                html = UE.filterWord(html);\r\n                //取消了忽略空白的第二个参数，粘贴过来的有些是有空白的，会被套上相关的标签\r\n                var root = UE.htmlparser(html);\r\n                //如果给了过滤规则就先进行过滤\r\n                if (me.options.filterRules) {\r\n                    UE.filterNode(root, me.options.filterRules);\r\n                }\r\n                //执行默认的处理\r\n                me.filterInputRule(root);\r\n                //针对chrome的处理\r\n                if (browser.webkit) {\r\n                    var br = root.lastChild();\r\n                    if (br && br.type == 'element' && br.tagName == 'br') {\r\n                        root.removeChild(br)\r\n                    }\r\n                    utils.each(me.body.querySelectorAll('div'), function(node) {\r\n                        if (domUtils.isEmptyBlock(node)) {\r\n                            domUtils.remove(node, true)\r\n                        }\r\n                    })\r\n                }\r\n                html = { 'html': root.toHtml() };\r\n                me.fireEvent('beforepaste', html, root);\r\n                //抢了默认的粘贴，那后边的内容就不执行了，比如表格粘贴\r\n                if (!html.html) {\r\n                    return;\r\n                }\r\n                root = UE.htmlparser(html.html, true);\r\n                //如果开启了纯文本模式\r\n                if (me.queryCommandState('pasteplain') === 1) {\r\n                    me.execCommand('insertHtml', UE.filterNode(root, me.options.filterTxtRules).toHtml(), true);\r\n                } else {\r\n                    //文本模式\r\n                    UE.filterNode(root, me.options.filterTxtRules);\r\n                    txtContent = root.toHtml();\r\n                    //完全模式\r\n                    htmlContent = html.html;\r\n\r\n                    address = me.selection.getRange().createAddress(true);\r\n                    me.execCommand('insertHtml', me.getOpt('retainOnlyLabelPasted') === true ? getPureHtml(htmlContent) : htmlContent, true);\r\n                }\r\n                me.fireEvent(\"afterpaste\", html);\r\n            }\r\n        }\r\n\r\n        me.addListener('pasteTransfer', function(cmd, plainType) {\r\n\r\n            if (address && txtContent && htmlContent && txtContent != htmlContent) {\r\n                var range = me.selection.getRange();\r\n                range.moveToAddress(address, true);\r\n\r\n                if (!range.collapsed) {\r\n\r\n                    while (!domUtils.isBody(range.startContainer)) {\r\n                        var start = range.startContainer;\r\n                        if (start.nodeType == 1) {\r\n                            start = start.childNodes[range.startOffset];\r\n                            if (!start) {\r\n                                range.setStartBefore(range.startContainer);\r\n                                continue;\r\n                            }\r\n                            var pre = start.previousSibling;\r\n\r\n                            if (pre && pre.nodeType == 3 && new RegExp('^[\\n\\r\\t ' + domUtils.fillChar + ']*$').test(pre.nodeValue)) {\r\n                                range.setStartBefore(pre)\r\n                            }\r\n                        }\r\n                        if (range.startOffset == 0) {\r\n                            range.setStartBefore(range.startContainer);\r\n                        } else {\r\n                            break;\r\n                        }\r\n\r\n                    }\r\n                    while (!domUtils.isBody(range.endContainer)) {\r\n                        var end = range.endContainer;\r\n                        if (end.nodeType == 1) {\r\n                            end = end.childNodes[range.endOffset];\r\n                            if (!end) {\r\n                                range.setEndAfter(range.endContainer);\r\n                                continue;\r\n                            }\r\n                            var next = end.nextSibling;\r\n                            if (next && next.nodeType == 3 && new RegExp('^[\\n\\r\\t' + domUtils.fillChar + ']*$').test(next.nodeValue)) {\r\n                                range.setEndAfter(next)\r\n                            }\r\n                        }\r\n                        if (range.endOffset == range.endContainer[range.endContainer.nodeType == 3 ? 'nodeValue' : 'childNodes'].length) {\r\n                            range.setEndAfter(range.endContainer);\r\n                        } else {\r\n                            break;\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n\r\n                range.deleteContents();\r\n                range.select(true);\r\n                me.__hasEnterExecCommand = true;\r\n                var html = htmlContent;\r\n                if (plainType === 2) {\r\n                    html = getPureHtml(html);\r\n                } else if (plainType) {\r\n                    html = txtContent;\r\n                }\r\n                me.execCommand('inserthtml', html, true);\r\n                me.__hasEnterExecCommand = false;\r\n                var rng = me.selection.getRange();\r\n                while (!domUtils.isBody(rng.startContainer) && !rng.startOffset &&\r\n                    rng.startContainer[rng.startContainer.nodeType == 3 ? 'nodeValue' : 'childNodes'].length\r\n                ) {\r\n                    rng.setStartBefore(rng.startContainer);\r\n                }\r\n                var tmpAddress = rng.createAddress(true);\r\n                address.endAddress = tmpAddress.startAddress;\r\n            }\r\n        });\r\n\r\n        me.addListener('ready', function() {\r\n            domUtils.on(me.body, 'cut', function() {\r\n                var range = me.selection.getRange();\r\n                if (!range.collapsed && me.undoManger) {\r\n                    me.undoManger.save();\r\n                }\r\n            });\r\n\r\n            //ie下beforepaste在点击右键时也会触发，所以用监控键盘才处理\r\n            domUtils.on(me.body, browser.ie || browser.opera ? 'keydown' : 'paste', function(e) {\r\n                if ((browser.ie || browser.opera) && ((!e.ctrlKey && !e.metaKey) || e.keyCode != '86')) {\r\n                    return;\r\n                }\r\n                getClipboardData.call(me, function(div) {\r\n                    filter(div);\r\n                });\r\n            });\r\n\r\n        });\r\n\r\n        me.commands['paste'] = {\r\n            execCommand: function(cmd) {\r\n                if (browser.ie) {\r\n                    getClipboardData.call(me, function(div) {\r\n                        filter(div);\r\n                    });\r\n                    me.document.execCommand('paste');\r\n                } else {\r\n                    alert(me.getLang('pastemsg'));\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n\r\n    // plugins/puretxtpaste.js\r\n    /**\r\n     * 纯文本粘贴插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    UE.plugins['pasteplain'] = function() {\r\n        var me = this;\r\n        me.setOpt({\r\n            'pasteplain': false,\r\n            'filterTxtRules': function() {\r\n                function transP(node) {\r\n                    node.tagName = 'p';\r\n                    node.setStyle();\r\n                }\r\n\r\n                function removeNode(node) {\r\n                    node.parentNode.removeChild(node, true)\r\n                }\r\n                return {\r\n                    //直接删除及其字节点内容\r\n                    '-': 'script style object iframe embed input select',\r\n                    'p': { $: {} },\r\n                    'br': { $: {} },\r\n                    div: function(node) {\r\n                        var tmpNode, p = UE.uNode.createElement('p');\r\n                        while (tmpNode = node.firstChild()) {\r\n                            if (tmpNode.type == 'text' || !UE.dom.dtd.$block[tmpNode.tagName]) {\r\n                                p.appendChild(tmpNode);\r\n                            } else {\r\n                                if (p.firstChild()) {\r\n                                    node.parentNode.insertBefore(p, node);\r\n                                    p = UE.uNode.createElement('p');\r\n                                } else {\r\n                                    node.parentNode.insertBefore(tmpNode, node);\r\n                                }\r\n                            }\r\n                        }\r\n                        if (p.firstChild()) {\r\n                            node.parentNode.insertBefore(p, node);\r\n                        }\r\n                        node.parentNode.removeChild(node);\r\n                    },\r\n                    ol: removeNode,\r\n                    ul: removeNode,\r\n                    dl: removeNode,\r\n                    dt: removeNode,\r\n                    dd: removeNode,\r\n                    'li': removeNode,\r\n                    'caption': transP,\r\n                    'th': transP,\r\n                    'tr': transP,\r\n                    'h1': transP,\r\n                    'h2': transP,\r\n                    'h3': transP,\r\n                    'h4': transP,\r\n                    'h5': transP,\r\n                    'h6': transP,\r\n                    'td': function(node) {\r\n                        //没有内容的td直接删掉\r\n                        var txt = !!node.innerText();\r\n                        if (txt) {\r\n                            node.parentNode.insertAfter(UE.uNode.createText(' &nbsp; &nbsp;'), node);\r\n                        }\r\n                        node.parentNode.removeChild(node, node.innerText())\r\n                    }\r\n                }\r\n            }()\r\n        });\r\n        //暂时这里支持一下老版本的属性\r\n        var pasteplain = me.options.pasteplain;\r\n\r\n        /**\r\n         * 启用或取消纯文本粘贴模式\r\n         * @command pasteplain\r\n         * @method execCommand\r\n         * @param { String } cmd 命令字符串\r\n         * @example\r\n         * ```javascript\r\n         * editor.queryCommandState( 'pasteplain' );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 查询当前是否处于纯文本粘贴模式\r\n         * @command pasteplain\r\n         * @method queryCommandState\r\n         * @param { String } cmd 命令字符串\r\n         * @return { int } 如果处于纯文本模式，返回1，否则，返回0\r\n         * @example\r\n         * ```javascript\r\n         * editor.queryCommandState( 'pasteplain' );\r\n         * ```\r\n         */\r\n        me.commands['pasteplain'] = {\r\n            queryCommandState: function() {\r\n                return pasteplain ? 1 : 0;\r\n            },\r\n            execCommand: function() {\r\n                pasteplain = !pasteplain | 0;\r\n            },\r\n            notNeedUndo: 1\r\n        };\r\n    };\r\n\r\n    // plugins/list.js\r\n    /**\r\n     * 有序列表,无序列表插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    UE.plugins['list'] = function() {\r\n        var me = this,\r\n            notExchange = {\r\n                'TD': 1,\r\n                'PRE': 1,\r\n                'BLOCKQUOTE': 1\r\n            };\r\n        var customStyle = {\r\n            'cn': 'cn-1-',\r\n            'cn1': 'cn-2-',\r\n            'cn2': 'cn-3-',\r\n            'num': 'num-1-',\r\n            'num1': 'num-2-',\r\n            'num2': 'num-3-',\r\n            'dash': 'dash',\r\n            'dot': 'dot'\r\n        };\r\n\r\n        me.setOpt({\r\n            'autoTransWordToList': false,\r\n            'insertorderedlist': {\r\n                'num': '',\r\n                'num1': '',\r\n                'num2': '',\r\n                'cn': '',\r\n                'cn1': '',\r\n                'cn2': '',\r\n                'decimal': '',\r\n                'lower-alpha': '',\r\n                'lower-roman': '',\r\n                'upper-alpha': '',\r\n                'upper-roman': ''\r\n            },\r\n            'insertunorderedlist': {\r\n                'circle': '',\r\n                'disc': '',\r\n                'square': '',\r\n                'dash': '',\r\n                'dot': ''\r\n            },\r\n            listDefaultPaddingLeft: '30',\r\n            listiconpath: 'http://bs.baidu.com/listicon/',\r\n            maxListLevel: -1, //-1不限制\r\n            disablePInList: false\r\n        });\r\n\r\n        function listToArray(list) {\r\n            var arr = [];\r\n            for (var p in list) {\r\n                arr.push(p)\r\n            }\r\n            return arr;\r\n        }\r\n        var listStyle = {\r\n            'OL': listToArray(me.options.insertorderedlist),\r\n            'UL': listToArray(me.options.insertunorderedlist)\r\n        };\r\n        var liiconpath = me.options.listiconpath;\r\n\r\n        //根据用户配置，调整customStyle\r\n        for (var s in customStyle) {\r\n            if (!me.options.insertorderedlist.hasOwnProperty(s) && !me.options.insertunorderedlist.hasOwnProperty(s)) {\r\n                delete customStyle[s];\r\n            }\r\n        }\r\n\r\n        me.ready(function() {\r\n            var customCss = [];\r\n            for (var p in customStyle) {\r\n                if (p == 'dash' || p == 'dot') {\r\n                    customCss.push('li.list-' + customStyle[p] + '{background-image:url(' + liiconpath + customStyle[p] + '.gif)}');\r\n                    customCss.push('ul.custom_' + p + '{list-style:none;}ul.custom_' + p + ' li{background-position:0 3px;background-repeat:no-repeat}');\r\n                } else {\r\n                    for (var i = 0; i < 99; i++) {\r\n                        customCss.push('li.list-' + customStyle[p] + i + '{background-image:url(' + liiconpath + 'list-' + customStyle[p] + i + '.gif)}')\r\n                    }\r\n                    customCss.push('ol.custom_' + p + '{list-style:none;}ol.custom_' + p + ' li{background-position:0 3px;background-repeat:no-repeat}');\r\n                }\r\n                switch (p) {\r\n                    case 'cn':\r\n                        customCss.push('li.list-' + p + '-paddingleft-1{padding-left:25px}');\r\n                        customCss.push('li.list-' + p + '-paddingleft-2{padding-left:40px}');\r\n                        customCss.push('li.list-' + p + '-paddingleft-3{padding-left:55px}');\r\n                        break;\r\n                    case 'cn1':\r\n                        customCss.push('li.list-' + p + '-paddingleft-1{padding-left:30px}');\r\n                        customCss.push('li.list-' + p + '-paddingleft-2{padding-left:40px}');\r\n                        customCss.push('li.list-' + p + '-paddingleft-3{padding-left:55px}');\r\n                        break;\r\n                    case 'cn2':\r\n                        customCss.push('li.list-' + p + '-paddingleft-1{padding-left:40px}');\r\n                        customCss.push('li.list-' + p + '-paddingleft-2{padding-left:55px}');\r\n                        customCss.push('li.list-' + p + '-paddingleft-3{padding-left:68px}');\r\n                        break;\r\n                    case 'num':\r\n                    case 'num1':\r\n                        customCss.push('li.list-' + p + '-paddingleft-1{padding-left:25px}');\r\n                        break;\r\n                    case 'num2':\r\n                        customCss.push('li.list-' + p + '-paddingleft-1{padding-left:35px}');\r\n                        customCss.push('li.list-' + p + '-paddingleft-2{padding-left:40px}');\r\n                        break;\r\n                    case 'dash':\r\n                        customCss.push('li.list-' + p + '-paddingleft{padding-left:35px}');\r\n                        break;\r\n                    case 'dot':\r\n                        customCss.push('li.list-' + p + '-paddingleft{padding-left:20px}');\r\n                }\r\n            }\r\n            customCss.push('.list-paddingleft-1{padding-left:0}');\r\n            customCss.push('.list-paddingleft-2{padding-left:' + me.options.listDefaultPaddingLeft + 'px}');\r\n            customCss.push('.list-paddingleft-3{padding-left:' + me.options.listDefaultPaddingLeft * 2 + 'px}');\r\n            //如果不给宽度会在自定应样式里出现滚动条\r\n            utils.cssRule('list', 'ol,ul{margin:0;pading:0;' + (browser.ie ? '' : 'width:95%') + '}li{clear:both;}' + customCss.join('\\n'), me.document);\r\n        });\r\n        //单独处理剪切的问题\r\n        me.ready(function() {\r\n            domUtils.on(me.body, 'cut', function() {\r\n                setTimeout(function() {\r\n                    var rng = me.selection.getRange(),\r\n                        li;\r\n                    //trace:3416\r\n                    if (!rng.collapsed) {\r\n                        if (li = domUtils.findParentByTagName(rng.startContainer, 'li', true)) {\r\n                            if (!li.nextSibling && domUtils.isEmptyBlock(li)) {\r\n                                var pn = li.parentNode,\r\n                                    node;\r\n                                if (node = pn.previousSibling) {\r\n                                    domUtils.remove(pn);\r\n                                    rng.setStartAtLast(node).collapse(true);\r\n                                    rng.select(true);\r\n                                } else if (node = pn.nextSibling) {\r\n                                    domUtils.remove(pn);\r\n                                    rng.setStartAtFirst(node).collapse(true);\r\n                                    rng.select(true);\r\n                                } else {\r\n                                    var tmpNode = me.document.createElement('p');\r\n                                    domUtils.fillNode(me.document, tmpNode);\r\n                                    pn.parentNode.insertBefore(tmpNode, pn);\r\n                                    domUtils.remove(pn);\r\n                                    rng.setStart(tmpNode, 0).collapse(true);\r\n                                    rng.select(true);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                })\r\n            })\r\n        });\r\n\r\n        function getStyle(node) {\r\n            var cls = node.className;\r\n            if (domUtils.hasClass(node, /custom_/)) {\r\n                return cls.match(/custom_(\\w+)/)[1]\r\n            }\r\n            return domUtils.getStyle(node, 'list-style-type')\r\n\r\n        }\r\n\r\n        me.addListener('beforepaste', function(type, html) {\r\n            var me = this,\r\n                rng = me.selection.getRange(),\r\n                li;\r\n            var root = UE.htmlparser(html.html, true);\r\n            if (li = domUtils.findParentByTagName(rng.startContainer, 'li', true)) {\r\n                var list = li.parentNode,\r\n                    tagName = list.tagName == 'OL' ? 'ul' : 'ol';\r\n                utils.each(root.getNodesByTagName(tagName), function(n) {\r\n                    n.tagName = list.tagName;\r\n                    n.setAttr();\r\n                    if (n.parentNode === root) {\r\n                        type = getStyle(list) || (list.tagName == 'OL' ? 'decimal' : 'disc')\r\n                    } else {\r\n                        var className = n.parentNode.getAttr('class');\r\n                        if (className && /custom_/.test(className)) {\r\n                            type = className.match(/custom_(\\w+)/)[1]\r\n                        } else {\r\n                            type = n.parentNode.getStyle('list-style-type');\r\n                        }\r\n                        if (!type) {\r\n                            type = list.tagName == 'OL' ? 'decimal' : 'disc';\r\n                        }\r\n                    }\r\n                    var index = utils.indexOf(listStyle[list.tagName], type);\r\n                    if (n.parentNode !== root)\r\n                        index = index + 1 == listStyle[list.tagName].length ? 0 : index + 1;\r\n                    var currentStyle = listStyle[list.tagName][index];\r\n                    if (customStyle[currentStyle]) {\r\n                        n.setAttr('class', 'custom_' + currentStyle)\r\n\r\n                    } else {\r\n                        n.setStyle('list-style-type', currentStyle)\r\n                    }\r\n                })\r\n\r\n            }\r\n\r\n            html.html = root.toHtml();\r\n        });\r\n        //导出时，去掉p标签\r\n        me.getOpt('disablePInList') === true && me.addOutputRule(function(root) {\r\n            utils.each(root.getNodesByTagName('li'), function(li) {\r\n                var newChildrens = [],\r\n                    index = 0;\r\n                utils.each(li.children, function(n) {\r\n                    if (n.tagName == 'p') {\r\n                        var tmpNode;\r\n                        while (tmpNode = n.children.pop()) {\r\n                            newChildrens.splice(index, 0, tmpNode);\r\n                            tmpNode.parentNode = li;\r\n                            lastNode = tmpNode;\r\n                        }\r\n                        tmpNode = newChildrens[newChildrens.length - 1];\r\n                        if (!tmpNode || tmpNode.type != 'element' || tmpNode.tagName != 'br') {\r\n                            var br = UE.uNode.createElement('br');\r\n                            br.parentNode = li;\r\n                            newChildrens.push(br);\r\n                        }\r\n\r\n                        index = newChildrens.length;\r\n                    }\r\n                });\r\n                if (newChildrens.length) {\r\n                    li.children = newChildrens;\r\n                }\r\n            });\r\n        });\r\n        //进入编辑器的li要套p标签\r\n        me.addInputRule(function(root) {\r\n            utils.each(root.getNodesByTagName('li'), function(li) {\r\n                var tmpP = UE.uNode.createElement('p');\r\n                for (var i = 0, ci; ci = li.children[i];) {\r\n                    if (ci.type == 'text' || dtd.p[ci.tagName]) {\r\n                        tmpP.appendChild(ci);\r\n                    } else {\r\n                        if (tmpP.firstChild()) {\r\n                            li.insertBefore(tmpP, ci);\r\n                            tmpP = UE.uNode.createElement('p');\r\n                            i = i + 2;\r\n                        } else {\r\n                            i++;\r\n                        }\r\n\r\n                    }\r\n                }\r\n                if (tmpP.firstChild() && !tmpP.parentNode || !li.firstChild()) {\r\n                    li.appendChild(tmpP);\r\n                }\r\n                //trace:3357\r\n                //p不能为空\r\n                if (!tmpP.firstChild()) {\r\n                    tmpP.innerHTML(browser.ie ? '&nbsp;' : '<br/>')\r\n                }\r\n                //去掉末尾的空白\r\n                var p = li.firstChild();\r\n                var lastChild = p.lastChild();\r\n                if (lastChild && lastChild.type == 'text' && /^\\s*$/.test(lastChild.data)) {\r\n                    p.removeChild(lastChild)\r\n                }\r\n            });\r\n            if (me.options.autoTransWordToList) {\r\n                var orderlisttype = {\r\n                        'num1': /^\\d+\\)/,\r\n                        'decimal': /^\\d+\\./,\r\n                        'lower-alpha': /^[a-z]+\\)/,\r\n                        'upper-alpha': /^[A-Z]+\\./,\r\n                        'cn': /^[\\u4E00\\u4E8C\\u4E09\\u56DB\\u516d\\u4e94\\u4e03\\u516b\\u4e5d]+[\\u3001]/,\r\n                        'cn2': /^\\([\\u4E00\\u4E8C\\u4E09\\u56DB\\u516d\\u4e94\\u4e03\\u516b\\u4e5d]+\\)/\r\n                    },\r\n                    unorderlisttype = {\r\n                        'square': 'n'\r\n                    };\r\n\r\n                function checkListType(content, container) {\r\n                    var span = container.firstChild();\r\n                    if (span && span.type == 'element' && span.tagName == 'span' && /Wingdings|Symbol/.test(span.getStyle('font-family'))) {\r\n                        for (var p in unorderlisttype) {\r\n                            if (unorderlisttype[p] == span.data) {\r\n                                return p\r\n                            }\r\n                        }\r\n                        return 'disc'\r\n                    }\r\n                    for (var p in orderlisttype) {\r\n                        if (orderlisttype[p].test(content)) {\r\n                            return p;\r\n                        }\r\n                    }\r\n\r\n                }\r\n                utils.each(root.getNodesByTagName('p'), function(node) {\r\n                    if (node.getAttr('class') != 'MsoListParagraph') {\r\n                        return\r\n                    }\r\n\r\n                    //word粘贴过来的会带有margin要去掉,但这样也可能会误命中一些央视\r\n                    node.setStyle('margin', '');\r\n                    node.setStyle('margin-left', '');\r\n                    node.setAttr('class', '');\r\n\r\n                    function appendLi(list, p, type) {\r\n                        if (list.tagName == 'ol') {\r\n                            if (browser.ie) {\r\n                                var first = p.firstChild();\r\n                                if (first.type == 'element' && first.tagName == 'span' && orderlisttype[type].test(first.innerText())) {\r\n                                    p.removeChild(first);\r\n                                }\r\n                            } else {\r\n                                p.innerHTML(p.innerHTML().replace(orderlisttype[type], ''));\r\n                            }\r\n                        } else {\r\n                            p.removeChild(p.firstChild())\r\n                        }\r\n\r\n                        var li = UE.uNode.createElement('li');\r\n                        li.appendChild(p);\r\n                        list.appendChild(li);\r\n                    }\r\n                    var tmp = node,\r\n                        type, cacheNode = node;\r\n\r\n                    if (node.parentNode.tagName != 'li' && (type = checkListType(node.innerText(), node))) {\r\n\r\n                        var list = UE.uNode.createElement(me.options.insertorderedlist.hasOwnProperty(type) ? 'ol' : 'ul');\r\n                        if (customStyle[type]) {\r\n                            list.setAttr('class', 'custom_' + type)\r\n                        } else {\r\n                            list.setStyle('list-style-type', type)\r\n                        }\r\n                        while (node && node.parentNode.tagName != 'li' && checkListType(node.innerText(), node)) {\r\n                            tmp = node.nextSibling();\r\n                            if (!tmp) {\r\n                                node.parentNode.insertBefore(list, node)\r\n                            }\r\n                            appendLi(list, node, type);\r\n                            node = tmp;\r\n                        }\r\n                        if (!list.parentNode && node && node.parentNode) {\r\n                            node.parentNode.insertBefore(list, node)\r\n                        }\r\n                    }\r\n                    var span = cacheNode.firstChild();\r\n                    if (span && span.type == 'element' && span.tagName == 'span' && /^\\s*(&nbsp;)+\\s*$/.test(span.innerText())) {\r\n                        span.parentNode.removeChild(span)\r\n                    }\r\n                })\r\n            }\r\n\r\n        });\r\n\r\n        //调整索引标签\r\n        me.addListener('contentchange', function() {\r\n            adjustListStyle(me.document)\r\n        });\r\n\r\n        function adjustListStyle(doc, ignore) {\r\n            utils.each(domUtils.getElementsByTagName(doc, 'ol ul'), function(node) {\r\n\r\n                if (!domUtils.inDoc(node, doc))\r\n                    return;\r\n\r\n                var parent = node.parentNode;\r\n                if (parent.tagName == node.tagName) {\r\n                    var nodeStyleType = getStyle(node) || (node.tagName == 'OL' ? 'decimal' : 'disc'),\r\n                        parentStyleType = getStyle(parent) || (parent.tagName == 'OL' ? 'decimal' : 'disc');\r\n                    if (nodeStyleType == parentStyleType) {\r\n                        var styleIndex = utils.indexOf(listStyle[node.tagName], nodeStyleType);\r\n                        styleIndex = styleIndex + 1 == listStyle[node.tagName].length ? 0 : styleIndex + 1;\r\n                        setListStyle(node, listStyle[node.tagName][styleIndex])\r\n                    }\r\n\r\n                }\r\n                var index = 0,\r\n                    type = 2;\r\n                if (domUtils.hasClass(node, /custom_/)) {\r\n                    if (!(/[ou]l/i.test(parent.tagName) && domUtils.hasClass(parent, /custom_/))) {\r\n                        type = 1;\r\n                    }\r\n                } else {\r\n                    if (/[ou]l/i.test(parent.tagName) && domUtils.hasClass(parent, /custom_/)) {\r\n                        type = 3;\r\n                    }\r\n                }\r\n\r\n                var style = domUtils.getStyle(node, 'list-style-type');\r\n                style && (node.style.cssText = 'list-style-type:' + style);\r\n                node.className = utils.trim(node.className.replace(/list-paddingleft-\\w+/, '')) + ' list-paddingleft-' + type;\r\n                utils.each(domUtils.getElementsByTagName(node, 'li'), function(li) {\r\n                    li.style.cssText && (li.style.cssText = '');\r\n                    if (!li.firstChild) {\r\n                        domUtils.remove(li);\r\n                        return;\r\n                    }\r\n                    if (li.parentNode !== node) {\r\n                        return;\r\n                    }\r\n                    index++;\r\n                    if (domUtils.hasClass(node, /custom_/)) {\r\n                        var paddingLeft = 1,\r\n                            currentStyle = getStyle(node);\r\n                        if (node.tagName == 'OL') {\r\n                            if (currentStyle) {\r\n                                switch (currentStyle) {\r\n                                    case 'cn':\r\n                                    case 'cn1':\r\n                                    case 'cn2':\r\n                                        if (index > 10 && (index % 10 == 0 || index > 10 && index < 20)) {\r\n                                            paddingLeft = 2\r\n                                        } else if (index > 20) {\r\n                                            paddingLeft = 3\r\n                                        }\r\n                                        break;\r\n                                    case 'num2':\r\n                                        if (index > 9) {\r\n                                            paddingLeft = 2\r\n                                        }\r\n                                }\r\n                            }\r\n                            li.className = 'list-' + customStyle[currentStyle] + index + ' ' + 'list-' + currentStyle + '-paddingleft-' + paddingLeft;\r\n                        } else {\r\n                            li.className = 'list-' + customStyle[currentStyle] + ' ' + 'list-' + currentStyle + '-paddingleft';\r\n                        }\r\n                    } else {\r\n                        li.className = li.className.replace(/list-[\\w\\-]+/gi, '');\r\n                    }\r\n                    var className = li.getAttribute('class');\r\n                    if (className !== null && !className.replace(/\\s/g, '')) {\r\n                        domUtils.removeAttributes(li, 'class')\r\n                    }\r\n                });\r\n                !ignore && adjustList(node, node.tagName.toLowerCase(), getStyle(node) || domUtils.getStyle(node, 'list-style-type'), true);\r\n            })\r\n        }\r\n\r\n        function adjustList(list, tag, style, ignoreEmpty) {\r\n            var nextList = list.nextSibling;\r\n            if (nextList && nextList.nodeType == 1 && nextList.tagName.toLowerCase() == tag && (getStyle(nextList) || domUtils.getStyle(nextList, 'list-style-type') || (tag == 'ol' ? 'decimal' : 'disc')) == style) {\r\n                domUtils.moveChild(nextList, list);\r\n                if (nextList.childNodes.length == 0) {\r\n                    domUtils.remove(nextList);\r\n                }\r\n            }\r\n            if (nextList && domUtils.isFillChar(nextList)) {\r\n                domUtils.remove(nextList);\r\n            }\r\n            var preList = list.previousSibling;\r\n            if (preList && preList.nodeType == 1 && preList.tagName.toLowerCase() == tag && (getStyle(preList) || domUtils.getStyle(preList, 'list-style-type') || (tag == 'ol' ? 'decimal' : 'disc')) == style) {\r\n                domUtils.moveChild(list, preList);\r\n            }\r\n            if (preList && domUtils.isFillChar(preList)) {\r\n                domUtils.remove(preList);\r\n            }!ignoreEmpty && domUtils.isEmptyBlock(list) && domUtils.remove(list);\r\n            if (getStyle(list)) {\r\n                adjustListStyle(list.ownerDocument, true)\r\n            }\r\n        }\r\n\r\n        function setListStyle(list, style) {\r\n            if (customStyle[style]) {\r\n                list.className = 'custom_' + style;\r\n            }\r\n            try {\r\n                domUtils.setStyle(list, 'list-style-type', style);\r\n            } catch (e) {}\r\n        }\r\n\r\n        function clearEmptySibling(node) {\r\n            var tmpNode = node.previousSibling;\r\n            if (tmpNode && domUtils.isEmptyBlock(tmpNode)) {\r\n                domUtils.remove(tmpNode);\r\n            }\r\n            tmpNode = node.nextSibling;\r\n            if (tmpNode && domUtils.isEmptyBlock(tmpNode)) {\r\n                domUtils.remove(tmpNode);\r\n            }\r\n        }\r\n\r\n        me.addListener('keydown', function(type, evt) {\r\n            function preventAndSave() {\r\n                evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\r\n                me.fireEvent('contentchange');\r\n                me.undoManger && me.undoManger.save();\r\n            }\r\n\r\n            function findList(node, filterFn) {\r\n                while (node && !domUtils.isBody(node)) {\r\n                    if (filterFn(node)) {\r\n                        return null\r\n                    }\r\n                    if (node.nodeType == 1 && /[ou]l/i.test(node.tagName)) {\r\n                        return node;\r\n                    }\r\n                    node = node.parentNode;\r\n                }\r\n                return null;\r\n            }\r\n            var keyCode = evt.keyCode || evt.which;\r\n            if (keyCode == 13 && !evt.shiftKey) { //回车\r\n                var rng = me.selection.getRange(),\r\n                    parent = domUtils.findParent(rng.startContainer, function(node) { return domUtils.isBlockElm(node) }, true),\r\n                    li = domUtils.findParentByTagName(rng.startContainer, 'li', true);\r\n                if (parent && parent.tagName != 'PRE' && !li) {\r\n                    var html = parent.innerHTML.replace(new RegExp(domUtils.fillChar, 'g'), '');\r\n                    if (/^\\s*1\\s*\\.[^\\d]/.test(html)) {\r\n                        parent.innerHTML = html.replace(/^\\s*1\\s*\\./, '');\r\n                        rng.setStartAtLast(parent).collapse(true).select();\r\n                        me.__hasEnterExecCommand = true;\r\n                        me.execCommand('insertorderedlist');\r\n                        me.__hasEnterExecCommand = false;\r\n                    }\r\n                }\r\n                var range = me.selection.getRange(),\r\n                    start = findList(range.startContainer, function(node) {\r\n                        return node.tagName == 'TABLE';\r\n                    }),\r\n                    end = range.collapsed ? start : findList(range.endContainer, function(node) {\r\n                        return node.tagName == 'TABLE';\r\n                    });\r\n\r\n                if (start && end && start === end) {\r\n\r\n                    if (!range.collapsed) {\r\n                        start = domUtils.findParentByTagName(range.startContainer, 'li', true);\r\n                        end = domUtils.findParentByTagName(range.endContainer, 'li', true);\r\n                        if (start && end && start === end) {\r\n                            range.deleteContents();\r\n                            li = domUtils.findParentByTagName(range.startContainer, 'li', true);\r\n                            if (li && domUtils.isEmptyBlock(li)) {\r\n\r\n                                pre = li.previousSibling;\r\n                                next = li.nextSibling;\r\n                                p = me.document.createElement('p');\r\n\r\n                                domUtils.fillNode(me.document, p);\r\n                                parentList = li.parentNode;\r\n                                if (pre && next) {\r\n                                    range.setStart(next, 0).collapse(true).select(true);\r\n                                    domUtils.remove(li);\r\n\r\n                                } else {\r\n                                    if (!pre && !next || !pre) {\r\n\r\n                                        parentList.parentNode.insertBefore(p, parentList);\r\n\r\n\r\n                                    } else {\r\n                                        li.parentNode.parentNode.insertBefore(p, parentList.nextSibling);\r\n                                    }\r\n                                    domUtils.remove(li);\r\n                                    if (!parentList.firstChild) {\r\n                                        domUtils.remove(parentList);\r\n                                    }\r\n                                    range.setStart(p, 0).setCursor();\r\n\r\n\r\n                                }\r\n                                preventAndSave();\r\n                                return;\r\n\r\n                            }\r\n                        } else {\r\n                            var tmpRange = range.cloneRange(),\r\n                                bk = tmpRange.collapse(false).createBookmark();\r\n\r\n                            range.deleteContents();\r\n                            tmpRange.moveToBookmark(bk);\r\n                            var li = domUtils.findParentByTagName(tmpRange.startContainer, 'li', true);\r\n\r\n                            clearEmptySibling(li);\r\n                            tmpRange.select();\r\n                            preventAndSave();\r\n                            return;\r\n                        }\r\n                    }\r\n\r\n\r\n                    li = domUtils.findParentByTagName(range.startContainer, 'li', true);\r\n\r\n                    if (li) {\r\n                        if (domUtils.isEmptyBlock(li)) {\r\n                            bk = range.createBookmark();\r\n                            var parentList = li.parentNode;\r\n                            if (li !== parentList.lastChild) {\r\n                                domUtils.breakParent(li, parentList);\r\n                                clearEmptySibling(li);\r\n                            } else {\r\n\r\n                                parentList.parentNode.insertBefore(li, parentList.nextSibling);\r\n                                if (domUtils.isEmptyNode(parentList)) {\r\n                                    domUtils.remove(parentList);\r\n                                }\r\n                            }\r\n                            //嵌套不处理\r\n                            if (!dtd.$list[li.parentNode.tagName]) {\r\n\r\n                                if (!domUtils.isBlockElm(li.firstChild)) {\r\n                                    p = me.document.createElement('p');\r\n                                    li.parentNode.insertBefore(p, li);\r\n                                    while (li.firstChild) {\r\n                                        p.appendChild(li.firstChild);\r\n                                    }\r\n                                    domUtils.remove(li);\r\n                                } else {\r\n                                    domUtils.remove(li, true);\r\n                                }\r\n                            }\r\n                            range.moveToBookmark(bk).select();\r\n\r\n\r\n                        } else {\r\n                            var first = li.firstChild;\r\n                            if (!first || !domUtils.isBlockElm(first)) {\r\n                                var p = me.document.createElement('p');\r\n\r\n                                !li.firstChild && domUtils.fillNode(me.document, p);\r\n                                while (li.firstChild) {\r\n\r\n                                    p.appendChild(li.firstChild);\r\n                                }\r\n                                li.appendChild(p);\r\n                                first = p;\r\n                            }\r\n\r\n                            var span = me.document.createElement('span');\r\n\r\n                            range.insertNode(span);\r\n                            domUtils.breakParent(span, li);\r\n\r\n                            var nextLi = span.nextSibling;\r\n                            first = nextLi.firstChild;\r\n\r\n                            if (!first) {\r\n                                p = me.document.createElement('p');\r\n\r\n                                domUtils.fillNode(me.document, p);\r\n                                nextLi.appendChild(p);\r\n                                first = p;\r\n                            }\r\n                            if (domUtils.isEmptyNode(first)) {\r\n                                first.innerHTML = '';\r\n                                domUtils.fillNode(me.document, first);\r\n                            }\r\n\r\n                            range.setStart(first, 0).collapse(true).shrinkBoundary().select();\r\n                            domUtils.remove(span);\r\n                            var pre = nextLi.previousSibling;\r\n                            if (pre && domUtils.isEmptyBlock(pre)) {\r\n                                pre.innerHTML = '<p></p>';\r\n                                domUtils.fillNode(me.document, pre.firstChild);\r\n                            }\r\n\r\n                        }\r\n                        //                        }\r\n                        preventAndSave();\r\n                    }\r\n\r\n\r\n                }\r\n\r\n\r\n            }\r\n            if (keyCode == 8) {\r\n                //修中ie中li下的问题\r\n                range = me.selection.getRange();\r\n                if (range.collapsed && domUtils.isStartInblock(range)) {\r\n                    tmpRange = range.cloneRange().trimBoundary();\r\n                    li = domUtils.findParentByTagName(range.startContainer, 'li', true);\r\n                    //要在li的最左边，才能处理\r\n                    if (li && domUtils.isStartInblock(tmpRange)) {\r\n                        start = domUtils.findParentByTagName(range.startContainer, 'p', true);\r\n                        if (start && start !== li.firstChild) {\r\n                            var parentList = domUtils.findParentByTagName(start, ['ol', 'ul']);\r\n                            domUtils.breakParent(start, parentList);\r\n                            clearEmptySibling(start);\r\n                            me.fireEvent('contentchange');\r\n                            range.setStart(start, 0).setCursor(false, true);\r\n                            me.fireEvent('saveScene');\r\n                            domUtils.preventDefault(evt);\r\n                            return;\r\n                        }\r\n\r\n                        if (li && (pre = li.previousSibling)) {\r\n                            if (keyCode == 46 && li.childNodes.length) {\r\n                                return;\r\n                            }\r\n                            //有可能上边的兄弟节点是个2级菜单，要追加到2级菜单的最后的li\r\n                            if (dtd.$list[pre.tagName]) {\r\n                                pre = pre.lastChild;\r\n                            }\r\n                            me.undoManger && me.undoManger.save();\r\n                            first = li.firstChild;\r\n                            if (domUtils.isBlockElm(first)) {\r\n                                if (domUtils.isEmptyNode(first)) {\r\n                                    //                                    range.setEnd(pre, pre.childNodes.length).shrinkBoundary().collapse().select(true);\r\n                                    pre.appendChild(first);\r\n                                    range.setStart(first, 0).setCursor(false, true);\r\n                                    //first不是唯一的节点\r\n                                    while (li.firstChild) {\r\n                                        pre.appendChild(li.firstChild);\r\n                                    }\r\n                                } else {\r\n\r\n                                    span = me.document.createElement('span');\r\n                                    range.insertNode(span);\r\n                                    //判断pre是否是空的节点,如果是<p><br/></p>类型的空节点，干掉p标签防止它占位\r\n                                    if (domUtils.isEmptyBlock(pre)) {\r\n                                        pre.innerHTML = '';\r\n                                    }\r\n                                    domUtils.moveChild(li, pre);\r\n                                    range.setStartBefore(span).collapse(true).select(true);\r\n\r\n                                    domUtils.remove(span);\r\n\r\n                                }\r\n                            } else {\r\n                                if (domUtils.isEmptyNode(li)) {\r\n                                    var p = me.document.createElement('p');\r\n                                    pre.appendChild(p);\r\n                                    range.setStart(p, 0).setCursor();\r\n                                    //                                    range.setEnd(pre, pre.childNodes.length).shrinkBoundary().collapse().select(true);\r\n                                } else {\r\n                                    range.setEnd(pre, pre.childNodes.length).collapse().select(true);\r\n                                    while (li.firstChild) {\r\n                                        pre.appendChild(li.firstChild);\r\n                                    }\r\n                                }\r\n                            }\r\n                            domUtils.remove(li);\r\n                            me.fireEvent('contentchange');\r\n                            me.fireEvent('saveScene');\r\n                            domUtils.preventDefault(evt);\r\n                            return;\r\n\r\n                        }\r\n                        //trace:980\r\n\r\n                        if (li && !li.previousSibling) {\r\n                            var parentList = li.parentNode;\r\n                            var bk = range.createBookmark();\r\n                            if (domUtils.isTagNode(parentList.parentNode, 'ol ul')) {\r\n                                parentList.parentNode.insertBefore(li, parentList);\r\n                                if (domUtils.isEmptyNode(parentList)) {\r\n                                    domUtils.remove(parentList)\r\n                                }\r\n                            } else {\r\n\r\n                                while (li.firstChild) {\r\n                                    parentList.parentNode.insertBefore(li.firstChild, parentList);\r\n                                }\r\n\r\n                                domUtils.remove(li);\r\n                                if (domUtils.isEmptyNode(parentList)) {\r\n                                    domUtils.remove(parentList)\r\n                                }\r\n\r\n                            }\r\n                            range.moveToBookmark(bk).setCursor(false, true);\r\n                            me.fireEvent('contentchange');\r\n                            me.fireEvent('saveScene');\r\n                            domUtils.preventDefault(evt);\r\n                            return;\r\n\r\n                        }\r\n\r\n\r\n                    }\r\n\r\n\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        me.addListener('keyup', function(type, evt) {\r\n            var keyCode = evt.keyCode || evt.which;\r\n            if (keyCode == 8) {\r\n                var rng = me.selection.getRange(),\r\n                    list;\r\n                if (list = domUtils.findParentByTagName(rng.startContainer, ['ol', 'ul'], true)) {\r\n                    adjustList(list, list.tagName.toLowerCase(), getStyle(list) || domUtils.getComputedStyle(list, 'list-style-type'), true)\r\n                }\r\n            }\r\n        });\r\n        //处理tab键\r\n        me.addListener('tabkeydown', function() {\r\n\r\n            var range = me.selection.getRange();\r\n\r\n            //控制级数\r\n            function checkLevel(li) {\r\n                if (me.options.maxListLevel != -1) {\r\n                    var level = li.parentNode,\r\n                        levelNum = 0;\r\n                    while (/[ou]l/i.test(level.tagName)) {\r\n                        levelNum++;\r\n                        level = level.parentNode;\r\n                    }\r\n                    if (levelNum >= me.options.maxListLevel) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n            //只以开始为准\r\n            //todo 后续改进\r\n            var li = domUtils.findParentByTagName(range.startContainer, 'li', true);\r\n            if (li) {\r\n\r\n                var bk;\r\n                if (range.collapsed) {\r\n                    if (checkLevel(li))\r\n                        return true;\r\n                    var parentLi = li.parentNode,\r\n                        list = me.document.createElement(parentLi.tagName),\r\n                        index = utils.indexOf(listStyle[list.tagName], getStyle(parentLi) || domUtils.getComputedStyle(parentLi, 'list-style-type'));\r\n                    index = index + 1 == listStyle[list.tagName].length ? 0 : index + 1;\r\n                    var currentStyle = listStyle[list.tagName][index];\r\n                    setListStyle(list, currentStyle);\r\n                    if (domUtils.isStartInblock(range)) {\r\n                        me.fireEvent('saveScene');\r\n                        bk = range.createBookmark();\r\n                        parentLi.insertBefore(list, li);\r\n                        list.appendChild(li);\r\n                        adjustList(list, list.tagName.toLowerCase(), currentStyle);\r\n                        me.fireEvent('contentchange');\r\n                        range.moveToBookmark(bk).select(true);\r\n                        return true;\r\n                    }\r\n                } else {\r\n                    me.fireEvent('saveScene');\r\n                    bk = range.createBookmark();\r\n                    for (var i = 0, closeList, parents = domUtils.findParents(li), ci; ci = parents[i++];) {\r\n                        if (domUtils.isTagNode(ci, 'ol ul')) {\r\n                            closeList = ci;\r\n                            break;\r\n                        }\r\n                    }\r\n                    var current = li;\r\n                    if (bk.end) {\r\n                        while (current && !(domUtils.getPosition(current, bk.end) & domUtils.POSITION_FOLLOWING)) {\r\n                            if (checkLevel(current)) {\r\n                                current = domUtils.getNextDomNode(current, false, null, function(node) { return node !== closeList });\r\n                                continue;\r\n                            }\r\n                            var parentLi = current.parentNode,\r\n                                list = me.document.createElement(parentLi.tagName),\r\n                                index = utils.indexOf(listStyle[list.tagName], getStyle(parentLi) || domUtils.getComputedStyle(parentLi, 'list-style-type'));\r\n                            var currentIndex = index + 1 == listStyle[list.tagName].length ? 0 : index + 1;\r\n                            var currentStyle = listStyle[list.tagName][currentIndex];\r\n                            setListStyle(list, currentStyle);\r\n                            parentLi.insertBefore(list, current);\r\n                            while (current && !(domUtils.getPosition(current, bk.end) & domUtils.POSITION_FOLLOWING)) {\r\n                                li = current.nextSibling;\r\n                                list.appendChild(current);\r\n                                if (!li || domUtils.isTagNode(li, 'ol ul')) {\r\n                                    if (li) {\r\n                                        while (li = li.firstChild) {\r\n                                            if (li.tagName == 'LI') {\r\n                                                break;\r\n                                            }\r\n                                        }\r\n                                    } else {\r\n                                        li = domUtils.getNextDomNode(current, false, null, function(node) { return node !== closeList });\r\n                                    }\r\n                                    break;\r\n                                }\r\n                                current = li;\r\n                            }\r\n                            adjustList(list, list.tagName.toLowerCase(), currentStyle);\r\n                            current = li;\r\n                        }\r\n                    }\r\n                    me.fireEvent('contentchange');\r\n                    range.moveToBookmark(bk).select();\r\n                    return true;\r\n                }\r\n            }\r\n\r\n        });\r\n\r\n        function getLi(start) {\r\n            while (start && !domUtils.isBody(start)) {\r\n                if (start.nodeName == 'TABLE') {\r\n                    return null;\r\n                }\r\n                if (start.nodeName == 'LI') {\r\n                    return start\r\n                }\r\n                start = start.parentNode;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 有序列表，与“insertunorderedlist”命令互斥\r\n         * @command insertorderedlist\r\n         * @method execCommand\r\n         * @param { String } command 命令字符串\r\n         * @param { String } style 插入的有序列表类型，值为：decimal,lower-alpha,lower-roman,upper-alpha,upper-roman,cn,cn1,cn2,num,num1,num2\r\n         * @example\r\n         * ```javascript\r\n         * editor.execCommand( 'insertorderedlist','decimal');\r\n         * ```\r\n         */\r\n        /**\r\n         * 查询当前选区内容是否有序列表\r\n         * @command insertorderedlist\r\n         * @method queryCommandState\r\n         * @param { String } cmd 命令字符串\r\n         * @return { int } 如果当前选区是有序列表返回1，否则返回0\r\n         * @example\r\n         * ```javascript\r\n         * editor.queryCommandState( 'insertorderedlist' );\r\n         * ```\r\n         */\r\n        /**\r\n         * 查询当前选区内容是否有序列表\r\n         * @command insertorderedlist\r\n         * @method queryCommandValue\r\n         * @param { String } cmd 命令字符串\r\n         * @return { String } 返回当前有序列表的类型，值为null或decimal,lower-alpha,lower-roman,upper-alpha,upper-roman,cn,cn1,cn2,num,num1,num2\r\n         * @example\r\n         * ```javascript\r\n         * editor.queryCommandValue( 'insertorderedlist' );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 无序列表，与“insertorderedlist”命令互斥\r\n         * @command insertunorderedlist\r\n         * @method execCommand\r\n         * @param { String } command 命令字符串\r\n         * @param { String } style 插入的无序列表类型，值为：circle,disc,square,dash,dot\r\n         * @example\r\n         * ```javascript\r\n         * editor.execCommand( 'insertunorderedlist','circle');\r\n         * ```\r\n         */\r\n        /**\r\n         * 查询当前是否有word文档粘贴进来的图片\r\n         * @command insertunorderedlist\r\n         * @method insertunorderedlist\r\n         * @param { String } command 命令字符串\r\n         * @return { int } 如果当前选区是无序列表返回1，否则返回0\r\n         * @example\r\n         * ```javascript\r\n         * editor.queryCommandState( 'insertunorderedlist' );\r\n         * ```\r\n         */\r\n        /**\r\n         * 查询当前选区内容是否有序列表\r\n         * @command insertunorderedlist\r\n         * @method queryCommandValue\r\n         * @param { String } command 命令字符串\r\n         * @return { String } 返回当前无序列表的类型，值为null或circle,disc,square,dash,dot\r\n         * @example\r\n         * ```javascript\r\n         * editor.queryCommandValue( 'insertunorderedlist' );\r\n         * ```\r\n         */\r\n\r\n        me.commands['insertorderedlist'] =\r\n            me.commands['insertunorderedlist'] = {\r\n                execCommand: function(command, style) {\r\n\r\n                    if (!style) {\r\n                        style = command.toLowerCase() == 'insertorderedlist' ? 'decimal' : 'disc';\r\n                    }\r\n                    var me = this,\r\n                        range = this.selection.getRange(),\r\n                        filterFn = function(node) {\r\n                            return node.nodeType == 1 ? node.tagName.toLowerCase() != 'br' : !domUtils.isWhitespace(node);\r\n                        },\r\n                        tag = command.toLowerCase() == 'insertorderedlist' ? 'ol' : 'ul',\r\n                        frag = me.document.createDocumentFragment();\r\n                    //去掉是因为会出现选到末尾，导致adjustmentBoundary缩到ol/ul的位置\r\n                    //range.shrinkBoundary();//.adjustmentBoundary();\r\n                    range.adjustmentBoundary().shrinkBoundary();\r\n                    var bko = range.createBookmark(true),\r\n                        start = getLi(me.document.getElementById(bko.start)),\r\n                        modifyStart = 0,\r\n                        end = getLi(me.document.getElementById(bko.end)),\r\n                        modifyEnd = 0,\r\n                        startParent, endParent,\r\n                        list, tmp;\r\n\r\n                    if (start || end) {\r\n                        start && (startParent = start.parentNode);\r\n                        if (!bko.end) {\r\n                            end = start;\r\n                        }\r\n                        end && (endParent = end.parentNode);\r\n\r\n                        if (startParent === endParent) {\r\n                            while (start !== end) {\r\n                                tmp = start;\r\n                                start = start.nextSibling;\r\n                                if (!domUtils.isBlockElm(tmp.firstChild)) {\r\n                                    var p = me.document.createElement('p');\r\n                                    while (tmp.firstChild) {\r\n                                        p.appendChild(tmp.firstChild);\r\n                                    }\r\n                                    tmp.appendChild(p);\r\n                                }\r\n                                frag.appendChild(tmp);\r\n                            }\r\n                            tmp = me.document.createElement('span');\r\n                            startParent.insertBefore(tmp, end);\r\n                            if (!domUtils.isBlockElm(end.firstChild)) {\r\n                                p = me.document.createElement('p');\r\n                                while (end.firstChild) {\r\n                                    p.appendChild(end.firstChild);\r\n                                }\r\n                                end.appendChild(p);\r\n                            }\r\n                            frag.appendChild(end);\r\n                            domUtils.breakParent(tmp, startParent);\r\n                            if (domUtils.isEmptyNode(tmp.previousSibling)) {\r\n                                domUtils.remove(tmp.previousSibling);\r\n                            }\r\n                            if (domUtils.isEmptyNode(tmp.nextSibling)) {\r\n                                domUtils.remove(tmp.nextSibling)\r\n                            }\r\n                            var nodeStyle = getStyle(startParent) || domUtils.getComputedStyle(startParent, 'list-style-type') || (command.toLowerCase() == 'insertorderedlist' ? 'decimal' : 'disc');\r\n                            if (startParent.tagName.toLowerCase() == tag && nodeStyle == style) {\r\n                                for (var i = 0, ci, tmpFrag = me.document.createDocumentFragment(); ci = frag.firstChild;) {\r\n                                    if (domUtils.isTagNode(ci, 'ol ul')) {\r\n                                        //                                  删除时，子列表不处理\r\n                                        //                                  utils.each(domUtils.getElementsByTagName(ci,'li'),function(li){\r\n                                        //                                        while(li.firstChild){\r\n                                        //                                            tmpFrag.appendChild(li.firstChild);\r\n                                        //                                        }\r\n                                        //\r\n                                        //                                    });\r\n                                        tmpFrag.appendChild(ci);\r\n                                    } else {\r\n                                        while (ci.firstChild) {\r\n\r\n                                            tmpFrag.appendChild(ci.firstChild);\r\n                                            domUtils.remove(ci);\r\n                                        }\r\n                                    }\r\n\r\n                                }\r\n                                tmp.parentNode.insertBefore(tmpFrag, tmp);\r\n                            } else {\r\n                                list = me.document.createElement(tag);\r\n                                setListStyle(list, style);\r\n                                list.appendChild(frag);\r\n                                tmp.parentNode.insertBefore(list, tmp);\r\n                            }\r\n\r\n                            domUtils.remove(tmp);\r\n                            list && adjustList(list, tag, style);\r\n                            range.moveToBookmark(bko).select();\r\n                            return;\r\n                        }\r\n                        //开始\r\n                        if (start) {\r\n                            while (start) {\r\n                                tmp = start.nextSibling;\r\n                                if (domUtils.isTagNode(start, 'ol ul')) {\r\n                                    frag.appendChild(start);\r\n                                } else {\r\n                                    var tmpfrag = me.document.createDocumentFragment(),\r\n                                        hasBlock = 0;\r\n                                    while (start.firstChild) {\r\n                                        if (domUtils.isBlockElm(start.firstChild)) {\r\n                                            hasBlock = 1;\r\n                                        }\r\n                                        tmpfrag.appendChild(start.firstChild);\r\n                                    }\r\n                                    if (!hasBlock) {\r\n                                        var tmpP = me.document.createElement('p');\r\n                                        tmpP.appendChild(tmpfrag);\r\n                                        frag.appendChild(tmpP);\r\n                                    } else {\r\n                                        frag.appendChild(tmpfrag);\r\n                                    }\r\n                                    domUtils.remove(start);\r\n                                }\r\n\r\n                                start = tmp;\r\n                            }\r\n                            startParent.parentNode.insertBefore(frag, startParent.nextSibling);\r\n                            if (domUtils.isEmptyNode(startParent)) {\r\n                                range.setStartBefore(startParent);\r\n                                domUtils.remove(startParent);\r\n                            } else {\r\n                                range.setStartAfter(startParent);\r\n                            }\r\n                            modifyStart = 1;\r\n                        }\r\n\r\n                        if (end && domUtils.inDoc(endParent, me.document)) {\r\n                            //结束\r\n                            start = endParent.firstChild;\r\n                            while (start && start !== end) {\r\n                                tmp = start.nextSibling;\r\n                                if (domUtils.isTagNode(start, 'ol ul')) {\r\n                                    frag.appendChild(start);\r\n                                } else {\r\n                                    tmpfrag = me.document.createDocumentFragment();\r\n                                    hasBlock = 0;\r\n                                    while (start.firstChild) {\r\n                                        if (domUtils.isBlockElm(start.firstChild)) {\r\n                                            hasBlock = 1;\r\n                                        }\r\n                                        tmpfrag.appendChild(start.firstChild);\r\n                                    }\r\n                                    if (!hasBlock) {\r\n                                        tmpP = me.document.createElement('p');\r\n                                        tmpP.appendChild(tmpfrag);\r\n                                        frag.appendChild(tmpP);\r\n                                    } else {\r\n                                        frag.appendChild(tmpfrag);\r\n                                    }\r\n                                    domUtils.remove(start);\r\n                                }\r\n                                start = tmp;\r\n                            }\r\n                            var tmpDiv = domUtils.createElement(me.document, 'div', {\r\n                                'tmpDiv': 1\r\n                            });\r\n                            domUtils.moveChild(end, tmpDiv);\r\n\r\n                            frag.appendChild(tmpDiv);\r\n                            domUtils.remove(end);\r\n                            endParent.parentNode.insertBefore(frag, endParent);\r\n                            range.setEndBefore(endParent);\r\n                            if (domUtils.isEmptyNode(endParent)) {\r\n                                domUtils.remove(endParent);\r\n                            }\r\n\r\n                            modifyEnd = 1;\r\n                        }\r\n\r\n\r\n                    }\r\n\r\n                    if (!modifyStart) {\r\n                        range.setStartBefore(me.document.getElementById(bko.start));\r\n                    }\r\n                    if (bko.end && !modifyEnd) {\r\n                        range.setEndAfter(me.document.getElementById(bko.end));\r\n                    }\r\n                    range.enlarge(true, function(node) {\r\n                        return notExchange[node.tagName];\r\n                    });\r\n\r\n                    frag = me.document.createDocumentFragment();\r\n\r\n                    var bk = range.createBookmark(),\r\n                        current = domUtils.getNextDomNode(bk.start, false, filterFn),\r\n                        tmpRange = range.cloneRange(),\r\n                        tmpNode,\r\n                        block = domUtils.isBlockElm;\r\n\r\n                    while (current && current !== bk.end && (domUtils.getPosition(current, bk.end) & domUtils.POSITION_PRECEDING)) {\r\n\r\n                        if (current.nodeType == 3 || dtd.li[current.tagName]) {\r\n                            if (current.nodeType == 1 && dtd.$list[current.tagName]) {\r\n                                while (current.firstChild) {\r\n                                    frag.appendChild(current.firstChild);\r\n                                }\r\n                                tmpNode = domUtils.getNextDomNode(current, false, filterFn);\r\n                                domUtils.remove(current);\r\n                                current = tmpNode;\r\n                                continue;\r\n\r\n                            }\r\n                            tmpNode = current;\r\n                            tmpRange.setStartBefore(current);\r\n\r\n                            while (current && current !== bk.end && (!block(current) || domUtils.isBookmarkNode(current))) {\r\n                                tmpNode = current;\r\n                                current = domUtils.getNextDomNode(current, false, null, function(node) {\r\n                                    return !notExchange[node.tagName];\r\n                                });\r\n                            }\r\n\r\n                            if (current && block(current)) {\r\n                                tmp = domUtils.getNextDomNode(tmpNode, false, filterFn);\r\n                                if (tmp && domUtils.isBookmarkNode(tmp)) {\r\n                                    current = domUtils.getNextDomNode(tmp, false, filterFn);\r\n                                    tmpNode = tmp;\r\n                                }\r\n                            }\r\n                            tmpRange.setEndAfter(tmpNode);\r\n\r\n                            current = domUtils.getNextDomNode(tmpNode, false, filterFn);\r\n\r\n                            var li = range.document.createElement('li');\r\n\r\n                            li.appendChild(tmpRange.extractContents());\r\n                            if (domUtils.isEmptyNode(li)) {\r\n                                var tmpNode = range.document.createElement('p');\r\n                                while (li.firstChild) {\r\n                                    tmpNode.appendChild(li.firstChild)\r\n                                }\r\n                                li.appendChild(tmpNode);\r\n                            }\r\n                            frag.appendChild(li);\r\n                        } else {\r\n                            current = domUtils.getNextDomNode(current, true, filterFn);\r\n                        }\r\n                    }\r\n                    range.moveToBookmark(bk).collapse(true);\r\n                    list = me.document.createElement(tag);\r\n                    setListStyle(list, style);\r\n                    list.appendChild(frag);\r\n                    range.insertNode(list);\r\n                    //当前list上下看能否合并\r\n                    adjustList(list, tag, style);\r\n                    //去掉冗余的tmpDiv\r\n                    for (var i = 0, ci, tmpDivs = domUtils.getElementsByTagName(list, 'div'); ci = tmpDivs[i++];) {\r\n                        if (ci.getAttribute('tmpDiv')) {\r\n                            domUtils.remove(ci, true)\r\n                        }\r\n                    }\r\n                    range.moveToBookmark(bko).select();\r\n\r\n                },\r\n                queryCommandState: function(command) {\r\n                    var tag = command.toLowerCase() == 'insertorderedlist' ? 'ol' : 'ul';\r\n                    var path = this.selection.getStartElementPath();\r\n                    for (var i = 0, ci; ci = path[i++];) {\r\n                        if (ci.nodeName == 'TABLE') {\r\n                            return 0\r\n                        }\r\n                        if (tag == ci.nodeName.toLowerCase()) {\r\n                            return 1\r\n                        };\r\n                    }\r\n                    return 0;\r\n\r\n                },\r\n                queryCommandValue: function(command) {\r\n                    var tag = command.toLowerCase() == 'insertorderedlist' ? 'ol' : 'ul';\r\n                    var path = this.selection.getStartElementPath(),\r\n                        node;\r\n                    for (var i = 0, ci; ci = path[i++];) {\r\n                        if (ci.nodeName == 'TABLE') {\r\n                            node = null;\r\n                            break;\r\n                        }\r\n                        if (tag == ci.nodeName.toLowerCase()) {\r\n                            node = ci;\r\n                            break;\r\n                        };\r\n                    }\r\n                    return node ? getStyle(node) || domUtils.getComputedStyle(node, 'list-style-type') : null;\r\n                }\r\n            };\r\n    };\r\n\r\n\r\n\r\n    // plugins/source.js\r\n    /**\r\n     * 源码编辑插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    (function() {\r\n        var sourceEditors = {\r\n            textarea: function(editor, holder) {\r\n                var textarea = holder.ownerDocument.createElement('textarea');\r\n                textarea.style.cssText = 'position:absolute;resize:none;width:100%;height:100%;border:0;padding:0;margin:0;overflow-y:auto;';\r\n                // todo: IE下只有onresize属性可用... 很纠结\r\n                if (browser.ie && browser.version < 8) {\r\n                    textarea.style.width = holder.offsetWidth + 'px';\r\n                    textarea.style.height = holder.offsetHeight + 'px';\r\n                    holder.onresize = function() {\r\n                        textarea.style.width = holder.offsetWidth + 'px';\r\n                        textarea.style.height = holder.offsetHeight + 'px';\r\n                    };\r\n                }\r\n                holder.appendChild(textarea);\r\n                return {\r\n                    setContent: function(content) {\r\n                        textarea.value = content;\r\n                    },\r\n                    getContent: function() {\r\n                        return textarea.value;\r\n                    },\r\n                    select: function() {\r\n                        var range;\r\n                        if (browser.ie) {\r\n                            range = textarea.createTextRange();\r\n                            range.collapse(true);\r\n                            range.select();\r\n                        } else {\r\n                            //todo: chrome下无法设置焦点\r\n                            textarea.setSelectionRange(0, 0);\r\n                            textarea.focus();\r\n                        }\r\n                    },\r\n                    dispose: function() {\r\n                        holder.removeChild(textarea);\r\n                        // todo\r\n                        holder.onresize = null;\r\n                        textarea = null;\r\n                        holder = null;\r\n                    }\r\n                };\r\n            },\r\n            codemirror: function(editor, holder) {\r\n\r\n                var codeEditor = window.CodeMirror(holder, {\r\n                    mode: \"text/html\",\r\n                    tabMode: \"indent\",\r\n                    lineNumbers: true,\r\n                    lineWrapping: true\r\n                });\r\n                var dom = codeEditor.getWrapperElement();\r\n                dom.style.cssText = 'position:absolute;left:0;top:0;width:100%;height:100%;font-family:consolas,\"Courier new\",monospace;font-size:13px;';\r\n                codeEditor.getScrollerElement().style.cssText = 'position:absolute;left:0;top:0;width:100%;height:100%;';\r\n                codeEditor.refresh();\r\n                return {\r\n                    getCodeMirror: function() {\r\n                        return codeEditor;\r\n                    },\r\n                    setContent: function(content) {\r\n                        codeEditor.setValue(content);\r\n                    },\r\n                    getContent: function() {\r\n                        return codeEditor.getValue();\r\n                    },\r\n                    select: function() {\r\n                        codeEditor.focus();\r\n                    },\r\n                    dispose: function() {\r\n                        holder.removeChild(dom);\r\n                        dom = null;\r\n                        codeEditor = null;\r\n                    }\r\n                };\r\n            }\r\n        };\r\n\r\n        UE.plugins['source'] = function() {\r\n            var me = this;\r\n            var opt = this.options;\r\n            var sourceMode = false;\r\n            var sourceEditor;\r\n            var orgSetContent;\r\n            opt.sourceEditor = browser.ie ? 'textarea' : (opt.sourceEditor || 'codemirror');\r\n\r\n            me.setOpt({\r\n                sourceEditorFirst: false\r\n            });\r\n\r\n            function createSourceEditor(holder) {\r\n                return sourceEditors[opt.sourceEditor == 'codemirror' && window.CodeMirror ? 'codemirror' : 'textarea'](me, holder);\r\n            }\r\n\r\n            var bakCssText;\r\n            //解决在源码模式下getContent不能得到最新的内容问题\r\n            var oldGetContent,\r\n                bakAddress;\r\n\r\n            /**\r\n             * 切换源码模式和编辑模式\r\n             * @command source\r\n             * @method execCommand\r\n             * @param { String } cmd 命令字符串\r\n             * @example\r\n             * ```javascript\r\n             * editor.execCommand( 'source');\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 查询当前编辑区域的状态是源码模式还是可视化模式\r\n             * @command source\r\n             * @method queryCommandState\r\n             * @param { String } cmd 命令字符串\r\n             * @return { int } 如果当前是源码编辑模式，返回1，否则返回0\r\n             * @example\r\n             * ```javascript\r\n             * editor.queryCommandState( 'source' );\r\n             * ```\r\n             */\r\n\r\n            me.commands['source'] = {\r\n                execCommand: function() {\r\n\r\n                    sourceMode = !sourceMode;\r\n                    if (sourceMode) {\r\n                        bakAddress = me.selection.getRange().createAddress(false, true);\r\n                        me.undoManger && me.undoManger.save(true);\r\n                        if (browser.gecko) {\r\n                            me.body.contentEditable = false;\r\n                        }\r\n\r\n                        bakCssText = me.iframe.style.cssText;\r\n                        me.iframe.style.cssText += 'position:absolute;left:-32768px;top:-32768px;';\r\n\r\n\r\n                        me.fireEvent('beforegetcontent');\r\n                        var root = UE.htmlparser(me.body.innerHTML);\r\n                        me.filterOutputRule(root);\r\n                        root.traversal(function(node) {\r\n                            if (node.type == 'element') {\r\n                                switch (node.tagName) {\r\n                                    case 'td':\r\n                                    case 'th':\r\n                                    case 'caption':\r\n                                        if (node.children && node.children.length == 1) {\r\n                                            if (node.firstChild().tagName == 'br') {\r\n                                                node.removeChild(node.firstChild())\r\n                                            }\r\n                                        };\r\n                                        break;\r\n                                    case 'pre':\r\n                                        node.innerText(node.innerText().replace(/&nbsp;/g, ' '))\r\n\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        me.fireEvent('aftergetcontent');\r\n\r\n                        var content = root.toHtml(true);\r\n\r\n                        sourceEditor = createSourceEditor(me.iframe.parentNode);\r\n\r\n                        sourceEditor.setContent(content);\r\n\r\n                        orgSetContent = me.setContent;\r\n\r\n                        me.setContent = function(html) {\r\n                            //这里暂时不触发事件，防止报错\r\n                            var root = UE.htmlparser(html);\r\n                            me.filterInputRule(root);\r\n                            html = root.toHtml();\r\n                            sourceEditor.setContent(html);\r\n                        };\r\n\r\n                        setTimeout(function() {\r\n                            sourceEditor.select();\r\n                            me.addListener('fullscreenchanged', function() {\r\n                                try {\r\n                                    sourceEditor.getCodeMirror().refresh()\r\n                                } catch (e) {}\r\n                            });\r\n                        });\r\n\r\n                        //重置getContent，源码模式下取值也能是最新的数据\r\n                        oldGetContent = me.getContent;\r\n                        me.getContent = function() {\r\n                            return sourceEditor.getContent() || '<p>' + (browser.ie ? '' : '<br/>') + '</p>';\r\n                        };\r\n                    } else {\r\n                        me.iframe.style.cssText = bakCssText;\r\n                        var cont = sourceEditor.getContent() || '<p>' + (browser.ie ? '' : '<br/>') + '</p>';\r\n                        //处理掉block节点前后的空格,有可能会误命中，暂时不考虑\r\n                        cont = cont.replace(new RegExp('[\\\\r\\\\t\\\\n ]*<\\/?(\\\\w+)\\\\s*(?:[^>]*)>', 'g'), function(a, b) {\r\n                            if (b && !dtd.$inlineWithA[b.toLowerCase()]) {\r\n                                return a.replace(/(^[\\n\\r\\t ]*)|([\\n\\r\\t ]*$)/g, '');\r\n                            }\r\n                            return a.replace(/(^[\\n\\r\\t]*)|([\\n\\r\\t]*$)/g, '')\r\n                        });\r\n\r\n                        me.setContent = orgSetContent;\r\n\r\n                        me.setContent(cont);\r\n                        sourceEditor.dispose();\r\n                        sourceEditor = null;\r\n                        //还原getContent方法\r\n                        me.getContent = oldGetContent;\r\n                        var first = me.body.firstChild;\r\n                        //trace:1106 都删除空了，下边会报错，所以补充一个p占位\r\n                        if (!first) {\r\n                            me.body.innerHTML = '<p>' + (browser.ie ? '' : '<br/>') + '</p>';\r\n                            first = me.body.firstChild;\r\n                        }\r\n\r\n\r\n                        //要在ifm为显示时ff才能取到selection,否则报错\r\n                        //这里不能比较位置了\r\n                        me.undoManger && me.undoManger.save(true);\r\n\r\n                        if (browser.gecko) {\r\n\r\n                            var input = document.createElement('input');\r\n                            input.style.cssText = 'position:absolute;left:0;top:-32768px';\r\n\r\n                            document.body.appendChild(input);\r\n\r\n                            me.body.contentEditable = false;\r\n                            setTimeout(function() {\r\n                                domUtils.setViewportOffset(input, { left: -32768, top: 0 });\r\n                                input.focus();\r\n                                setTimeout(function() {\r\n                                    me.body.contentEditable = true;\r\n                                    me.selection.getRange().moveToAddress(bakAddress).select(true);\r\n                                    domUtils.remove(input);\r\n                                });\r\n\r\n                            });\r\n                        } else {\r\n                            //ie下有可能报错，比如在代码顶头的情况\r\n                            try {\r\n                                me.selection.getRange().moveToAddress(bakAddress).select(true);\r\n                            } catch (e) {}\r\n\r\n                        }\r\n                    }\r\n                    this.fireEvent('sourcemodechanged', sourceMode);\r\n                },\r\n                queryCommandState: function() {\r\n                    return sourceMode | 0;\r\n                },\r\n                notNeedUndo: 1\r\n            };\r\n            var oldQueryCommandState = me.queryCommandState;\r\n\r\n            me.queryCommandState = function(cmdName) {\r\n                cmdName = cmdName.toLowerCase();\r\n                if (sourceMode) {\r\n                    //源码模式下可以开启的命令\r\n                    return cmdName in {\r\n                        'source': 1,\r\n                        'fullscreen': 1\r\n                    } ? 1 : -1\r\n                }\r\n                return oldQueryCommandState.apply(this, arguments);\r\n            };\r\n\r\n            if (opt.sourceEditor == \"codemirror\") {\r\n\r\n                me.addListener(\"ready\", function() {\r\n                    utils.loadFile(document, {\r\n                        src: opt.codeMirrorJsUrl || opt.UEDITOR_HOME_URL + \"third-party/codemirror/codemirror.js\",\r\n                        tag: \"script\",\r\n                        type: \"text/javascript\",\r\n                        defer: \"defer\"\r\n                    }, function() {\r\n                        if (opt.sourceEditorFirst) {\r\n                            setTimeout(function() {\r\n                                me.execCommand(\"source\");\r\n                            }, 0);\r\n                        }\r\n                    });\r\n                    utils.loadFile(document, {\r\n                        tag: \"link\",\r\n                        rel: \"stylesheet\",\r\n                        type: \"text/css\",\r\n                        href: opt.codeMirrorCssUrl || opt.UEDITOR_HOME_URL + \"third-party/codemirror/codemirror.css\"\r\n                    });\r\n\r\n                });\r\n            }\r\n\r\n        };\r\n\r\n    })();\r\n\r\n    // plugins/enterkey.js\r\n    ///import core\r\n    ///import plugins/undo.js\r\n    ///commands 设置回车标签p或br\r\n    ///commandsName  EnterKey\r\n    ///commandsTitle  设置回车标签p或br\r\n    /**\r\n     * @description 处理回车\r\n     * @author zhanyi\r\n     */\r\n    UE.plugins['enterkey'] = function() {\r\n        var hTag,\r\n            me = this,\r\n            tag = me.options.enterTag;\r\n        me.addListener('keyup', function(type, evt) {\r\n\r\n            var keyCode = evt.keyCode || evt.which;\r\n            if (keyCode == 13) {\r\n                var range = me.selection.getRange(),\r\n                    start = range.startContainer,\r\n                    doSave;\r\n\r\n                //修正在h1-h6里边回车后不能嵌套p的问题\r\n                if (!browser.ie) {\r\n\r\n                    if (/h\\d/i.test(hTag)) {\r\n                        if (browser.gecko) {\r\n                            var h = domUtils.findParentByTagName(start, ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'blockquote', 'caption', 'table'], true);\r\n                            if (!h) {\r\n                                me.document.execCommand('formatBlock', false, '<p>');\r\n                                doSave = 1;\r\n                            }\r\n                        } else {\r\n                            //chrome remove div\r\n                            if (start.nodeType == 1) {\r\n                                var tmp = me.document.createTextNode(''),\r\n                                    div;\r\n                                range.insertNode(tmp);\r\n                                div = domUtils.findParentByTagName(tmp, 'div', true);\r\n                                if (div) {\r\n                                    var p = me.document.createElement('p');\r\n                                    while (div.firstChild) {\r\n                                        p.appendChild(div.firstChild);\r\n                                    }\r\n                                    div.parentNode.insertBefore(p, div);\r\n                                    domUtils.remove(div);\r\n                                    range.setStartBefore(tmp).setCursor();\r\n                                    doSave = 1;\r\n                                }\r\n                                domUtils.remove(tmp);\r\n\r\n                            }\r\n                        }\r\n\r\n                        if (me.undoManger && doSave) {\r\n                            me.undoManger.save();\r\n                        }\r\n                    }\r\n                    //没有站位符，会出现多行的问题\r\n                    browser.opera && range.select();\r\n                } else {\r\n                    me.fireEvent('saveScene', true, true)\r\n                }\r\n            }\r\n        });\r\n\r\n        me.addListener('keydown', function(type, evt) {\r\n            var keyCode = evt.keyCode || evt.which;\r\n            if (keyCode == 13) { //回车\r\n                if (me.fireEvent('beforeenterkeydown')) {\r\n                    domUtils.preventDefault(evt);\r\n                    return;\r\n                }\r\n                me.fireEvent('saveScene', true, true);\r\n                hTag = '';\r\n\r\n\r\n                var range = me.selection.getRange();\r\n\r\n                if (!range.collapsed) {\r\n                    //跨td不能删\r\n                    var start = range.startContainer,\r\n                        end = range.endContainer,\r\n                        startTd = domUtils.findParentByTagName(start, 'td', true),\r\n                        endTd = domUtils.findParentByTagName(end, 'td', true);\r\n                    if (startTd && endTd && startTd !== endTd || !startTd && endTd || startTd && !endTd) {\r\n                        evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\r\n                        return;\r\n                    }\r\n                }\r\n                if (tag == 'p') {\r\n\r\n\r\n                    if (!browser.ie) {\r\n\r\n                        start = domUtils.findParentByTagName(range.startContainer, ['ol', 'ul', 'p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'blockquote', 'caption'], true);\r\n\r\n                        //opera下执行formatblock会在table的场景下有问题，回车在opera原生支持很好，所以暂时在opera去掉调用这个原生的command\r\n                        //trace:2431\r\n                        if (!start && !browser.opera) {\r\n\r\n                            me.document.execCommand('formatBlock', false, '<p>');\r\n\r\n                            if (browser.gecko) {\r\n                                range = me.selection.getRange();\r\n                                start = domUtils.findParentByTagName(range.startContainer, 'p', true);\r\n                                start && domUtils.removeDirtyAttr(start);\r\n                            }\r\n\r\n\r\n                        } else {\r\n                            hTag = start.tagName;\r\n                            start.tagName.toLowerCase() == 'p' && browser.gecko && domUtils.removeDirtyAttr(start);\r\n                        }\r\n\r\n                    }\r\n\r\n                } else {\r\n                    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\r\n\r\n                    if (!range.collapsed) {\r\n                        range.deleteContents();\r\n                        start = range.startContainer;\r\n                        if (start.nodeType == 1 && (start = start.childNodes[range.startOffset])) {\r\n                            while (start.nodeType == 1) {\r\n                                if (dtd.$empty[start.tagName]) {\r\n                                    range.setStartBefore(start).setCursor();\r\n                                    if (me.undoManger) {\r\n                                        me.undoManger.save();\r\n                                    }\r\n                                    return false;\r\n                                }\r\n                                if (!start.firstChild) {\r\n                                    var br = range.document.createElement('br');\r\n                                    start.appendChild(br);\r\n                                    range.setStart(start, 0).setCursor();\r\n                                    if (me.undoManger) {\r\n                                        me.undoManger.save();\r\n                                    }\r\n                                    return false;\r\n                                }\r\n                                start = start.firstChild;\r\n                            }\r\n                            if (start === range.startContainer.childNodes[range.startOffset]) {\r\n                                br = range.document.createElement('br');\r\n                                range.insertNode(br).setCursor();\r\n\r\n                            } else {\r\n                                range.setStart(start, 0).setCursor();\r\n                            }\r\n\r\n\r\n                        } else {\r\n                            br = range.document.createElement('br');\r\n                            range.insertNode(br).setStartAfter(br).setCursor();\r\n                        }\r\n\r\n\r\n                    } else {\r\n                        br = range.document.createElement('br');\r\n                        range.insertNode(br);\r\n                        var parent = br.parentNode;\r\n                        if (parent.lastChild === br) {\r\n                            br.parentNode.insertBefore(br.cloneNode(true), br);\r\n                            range.setStartBefore(br);\r\n                        } else {\r\n                            range.setStartAfter(br);\r\n                        }\r\n                        range.setCursor();\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    // plugins/keystrokes.js\r\n    /* 处理特殊键的兼容性问题 */\r\n    UE.plugins['keystrokes'] = function() {\r\n        var me = this;\r\n        var collapsed = true;\r\n        me.addListener('keydown', function(type, evt) {\r\n            var keyCode = evt.keyCode || evt.which,\r\n                rng = me.selection.getRange();\r\n\r\n            //处理全选的情况\r\n            if (!rng.collapsed && !(evt.ctrlKey || evt.shiftKey || evt.altKey || evt.metaKey) && (keyCode >= 65 && keyCode <= 90 ||\r\n                    keyCode >= 48 && keyCode <= 57 ||\r\n                    keyCode >= 96 && keyCode <= 111 || {\r\n                        13: 1,\r\n                        8: 1,\r\n                        46: 1\r\n                    }[keyCode])) {\r\n\r\n                var tmpNode = rng.startContainer;\r\n                if (domUtils.isFillChar(tmpNode)) {\r\n                    rng.setStartBefore(tmpNode)\r\n                }\r\n                tmpNode = rng.endContainer;\r\n                if (domUtils.isFillChar(tmpNode)) {\r\n                    rng.setEndAfter(tmpNode)\r\n                }\r\n                rng.txtToElmBoundary();\r\n                //结束边界可能放到了br的前边，要把br包含进来\r\n                // x[xxx]<br/>\r\n                if (rng.endContainer && rng.endContainer.nodeType == 1) {\r\n                    tmpNode = rng.endContainer.childNodes[rng.endOffset];\r\n                    if (tmpNode && domUtils.isBr(tmpNode)) {\r\n                        rng.setEndAfter(tmpNode);\r\n                    }\r\n                }\r\n                if (rng.startOffset == 0) {\r\n                    tmpNode = rng.startContainer;\r\n                    if (domUtils.isBoundaryNode(tmpNode, 'firstChild')) {\r\n                        tmpNode = rng.endContainer;\r\n                        if (rng.endOffset == (tmpNode.nodeType == 3 ? tmpNode.nodeValue.length : tmpNode.childNodes.length) && domUtils.isBoundaryNode(tmpNode, 'lastChild')) {\r\n                            me.fireEvent('saveScene');\r\n                            me.body.innerHTML = '<p>' + (browser.ie ? '' : '<br/>') + '</p>';\r\n                            rng.setStart(me.body.firstChild, 0).setCursor(false, true);\r\n                            me._selectionChange();\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            //处理backspace\r\n            if (keyCode == keymap.Backspace) {\r\n                rng = me.selection.getRange();\r\n                collapsed = rng.collapsed;\r\n                if (me.fireEvent('delkeydown', evt)) {\r\n                    return;\r\n                }\r\n                var start, end;\r\n                //避免按两次删除才能生效的问题\r\n                if (rng.collapsed && rng.inFillChar()) {\r\n                    start = rng.startContainer;\r\n\r\n                    if (domUtils.isFillChar(start)) {\r\n                        rng.setStartBefore(start).shrinkBoundary(true).collapse(true);\r\n                        domUtils.remove(start)\r\n                    } else {\r\n                        start.nodeValue = start.nodeValue.replace(new RegExp('^' + domUtils.fillChar), '');\r\n                        rng.startOffset--;\r\n                        rng.collapse(true).select(true)\r\n                    }\r\n                }\r\n\r\n                //解决选中control元素不能删除的问题\r\n                if (start = rng.getClosedNode()) {\r\n                    me.fireEvent('saveScene');\r\n                    rng.setStartBefore(start);\r\n                    domUtils.remove(start);\r\n                    rng.setCursor();\r\n                    me.fireEvent('saveScene');\r\n                    domUtils.preventDefault(evt);\r\n                    return;\r\n                }\r\n                //阻止在table上的删除\r\n                if (!browser.ie) {\r\n                    start = domUtils.findParentByTagName(rng.startContainer, 'table', true);\r\n                    end = domUtils.findParentByTagName(rng.endContainer, 'table', true);\r\n                    if (start && !end || !start && end || start !== end) {\r\n                        evt.preventDefault();\r\n                        return;\r\n                    }\r\n                }\r\n\r\n            }\r\n            //处理tab键的逻辑\r\n            if (keyCode == keymap.Tab) {\r\n                //不处理以下标签\r\n                var excludeTagNameForTabKey = {\r\n                    'ol': 1,\r\n                    'ul': 1,\r\n                    'table': 1\r\n                };\r\n                //处理组件里的tab按下事件\r\n                if (me.fireEvent('tabkeydown', evt)) {\r\n                    domUtils.preventDefault(evt);\r\n                    return;\r\n                }\r\n                var range = me.selection.getRange();\r\n                me.fireEvent('saveScene');\r\n                for (var i = 0, txt = '', tabSize = me.options.tabSize || 4, tabNode = me.options.tabNode || '&nbsp;'; i < tabSize; i++) {\r\n                    txt += tabNode;\r\n                }\r\n                var span = me.document.createElement('span');\r\n                span.innerHTML = txt + domUtils.fillChar;\r\n                if (range.collapsed) {\r\n                    range.insertNode(span.cloneNode(true).firstChild).setCursor(true);\r\n                } else {\r\n                    var filterFn = function(node) {\r\n                        return domUtils.isBlockElm(node) && !excludeTagNameForTabKey[node.tagName.toLowerCase()]\r\n\r\n                    };\r\n                    //普通的情况\r\n                    start = domUtils.findParent(range.startContainer, filterFn, true);\r\n                    end = domUtils.findParent(range.endContainer, filterFn, true);\r\n                    if (start && end && start === end) {\r\n                        range.deleteContents();\r\n                        range.insertNode(span.cloneNode(true).firstChild).setCursor(true);\r\n                    } else {\r\n                        var bookmark = range.createBookmark();\r\n                        range.enlarge(true);\r\n                        var bookmark2 = range.createBookmark(),\r\n                            current = domUtils.getNextDomNode(bookmark2.start, false, filterFn);\r\n                        while (current && !(domUtils.getPosition(current, bookmark2.end) & domUtils.POSITION_FOLLOWING)) {\r\n                            current.insertBefore(span.cloneNode(true).firstChild, current.firstChild);\r\n                            current = domUtils.getNextDomNode(current, false, filterFn);\r\n                        }\r\n                        range.moveToBookmark(bookmark2).moveToBookmark(bookmark).select();\r\n                    }\r\n                }\r\n                domUtils.preventDefault(evt)\r\n            }\r\n            //trace:1634\r\n            //ff的del键在容器空的时候，也会删除\r\n            if (browser.gecko && keyCode == 46) {\r\n                range = me.selection.getRange();\r\n                if (range.collapsed) {\r\n                    start = range.startContainer;\r\n                    if (domUtils.isEmptyBlock(start)) {\r\n                        var parent = start.parentNode;\r\n                        while (domUtils.getChildCount(parent) == 1 && !domUtils.isBody(parent)) {\r\n                            start = parent;\r\n                            parent = parent.parentNode;\r\n                        }\r\n                        if (start === parent.lastChild)\r\n                            evt.preventDefault();\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        me.addListener('keyup', function(type, evt) {\r\n            var keyCode = evt.keyCode || evt.which,\r\n                rng, me = this;\r\n            if (keyCode == keymap.Backspace) {\r\n                if (me.fireEvent('delkeyup')) {\r\n                    return;\r\n                }\r\n                rng = me.selection.getRange();\r\n                if (rng.collapsed) {\r\n                    var tmpNode,\r\n                        autoClearTagName = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\r\n                    if (tmpNode = domUtils.findParentByTagName(rng.startContainer, autoClearTagName, true)) {\r\n                        if (domUtils.isEmptyBlock(tmpNode)) {\r\n                            var pre = tmpNode.previousSibling;\r\n                            if (pre && pre.nodeName != 'TABLE') {\r\n                                domUtils.remove(tmpNode);\r\n                                rng.setStartAtLast(pre).setCursor(false, true);\r\n                                return;\r\n                            } else {\r\n                                var next = tmpNode.nextSibling;\r\n                                if (next && next.nodeName != 'TABLE') {\r\n                                    domUtils.remove(tmpNode);\r\n                                    rng.setStartAtFirst(next).setCursor(false, true);\r\n                                    return;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    //处理当删除到body时，要重新给p标签展位\r\n                    if (domUtils.isBody(rng.startContainer)) {\r\n                        var tmpNode = domUtils.createElement(me.document, 'p', {\r\n                            'innerHTML': browser.ie ? domUtils.fillChar : '<br/>'\r\n                        });\r\n                        rng.insertNode(tmpNode).setStart(tmpNode, 0).setCursor(false, true);\r\n                    }\r\n                }\r\n\r\n\r\n                //chrome下如果删除了inline标签，浏览器会有记忆，在输入文字还是会套上刚才删除的标签，所以这里再选一次就不会了\r\n                if (!collapsed && (rng.startContainer.nodeType == 3 || rng.startContainer.nodeType == 1 && domUtils.isEmptyBlock(rng.startContainer))) {\r\n                    if (browser.ie) {\r\n                        var span = rng.document.createElement('span');\r\n                        rng.insertNode(span).setStartBefore(span).collapse(true);\r\n                        rng.select();\r\n                        domUtils.remove(span)\r\n                    } else {\r\n                        rng.select()\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n\r\n        })\r\n    };\r\n\r\n    // plugins/fiximgclick.js\r\n    ///import core\r\n    ///commands 修复chrome下图片不能点击的问题，出现八个角可改变大小\r\n    ///commandsName  FixImgClick\r\n    ///commandsTitle  修复chrome下图片不能点击的问题，出现八个角可改变大小\r\n    //修复chrome下图片不能点击的问题，出现八个角可改变大小\r\n\r\n    UE.plugins['fiximgclick'] = (function() {\r\n\r\n        var elementUpdated = false;\r\n\r\n        function Scale() {\r\n            this.editor = null;\r\n            this.resizer = null;\r\n            this.cover = null;\r\n            this.doc = document;\r\n            this.prePos = { x: 0, y: 0 };\r\n            this.startPos = { x: 0, y: 0 };\r\n        }\r\n\r\n        (function() {\r\n            var rect = [\r\n                //[left, top, width, height]\r\n                [0, 0, -1, -1],\r\n                [0, 0, 0, -1],\r\n                [0, 0, 1, -1],\r\n                [0, 0, -1, 0],\r\n                [0, 0, 1, 0],\r\n                [0, 0, -1, 1],\r\n                [0, 0, 0, 1],\r\n                [0, 0, 1, 1]\r\n            ];\r\n\r\n            Scale.prototype = {\r\n                init: function(editor) {\r\n                    var me = this;\r\n                    me.editor = editor;\r\n                    me.startPos = this.prePos = { x: 0, y: 0 };\r\n                    me.dragId = -1;\r\n\r\n                    var hands = [],\r\n                        cover = me.cover = document.createElement('div'),\r\n                        resizer = me.resizer = document.createElement('div');\r\n\r\n                    cover.id = me.editor.ui.id + '_imagescale_cover';\r\n                    cover.style.cssText = 'position:absolute;display:none;z-index:' + (me.editor.options.zIndex) + ';filter:alpha(opacity=0); opacity:0;background:#CCC;';\r\n                    domUtils.on(cover, 'mousedown click', function() {\r\n                        me.hide();\r\n                    });\r\n\r\n                    for (i = 0; i < 8; i++) {\r\n                        hands.push('<span class=\"edui-editor-imagescale-hand' + i + '\"></span>');\r\n                    }\r\n                    resizer.id = me.editor.ui.id + '_imagescale';\r\n                    resizer.className = 'edui-editor-imagescale';\r\n                    resizer.innerHTML = hands.join('');\r\n                    resizer.style.cssText += ';display:none;border:1px solid #3b77ff;z-index:' + (me.editor.options.zIndex) + ';';\r\n\r\n                    me.editor.ui.getDom().appendChild(cover);\r\n                    me.editor.ui.getDom().appendChild(resizer);\r\n\r\n                    me.initStyle();\r\n                    me.initEvents();\r\n                },\r\n                initStyle: function() {\r\n                    utils.cssRule('imagescale', '.edui-editor-imagescale{display:none;position:absolute;border:1px solid #38B2CE;cursor:hand;-webkit-box-sizing: content-box;-moz-box-sizing: content-box;box-sizing: content-box;}' +\r\n                        '.edui-editor-imagescale span{position:absolute;width:6px;height:6px;overflow:hidden;font-size:0px;display:block;background-color:#3C9DD0;}' +\r\n                        '.edui-editor-imagescale .edui-editor-imagescale-hand0{cursor:nw-resize;top:0;margin-top:-4px;left:0;margin-left:-4px;}' +\r\n                        '.edui-editor-imagescale .edui-editor-imagescale-hand1{cursor:n-resize;top:0;margin-top:-4px;left:50%;margin-left:-4px;}' +\r\n                        '.edui-editor-imagescale .edui-editor-imagescale-hand2{cursor:ne-resize;top:0;margin-top:-4px;left:100%;margin-left:-3px;}' +\r\n                        '.edui-editor-imagescale .edui-editor-imagescale-hand3{cursor:w-resize;top:50%;margin-top:-4px;left:0;margin-left:-4px;}' +\r\n                        '.edui-editor-imagescale .edui-editor-imagescale-hand4{cursor:e-resize;top:50%;margin-top:-4px;left:100%;margin-left:-3px;}' +\r\n                        '.edui-editor-imagescale .edui-editor-imagescale-hand5{cursor:sw-resize;top:100%;margin-top:-3px;left:0;margin-left:-4px;}' +\r\n                        '.edui-editor-imagescale .edui-editor-imagescale-hand6{cursor:s-resize;top:100%;margin-top:-3px;left:50%;margin-left:-4px;}' +\r\n                        '.edui-editor-imagescale .edui-editor-imagescale-hand7{cursor:se-resize;top:100%;margin-top:-3px;left:100%;margin-left:-3px;}');\r\n                },\r\n                initEvents: function() {\r\n                    var me = this;\r\n\r\n                    me.startPos.x = me.startPos.y = 0;\r\n                    me.isDraging = false;\r\n                },\r\n                _eventHandler: function(e) {\r\n                    var me = this;\r\n                    switch (e.type) {\r\n                        case 'mousedown':\r\n                            var hand = e.target || e.srcElement,\r\n                                hand;\r\n                            if (hand.className.indexOf('edui-editor-imagescale-hand') != -1 && me.dragId == -1) {\r\n                                me.dragId = hand.className.slice(-1);\r\n                                me.startPos.x = me.prePos.x = e.clientX;\r\n                                me.startPos.y = me.prePos.y = e.clientY;\r\n                                domUtils.on(me.doc, 'mousemove', me.proxy(me._eventHandler, me));\r\n                            }\r\n                            break;\r\n                        case 'mousemove':\r\n                            if (me.dragId != -1) {\r\n                                me.updateContainerStyle(me.dragId, { x: e.clientX - me.prePos.x, y: e.clientY - me.prePos.y });\r\n                                me.prePos.x = e.clientX;\r\n                                me.prePos.y = e.clientY;\r\n                                elementUpdated = true;\r\n                                me.updateTargetElement();\r\n\r\n                            }\r\n                            break;\r\n                        case 'mouseup':\r\n                            if (me.dragId != -1) {\r\n                                me.updateContainerStyle(me.dragId, { x: e.clientX - me.prePos.x, y: e.clientY - me.prePos.y });\r\n                                me.updateTargetElement();\r\n                                if (me.target.parentNode) me.attachTo(me.target);\r\n                                me.dragId = -1;\r\n                            }\r\n                            domUtils.un(me.doc, 'mousemove', me.proxy(me._eventHandler, me));\r\n                            //修复只是点击挪动点，但没有改变大小，不应该触发contentchange\r\n                            if (elementUpdated) {\r\n                                elementUpdated = false;\r\n                                me.editor.fireEvent('contentchange');\r\n                            }\r\n\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                },\r\n                updateTargetElement: function() {\r\n                    var me = this;\r\n                    domUtils.setStyles(me.target, {\r\n                        'width': me.resizer.style.width,\r\n                        'height': me.resizer.style.height\r\n                    });\r\n                    me.target.width = parseInt(me.resizer.style.width);\r\n                    me.target.height = parseInt(me.resizer.style.height);\r\n                    me.attachTo(me.target);\r\n                },\r\n                updateContainerStyle: function(dir, offset) {\r\n                    var me = this,\r\n                        dom = me.resizer,\r\n                        tmp;\r\n\r\n                    if (rect[dir][0] != 0) {\r\n                        tmp = parseInt(dom.style.left) + offset.x;\r\n                        dom.style.left = me._validScaledProp('left', tmp) + 'px';\r\n                    }\r\n                    if (rect[dir][1] != 0) {\r\n                        tmp = parseInt(dom.style.top) + offset.y;\r\n                        dom.style.top = me._validScaledProp('top', tmp) + 'px';\r\n                    }\r\n                    if (rect[dir][2] != 0) {\r\n                        tmp = dom.clientWidth + rect[dir][2] * offset.x;\r\n                        dom.style.width = me._validScaledProp('width', tmp) + 'px';\r\n                    }\r\n                    if (rect[dir][3] != 0) {\r\n                        tmp = dom.clientHeight + rect[dir][3] * offset.y;\r\n                        dom.style.height = me._validScaledProp('height', tmp) + 'px';\r\n                    }\r\n                },\r\n                _validScaledProp: function(prop, value) {\r\n                    var ele = this.resizer,\r\n                        wrap = document;\r\n\r\n                    value = isNaN(value) ? 0 : value;\r\n                    switch (prop) {\r\n                        case 'left':\r\n                            return value < 0 ? 0 : (value + ele.clientWidth) > wrap.clientWidth ? wrap.clientWidth - ele.clientWidth : value;\r\n                        case 'top':\r\n                            return value < 0 ? 0 : (value + ele.clientHeight) > wrap.clientHeight ? wrap.clientHeight - ele.clientHeight : value;\r\n                        case 'width':\r\n                            return value <= 0 ? 1 : (value + ele.offsetLeft) > wrap.clientWidth ? wrap.clientWidth - ele.offsetLeft : value;\r\n                        case 'height':\r\n                            return value <= 0 ? 1 : (value + ele.offsetTop) > wrap.clientHeight ? wrap.clientHeight - ele.offsetTop : value;\r\n                    }\r\n                },\r\n                hideCover: function() {\r\n                    this.cover.style.display = 'none';\r\n                },\r\n                showCover: function() {\r\n                    var me = this,\r\n                        editorPos = domUtils.getXY(me.editor.ui.getDom()),\r\n                        iframePos = domUtils.getXY(me.editor.iframe);\r\n\r\n                    domUtils.setStyles(me.cover, {\r\n                        'width': me.editor.iframe.offsetWidth + 'px',\r\n                        'height': me.editor.iframe.offsetHeight + 'px',\r\n                        'top': iframePos.y - editorPos.y + 'px',\r\n                        'left': iframePos.x - editorPos.x + 'px',\r\n                        'position': 'absolute',\r\n                        'display': ''\r\n                    })\r\n                },\r\n                show: function(targetObj) {\r\n                    var me = this;\r\n                    me.resizer.style.display = 'block';\r\n                    if (targetObj) me.attachTo(targetObj);\r\n\r\n                    domUtils.on(this.resizer, 'mousedown', me.proxy(me._eventHandler, me));\r\n                    domUtils.on(me.doc, 'mouseup', me.proxy(me._eventHandler, me));\r\n\r\n                    me.showCover();\r\n                    me.editor.fireEvent('afterscaleshow', me);\r\n                    me.editor.fireEvent('saveScene');\r\n                },\r\n                hide: function() {\r\n                    var me = this;\r\n                    me.hideCover();\r\n                    me.resizer.style.display = 'none';\r\n\r\n                    domUtils.un(me.resizer, 'mousedown', me.proxy(me._eventHandler, me));\r\n                    domUtils.un(me.doc, 'mouseup', me.proxy(me._eventHandler, me));\r\n                    me.editor.fireEvent('afterscalehide', me);\r\n                },\r\n                proxy: function(fn, context) {\r\n                    return function(e) {\r\n                        return fn.apply(context || this, arguments);\r\n                    };\r\n                },\r\n                attachTo: function(targetObj) {\r\n                    var me = this,\r\n                        target = me.target = targetObj,\r\n                        resizer = this.resizer,\r\n                        imgPos = domUtils.getXY(target),\r\n                        iframePos = domUtils.getXY(me.editor.iframe),\r\n                        editorPos = domUtils.getXY(resizer.parentNode);\r\n\r\n                    domUtils.setStyles(resizer, {\r\n                        'width': target.width + 'px',\r\n                        'height': target.height + 'px',\r\n                        'left': iframePos.x + imgPos.x - me.editor.document.body.scrollLeft - editorPos.x - parseInt(resizer.style.borderLeftWidth) + 'px',\r\n                        'top': iframePos.y + imgPos.y - me.editor.document.body.scrollTop - editorPos.y - parseInt(resizer.style.borderTopWidth) + 'px'\r\n                    });\r\n                }\r\n            }\r\n        })();\r\n\r\n        return function() {\r\n            var me = this,\r\n                imageScale;\r\n\r\n            me.setOpt('imageScaleEnabled', true);\r\n\r\n            if (!browser.ie && me.options.imageScaleEnabled) {\r\n                me.addListener('click', function(type, e) {\r\n\r\n                    var range = me.selection.getRange(),\r\n                        img = range.getClosedNode();\r\n\r\n                    if (img && img.tagName == 'IMG' && me.body.contentEditable != \"false\") {\r\n\r\n                        if (img.className.indexOf(\"edui-faked-music\") != -1 ||\r\n                            img.getAttribute(\"anchorname\") ||\r\n                            domUtils.hasClass(img, 'loadingclass') ||\r\n                            domUtils.hasClass(img, 'loaderrorclass')) { return }\r\n\r\n                        if (!imageScale) {\r\n                            imageScale = new Scale();\r\n                            imageScale.init(me);\r\n                            me.ui.getDom().appendChild(imageScale.resizer);\r\n\r\n                            var _keyDownHandler = function(e) {\r\n                                    imageScale.hide();\r\n                                    if (imageScale.target) me.selection.getRange().selectNode(imageScale.target).select();\r\n                                },\r\n                                _mouseDownHandler = function(e) {\r\n                                    var ele = e.target || e.srcElement;\r\n                                    if (ele && (ele.className === undefined || ele.className.indexOf('edui-editor-imagescale') == -1)) {\r\n                                        _keyDownHandler(e);\r\n                                    }\r\n                                },\r\n                                timer;\r\n\r\n                            me.addListener('afterscaleshow', function(e) {\r\n                                me.addListener('beforekeydown', _keyDownHandler);\r\n                                me.addListener('beforemousedown', _mouseDownHandler);\r\n                                domUtils.on(document, 'keydown', _keyDownHandler);\r\n                                domUtils.on(document, 'mousedown', _mouseDownHandler);\r\n                                me.selection.getNative().removeAllRanges();\r\n                            });\r\n                            me.addListener('afterscalehide', function(e) {\r\n                                me.removeListener('beforekeydown', _keyDownHandler);\r\n                                me.removeListener('beforemousedown', _mouseDownHandler);\r\n                                domUtils.un(document, 'keydown', _keyDownHandler);\r\n                                domUtils.un(document, 'mousedown', _mouseDownHandler);\r\n                                var target = imageScale.target;\r\n                                if (target.parentNode) {\r\n                                    me.selection.getRange().selectNode(target).select();\r\n                                }\r\n                            });\r\n                            //TODO 有iframe的情况，mousedown不能往下传。。\r\n                            domUtils.on(imageScale.resizer, 'mousedown', function(e) {\r\n                                me.selection.getNative().removeAllRanges();\r\n                                var ele = e.target || e.srcElement;\r\n                                if (ele && ele.className.indexOf('edui-editor-imagescale-hand') == -1) {\r\n                                    timer = setTimeout(function() {\r\n                                        imageScale.hide();\r\n                                        if (imageScale.target) me.selection.getRange().selectNode(ele).select();\r\n                                    }, 200);\r\n                                }\r\n                            });\r\n                            domUtils.on(imageScale.resizer, 'mouseup', function(e) {\r\n                                var ele = e.target || e.srcElement;\r\n                                if (ele && ele.className.indexOf('edui-editor-imagescale-hand') == -1) {\r\n                                    clearTimeout(timer);\r\n                                }\r\n                            });\r\n                        }\r\n                        imageScale.show(img);\r\n                    } else {\r\n                        if (imageScale && imageScale.resizer.style.display != 'none') imageScale.hide();\r\n                    }\r\n                });\r\n            }\r\n\r\n            if (browser.webkit) {\r\n                me.addListener('click', function(type, e) {\r\n                    if (e.target.tagName == 'IMG' && me.body.contentEditable != \"false\") {\r\n                        var range = new dom.Range(me.document);\r\n                        range.selectNode(e.target).select();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    })();\r\n\r\n    // plugins/autolink.js\r\n    ///import core\r\n    ///commands 为非ie浏览器自动添加a标签\r\n    ///commandsName  AutoLink\r\n    ///commandsTitle  自动增加链接\r\n    /**\r\n     * @description 为非ie浏览器自动添加a标签\r\n     * @author zhanyi\r\n     */\r\n\r\n    UE.plugin.register('autolink', function() {\r\n        var cont = 0;\r\n\r\n        return !browser.ie ? {\r\n\r\n            bindEvents: {\r\n                'reset': function() {\r\n                    cont = 0;\r\n                },\r\n                'keydown': function(type, evt) {\r\n                    var me = this;\r\n                    var keyCode = evt.keyCode || evt.which;\r\n\r\n                    if (keyCode == 32 || keyCode == 13) {\r\n\r\n                        var sel = me.selection.getNative(),\r\n                            range = sel.getRangeAt(0).cloneRange(),\r\n                            offset,\r\n                            charCode;\r\n\r\n                        var start = range.startContainer;\r\n                        while (start.nodeType == 1 && range.startOffset > 0) {\r\n                            start = range.startContainer.childNodes[range.startOffset - 1];\r\n                            if (!start) {\r\n                                break;\r\n                            }\r\n                            range.setStart(start, start.nodeType == 1 ? start.childNodes.length : start.nodeValue.length);\r\n                            range.collapse(true);\r\n                            start = range.startContainer;\r\n                        }\r\n\r\n                        do {\r\n                            if (range.startOffset == 0) {\r\n                                start = range.startContainer.previousSibling;\r\n\r\n                                while (start && start.nodeType == 1) {\r\n                                    start = start.lastChild;\r\n                                }\r\n                                if (!start || domUtils.isFillChar(start)) {\r\n                                    break;\r\n                                }\r\n                                offset = start.nodeValue.length;\r\n                            } else {\r\n                                start = range.startContainer;\r\n                                offset = range.startOffset;\r\n                            }\r\n                            range.setStart(start, offset - 1);\r\n                            charCode = range.toString().charCodeAt(0);\r\n                        } while (charCode != 160 && charCode != 32);\r\n\r\n                        if (range.toString().replace(new RegExp(domUtils.fillChar, 'g'), '').match(/(?:https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.)/i)) {\r\n                            while (range.toString().length) {\r\n                                if (/^(?:https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.)/i.test(range.toString())) {\r\n                                    break;\r\n                                }\r\n                                try {\r\n                                    range.setStart(range.startContainer, range.startOffset + 1);\r\n                                } catch (e) {\r\n                                    //trace:2121\r\n                                    var start = range.startContainer;\r\n                                    while (!(next = start.nextSibling)) {\r\n                                        if (domUtils.isBody(start)) {\r\n                                            return;\r\n                                        }\r\n                                        start = start.parentNode;\r\n\r\n                                    }\r\n                                    range.setStart(next, 0);\r\n\r\n                                }\r\n\r\n                            }\r\n                            //range的开始边界已经在a标签里的不再处理\r\n                            if (domUtils.findParentByTagName(range.startContainer, 'a', true)) {\r\n                                return;\r\n                            }\r\n                            var a = me.document.createElement('a'),\r\n                                text = me.document.createTextNode(' '),\r\n                                href;\r\n\r\n                            me.undoManger && me.undoManger.save();\r\n                            a.appendChild(range.extractContents());\r\n                            a.href = a.innerHTML = a.innerHTML.replace(/<[^>]+>/g, '');\r\n                            href = a.getAttribute(\"href\").replace(new RegExp(domUtils.fillChar, 'g'), '');\r\n                            href = /^(?:https?:\\/\\/)/ig.test(href) ? href : \"http://\" + href;\r\n                            a.setAttribute('_src', utils.html(href));\r\n                            a.href = utils.html(href);\r\n\r\n                            range.insertNode(a);\r\n                            a.parentNode.insertBefore(text, a.nextSibling);\r\n                            range.setStart(text, 0);\r\n                            range.collapse(true);\r\n                            sel.removeAllRanges();\r\n                            sel.addRange(range);\r\n                            me.undoManger && me.undoManger.save();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } : {}\r\n    }, function() {\r\n        var keyCodes = {\r\n            37: 1,\r\n            38: 1,\r\n            39: 1,\r\n            40: 1,\r\n            13: 1,\r\n            32: 1\r\n        };\r\n\r\n        function checkIsCludeLink(node) {\r\n            if (node.nodeType == 3) {\r\n                return null\r\n            }\r\n            if (node.nodeName == 'A') {\r\n                return node;\r\n            }\r\n            var lastChild = node.lastChild;\r\n\r\n            while (lastChild) {\r\n                if (lastChild.nodeName == 'A') {\r\n                    return lastChild;\r\n                }\r\n                if (lastChild.nodeType == 3) {\r\n                    if (domUtils.isWhitespace(lastChild)) {\r\n                        lastChild = lastChild.previousSibling;\r\n                        continue;\r\n                    }\r\n                    return null\r\n                }\r\n                lastChild = lastChild.lastChild;\r\n            }\r\n        }\r\n        browser.ie && this.addListener('keyup', function(cmd, evt) {\r\n            var me = this,\r\n                keyCode = evt.keyCode;\r\n            if (keyCodes[keyCode]) {\r\n                var rng = me.selection.getRange();\r\n                var start = rng.startContainer;\r\n\r\n                if (keyCode == 13) {\r\n                    while (start && !domUtils.isBody(start) && !domUtils.isBlockElm(start)) {\r\n                        start = start.parentNode;\r\n                    }\r\n                    if (start && !domUtils.isBody(start) && start.nodeName == 'P') {\r\n                        var pre = start.previousSibling;\r\n                        if (pre && pre.nodeType == 1) {\r\n                            var pre = checkIsCludeLink(pre);\r\n                            if (pre && !pre.getAttribute('_href')) {\r\n                                domUtils.remove(pre, true);\r\n                            }\r\n                        }\r\n                    }\r\n                } else if (keyCode == 32) {\r\n                    if (start.nodeType == 3 && /^\\s$/.test(start.nodeValue)) {\r\n                        start = start.previousSibling;\r\n                        if (start && start.nodeName == 'A' && !start.getAttribute('_href')) {\r\n                            domUtils.remove(start, true);\r\n                        }\r\n                    }\r\n                } else {\r\n                    start = domUtils.findParentByTagName(start, 'a', true);\r\n                    if (start && !start.getAttribute('_href')) {\r\n                        var bk = rng.createBookmark();\r\n\r\n                        domUtils.remove(start, true);\r\n                        rng.moveToBookmark(bk).select(true)\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n\r\n        });\r\n    });\r\n\r\n    // plugins/autoheight.js\r\n    ///import core\r\n    ///commands 当输入内容超过编辑器高度时，编辑器自动增高\r\n    ///commandsName  AutoHeight,autoHeightEnabled\r\n    ///commandsTitle  自动增高\r\n    /**\r\n     * @description 自动伸展\r\n     * @author zhanyi\r\n     */\r\n    UE.plugins['autoheight'] = function() {\r\n        var me = this;\r\n        //提供开关，就算加载也可以关闭\r\n        me.autoHeightEnabled = me.options.autoHeightEnabled !== false;\r\n        if (!me.autoHeightEnabled) {\r\n            return;\r\n        }\r\n\r\n        var bakOverflow,\r\n            lastHeight = 0,\r\n            options = me.options,\r\n            currentHeight,\r\n            timer;\r\n\r\n        function adjustHeight() {\r\n            var me = this;\r\n            clearTimeout(timer);\r\n            if (isFullscreen) return;\r\n            if (!me.queryCommandState || me.queryCommandState && me.queryCommandState('source') != 1) {\r\n                timer = setTimeout(function() {\r\n\r\n                    var node = me.body.lastChild;\r\n                    while (node && node.nodeType != 1) {\r\n                        node = node.previousSibling;\r\n                    }\r\n                    if (node && node.nodeType == 1) {\r\n                        node.style.clear = 'both';\r\n                        currentHeight = Math.max(domUtils.getXY(node).y + node.offsetHeight + 25, Math.max(options.minFrameHeight, options.initialFrameHeight));\r\n                        if (currentHeight != lastHeight) {\r\n                            if (currentHeight !== parseInt(me.iframe.parentNode.style.height)) {\r\n                                me.iframe.parentNode.style.height = currentHeight + 'px';\r\n                            }\r\n                            me.body.style.height = currentHeight + 'px';\r\n                            lastHeight = currentHeight;\r\n                        }\r\n                        domUtils.removeStyle(node, 'clear');\r\n                    }\r\n\r\n\r\n                }, 50)\r\n            }\r\n        }\r\n        var isFullscreen;\r\n        me.addListener('fullscreenchanged', function(cmd, f) {\r\n            isFullscreen = f\r\n        });\r\n        me.addListener('destroy', function() {\r\n            me.removeListener('contentchange afterinserthtml keyup mouseup', adjustHeight)\r\n        });\r\n        me.enableAutoHeight = function() {\r\n            var me = this;\r\n            if (!me.autoHeightEnabled) {\r\n                return;\r\n            }\r\n            var doc = me.document;\r\n            me.autoHeightEnabled = true;\r\n            bakOverflow = doc.body.style.overflowY;\r\n            doc.body.style.overflowY = 'hidden';\r\n            me.addListener('contentchange afterinserthtml keyup mouseup', adjustHeight);\r\n            //ff不给事件算得不对\r\n\r\n            setTimeout(function() {\r\n                adjustHeight.call(me);\r\n            }, browser.gecko ? 100 : 0);\r\n            me.fireEvent('autoheightchanged', me.autoHeightEnabled);\r\n        };\r\n        me.disableAutoHeight = function() {\r\n\r\n            me.body.style.overflowY = bakOverflow || '';\r\n\r\n            me.removeListener('contentchange', adjustHeight);\r\n            me.removeListener('keyup', adjustHeight);\r\n            me.removeListener('mouseup', adjustHeight);\r\n            me.autoHeightEnabled = false;\r\n            me.fireEvent('autoheightchanged', me.autoHeightEnabled);\r\n        };\r\n\r\n        me.on('setHeight', function() {\r\n            me.disableAutoHeight()\r\n        });\r\n        me.addListener('ready', function() {\r\n            me.enableAutoHeight();\r\n            //trace:1764\r\n            var timer;\r\n            domUtils.on(browser.ie ? me.body : me.document, browser.webkit ? 'dragover' : 'drop', function() {\r\n                clearTimeout(timer);\r\n                timer = setTimeout(function() {\r\n                    //trace:3681\r\n                    adjustHeight.call(me);\r\n                }, 100);\r\n\r\n            });\r\n            //修复内容过多时，回到顶部，顶部内容被工具栏遮挡问题\r\n            var lastScrollY;\r\n            window.onscroll = function() {\r\n                if (lastScrollY === null) {\r\n                    lastScrollY = this.scrollY\r\n                } else if (this.scrollY == 0 && lastScrollY != 0) {\r\n                    me.window.scrollTo(0, 0);\r\n                    lastScrollY = null;\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    };\r\n\r\n\r\n\r\n    // plugins/autofloat.js\r\n    ///import core\r\n    ///commands 悬浮工具栏\r\n    ///commandsName  AutoFloat,autoFloatEnabled\r\n    ///commandsTitle  悬浮工具栏\r\n    /**\r\n     *  modified by chengchao01\r\n     *  注意： 引入此功能后，在IE6下会将body的背景图片覆盖掉！\r\n     */\r\n    UE.plugins['autofloat'] = function() {\r\n        var me = this,\r\n            lang = me.getLang();\r\n        me.setOpt({\r\n            topOffset: 0\r\n        });\r\n        var optsAutoFloatEnabled = me.options.autoFloatEnabled !== false,\r\n            topOffset = me.options.topOffset;\r\n\r\n\r\n        //如果不固定toolbar的位置，则直接退出\r\n        if (!optsAutoFloatEnabled) {\r\n            return;\r\n        }\r\n        var uiUtils = UE.ui.uiUtils,\r\n            LteIE6 = browser.ie && browser.version <= 6,\r\n            quirks = browser.quirks;\r\n\r\n        function checkHasUI() {\r\n            if (!UE.ui) {\r\n                alert(lang.autofloatMsg);\r\n                return 0;\r\n            }\r\n            return 1;\r\n        }\r\n\r\n        function fixIE6FixedPos() {\r\n            var docStyle = document.body.style;\r\n            docStyle.backgroundImage = 'url(\"about:blank\")';\r\n            docStyle.backgroundAttachment = 'fixed';\r\n        }\r\n        var bakCssText,\r\n            placeHolder = document.createElement('div'),\r\n            toolbarBox, orgTop,\r\n            getPosition,\r\n            flag = true; //ie7模式下需要偏移\r\n        function setFloating() {\r\n            var toobarBoxPos = domUtils.getXY(toolbarBox),\r\n                origalFloat = domUtils.getComputedStyle(toolbarBox, 'position'),\r\n                origalLeft = domUtils.getComputedStyle(toolbarBox, 'left');\r\n            toolbarBox.style.width = toolbarBox.offsetWidth + 'px';\r\n            toolbarBox.style.zIndex = me.options.zIndex * 1 + 1;\r\n            toolbarBox.parentNode.insertBefore(placeHolder, toolbarBox);\r\n            if (LteIE6 || (quirks && browser.ie)) {\r\n                if (toolbarBox.style.position != 'absolute') {\r\n                    toolbarBox.style.position = 'absolute';\r\n                }\r\n                toolbarBox.style.top = (document.body.scrollTop || document.documentElement.scrollTop) - orgTop + topOffset + 'px';\r\n            } else {\r\n                if (browser.ie7Compat && flag) {\r\n                    flag = false;\r\n                    toolbarBox.style.left = domUtils.getXY(toolbarBox).x - document.documentElement.getBoundingClientRect().left + 2 + 'px';\r\n                }\r\n                if (toolbarBox.style.position != 'fixed') {\r\n                    toolbarBox.style.position = 'fixed';\r\n                    toolbarBox.style.top = topOffset + \"px\";\r\n                    ((origalFloat == 'absolute' || origalFloat == 'relative') && parseFloat(origalLeft)) && (toolbarBox.style.left = toobarBoxPos.x + 'px');\r\n                }\r\n            }\r\n        }\r\n\r\n        function unsetFloating() {\r\n            flag = true;\r\n            if (placeHolder.parentNode) {\r\n                placeHolder.parentNode.removeChild(placeHolder);\r\n            }\r\n\r\n            toolbarBox.style.cssText = bakCssText;\r\n        }\r\n\r\n        function updateFloating() {\r\n            var rect3 = getPosition(me.container);\r\n            var offset = me.options.toolbarTopOffset || 0;\r\n            if (rect3.top < 0 && rect3.bottom - toolbarBox.offsetHeight > offset) {\r\n                setFloating();\r\n            } else {\r\n                unsetFloating();\r\n            }\r\n        }\r\n        var defer_updateFloating = utils.defer(function() {\r\n            updateFloating();\r\n        }, browser.ie ? 200 : 100, true);\r\n\r\n        me.addListener('destroy', function() {\r\n            domUtils.un(window, ['scroll', 'resize'], updateFloating);\r\n            me.removeListener('keydown', defer_updateFloating);\r\n        });\r\n\r\n        me.addListener('ready', function() {\r\n            if (checkHasUI(me)) {\r\n                //加载了ui组件，但在new时，没有加载ui，导致编辑器实例上没有ui类，所以这里做判断\r\n                if (!me.ui) {\r\n                    return;\r\n                }\r\n                getPosition = uiUtils.getClientRect;\r\n                toolbarBox = me.ui.getDom('toolbarbox');\r\n                orgTop = getPosition(toolbarBox).top;\r\n                bakCssText = toolbarBox.style.cssText;\r\n                placeHolder.style.height = toolbarBox.offsetHeight + 'px';\r\n                if (LteIE6) {\r\n                    fixIE6FixedPos();\r\n                }\r\n                domUtils.on(window, ['scroll', 'resize'], updateFloating);\r\n                me.addListener('keydown', defer_updateFloating);\r\n\r\n                me.addListener('beforefullscreenchange', function(t, enabled) {\r\n                    if (enabled) {\r\n                        unsetFloating();\r\n                    }\r\n                });\r\n                me.addListener('fullscreenchanged', function(t, enabled) {\r\n                    if (!enabled) {\r\n                        updateFloating();\r\n                    }\r\n                });\r\n                me.addListener('sourcemodechanged', function(t, enabled) {\r\n                    setTimeout(function() {\r\n                        updateFloating();\r\n                    }, 0);\r\n                });\r\n                me.addListener(\"clearDoc\", function() {\r\n                    setTimeout(function() {\r\n                        updateFloating();\r\n                    }, 0);\r\n\r\n                })\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    // plugins/video.js\r\n    /**\r\n     * video插件， 为UEditor提供视频插入支持\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    UE.plugins['video'] = function() {\r\n        var me = this;\r\n\r\n        /**\r\n         * 创建插入视频字符窜\r\n         * @param url 视频地址\r\n         * @param width 视频宽度\r\n         * @param height 视频高度\r\n         * @param align 视频对齐\r\n         * @param toEmbed 是否以flash代替显示\r\n         * @param addParagraph  是否需要添加P 标签\r\n         */\r\n        function creatInsertStr(url, width, height, id, align, classname, type) {\r\n\r\n            url = utils.unhtmlForUrl(url);\r\n            align = utils.unhtml(align);\r\n            classname = utils.unhtml(classname);\r\n\r\n            width = parseInt(width, 10) || 0;\r\n            height = parseInt(height, 10) || 0;\r\n\r\n            var str;\r\n            switch (type) {\r\n                case 'image':\r\n                    str = '<img ' + (id ? 'id=\"' + id + '\"' : '') + ' width=\"' + width + '\" height=\"' + height + '\" _url=\"' + url + '\" class=\"' + classname.replace(/\\bvideo-js\\b/, '') + '\"' +\r\n                        ' src=\"' + me.options.UEDITOR_HOME_URL + 'themes/default/images/spacer.gif\" style=\"background:url(' + me.options.UEDITOR_HOME_URL + 'themes/default/images/videologo.gif) no-repeat center center; border:1px solid gray;' + (align ? 'float:' + align + ';' : '') + '\" />'\r\n                    break;\r\n                case 'embed':\r\n                    str = '<embed type=\"application/x-shockwave-flash\" class=\"' + classname + '\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\"' +\r\n                        ' src=\"' + utils.html(url) + '\" width=\"' + width + '\" height=\"' + height + '\"' + (align ? ' style=\"float:' + align + '\"' : '') +\r\n                        ' wmode=\"transparent\" play=\"true\" loop=\"false\" menu=\"false\" allowscriptaccess=\"never\" allowfullscreen=\"true\" >';\r\n                    break;\r\n                case 'video':\r\n                    var ext = url.substr(url.lastIndexOf('.') + 1);\r\n                    if (ext == 'ogv') ext = 'ogg';\r\n                    str = '<video' + (id ? ' id=\"' + id + '\"' : '') + ' class=\"' + classname + ' video-js\" ' + (align ? ' style=\"float:' + align + '\"' : '') +\r\n                        ' controls preload=\"none\" width=\"' + width + '\" height=\"' + height + '\" src=\"' + url + '\" data-setup=\"{}\">' +\r\n                        '<source src=\"' + url + '\" type=\"video/' + ext + '\" /></video>';\r\n                    break;\r\n            }\r\n            return str;\r\n        }\r\n\r\n        function switchImgAndVideo(root, img2video) {\r\n            utils.each(root.getNodesByTagName(img2video ? 'img' : 'embed video'), function(node) {\r\n                var className = node.getAttr('class');\r\n                if (className && className.indexOf('edui-faked-video') != -1) {\r\n                    var html = creatInsertStr(img2video ? node.getAttr('_url') : node.getAttr('src'), node.getAttr('width'), node.getAttr('height'), null, node.getStyle('float') || '', className, img2video ? 'embed' : 'image');\r\n                    node.parentNode.replaceChild(UE.uNode.createElement(html), node);\r\n                }\r\n                if (className && className.indexOf('edui-upload-video') != -1) {\r\n                    var html = creatInsertStr(img2video ? node.getAttr('_url') : node.getAttr('src'), node.getAttr('width'), node.getAttr('height'), null, node.getStyle('float') || '', className, img2video ? 'video' : 'image');\r\n                    node.parentNode.replaceChild(UE.uNode.createElement(html), node);\r\n                }\r\n            })\r\n        }\r\n\r\n        me.addOutputRule(function(root) {\r\n            switchImgAndVideo(root, true)\r\n        });\r\n        me.addInputRule(function(root) {\r\n            switchImgAndVideo(root)\r\n        });\r\n\r\n        /**\r\n         * 插入视频\r\n         * @command insertvideo\r\n         * @method execCommand\r\n         * @param { String } cmd 命令字符串\r\n         * @param { Object } videoAttr 键值对对象， 描述一个视频的所有属性\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var videoAttr = {\r\n         *      //视频地址\r\n         *      url: 'http://www.youku.com/xxx',\r\n         *      //视频宽高值， 单位px\r\n         *      width: 200,\r\n         *      height: 100\r\n         * };\r\n         *\r\n         * //editor 是编辑器实例\r\n         * //向编辑器插入单个视频\r\n         * editor.execCommand( 'insertvideo', videoAttr );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 插入视频\r\n         * @command insertvideo\r\n         * @method execCommand\r\n         * @param { String } cmd 命令字符串\r\n         * @param { Array } videoArr 需要插入的视频的数组， 其中的每一个元素都是一个键值对对象， 描述了一个视频的所有属性\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var videoAttr1 = {\r\n         *      //视频地址\r\n         *      url: 'http://www.youku.com/xxx',\r\n         *      //视频宽高值， 单位px\r\n         *      width: 200,\r\n         *      height: 100\r\n         * },\r\n         * videoAttr2 = {\r\n         *      //视频地址\r\n         *      url: 'http://www.youku.com/xxx',\r\n         *      //视频宽高值， 单位px\r\n         *      width: 200,\r\n         *      height: 100\r\n         * }\r\n         *\r\n         * //editor 是编辑器实例\r\n         * //该方法将会向编辑器内插入两个视频\r\n         * editor.execCommand( 'insertvideo', [ videoAttr1, videoAttr2 ] );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 查询当前光标所在处是否是一个视频\r\n         * @command insertvideo\r\n         * @method queryCommandState\r\n         * @param { String } cmd 需要查询的命令字符串\r\n         * @return { int } 如果当前光标所在处的元素是一个视频对象， 则返回1，否则返回0\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * //editor 是编辑器实例\r\n         * editor.queryCommandState( 'insertvideo' );\r\n         * ```\r\n         */\r\n        me.commands[\"insertvideo\"] = {\r\n            execCommand: function(cmd, videoObjs, type) {\r\n                videoObjs = utils.isArray(videoObjs) ? videoObjs : [videoObjs];\r\n                var html = [],\r\n                    id = 'tmpVedio',\r\n                    cl;\r\n                for (var i = 0, vi, len = videoObjs.length; i < len; i++) {\r\n                    vi = videoObjs[i];\r\n                    cl = (type == 'upload' ? 'edui-upload-video video-js vjs-default-skin' : 'edui-faked-video');\r\n                    html.push(creatInsertStr(vi.url, vi.width || 420, vi.height || 280, id + i, null, cl, 'image'));\r\n                }\r\n                me.execCommand(\"inserthtml\", html.join(\"\"), true);\r\n                var rng = this.selection.getRange();\r\n                for (var i = 0, len = videoObjs.length; i < len; i++) {\r\n                    var img = this.document.getElementById('tmpVedio' + i);\r\n                    domUtils.removeAttributes(img, 'id');\r\n                    rng.selectNode(img).select();\r\n                    me.execCommand('imagefloat', videoObjs[i].align)\r\n                }\r\n            },\r\n            queryCommandState: function() {\r\n                var img = me.selection.getRange().getClosedNode(),\r\n                    flag = img && (img.className == \"edui-faked-video\" || img.className.indexOf(\"edui-upload-video\") != -1);\r\n                return flag ? 1 : 0;\r\n            }\r\n        };\r\n    };\r\n\r\n\r\n    // plugins/table.core.js\r\n    /**\r\n     * Created with JetBrains WebStorm.\r\n     * User: taoqili\r\n     * Date: 13-1-18\r\n     * Time: 上午11:09\r\n     * To change this template use File | Settings | File Templates.\r\n     */\r\n    /**\r\n     * UE表格操作类\r\n     * @param table\r\n     * @constructor\r\n     */\r\n    (function() {\r\n        var UETable = UE.UETable = function(table) {\r\n            this.table = table;\r\n            this.indexTable = [];\r\n            this.selectedTds = [];\r\n            this.cellsRange = {};\r\n            this.update(table);\r\n        };\r\n\r\n        //===以下为静态工具方法===\r\n        UETable.removeSelectedClass = function(cells) {\r\n            utils.each(cells, function(cell) {\r\n                domUtils.removeClasses(cell, \"selectTdClass\");\r\n            })\r\n        };\r\n        UETable.addSelectedClass = function(cells) {\r\n            utils.each(cells, function(cell) {\r\n                domUtils.addClass(cell, \"selectTdClass\");\r\n            })\r\n        };\r\n        UETable.isEmptyBlock = function(node) {\r\n            var reg = new RegExp(domUtils.fillChar, 'g');\r\n            if (node[browser.ie ? 'innerText' : 'textContent'].replace(/^\\s*$/, '').replace(reg, '').length > 0) {\r\n                return 0;\r\n            }\r\n            for (var i in dtd.$isNotEmpty)\r\n                if (dtd.$isNotEmpty.hasOwnProperty(i)) {\r\n                    if (node.getElementsByTagName(i).length) {\r\n                        return 0;\r\n                    }\r\n                }\r\n            return 1;\r\n        };\r\n        UETable.getWidth = function(cell) {\r\n            if (!cell) return 0;\r\n            return parseInt(domUtils.getComputedStyle(cell, \"width\"), 10);\r\n        };\r\n\r\n        /**\r\n         * 获取单元格或者单元格组的“对齐”状态。 如果当前的检测对象是一个单元格组， 只有在满足所有单元格的 水平和竖直 对齐属性都相同的\r\n         * 条件时才会返回其状态值，否则将返回null； 如果当前只检测了一个单元格， 则直接返回当前单元格的对齐状态；\r\n         * @param table cell or table cells , 支持单个单元格dom对象 或者 单元格dom对象数组\r\n         * @return { align: 'left' || 'right' || 'center', valign: 'top' || 'middle' || 'bottom' } 或者 null\r\n         */\r\n        UETable.getTableCellAlignState = function(cells) {\r\n\r\n            !utils.isArray(cells) && (cells = [cells]);\r\n\r\n            var result = {},\r\n                status = ['align', 'valign'],\r\n                tempStatus = null,\r\n                isSame = true; //状态是否相同\r\n\r\n            utils.each(cells, function(cellNode) {\r\n\r\n                utils.each(status, function(currentState) {\r\n\r\n                    tempStatus = cellNode.getAttribute(currentState);\r\n\r\n                    if (!result[currentState] && tempStatus) {\r\n                        result[currentState] = tempStatus;\r\n                    } else if (!result[currentState] || (tempStatus !== result[currentState])) {\r\n                        isSame = false;\r\n                        return false;\r\n                    }\r\n\r\n                });\r\n\r\n                return isSame;\r\n\r\n            });\r\n\r\n            return isSame ? result : null;\r\n\r\n        };\r\n\r\n        /**\r\n         * 根据当前选区获取相关的table信息\r\n         * @return {Object}\r\n         */\r\n        UETable.getTableItemsByRange = function(editor) {\r\n            var start = editor.selection.getStart();\r\n\r\n            //ff下会选中bookmark\r\n            if (start && start.id && start.id.indexOf('_baidu_bookmark_start_') === 0 && start.nextSibling) {\r\n                start = start.nextSibling;\r\n            }\r\n\r\n            //在table或者td边缘有可能存在选中tr的情况\r\n            var cell = start && domUtils.findParentByTagName(start, [\"td\", \"th\"], true),\r\n                tr = cell && cell.parentNode,\r\n                caption = start && domUtils.findParentByTagName(start, 'caption', true),\r\n                table = caption ? caption.parentNode : tr && tr.parentNode.parentNode;\r\n\r\n            return {\r\n                cell: cell,\r\n                tr: tr,\r\n                table: table,\r\n                caption: caption\r\n            }\r\n        };\r\n        UETable.getUETableBySelected = function(editor) {\r\n            var table = UETable.getTableItemsByRange(editor).table;\r\n            if (table && table.ueTable && table.ueTable.selectedTds.length) {\r\n                return table.ueTable;\r\n            }\r\n            return null;\r\n        };\r\n\r\n        UETable.getDefaultValue = function(editor, table) {\r\n            var borderMap = {\r\n                    thin: '0px',\r\n                    medium: '1px',\r\n                    thick: '2px'\r\n                },\r\n                tableBorder, tdPadding, tdBorder, tmpValue;\r\n            if (!table) {\r\n                table = editor.document.createElement('table');\r\n                table.insertRow(0).insertCell(0).innerHTML = 'xxx';\r\n                editor.body.appendChild(table);\r\n                var td = table.getElementsByTagName('td')[0];\r\n                tmpValue = domUtils.getComputedStyle(table, 'border-left-width');\r\n                tableBorder = parseInt(borderMap[tmpValue] || tmpValue, 10);\r\n                tmpValue = domUtils.getComputedStyle(td, 'padding-left');\r\n                tdPadding = parseInt(borderMap[tmpValue] || tmpValue, 10);\r\n                tmpValue = domUtils.getComputedStyle(td, 'border-left-width');\r\n                tdBorder = parseInt(borderMap[tmpValue] || tmpValue, 10);\r\n                domUtils.remove(table);\r\n                return {\r\n                    tableBorder: tableBorder,\r\n                    tdPadding: tdPadding,\r\n                    tdBorder: tdBorder\r\n                };\r\n            } else {\r\n                td = table.getElementsByTagName('td')[0];\r\n                tmpValue = domUtils.getComputedStyle(table, 'border-left-width');\r\n                tableBorder = parseInt(borderMap[tmpValue] || tmpValue, 10);\r\n                tmpValue = domUtils.getComputedStyle(td, 'padding-left');\r\n                tdPadding = parseInt(borderMap[tmpValue] || tmpValue, 10);\r\n                tmpValue = domUtils.getComputedStyle(td, 'border-left-width');\r\n                tdBorder = parseInt(borderMap[tmpValue] || tmpValue, 10);\r\n                return {\r\n                    tableBorder: tableBorder,\r\n                    tdPadding: tdPadding,\r\n                    tdBorder: tdBorder\r\n                };\r\n            }\r\n        };\r\n        /**\r\n         * 根据当前点击的td或者table获取索引对象\r\n         * @param tdOrTable\r\n         */\r\n        UETable.getUETable = function(tdOrTable) {\r\n            var tag = tdOrTable.tagName.toLowerCase();\r\n            tdOrTable = (tag == \"td\" || tag == \"th\" || tag == 'caption') ? domUtils.findParentByTagName(tdOrTable, \"table\", true) : tdOrTable;\r\n            if (!tdOrTable.ueTable) {\r\n                tdOrTable.ueTable = new UETable(tdOrTable);\r\n            }\r\n            return tdOrTable.ueTable;\r\n        };\r\n\r\n        UETable.cloneCell = function(cell, ignoreMerge, keepPro) {\r\n            if (!cell || utils.isString(cell)) {\r\n                return this.table.ownerDocument.createElement(cell || 'td');\r\n            }\r\n            var flag = domUtils.hasClass(cell, \"selectTdClass\");\r\n            flag && domUtils.removeClasses(cell, \"selectTdClass\");\r\n            var tmpCell = cell.cloneNode(true);\r\n            if (ignoreMerge) {\r\n                tmpCell.rowSpan = tmpCell.colSpan = 1;\r\n            }\r\n            //去掉宽高\r\n            !keepPro && domUtils.removeAttributes(tmpCell, 'width height');\r\n            !keepPro && domUtils.removeAttributes(tmpCell, 'style');\r\n\r\n            tmpCell.style.borderLeftStyle = \"\";\r\n            tmpCell.style.borderTopStyle = \"\";\r\n            tmpCell.style.borderLeftColor = cell.style.borderRightColor;\r\n            tmpCell.style.borderLeftWidth = cell.style.borderRightWidth;\r\n            tmpCell.style.borderTopColor = cell.style.borderBottomColor;\r\n            tmpCell.style.borderTopWidth = cell.style.borderBottomWidth;\r\n            flag && domUtils.addClass(cell, \"selectTdClass\");\r\n            return tmpCell;\r\n        }\r\n\r\n        UETable.prototype = {\r\n            getMaxRows: function() {\r\n                var rows = this.table.rows,\r\n                    maxLen = 1;\r\n                for (var i = 0, row; row = rows[i]; i++) {\r\n                    var currentMax = 1;\r\n                    for (var j = 0, cj; cj = row.cells[j++];) {\r\n                        currentMax = Math.max(cj.rowSpan || 1, currentMax);\r\n                    }\r\n                    maxLen = Math.max(currentMax + i, maxLen);\r\n                }\r\n                return maxLen;\r\n            },\r\n            /**\r\n             * 获取当前表格的最大列数\r\n             */\r\n            getMaxCols: function() {\r\n                var rows = this.table.rows,\r\n                    maxLen = 0,\r\n                    cellRows = {};\r\n                for (var i = 0, row; row = rows[i]; i++) {\r\n                    var cellsNum = 0;\r\n                    for (var j = 0, cj; cj = row.cells[j++];) {\r\n                        cellsNum += (cj.colSpan || 1);\r\n                        if (cj.rowSpan && cj.rowSpan > 1) {\r\n                            for (var k = 1; k < cj.rowSpan; k++) {\r\n                                if (!cellRows['row_' + (i + k)]) {\r\n                                    cellRows['row_' + (i + k)] = (cj.colSpan || 1);\r\n                                } else {\r\n                                    cellRows['row_' + (i + k)]++\r\n                                }\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                    cellsNum += cellRows['row_' + i] || 0;\r\n                    maxLen = Math.max(cellsNum, maxLen);\r\n                }\r\n                return maxLen;\r\n            },\r\n            getCellColIndex: function(cell) {\r\n\r\n            },\r\n            /**\r\n             * 获取当前cell旁边的单元格，\r\n             * @param cell\r\n             * @param right\r\n             */\r\n            getHSideCell: function(cell, right) {\r\n                try {\r\n                    var cellInfo = this.getCellInfo(cell),\r\n                        previewRowIndex, previewColIndex;\r\n                    var len = this.selectedTds.length,\r\n                        range = this.cellsRange;\r\n                    //首行或者首列没有前置单元格\r\n                    if ((!right && (!len ? !cellInfo.colIndex : !range.beginColIndex)) || (right && (!len ? (cellInfo.colIndex == (this.colsNum - 1)) : (range.endColIndex == this.colsNum - 1)))) return null;\r\n\r\n                    previewRowIndex = !len ? cellInfo.rowIndex : range.beginRowIndex;\r\n                    previewColIndex = !right ? (!len ? (cellInfo.colIndex < 1 ? 0 : (cellInfo.colIndex - 1)) : range.beginColIndex - 1) :\r\n                        (!len ? cellInfo.colIndex + 1 : range.endColIndex + 1);\r\n                    return this.getCell(this.indexTable[previewRowIndex][previewColIndex].rowIndex, this.indexTable[previewRowIndex][previewColIndex].cellIndex);\r\n                } catch (e) {\r\n                    showError(e);\r\n                }\r\n            },\r\n            getTabNextCell: function(cell, preRowIndex) {\r\n                var cellInfo = this.getCellInfo(cell),\r\n                    rowIndex = preRowIndex || cellInfo.rowIndex,\r\n                    colIndex = cellInfo.colIndex + 1 + (cellInfo.colSpan - 1),\r\n                    nextCell;\r\n                try {\r\n                    nextCell = this.getCell(this.indexTable[rowIndex][colIndex].rowIndex, this.indexTable[rowIndex][colIndex].cellIndex);\r\n                } catch (e) {\r\n                    try {\r\n                        rowIndex = rowIndex * 1 + 1;\r\n                        colIndex = 0;\r\n                        nextCell = this.getCell(this.indexTable[rowIndex][colIndex].rowIndex, this.indexTable[rowIndex][colIndex].cellIndex);\r\n                    } catch (e) {}\r\n                }\r\n                return nextCell;\r\n\r\n            },\r\n            /**\r\n             * 获取视觉上的后置单元格\r\n             * @param cell\r\n             * @param bottom\r\n             */\r\n            getVSideCell: function(cell, bottom, ignoreRange) {\r\n                try {\r\n                    var cellInfo = this.getCellInfo(cell),\r\n                        nextRowIndex, nextColIndex;\r\n                    var len = this.selectedTds.length && !ignoreRange,\r\n                        range = this.cellsRange;\r\n                    //末行或者末列没有后置单元格\r\n                    if ((!bottom && (cellInfo.rowIndex == 0)) || (bottom && (!len ? (cellInfo.rowIndex + cellInfo.rowSpan > this.rowsNum - 1) : (range.endRowIndex == this.rowsNum - 1)))) return null;\r\n\r\n                    nextRowIndex = !bottom ? (!len ? cellInfo.rowIndex - 1 : range.beginRowIndex - 1) :\r\n                        (!len ? (cellInfo.rowIndex + cellInfo.rowSpan) : range.endRowIndex + 1);\r\n                    nextColIndex = !len ? cellInfo.colIndex : range.beginColIndex;\r\n                    return this.getCell(this.indexTable[nextRowIndex][nextColIndex].rowIndex, this.indexTable[nextRowIndex][nextColIndex].cellIndex);\r\n                } catch (e) {\r\n                    showError(e);\r\n                }\r\n            },\r\n            /**\r\n             * 获取相同结束位置的单元格，xOrY指代了是获取x轴相同还是y轴相同\r\n             */\r\n            getSameEndPosCells: function(cell, xOrY) {\r\n                try {\r\n                    var flag = (xOrY.toLowerCase() === \"x\"),\r\n                        end = domUtils.getXY(cell)[flag ? 'x' : 'y'] + cell[\"offset\" + (flag ? 'Width' : 'Height')],\r\n                        rows = this.table.rows,\r\n                        cells = null,\r\n                        returns = [];\r\n                    for (var i = 0; i < this.rowsNum; i++) {\r\n                        cells = rows[i].cells;\r\n                        for (var j = 0, tmpCell; tmpCell = cells[j++];) {\r\n                            var tmpEnd = domUtils.getXY(tmpCell)[flag ? 'x' : 'y'] + tmpCell[\"offset\" + (flag ? 'Width' : 'Height')];\r\n                            //对应行的td已经被上面行rowSpan了\r\n                            if (tmpEnd > end && flag) break;\r\n                            if (cell == tmpCell || end == tmpEnd) {\r\n                                //只获取单一的单元格\r\n                                //todo 仅获取单一单元格在特定情况下会造成returns为空，从而影响后续的拖拽实现，修正这个。需考虑性能\r\n                                if (tmpCell[flag ? \"colSpan\" : \"rowSpan\"] == 1) {\r\n                                    returns.push(tmpCell);\r\n                                }\r\n                                if (flag) break;\r\n                            }\r\n                        }\r\n                    }\r\n                    return returns;\r\n                } catch (e) {\r\n                    showError(e);\r\n                }\r\n            },\r\n            setCellContent: function(cell, content) {\r\n                cell.innerHTML = content || (browser.ie ? domUtils.fillChar : \"<br />\");\r\n            },\r\n            cloneCell: UETable.cloneCell,\r\n            /**\r\n             * 获取跟当前单元格的右边竖线为左边的所有未合并单元格\r\n             */\r\n            getSameStartPosXCells: function(cell) {\r\n                try {\r\n                    var start = domUtils.getXY(cell).x + cell.offsetWidth,\r\n                        rows = this.table.rows,\r\n                        cells, returns = [];\r\n                    for (var i = 0; i < this.rowsNum; i++) {\r\n                        cells = rows[i].cells;\r\n                        for (var j = 0, tmpCell; tmpCell = cells[j++];) {\r\n                            var tmpStart = domUtils.getXY(tmpCell).x;\r\n                            if (tmpStart > start) break;\r\n                            if (tmpStart == start && tmpCell.colSpan == 1) {\r\n                                returns.push(tmpCell);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    return returns;\r\n                } catch (e) {\r\n                    showError(e);\r\n                }\r\n            },\r\n            /**\r\n             * 更新table对应的索引表\r\n             */\r\n            update: function(table) {\r\n                this.table = table || this.table;\r\n                this.selectedTds = [];\r\n                this.cellsRange = {};\r\n                this.indexTable = [];\r\n                var rows = this.table.rows,\r\n                    rowsNum = this.getMaxRows(),\r\n                    dNum = rowsNum - rows.length,\r\n                    colsNum = this.getMaxCols();\r\n                while (dNum--) {\r\n                    this.table.insertRow(rows.length);\r\n                }\r\n                this.rowsNum = rowsNum;\r\n                this.colsNum = colsNum;\r\n                for (var i = 0, len = rows.length; i < len; i++) {\r\n                    this.indexTable[i] = new Array(colsNum);\r\n                }\r\n                //填充索引表\r\n                for (var rowIndex = 0, row; row = rows[rowIndex]; rowIndex++) {\r\n                    for (var cellIndex = 0, cell, cells = row.cells; cell = cells[cellIndex]; cellIndex++) {\r\n                        //修正整行被rowSpan时导致的行数计算错误\r\n                        if (cell.rowSpan > rowsNum) {\r\n                            cell.rowSpan = rowsNum;\r\n                        }\r\n                        var colIndex = cellIndex,\r\n                            rowSpan = cell.rowSpan || 1,\r\n                            colSpan = cell.colSpan || 1;\r\n                        //当已经被上一行rowSpan或者被前一列colSpan了，则跳到下一个单元格进行\r\n                        while (this.indexTable[rowIndex][colIndex]) colIndex++;\r\n                        for (var j = 0; j < rowSpan; j++) {\r\n                            for (var k = 0; k < colSpan; k++) {\r\n                                this.indexTable[rowIndex + j][colIndex + k] = {\r\n                                    rowIndex: rowIndex,\r\n                                    cellIndex: cellIndex,\r\n                                    colIndex: colIndex,\r\n                                    rowSpan: rowSpan,\r\n                                    colSpan: colSpan\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                //修复残缺td\r\n                for (j = 0; j < rowsNum; j++) {\r\n                    for (k = 0; k < colsNum; k++) {\r\n                        if (this.indexTable[j][k] === undefined) {\r\n                            row = rows[j];\r\n                            cell = row.cells[row.cells.length - 1];\r\n                            cell = cell ? cell.cloneNode(true) : this.table.ownerDocument.createElement(\"td\");\r\n                            this.setCellContent(cell);\r\n                            if (cell.colSpan !== 1) cell.colSpan = 1;\r\n                            if (cell.rowSpan !== 1) cell.rowSpan = 1;\r\n                            row.appendChild(cell);\r\n                            this.indexTable[j][k] = {\r\n                                rowIndex: j,\r\n                                cellIndex: cell.cellIndex,\r\n                                colIndex: k,\r\n                                rowSpan: 1,\r\n                                colSpan: 1\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                //当框选后删除行或者列后撤销，需要重建选区。\r\n                var tds = domUtils.getElementsByTagName(this.table, \"td\"),\r\n                    selectTds = [];\r\n                utils.each(tds, function(td) {\r\n                    if (domUtils.hasClass(td, \"selectTdClass\")) {\r\n                        selectTds.push(td);\r\n                    }\r\n                });\r\n                if (selectTds.length) {\r\n                    var start = selectTds[0],\r\n                        end = selectTds[selectTds.length - 1],\r\n                        startInfo = this.getCellInfo(start),\r\n                        endInfo = this.getCellInfo(end);\r\n                    this.selectedTds = selectTds;\r\n                    this.cellsRange = {\r\n                        beginRowIndex: startInfo.rowIndex,\r\n                        beginColIndex: startInfo.colIndex,\r\n                        endRowIndex: endInfo.rowIndex + endInfo.rowSpan - 1,\r\n                        endColIndex: endInfo.colIndex + endInfo.colSpan - 1\r\n                    };\r\n                }\r\n                //给第一行设置firstRow的样式名称,在排序图标的样式上使用到\r\n                if (!domUtils.hasClass(this.table.rows[0], \"firstRow\")) {\r\n                    domUtils.addClass(this.table.rows[0], \"firstRow\");\r\n                    for (var i = 1; i < this.table.rows.length; i++) {\r\n                        domUtils.removeClasses(this.table.rows[i], \"firstRow\");\r\n                    }\r\n                }\r\n            },\r\n            /**\r\n             * 获取单元格的索引信息\r\n             */\r\n            getCellInfo: function(cell) {\r\n                if (!cell) return;\r\n                var cellIndex = cell.cellIndex,\r\n                    rowIndex = cell.parentNode.rowIndex,\r\n                    rowInfo = this.indexTable[rowIndex],\r\n                    numCols = this.colsNum;\r\n                for (var colIndex = cellIndex; colIndex < numCols; colIndex++) {\r\n                    var cellInfo = rowInfo[colIndex];\r\n                    if (cellInfo.rowIndex === rowIndex && cellInfo.cellIndex === cellIndex) {\r\n                        return cellInfo;\r\n                    }\r\n                }\r\n            },\r\n            /**\r\n             * 根据行列号获取单元格\r\n             */\r\n            getCell: function(rowIndex, cellIndex) {\r\n                return rowIndex < this.rowsNum && this.table.rows[rowIndex].cells[cellIndex] || null;\r\n            },\r\n            /**\r\n             * 删除单元格\r\n             */\r\n            deleteCell: function(cell, rowIndex) {\r\n                rowIndex = typeof rowIndex == 'number' ? rowIndex : cell.parentNode.rowIndex;\r\n                var row = this.table.rows[rowIndex];\r\n                row.deleteCell(cell.cellIndex);\r\n            },\r\n            /**\r\n             * 根据始末两个单元格获取被框选的所有单元格范围\r\n             */\r\n            getCellsRange: function(cellA, cellB) {\r\n                function checkRange(beginRowIndex, beginColIndex, endRowIndex, endColIndex) {\r\n                    var tmpBeginRowIndex = beginRowIndex,\r\n                        tmpBeginColIndex = beginColIndex,\r\n                        tmpEndRowIndex = endRowIndex,\r\n                        tmpEndColIndex = endColIndex,\r\n                        cellInfo, colIndex, rowIndex;\r\n                    // 通过indexTable检查是否存在超出TableRange上边界的情况\r\n                    if (beginRowIndex > 0) {\r\n                        for (colIndex = beginColIndex; colIndex < endColIndex; colIndex++) {\r\n                            cellInfo = me.indexTable[beginRowIndex][colIndex];\r\n                            rowIndex = cellInfo.rowIndex;\r\n                            if (rowIndex < beginRowIndex) {\r\n                                tmpBeginRowIndex = Math.min(rowIndex, tmpBeginRowIndex);\r\n                            }\r\n                        }\r\n                    }\r\n                    // 通过indexTable检查是否存在超出TableRange右边界的情况\r\n                    if (endColIndex < me.colsNum) {\r\n                        for (rowIndex = beginRowIndex; rowIndex < endRowIndex; rowIndex++) {\r\n                            cellInfo = me.indexTable[rowIndex][endColIndex];\r\n                            colIndex = cellInfo.colIndex + cellInfo.colSpan - 1;\r\n                            if (colIndex > endColIndex) {\r\n                                tmpEndColIndex = Math.max(colIndex, tmpEndColIndex);\r\n                            }\r\n                        }\r\n                    }\r\n                    // 检查是否有超出TableRange下边界的情况\r\n                    if (endRowIndex < me.rowsNum) {\r\n                        for (colIndex = beginColIndex; colIndex < endColIndex; colIndex++) {\r\n                            cellInfo = me.indexTable[endRowIndex][colIndex];\r\n                            rowIndex = cellInfo.rowIndex + cellInfo.rowSpan - 1;\r\n                            if (rowIndex > endRowIndex) {\r\n                                tmpEndRowIndex = Math.max(rowIndex, tmpEndRowIndex);\r\n                            }\r\n                        }\r\n                    }\r\n                    // 检查是否有超出TableRange左边界的情况\r\n                    if (beginColIndex > 0) {\r\n                        for (rowIndex = beginRowIndex; rowIndex < endRowIndex; rowIndex++) {\r\n                            cellInfo = me.indexTable[rowIndex][beginColIndex];\r\n                            colIndex = cellInfo.colIndex;\r\n                            if (colIndex < beginColIndex) {\r\n                                tmpBeginColIndex = Math.min(cellInfo.colIndex, tmpBeginColIndex);\r\n                            }\r\n                        }\r\n                    }\r\n                    //递归调用直至所有完成所有框选单元格的扩展\r\n                    if (tmpBeginRowIndex != beginRowIndex || tmpBeginColIndex != beginColIndex || tmpEndRowIndex != endRowIndex || tmpEndColIndex != endColIndex) {\r\n                        return checkRange(tmpBeginRowIndex, tmpBeginColIndex, tmpEndRowIndex, tmpEndColIndex);\r\n                    } else {\r\n                        // 不需要扩展TableRange的情况\r\n                        return {\r\n                            beginRowIndex: beginRowIndex,\r\n                            beginColIndex: beginColIndex,\r\n                            endRowIndex: endRowIndex,\r\n                            endColIndex: endColIndex\r\n                        };\r\n                    }\r\n                }\r\n\r\n                try {\r\n                    var me = this,\r\n                        cellAInfo = me.getCellInfo(cellA);\r\n                    if (cellA === cellB) {\r\n                        return {\r\n                            beginRowIndex: cellAInfo.rowIndex,\r\n                            beginColIndex: cellAInfo.colIndex,\r\n                            endRowIndex: cellAInfo.rowIndex + cellAInfo.rowSpan - 1,\r\n                            endColIndex: cellAInfo.colIndex + cellAInfo.colSpan - 1\r\n                        };\r\n                    }\r\n                    var cellBInfo = me.getCellInfo(cellB);\r\n                    // 计算TableRange的四个边\r\n                    var beginRowIndex = Math.min(cellAInfo.rowIndex, cellBInfo.rowIndex),\r\n                        beginColIndex = Math.min(cellAInfo.colIndex, cellBInfo.colIndex),\r\n                        endRowIndex = Math.max(cellAInfo.rowIndex + cellAInfo.rowSpan - 1, cellBInfo.rowIndex + cellBInfo.rowSpan - 1),\r\n                        endColIndex = Math.max(cellAInfo.colIndex + cellAInfo.colSpan - 1, cellBInfo.colIndex + cellBInfo.colSpan - 1);\r\n\r\n                    return checkRange(beginRowIndex, beginColIndex, endRowIndex, endColIndex);\r\n                } catch (e) {\r\n                    //throw e;\r\n                }\r\n            },\r\n            /**\r\n             * 依据cellsRange获取对应的单元格集合\r\n             */\r\n            getCells: function(range) {\r\n                //每次获取cells之前必须先清除上次的选择，否则会对后续获取操作造成影响\r\n                this.clearSelected();\r\n                var beginRowIndex = range.beginRowIndex,\r\n                    beginColIndex = range.beginColIndex,\r\n                    endRowIndex = range.endRowIndex,\r\n                    endColIndex = range.endColIndex,\r\n                    cellInfo, rowIndex, colIndex, tdHash = {},\r\n                    returnTds = [];\r\n                for (var i = beginRowIndex; i <= endRowIndex; i++) {\r\n                    for (var j = beginColIndex; j <= endColIndex; j++) {\r\n                        cellInfo = this.indexTable[i][j];\r\n                        rowIndex = cellInfo.rowIndex;\r\n                        colIndex = cellInfo.colIndex;\r\n                        // 如果Cells里已经包含了此Cell则跳过\r\n                        var key = rowIndex + '|' + colIndex;\r\n                        if (tdHash[key]) continue;\r\n                        tdHash[key] = 1;\r\n                        if (rowIndex < i || colIndex < j || rowIndex + cellInfo.rowSpan - 1 > endRowIndex || colIndex + cellInfo.colSpan - 1 > endColIndex) {\r\n                            return null;\r\n                        }\r\n                        returnTds.push(this.getCell(rowIndex, cellInfo.cellIndex));\r\n                    }\r\n                }\r\n                return returnTds;\r\n            },\r\n            /**\r\n             * 清理已经选中的单元格\r\n             */\r\n            clearSelected: function() {\r\n                UETable.removeSelectedClass(this.selectedTds);\r\n                this.selectedTds = [];\r\n                this.cellsRange = {};\r\n            },\r\n            /**\r\n             * 根据range设置已经选中的单元格\r\n             */\r\n            setSelected: function(range) {\r\n                var cells = this.getCells(range);\r\n                UETable.addSelectedClass(cells);\r\n                this.selectedTds = cells;\r\n                this.cellsRange = range;\r\n            },\r\n            isFullRow: function() {\r\n                var range = this.cellsRange;\r\n                return (range.endColIndex - range.beginColIndex + 1) == this.colsNum;\r\n            },\r\n            isFullCol: function() {\r\n                var range = this.cellsRange,\r\n                    table = this.table,\r\n                    ths = table.getElementsByTagName(\"th\"),\r\n                    rows = range.endRowIndex - range.beginRowIndex + 1;\r\n                return !ths.length ? rows == this.rowsNum : rows == this.rowsNum || (rows == this.rowsNum - 1);\r\n\r\n            },\r\n            /**\r\n             * 获取视觉上的前置单元格，默认是左边，top传入时\r\n             * @param cell\r\n             * @param top\r\n             */\r\n            getNextCell: function(cell, bottom, ignoreRange) {\r\n                try {\r\n                    var cellInfo = this.getCellInfo(cell),\r\n                        nextRowIndex, nextColIndex;\r\n                    var len = this.selectedTds.length && !ignoreRange,\r\n                        range = this.cellsRange;\r\n                    //末行或者末列没有后置单元格\r\n                    if ((!bottom && (cellInfo.rowIndex == 0)) || (bottom && (!len ? (cellInfo.rowIndex + cellInfo.rowSpan > this.rowsNum - 1) : (range.endRowIndex == this.rowsNum - 1)))) return null;\r\n\r\n                    nextRowIndex = !bottom ? (!len ? cellInfo.rowIndex - 1 : range.beginRowIndex - 1) :\r\n                        (!len ? (cellInfo.rowIndex + cellInfo.rowSpan) : range.endRowIndex + 1);\r\n                    nextColIndex = !len ? cellInfo.colIndex : range.beginColIndex;\r\n                    return this.getCell(this.indexTable[nextRowIndex][nextColIndex].rowIndex, this.indexTable[nextRowIndex][nextColIndex].cellIndex);\r\n                } catch (e) {\r\n                    showError(e);\r\n                }\r\n            },\r\n            getPreviewCell: function(cell, top) {\r\n                try {\r\n                    var cellInfo = this.getCellInfo(cell),\r\n                        previewRowIndex, previewColIndex;\r\n                    var len = this.selectedTds.length,\r\n                        range = this.cellsRange;\r\n                    //首行或者首列没有前置单元格\r\n                    if ((!top && (!len ? !cellInfo.colIndex : !range.beginColIndex)) || (top && (!len ? (cellInfo.rowIndex > (this.colsNum - 1)) : (range.endColIndex == this.colsNum - 1)))) return null;\r\n\r\n                    previewRowIndex = !top ? (!len ? cellInfo.rowIndex : range.beginRowIndex) :\r\n                        (!len ? (cellInfo.rowIndex < 1 ? 0 : (cellInfo.rowIndex - 1)) : range.beginRowIndex);\r\n                    previewColIndex = !top ? (!len ? (cellInfo.colIndex < 1 ? 0 : (cellInfo.colIndex - 1)) : range.beginColIndex - 1) :\r\n                        (!len ? cellInfo.colIndex : range.endColIndex + 1);\r\n                    return this.getCell(this.indexTable[previewRowIndex][previewColIndex].rowIndex, this.indexTable[previewRowIndex][previewColIndex].cellIndex);\r\n                } catch (e) {\r\n                    showError(e);\r\n                }\r\n            },\r\n            /**\r\n             * 移动单元格中的内容\r\n             */\r\n            moveContent: function(cellTo, cellFrom) {\r\n                if (UETable.isEmptyBlock(cellFrom)) return;\r\n                if (UETable.isEmptyBlock(cellTo)) {\r\n                    cellTo.innerHTML = cellFrom.innerHTML;\r\n                    return;\r\n                }\r\n                var child = cellTo.lastChild;\r\n                if (child.nodeType == 3 || !dtd.$block[child.tagName]) {\r\n                    cellTo.appendChild(cellTo.ownerDocument.createElement('br'))\r\n                }\r\n                while (child = cellFrom.firstChild) {\r\n                    cellTo.appendChild(child);\r\n                }\r\n            },\r\n            /**\r\n             * 向右合并单元格\r\n             */\r\n            mergeRight: function(cell) {\r\n                var cellInfo = this.getCellInfo(cell),\r\n                    rightColIndex = cellInfo.colIndex + cellInfo.colSpan,\r\n                    rightCellInfo = this.indexTable[cellInfo.rowIndex][rightColIndex],\r\n                    rightCell = this.getCell(rightCellInfo.rowIndex, rightCellInfo.cellIndex);\r\n                //合并\r\n                cell.colSpan = cellInfo.colSpan + rightCellInfo.colSpan;\r\n                //被合并的单元格不应存在宽度属性\r\n                cell.removeAttribute(\"width\");\r\n                //移动内容\r\n                this.moveContent(cell, rightCell);\r\n                //删掉被合并的Cell\r\n                this.deleteCell(rightCell, rightCellInfo.rowIndex);\r\n                this.update();\r\n            },\r\n            /**\r\n             * 向下合并单元格\r\n             */\r\n            mergeDown: function(cell) {\r\n                var cellInfo = this.getCellInfo(cell),\r\n                    downRowIndex = cellInfo.rowIndex + cellInfo.rowSpan,\r\n                    downCellInfo = this.indexTable[downRowIndex][cellInfo.colIndex],\r\n                    downCell = this.getCell(downCellInfo.rowIndex, downCellInfo.cellIndex);\r\n                cell.rowSpan = cellInfo.rowSpan + downCellInfo.rowSpan;\r\n                cell.removeAttribute(\"height\");\r\n                this.moveContent(cell, downCell);\r\n                this.deleteCell(downCell, downCellInfo.rowIndex);\r\n                this.update();\r\n            },\r\n            /**\r\n             * 合并整个range中的内容\r\n             */\r\n            mergeRange: function() {\r\n                //由于合并操作可以在任意时刻进行，所以无法通过鼠标位置等信息实时生成range，只能通过缓存实例中的cellsRange对象来访问\r\n                var range = this.cellsRange,\r\n                    leftTopCell = this.getCell(range.beginRowIndex, this.indexTable[range.beginRowIndex][range.beginColIndex].cellIndex);\r\n\r\n                if (leftTopCell.tagName == \"TH\" && range.endRowIndex !== range.beginRowIndex) {\r\n                    var index = this.indexTable,\r\n                        info = this.getCellInfo(leftTopCell);\r\n                    leftTopCell = this.getCell(1, index[1][info.colIndex].cellIndex);\r\n                    range = this.getCellsRange(leftTopCell, this.getCell(index[this.rowsNum - 1][info.colIndex].rowIndex, index[this.rowsNum - 1][info.colIndex].cellIndex));\r\n                }\r\n\r\n                // 删除剩余的Cells\r\n                var cells = this.getCells(range);\r\n                for (var i = 0, ci; ci = cells[i++];) {\r\n                    if (ci !== leftTopCell) {\r\n                        this.moveContent(leftTopCell, ci);\r\n                        this.deleteCell(ci);\r\n                    }\r\n                }\r\n                // 修改左上角Cell的rowSpan和colSpan，并调整宽度属性设置\r\n                leftTopCell.rowSpan = range.endRowIndex - range.beginRowIndex + 1;\r\n                leftTopCell.rowSpan > 1 && leftTopCell.removeAttribute(\"height\");\r\n                leftTopCell.colSpan = range.endColIndex - range.beginColIndex + 1;\r\n                leftTopCell.colSpan > 1 && leftTopCell.removeAttribute(\"width\");\r\n                if (leftTopCell.rowSpan == this.rowsNum && leftTopCell.colSpan != 1) {\r\n                    leftTopCell.colSpan = 1;\r\n                }\r\n\r\n                if (leftTopCell.colSpan == this.colsNum && leftTopCell.rowSpan != 1) {\r\n                    var rowIndex = leftTopCell.parentNode.rowIndex;\r\n                    //解决IE下的表格操作问题\r\n                    if (this.table.deleteRow) {\r\n                        for (var i = rowIndex + 1, curIndex = rowIndex + 1, len = leftTopCell.rowSpan; i < len; i++) {\r\n                            this.table.deleteRow(curIndex);\r\n                        }\r\n                    } else {\r\n                        for (var i = 0, len = leftTopCell.rowSpan - 1; i < len; i++) {\r\n                            var row = this.table.rows[rowIndex + 1];\r\n                            row.parentNode.removeChild(row);\r\n                        }\r\n                    }\r\n                    leftTopCell.rowSpan = 1;\r\n                }\r\n                this.update();\r\n            },\r\n            /**\r\n             * 插入一行单元格\r\n             */\r\n            insertRow: function(rowIndex, sourceCell) {\r\n                var numCols = this.colsNum,\r\n                    table = this.table,\r\n                    row = table.insertRow(rowIndex),\r\n                    cell,\r\n                    isInsertTitle = typeof sourceCell == 'string' && sourceCell.toUpperCase() == 'TH';\r\n\r\n                function replaceTdToTh(colIndex, cell, tableRow) {\r\n                    if (colIndex == 0) {\r\n                        var tr = tableRow.nextSibling || tableRow.previousSibling,\r\n                            th = tr.cells[colIndex];\r\n                        if (th.tagName == 'TH') {\r\n                            th = cell.ownerDocument.createElement(\"th\");\r\n                            th.appendChild(cell.firstChild);\r\n                            tableRow.insertBefore(th, cell);\r\n                            domUtils.remove(cell)\r\n                        }\r\n                    } else {\r\n                        if (cell.tagName == 'TH') {\r\n                            var td = cell.ownerDocument.createElement(\"td\");\r\n                            td.appendChild(cell.firstChild);\r\n                            tableRow.insertBefore(td, cell);\r\n                            domUtils.remove(cell)\r\n                        }\r\n                    }\r\n                }\r\n\r\n                //首行直接插入,无需考虑部分单元格被rowspan的情况\r\n                if (rowIndex == 0 || rowIndex == this.rowsNum) {\r\n                    for (var colIndex = 0; colIndex < numCols; colIndex++) {\r\n                        cell = this.cloneCell(sourceCell, true);\r\n                        this.setCellContent(cell);\r\n                        cell.getAttribute('vAlign') && cell.setAttribute('vAlign', cell.getAttribute('vAlign'));\r\n                        row.appendChild(cell);\r\n                        if (!isInsertTitle) replaceTdToTh(colIndex, cell, row);\r\n                    }\r\n                } else {\r\n                    var infoRow = this.indexTable[rowIndex],\r\n                        cellIndex = 0;\r\n                    for (colIndex = 0; colIndex < numCols; colIndex++) {\r\n                        var cellInfo = infoRow[colIndex];\r\n                        //如果存在某个单元格的rowspan穿过待插入行的位置，则修改该单元格的rowspan即可，无需插入单元格\r\n                        if (cellInfo.rowIndex < rowIndex) {\r\n                            cell = this.getCell(cellInfo.rowIndex, cellInfo.cellIndex);\r\n                            cell.rowSpan = cellInfo.rowSpan + 1;\r\n                        } else {\r\n                            cell = this.cloneCell(sourceCell, true);\r\n                            this.setCellContent(cell);\r\n                            row.appendChild(cell);\r\n                        }\r\n                        if (!isInsertTitle) replaceTdToTh(colIndex, cell, row);\r\n                    }\r\n                }\r\n                //框选时插入不触发contentchange，需要手动更新索引。\r\n                this.update();\r\n                return row;\r\n            },\r\n            /**\r\n             * 删除一行单元格\r\n             * @param rowIndex\r\n             */\r\n            deleteRow: function(rowIndex) {\r\n                var row = this.table.rows[rowIndex],\r\n                    infoRow = this.indexTable[rowIndex],\r\n                    colsNum = this.colsNum,\r\n                    count = 0; //处理计数\r\n                for (var colIndex = 0; colIndex < colsNum;) {\r\n                    var cellInfo = infoRow[colIndex],\r\n                        cell = this.getCell(cellInfo.rowIndex, cellInfo.cellIndex);\r\n                    if (cell.rowSpan > 1) {\r\n                        if (cellInfo.rowIndex == rowIndex) {\r\n                            var clone = cell.cloneNode(true);\r\n                            clone.rowSpan = cell.rowSpan - 1;\r\n                            clone.innerHTML = \"\";\r\n                            cell.rowSpan = 1;\r\n                            var nextRowIndex = rowIndex + 1,\r\n                                nextRow = this.table.rows[nextRowIndex],\r\n                                insertCellIndex,\r\n                                preMerged = this.getPreviewMergedCellsNum(nextRowIndex, colIndex) - count;\r\n                            if (preMerged < colIndex) {\r\n                                insertCellIndex = colIndex - preMerged - 1;\r\n                                //nextRow.insertCell(insertCellIndex);\r\n                                domUtils.insertAfter(nextRow.cells[insertCellIndex], clone);\r\n                            } else {\r\n                                if (nextRow.cells.length) nextRow.insertBefore(clone, nextRow.cells[0])\r\n                            }\r\n                            count += 1;\r\n                            //cell.parentNode.removeChild(cell);\r\n                        }\r\n                    }\r\n                    colIndex += cell.colSpan || 1;\r\n                }\r\n                var deleteTds = [],\r\n                    cacheMap = {};\r\n                for (colIndex = 0; colIndex < colsNum; colIndex++) {\r\n                    var tmpRowIndex = infoRow[colIndex].rowIndex,\r\n                        tmpCellIndex = infoRow[colIndex].cellIndex,\r\n                        key = tmpRowIndex + \"_\" + tmpCellIndex;\r\n                    if (cacheMap[key]) continue;\r\n                    cacheMap[key] = 1;\r\n                    cell = this.getCell(tmpRowIndex, tmpCellIndex);\r\n                    deleteTds.push(cell);\r\n                }\r\n                var mergeTds = [];\r\n                utils.each(deleteTds, function(td) {\r\n                    if (td.rowSpan == 1) {\r\n                        td.parentNode.removeChild(td);\r\n                    } else {\r\n                        mergeTds.push(td);\r\n                    }\r\n                });\r\n                utils.each(mergeTds, function(td) {\r\n                    td.rowSpan--;\r\n                });\r\n                row.parentNode.removeChild(row);\r\n                //浏览器方法本身存在bug,采用自定义方法删除\r\n                //this.table.deleteRow(rowIndex);\r\n                this.update();\r\n            },\r\n            insertCol: function(colIndex, sourceCell, defaultValue) {\r\n                var rowsNum = this.rowsNum,\r\n                    rowIndex = 0,\r\n                    tableRow, cell,\r\n                    backWidth = parseInt((this.table.offsetWidth - (this.colsNum + 1) * 20 - (this.colsNum + 1)) / (this.colsNum + 1), 10),\r\n                    isInsertTitleCol = typeof sourceCell == 'string' && sourceCell.toUpperCase() == 'TH';\r\n\r\n                function replaceTdToTh(rowIndex, cell, tableRow) {\r\n                    if (rowIndex == 0) {\r\n                        var th = cell.nextSibling || cell.previousSibling;\r\n                        if (th.tagName == 'TH') {\r\n                            th = cell.ownerDocument.createElement(\"th\");\r\n                            th.appendChild(cell.firstChild);\r\n                            tableRow.insertBefore(th, cell);\r\n                            domUtils.remove(cell)\r\n                        }\r\n                    } else {\r\n                        if (cell.tagName == 'TH') {\r\n                            var td = cell.ownerDocument.createElement(\"td\");\r\n                            td.appendChild(cell.firstChild);\r\n                            tableRow.insertBefore(td, cell);\r\n                            domUtils.remove(cell)\r\n                        }\r\n                    }\r\n                }\r\n\r\n                var preCell;\r\n                if (colIndex == 0 || colIndex == this.colsNum) {\r\n                    for (; rowIndex < rowsNum; rowIndex++) {\r\n                        tableRow = this.table.rows[rowIndex];\r\n                        preCell = tableRow.cells[colIndex == 0 ? colIndex : tableRow.cells.length];\r\n                        cell = this.cloneCell(sourceCell, true); //tableRow.insertCell(colIndex == 0 ? colIndex : tableRow.cells.length);\r\n                        this.setCellContent(cell);\r\n                        cell.setAttribute('vAlign', cell.getAttribute('vAlign'));\r\n                        preCell && cell.setAttribute('width', preCell.getAttribute('width'));\r\n                        if (!colIndex) {\r\n                            tableRow.insertBefore(cell, tableRow.cells[0]);\r\n                        } else {\r\n                            domUtils.insertAfter(tableRow.cells[tableRow.cells.length - 1], cell);\r\n                        }\r\n                        if (!isInsertTitleCol) replaceTdToTh(rowIndex, cell, tableRow)\r\n                    }\r\n                } else {\r\n                    for (; rowIndex < rowsNum; rowIndex++) {\r\n                        var cellInfo = this.indexTable[rowIndex][colIndex];\r\n                        if (cellInfo.colIndex < colIndex) {\r\n                            cell = this.getCell(cellInfo.rowIndex, cellInfo.cellIndex);\r\n                            cell.colSpan = cellInfo.colSpan + 1;\r\n                        } else {\r\n                            tableRow = this.table.rows[rowIndex];\r\n                            preCell = tableRow.cells[cellInfo.cellIndex];\r\n\r\n                            cell = this.cloneCell(sourceCell, true); //tableRow.insertCell(cellInfo.cellIndex);\r\n                            this.setCellContent(cell);\r\n                            cell.setAttribute('vAlign', cell.getAttribute('vAlign'));\r\n                            preCell && cell.setAttribute('width', preCell.getAttribute('width'));\r\n                            //防止IE下报错\r\n                            preCell ? tableRow.insertBefore(cell, preCell) : tableRow.appendChild(cell);\r\n                        }\r\n                        if (!isInsertTitleCol) replaceTdToTh(rowIndex, cell, tableRow);\r\n                    }\r\n                }\r\n                //框选时插入不触发contentchange，需要手动更新索引\r\n                this.update();\r\n                this.updateWidth(backWidth, defaultValue || { tdPadding: 10, tdBorder: 1 });\r\n            },\r\n            updateWidth: function(width, defaultValue) {\r\n                var table = this.table,\r\n                    tmpWidth = UETable.getWidth(table) - defaultValue.tdPadding * 2 - defaultValue.tdBorder + width;\r\n                if (tmpWidth < table.ownerDocument.body.offsetWidth) {\r\n                    table.setAttribute(\"width\", tmpWidth);\r\n                    return;\r\n                }\r\n                var tds = domUtils.getElementsByTagName(this.table, \"td th\");\r\n                utils.each(tds, function(td) {\r\n                    td.setAttribute(\"width\", width);\r\n                })\r\n            },\r\n            deleteCol: function(colIndex) {\r\n                var indexTable = this.indexTable,\r\n                    tableRows = this.table.rows,\r\n                    backTableWidth = this.table.getAttribute(\"width\"),\r\n                    backTdWidth = 0,\r\n                    rowsNum = this.rowsNum,\r\n                    cacheMap = {};\r\n                for (var rowIndex = 0; rowIndex < rowsNum;) {\r\n                    var infoRow = indexTable[rowIndex],\r\n                        cellInfo = infoRow[colIndex],\r\n                        key = cellInfo.rowIndex + '_' + cellInfo.colIndex;\r\n                    // 跳过已经处理过的Cell\r\n                    if (cacheMap[key]) continue;\r\n                    cacheMap[key] = 1;\r\n                    var cell = this.getCell(cellInfo.rowIndex, cellInfo.cellIndex);\r\n                    if (!backTdWidth) backTdWidth = cell && parseInt(cell.offsetWidth / cell.colSpan, 10).toFixed(0);\r\n                    // 如果Cell的colSpan大于1, 就修改colSpan, 否则就删掉这个Cell\r\n                    if (cell.colSpan > 1) {\r\n                        cell.colSpan--;\r\n                    } else {\r\n                        tableRows[rowIndex].deleteCell(cellInfo.cellIndex);\r\n                    }\r\n                    rowIndex += cellInfo.rowSpan || 1;\r\n                }\r\n                this.table.setAttribute(\"width\", backTableWidth - backTdWidth);\r\n                this.update();\r\n            },\r\n            splitToCells: function(cell) {\r\n                var me = this,\r\n                    cells = this.splitToRows(cell);\r\n                utils.each(cells, function(cell) {\r\n                    me.splitToCols(cell);\r\n                })\r\n            },\r\n            splitToRows: function(cell) {\r\n                var cellInfo = this.getCellInfo(cell),\r\n                    rowIndex = cellInfo.rowIndex,\r\n                    colIndex = cellInfo.colIndex,\r\n                    results = [];\r\n                // 修改Cell的rowSpan\r\n                cell.rowSpan = 1;\r\n                results.push(cell);\r\n                // 补齐单元格\r\n                for (var i = rowIndex, endRow = rowIndex + cellInfo.rowSpan; i < endRow; i++) {\r\n                    if (i == rowIndex) continue;\r\n                    var tableRow = this.table.rows[i],\r\n                        tmpCell = tableRow.insertCell(colIndex - this.getPreviewMergedCellsNum(i, colIndex));\r\n                    tmpCell.colSpan = cellInfo.colSpan;\r\n                    this.setCellContent(tmpCell);\r\n                    tmpCell.setAttribute('vAlign', cell.getAttribute('vAlign'));\r\n                    tmpCell.setAttribute('align', cell.getAttribute('align'));\r\n                    if (cell.style.cssText) {\r\n                        tmpCell.style.cssText = cell.style.cssText;\r\n                    }\r\n                    results.push(tmpCell);\r\n                }\r\n                this.update();\r\n                return results;\r\n            },\r\n            getPreviewMergedCellsNum: function(rowIndex, colIndex) {\r\n                var indexRow = this.indexTable[rowIndex],\r\n                    num = 0;\r\n                for (var i = 0; i < colIndex;) {\r\n                    var colSpan = indexRow[i].colSpan,\r\n                        tmpRowIndex = indexRow[i].rowIndex;\r\n                    num += (colSpan - (tmpRowIndex == rowIndex ? 1 : 0));\r\n                    i += colSpan;\r\n                }\r\n                return num;\r\n            },\r\n            splitToCols: function(cell) {\r\n                var backWidth = (cell.offsetWidth / cell.colSpan - 22).toFixed(0),\r\n\r\n                    cellInfo = this.getCellInfo(cell),\r\n                    rowIndex = cellInfo.rowIndex,\r\n                    colIndex = cellInfo.colIndex,\r\n                    results = [];\r\n                // 修改Cell的rowSpan\r\n                cell.colSpan = 1;\r\n                cell.setAttribute(\"width\", backWidth);\r\n                results.push(cell);\r\n                // 补齐单元格\r\n                for (var j = colIndex, endCol = colIndex + cellInfo.colSpan; j < endCol; j++) {\r\n                    if (j == colIndex) continue;\r\n                    var tableRow = this.table.rows[rowIndex],\r\n                        tmpCell = tableRow.insertCell(this.indexTable[rowIndex][j].cellIndex + 1);\r\n                    tmpCell.rowSpan = cellInfo.rowSpan;\r\n                    this.setCellContent(tmpCell);\r\n                    tmpCell.setAttribute('vAlign', cell.getAttribute('vAlign'));\r\n                    tmpCell.setAttribute('align', cell.getAttribute('align'));\r\n                    tmpCell.setAttribute('width', backWidth);\r\n                    if (cell.style.cssText) {\r\n                        tmpCell.style.cssText = cell.style.cssText;\r\n                    }\r\n                    //处理th的情况\r\n                    if (cell.tagName == 'TH') {\r\n                        var th = cell.ownerDocument.createElement('th');\r\n                        th.appendChild(tmpCell.firstChild);\r\n                        th.setAttribute('vAlign', cell.getAttribute('vAlign'));\r\n                        th.rowSpan = tmpCell.rowSpan;\r\n                        tableRow.insertBefore(th, tmpCell);\r\n                        domUtils.remove(tmpCell);\r\n                    }\r\n                    results.push(tmpCell);\r\n                }\r\n                this.update();\r\n                return results;\r\n            },\r\n            isLastCell: function(cell, rowsNum, colsNum) {\r\n                rowsNum = rowsNum || this.rowsNum;\r\n                colsNum = colsNum || this.colsNum;\r\n                var cellInfo = this.getCellInfo(cell);\r\n                return ((cellInfo.rowIndex + cellInfo.rowSpan) == rowsNum) &&\r\n                    ((cellInfo.colIndex + cellInfo.colSpan) == colsNum);\r\n            },\r\n            getLastCell: function(cells) {\r\n                cells = cells || this.table.getElementsByTagName(\"td\");\r\n                var firstInfo = this.getCellInfo(cells[0]);\r\n                var me = this,\r\n                    last = cells[0],\r\n                    tr = last.parentNode,\r\n                    cellsNum = 0,\r\n                    cols = 0,\r\n                    rows;\r\n                utils.each(cells, function(cell) {\r\n                    if (cell.parentNode == tr) cols += cell.colSpan || 1;\r\n                    cellsNum += cell.rowSpan * cell.colSpan || 1;\r\n                });\r\n                rows = cellsNum / cols;\r\n                utils.each(cells, function(cell) {\r\n                    if (me.isLastCell(cell, rows, cols)) {\r\n                        last = cell;\r\n                        return false;\r\n                    }\r\n                });\r\n                return last;\r\n\r\n            },\r\n            selectRow: function(rowIndex) {\r\n                var indexRow = this.indexTable[rowIndex],\r\n                    start = this.getCell(indexRow[0].rowIndex, indexRow[0].cellIndex),\r\n                    end = this.getCell(indexRow[this.colsNum - 1].rowIndex, indexRow[this.colsNum - 1].cellIndex),\r\n                    range = this.getCellsRange(start, end);\r\n                this.setSelected(range);\r\n            },\r\n            selectTable: function() {\r\n                var tds = this.table.getElementsByTagName(\"td\"),\r\n                    range = this.getCellsRange(tds[0], tds[tds.length - 1]);\r\n                this.setSelected(range);\r\n            },\r\n            setBackground: function(cells, value) {\r\n                if (typeof value === \"string\") {\r\n                    utils.each(cells, function(cell) {\r\n                        cell.style.backgroundColor = value;\r\n                    })\r\n                } else if (typeof value === \"object\") {\r\n                    value = utils.extend({\r\n                        repeat: true,\r\n                        colorList: [\"#ddd\", \"#fff\"]\r\n                    }, value);\r\n                    var rowIndex = this.getCellInfo(cells[0]).rowIndex,\r\n                        count = 0,\r\n                        colors = value.colorList,\r\n                        getColor = function(list, index, repeat) {\r\n                            return list[index] ? list[index] : repeat ? list[index % list.length] : \"\";\r\n                        };\r\n                    for (var i = 0, cell; cell = cells[i++];) {\r\n                        var cellInfo = this.getCellInfo(cell);\r\n                        cell.style.backgroundColor = getColor(colors, ((rowIndex + count) == cellInfo.rowIndex) ? count : ++count, value.repeat);\r\n                    }\r\n                }\r\n            },\r\n            removeBackground: function(cells) {\r\n                utils.each(cells, function(cell) {\r\n                    cell.style.backgroundColor = \"\";\r\n                })\r\n            }\r\n\r\n\r\n        };\r\n\r\n        function showError(e) {}\r\n    })();\r\n\r\n    // plugins/table.cmds.js\r\n    /**\r\n     * Created with JetBrains PhpStorm.\r\n     * User: taoqili\r\n     * Date: 13-2-20\r\n     * Time: 下午6:25\r\n     * To change this template use File | Settings | File Templates.\r\n     */\r\n    ;\r\n    (function() {\r\n        var UT = UE.UETable,\r\n            getTableItemsByRange = function(editor) {\r\n                return UT.getTableItemsByRange(editor);\r\n            },\r\n            getUETableBySelected = function(editor) {\r\n                return UT.getUETableBySelected(editor)\r\n            },\r\n            getDefaultValue = function(editor, table) {\r\n                return UT.getDefaultValue(editor, table);\r\n            },\r\n            getUETable = function(tdOrTable) {\r\n                return UT.getUETable(tdOrTable);\r\n            };\r\n\r\n\r\n        UE.commands['inserttable'] = {\r\n            queryCommandState: function() {\r\n                return getTableItemsByRange(this).table ? -1 : 0;\r\n            },\r\n            execCommand: function(cmd, opt) {\r\n                function createTable(opt, tdWidth) {\r\n                    var html = [],\r\n                        rowsNum = opt.numRows,\r\n                        colsNum = opt.numCols;\r\n                    for (var r = 0; r < rowsNum; r++) {\r\n                        html.push('<tr' + (r == 0 ? ' class=\"firstRow\"' : '') + '>');\r\n                        for (var c = 0; c < colsNum; c++) {\r\n                            html.push('<td width=\"' + tdWidth + '\"  vAlign=\"' + opt.tdvalign + '\" >' + (browser.ie && browser.version < 11 ? domUtils.fillChar : '<br/>') + '</td>')\r\n                        }\r\n                        html.push('</tr>')\r\n                    }\r\n                    //禁止指定table-width\r\n                    return '<table><tbody>' + html.join('') + '</tbody></table>'\r\n                }\r\n\r\n                if (!opt) {\r\n                    opt = utils.extend({}, {\r\n                        numCols: this.options.defaultCols,\r\n                        numRows: this.options.defaultRows,\r\n                        tdvalign: this.options.tdvalign\r\n                    })\r\n                }\r\n                var me = this;\r\n                var range = this.selection.getRange(),\r\n                    start = range.startContainer,\r\n                    firstParentBlock = domUtils.findParent(start, function(node) {\r\n                        return domUtils.isBlockElm(node);\r\n                    }, true) || me.body;\r\n\r\n                var defaultValue = getDefaultValue(me),\r\n                    tableWidth = firstParentBlock.offsetWidth,\r\n                    tdWidth = Math.floor(tableWidth / opt.numCols - defaultValue.tdPadding * 2 - defaultValue.tdBorder);\r\n\r\n                //todo其他属性\r\n                !opt.tdvalign && (opt.tdvalign = me.options.tdvalign);\r\n                me.execCommand(\"inserthtml\", createTable(opt, tdWidth));\r\n            }\r\n        };\r\n\r\n        UE.commands['insertparagraphbeforetable'] = {\r\n            queryCommandState: function() {\r\n                return getTableItemsByRange(this).cell ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    var p = this.document.createElement(\"p\");\r\n                    p.innerHTML = browser.ie ? '&nbsp;' : '<br />';\r\n                    table.parentNode.insertBefore(p, table);\r\n                    this.selection.getRange().setStart(p, 0).setCursor();\r\n                }\r\n            }\r\n        };\r\n\r\n        UE.commands['deletetable'] = {\r\n            queryCommandState: function() {\r\n                var rng = this.selection.getRange();\r\n                return domUtils.findParentByTagName(rng.startContainer, 'table', true) ? 0 : -1;\r\n            },\r\n            execCommand: function(cmd, table) {\r\n                var rng = this.selection.getRange();\r\n                table = table || domUtils.findParentByTagName(rng.startContainer, 'table', true);\r\n                if (table) {\r\n                    var next = table.nextSibling;\r\n                    if (!next) {\r\n                        next = domUtils.createElement(this.document, 'p', {\r\n                            'innerHTML': browser.ie ? domUtils.fillChar : '<br/>'\r\n                        });\r\n                        table.parentNode.insertBefore(next, table);\r\n                    }\r\n                    domUtils.remove(table);\r\n                    rng = this.selection.getRange();\r\n                    if (next.nodeType == 3) {\r\n                        rng.setStartBefore(next)\r\n                    } else {\r\n                        rng.setStart(next, 0)\r\n                    }\r\n                    rng.setCursor(false, true)\r\n                    this.fireEvent(\"tablehasdeleted\")\r\n\r\n                }\r\n\r\n            }\r\n        };\r\n        UE.commands['cellalign'] = {\r\n            queryCommandState: function() {\r\n                return getSelectedArr(this).length ? 0 : -1\r\n            },\r\n            execCommand: function(cmd, align) {\r\n                var selectedTds = getSelectedArr(this);\r\n                if (selectedTds.length) {\r\n                    for (var i = 0, ci; ci = selectedTds[i++];) {\r\n                        ci.setAttribute('align', align);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        UE.commands['cellvalign'] = {\r\n            queryCommandState: function() {\r\n                return getSelectedArr(this).length ? 0 : -1;\r\n            },\r\n            execCommand: function(cmd, valign) {\r\n                var selectedTds = getSelectedArr(this);\r\n                if (selectedTds.length) {\r\n                    for (var i = 0, ci; ci = selectedTds[i++];) {\r\n                        ci.setAttribute('vAlign', valign);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        UE.commands['insertcaption'] = {\r\n            queryCommandState: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    return table.getElementsByTagName('caption').length == 0 ? 1 : -1;\r\n                }\r\n                return -1;\r\n            },\r\n            execCommand: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    var caption = this.document.createElement('caption');\r\n                    caption.innerHTML = browser.ie ? domUtils.fillChar : '<br/>';\r\n                    table.insertBefore(caption, table.firstChild);\r\n                    var range = this.selection.getRange();\r\n                    range.setStart(caption, 0).setCursor();\r\n                }\r\n\r\n            }\r\n        };\r\n        UE.commands['deletecaption'] = {\r\n            queryCommandState: function() {\r\n                var rng = this.selection.getRange(),\r\n                    table = domUtils.findParentByTagName(rng.startContainer, 'table');\r\n                if (table) {\r\n                    return table.getElementsByTagName('caption').length == 0 ? -1 : 1;\r\n                }\r\n                return -1;\r\n            },\r\n            execCommand: function() {\r\n                var rng = this.selection.getRange(),\r\n                    table = domUtils.findParentByTagName(rng.startContainer, 'table');\r\n                if (table) {\r\n                    domUtils.remove(table.getElementsByTagName('caption')[0]);\r\n                    var range = this.selection.getRange();\r\n                    range.setStart(table.rows[0].cells[0], 0).setCursor();\r\n                }\r\n\r\n            }\r\n        };\r\n        UE.commands['inserttitle'] = {\r\n            queryCommandState: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    var firstRow = table.rows[0];\r\n                    return firstRow.cells[firstRow.cells.length - 1].tagName.toLowerCase() != 'th' ? 0 : -1\r\n                }\r\n                return -1;\r\n            },\r\n            execCommand: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    getUETable(table).insertRow(0, 'th');\r\n                }\r\n                var th = table.getElementsByTagName('th')[0];\r\n                this.selection.getRange().setStart(th, 0).setCursor(false, true);\r\n            }\r\n        };\r\n        UE.commands['deletetitle'] = {\r\n            queryCommandState: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    var firstRow = table.rows[0];\r\n                    return firstRow.cells[firstRow.cells.length - 1].tagName.toLowerCase() == 'th' ? 0 : -1\r\n                }\r\n                return -1;\r\n            },\r\n            execCommand: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    domUtils.remove(table.rows[0])\r\n                }\r\n                var td = table.getElementsByTagName('td')[0];\r\n                this.selection.getRange().setStart(td, 0).setCursor(false, true);\r\n            }\r\n        };\r\n        UE.commands['inserttitlecol'] = {\r\n            queryCommandState: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    var lastRow = table.rows[table.rows.length - 1];\r\n                    return lastRow.getElementsByTagName('th').length ? -1 : 0;\r\n                }\r\n                return -1;\r\n            },\r\n            execCommand: function(cmd) {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    getUETable(table).insertCol(0, 'th');\r\n                }\r\n                resetTdWidth(table, this);\r\n                var th = table.getElementsByTagName('th')[0];\r\n                this.selection.getRange().setStart(th, 0).setCursor(false, true);\r\n            }\r\n        };\r\n        UE.commands['deletetitlecol'] = {\r\n            queryCommandState: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    var lastRow = table.rows[table.rows.length - 1];\r\n                    return lastRow.getElementsByTagName('th').length ? 0 : -1;\r\n                }\r\n                return -1;\r\n            },\r\n            execCommand: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    for (var i = 0; i < table.rows.length; i++) {\r\n                        domUtils.remove(table.rows[i].children[0])\r\n                    }\r\n                }\r\n                resetTdWidth(table, this);\r\n                var td = table.getElementsByTagName('td')[0];\r\n                this.selection.getRange().setStart(td, 0).setCursor(false, true);\r\n            }\r\n        };\r\n\r\n        UE.commands[\"mergeright\"] = {\r\n            queryCommandState: function(cmd) {\r\n                var tableItems = getTableItemsByRange(this),\r\n                    table = tableItems.table,\r\n                    cell = tableItems.cell;\r\n\r\n                if (!table || !cell) return -1;\r\n                var ut = getUETable(table);\r\n                if (ut.selectedTds.length) return -1;\r\n\r\n                var cellInfo = ut.getCellInfo(cell),\r\n                    rightColIndex = cellInfo.colIndex + cellInfo.colSpan;\r\n                if (rightColIndex >= ut.colsNum) return -1; // 如果处于最右边则不能向右合并\r\n\r\n                var rightCellInfo = ut.indexTable[cellInfo.rowIndex][rightColIndex],\r\n                    rightCell = table.rows[rightCellInfo.rowIndex].cells[rightCellInfo.cellIndex];\r\n                if (!rightCell || cell.tagName != rightCell.tagName) return -1; // TH和TD不能相互合并\r\n\r\n                // 当且仅当两个Cell的开始列号和结束列号一致时能进行合并\r\n                return (rightCellInfo.rowIndex == cellInfo.rowIndex && rightCellInfo.rowSpan == cellInfo.rowSpan) ? 0 : -1;\r\n            },\r\n            execCommand: function(cmd) {\r\n                var rng = this.selection.getRange(),\r\n                    bk = rng.createBookmark(true);\r\n                var cell = getTableItemsByRange(this).cell,\r\n                    ut = getUETable(cell);\r\n                ut.mergeRight(cell);\r\n                rng.moveToBookmark(bk).select();\r\n            }\r\n        };\r\n        UE.commands[\"mergedown\"] = {\r\n            queryCommandState: function(cmd) {\r\n                var tableItems = getTableItemsByRange(this),\r\n                    table = tableItems.table,\r\n                    cell = tableItems.cell;\r\n\r\n                if (!table || !cell) return -1;\r\n                var ut = getUETable(table);\r\n                if (ut.selectedTds.length) return -1;\r\n\r\n                var cellInfo = ut.getCellInfo(cell),\r\n                    downRowIndex = cellInfo.rowIndex + cellInfo.rowSpan;\r\n                if (downRowIndex >= ut.rowsNum) return -1; // 如果处于最下边则不能向下合并\r\n\r\n                var downCellInfo = ut.indexTable[downRowIndex][cellInfo.colIndex],\r\n                    downCell = table.rows[downCellInfo.rowIndex].cells[downCellInfo.cellIndex];\r\n                if (!downCell || cell.tagName != downCell.tagName) return -1; // TH和TD不能相互合并\r\n\r\n                // 当且仅当两个Cell的开始列号和结束列号一致时能进行合并\r\n                return (downCellInfo.colIndex == cellInfo.colIndex && downCellInfo.colSpan == cellInfo.colSpan) ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var rng = this.selection.getRange(),\r\n                    bk = rng.createBookmark(true);\r\n                var cell = getTableItemsByRange(this).cell,\r\n                    ut = getUETable(cell);\r\n                ut.mergeDown(cell);\r\n                rng.moveToBookmark(bk).select();\r\n            }\r\n        };\r\n        UE.commands[\"mergecells\"] = {\r\n            queryCommandState: function() {\r\n                return getUETableBySelected(this) ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var ut = getUETableBySelected(this);\r\n                if (ut && ut.selectedTds.length) {\r\n                    var cell = ut.selectedTds[0];\r\n                    ut.mergeRange();\r\n                    var rng = this.selection.getRange();\r\n                    if (domUtils.isEmptyBlock(cell)) {\r\n                        rng.setStart(cell, 0).collapse(true)\r\n                    } else {\r\n                        rng.selectNodeContents(cell)\r\n                    }\r\n                    rng.select();\r\n                }\r\n\r\n\r\n            }\r\n        };\r\n        UE.commands[\"insertrow\"] = {\r\n            queryCommandState: function() {\r\n                var tableItems = getTableItemsByRange(this),\r\n                    cell = tableItems.cell;\r\n                return cell && (cell.tagName == \"TD\" || (cell.tagName == 'TH' && tableItems.tr !== tableItems.table.rows[0])) &&\r\n                    getUETable(tableItems.table).rowsNum < this.options.maxRowNum ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var rng = this.selection.getRange(),\r\n                    bk = rng.createBookmark(true);\r\n                var tableItems = getTableItemsByRange(this),\r\n                    cell = tableItems.cell,\r\n                    table = tableItems.table,\r\n                    ut = getUETable(table),\r\n                    cellInfo = ut.getCellInfo(cell);\r\n                //ut.insertRow(!ut.selectedTds.length ? cellInfo.rowIndex:ut.cellsRange.beginRowIndex,'');\r\n                if (!ut.selectedTds.length) {\r\n                    ut.insertRow(cellInfo.rowIndex, cell);\r\n                } else {\r\n                    var range = ut.cellsRange;\r\n                    for (var i = 0, len = range.endRowIndex - range.beginRowIndex + 1; i < len; i++) {\r\n                        ut.insertRow(range.beginRowIndex, cell);\r\n                    }\r\n                }\r\n                rng.moveToBookmark(bk).select();\r\n                if (table.getAttribute(\"interlaced\") === \"enabled\") this.fireEvent(\"interlacetable\", table);\r\n            }\r\n        };\r\n        //后插入行\r\n        UE.commands[\"insertrownext\"] = {\r\n            queryCommandState: function() {\r\n                var tableItems = getTableItemsByRange(this),\r\n                    cell = tableItems.cell;\r\n                return cell && (cell.tagName == \"TD\") && getUETable(tableItems.table).rowsNum < this.options.maxRowNum ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var rng = this.selection.getRange(),\r\n                    bk = rng.createBookmark(true);\r\n                var tableItems = getTableItemsByRange(this),\r\n                    cell = tableItems.cell,\r\n                    table = tableItems.table,\r\n                    ut = getUETable(table),\r\n                    cellInfo = ut.getCellInfo(cell);\r\n                //ut.insertRow(!ut.selectedTds.length? cellInfo.rowIndex + cellInfo.rowSpan : ut.cellsRange.endRowIndex + 1,'');\r\n                if (!ut.selectedTds.length) {\r\n                    ut.insertRow(cellInfo.rowIndex + cellInfo.rowSpan, cell);\r\n                } else {\r\n                    var range = ut.cellsRange;\r\n                    for (var i = 0, len = range.endRowIndex - range.beginRowIndex + 1; i < len; i++) {\r\n                        ut.insertRow(range.endRowIndex + 1, cell);\r\n                    }\r\n                }\r\n                rng.moveToBookmark(bk).select();\r\n                if (table.getAttribute(\"interlaced\") === \"enabled\") this.fireEvent(\"interlacetable\", table);\r\n            }\r\n        };\r\n        UE.commands[\"deleterow\"] = {\r\n            queryCommandState: function() {\r\n                var tableItems = getTableItemsByRange(this);\r\n                return tableItems.cell ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var cell = getTableItemsByRange(this).cell,\r\n                    ut = getUETable(cell),\r\n                    cellsRange = ut.cellsRange,\r\n                    cellInfo = ut.getCellInfo(cell),\r\n                    preCell = ut.getVSideCell(cell),\r\n                    nextCell = ut.getVSideCell(cell, true),\r\n                    rng = this.selection.getRange();\r\n                if (utils.isEmptyObject(cellsRange)) {\r\n                    ut.deleteRow(cellInfo.rowIndex);\r\n                } else {\r\n                    for (var i = cellsRange.beginRowIndex; i < cellsRange.endRowIndex + 1; i++) {\r\n                        ut.deleteRow(cellsRange.beginRowIndex);\r\n                    }\r\n                }\r\n                var table = ut.table;\r\n                if (!table.getElementsByTagName('td').length) {\r\n                    var nextSibling = table.nextSibling;\r\n                    domUtils.remove(table);\r\n                    if (nextSibling) {\r\n                        rng.setStart(nextSibling, 0).setCursor(false, true);\r\n                    }\r\n                } else {\r\n                    if (cellInfo.rowSpan == 1 || cellInfo.rowSpan == cellsRange.endRowIndex - cellsRange.beginRowIndex + 1) {\r\n                        if (nextCell || preCell) rng.selectNodeContents(nextCell || preCell).setCursor(false, true);\r\n                    } else {\r\n                        var newCell = ut.getCell(cellInfo.rowIndex, ut.indexTable[cellInfo.rowIndex][cellInfo.colIndex].cellIndex);\r\n                        if (newCell) rng.selectNodeContents(newCell).setCursor(false, true);\r\n                    }\r\n                }\r\n                if (table.getAttribute(\"interlaced\") === \"enabled\") this.fireEvent(\"interlacetable\", table);\r\n            }\r\n        };\r\n        UE.commands[\"insertcol\"] = {\r\n            queryCommandState: function(cmd) {\r\n                var tableItems = getTableItemsByRange(this),\r\n                    cell = tableItems.cell;\r\n                return cell && (cell.tagName == \"TD\" || (cell.tagName == 'TH' && cell !== tableItems.tr.cells[0])) &&\r\n                    getUETable(tableItems.table).colsNum < this.options.maxColNum ? 0 : -1;\r\n            },\r\n            execCommand: function(cmd) {\r\n                var rng = this.selection.getRange(),\r\n                    bk = rng.createBookmark(true);\r\n                if (this.queryCommandState(cmd) == -1) return;\r\n                var cell = getTableItemsByRange(this).cell,\r\n                    ut = getUETable(cell),\r\n                    cellInfo = ut.getCellInfo(cell);\r\n\r\n                //ut.insertCol(!ut.selectedTds.length ? cellInfo.colIndex:ut.cellsRange.beginColIndex);\r\n                if (!ut.selectedTds.length) {\r\n                    ut.insertCol(cellInfo.colIndex, cell);\r\n                } else {\r\n                    var range = ut.cellsRange;\r\n                    for (var i = 0, len = range.endColIndex - range.beginColIndex + 1; i < len; i++) {\r\n                        ut.insertCol(range.beginColIndex, cell);\r\n                    }\r\n                }\r\n                rng.moveToBookmark(bk).select(true);\r\n            }\r\n        };\r\n        UE.commands[\"insertcolnext\"] = {\r\n            queryCommandState: function() {\r\n                var tableItems = getTableItemsByRange(this),\r\n                    cell = tableItems.cell;\r\n                return cell && getUETable(tableItems.table).colsNum < this.options.maxColNum ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var rng = this.selection.getRange(),\r\n                    bk = rng.createBookmark(true);\r\n                var cell = getTableItemsByRange(this).cell,\r\n                    ut = getUETable(cell),\r\n                    cellInfo = ut.getCellInfo(cell);\r\n                //ut.insertCol(!ut.selectedTds.length ? cellInfo.colIndex + cellInfo.colSpan:ut.cellsRange.endColIndex +1);\r\n                if (!ut.selectedTds.length) {\r\n                    ut.insertCol(cellInfo.colIndex + cellInfo.colSpan, cell);\r\n                } else {\r\n                    var range = ut.cellsRange;\r\n                    for (var i = 0, len = range.endColIndex - range.beginColIndex + 1; i < len; i++) {\r\n                        ut.insertCol(range.endColIndex + 1, cell);\r\n                    }\r\n                }\r\n                rng.moveToBookmark(bk).select();\r\n            }\r\n        };\r\n\r\n        UE.commands[\"deletecol\"] = {\r\n            queryCommandState: function() {\r\n                var tableItems = getTableItemsByRange(this);\r\n                return tableItems.cell ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var cell = getTableItemsByRange(this).cell,\r\n                    ut = getUETable(cell),\r\n                    range = ut.cellsRange,\r\n                    cellInfo = ut.getCellInfo(cell),\r\n                    preCell = ut.getHSideCell(cell),\r\n                    nextCell = ut.getHSideCell(cell, true);\r\n                if (utils.isEmptyObject(range)) {\r\n                    ut.deleteCol(cellInfo.colIndex);\r\n                } else {\r\n                    for (var i = range.beginColIndex; i < range.endColIndex + 1; i++) {\r\n                        ut.deleteCol(range.beginColIndex);\r\n                    }\r\n                }\r\n                var table = ut.table,\r\n                    rng = this.selection.getRange();\r\n\r\n                if (!table.getElementsByTagName('td').length) {\r\n                    var nextSibling = table.nextSibling;\r\n                    domUtils.remove(table);\r\n                    if (nextSibling) {\r\n                        rng.setStart(nextSibling, 0).setCursor(false, true);\r\n                    }\r\n                } else {\r\n                    if (domUtils.inDoc(cell, this.document)) {\r\n                        rng.setStart(cell, 0).setCursor(false, true);\r\n                    } else {\r\n                        if (nextCell && domUtils.inDoc(nextCell, this.document)) {\r\n                            rng.selectNodeContents(nextCell).setCursor(false, true);\r\n                        } else {\r\n                            if (preCell && domUtils.inDoc(preCell, this.document)) {\r\n                                rng.selectNodeContents(preCell).setCursor(true, true);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        UE.commands[\"splittocells\"] = {\r\n            queryCommandState: function() {\r\n                var tableItems = getTableItemsByRange(this),\r\n                    cell = tableItems.cell;\r\n                if (!cell) return -1;\r\n                var ut = getUETable(tableItems.table);\r\n                if (ut.selectedTds.length > 0) return -1;\r\n                return cell && (cell.colSpan > 1 || cell.rowSpan > 1) ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var rng = this.selection.getRange(),\r\n                    bk = rng.createBookmark(true);\r\n                var cell = getTableItemsByRange(this).cell,\r\n                    ut = getUETable(cell);\r\n                ut.splitToCells(cell);\r\n                rng.moveToBookmark(bk).select();\r\n            }\r\n        };\r\n        UE.commands[\"splittorows\"] = {\r\n            queryCommandState: function() {\r\n                var tableItems = getTableItemsByRange(this),\r\n                    cell = tableItems.cell;\r\n                if (!cell) return -1;\r\n                var ut = getUETable(tableItems.table);\r\n                if (ut.selectedTds.length > 0) return -1;\r\n                return cell && cell.rowSpan > 1 ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var rng = this.selection.getRange(),\r\n                    bk = rng.createBookmark(true);\r\n                var cell = getTableItemsByRange(this).cell,\r\n                    ut = getUETable(cell);\r\n                ut.splitToRows(cell);\r\n                rng.moveToBookmark(bk).select();\r\n            }\r\n        };\r\n        UE.commands[\"splittocols\"] = {\r\n            queryCommandState: function() {\r\n                var tableItems = getTableItemsByRange(this),\r\n                    cell = tableItems.cell;\r\n                if (!cell) return -1;\r\n                var ut = getUETable(tableItems.table);\r\n                if (ut.selectedTds.length > 0) return -1;\r\n                return cell && cell.colSpan > 1 ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var rng = this.selection.getRange(),\r\n                    bk = rng.createBookmark(true);\r\n                var cell = getTableItemsByRange(this).cell,\r\n                    ut = getUETable(cell);\r\n                ut.splitToCols(cell);\r\n                rng.moveToBookmark(bk).select();\r\n\r\n            }\r\n        };\r\n\r\n        UE.commands[\"adaptbytext\"] =\r\n            UE.commands[\"adaptbywindow\"] = {\r\n                queryCommandState: function() {\r\n                    return getTableItemsByRange(this).table ? 0 : -1\r\n                },\r\n                execCommand: function(cmd) {\r\n                    var tableItems = getTableItemsByRange(this),\r\n                        table = tableItems.table;\r\n                    if (table) {\r\n                        if (cmd == 'adaptbywindow') {\r\n                            resetTdWidth(table, this);\r\n                        } else {\r\n                            var cells = domUtils.getElementsByTagName(table, \"td th\");\r\n                            utils.each(cells, function(cell) {\r\n                                cell.removeAttribute(\"width\");\r\n                            });\r\n                            table.removeAttribute(\"width\");\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n\r\n        //平均分配各列\r\n        UE.commands['averagedistributecol'] = {\r\n            queryCommandState: function() {\r\n                var ut = getUETableBySelected(this);\r\n                if (!ut) return -1;\r\n                return ut.isFullRow() || ut.isFullCol() ? 0 : -1;\r\n            },\r\n            execCommand: function(cmd) {\r\n                var me = this,\r\n                    ut = getUETableBySelected(me);\r\n\r\n                function getAverageWidth() {\r\n                    var tb = ut.table,\r\n                        averageWidth, sumWidth = 0,\r\n                        colsNum = 0,\r\n                        tbAttr = getDefaultValue(me, tb);\r\n\r\n                    if (ut.isFullRow()) {\r\n                        sumWidth = tb.offsetWidth;\r\n                        colsNum = ut.colsNum;\r\n                    } else {\r\n                        var begin = ut.cellsRange.beginColIndex,\r\n                            end = ut.cellsRange.endColIndex,\r\n                            node;\r\n                        for (var i = begin; i <= end;) {\r\n                            node = ut.selectedTds[i];\r\n                            sumWidth += node.offsetWidth;\r\n                            i += node.colSpan;\r\n                            colsNum += 1;\r\n                        }\r\n                    }\r\n                    averageWidth = Math.ceil(sumWidth / colsNum) - tbAttr.tdBorder * 2 - tbAttr.tdPadding * 2;\r\n                    return averageWidth;\r\n                }\r\n\r\n                function setAverageWidth(averageWidth) {\r\n                    utils.each(domUtils.getElementsByTagName(ut.table, \"th\"), function(node) {\r\n                        node.setAttribute(\"width\", \"\");\r\n                    });\r\n                    var cells = ut.isFullRow() ? domUtils.getElementsByTagName(ut.table, \"td\") : ut.selectedTds;\r\n\r\n                    utils.each(cells, function(node) {\r\n                        if (node.colSpan == 1) {\r\n                            node.setAttribute(\"width\", averageWidth);\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (ut && ut.selectedTds.length) {\r\n                    setAverageWidth(getAverageWidth());\r\n                }\r\n            }\r\n        };\r\n        //平均分配各行\r\n        UE.commands['averagedistributerow'] = {\r\n            queryCommandState: function() {\r\n                var ut = getUETableBySelected(this);\r\n                if (!ut) return -1;\r\n                if (ut.selectedTds && /th/ig.test(ut.selectedTds[0].tagName)) return -1;\r\n                return ut.isFullRow() || ut.isFullCol() ? 0 : -1;\r\n            },\r\n            execCommand: function(cmd) {\r\n                var me = this,\r\n                    ut = getUETableBySelected(me);\r\n\r\n                function getAverageHeight() {\r\n                    var averageHeight, rowNum, sumHeight = 0,\r\n                        tb = ut.table,\r\n                        tbAttr = getDefaultValue(me, tb),\r\n                        tdpadding = parseInt(domUtils.getComputedStyle(tb.getElementsByTagName('td')[0], \"padding-top\"));\r\n\r\n                    if (ut.isFullCol()) {\r\n                        var captionArr = domUtils.getElementsByTagName(tb, \"caption\"),\r\n                            thArr = domUtils.getElementsByTagName(tb, \"th\"),\r\n                            captionHeight, thHeight;\r\n\r\n                        if (captionArr.length > 0) {\r\n                            captionHeight = captionArr[0].offsetHeight;\r\n                        }\r\n                        if (thArr.length > 0) {\r\n                            thHeight = thArr[0].offsetHeight;\r\n                        }\r\n\r\n                        sumHeight = tb.offsetHeight - (captionHeight || 0) - (thHeight || 0);\r\n                        rowNum = thArr.length == 0 ? ut.rowsNum : (ut.rowsNum - 1);\r\n                    } else {\r\n                        var begin = ut.cellsRange.beginRowIndex,\r\n                            end = ut.cellsRange.endRowIndex,\r\n                            count = 0,\r\n                            trs = domUtils.getElementsByTagName(tb, \"tr\");\r\n                        for (var i = begin; i <= end; i++) {\r\n                            sumHeight += trs[i].offsetHeight;\r\n                            count += 1;\r\n                        }\r\n                        rowNum = count;\r\n                    }\r\n                    //ie8下是混杂模式\r\n                    if (browser.ie && browser.version < 9) {\r\n                        averageHeight = Math.ceil(sumHeight / rowNum);\r\n                    } else {\r\n                        averageHeight = Math.ceil(sumHeight / rowNum) - tbAttr.tdBorder * 2 - tdpadding * 2;\r\n                    }\r\n                    return averageHeight;\r\n                }\r\n\r\n                function setAverageHeight(averageHeight) {\r\n                    var cells = ut.isFullCol() ? domUtils.getElementsByTagName(ut.table, \"td\") : ut.selectedTds;\r\n                    utils.each(cells, function(node) {\r\n                        if (node.rowSpan == 1) {\r\n                            node.setAttribute(\"height\", averageHeight);\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (ut && ut.selectedTds.length) {\r\n                    setAverageHeight(getAverageHeight());\r\n                }\r\n            }\r\n        };\r\n\r\n        //单元格对齐方式\r\n        UE.commands['cellalignment'] = {\r\n            queryCommandState: function() {\r\n                return getTableItemsByRange(this).table ? 0 : -1\r\n            },\r\n            execCommand: function(cmd, data) {\r\n                var me = this,\r\n                    ut = getUETableBySelected(me);\r\n\r\n                if (!ut) {\r\n                    var start = me.selection.getStart(),\r\n                        cell = start && domUtils.findParentByTagName(start, [\"td\", \"th\", \"caption\"], true);\r\n                    if (!/caption/ig.test(cell.tagName)) {\r\n                        domUtils.setAttributes(cell, data);\r\n                    } else {\r\n                        cell.style.textAlign = data.align;\r\n                        cell.style.verticalAlign = data.vAlign;\r\n                    }\r\n                    me.selection.getRange().setCursor(true);\r\n                } else {\r\n                    utils.each(ut.selectedTds, function(cell) {\r\n                        domUtils.setAttributes(cell, data);\r\n                    });\r\n                }\r\n            },\r\n            /**\r\n             * 查询当前点击的单元格的对齐状态， 如果当前已经选择了多个单元格， 则会返回所有单元格经过统一协调过后的状态\r\n             * @see UE.UETable.getTableCellAlignState\r\n             */\r\n            queryCommandValue: function(cmd) {\r\n\r\n                var activeMenuCell = getTableItemsByRange(this).cell;\r\n\r\n                if (!activeMenuCell) {\r\n                    activeMenuCell = getSelectedArr(this)[0];\r\n                }\r\n\r\n                if (!activeMenuCell) {\r\n\r\n                    return null;\r\n\r\n                } else {\r\n\r\n                    //获取同时选中的其他单元格\r\n                    var cells = UE.UETable.getUETable(activeMenuCell).selectedTds;\r\n\r\n                    !cells.length && (cells = activeMenuCell);\r\n\r\n                    return UE.UETable.getTableCellAlignState(cells);\r\n\r\n                }\r\n\r\n            }\r\n        };\r\n        //表格对齐方式\r\n        UE.commands['tablealignment'] = {\r\n            queryCommandState: function() {\r\n                if (browser.ie && browser.version < 8) {\r\n                    return -1;\r\n                }\r\n                return getTableItemsByRange(this).table ? 0 : -1\r\n            },\r\n            execCommand: function(cmd, value) {\r\n                var me = this,\r\n                    start = me.selection.getStart(),\r\n                    table = start && domUtils.findParentByTagName(start, [\"table\"], true);\r\n\r\n                if (table) {\r\n                    table.setAttribute(\"align\", value);\r\n                }\r\n            }\r\n        };\r\n\r\n        //表格属性\r\n        UE.commands['edittable'] = {\r\n            queryCommandState: function() {\r\n                return getTableItemsByRange(this).table ? 0 : -1\r\n            },\r\n            execCommand: function(cmd, color) {\r\n                var rng = this.selection.getRange(),\r\n                    table = domUtils.findParentByTagName(rng.startContainer, 'table');\r\n                if (table) {\r\n                    var arr = domUtils.getElementsByTagName(table, \"td\").concat(\r\n                        domUtils.getElementsByTagName(table, \"th\"),\r\n                        domUtils.getElementsByTagName(table, \"caption\")\r\n                    );\r\n                    utils.each(arr, function(node) {\r\n                        node.style.borderColor = color;\r\n                    });\r\n                }\r\n            }\r\n        };\r\n        //单元格属性\r\n        UE.commands['edittd'] = {\r\n            queryCommandState: function() {\r\n                return getTableItemsByRange(this).table ? 0 : -1\r\n            },\r\n            execCommand: function(cmd, bkColor) {\r\n                var me = this,\r\n                    ut = getUETableBySelected(me);\r\n\r\n                if (!ut) {\r\n                    var start = me.selection.getStart(),\r\n                        cell = start && domUtils.findParentByTagName(start, [\"td\", \"th\", \"caption\"], true);\r\n                    if (cell) {\r\n                        cell.style.backgroundColor = bkColor;\r\n                    }\r\n                } else {\r\n                    utils.each(ut.selectedTds, function(cell) {\r\n                        cell.style.backgroundColor = bkColor;\r\n                    });\r\n                }\r\n            }\r\n        };\r\n\r\n        UE.commands[\"settablebackground\"] = {\r\n            queryCommandState: function() {\r\n                return getSelectedArr(this).length > 1 ? 0 : -1;\r\n            },\r\n            execCommand: function(cmd, value) {\r\n                var cells, ut;\r\n                cells = getSelectedArr(this);\r\n                ut = getUETable(cells[0]);\r\n                ut.setBackground(cells, value);\r\n            }\r\n        };\r\n\r\n        UE.commands[\"cleartablebackground\"] = {\r\n            queryCommandState: function() {\r\n                var cells = getSelectedArr(this);\r\n                if (!cells.length) return -1;\r\n                for (var i = 0, cell; cell = cells[i++];) {\r\n                    if (cell.style.backgroundColor !== \"\") return 0;\r\n                }\r\n                return -1;\r\n            },\r\n            execCommand: function() {\r\n                var cells = getSelectedArr(this),\r\n                    ut = getUETable(cells[0]);\r\n                ut.removeBackground(cells);\r\n            }\r\n        };\r\n\r\n        UE.commands[\"interlacetable\"] = UE.commands[\"uninterlacetable\"] = {\r\n            queryCommandState: function(cmd) {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (!table) return -1;\r\n                var interlaced = table.getAttribute(\"interlaced\");\r\n                if (cmd == \"interlacetable\") {\r\n                    //TODO 待定\r\n                    //是否需要待定，如果设置，则命令只能单次执行成功，但反射具备toggle效果；否则可以覆盖前次命令，但反射将不存在toggle效果\r\n                    return (interlaced === \"enabled\") ? -1 : 0;\r\n                } else {\r\n                    return (!interlaced || interlaced === \"disabled\") ? -1 : 0;\r\n                }\r\n            },\r\n            execCommand: function(cmd, classList) {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (cmd == \"interlacetable\") {\r\n                    table.setAttribute(\"interlaced\", \"enabled\");\r\n                    this.fireEvent(\"interlacetable\", table, classList);\r\n                } else {\r\n                    table.setAttribute(\"interlaced\", \"disabled\");\r\n                    this.fireEvent(\"uninterlacetable\", table);\r\n                }\r\n            }\r\n        };\r\n        UE.commands[\"setbordervisible\"] = {\r\n            queryCommandState: function(cmd) {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (!table) return -1;\r\n                return 0;\r\n            },\r\n            execCommand: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                utils.each(domUtils.getElementsByTagName(table, 'td'), function(td) {\r\n                    td.style.borderWidth = '1px';\r\n                    td.style.borderStyle = 'solid';\r\n                })\r\n            }\r\n        };\r\n\r\n        function resetTdWidth(table, editor) {\r\n            var tds = domUtils.getElementsByTagName(table, 'td th');\r\n            utils.each(tds, function(td) {\r\n                td.removeAttribute(\"width\");\r\n            });\r\n            table.setAttribute('width', getTableWidth(editor, true, getDefaultValue(editor, table)));\r\n            var tdsWidths = [];\r\n            setTimeout(function() {\r\n                utils.each(tds, function(td) {\r\n                    (td.colSpan == 1) && tdsWidths.push(td.offsetWidth)\r\n                })\r\n                utils.each(tds, function(td, i) {\r\n                    (td.colSpan == 1) && td.setAttribute(\"width\", tdsWidths[i] + \"\");\r\n                })\r\n            }, 0);\r\n        }\r\n\r\n        function getTableWidth(editor, needIEHack, defaultValue) {\r\n            var body = editor.body;\r\n            return body.offsetWidth - (needIEHack ? parseInt(domUtils.getComputedStyle(body, 'margin-left'), 10) * 2 : 0) - defaultValue.tableBorder * 2 - (editor.options.offsetWidth || 0);\r\n        }\r\n\r\n        function getSelectedArr(editor) {\r\n            var cell = getTableItemsByRange(editor).cell;\r\n            if (cell) {\r\n                var ut = getUETable(cell);\r\n                return ut.selectedTds.length ? ut.selectedTds : [cell];\r\n            } else {\r\n                return [];\r\n            }\r\n        }\r\n    })();\r\n\r\n\r\n    // plugins/table.action.js\r\n    /**\r\n     * Created with JetBrains PhpStorm.\r\n     * User: taoqili\r\n     * Date: 12-10-12\r\n     * Time: 上午10:05\r\n     * To change this template use File | Settings | File Templates.\r\n     */\r\n    UE.plugins['table'] = function() {\r\n        var me = this,\r\n            tabTimer = null,\r\n            //拖动计时器\r\n            tableDragTimer = null,\r\n            //双击计时器\r\n            tableResizeTimer = null,\r\n            //单元格最小宽度\r\n            cellMinWidth = 5,\r\n            isInResizeBuffer = false,\r\n            //单元格边框大小\r\n            cellBorderWidth = 5,\r\n            //鼠标偏移距离\r\n            offsetOfTableCell = 10,\r\n            //记录在有限时间内的点击状态， 共有3个取值， 0, 1, 2。 0代表未初始化， 1代表单击了1次，2代表2次\r\n            singleClickState = 0,\r\n            userActionStatus = null,\r\n            //双击允许的时间范围\r\n            dblclickTime = 360,\r\n            UT = UE.UETable,\r\n            getUETable = function(tdOrTable) {\r\n                return UT.getUETable(tdOrTable);\r\n            },\r\n            getUETableBySelected = function(editor) {\r\n                return UT.getUETableBySelected(editor);\r\n            },\r\n            getDefaultValue = function(editor, table) {\r\n                return UT.getDefaultValue(editor, table);\r\n            },\r\n            removeSelectedClass = function(cells) {\r\n                return UT.removeSelectedClass(cells);\r\n            };\r\n\r\n        function showError(e) {\r\n            //        throw e;\r\n        }\r\n        me.ready(function() {\r\n            var me = this;\r\n            var orgGetText = me.selection.getText;\r\n            me.selection.getText = function() {\r\n                var table = getUETableBySelected(me);\r\n                if (table) {\r\n                    var str = '';\r\n                    utils.each(table.selectedTds, function(td) {\r\n                        str += td[browser.ie ? 'innerText' : 'textContent'];\r\n                    })\r\n                    return str;\r\n                } else {\r\n                    return orgGetText.call(me.selection)\r\n                }\r\n\r\n            }\r\n        })\r\n\r\n        //处理拖动及框选相关方法\r\n        var startTd = null, //鼠标按下时的锚点td\r\n            currentTd = null, //当前鼠标经过时的td\r\n            onDrag = \"\", //指示当前拖动状态，其值可为\"\",\"h\",\"v\" ,分别表示未拖动状态，横向拖动状态，纵向拖动状态，用于鼠标移动过程中的判断\r\n            onBorder = false, //检测鼠标按下时是否处在单元格边缘位置\r\n            dragButton = null,\r\n            dragOver = false,\r\n            dragLine = null, //模拟的拖动线\r\n            dragTd = null; //发生拖动的目标td\r\n\r\n        var mousedown = false,\r\n            //todo 判断混乱模式\r\n            needIEHack = true;\r\n\r\n        me.setOpt({\r\n            'maxColNum': 20,\r\n            'maxRowNum': 100,\r\n            'defaultCols': 5,\r\n            'defaultRows': 5,\r\n            'tdvalign': 'top',\r\n            'cursorpath': me.options.UEDITOR_HOME_URL + \"themes/default/images/cursor_\",\r\n            'tableDragable': false,\r\n            'classList': [\"ue-table-interlace-color-single\", \"ue-table-interlace-color-double\"]\r\n        });\r\n        me.getUETable = getUETable;\r\n        var commands = {\r\n            'deletetable': 1,\r\n            'inserttable': 1,\r\n            'cellvalign': 1,\r\n            'insertcaption': 1,\r\n            'deletecaption': 1,\r\n            'inserttitle': 1,\r\n            'deletetitle': 1,\r\n            \"mergeright\": 1,\r\n            \"mergedown\": 1,\r\n            \"mergecells\": 1,\r\n            \"insertrow\": 1,\r\n            \"insertrownext\": 1,\r\n            \"deleterow\": 1,\r\n            \"insertcol\": 1,\r\n            \"insertcolnext\": 1,\r\n            \"deletecol\": 1,\r\n            \"splittocells\": 1,\r\n            \"splittorows\": 1,\r\n            \"splittocols\": 1,\r\n            \"adaptbytext\": 1,\r\n            \"adaptbywindow\": 1,\r\n            \"adaptbycustomer\": 1,\r\n            \"insertparagraph\": 1,\r\n            \"insertparagraphbeforetable\": 1,\r\n            \"averagedistributecol\": 1,\r\n            \"averagedistributerow\": 1\r\n        };\r\n        me.ready(function() {\r\n            utils.cssRule('table',\r\n                //选中的td上的样式\r\n                '.selectTdClass{background-color:#edf5fa !important}' +\r\n                'table.noBorderTable td,table.noBorderTable th,table.noBorderTable caption{border:1px dashed #ddd !important}' +\r\n                //插入的表格的默认样式\r\n                'table{margin-bottom:10px;border-collapse:collapse;display:table;}' +\r\n                'td,th{padding: 5px 10px;border: 1px solid #DDD;}' +\r\n                'caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}' +\r\n                'th{border-top:1px solid #BBB;background-color:#F7F7F7;}' +\r\n                'table tr.firstRow th{border-top-width:2px;}' +\r\n                '.ue-table-interlace-color-single{ background-color: #fcfcfc; } .ue-table-interlace-color-double{ background-color: #f7faff; }' +\r\n                'td p{margin:0;padding:0;}', me.document);\r\n\r\n            var tableCopyList, isFullCol, isFullRow;\r\n            //注册del/backspace事件\r\n            me.addListener('keydown', function(cmd, evt) {\r\n                var me = this;\r\n                var keyCode = evt.keyCode || evt.which;\r\n\r\n                if (keyCode == 8) {\r\n\r\n                    var ut = getUETableBySelected(me);\r\n                    if (ut && ut.selectedTds.length) {\r\n\r\n                        if (ut.isFullCol()) {\r\n                            me.execCommand('deletecol')\r\n                        } else if (ut.isFullRow()) {\r\n                            me.execCommand('deleterow')\r\n                        } else {\r\n                            me.fireEvent('delcells');\r\n                        }\r\n                        domUtils.preventDefault(evt);\r\n                    }\r\n\r\n                    var caption = domUtils.findParentByTagName(me.selection.getStart(), 'caption', true),\r\n                        range = me.selection.getRange();\r\n                    if (range.collapsed && caption && isEmptyBlock(caption)) {\r\n                        me.fireEvent('saveScene');\r\n                        var table = caption.parentNode;\r\n                        domUtils.remove(caption);\r\n                        if (table) {\r\n                            range.setStart(table.rows[0].cells[0], 0).setCursor(false, true);\r\n                        }\r\n                        me.fireEvent('saveScene');\r\n                    }\r\n\r\n                }\r\n\r\n                if (keyCode == 46) {\r\n\r\n                    ut = getUETableBySelected(me);\r\n                    if (ut) {\r\n                        me.fireEvent('saveScene');\r\n                        for (var i = 0, ci; ci = ut.selectedTds[i++];) {\r\n                            domUtils.fillNode(me.document, ci)\r\n                        }\r\n                        me.fireEvent('saveScene');\r\n                        domUtils.preventDefault(evt);\r\n\r\n                    }\r\n\r\n                }\r\n                if (keyCode == 13) {\r\n\r\n                    var rng = me.selection.getRange(),\r\n                        caption = domUtils.findParentByTagName(rng.startContainer, 'caption', true);\r\n                    if (caption) {\r\n                        var table = domUtils.findParentByTagName(caption, 'table');\r\n                        if (!rng.collapsed) {\r\n\r\n                            rng.deleteContents();\r\n                            me.fireEvent('saveScene');\r\n                        } else {\r\n                            if (caption) {\r\n                                rng.setStart(table.rows[0].cells[0], 0).setCursor(false, true);\r\n                            }\r\n                        }\r\n                        domUtils.preventDefault(evt);\r\n                        return;\r\n                    }\r\n                    if (rng.collapsed) {\r\n                        var table = domUtils.findParentByTagName(rng.startContainer, 'table');\r\n                        if (table) {\r\n                            var cell = table.rows[0].cells[0],\r\n                                start = domUtils.findParentByTagName(me.selection.getStart(), ['td', 'th'], true),\r\n                                preNode = table.previousSibling;\r\n                            if (cell === start && (!preNode || preNode.nodeType == 1 && preNode.tagName == 'TABLE') && domUtils.isStartInblock(rng)) {\r\n                                var first = domUtils.findParent(me.selection.getStart(), function(n) { return domUtils.isBlockElm(n) }, true);\r\n                                if (first && (/t(h|d)/i.test(first.tagName) || first === start.firstChild)) {\r\n                                    me.execCommand('insertparagraphbeforetable');\r\n                                    domUtils.preventDefault(evt);\r\n                                }\r\n\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if ((evt.ctrlKey || evt.metaKey) && evt.keyCode == '67') {\r\n                    tableCopyList = null;\r\n                    var ut = getUETableBySelected(me);\r\n                    if (ut) {\r\n                        var tds = ut.selectedTds;\r\n                        isFullCol = ut.isFullCol();\r\n                        isFullRow = ut.isFullRow();\r\n                        tableCopyList = [\r\n                            [ut.cloneCell(tds[0], null, true)]\r\n                        ];\r\n                        for (var i = 1, ci; ci = tds[i]; i++) {\r\n                            if (ci.parentNode !== tds[i - 1].parentNode) {\r\n                                tableCopyList.push([ut.cloneCell(ci, null, true)]);\r\n                            } else {\r\n                                tableCopyList[tableCopyList.length - 1].push(ut.cloneCell(ci, null, true));\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            me.addListener(\"tablehasdeleted\", function() {\r\n                toggleDraggableState(this, false, \"\", null);\r\n                if (dragButton) domUtils.remove(dragButton);\r\n            });\r\n\r\n            me.addListener('beforepaste', function(cmd, html) {\r\n                var me = this;\r\n                var rng = me.selection.getRange();\r\n                if (domUtils.findParentByTagName(rng.startContainer, 'caption', true)) {\r\n                    var div = me.document.createElement(\"div\");\r\n                    div.innerHTML = html.html;\r\n                    //trace:3729\r\n                    html.html = div[browser.ie9below ? 'innerText' : 'textContent'];\r\n                    return;\r\n                }\r\n                var table = getUETableBySelected(me);\r\n                if (tableCopyList) {\r\n                    me.fireEvent('saveScene');\r\n                    var rng = me.selection.getRange();\r\n                    var td = domUtils.findParentByTagName(rng.startContainer, ['td', 'th'], true),\r\n                        tmpNode, preNode;\r\n                    if (td) {\r\n                        var ut = getUETable(td);\r\n                        if (isFullRow) {\r\n                            var rowIndex = ut.getCellInfo(td).rowIndex;\r\n                            if (td.tagName == 'TH') {\r\n                                rowIndex++;\r\n                            }\r\n                            for (var i = 0, ci; ci = tableCopyList[i++];) {\r\n                                var tr = ut.insertRow(rowIndex++, \"td\");\r\n                                for (var j = 0, cj; cj = ci[j]; j++) {\r\n                                    var cell = tr.cells[j];\r\n                                    if (!cell) {\r\n                                        cell = tr.insertCell(j)\r\n                                    }\r\n                                    cell.innerHTML = cj.innerHTML;\r\n                                    cj.getAttribute('width') && cell.setAttribute('width', cj.getAttribute('width'));\r\n                                    cj.getAttribute('vAlign') && cell.setAttribute('vAlign', cj.getAttribute('vAlign'));\r\n                                    cj.getAttribute('align') && cell.setAttribute('align', cj.getAttribute('align'));\r\n                                    cj.style.cssText && (cell.style.cssText = cj.style.cssText)\r\n                                }\r\n                                for (var j = 0, cj; cj = tr.cells[j]; j++) {\r\n                                    if (!ci[j])\r\n                                        break;\r\n                                    cj.innerHTML = ci[j].innerHTML;\r\n                                    ci[j].getAttribute('width') && cj.setAttribute('width', ci[j].getAttribute('width'));\r\n                                    ci[j].getAttribute('vAlign') && cj.setAttribute('vAlign', ci[j].getAttribute('vAlign'));\r\n                                    ci[j].getAttribute('align') && cj.setAttribute('align', ci[j].getAttribute('align'));\r\n                                    ci[j].style.cssText && (cj.style.cssText = ci[j].style.cssText)\r\n                                }\r\n                            }\r\n                        } else {\r\n                            if (isFullCol) {\r\n                                cellInfo = ut.getCellInfo(td);\r\n                                var maxColNum = 0;\r\n                                for (var j = 0, ci = tableCopyList[0], cj; cj = ci[j++];) {\r\n                                    maxColNum += cj.colSpan || 1;\r\n                                }\r\n                                me.__hasEnterExecCommand = true;\r\n                                for (i = 0; i < maxColNum; i++) {\r\n                                    me.execCommand('insertcol');\r\n                                }\r\n                                me.__hasEnterExecCommand = false;\r\n                                td = ut.table.rows[0].cells[cellInfo.cellIndex];\r\n                                if (td.tagName == 'TH') {\r\n                                    td = ut.table.rows[1].cells[cellInfo.cellIndex];\r\n                                }\r\n                            }\r\n                            for (var i = 0, ci; ci = tableCopyList[i++];) {\r\n                                tmpNode = td;\r\n                                for (var j = 0, cj; cj = ci[j++];) {\r\n                                    if (td) {\r\n                                        td.innerHTML = cj.innerHTML;\r\n                                        //todo 定制处理\r\n                                        cj.getAttribute('width') && td.setAttribute('width', cj.getAttribute('width'));\r\n                                        cj.getAttribute('vAlign') && td.setAttribute('vAlign', cj.getAttribute('vAlign'));\r\n                                        cj.getAttribute('align') && td.setAttribute('align', cj.getAttribute('align'));\r\n                                        cj.style.cssText && (td.style.cssText = cj.style.cssText);\r\n                                        preNode = td;\r\n                                        td = td.nextSibling;\r\n                                    } else {\r\n                                        var cloneTd = cj.cloneNode(true);\r\n                                        domUtils.removeAttributes(cloneTd, ['class', 'rowSpan', 'colSpan']);\r\n\r\n                                        preNode.parentNode.appendChild(cloneTd)\r\n                                    }\r\n                                }\r\n                                td = ut.getNextCell(tmpNode, true, true);\r\n                                if (!tableCopyList[i])\r\n                                    break;\r\n                                if (!td) {\r\n                                    var cellInfo = ut.getCellInfo(tmpNode);\r\n                                    ut.table.insertRow(ut.table.rows.length);\r\n                                    ut.update();\r\n                                    td = ut.getVSideCell(tmpNode, true);\r\n                                }\r\n                            }\r\n                        }\r\n                        ut.update();\r\n                    } else {\r\n                        table = me.document.createElement('table');\r\n                        for (var i = 0, ci; ci = tableCopyList[i++];) {\r\n                            var tr = table.insertRow(table.rows.length);\r\n                            for (var j = 0, cj; cj = ci[j++];) {\r\n                                cloneTd = UT.cloneCell(cj, null, true);\r\n                                domUtils.removeAttributes(cloneTd, ['class']);\r\n                                tr.appendChild(cloneTd)\r\n                            }\r\n                            if (j == 2 && cloneTd.rowSpan > 1) {\r\n                                cloneTd.rowSpan = 1;\r\n                            }\r\n                        }\r\n\r\n                        var defaultValue = getDefaultValue(me),\r\n                            width = me.body.offsetWidth -\r\n                            (needIEHack ? parseInt(domUtils.getComputedStyle(me.body, 'margin-left'), 10) * 2 : 0) - defaultValue.tableBorder * 2 - (me.options.offsetWidth || 0);\r\n                        me.execCommand('insertHTML', '<table  ' +\r\n                            (isFullCol && isFullRow ? 'width=\"' + width + '\"' : '') +\r\n                            '>' + table.innerHTML.replace(/>\\s*</g, '><').replace(/\\bth\\b/gi, \"td\") + '</table>')\r\n                    }\r\n                    me.fireEvent('contentchange');\r\n                    me.fireEvent('saveScene');\r\n                    html.html = '';\r\n                    return true;\r\n                } else {\r\n                    var div = me.document.createElement(\"div\"),\r\n                        tables;\r\n                    div.innerHTML = html.html;\r\n                    tables = div.getElementsByTagName(\"table\");\r\n                    if (domUtils.findParentByTagName(me.selection.getStart(), 'table')) {\r\n                        utils.each(tables, function(t) {\r\n                            domUtils.remove(t)\r\n                        });\r\n                        if (domUtils.findParentByTagName(me.selection.getStart(), 'caption', true)) {\r\n                            div.innerHTML = div[browser.ie ? 'innerText' : 'textContent'];\r\n                        }\r\n                    } else {\r\n                        utils.each(tables, function(table) {\r\n                            removeStyleSize(table, true);\r\n                            domUtils.removeAttributes(table, ['style', 'border']);\r\n                            utils.each(domUtils.getElementsByTagName(table, \"td\"), function(td) {\r\n                                if (isEmptyBlock(td)) {\r\n                                    domUtils.fillNode(me.document, td);\r\n                                }\r\n                                removeStyleSize(td, true);\r\n                                //                            domUtils.removeAttributes(td, ['style'])\r\n                            });\r\n                        });\r\n                    }\r\n                    html.html = div.innerHTML;\r\n                }\r\n            });\r\n\r\n            me.addListener('afterpaste', function() {\r\n                utils.each(domUtils.getElementsByTagName(me.body, \"table\"), function(table) {\r\n                    if (table.offsetWidth > me.body.offsetWidth) {\r\n                        var defaultValue = getDefaultValue(me, table);\r\n                        table.style.width = me.body.offsetWidth - (needIEHack ? parseInt(domUtils.getComputedStyle(me.body, 'margin-left'), 10) * 2 : 0) - defaultValue.tableBorder * 2 - (me.options.offsetWidth || 0) + 'px'\r\n                    }\r\n                })\r\n            });\r\n            me.addListener('blur', function() {\r\n                tableCopyList = null;\r\n            });\r\n            var timer;\r\n            me.addListener('keydown', function() {\r\n                clearTimeout(timer);\r\n                timer = setTimeout(function() {\r\n                    var rng = me.selection.getRange(),\r\n                        cell = domUtils.findParentByTagName(rng.startContainer, ['th', 'td'], true);\r\n                    if (cell) {\r\n                        var table = cell.parentNode.parentNode.parentNode;\r\n                        if (table.offsetWidth > table.getAttribute(\"width\")) {\r\n                            cell.style.wordBreak = \"break-all\";\r\n                        }\r\n                    }\r\n\r\n                }, 100);\r\n            });\r\n            me.addListener(\"selectionchange\", function() {\r\n                toggleDraggableState(me, false, \"\", null);\r\n            });\r\n\r\n\r\n            //内容变化时触发索引更新\r\n            //todo 可否考虑标记检测，如果不涉及表格的变化就不进行索引重建和更新\r\n            me.addListener(\"contentchange\", function() {\r\n                var me = this;\r\n                //尽可能排除一些不需要更新的状况\r\n                hideDragLine(me);\r\n                if (getUETableBySelected(me)) return;\r\n                var rng = me.selection.getRange();\r\n                var start = rng.startContainer;\r\n                start = domUtils.findParentByTagName(start, ['td', 'th'], true);\r\n                utils.each(domUtils.getElementsByTagName(me.document, 'table'), function(table) {\r\n                    if (me.fireEvent(\"excludetable\", table) === true) return;\r\n                    table.ueTable = new UT(table);\r\n                    //trace:3742\r\n                    //                utils.each(domUtils.getElementsByTagName(me.document, 'td'), function (td) {\r\n                    //\r\n                    //                    if (domUtils.isEmptyBlock(td) && td !== start) {\r\n                    //                        domUtils.fillNode(me.document, td);\r\n                    //                        if (browser.ie && browser.version == 6) {\r\n                    //                            td.innerHTML = '&nbsp;'\r\n                    //                        }\r\n                    //                    }\r\n                    //                });\r\n                    //                utils.each(domUtils.getElementsByTagName(me.document, 'th'), function (th) {\r\n                    //                    if (domUtils.isEmptyBlock(th) && th !== start) {\r\n                    //                        domUtils.fillNode(me.document, th);\r\n                    //                        if (browser.ie && browser.version == 6) {\r\n                    //                            th.innerHTML = '&nbsp;'\r\n                    //                        }\r\n                    //                    }\r\n                    //                });\r\n                    table.onmouseover = function() {\r\n                        me.fireEvent('tablemouseover', table);\r\n                    };\r\n                    table.onmousemove = function() {\r\n                        me.fireEvent('tablemousemove', table);\r\n                        me.options.tableDragable && toggleDragButton(true, this, me);\r\n                        utils.defer(function() {\r\n                            me.fireEvent('contentchange', 50)\r\n                        }, true)\r\n                    };\r\n                    table.onmouseout = function() {\r\n                        me.fireEvent('tablemouseout', table);\r\n                        toggleDraggableState(me, false, \"\", null);\r\n                        hideDragLine(me);\r\n                    };\r\n                    table.onclick = function(evt) {\r\n                        evt = me.window.event || evt;\r\n                        var target = getParentTdOrTh(evt.target || evt.srcElement);\r\n                        if (!target) return;\r\n                        var ut = getUETable(target),\r\n                            table = ut.table,\r\n                            cellInfo = ut.getCellInfo(target),\r\n                            cellsRange,\r\n                            rng = me.selection.getRange();\r\n                        //                    if (\"topLeft\" == inPosition(table, mouseCoords(evt))) {\r\n                        //                        cellsRange = ut.getCellsRange(ut.table.rows[0].cells[0], ut.getLastCell());\r\n                        //                        ut.setSelected(cellsRange);\r\n                        //                        return;\r\n                        //                    }\r\n                        //                    if (\"bottomRight\" == inPosition(table, mouseCoords(evt))) {\r\n                        //\r\n                        //                        return;\r\n                        //                    }\r\n                        if (inTableSide(table, target, evt, true)) {\r\n                            var endTdCol = ut.getCell(ut.indexTable[ut.rowsNum - 1][cellInfo.colIndex].rowIndex, ut.indexTable[ut.rowsNum - 1][cellInfo.colIndex].cellIndex);\r\n                            if (evt.shiftKey && ut.selectedTds.length) {\r\n                                if (ut.selectedTds[0] !== endTdCol) {\r\n                                    cellsRange = ut.getCellsRange(ut.selectedTds[0], endTdCol);\r\n                                    ut.setSelected(cellsRange);\r\n                                } else {\r\n                                    rng && rng.selectNodeContents(endTdCol).select();\r\n                                }\r\n                            } else {\r\n                                if (target !== endTdCol) {\r\n                                    cellsRange = ut.getCellsRange(target, endTdCol);\r\n                                    ut.setSelected(cellsRange);\r\n                                } else {\r\n                                    rng && rng.selectNodeContents(endTdCol).select();\r\n                                }\r\n                            }\r\n                            return;\r\n                        }\r\n                        if (inTableSide(table, target, evt)) {\r\n                            var endTdRow = ut.getCell(ut.indexTable[cellInfo.rowIndex][ut.colsNum - 1].rowIndex, ut.indexTable[cellInfo.rowIndex][ut.colsNum - 1].cellIndex);\r\n                            if (evt.shiftKey && ut.selectedTds.length) {\r\n                                if (ut.selectedTds[0] !== endTdRow) {\r\n                                    cellsRange = ut.getCellsRange(ut.selectedTds[0], endTdRow);\r\n                                    ut.setSelected(cellsRange);\r\n                                } else {\r\n                                    rng && rng.selectNodeContents(endTdRow).select();\r\n                                }\r\n                            } else {\r\n                                if (target !== endTdRow) {\r\n                                    cellsRange = ut.getCellsRange(target, endTdRow);\r\n                                    ut.setSelected(cellsRange);\r\n                                } else {\r\n                                    rng && rng.selectNodeContents(endTdRow).select();\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                });\r\n\r\n                switchBorderColor(me, true);\r\n            });\r\n\r\n            domUtils.on(me.document, \"mousemove\", mouseMoveEvent);\r\n\r\n            domUtils.on(me.document, \"mouseout\", function(evt) {\r\n                var target = evt.target || evt.srcElement;\r\n                if (target.tagName == \"TABLE\") {\r\n                    toggleDraggableState(me, false, \"\", null);\r\n                }\r\n            });\r\n            /**\r\n             * 表格隔行变色\r\n             */\r\n            me.addListener(\"interlacetable\", function(type, table, classList) {\r\n                if (!table) return;\r\n                var me = this,\r\n                    rows = table.rows,\r\n                    len = rows.length,\r\n                    getClass = function(list, index, repeat) {\r\n                        return list[index] ? list[index] : repeat ? list[index % list.length] : \"\";\r\n                    };\r\n                for (var i = 0; i < len; i++) {\r\n                    rows[i].className = getClass(classList || me.options.classList, i, true);\r\n                }\r\n            });\r\n            me.addListener(\"uninterlacetable\", function(type, table) {\r\n                if (!table) return;\r\n                var me = this,\r\n                    rows = table.rows,\r\n                    classList = me.options.classList,\r\n                    len = rows.length;\r\n                for (var i = 0; i < len; i++) {\r\n                    domUtils.removeClasses(rows[i], classList);\r\n                }\r\n            });\r\n\r\n            me.addListener(\"mousedown\", mouseDownEvent);\r\n            me.addListener(\"mouseup\", mouseUpEvent);\r\n            //拖动的时候触发mouseup\r\n            domUtils.on(me.body, 'dragstart', function(evt) {\r\n                mouseUpEvent.call(me, 'dragstart', evt);\r\n            });\r\n            me.addOutputRule(function(root) {\r\n                utils.each(root.getNodesByTagName('div'), function(n) {\r\n                    if (n.getAttr('id') == 'ue_tableDragLine') {\r\n                        n.parentNode.removeChild(n);\r\n                    }\r\n                });\r\n            });\r\n\r\n            var currentRowIndex = 0;\r\n            me.addListener(\"mousedown\", function() {\r\n                currentRowIndex = 0;\r\n            });\r\n            me.addListener('tabkeydown', function() {\r\n                var range = this.selection.getRange(),\r\n                    common = range.getCommonAncestor(true, true),\r\n                    table = domUtils.findParentByTagName(common, 'table');\r\n                if (table) {\r\n                    if (domUtils.findParentByTagName(common, 'caption', true)) {\r\n                        var cell = domUtils.getElementsByTagName(table, 'th td');\r\n                        if (cell && cell.length) {\r\n                            range.setStart(cell[0], 0).setCursor(false, true)\r\n                        }\r\n                    } else {\r\n                        var cell = domUtils.findParentByTagName(common, ['td', 'th'], true),\r\n                            ua = getUETable(cell);\r\n                        currentRowIndex = cell.rowSpan > 1 ? currentRowIndex : ua.getCellInfo(cell).rowIndex;\r\n                        var nextCell = ua.getTabNextCell(cell, currentRowIndex);\r\n                        if (nextCell) {\r\n                            if (isEmptyBlock(nextCell)) {\r\n                                range.setStart(nextCell, 0).setCursor(false, true)\r\n                            } else {\r\n                                range.selectNodeContents(nextCell).select()\r\n                            }\r\n                        } else {\r\n                            me.fireEvent('saveScene');\r\n                            me.__hasEnterExecCommand = true;\r\n                            this.execCommand('insertrownext');\r\n                            me.__hasEnterExecCommand = false;\r\n                            range = this.selection.getRange();\r\n                            range.setStart(table.rows[table.rows.length - 1].cells[0], 0).setCursor();\r\n                            me.fireEvent('saveScene');\r\n                        }\r\n                    }\r\n                    return true;\r\n                }\r\n\r\n            });\r\n            browser.ie && me.addListener('selectionchange', function() {\r\n                toggleDraggableState(this, false, \"\", null);\r\n            });\r\n            me.addListener(\"keydown\", function(type, evt) {\r\n                var me = this;\r\n                //处理在表格的最后一个输入tab产生新的表格\r\n                var keyCode = evt.keyCode || evt.which;\r\n                if (keyCode == 8 || keyCode == 46) {\r\n                    return;\r\n                }\r\n                var notCtrlKey = !evt.ctrlKey && !evt.metaKey && !evt.shiftKey && !evt.altKey;\r\n                notCtrlKey && removeSelectedClass(domUtils.getElementsByTagName(me.body, \"td\"));\r\n                var ut = getUETableBySelected(me);\r\n                if (!ut) return;\r\n                notCtrlKey && ut.clearSelected();\r\n            });\r\n\r\n            me.addListener(\"beforegetcontent\", function() {\r\n                switchBorderColor(this, false);\r\n                browser.ie && utils.each(this.document.getElementsByTagName('caption'), function(ci) {\r\n                    if (domUtils.isEmptyNode(ci)) {\r\n                        ci.innerHTML = '&nbsp;'\r\n                    }\r\n                });\r\n            });\r\n            me.addListener(\"aftergetcontent\", function() {\r\n                switchBorderColor(this, true);\r\n            });\r\n            me.addListener(\"getAllHtml\", function() {\r\n                removeSelectedClass(me.document.getElementsByTagName(\"td\"));\r\n            });\r\n            //修正全屏状态下插入的表格宽度在非全屏状态下撑开编辑器的情况\r\n            me.addListener(\"fullscreenchanged\", function(type, fullscreen) {\r\n                if (!fullscreen) {\r\n                    var ratio = this.body.offsetWidth / document.body.offsetWidth,\r\n                        tables = domUtils.getElementsByTagName(this.body, \"table\");\r\n                    utils.each(tables, function(table) {\r\n                        if (table.offsetWidth < me.body.offsetWidth) return false;\r\n                        var tds = domUtils.getElementsByTagName(table, \"td\"),\r\n                            backWidths = [];\r\n                        utils.each(tds, function(td) {\r\n                            backWidths.push(td.offsetWidth);\r\n                        });\r\n                        for (var i = 0, td; td = tds[i]; i++) {\r\n                            td.setAttribute(\"width\", Math.floor(backWidths[i] * ratio));\r\n                        }\r\n                        table.setAttribute(\"width\", Math.floor(getTableWidth(me, needIEHack, getDefaultValue(me))))\r\n                    });\r\n                }\r\n            });\r\n\r\n            //重写execCommand命令，用于处理框选时的处理\r\n            var oldExecCommand = me.execCommand;\r\n            me.execCommand = function(cmd, datatat) {\r\n\r\n                var me = this,\r\n                    args = arguments;\r\n\r\n                cmd = cmd.toLowerCase();\r\n                var ut = getUETableBySelected(me),\r\n                    tds,\r\n                    range = new dom.Range(me.document),\r\n                    cmdFun = me.commands[cmd] || UE.commands[cmd],\r\n                    result;\r\n                if (!cmdFun) return;\r\n                if (ut && !commands[cmd] && !cmdFun.notNeedUndo && !me.__hasEnterExecCommand) {\r\n                    me.__hasEnterExecCommand = true;\r\n                    me.fireEvent(\"beforeexeccommand\", cmd);\r\n                    tds = ut.selectedTds;\r\n                    var lastState = -2,\r\n                        lastValue = -2,\r\n                        value, state;\r\n                    for (var i = 0, td; td = tds[i]; i++) {\r\n                        if (isEmptyBlock(td)) {\r\n                            range.setStart(td, 0).setCursor(false, true)\r\n                        } else {\r\n                            range.selectNode(td).select(true);\r\n                        }\r\n                        state = me.queryCommandState(cmd);\r\n                        value = me.queryCommandValue(cmd);\r\n                        if (state != -1) {\r\n                            if (lastState !== state || lastValue !== value) {\r\n                                me._ignoreContentChange = true;\r\n                                result = oldExecCommand.apply(me, arguments);\r\n                                me._ignoreContentChange = false;\r\n\r\n                            }\r\n                            lastState = me.queryCommandState(cmd);\r\n                            lastValue = me.queryCommandValue(cmd);\r\n                            if (domUtils.isEmptyBlock(td)) {\r\n                                domUtils.fillNode(me.document, td)\r\n                            }\r\n                        }\r\n                    }\r\n                    range.setStart(tds[0], 0).shrinkBoundary(true).setCursor(false, true);\r\n                    me.fireEvent('contentchange');\r\n                    me.fireEvent(\"afterexeccommand\", cmd);\r\n                    me.__hasEnterExecCommand = false;\r\n                    me._selectionChange();\r\n                } else {\r\n                    result = oldExecCommand.apply(me, arguments);\r\n                }\r\n                return result;\r\n            };\r\n\r\n\r\n        });\r\n        /**\r\n         * 删除obj的宽高style，改成属性宽高\r\n         * @param obj\r\n         * @param replaceToProperty\r\n         */\r\n        function removeStyleSize(obj, replaceToProperty) {\r\n            removeStyle(obj, \"width\", true);\r\n            removeStyle(obj, \"height\", true);\r\n        }\r\n\r\n        function removeStyle(obj, styleName, replaceToProperty) {\r\n            if (obj.style[styleName]) {\r\n                replaceToProperty && obj.setAttribute(styleName, parseInt(obj.style[styleName], 10));\r\n                obj.style[styleName] = \"\";\r\n            }\r\n        }\r\n\r\n        function getParentTdOrTh(ele) {\r\n            if (ele.tagName == \"TD\" || ele.tagName == \"TH\") return ele;\r\n            var td;\r\n            if (td = domUtils.findParentByTagName(ele, \"td\", true) || domUtils.findParentByTagName(ele, \"th\", true)) return td;\r\n            return null;\r\n        }\r\n\r\n        function isEmptyBlock(node) {\r\n            var reg = new RegExp(domUtils.fillChar, 'g');\r\n            if (node[browser.ie ? 'innerText' : 'textContent'].replace(/^\\s*$/, '').replace(reg, '').length > 0) {\r\n                return 0;\r\n            }\r\n            for (var n in dtd.$isNotEmpty) {\r\n                if (node.getElementsByTagName(n).length) {\r\n                    return 0;\r\n                }\r\n            }\r\n            return 1;\r\n        }\r\n\r\n\r\n        function mouseCoords(evt) {\r\n            if (evt.pageX || evt.pageY) {\r\n                return { x: evt.pageX, y: evt.pageY };\r\n            }\r\n            return {\r\n                x: evt.clientX + me.document.body.scrollLeft - me.document.body.clientLeft,\r\n                y: evt.clientY + me.document.body.scrollTop - me.document.body.clientTop\r\n            };\r\n        }\r\n\r\n        function mouseMoveEvent(evt) {\r\n\r\n            if (isEditorDisabled()) {\r\n                return;\r\n            }\r\n\r\n            try {\r\n\r\n                //普通状态下鼠标移动\r\n                var target = getParentTdOrTh(evt.target || evt.srcElement),\r\n                    pos;\r\n\r\n                //区分用户的行为是拖动还是双击\r\n                if (isInResizeBuffer) {\r\n\r\n                    me.body.style.webkitUserSelect = 'none';\r\n\r\n                    if (Math.abs(userActionStatus.x - evt.clientX) > offsetOfTableCell || Math.abs(userActionStatus.y - evt.clientY) > offsetOfTableCell) {\r\n                        clearTableDragTimer();\r\n                        isInResizeBuffer = false;\r\n                        singleClickState = 0;\r\n                        //drag action\r\n                        tableBorderDrag(evt);\r\n                    }\r\n                }\r\n\r\n                //修改单元格大小时的鼠标移动\r\n                if (onDrag && dragTd) {\r\n                    singleClickState = 0;\r\n                    me.body.style.webkitUserSelect = 'none';\r\n                    me.selection.getNative()[browser.ie9below ? 'empty' : 'removeAllRanges']();\r\n                    pos = mouseCoords(evt);\r\n                    toggleDraggableState(me, true, onDrag, pos, target);\r\n                    if (onDrag == \"h\") {\r\n                        dragLine.style.left = getPermissionX(dragTd, evt) + \"px\";\r\n                    } else if (onDrag == \"v\") {\r\n                        dragLine.style.top = getPermissionY(dragTd, evt) + \"px\";\r\n                    }\r\n                    return;\r\n                }\r\n                //当鼠标处于table上时，修改移动过程中的光标状态\r\n                if (target) {\r\n                    //针对使用table作为容器的组件不触发拖拽效果\r\n                    if (me.fireEvent('excludetable', target) === true)\r\n                        return;\r\n                    pos = mouseCoords(evt);\r\n                    var state = getRelation(target, pos),\r\n                        table = domUtils.findParentByTagName(target, \"table\", true);\r\n\r\n                    if (inTableSide(table, target, evt, true)) {\r\n                        if (me.fireEvent(\"excludetable\", table) === true) return;\r\n                        me.body.style.cursor = \"url(\" + me.options.cursorpath + \"h.png),pointer\";\r\n                    } else if (inTableSide(table, target, evt)) {\r\n                        if (me.fireEvent(\"excludetable\", table) === true) return;\r\n                        me.body.style.cursor = \"url(\" + me.options.cursorpath + \"v.png),pointer\";\r\n                    } else {\r\n                        me.body.style.cursor = \"text\";\r\n                        var curCell = target;\r\n                        if (/\\d/.test(state)) {\r\n                            state = state.replace(/\\d/, '');\r\n                            target = getUETable(target).getPreviewCell(target, state == \"v\");\r\n                        }\r\n                        //位于第一行的顶部或者第一列的左边时不可拖动\r\n                        toggleDraggableState(me, target ? !!state : false, target ? state : '', pos, target);\r\n\r\n                    }\r\n                } else {\r\n                    toggleDragButton(false, table, me);\r\n                }\r\n\r\n            } catch (e) {\r\n                showError(e);\r\n            }\r\n        }\r\n\r\n        var dragButtonTimer;\r\n\r\n        function toggleDragButton(show, table, editor) {\r\n            if (!show) {\r\n                if (dragOver) return;\r\n                dragButtonTimer = setTimeout(function() {\r\n                    !dragOver && dragButton && dragButton.parentNode && dragButton.parentNode.removeChild(dragButton);\r\n                }, 2000);\r\n            } else {\r\n                createDragButton(table, editor);\r\n            }\r\n        }\r\n\r\n        function createDragButton(table, editor) {\r\n            var pos = domUtils.getXY(table),\r\n                doc = table.ownerDocument;\r\n            if (dragButton && dragButton.parentNode) return dragButton;\r\n            dragButton = doc.createElement(\"div\");\r\n            dragButton.contentEditable = false;\r\n            dragButton.innerHTML = \"\";\r\n            dragButton.style.cssText = \"width:15px;height:15px;background-image:url(\" + editor.options.UEDITOR_HOME_URL + \"dialogs/table/dragicon.png);position: absolute;cursor:move;top:\" + (pos.y - 15) + \"px;left:\" + (pos.x) + \"px;\";\r\n            domUtils.unSelectable(dragButton);\r\n            dragButton.onmouseover = function(evt) {\r\n                dragOver = true;\r\n            };\r\n            dragButton.onmouseout = function(evt) {\r\n                dragOver = false;\r\n            };\r\n            domUtils.on(dragButton, 'click', function(type, evt) {\r\n                doClick(evt, this);\r\n            });\r\n            domUtils.on(dragButton, 'dblclick', function(type, evt) {\r\n                doDblClick(evt);\r\n            });\r\n            domUtils.on(dragButton, 'dragstart', function(type, evt) {\r\n                domUtils.preventDefault(evt);\r\n            });\r\n            var timer;\r\n\r\n            function doClick(evt, button) {\r\n                // 部分浏览器下需要清理\r\n                clearTimeout(timer);\r\n                timer = setTimeout(function() {\r\n                    editor.fireEvent(\"tableClicked\", table, button);\r\n                }, 300);\r\n            }\r\n\r\n            function doDblClick(evt) {\r\n                clearTimeout(timer);\r\n                var ut = getUETable(table),\r\n                    start = table.rows[0].cells[0],\r\n                    end = ut.getLastCell(),\r\n                    range = ut.getCellsRange(start, end);\r\n                editor.selection.getRange().setStart(start, 0).setCursor(false, true);\r\n                ut.setSelected(range);\r\n            }\r\n\r\n            doc.body.appendChild(dragButton);\r\n        }\r\n\r\n\r\n        //    function inPosition(table, pos) {\r\n        //        var tablePos = domUtils.getXY(table),\r\n        //            width = table.offsetWidth,\r\n        //            height = table.offsetHeight;\r\n        //        if (pos.x - tablePos.x < 5 && pos.y - tablePos.y < 5) {\r\n        //            return \"topLeft\";\r\n        //        } else if (tablePos.x + width - pos.x < 5 && tablePos.y + height - pos.y < 5) {\r\n        //            return \"bottomRight\";\r\n        //        }\r\n        //    }\r\n\r\n        function inTableSide(table, cell, evt, top) {\r\n            var pos = mouseCoords(evt),\r\n                state = getRelation(cell, pos);\r\n\r\n            if (top) {\r\n                var caption = table.getElementsByTagName(\"caption\")[0],\r\n                    capHeight = caption ? caption.offsetHeight : 0;\r\n                return (state == \"v1\") && ((pos.y - domUtils.getXY(table).y - capHeight) < 8);\r\n            } else {\r\n                return (state == \"h1\") && ((pos.x - domUtils.getXY(table).x) < 8);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 获取拖动时允许的X轴坐标\r\n         * @param dragTd\r\n         * @param evt\r\n         */\r\n        function getPermissionX(dragTd, evt) {\r\n            var ut = getUETable(dragTd);\r\n            if (ut) {\r\n                var preTd = ut.getSameEndPosCells(dragTd, \"x\")[0],\r\n                    nextTd = ut.getSameStartPosXCells(dragTd)[0],\r\n                    mouseX = mouseCoords(evt).x,\r\n                    left = (preTd ? domUtils.getXY(preTd).x : domUtils.getXY(ut.table).x) + 20,\r\n                    right = nextTd ? domUtils.getXY(nextTd).x + nextTd.offsetWidth - 20 : (me.body.offsetWidth + 5 || parseInt(domUtils.getComputedStyle(me.body, \"width\"), 10));\r\n\r\n                left += cellMinWidth;\r\n                right -= cellMinWidth;\r\n\r\n                return mouseX < left ? left : mouseX > right ? right : mouseX;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 获取拖动时允许的Y轴坐标\r\n         */\r\n        function getPermissionY(dragTd, evt) {\r\n            try {\r\n                var top = domUtils.getXY(dragTd).y,\r\n                    mousePosY = mouseCoords(evt).y;\r\n                return mousePosY < top ? top : mousePosY;\r\n            } catch (e) {\r\n                showError(e);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 移动状态切换\r\n         */\r\n        function toggleDraggableState(editor, draggable, dir, mousePos, cell) {\r\n            try {\r\n                editor.body.style.cursor = dir == \"h\" ? \"col-resize\" : dir == \"v\" ? \"row-resize\" : \"text\";\r\n                if (browser.ie) {\r\n                    if (dir && !mousedown && !getUETableBySelected(editor)) {\r\n                        getDragLine(editor, editor.document);\r\n                        showDragLineAt(dir, cell);\r\n                    } else {\r\n                        hideDragLine(editor)\r\n                    }\r\n                }\r\n                onBorder = draggable;\r\n            } catch (e) {\r\n                showError(e);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 获取与UETable相关的resize line\r\n         * @param uetable UETable对象\r\n         */\r\n        function getResizeLineByUETable() {\r\n\r\n            var lineId = '_UETableResizeLine',\r\n                line = this.document.getElementById(lineId);\r\n\r\n            if (!line) {\r\n                line = this.document.createElement(\"div\");\r\n                line.id = lineId;\r\n                line.contnetEditable = false;\r\n                line.setAttribute(\"unselectable\", \"on\");\r\n\r\n                var styles = {\r\n                    width: 2 * cellBorderWidth + 1 + 'px',\r\n                    position: 'absolute',\r\n                    'z-index': 100000,\r\n                    cursor: 'col-resize',\r\n                    background: 'red',\r\n                    display: 'none'\r\n                };\r\n\r\n                //切换状态\r\n                line.onmouseout = function() {\r\n                    this.style.display = 'none';\r\n                };\r\n\r\n                utils.extend(line.style, styles);\r\n\r\n                this.document.body.appendChild(line);\r\n\r\n            }\r\n\r\n            return line;\r\n\r\n        }\r\n\r\n        /**\r\n         * 更新resize-line\r\n         */\r\n        function updateResizeLine(cell, uetable) {\r\n\r\n            var line = getResizeLineByUETable.call(this),\r\n                table = uetable.table,\r\n                styles = {\r\n                    top: domUtils.getXY(table).y + 'px',\r\n                    left: domUtils.getXY(cell).x + cell.offsetWidth - cellBorderWidth + 'px',\r\n                    display: 'block',\r\n                    height: table.offsetHeight + 'px'\r\n                };\r\n\r\n            utils.extend(line.style, styles);\r\n\r\n        }\r\n\r\n        /**\r\n         * 显示resize-line\r\n         */\r\n        function showResizeLine(cell) {\r\n\r\n            var uetable = getUETable(cell);\r\n\r\n            updateResizeLine.call(this, cell, uetable);\r\n\r\n        }\r\n\r\n        /**\r\n         * 获取鼠标与当前单元格的相对位置\r\n         * @param ele\r\n         * @param mousePos\r\n         */\r\n        function getRelation(ele, mousePos) {\r\n            var elePos = domUtils.getXY(ele);\r\n\r\n            if (!elePos) {\r\n                return '';\r\n            }\r\n\r\n            if (elePos.x + ele.offsetWidth - mousePos.x < cellBorderWidth) {\r\n                return \"h\";\r\n            }\r\n            if (mousePos.x - elePos.x < cellBorderWidth) {\r\n                return 'h1'\r\n            }\r\n            if (elePos.y + ele.offsetHeight - mousePos.y < cellBorderWidth) {\r\n                return \"v\";\r\n            }\r\n            if (mousePos.y - elePos.y < cellBorderWidth) {\r\n                return 'v1'\r\n            }\r\n            return '';\r\n        }\r\n\r\n        function mouseDownEvent(type, evt) {\r\n\r\n            if (isEditorDisabled()) {\r\n                return;\r\n            }\r\n\r\n            userActionStatus = {\r\n                x: evt.clientX,\r\n                y: evt.clientY\r\n            };\r\n\r\n            //右键菜单单独处理\r\n            if (evt.button == 2) {\r\n                var ut = getUETableBySelected(me),\r\n                    flag = false;\r\n\r\n                if (ut) {\r\n                    var td = getTargetTd(me, evt);\r\n                    utils.each(ut.selectedTds, function(ti) {\r\n                        if (ti === td) {\r\n                            flag = true;\r\n                        }\r\n                    });\r\n                    if (!flag) {\r\n                        removeSelectedClass(domUtils.getElementsByTagName(me.body, \"th td\"));\r\n                        ut.clearSelected()\r\n                    } else {\r\n                        td = ut.selectedTds[0];\r\n                        setTimeout(function() {\r\n                            me.selection.getRange().setStart(td, 0).setCursor(false, true);\r\n                        }, 0);\r\n\r\n                    }\r\n                }\r\n            } else {\r\n                tableClickHander(evt);\r\n            }\r\n\r\n        }\r\n\r\n        //清除表格的计时器\r\n        function clearTableTimer() {\r\n            tabTimer && clearTimeout(tabTimer);\r\n            tabTimer = null;\r\n        }\r\n\r\n        //双击收缩\r\n        function tableDbclickHandler(evt) {\r\n            singleClickState = 0;\r\n            evt = evt || me.window.event;\r\n            var target = getParentTdOrTh(evt.target || evt.srcElement);\r\n            if (target) {\r\n                var h;\r\n                if (h = getRelation(target, mouseCoords(evt))) {\r\n\r\n                    hideDragLine(me);\r\n\r\n                    if (h == 'h1') {\r\n                        h = 'h';\r\n                        if (inTableSide(domUtils.findParentByTagName(target, \"table\"), target, evt)) {\r\n                            me.execCommand('adaptbywindow');\r\n                        } else {\r\n                            target = getUETable(target).getPreviewCell(target);\r\n                            if (target) {\r\n                                var rng = me.selection.getRange();\r\n                                rng.selectNodeContents(target).setCursor(true, true)\r\n                            }\r\n                        }\r\n                    }\r\n                    if (h == 'h') {\r\n                        var ut = getUETable(target),\r\n                            table = ut.table,\r\n                            cells = getCellsByMoveBorder(target, table, true);\r\n\r\n                        cells = extractArray(cells, 'left');\r\n\r\n                        ut.width = ut.offsetWidth;\r\n\r\n                        var oldWidth = [],\r\n                            newWidth = [];\r\n\r\n                        utils.each(cells, function(cell) {\r\n\r\n                            oldWidth.push(cell.offsetWidth);\r\n\r\n                        });\r\n\r\n                        utils.each(cells, function(cell) {\r\n\r\n                            cell.removeAttribute(\"width\");\r\n\r\n                        });\r\n\r\n                        window.setTimeout(function() {\r\n\r\n                            //是否允许改变\r\n                            var changeable = true;\r\n\r\n                            utils.each(cells, function(cell, index) {\r\n\r\n                                var width = cell.offsetWidth;\r\n\r\n                                if (width > oldWidth[index]) {\r\n                                    changeable = false;\r\n                                    return false;\r\n                                }\r\n\r\n                                newWidth.push(width);\r\n\r\n                            });\r\n\r\n                            var change = changeable ? newWidth : oldWidth;\r\n\r\n                            utils.each(cells, function(cell, index) {\r\n\r\n                                cell.width = change[index] - getTabcellSpace();\r\n\r\n                            });\r\n\r\n\r\n                        }, 0);\r\n\r\n                        //                    minWidth -= cellMinWidth;\r\n                        //\r\n                        //                    table.removeAttribute(\"width\");\r\n                        //                    utils.each(cells, function (cell) {\r\n                        //                        cell.style.width = \"\";\r\n                        //                        cell.width -= minWidth;\r\n                        //                    });\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        function tableClickHander(evt) {\r\n\r\n            removeSelectedClass(domUtils.getElementsByTagName(me.body, \"td th\"));\r\n            //trace:3113\r\n            //选中单元格，点击table外部，不会清掉table上挂的ueTable,会引起getUETableBySelected方法返回值\r\n            utils.each(me.document.getElementsByTagName('table'), function(t) {\r\n                t.ueTable = null;\r\n            });\r\n            startTd = getTargetTd(me, evt);\r\n            if (!startTd) return;\r\n            var table = domUtils.findParentByTagName(startTd, \"table\", true);\r\n            ut = getUETable(table);\r\n            ut && ut.clearSelected();\r\n\r\n            //判断当前鼠标状态\r\n            if (!onBorder) {\r\n                me.document.body.style.webkitUserSelect = '';\r\n                mousedown = true;\r\n                me.addListener('mouseover', mouseOverEvent);\r\n            } else {\r\n                //边框上的动作处理\r\n                borderActionHandler(evt);\r\n            }\r\n\r\n\r\n        }\r\n\r\n        //处理表格边框上的动作, 这里做延时处理，避免两种动作互相影响\r\n        function borderActionHandler(evt) {\r\n\r\n            if (browser.ie) {\r\n                evt = reconstruct(evt);\r\n            }\r\n\r\n            clearTableDragTimer();\r\n\r\n            //是否正在等待resize的缓冲中\r\n            isInResizeBuffer = true;\r\n\r\n            tableDragTimer = setTimeout(function() {\r\n                tableBorderDrag(evt);\r\n            }, dblclickTime);\r\n\r\n        }\r\n\r\n        function extractArray(originArr, key) {\r\n\r\n            var result = [],\r\n                tmp = null;\r\n\r\n            for (var i = 0, len = originArr.length; i < len; i++) {\r\n\r\n                tmp = originArr[i][key];\r\n\r\n                if (tmp) {\r\n                    result.push(tmp);\r\n                }\r\n\r\n            }\r\n\r\n            return result;\r\n\r\n        }\r\n\r\n        function clearTableDragTimer() {\r\n            tableDragTimer && clearTimeout(tableDragTimer);\r\n            tableDragTimer = null;\r\n        }\r\n\r\n        function reconstruct(obj) {\r\n\r\n            var attrs = ['pageX', 'pageY', 'clientX', 'clientY', 'srcElement', 'target'],\r\n                newObj = {};\r\n\r\n            if (obj) {\r\n\r\n                for (var i = 0, key, val; key = attrs[i]; i++) {\r\n                    val = obj[key];\r\n                    val && (newObj[key] = val);\r\n                }\r\n\r\n            }\r\n\r\n            return newObj;\r\n\r\n        }\r\n\r\n        //边框拖动\r\n        function tableBorderDrag(evt) {\r\n\r\n            isInResizeBuffer = false;\r\n\r\n            startTd = evt.target || evt.srcElement;\r\n            if (!startTd) return;\r\n            var state = getRelation(startTd, mouseCoords(evt));\r\n            if (/\\d/.test(state)) {\r\n                state = state.replace(/\\d/, '');\r\n                startTd = getUETable(startTd).getPreviewCell(startTd, state == 'v');\r\n            }\r\n            hideDragLine(me);\r\n            getDragLine(me, me.document);\r\n            me.fireEvent('saveScene');\r\n            showDragLineAt(state, startTd);\r\n            mousedown = true;\r\n            //拖动开始\r\n            onDrag = state;\r\n            dragTd = startTd;\r\n        }\r\n\r\n        function mouseUpEvent(type, evt) {\r\n\r\n            if (isEditorDisabled()) {\r\n                return;\r\n            }\r\n\r\n            clearTableDragTimer();\r\n\r\n            isInResizeBuffer = false;\r\n\r\n            if (onBorder) {\r\n                singleClickState = ++singleClickState % 3;\r\n\r\n                userActionStatus = {\r\n                    x: evt.clientX,\r\n                    y: evt.clientY\r\n                };\r\n\r\n                tableResizeTimer = setTimeout(function() {\r\n                    singleClickState > 0 && singleClickState--;\r\n                }, dblclickTime);\r\n\r\n                if (singleClickState === 2) {\r\n\r\n                    singleClickState = 0;\r\n                    tableDbclickHandler(evt);\r\n                    return;\r\n\r\n                }\r\n\r\n            }\r\n\r\n            if (evt.button == 2) return;\r\n            var me = this;\r\n            //清除表格上原生跨选问题\r\n            var range = me.selection.getRange(),\r\n                start = domUtils.findParentByTagName(range.startContainer, 'table', true),\r\n                end = domUtils.findParentByTagName(range.endContainer, 'table', true);\r\n\r\n            if (start || end) {\r\n                if (start === end) {\r\n                    start = domUtils.findParentByTagName(range.startContainer, ['td', 'th', 'caption'], true);\r\n                    end = domUtils.findParentByTagName(range.endContainer, ['td', 'th', 'caption'], true);\r\n                    if (start !== end) {\r\n                        me.selection.clearRange()\r\n                    }\r\n                } else {\r\n                    me.selection.clearRange()\r\n                }\r\n            }\r\n            mousedown = false;\r\n            me.document.body.style.webkitUserSelect = '';\r\n            //拖拽状态下的mouseUP\r\n            if (onDrag && dragTd) {\r\n\r\n                me.selection.getNative()[browser.ie9below ? 'empty' : 'removeAllRanges']();\r\n\r\n                singleClickState = 0;\r\n                dragLine = me.document.getElementById('ue_tableDragLine');\r\n\r\n                // trace 3973\r\n                if (dragLine) {\r\n                    var dragTdPos = domUtils.getXY(dragTd),\r\n                        dragLinePos = domUtils.getXY(dragLine);\r\n\r\n                    switch (onDrag) {\r\n                        case \"h\":\r\n                            changeColWidth(dragTd, dragLinePos.x - dragTdPos.x);\r\n                            break;\r\n                        case \"v\":\r\n                            changeRowHeight(dragTd, dragLinePos.y - dragTdPos.y - dragTd.offsetHeight);\r\n                            break;\r\n                        default:\r\n                    }\r\n                    onDrag = \"\";\r\n                    dragTd = null;\r\n\r\n                    hideDragLine(me);\r\n                    me.fireEvent('saveScene');\r\n                    return;\r\n                }\r\n            }\r\n            //正常状态下的mouseup\r\n            if (!startTd) {\r\n                var target = domUtils.findParentByTagName(evt.target || evt.srcElement, \"td\", true);\r\n                if (!target) target = domUtils.findParentByTagName(evt.target || evt.srcElement, \"th\", true);\r\n                if (target && (target.tagName == \"TD\" || target.tagName == \"TH\")) {\r\n                    if (me.fireEvent(\"excludetable\", target) === true) return;\r\n                    range = new dom.Range(me.document);\r\n                    range.setStart(target, 0).setCursor(false, true);\r\n                }\r\n            } else {\r\n                var ut = getUETable(startTd),\r\n                    cell = ut ? ut.selectedTds[0] : null;\r\n                if (cell) {\r\n                    range = new dom.Range(me.document);\r\n                    if (domUtils.isEmptyBlock(cell)) {\r\n                        range.setStart(cell, 0).setCursor(false, true);\r\n                    } else {\r\n                        range.selectNodeContents(cell).shrinkBoundary().setCursor(false, true);\r\n                    }\r\n                } else {\r\n                    range = me.selection.getRange().shrinkBoundary();\r\n                    if (!range.collapsed) {\r\n                        var start = domUtils.findParentByTagName(range.startContainer, ['td', 'th'], true),\r\n                            end = domUtils.findParentByTagName(range.endContainer, ['td', 'th'], true);\r\n                        //在table里边的不能清除\r\n                        if (start && !end || !start && end || start && end && start !== end) {\r\n                            range.setCursor(false, true);\r\n                        }\r\n                    }\r\n                }\r\n                startTd = null;\r\n                me.removeListener('mouseover', mouseOverEvent);\r\n            }\r\n            me._selectionChange(250, evt);\r\n        }\r\n\r\n        function mouseOverEvent(type, evt) {\r\n\r\n            if (isEditorDisabled()) {\r\n                return;\r\n            }\r\n\r\n            var me = this,\r\n                tar = evt.target || evt.srcElement;\r\n            currentTd = domUtils.findParentByTagName(tar, \"td\", true) || domUtils.findParentByTagName(tar, \"th\", true);\r\n            //需要判断两个TD是否位于同一个表格内\r\n            if (startTd && currentTd &&\r\n                ((startTd.tagName == \"TD\" && currentTd.tagName == \"TD\") || (startTd.tagName == \"TH\" && currentTd.tagName == \"TH\")) &&\r\n                domUtils.findParentByTagName(startTd, 'table') == domUtils.findParentByTagName(currentTd, 'table')) {\r\n                var ut = getUETable(currentTd);\r\n                if (startTd != currentTd) {\r\n                    me.document.body.style.webkitUserSelect = 'none';\r\n                    me.selection.getNative()[browser.ie9below ? 'empty' : 'removeAllRanges']();\r\n                    var range = ut.getCellsRange(startTd, currentTd);\r\n                    ut.setSelected(range);\r\n                } else {\r\n                    me.document.body.style.webkitUserSelect = '';\r\n                    ut.clearSelected();\r\n                }\r\n\r\n            }\r\n            evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\r\n        }\r\n\r\n        function setCellHeight(cell, height, backHeight) {\r\n            var lineHight = parseInt(domUtils.getComputedStyle(cell, \"line-height\"), 10),\r\n                tmpHeight = backHeight + height;\r\n            height = tmpHeight < lineHight ? lineHight : tmpHeight;\r\n            if (cell.style.height) cell.style.height = \"\";\r\n            cell.rowSpan == 1 ? cell.setAttribute(\"height\", height) : (cell.removeAttribute && cell.removeAttribute(\"height\"));\r\n        }\r\n\r\n        function getWidth(cell) {\r\n            if (!cell) return 0;\r\n            return parseInt(domUtils.getComputedStyle(cell, \"width\"), 10);\r\n        }\r\n\r\n        function changeColWidth(cell, changeValue) {\r\n\r\n            var ut = getUETable(cell);\r\n            if (ut) {\r\n\r\n                //根据当前移动的边框获取相关的单元格\r\n                var table = ut.table,\r\n                    cells = getCellsByMoveBorder(cell, table);\r\n\r\n                table.style.width = \"\";\r\n                table.removeAttribute(\"width\");\r\n\r\n                //修正改变量\r\n                changeValue = correctChangeValue(changeValue, cell, cells);\r\n\r\n                if (cell.nextSibling) {\r\n\r\n                    var i = 0;\r\n\r\n                    utils.each(cells, function(cellGroup) {\r\n\r\n                        cellGroup.left.width = (+cellGroup.left.width) + changeValue;\r\n                        cellGroup.right && (cellGroup.right.width = (+cellGroup.right.width) - changeValue);\r\n\r\n                    });\r\n\r\n                } else {\r\n\r\n                    utils.each(cells, function(cellGroup) {\r\n                        cellGroup.left.width -= -changeValue;\r\n                    });\r\n\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        function isEditorDisabled() {\r\n            return me.body.contentEditable === \"false\";\r\n        }\r\n\r\n        function changeRowHeight(td, changeValue) {\r\n            if (Math.abs(changeValue) < 10) return;\r\n            var ut = getUETable(td);\r\n            if (ut) {\r\n                var cells = ut.getSameEndPosCells(td, \"y\"),\r\n                    //备份需要连带变化的td的原始高度，否则后期无法获取正确的值\r\n                    backHeight = cells[0] ? cells[0].offsetHeight : 0;\r\n                for (var i = 0, cell; cell = cells[i++];) {\r\n                    setCellHeight(cell, changeValue, backHeight);\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        /**\r\n         * 获取调整单元格大小的相关单元格\r\n         * @isContainMergeCell 返回的结果中是否包含发生合并后的单元格\r\n         */\r\n        function getCellsByMoveBorder(cell, table, isContainMergeCell) {\r\n\r\n            if (!table) {\r\n                table = domUtils.findParentByTagName(cell, 'table');\r\n            }\r\n\r\n            if (!table) {\r\n                return null;\r\n            }\r\n\r\n            //获取到该单元格所在行的序列号\r\n            var index = domUtils.getNodeIndex(cell),\r\n                temp = cell,\r\n                rows = table.rows,\r\n                colIndex = 0;\r\n\r\n            while (temp) {\r\n                //获取到当前单元格在未发生单元格合并时的序列\r\n                if (temp.nodeType === 1) {\r\n                    colIndex += (temp.colSpan || 1);\r\n                }\r\n                temp = temp.previousSibling;\r\n            }\r\n\r\n            temp = null;\r\n\r\n            //记录想关的单元格\r\n            var borderCells = [];\r\n\r\n            utils.each(rows, function(tabRow) {\r\n\r\n                var cells = tabRow.cells,\r\n                    currIndex = 0;\r\n\r\n                utils.each(cells, function(tabCell) {\r\n\r\n                    currIndex += (tabCell.colSpan || 1);\r\n\r\n                    if (currIndex === colIndex) {\r\n\r\n                        borderCells.push({\r\n                            left: tabCell,\r\n                            right: tabCell.nextSibling || null\r\n                        });\r\n\r\n                        return false;\r\n\r\n                    } else if (currIndex > colIndex) {\r\n\r\n                        if (isContainMergeCell) {\r\n                            borderCells.push({\r\n                                left: tabCell\r\n                            });\r\n                        }\r\n\r\n                        return false;\r\n                    }\r\n\r\n\r\n                });\r\n\r\n            });\r\n\r\n            return borderCells;\r\n\r\n        }\r\n\r\n\r\n        /**\r\n         * 通过给定的单元格集合获取最小的单元格width\r\n         */\r\n        function getMinWidthByTableCells(cells) {\r\n\r\n            var minWidth = Number.MAX_VALUE;\r\n\r\n            for (var i = 0, curCell; curCell = cells[i]; i++) {\r\n\r\n                minWidth = Math.min(minWidth, curCell.width || getTableCellWidth(curCell));\r\n\r\n            }\r\n\r\n            return minWidth;\r\n\r\n        }\r\n\r\n        function correctChangeValue(changeValue, relatedCell, cells) {\r\n\r\n            //为单元格的paading预留空间\r\n            changeValue -= getTabcellSpace();\r\n\r\n            if (changeValue < 0) {\r\n                return 0;\r\n            }\r\n\r\n            changeValue -= getTableCellWidth(relatedCell);\r\n\r\n            //确定方向\r\n            var direction = changeValue < 0 ? 'left' : 'right';\r\n\r\n            changeValue = Math.abs(changeValue);\r\n\r\n            //只关心非最后一个单元格就可以\r\n            utils.each(cells, function(cellGroup) {\r\n\r\n                var curCell = cellGroup[direction];\r\n\r\n                //为单元格保留最小空间\r\n                if (curCell) {\r\n                    changeValue = Math.min(changeValue, getTableCellWidth(curCell) - cellMinWidth);\r\n                }\r\n\r\n\r\n            });\r\n\r\n\r\n            //修正越界\r\n            changeValue = changeValue < 0 ? 0 : changeValue;\r\n\r\n            return direction === 'left' ? -changeValue : changeValue;\r\n\r\n        }\r\n\r\n        function getTableCellWidth(cell) {\r\n\r\n            var width = 0,\r\n                //偏移纠正量\r\n                offset = 0,\r\n                width = cell.offsetWidth - getTabcellSpace();\r\n\r\n            //最后一个节点纠正一下\r\n            if (!cell.nextSibling) {\r\n\r\n                width -= getTableCellOffset(cell);\r\n\r\n            }\r\n\r\n            width = width < 0 ? 0 : width;\r\n\r\n            try {\r\n                cell.width = width;\r\n            } catch (e) {}\r\n\r\n            return width;\r\n\r\n        }\r\n\r\n        /**\r\n         * 获取单元格所在表格的最末单元格的偏移量\r\n         */\r\n        function getTableCellOffset(cell) {\r\n\r\n            tab = domUtils.findParentByTagName(cell, \"table\", false);\r\n\r\n            if (tab.offsetVal === undefined) {\r\n\r\n                var prev = cell.previousSibling;\r\n\r\n                if (prev) {\r\n\r\n                    //最后一个单元格和前一个单元格的width diff结果 如果恰好为一个border width， 则条件成立\r\n                    tab.offsetVal = cell.offsetWidth - prev.offsetWidth === UT.borderWidth ? UT.borderWidth : 0;\r\n\r\n                } else {\r\n                    tab.offsetVal = 0;\r\n                }\r\n\r\n            }\r\n\r\n            return tab.offsetVal;\r\n\r\n        }\r\n\r\n        function getTabcellSpace() {\r\n\r\n            if (UT.tabcellSpace === undefined) {\r\n\r\n                var cell = null,\r\n                    tab = me.document.createElement(\"table\"),\r\n                    tbody = me.document.createElement(\"tbody\"),\r\n                    trow = me.document.createElement(\"tr\"),\r\n                    tabcell = me.document.createElement(\"td\"),\r\n                    mirror = null;\r\n\r\n                tabcell.style.cssText = 'border: 0;';\r\n                tabcell.width = 1;\r\n\r\n                trow.appendChild(tabcell);\r\n                trow.appendChild(mirror = tabcell.cloneNode(false));\r\n\r\n                tbody.appendChild(trow);\r\n\r\n                tab.appendChild(tbody);\r\n\r\n                tab.style.cssText = \"visibility: hidden;\";\r\n\r\n                me.body.appendChild(tab);\r\n\r\n                UT.paddingSpace = tabcell.offsetWidth - 1;\r\n\r\n                var tmpTabWidth = tab.offsetWidth;\r\n\r\n                tabcell.style.cssText = '';\r\n                mirror.style.cssText = '';\r\n\r\n                UT.borderWidth = (tab.offsetWidth - tmpTabWidth) / 3;\r\n\r\n                UT.tabcellSpace = UT.paddingSpace + UT.borderWidth;\r\n\r\n                me.body.removeChild(tab);\r\n\r\n            }\r\n\r\n            getTabcellSpace = function() { return UT.tabcellSpace; };\r\n\r\n            return UT.tabcellSpace;\r\n\r\n        }\r\n\r\n        function getDragLine(editor, doc) {\r\n            if (mousedown) return;\r\n            dragLine = editor.document.createElement(\"div\");\r\n            domUtils.setAttributes(dragLine, {\r\n                id: \"ue_tableDragLine\",\r\n                unselectable: 'on',\r\n                contenteditable: false,\r\n                'onresizestart': 'return false',\r\n                'ondragstart': 'return false',\r\n                'onselectstart': 'return false',\r\n                style: \"background-color:blue;position:absolute;padding:0;margin:0;background-image:none;border:0px none;opacity:0;filter:alpha(opacity=0)\"\r\n            });\r\n            editor.body.appendChild(dragLine);\r\n        }\r\n\r\n        function hideDragLine(editor) {\r\n            if (mousedown) return;\r\n            var line;\r\n            while (line = editor.document.getElementById('ue_tableDragLine')) {\r\n                domUtils.remove(line)\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 依据state（v|h）在cell位置显示横线\r\n         * @param state\r\n         * @param cell\r\n         */\r\n        function showDragLineAt(state, cell) {\r\n            if (!cell) return;\r\n            var table = domUtils.findParentByTagName(cell, \"table\"),\r\n                caption = table.getElementsByTagName('caption'),\r\n                width = table.offsetWidth,\r\n                height = table.offsetHeight - (caption.length > 0 ? caption[0].offsetHeight : 0),\r\n                tablePos = domUtils.getXY(table),\r\n                cellPos = domUtils.getXY(cell),\r\n                css;\r\n            switch (state) {\r\n                case \"h\":\r\n                    css = 'height:' + height + 'px;top:' + (tablePos.y + (caption.length > 0 ? caption[0].offsetHeight : 0)) + 'px;left:' + (cellPos.x + cell.offsetWidth);\r\n                    dragLine.style.cssText = css + 'px;position: absolute;display:block;background-color:blue;width:1px;border:0; color:blue;opacity:.3;filter:alpha(opacity=30)';\r\n                    break;\r\n                case \"v\":\r\n                    css = 'width:' + width + 'px;left:' + tablePos.x + 'px;top:' + (cellPos.y + cell.offsetHeight);\r\n                    //必须加上border:0和color:blue，否则低版ie不支持背景色显示\r\n                    dragLine.style.cssText = css + 'px;overflow:hidden;position: absolute;display:block;background-color:blue;height:1px;border:0;color:blue;opacity:.2;filter:alpha(opacity=20)';\r\n                    break;\r\n                default:\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 当表格边框颜色为白色时设置为虚线,true为添加虚线\r\n         * @param editor\r\n         * @param flag\r\n         */\r\n        function switchBorderColor(editor, flag) {\r\n            var tableArr = domUtils.getElementsByTagName(editor.body, \"table\"),\r\n                color;\r\n            for (var i = 0, node; node = tableArr[i++];) {\r\n                var td = domUtils.getElementsByTagName(node, \"td\");\r\n                if (td[0]) {\r\n                    if (flag) {\r\n                        color = (td[0].style.borderColor).replace(/\\s/g, \"\");\r\n                        if (/(#ffffff)|(rgb\\(255,255,255\\))/ig.test(color))\r\n                            domUtils.addClass(node, \"noBorderTable\")\r\n                    } else {\r\n                        domUtils.removeClasses(node, \"noBorderTable\")\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        function getTableWidth(editor, needIEHack, defaultValue) {\r\n            var body = editor.body;\r\n            return body.offsetWidth - (needIEHack ? parseInt(domUtils.getComputedStyle(body, 'margin-left'), 10) * 2 : 0) - defaultValue.tableBorder * 2 - (editor.options.offsetWidth || 0);\r\n        }\r\n\r\n        /**\r\n         * 获取当前拖动的单元格\r\n         */\r\n        function getTargetTd(editor, evt) {\r\n\r\n            var target = domUtils.findParentByTagName(evt.target || evt.srcElement, [\"td\", \"th\"], true),\r\n                dir = null;\r\n\r\n            if (!target) {\r\n                return null;\r\n            }\r\n\r\n            dir = getRelation(target, mouseCoords(evt));\r\n\r\n            //如果有前一个节点， 需要做一个修正， 否则可能会得到一个错误的td\r\n\r\n            if (!target) {\r\n                return null;\r\n            }\r\n\r\n            if (dir === 'h1' && target.previousSibling) {\r\n\r\n                var position = domUtils.getXY(target),\r\n                    cellWidth = target.offsetWidth;\r\n\r\n                if (Math.abs(position.x + cellWidth - evt.clientX) > cellWidth / 3) {\r\n                    target = target.previousSibling;\r\n                }\r\n\r\n            } else if (dir === 'v1' && target.parentNode.previousSibling) {\r\n\r\n                var position = domUtils.getXY(target),\r\n                    cellHeight = target.offsetHeight;\r\n\r\n                if (Math.abs(position.y + cellHeight - evt.clientY) > cellHeight / 3) {\r\n                    target = target.parentNode.previousSibling.firstChild;\r\n                }\r\n\r\n            }\r\n\r\n\r\n            //排除了非td内部以及用于代码高亮部分的td\r\n            return target && !(editor.fireEvent(\"excludetable\", target) === true) ? target : null;\r\n        }\r\n\r\n    };\r\n\r\n\r\n    // plugins/table.sort.js\r\n    /**\r\n     * Created with JetBrains PhpStorm.\r\n     * User: Jinqn\r\n     * Date: 13-10-12\r\n     * Time: 上午10:20\r\n     * To change this template use File | Settings | File Templates.\r\n     */\r\n\r\n    UE.UETable.prototype.sortTable = function(sortByCellIndex, compareFn) {\r\n        var table = this.table,\r\n            rows = table.rows,\r\n            trArray = [],\r\n            flag = rows[0].cells[0].tagName === \"TH\",\r\n            lastRowIndex = 0;\r\n        if (this.selectedTds.length) {\r\n            var range = this.cellsRange,\r\n                len = range.endRowIndex + 1;\r\n            for (var i = range.beginRowIndex; i < len; i++) {\r\n                trArray[i] = rows[i];\r\n            }\r\n            trArray.splice(0, range.beginRowIndex);\r\n            lastRowIndex = (range.endRowIndex + 1) === this.rowsNum ? 0 : range.endRowIndex + 1;\r\n        } else {\r\n            for (var i = 0, len = rows.length; i < len; i++) {\r\n                trArray[i] = rows[i];\r\n            }\r\n        }\r\n\r\n        var Fn = {\r\n            'reversecurrent': function(td1, td2) {\r\n                return 1;\r\n            },\r\n            'orderbyasc': function(td1, td2) {\r\n                var value1 = td1.innerText || td1.textContent,\r\n                    value2 = td2.innerText || td2.textContent;\r\n                return value1.localeCompare(value2);\r\n            },\r\n            'reversebyasc': function(td1, td2) {\r\n                var value1 = td1.innerHTML,\r\n                    value2 = td2.innerHTML;\r\n                return value2.localeCompare(value1);\r\n            },\r\n            'orderbynum': function(td1, td2) {\r\n                var value1 = td1[browser.ie ? 'innerText' : 'textContent'].match(/\\d+/),\r\n                    value2 = td2[browser.ie ? 'innerText' : 'textContent'].match(/\\d+/);\r\n                if (value1) value1 = +value1[0];\r\n                if (value2) value2 = +value2[0];\r\n                return (value1 || 0) - (value2 || 0);\r\n            },\r\n            'reversebynum': function(td1, td2) {\r\n                var value1 = td1[browser.ie ? 'innerText' : 'textContent'].match(/\\d+/),\r\n                    value2 = td2[browser.ie ? 'innerText' : 'textContent'].match(/\\d+/);\r\n                if (value1) value1 = +value1[0];\r\n                if (value2) value2 = +value2[0];\r\n                return (value2 || 0) - (value1 || 0);\r\n            }\r\n        };\r\n\r\n        //对表格设置排序的标记data-sort-type\r\n        table.setAttribute('data-sort-type', compareFn && typeof compareFn === \"string\" && Fn[compareFn] ? compareFn : '');\r\n\r\n        //th不参与排序\r\n        flag && trArray.splice(0, 1);\r\n        trArray = utils.sort(trArray, function(tr1, tr2) {\r\n            var result;\r\n            if (compareFn && typeof compareFn === \"function\") {\r\n                result = compareFn.call(this, tr1.cells[sortByCellIndex], tr2.cells[sortByCellIndex]);\r\n            } else if (compareFn && typeof compareFn === \"number\") {\r\n                result = 1;\r\n            } else if (compareFn && typeof compareFn === \"string\" && Fn[compareFn]) {\r\n                result = Fn[compareFn].call(this, tr1.cells[sortByCellIndex], tr2.cells[sortByCellIndex]);\r\n            } else {\r\n                result = Fn['orderbyasc'].call(this, tr1.cells[sortByCellIndex], tr2.cells[sortByCellIndex]);\r\n            }\r\n            return result;\r\n        });\r\n        var fragment = table.ownerDocument.createDocumentFragment();\r\n        for (var j = 0, len = trArray.length; j < len; j++) {\r\n            fragment.appendChild(trArray[j]);\r\n        }\r\n        var tbody = table.getElementsByTagName(\"tbody\")[0];\r\n        if (!lastRowIndex) {\r\n            tbody.appendChild(fragment);\r\n        } else {\r\n            tbody.insertBefore(fragment, rows[lastRowIndex - range.endRowIndex + range.beginRowIndex - 1])\r\n        }\r\n    };\r\n\r\n    UE.plugins['tablesort'] = function() {\r\n        var me = this,\r\n            UT = UE.UETable,\r\n            getUETable = function(tdOrTable) {\r\n                return UT.getUETable(tdOrTable);\r\n            },\r\n            getTableItemsByRange = function(editor) {\r\n                return UT.getTableItemsByRange(editor);\r\n            };\r\n\r\n\r\n        me.ready(function() {\r\n            //添加表格可排序的样式\r\n            utils.cssRule('tablesort',\r\n                'table.sortEnabled tr.firstRow th,table.sortEnabled tr.firstRow td{padding-right:20px;background-repeat: no-repeat;background-position: center right;' +\r\n                '   background-image:url(' + me.options.themePath + me.options.theme + '/images/sortable.png);}',\r\n                me.document);\r\n\r\n            //做单元格合并操作时,清除可排序标识\r\n            me.addListener(\"afterexeccommand\", function(type, cmd) {\r\n                if (cmd == 'mergeright' || cmd == 'mergedown' || cmd == 'mergecells') {\r\n                    this.execCommand('disablesort');\r\n                }\r\n            });\r\n        });\r\n\r\n\r\n\r\n        //表格排序\r\n        UE.commands['sorttable'] = {\r\n            queryCommandState: function() {\r\n                var me = this,\r\n                    tableItems = getTableItemsByRange(me);\r\n                if (!tableItems.cell) return -1;\r\n                var table = tableItems.table,\r\n                    cells = table.getElementsByTagName(\"td\");\r\n                for (var i = 0, cell; cell = cells[i++];) {\r\n                    if (cell.rowSpan != 1 || cell.colSpan != 1) return -1;\r\n                }\r\n                return 0;\r\n            },\r\n            execCommand: function(cmd, fn) {\r\n                var me = this,\r\n                    range = me.selection.getRange(),\r\n                    bk = range.createBookmark(true),\r\n                    tableItems = getTableItemsByRange(me),\r\n                    cell = tableItems.cell,\r\n                    ut = getUETable(tableItems.table),\r\n                    cellInfo = ut.getCellInfo(cell);\r\n                ut.sortTable(cellInfo.cellIndex, fn);\r\n                range.moveToBookmark(bk);\r\n                try {\r\n                    range.select();\r\n                } catch (e) {}\r\n            }\r\n        };\r\n\r\n        //设置表格可排序,清除表格可排序\r\n        UE.commands[\"enablesort\"] = UE.commands[\"disablesort\"] = {\r\n            queryCommandState: function(cmd) {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table && cmd == 'enablesort') {\r\n                    var cells = domUtils.getElementsByTagName(table, 'th td');\r\n                    for (var i = 0; i < cells.length; i++) {\r\n                        if (cells[i].getAttribute('colspan') > 1 || cells[i].getAttribute('rowspan') > 1) return -1;\r\n                    }\r\n                }\r\n\r\n                return !table ? -1 : cmd == 'enablesort' ^ table.getAttribute('data-sort') != 'sortEnabled' ? -1 : 0;\r\n            },\r\n            execCommand: function(cmd) {\r\n                var table = getTableItemsByRange(this).table;\r\n                table.setAttribute(\"data-sort\", cmd == \"enablesort\" ? \"sortEnabled\" : \"sortDisabled\");\r\n                cmd == \"enablesort\" ? domUtils.addClass(table, \"sortEnabled\") : domUtils.removeClasses(table, \"sortEnabled\");\r\n            }\r\n        };\r\n    };\r\n\r\n\r\n    // plugins/contextmenu.js\r\n    ///import core\r\n    ///commands 右键菜单\r\n    ///commandsName  ContextMenu\r\n    ///commandsTitle  右键菜单\r\n    /**\r\n     * 右键菜单\r\n     * @function\r\n     * @name baidu.editor.plugins.contextmenu\r\n     * @author zhanyi\r\n     */\r\n\r\n    UE.plugins['contextmenu'] = function() {\r\n        var me = this;\r\n        me.setOpt('enableContextMenu', true);\r\n        if (me.getOpt('enableContextMenu') === false) {\r\n            return;\r\n        }\r\n        var lang = me.getLang(\"contextMenu\"),\r\n            menu,\r\n            items = me.options.contextMenu || [\r\n                { label: lang['selectall'], cmdName: 'selectall' },\r\n                {\r\n                    label: lang.cleardoc,\r\n                    cmdName: 'cleardoc',\r\n                    exec: function() {\r\n                        if (confirm(lang.confirmclear)) {\r\n                            this.execCommand('cleardoc');\r\n                        }\r\n                    }\r\n                },\r\n                '-',\r\n                {\r\n                    label: lang.unlink,\r\n                    cmdName: 'unlink'\r\n                },\r\n                '-',\r\n                {\r\n                    group: lang.paragraph,\r\n                    icon: 'justifyjustify',\r\n                    subMenu: [{\r\n                            label: lang.justifyleft,\r\n                            cmdName: 'justify',\r\n                            value: 'left'\r\n                        },\r\n                        {\r\n                            label: lang.justifyright,\r\n                            cmdName: 'justify',\r\n                            value: 'right'\r\n                        },\r\n                        {\r\n                            label: lang.justifycenter,\r\n                            cmdName: 'justify',\r\n                            value: 'center'\r\n                        },\r\n                        {\r\n                            label: lang.justifyjustify,\r\n                            cmdName: 'justify',\r\n                            value: 'justify'\r\n                        }\r\n                    ]\r\n                },\r\n                '-',\r\n                {\r\n                    group: lang.table,\r\n                    icon: 'table',\r\n                    subMenu: [{\r\n                            label: lang.inserttable,\r\n                            cmdName: 'inserttable'\r\n                        },\r\n                        {\r\n                            label: lang.deletetable,\r\n                            cmdName: 'deletetable'\r\n                        },\r\n                        '-',\r\n                        {\r\n                            label: lang.deleterow,\r\n                            cmdName: 'deleterow'\r\n                        },\r\n                        {\r\n                            label: lang.deletecol,\r\n                            cmdName: 'deletecol'\r\n                        },\r\n                        {\r\n                            label: lang.insertcol,\r\n                            cmdName: 'insertcol'\r\n                        },\r\n                        {\r\n                            label: lang.insertcolnext,\r\n                            cmdName: 'insertcolnext'\r\n                        },\r\n                        {\r\n                            label: lang.insertrow,\r\n                            cmdName: 'insertrow'\r\n                        },\r\n                        {\r\n                            label: lang.insertrownext,\r\n                            cmdName: 'insertrownext'\r\n                        },\r\n                        '-',\r\n                        {\r\n                            label: lang.insertcaption,\r\n                            cmdName: 'insertcaption'\r\n                        },\r\n                        {\r\n                            label: lang.deletecaption,\r\n                            cmdName: 'deletecaption'\r\n                        },\r\n                        {\r\n                            label: lang.inserttitle,\r\n                            cmdName: 'inserttitle'\r\n                        },\r\n                        {\r\n                            label: lang.deletetitle,\r\n                            cmdName: 'deletetitle'\r\n                        },\r\n                        {\r\n                            label: lang.inserttitlecol,\r\n                            cmdName: 'inserttitlecol'\r\n                        },\r\n                        {\r\n                            label: lang.deletetitlecol,\r\n                            cmdName: 'deletetitlecol'\r\n                        },\r\n                        '-',\r\n                        {\r\n                            label: lang.mergecells,\r\n                            cmdName: 'mergecells'\r\n                        },\r\n                        {\r\n                            label: lang.mergeright,\r\n                            cmdName: 'mergeright'\r\n                        },\r\n                        {\r\n                            label: lang.mergedown,\r\n                            cmdName: 'mergedown'\r\n                        },\r\n                        '-',\r\n                        {\r\n                            label: lang.splittorows,\r\n                            cmdName: 'splittorows'\r\n                        },\r\n                        {\r\n                            label: lang.splittocols,\r\n                            cmdName: 'splittocols'\r\n                        },\r\n                        {\r\n                            label: lang.splittocells,\r\n                            cmdName: 'splittocells'\r\n                        },\r\n                        '-',\r\n                        {\r\n                            label: lang.averageDiseRow,\r\n                            cmdName: 'averagedistributerow'\r\n                        },\r\n                        {\r\n                            label: lang.averageDisCol,\r\n                            cmdName: 'averagedistributecol'\r\n                        },\r\n                        '-',\r\n                        {\r\n                            label: lang.edittd,\r\n                            cmdName: 'edittd',\r\n                            exec: function() {\r\n                                if (UE.ui['edittd']) {\r\n                                    new UE.ui['edittd'](this);\r\n                                }\r\n                                this.getDialog('edittd').open();\r\n                            }\r\n                        },\r\n                        {\r\n                            label: lang.edittable,\r\n                            cmdName: 'edittable',\r\n                            exec: function() {\r\n                                if (UE.ui['edittable']) {\r\n                                    new UE.ui['edittable'](this);\r\n                                }\r\n                                this.getDialog('edittable').open();\r\n                            }\r\n                        },\r\n                        {\r\n                            label: lang.setbordervisible,\r\n                            cmdName: 'setbordervisible'\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    group: lang.tablesort,\r\n                    icon: 'tablesort',\r\n                    subMenu: [{\r\n                            label: lang.enablesort,\r\n                            cmdName: 'enablesort'\r\n                        },\r\n                        {\r\n                            label: lang.disablesort,\r\n                            cmdName: 'disablesort'\r\n                        },\r\n                        '-',\r\n                        {\r\n                            label: lang.reversecurrent,\r\n                            cmdName: 'sorttable',\r\n                            value: 'reversecurrent'\r\n                        },\r\n                        {\r\n                            label: lang.orderbyasc,\r\n                            cmdName: 'sorttable',\r\n                            value: 'orderbyasc'\r\n                        },\r\n                        {\r\n                            label: lang.reversebyasc,\r\n                            cmdName: 'sorttable',\r\n                            value: 'reversebyasc'\r\n                        },\r\n                        {\r\n                            label: lang.orderbynum,\r\n                            cmdName: 'sorttable',\r\n                            value: 'orderbynum'\r\n                        },\r\n                        {\r\n                            label: lang.reversebynum,\r\n                            cmdName: 'sorttable',\r\n                            value: 'reversebynum'\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    group: lang.borderbk,\r\n                    icon: 'borderBack',\r\n                    subMenu: [{\r\n                            label: lang.setcolor,\r\n                            cmdName: \"interlacetable\",\r\n                            exec: function() {\r\n                                this.execCommand(\"interlacetable\");\r\n                            }\r\n                        },\r\n                        {\r\n                            label: lang.unsetcolor,\r\n                            cmdName: \"uninterlacetable\",\r\n                            exec: function() {\r\n                                this.execCommand(\"uninterlacetable\");\r\n                            }\r\n                        },\r\n                        {\r\n                            label: lang.setbackground,\r\n                            cmdName: \"settablebackground\",\r\n                            exec: function() {\r\n                                this.execCommand(\"settablebackground\", { repeat: true, colorList: [\"#bbb\", \"#ccc\"] });\r\n                            }\r\n                        },\r\n                        {\r\n                            label: lang.unsetbackground,\r\n                            cmdName: \"cleartablebackground\",\r\n                            exec: function() {\r\n                                this.execCommand(\"cleartablebackground\");\r\n                            }\r\n                        },\r\n                        {\r\n                            label: lang.redandblue,\r\n                            cmdName: \"settablebackground\",\r\n                            exec: function() {\r\n                                this.execCommand(\"settablebackground\", { repeat: true, colorList: [\"red\", \"blue\"] });\r\n                            }\r\n                        },\r\n                        {\r\n                            label: lang.threecolorgradient,\r\n                            cmdName: \"settablebackground\",\r\n                            exec: function() {\r\n                                this.execCommand(\"settablebackground\", { repeat: true, colorList: [\"#aaa\", \"#bbb\", \"#ccc\"] });\r\n                            }\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    group: lang.aligntd,\r\n                    icon: 'aligntd',\r\n                    subMenu: [{\r\n                            cmdName: 'cellalignment',\r\n                            value: { align: 'left', vAlign: 'top' }\r\n                        },\r\n                        {\r\n                            cmdName: 'cellalignment',\r\n                            value: { align: 'center', vAlign: 'top' }\r\n                        },\r\n                        {\r\n                            cmdName: 'cellalignment',\r\n                            value: { align: 'right', vAlign: 'top' }\r\n                        },\r\n                        {\r\n                            cmdName: 'cellalignment',\r\n                            value: { align: 'left', vAlign: 'middle' }\r\n                        },\r\n                        {\r\n                            cmdName: 'cellalignment',\r\n                            value: { align: 'center', vAlign: 'middle' }\r\n                        },\r\n                        {\r\n                            cmdName: 'cellalignment',\r\n                            value: { align: 'right', vAlign: 'middle' }\r\n                        },\r\n                        {\r\n                            cmdName: 'cellalignment',\r\n                            value: { align: 'left', vAlign: 'bottom' }\r\n                        },\r\n                        {\r\n                            cmdName: 'cellalignment',\r\n                            value: { align: 'center', vAlign: 'bottom' }\r\n                        },\r\n                        {\r\n                            cmdName: 'cellalignment',\r\n                            value: { align: 'right', vAlign: 'bottom' }\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    group: lang.aligntable,\r\n                    icon: 'aligntable',\r\n                    subMenu: [{\r\n                            cmdName: 'tablealignment',\r\n                            className: 'left',\r\n                            label: lang.tableleft,\r\n                            value: \"left\"\r\n                        },\r\n                        {\r\n                            cmdName: 'tablealignment',\r\n                            className: 'center',\r\n                            label: lang.tablecenter,\r\n                            value: \"center\"\r\n                        },\r\n                        {\r\n                            cmdName: 'tablealignment',\r\n                            className: 'right',\r\n                            label: lang.tableright,\r\n                            value: \"right\"\r\n                        }\r\n                    ]\r\n                },\r\n                '-',\r\n                {\r\n                    label: lang.insertparagraphbefore,\r\n                    cmdName: 'insertparagraph',\r\n                    value: true\r\n                },\r\n                {\r\n                    label: lang.insertparagraphafter,\r\n                    cmdName: 'insertparagraph'\r\n                },\r\n                {\r\n                    label: lang['copy'],\r\n                    cmdName: 'copy'\r\n                },\r\n                {\r\n                    label: lang['paste'],\r\n                    cmdName: 'paste'\r\n                }\r\n            ];\r\n        if (!items.length) {\r\n            return;\r\n        }\r\n        var uiUtils = UE.ui.uiUtils;\r\n\r\n        me.addListener('contextmenu', function(type, evt) {\r\n\r\n            var offset = uiUtils.getViewportOffsetByEvent(evt);\r\n            me.fireEvent('beforeselectionchange');\r\n            if (menu) {\r\n                menu.destroy();\r\n            }\r\n            for (var i = 0, ti, contextItems = []; ti = items[i]; i++) {\r\n                var last;\r\n                (function(item) {\r\n                    if (item == '-') {\r\n                        if ((last = contextItems[contextItems.length - 1]) && last !== '-') {\r\n                            contextItems.push('-');\r\n                        }\r\n                    } else if (item.hasOwnProperty(\"group\")) {\r\n                        for (var j = 0, cj, subMenu = []; cj = item.subMenu[j]; j++) {\r\n                            (function(subItem) {\r\n                                if (subItem == '-') {\r\n                                    if ((last = subMenu[subMenu.length - 1]) && last !== '-') {\r\n                                        subMenu.push('-');\r\n                                    } else {\r\n                                        subMenu.splice(subMenu.length - 1);\r\n                                    }\r\n                                } else {\r\n                                    if ((me.commands[subItem.cmdName] || UE.commands[subItem.cmdName] || subItem.query) &&\r\n                                        (subItem.query ? subItem.query() : me.queryCommandState(subItem.cmdName)) > -1) {\r\n                                        subMenu.push({\r\n                                            'label': subItem.label || me.getLang(\"contextMenu.\" + subItem.cmdName + (subItem.value || '')) || \"\",\r\n                                            'className': 'edui-for-' + subItem.cmdName + (subItem.className ? (' edui-for-' + subItem.cmdName + '-' + subItem.className) : ''),\r\n                                            onclick: subItem.exec ? function() {\r\n                                                subItem.exec.call(me);\r\n                                            } : function() {\r\n                                                me.execCommand(subItem.cmdName, subItem.value);\r\n                                            }\r\n                                        });\r\n                                    }\r\n                                }\r\n                            })(cj);\r\n                        }\r\n                        if (subMenu.length) {\r\n                            function getLabel() {\r\n                                switch (item.icon) {\r\n                                    case \"table\":\r\n                                        return me.getLang(\"contextMenu.table\");\r\n                                    case \"justifyjustify\":\r\n                                        return me.getLang(\"contextMenu.paragraph\");\r\n                                    case \"aligntd\":\r\n                                        return me.getLang(\"contextMenu.aligntd\");\r\n                                    case \"aligntable\":\r\n                                        return me.getLang(\"contextMenu.aligntable\");\r\n                                    case \"tablesort\":\r\n                                        return lang.tablesort;\r\n                                    case \"borderBack\":\r\n                                        return lang.borderbk;\r\n                                    default:\r\n                                        return '';\r\n                                }\r\n                            }\r\n                            contextItems.push({\r\n                                //todo 修正成自动获取方式\r\n                                'label': getLabel(),\r\n                                className: 'edui-for-' + item.icon,\r\n                                'subMenu': {\r\n                                    items: subMenu,\r\n                                    editor: me\r\n                                }\r\n                            });\r\n                        }\r\n\r\n                    } else {\r\n                        //有可能commmand没有加载右键不能出来，或者没有command也想能展示出来添加query方法\r\n                        if ((me.commands[item.cmdName] || UE.commands[item.cmdName] || item.query) &&\r\n                            (item.query ? item.query.call(me) : me.queryCommandState(item.cmdName)) > -1) {\r\n\r\n                            contextItems.push({\r\n                                'label': item.label || me.getLang(\"contextMenu.\" + item.cmdName),\r\n                                className: 'edui-for-' + (item.icon ? item.icon : item.cmdName + (item.value || '')),\r\n                                onclick: item.exec ? function() {\r\n                                    item.exec.call(me);\r\n                                } : function() {\r\n                                    me.execCommand(item.cmdName, item.value);\r\n                                }\r\n                            });\r\n                        }\r\n\r\n                    }\r\n\r\n                })(ti);\r\n            }\r\n            if (contextItems[contextItems.length - 1] == '-') {\r\n                contextItems.pop();\r\n            }\r\n\r\n            menu = new UE.ui.Menu({\r\n                items: contextItems,\r\n                className: \"edui-contextmenu\",\r\n                editor: me\r\n            });\r\n            menu.render();\r\n            menu.showAt(offset);\r\n\r\n            me.fireEvent(\"aftershowcontextmenu\", menu);\r\n\r\n            domUtils.preventDefault(evt);\r\n            if (browser.ie) {\r\n                var ieRange;\r\n                try {\r\n                    ieRange = me.selection.getNative().createRange();\r\n                } catch (e) {\r\n                    return;\r\n                }\r\n                if (ieRange.item) {\r\n                    var range = new dom.Range(me.document);\r\n                    range.selectNode(ieRange.item(0)).select(true, true);\r\n                }\r\n            }\r\n        });\r\n\r\n        // 添加复制的flash按钮\r\n        me.addListener('aftershowcontextmenu', function(type, menu) {\r\n            if (me.zeroclipboard) {\r\n                var items = menu.items;\r\n                for (var key in items) {\r\n                    if (items[key].className == 'edui-for-copy') {\r\n                        me.zeroclipboard.clip(items[key].getDom());\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n\r\n    // plugins/shortcutmenu.js\r\n    ///import core\r\n    ///commands       弹出菜单\r\n    // commandsName  popupmenu\r\n    ///commandsTitle  弹出菜单\r\n    /**\r\n     * 弹出菜单\r\n     * @function\r\n     * @name baidu.editor.plugins.popupmenu\r\n     * @author xuheng\r\n     */\r\n\r\n    UE.plugins['shortcutmenu'] = function() {\r\n        var me = this,\r\n            menu,\r\n            items = me.options.shortcutMenu || [];\r\n\r\n        if (!items.length) {\r\n            return;\r\n        }\r\n\r\n        me.addListener('contextmenu mouseup', function(type, e) {\r\n            var me = this,\r\n                customEvt = {\r\n                    type: type,\r\n                    target: e.target || e.srcElement,\r\n                    screenX: e.screenX,\r\n                    screenY: e.screenY,\r\n                    clientX: e.clientX,\r\n                    clientY: e.clientY\r\n                };\r\n\r\n            setTimeout(function() {\r\n                var rng = me.selection.getRange();\r\n                if (rng.collapsed === false || type == \"contextmenu\") {\r\n\r\n                    if (!menu) {\r\n                        menu = new baidu.editor.ui.ShortCutMenu({\r\n                            editor: me,\r\n                            items: items,\r\n                            theme: me.options.theme,\r\n                            className: 'edui-shortcutmenu'\r\n                        });\r\n\r\n                        menu.render();\r\n                        me.fireEvent(\"afterrendershortcutmenu\", menu);\r\n                    }\r\n\r\n                    menu.show(customEvt, !!UE.plugins['contextmenu']);\r\n                }\r\n            });\r\n\r\n            if (type == 'contextmenu') {\r\n                domUtils.preventDefault(e);\r\n                if (browser.ie9below) {\r\n                    var ieRange;\r\n                    try {\r\n                        ieRange = me.selection.getNative().createRange();\r\n                    } catch (e) {\r\n                        return;\r\n                    }\r\n                    if (ieRange.item) {\r\n                        var range = new dom.Range(me.document);\r\n                        range.selectNode(ieRange.item(0)).select(true, true);\r\n\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        me.addListener('keydown', function(type) {\r\n            if (type == \"keydown\") {\r\n                menu && !menu.isHidden && menu.hide();\r\n            }\r\n\r\n        });\r\n\r\n    };\r\n\r\n\r\n\r\n\r\n    // plugins/basestyle.js\r\n    /**\r\n     * B、I、sub、super命令支持\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    UE.plugins['basestyle'] = function() {\r\n\r\n        /**\r\n         * 字体加粗\r\n         * @command bold\r\n         * @param { String } cmd 命令字符串\r\n         * @remind 对已加粗的文本内容执行该命令， 将取消加粗\r\n         * @method execCommand\r\n         * @example\r\n         * ```javascript\r\n         * //editor是编辑器实例\r\n         * //对当前选中的文本内容执行加粗操作\r\n         * //第一次执行， 文本内容加粗\r\n         * editor.execCommand( 'bold' );\r\n         *\r\n         * //第二次执行， 文本内容取消加粗\r\n         * editor.execCommand( 'bold' );\r\n         * ```\r\n         */\r\n\r\n\r\n        /**\r\n         * 字体倾斜\r\n         * @command italic\r\n         * @method execCommand\r\n         * @param { String } cmd 命令字符串\r\n         * @remind 对已倾斜的文本内容执行该命令， 将取消倾斜\r\n         * @example\r\n         * ```javascript\r\n         * //editor是编辑器实例\r\n         * //对当前选中的文本内容执行斜体操作\r\n         * //第一次操作， 文本内容将变成斜体\r\n         * editor.execCommand( 'italic' );\r\n         *\r\n         * //再次对同一文本内容执行， 则文本内容将恢复正常\r\n         * editor.execCommand( 'italic' );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 下标文本，与“superscript”命令互斥\r\n         * @command subscript\r\n         * @method execCommand\r\n         * @remind  把选中的文本内容切换成下标文本， 如果当前选中的文本已经是下标， 则该操作会把文本内容还原成正常文本\r\n         * @param { String } cmd 命令字符串\r\n         * @example\r\n         * ```javascript\r\n         * //editor是编辑器实例\r\n         * //对当前选中的文本内容执行下标操作\r\n         * //第一次操作， 文本内容将变成下标文本\r\n         * editor.execCommand( 'subscript' );\r\n         *\r\n         * //再次对同一文本内容执行， 则文本内容将恢复正常\r\n         * editor.execCommand( 'subscript' );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 上标文本，与“subscript”命令互斥\r\n         * @command superscript\r\n         * @method execCommand\r\n         * @remind 把选中的文本内容切换成上标文本， 如果当前选中的文本已经是上标， 则该操作会把文本内容还原成正常文本\r\n         * @param { String } cmd 命令字符串\r\n         * @example\r\n         * ```javascript\r\n         * //editor是编辑器实例\r\n         * //对当前选中的文本内容执行上标操作\r\n         * //第一次操作， 文本内容将变成上标文本\r\n         * editor.execCommand( 'superscript' );\r\n         *\r\n         * //再次对同一文本内容执行， 则文本内容将恢复正常\r\n         * editor.execCommand( 'superscript' );\r\n         * ```\r\n         */\r\n        var basestyles = {\r\n                'bold': ['strong', 'b'],\r\n                'italic': ['em', 'i'],\r\n                'subscript': ['sub'],\r\n                'superscript': ['sup']\r\n            },\r\n            getObj = function(editor, tagNames) {\r\n                return domUtils.filterNodeList(editor.selection.getStartElementPath(), tagNames);\r\n            },\r\n            me = this;\r\n        //添加快捷键\r\n        me.addshortcutkey({\r\n            \"Bold\": \"ctrl+66\", //^B\r\n            \"Italic\": \"ctrl+73\", //^I\r\n            \"Underline\": \"ctrl+85\" //^U\r\n        });\r\n        me.addInputRule(function(root) {\r\n            utils.each(root.getNodesByTagName('b i'), function(node) {\r\n                switch (node.tagName) {\r\n                    case 'b':\r\n                        node.tagName = 'strong';\r\n                        break;\r\n                    case 'i':\r\n                        node.tagName = 'em';\r\n                }\r\n            });\r\n        });\r\n        for (var style in basestyles) {\r\n            (function(cmd, tagNames) {\r\n                me.commands[cmd] = {\r\n                    execCommand: function(cmdName) {\r\n                        var range = me.selection.getRange(),\r\n                            obj = getObj(this, tagNames);\r\n                        if (range.collapsed) {\r\n                            if (obj) {\r\n                                var tmpText = me.document.createTextNode('');\r\n                                range.insertNode(tmpText).removeInlineStyle(tagNames);\r\n                                range.setStartBefore(tmpText);\r\n                                domUtils.remove(tmpText);\r\n                            } else {\r\n                                var tmpNode = range.document.createElement(tagNames[0]);\r\n                                if (cmdName == 'superscript' || cmdName == 'subscript') {\r\n                                    tmpText = me.document.createTextNode('');\r\n                                    range.insertNode(tmpText)\r\n                                        .removeInlineStyle(['sub', 'sup'])\r\n                                        .setStartBefore(tmpText)\r\n                                        .collapse(true);\r\n                                }\r\n                                range.insertNode(tmpNode).setStart(tmpNode, 0);\r\n                            }\r\n                            range.collapse(true);\r\n                        } else {\r\n                            if (cmdName == 'superscript' || cmdName == 'subscript') {\r\n                                if (!obj || obj.tagName.toLowerCase() != cmdName) {\r\n                                    range.removeInlineStyle(['sub', 'sup']);\r\n                                }\r\n                            }\r\n                            obj ? range.removeInlineStyle(tagNames) : range.applyInlineStyle(tagNames[0]);\r\n                        }\r\n                        range.select();\r\n                    },\r\n                    queryCommandState: function() {\r\n                        return getObj(this, tagNames) ? 1 : 0;\r\n                    }\r\n                };\r\n            })(style, basestyles[style]);\r\n        }\r\n    };\r\n\r\n\r\n\r\n    // plugins/elementpath.js\r\n    /**\r\n     * 选取路径命令\r\n     * @file\r\n     */\r\n    UE.plugins['elementpath'] = function() {\r\n        var currentLevel,\r\n            tagNames,\r\n            me = this;\r\n        me.setOpt('elementPathEnabled', true);\r\n        if (!me.options.elementPathEnabled) {\r\n            return;\r\n        }\r\n        me.commands['elementpath'] = {\r\n            execCommand: function(cmdName, level) {\r\n                var start = tagNames[level],\r\n                    range = me.selection.getRange();\r\n                currentLevel = level * 1;\r\n                range.selectNode(start).select();\r\n            },\r\n            queryCommandValue: function() {\r\n                //产生一个副本，不能修改原来的startElementPath;\r\n                var parents = [].concat(this.selection.getStartElementPath()).reverse(),\r\n                    names = [];\r\n                tagNames = parents;\r\n                for (var i = 0, ci; ci = parents[i]; i++) {\r\n                    if (ci.nodeType == 3) {\r\n                        continue;\r\n                    }\r\n                    var name = ci.tagName.toLowerCase();\r\n                    if (name == 'img' && ci.getAttribute('anchorname')) {\r\n                        name = 'anchor';\r\n                    }\r\n                    names[i] = name;\r\n                    if (currentLevel == i) {\r\n                        currentLevel = -1;\r\n                        break;\r\n                    }\r\n                }\r\n                return names;\r\n            }\r\n        };\r\n    };\r\n\r\n\r\n\r\n    // plugins/formatmatch.js\r\n    /**\r\n     * 格式刷，只格式inline的\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 格式刷\r\n     * @command formatmatch\r\n     * @method execCommand\r\n     * @remind 该操作不能复制段落格式\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * //editor是编辑器实例\r\n     * //获取格式刷\r\n     * editor.execCommand( 'formatmatch' );\r\n     * ```\r\n     */\r\n    UE.plugins['formatmatch'] = function() {\r\n\r\n        var me = this,\r\n            list = [],\r\n            img,\r\n            flag = 0;\r\n\r\n        me.addListener('reset', function() {\r\n            list = [];\r\n            flag = 0;\r\n        });\r\n\r\n        function addList(type, evt) {\r\n\r\n            if (browser.webkit) {\r\n                var target = evt.target.tagName == 'IMG' ? evt.target : null;\r\n            }\r\n\r\n            function addFormat(range) {\r\n\r\n                if (text) {\r\n                    range.selectNode(text);\r\n                }\r\n                return range.applyInlineStyle(list[list.length - 1].tagName, null, list);\r\n\r\n            }\r\n\r\n            me.undoManger && me.undoManger.save();\r\n\r\n            var range = me.selection.getRange(),\r\n                imgT = target || range.getClosedNode();\r\n            if (img && imgT && imgT.tagName == 'IMG') {\r\n                //trace:964\r\n\r\n                imgT.style.cssText += ';float:' + (img.style.cssFloat || img.style.styleFloat || 'none') + ';display:' + (img.style.display || 'inline');\r\n\r\n                img = null;\r\n            } else {\r\n                if (!img) {\r\n                    var collapsed = range.collapsed;\r\n                    if (collapsed) {\r\n                        var text = me.document.createTextNode('match');\r\n                        range.insertNode(text).select();\r\n\r\n\r\n                    }\r\n                    me.__hasEnterExecCommand = true;\r\n                    //不能把block上的属性干掉\r\n                    //trace:1553\r\n                    var removeFormatAttributes = me.options.removeFormatAttributes;\r\n                    me.options.removeFormatAttributes = '';\r\n                    me.execCommand('removeformat');\r\n                    me.options.removeFormatAttributes = removeFormatAttributes;\r\n                    me.__hasEnterExecCommand = false;\r\n                    //trace:969\r\n                    range = me.selection.getRange();\r\n                    if (list.length) {\r\n                        addFormat(range);\r\n                    }\r\n                    if (text) {\r\n                        range.setStartBefore(text).collapse(true);\r\n\r\n                    }\r\n                    range.select();\r\n                    text && domUtils.remove(text);\r\n                }\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n            me.undoManger && me.undoManger.save();\r\n            me.removeListener('mouseup', addList);\r\n            flag = 0;\r\n        }\r\n\r\n        me.commands['formatmatch'] = {\r\n            execCommand: function(cmdName) {\r\n\r\n                if (flag) {\r\n                    flag = 0;\r\n                    list = [];\r\n                    me.removeListener('mouseup', addList);\r\n                    return;\r\n                }\r\n\r\n\r\n\r\n                var range = me.selection.getRange();\r\n                img = range.getClosedNode();\r\n                if (!img || img.tagName != 'IMG') {\r\n                    range.collapse(true).shrinkBoundary();\r\n                    var start = range.startContainer;\r\n                    list = domUtils.findParents(start, true, function(node) {\r\n                        return !domUtils.isBlockElm(node) && node.nodeType == 1;\r\n                    });\r\n                    //a不能加入格式刷, 并且克隆节点\r\n                    for (var i = 0, ci; ci = list[i]; i++) {\r\n                        if (ci.tagName == 'A') {\r\n                            list.splice(i, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n                me.addListener('mouseup', addList);\r\n                flag = 1;\r\n\r\n\r\n            },\r\n            queryCommandState: function() {\r\n                return flag;\r\n            },\r\n            notNeedUndo: 1\r\n        };\r\n    };\r\n\r\n\r\n\r\n    // plugins/searchreplace.js\r\n    ///import core\r\n    ///commands 查找替换\r\n    ///commandsName  SearchReplace\r\n    ///commandsTitle  查询替换\r\n    ///commandsDialog  dialogs\\searchreplace\r\n    /**\r\n     * @description 查找替换\r\n     * @author zhanyi\r\n     */\r\n\r\n    UE.plugin.register('searchreplace', function() {\r\n        var me = this;\r\n\r\n        var _blockElm = { 'table': 1, 'tbody': 1, 'tr': 1, 'ol': 1, 'ul': 1 };\r\n\r\n        function findTextInString(textContent, opt, currentIndex) {\r\n            var str = opt.searchStr;\r\n            if (opt.dir == -1) {\r\n                textContent = textContent.split('').reverse().join('');\r\n                str = str.split('').reverse().join('');\r\n                currentIndex = textContent.length - currentIndex;\r\n\r\n            }\r\n            var reg = new RegExp(str, 'g' + (opt.casesensitive ? '' : 'i')),\r\n                match;\r\n\r\n            while (match = reg.exec(textContent)) {\r\n                if (match.index >= currentIndex) {\r\n                    return opt.dir == -1 ? textContent.length - match.index - opt.searchStr.length : match.index;\r\n                }\r\n            }\r\n            return -1\r\n        }\r\n\r\n        function findTextBlockElm(node, currentIndex, opt) {\r\n            var textContent, index, methodName = opt.all || opt.dir == 1 ? 'getNextDomNode' : 'getPreDomNode';\r\n            if (domUtils.isBody(node)) {\r\n                node = node.firstChild;\r\n            }\r\n            var first = 1;\r\n            while (node) {\r\n                textContent = node.nodeType == 3 ? node.nodeValue : node[browser.ie ? 'innerText' : 'textContent'];\r\n                index = findTextInString(textContent, opt, currentIndex);\r\n                first = 0;\r\n                if (index != -1) {\r\n                    return {\r\n                        'node': node,\r\n                        'index': index\r\n                    }\r\n                }\r\n                node = domUtils[methodName](node);\r\n                while (node && _blockElm[node.nodeName.toLowerCase()]) {\r\n                    node = domUtils[methodName](node, true);\r\n                }\r\n                if (node) {\r\n                    currentIndex = opt.dir == -1 ? (node.nodeType == 3 ? node.nodeValue : node[browser.ie ? 'innerText' : 'textContent']).length : 0;\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        function findNTextInBlockElm(node, index, str) {\r\n            var currentIndex = 0,\r\n                currentNode = node.firstChild,\r\n                currentNodeLength = 0,\r\n                result;\r\n            while (currentNode) {\r\n                if (currentNode.nodeType == 3) {\r\n                    currentNodeLength = currentNode.nodeValue.replace(/(^[\\t\\r\\n]+)|([\\t\\r\\n]+$)/, '').length;\r\n                    currentIndex += currentNodeLength;\r\n                    if (currentIndex >= index) {\r\n                        return {\r\n                            'node': currentNode,\r\n                            'index': currentNodeLength - (currentIndex - index)\r\n                        }\r\n                    }\r\n                } else if (!dtd.$empty[currentNode.tagName]) {\r\n                    currentNodeLength = currentNode[browser.ie ? 'innerText' : 'textContent'].replace(/(^[\\t\\r\\n]+)|([\\t\\r\\n]+$)/, '').length\r\n                    currentIndex += currentNodeLength;\r\n                    if (currentIndex >= index) {\r\n                        result = findNTextInBlockElm(currentNode, currentNodeLength - (currentIndex - index), str);\r\n                        if (result) {\r\n                            return result;\r\n                        }\r\n                    }\r\n                }\r\n                currentNode = domUtils.getNextDomNode(currentNode);\r\n\r\n            }\r\n        }\r\n\r\n        function searchReplace(me, opt) {\r\n\r\n            var rng = me.selection.getRange(),\r\n                startBlockNode,\r\n                searchStr = opt.searchStr,\r\n                span = me.document.createElement('span');\r\n            span.innerHTML = '$$ueditor_searchreplace_key$$';\r\n\r\n            rng.shrinkBoundary(true);\r\n\r\n            //判断是不是第一次选中\r\n            if (!rng.collapsed) {\r\n                rng.select();\r\n                var rngText = me.selection.getText();\r\n                if (new RegExp('^' + opt.searchStr + '$', (opt.casesensitive ? '' : 'i')).test(rngText)) {\r\n                    if (opt.replaceStr != undefined) {\r\n                        replaceText(rng, opt.replaceStr);\r\n                        rng.select();\r\n                        return true;\r\n                    } else {\r\n                        rng.collapse(opt.dir == -1)\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n\r\n            rng.insertNode(span);\r\n            rng.enlargeToBlockElm(true);\r\n            startBlockNode = rng.startContainer;\r\n            var currentIndex = startBlockNode[browser.ie ? 'innerText' : 'textContent'].indexOf('$$ueditor_searchreplace_key$$');\r\n            rng.setStartBefore(span);\r\n            domUtils.remove(span);\r\n            var result = findTextBlockElm(startBlockNode, currentIndex, opt);\r\n            if (result) {\r\n                var rngStart = findNTextInBlockElm(result.node, result.index, searchStr);\r\n                var rngEnd = findNTextInBlockElm(result.node, result.index + searchStr.length, searchStr);\r\n                rng.setStart(rngStart.node, rngStart.index).setEnd(rngEnd.node, rngEnd.index);\r\n\r\n                if (opt.replaceStr !== undefined) {\r\n                    replaceText(rng, opt.replaceStr)\r\n                }\r\n                rng.select();\r\n                return true;\r\n            } else {\r\n                rng.setCursor()\r\n            }\r\n\r\n        }\r\n\r\n        function replaceText(rng, str) {\r\n\r\n            str = me.document.createTextNode(str);\r\n            rng.deleteContents().insertNode(str);\r\n\r\n        }\r\n        return {\r\n            commands: {\r\n                'searchreplace': {\r\n                    execCommand: function(cmdName, opt) {\r\n                        utils.extend(opt, {\r\n                            all: false,\r\n                            casesensitive: false,\r\n                            dir: 1\r\n                        }, true);\r\n                        var num = 0;\r\n                        if (opt.all) {\r\n\r\n                            var rng = me.selection.getRange(),\r\n                                first = me.body.firstChild;\r\n                            if (first && first.nodeType == 1) {\r\n                                rng.setStart(first, 0);\r\n                                rng.shrinkBoundary(true);\r\n                            } else if (first.nodeType == 3) {\r\n                                rng.setStartBefore(first)\r\n                            }\r\n                            rng.collapse(true).select(true);\r\n                            if (opt.replaceStr !== undefined) {\r\n                                me.fireEvent('saveScene');\r\n                            }\r\n                            while (searchReplace(this, opt)) {\r\n                                num++;\r\n                            }\r\n                            if (num) {\r\n                                me.fireEvent('saveScene');\r\n                            }\r\n                        } else {\r\n                            if (opt.replaceStr !== undefined) {\r\n                                me.fireEvent('saveScene');\r\n                            }\r\n                            if (searchReplace(this, opt)) {\r\n                                num++\r\n                            }\r\n                            if (num) {\r\n                                me.fireEvent('saveScene');\r\n                            }\r\n\r\n                        }\r\n\r\n                        return num;\r\n                    },\r\n                    notNeedUndo: 1\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    // plugins/customstyle.js\r\n    /**\r\n     * 自定义样式\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 根据config配置文件里“customstyle”选项的值对匹配的标签执行样式替换。\r\n     * @command customstyle\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'customstyle' );\r\n     * ```\r\n     */\r\n    UE.plugins['customstyle'] = function() {\r\n        var me = this;\r\n        me.setOpt({\r\n            'customstyle': [\r\n                { tag: 'h1', name: 'tc', style: 'font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;' },\r\n                { tag: 'h1', name: 'tl', style: 'font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:left;margin:0 0 10px 0;' },\r\n                { tag: 'span', name: 'im', style: 'font-size:16px;font-style:italic;font-weight:bold;line-height:18px;' },\r\n                { tag: 'span', name: 'hi', style: 'font-size:16px;font-style:italic;font-weight:bold;color:rgb(51, 153, 204);line-height:18px;' }\r\n            ]\r\n        });\r\n        me.commands['customstyle'] = {\r\n            execCommand: function(cmdName, obj) {\r\n                var me = this,\r\n                    tagName = obj.tag,\r\n                    node = domUtils.findParent(me.selection.getStart(), function(node) {\r\n                        return node.getAttribute('label');\r\n                    }, true),\r\n                    range, bk, tmpObj = {};\r\n                for (var p in obj) {\r\n                    if (obj[p] !== undefined)\r\n                        tmpObj[p] = obj[p];\r\n                }\r\n                delete tmpObj.tag;\r\n                if (node && node.getAttribute('label') == obj.label) {\r\n                    range = this.selection.getRange();\r\n                    bk = range.createBookmark();\r\n                    if (range.collapsed) {\r\n                        //trace:1732 删掉自定义标签，要有p来回填站位\r\n                        if (dtd.$block[node.tagName]) {\r\n                            var fillNode = me.document.createElement('p');\r\n                            domUtils.moveChild(node, fillNode);\r\n                            node.parentNode.insertBefore(fillNode, node);\r\n                            domUtils.remove(node);\r\n                        } else {\r\n                            domUtils.remove(node, true);\r\n                        }\r\n\r\n                    } else {\r\n\r\n                        var common = domUtils.getCommonAncestor(bk.start, bk.end),\r\n                            nodes = domUtils.getElementsByTagName(common, tagName);\r\n                        if (new RegExp(tagName, 'i').test(common.tagName)) {\r\n                            nodes.push(common);\r\n                        }\r\n                        for (var i = 0, ni; ni = nodes[i++];) {\r\n                            if (ni.getAttribute('label') == obj.label) {\r\n                                var ps = domUtils.getPosition(ni, bk.start),\r\n                                    pe = domUtils.getPosition(ni, bk.end);\r\n                                if ((ps & domUtils.POSITION_FOLLOWING || ps & domUtils.POSITION_CONTAINS) &&\r\n                                    (pe & domUtils.POSITION_PRECEDING || pe & domUtils.POSITION_CONTAINS)\r\n                                )\r\n                                    if (dtd.$block[tagName]) {\r\n                                        var fillNode = me.document.createElement('p');\r\n                                        domUtils.moveChild(ni, fillNode);\r\n                                        ni.parentNode.insertBefore(fillNode, ni);\r\n                                    }\r\n                                domUtils.remove(ni, true);\r\n                            }\r\n                        }\r\n                        node = domUtils.findParent(common, function(node) {\r\n                            return node.getAttribute('label') == obj.label;\r\n                        }, true);\r\n                        if (node) {\r\n\r\n                            domUtils.remove(node, true);\r\n\r\n                        }\r\n\r\n                    }\r\n                    range.moveToBookmark(bk).select();\r\n                } else {\r\n                    if (dtd.$block[tagName]) {\r\n                        this.execCommand('paragraph', tagName, tmpObj, 'customstyle');\r\n                        range = me.selection.getRange();\r\n                        if (!range.collapsed) {\r\n                            range.collapse();\r\n                            node = domUtils.findParent(me.selection.getStart(), function(node) {\r\n                                return node.getAttribute('label') == obj.label;\r\n                            }, true);\r\n                            var pNode = me.document.createElement('p');\r\n                            domUtils.insertAfter(node, pNode);\r\n                            domUtils.fillNode(me.document, pNode);\r\n                            range.setStart(pNode, 0).setCursor();\r\n                        }\r\n                    } else {\r\n\r\n                        range = me.selection.getRange();\r\n                        if (range.collapsed) {\r\n                            node = me.document.createElement(tagName);\r\n                            domUtils.setAttributes(node, tmpObj);\r\n                            range.insertNode(node).setStart(node, 0).setCursor();\r\n\r\n                            return;\r\n                        }\r\n\r\n                        bk = range.createBookmark();\r\n                        range.applyInlineStyle(tagName, tmpObj).moveToBookmark(bk).select();\r\n                    }\r\n                }\r\n\r\n            },\r\n            queryCommandValue: function() {\r\n                var parent = domUtils.filterNodeList(\r\n                    this.selection.getStartElementPath(),\r\n                    function(node) { return node.getAttribute('label') }\r\n                );\r\n                return parent ? parent.getAttribute('label') : '';\r\n            }\r\n        };\r\n        //当去掉customstyle是，如果是块元素，用p代替\r\n        me.addListener('keyup', function(type, evt) {\r\n            var keyCode = evt.keyCode || evt.which;\r\n\r\n            if (keyCode == 32 || keyCode == 13) {\r\n                var range = me.selection.getRange();\r\n                if (range.collapsed) {\r\n                    var node = domUtils.findParent(me.selection.getStart(), function(node) {\r\n                        return node.getAttribute('label');\r\n                    }, true);\r\n                    if (node && dtd.$block[node.tagName] && domUtils.isEmptyNode(node)) {\r\n                        var p = me.document.createElement('p');\r\n                        domUtils.insertAfter(node, p);\r\n                        domUtils.fillNode(me.document, p);\r\n                        domUtils.remove(node);\r\n                        range.setStart(p, 0).setCursor();\r\n\r\n\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    // plugins/catchremoteimage.js\r\n    ///import core\r\n    ///commands 远程图片抓取\r\n    ///commandsName  catchRemoteImage,catchremoteimageenable\r\n    ///commandsTitle  远程图片抓取\r\n    /**\r\n     * 远程图片抓取,当开启本插件时所有不符合本地域名的图片都将被抓取成为本地服务器上的图片\r\n     */\r\n    UE.plugins['catchremoteimage'] = function() {\r\n        var me = this,\r\n            ajax = UE.ajax;\r\n\r\n        /* 设置默认值 */\r\n        if (me.options.catchRemoteImageEnable === false) return;\r\n        me.setOpt({\r\n            catchRemoteImageEnable: false\r\n        });\r\n\r\n        me.addListener(\"afterpaste\", function() {\r\n            me.fireEvent(\"catchRemoteImage\");\r\n        });\r\n\r\n        me.addListener(\"catchRemoteImage\", function() {\r\n\r\n            var catcherLocalDomain = me.getOpt('catcherLocalDomain'),\r\n                catcherActionUrl = me.getActionUrl(me.getOpt('catcherActionName')),\r\n                catcherUrlPrefix = me.getOpt('catcherUrlPrefix'),\r\n                catcherFieldName = me.getOpt('catcherFieldName');\r\n\r\n            var remoteImages = [],\r\n                imgs = domUtils.getElementsByTagName(me.document, \"img\"),\r\n                test = function(src, urls) {\r\n                    if (src.indexOf(location.host) != -1 || /(^\\.)|(^\\/)/.test(src)) {\r\n                        return true;\r\n                    }\r\n                    if (urls) {\r\n                        for (var j = 0, url; url = urls[j++];) {\r\n                            if (src.indexOf(url) !== -1) {\r\n                                return true;\r\n                            }\r\n                        }\r\n                    }\r\n                    return false;\r\n                };\r\n\r\n            for (var i = 0, ci; ci = imgs[i++];) {\r\n                if (ci.getAttribute(\"word_img\")) {\r\n                    continue;\r\n                }\r\n                var src = ci.getAttribute(\"_src\") || ci.src || \"\";\r\n                if (/^(https?|ftp):/i.test(src) && !test(src, catcherLocalDomain)) {\r\n                    remoteImages.push(src);\r\n                }\r\n            }\r\n\r\n            if (remoteImages.length) {\r\n                catchremoteimage(remoteImages, {\r\n                    //成功抓取\r\n                    success: function(r) {\r\n                        try {\r\n                            var info = r.state !== undefined ? r : eval(\"(\" + r.responseText + \")\");\r\n                        } catch (e) {\r\n                            return;\r\n                        }\r\n\r\n                        /* 获取源路径和新路径 */\r\n                        var i, j, ci, cj, oldSrc, newSrc, list = info.list;\r\n\r\n                        for (i = 0; ci = imgs[i++];) {\r\n                            oldSrc = ci.getAttribute(\"_src\") || ci.src || \"\";\r\n                            for (j = 0; cj = list[j++];) {\r\n                                if (oldSrc == cj.source && cj.state == \"SUCCESS\") { //抓取失败时不做替换处理\r\n                                    newSrc = catcherUrlPrefix + cj.url;\r\n                                    domUtils.setAttributes(ci, {\r\n                                        \"src\": newSrc,\r\n                                        \"_src\": newSrc\r\n                                    });\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        me.fireEvent('catchremotesuccess')\r\n                    },\r\n                    //回调失败，本次请求超时\r\n                    error: function() {\r\n                        me.fireEvent(\"catchremoteerror\");\r\n                    }\r\n                });\r\n            }\r\n\r\n            function catchremoteimage(imgs, callbacks) {\r\n                var params = utils.serializeParam(me.queryCommandValue('serverparam')) || '',\r\n                    url = utils.formatUrl(catcherActionUrl + (catcherActionUrl.indexOf('?') == -1 ? '?' : '&') + params),\r\n                    isJsonp = utils.isCrossDomainUrl(url),\r\n                    opt = {\r\n                        'method': 'POST',\r\n                        'dataType': isJsonp ? 'jsonp' : '',\r\n                        'timeout': 60000, //单位：毫秒，回调请求超时设置。目标用户如果网速不是很快的话此处建议设置一个较大的数值\r\n                        'onsuccess': callbacks[\"success\"],\r\n                        'onerror': callbacks[\"error\"]\r\n                    };\r\n                opt[catcherFieldName] = imgs;\r\n                ajax.request(url, opt);\r\n            }\r\n\r\n        });\r\n    };\r\n\r\n    // plugins/snapscreen.js\r\n    /**\r\n     * 截屏插件，为UEditor提供插入支持\r\n     * @file\r\n     * @since 1.4.2\r\n     */\r\n    UE.plugin.register('snapscreen', function() {\r\n\r\n        var me = this;\r\n        var snapplugin;\r\n\r\n        function getLocation(url) {\r\n            var search,\r\n                a = document.createElement('a'),\r\n                params = utils.serializeParam(me.queryCommandValue('serverparam')) || '';\r\n\r\n            a.href = url;\r\n            if (browser.ie) {\r\n                a.href = a.href;\r\n            }\r\n\r\n\r\n            search = a.search;\r\n            if (params) {\r\n                search = search + (search.indexOf('?') == -1 ? '?' : '&') + params;\r\n                search = search.replace(/[&]+/ig, '&');\r\n            }\r\n            return {\r\n                'port': a.port,\r\n                'hostname': a.hostname,\r\n                'path': a.pathname + search || +a.hash\r\n            }\r\n        }\r\n\r\n        return {\r\n            commands: {\r\n                /**\r\n                 * 字体背景颜色\r\n                 * @command snapscreen\r\n                 * @method execCommand\r\n                 * @param { String } cmd 命令字符串\r\n                 * @example\r\n                 * ```javascript\r\n                 * editor.execCommand('snapscreen');\r\n                 * ```\r\n                 */\r\n                'snapscreen': {\r\n                    execCommand: function(cmd) {\r\n                        var url, local, res;\r\n                        var lang = me.getLang(\"snapScreen_plugin\");\r\n\r\n                        if (!snapplugin) {\r\n                            var container = me.container;\r\n                            var doc = me.container.ownerDocument || me.container.document;\r\n                            snapplugin = doc.createElement(\"object\");\r\n                            try { snapplugin.type = \"application/x-pluginbaidusnap\"; } catch (e) {\r\n                                return;\r\n                            }\r\n                            snapplugin.style.cssText = \"position:absolute;left:-9999px;width:0;height:0;\";\r\n                            snapplugin.setAttribute(\"width\", \"0\");\r\n                            snapplugin.setAttribute(\"height\", \"0\");\r\n                            container.appendChild(snapplugin);\r\n                        }\r\n\r\n                        function onSuccess(rs) {\r\n                            try {\r\n                                rs = eval(\"(\" + rs + \")\");\r\n                                if (rs.state == 'SUCCESS') {\r\n                                    var opt = me.options;\r\n                                    me.execCommand('insertimage', {\r\n                                        src: opt.snapscreenUrlPrefix + rs.url,\r\n                                        _src: opt.snapscreenUrlPrefix + rs.url,\r\n                                        alt: rs.title || '',\r\n                                        floatStyle: opt.snapscreenImgAlign\r\n                                    });\r\n                                } else {\r\n                                    alert(rs.state);\r\n                                }\r\n                            } catch (e) {\r\n                                alert(lang.callBackErrorMsg);\r\n                            }\r\n                        }\r\n                        url = me.getActionUrl(me.getOpt('snapscreenActionName'));\r\n                        local = getLocation(url);\r\n                        setTimeout(function() {\r\n                            try {\r\n                                res = snapplugin.saveSnapshot(local.hostname, local.path, local.port);\r\n                            } catch (e) {\r\n                                me.ui._dialogs['snapscreenDialog'].open();\r\n                                return;\r\n                            }\r\n\r\n                            onSuccess(res);\r\n                        }, 50);\r\n                    },\r\n                    queryCommandState: function() {\r\n                        return (navigator.userAgent.indexOf(\"Windows\", 0) != -1) ? 0 : -1;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n    // plugins/insertparagraph.js\r\n    /**\r\n     * 插入段落\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n\r\n    /**\r\n     * 插入段落\r\n     * @command insertparagraph\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * //editor是编辑器实例\r\n     * editor.execCommand( 'insertparagraph' );\r\n     * ```\r\n     */\r\n\r\n    UE.commands['insertparagraph'] = {\r\n        execCommand: function(cmdName, front) {\r\n            var me = this,\r\n                range = me.selection.getRange(),\r\n                start = range.startContainer,\r\n                tmpNode;\r\n            while (start) {\r\n                if (domUtils.isBody(start)) {\r\n                    break;\r\n                }\r\n                tmpNode = start;\r\n                start = start.parentNode;\r\n            }\r\n            if (tmpNode) {\r\n                var p = me.document.createElement('p');\r\n                if (front) {\r\n                    tmpNode.parentNode.insertBefore(p, tmpNode)\r\n                } else {\r\n                    tmpNode.parentNode.insertBefore(p, tmpNode.nextSibling)\r\n                }\r\n                domUtils.fillNode(me.document, p);\r\n                range.setStart(p, 0).setCursor(false, true);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n\r\n    // plugins/webapp.js\r\n    /**\r\n     * 百度应用\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n\r\n    /**\r\n     * 插入百度应用\r\n     * @command webapp\r\n     * @method execCommand\r\n     * @remind 需要百度APPKey\r\n     * @remind 百度应用主页： <a href=\"http://app.baidu.com/\" target=\"_blank\">http://app.baidu.com/</a>\r\n     * @param { Object } appOptions 应用所需的参数项， 支持的key有： title=>应用标题， width=>应用容器宽度，\r\n     * height=>应用容器高度，logo=>应用logo，url=>应用地址\r\n     * @example\r\n     * ```javascript\r\n     * //editor是编辑器实例\r\n     * //在编辑器里插入一个“植物大战僵尸”的APP\r\n     * editor.execCommand( 'webapp' , {\r\n     *     title: '植物大战僵尸',\r\n     *     width: 560,\r\n     *     height: 465,\r\n     *     logo: '应用展示的图片',\r\n     *     url: '百度应用的地址'\r\n     * } );\r\n     * ```\r\n     */\r\n\r\n    //UE.plugins['webapp'] = function () {\r\n    //    var me = this;\r\n    //    function createInsertStr( obj, toIframe, addParagraph ) {\r\n    //        return !toIframe ?\r\n    //                (addParagraph ? '<p>' : '') + '<img title=\"'+obj.title+'\" width=\"' + obj.width + '\" height=\"' + obj.height + '\"' +\r\n    //                        ' src=\"' + me.options.UEDITOR_HOME_URL + 'themes/default/images/spacer.gif\" style=\"background:url(' + obj.logo+') no-repeat center center; border:1px solid gray;\" class=\"edui-faked-webapp\" _url=\"' + obj.url + '\" />' +\r\n    //                        (addParagraph ? '</p>' : '')\r\n    //                :\r\n    //                '<iframe class=\"edui-faked-webapp\" title=\"'+obj.title+'\" width=\"' + obj.width + '\" height=\"' + obj.height + '\"  scrolling=\"no\" frameborder=\"0\" src=\"' + obj.url + '\" logo_url = '+obj.logo+'></iframe>';\r\n    //    }\r\n    //\r\n    //    function switchImgAndIframe( img2frame ) {\r\n    //        var tmpdiv,\r\n    //                nodes = domUtils.getElementsByTagName( me.document, !img2frame ? \"iframe\" : \"img\" );\r\n    //        for ( var i = 0, node; node = nodes[i++]; ) {\r\n    //            if ( node.className != \"edui-faked-webapp\" ){\r\n    //                continue;\r\n    //            }\r\n    //            tmpdiv = me.document.createElement( \"div\" );\r\n    //            tmpdiv.innerHTML = createInsertStr( img2frame ? {url:node.getAttribute( \"_url\" ), width:node.width, height:node.height,title:node.title,logo:node.style.backgroundImage.replace(\"url(\",\"\").replace(\")\",\"\")} : {url:node.getAttribute( \"src\", 2 ),title:node.title, width:node.width, height:node.height,logo:node.getAttribute(\"logo_url\")}, img2frame ? true : false,false );\r\n    //            node.parentNode.replaceChild( tmpdiv.firstChild, node );\r\n    //        }\r\n    //    }\r\n    //\r\n    //    me.addListener( \"beforegetcontent\", function () {\r\n    //        switchImgAndIframe( true );\r\n    //    } );\r\n    //    me.addListener( 'aftersetcontent', function () {\r\n    //        switchImgAndIframe( false );\r\n    //    } );\r\n    //    me.addListener( 'aftergetcontent', function ( cmdName ) {\r\n    //        if ( cmdName == 'aftergetcontent' && me.queryCommandState( 'source' ) ){\r\n    //            return;\r\n    //        }\r\n    //        switchImgAndIframe( false );\r\n    //    } );\r\n    //\r\n    //    me.commands['webapp'] = {\r\n    //        execCommand:function ( cmd, obj ) {\r\n    //            me.execCommand( \"inserthtml\", createInsertStr( obj, false,true ) );\r\n    //        }\r\n    //    };\r\n    //};\r\n\r\n    UE.plugin.register('webapp', function() {\r\n        var me = this;\r\n\r\n        function createInsertStr(obj, toEmbed) {\r\n            return !toEmbed ?\r\n                '<img title=\"' + obj.title + '\" width=\"' + obj.width + '\" height=\"' + obj.height + '\"' +\r\n                ' src=\"' + me.options.UEDITOR_HOME_URL + 'themes/default/images/spacer.gif\" _logo_url=\"' + obj.logo + '\" style=\"background:url(' + obj.logo +\r\n                ') no-repeat center center; border:1px solid gray;\" class=\"edui-faked-webapp\" _url=\"' + obj.url + '\" ' +\r\n                (obj.align && !obj.cssfloat ? 'align=\"' + obj.align + '\"' : '') +\r\n                (obj.cssfloat ? 'style=\"float:' + obj.cssfloat + '\"' : '') +\r\n                '/>' :\r\n                '<iframe class=\"edui-faked-webapp\" title=\"' + obj.title + '\" ' +\r\n                (obj.align && !obj.cssfloat ? 'align=\"' + obj.align + '\"' : '') +\r\n                (obj.cssfloat ? 'style=\"float:' + obj.cssfloat + '\"' : '') +\r\n                'width=\"' + obj.width + '\" height=\"' + obj.height + '\"  scrolling=\"no\" frameborder=\"0\" src=\"' + obj.url + '\" logo_url = \"' + obj.logo + '\"></iframe>'\r\n\r\n        }\r\n        return {\r\n            outputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('img'), function(node) {\r\n                    var html;\r\n                    if (node.getAttr('class') == 'edui-faked-webapp') {\r\n                        html = createInsertStr({\r\n                            title: node.getAttr('title'),\r\n                            'width': node.getAttr('width'),\r\n                            'height': node.getAttr('height'),\r\n                            'align': node.getAttr('align'),\r\n                            'cssfloat': node.getStyle('float'),\r\n                            'url': node.getAttr(\"_url\"),\r\n                            'logo': node.getAttr('_logo_url')\r\n                        }, true);\r\n                        var embed = UE.uNode.createElement(html);\r\n                        node.parentNode.replaceChild(embed, node);\r\n                    }\r\n                })\r\n            },\r\n            inputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('iframe'), function(node) {\r\n                    if (node.getAttr('class') == 'edui-faked-webapp') {\r\n                        var img = UE.uNode.createElement(createInsertStr({\r\n                            title: node.getAttr('title'),\r\n                            'width': node.getAttr('width'),\r\n                            'height': node.getAttr('height'),\r\n                            'align': node.getAttr('align'),\r\n                            'cssfloat': node.getStyle('float'),\r\n                            'url': node.getAttr(\"src\"),\r\n                            'logo': node.getAttr('logo_url')\r\n                        }));\r\n                        node.parentNode.replaceChild(img, node);\r\n                    }\r\n                })\r\n\r\n            },\r\n            commands: {\r\n                /**\r\n                 * 插入百度应用\r\n                 * @command webapp\r\n                 * @method execCommand\r\n                 * @remind 需要百度APPKey\r\n                 * @remind 百度应用主页： <a href=\"http://app.baidu.com/\" target=\"_blank\">http://app.baidu.com/</a>\r\n                 * @param { Object } appOptions 应用所需的参数项， 支持的key有： title=>应用标题， width=>应用容器宽度，\r\n                 * height=>应用容器高度，logo=>应用logo，url=>应用地址\r\n                 * @example\r\n                 * ```javascript\r\n                 * //editor是编辑器实例\r\n                 * //在编辑器里插入一个“植物大战僵尸”的APP\r\n                 * editor.execCommand( 'webapp' , {\r\n                 *     title: '植物大战僵尸',\r\n                 *     width: 560,\r\n                 *     height: 465,\r\n                 *     logo: '应用展示的图片',\r\n                 *     url: '百度应用的地址'\r\n                 * } );\r\n                 * ```\r\n                 */\r\n                'webapp': {\r\n                    execCommand: function(cmd, obj) {\r\n\r\n                        var me = this,\r\n                            str = createInsertStr(utils.extend(obj, {\r\n                                align: 'none'\r\n                            }), false);\r\n                        me.execCommand(\"inserthtml\", str);\r\n                    },\r\n                    queryCommandState: function() {\r\n                        var me = this,\r\n                            img = me.selection.getRange().getClosedNode(),\r\n                            flag = img && (img.className == \"edui-faked-webapp\");\r\n                        return flag ? 1 : 0;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    // plugins/template.js\r\n    ///import core\r\n    ///import plugins\\inserthtml.js\r\n    ///import plugins\\cleardoc.js\r\n    ///commands 模板\r\n    ///commandsName  template\r\n    ///commandsTitle  模板\r\n    ///commandsDialog  dialogs\\template\r\n    UE.plugins['template'] = function() {\r\n        UE.commands['template'] = {\r\n            execCommand: function(cmd, obj) {\r\n                obj.html && this.execCommand(\"inserthtml\", obj.html);\r\n            }\r\n        };\r\n        this.addListener(\"click\", function(type, evt) {\r\n            var el = evt.target || evt.srcElement,\r\n                range = this.selection.getRange();\r\n            var tnode = domUtils.findParent(el, function(node) {\r\n                if (node.className && domUtils.hasClass(node, \"ue_t\")) {\r\n                    return node;\r\n                }\r\n            }, true);\r\n            tnode && range.selectNode(tnode).shrinkBoundary().select();\r\n        });\r\n        this.addListener(\"keydown\", function(type, evt) {\r\n            var range = this.selection.getRange();\r\n            if (!range.collapsed) {\r\n                if (!evt.ctrlKey && !evt.metaKey && !evt.shiftKey && !evt.altKey) {\r\n                    var tnode = domUtils.findParent(range.startContainer, function(node) {\r\n                        if (node.className && domUtils.hasClass(node, \"ue_t\")) {\r\n                            return node;\r\n                        }\r\n                    }, true);\r\n                    if (tnode) {\r\n                        domUtils.removeClasses(tnode, [\"ue_t\"]);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    // plugins/music.js\r\n    /**\r\n     * 插入音乐命令\r\n     * @file\r\n     */\r\n    UE.plugin.register('music', function() {\r\n        var me = this;\r\n\r\n        function creatInsertStr(url, width, height, align, cssfloat, toEmbed) {\r\n            return !toEmbed ?\r\n                '<img ' +\r\n                (align && !cssfloat ? 'align=\"' + align + '\"' : '') +\r\n                (cssfloat ? 'style=\"float:' + cssfloat + '\"' : '') +\r\n                ' width=\"' + width + '\" height=\"' + height + '\" _url=\"' + url + '\" class=\"edui-faked-music\"' +\r\n                ' src=\"' + me.options.langPath + me.options.lang + '/images/music.png\" />' :\r\n                '<embed type=\"application/x-shockwave-flash\" class=\"edui-faked-music\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\"' +\r\n                ' src=\"' + url + '\" width=\"' + width + '\" height=\"' + height + '\" ' + (align && !cssfloat ? 'align=\"' + align + '\"' : '') +\r\n                (cssfloat ? 'style=\"float:' + cssfloat + '\"' : '') +\r\n                ' wmode=\"transparent\" play=\"true\" loop=\"false\" menu=\"false\" allowscriptaccess=\"never\" allowfullscreen=\"true\" >';\r\n        }\r\n        return {\r\n            outputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('img'), function(node) {\r\n                    var html;\r\n                    if (node.getAttr('class') == 'edui-faked-music') {\r\n                        var cssfloat = node.getStyle('float');\r\n                        var align = node.getAttr('align');\r\n                        html = creatInsertStr(node.getAttr(\"_url\"), node.getAttr('width'), node.getAttr('height'), align, cssfloat, true);\r\n                        var embed = UE.uNode.createElement(html);\r\n                        node.parentNode.replaceChild(embed, node);\r\n                    }\r\n                })\r\n            },\r\n            inputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('embed'), function(node) {\r\n                    if (node.getAttr('class') == 'edui-faked-music') {\r\n                        var cssfloat = node.getStyle('float');\r\n                        var align = node.getAttr('align');\r\n                        html = creatInsertStr(node.getAttr(\"src\"), node.getAttr('width'), node.getAttr('height'), align, cssfloat, false);\r\n                        var img = UE.uNode.createElement(html);\r\n                        node.parentNode.replaceChild(img, node);\r\n                    }\r\n                })\r\n\r\n            },\r\n            commands: {\r\n                /**\r\n                 * 插入音乐\r\n                 * @command music\r\n                 * @method execCommand\r\n                 * @param { Object } musicOptions 插入音乐的参数项， 支持的key有： url=>音乐地址；\r\n                 * width=>音乐容器宽度；height=>音乐容器高度；align=>音乐文件的对齐方式， 可选值有: left, center, right, none\r\n                 * @example\r\n                 * ```javascript\r\n                 * //editor是编辑器实例\r\n                 * //在编辑器里插入一个“植物大战僵尸”的APP\r\n                 * editor.execCommand( 'music' , {\r\n                 *     width: 400,\r\n                 *     height: 95,\r\n                 *     align: \"center\",\r\n                 *     url: \"音乐地址\"\r\n                 * } );\r\n                 * ```\r\n                 */\r\n                'music': {\r\n                    execCommand: function(cmd, musicObj) {\r\n                        var me = this,\r\n                            str = creatInsertStr(musicObj.url, musicObj.width || 400, musicObj.height || 95, \"none\", false);\r\n                        me.execCommand(\"inserthtml\", str);\r\n                    },\r\n                    queryCommandState: function() {\r\n                        var me = this,\r\n                            img = me.selection.getRange().getClosedNode(),\r\n                            flag = img && (img.className == \"edui-faked-music\");\r\n                        return flag ? 1 : 0;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    // plugins/autoupload.js\r\n    /**\r\n     * @description\r\n     * 1.拖放文件到编辑区域，自动上传并插入到选区\r\n     * 2.插入粘贴板的图片，自动上传并插入到选区\r\n     * @author Jinqn\r\n     * @date 2013-10-14\r\n     */\r\n    UE.plugin.register('autoupload', function() {\r\n\r\n        function sendAndInsertFile(file, editor) {\r\n            var me = editor;\r\n            //模拟数据\r\n            var fieldName, urlPrefix, maxSize, allowFiles, actionUrl,\r\n                loadingHtml, errorHandler, successHandler,\r\n                filetype = /image\\/\\w+/i.test(file.type) ? 'image' : 'file',\r\n                loadingId = 'loading_' + (+new Date()).toString(36);\r\n\r\n            fieldName = me.getOpt(filetype + 'FieldName');\r\n            urlPrefix = me.getOpt(filetype + 'UrlPrefix');\r\n            maxSize = me.getOpt(filetype + 'MaxSize');\r\n            allowFiles = me.getOpt(filetype + 'AllowFiles');\r\n            actionUrl = me.getActionUrl(me.getOpt(filetype + 'ActionName'));\r\n            errorHandler = function(title) {\r\n                var loader = me.document.getElementById(loadingId);\r\n                loader && domUtils.remove(loader);\r\n                me.fireEvent('showmessage', {\r\n                    'id': loadingId,\r\n                    'content': title,\r\n                    'type': 'error',\r\n                    'timeout': 4000\r\n                });\r\n            };\r\n\r\n            if (filetype == 'image') {\r\n                loadingHtml = '<img class=\"loadingclass\" id=\"' + loadingId + '\" src=\"' +\r\n                    me.options.themePath + me.options.theme +\r\n                    '/images/spacer.gif\" title=\"' + (me.getLang('autoupload.loading') || '') + '\" >';\r\n                successHandler = function(data) {\r\n                    var link = urlPrefix + data.url,\r\n                        loader = me.document.getElementById(loadingId);\r\n                    if (loader) {\r\n                        loader.setAttribute('src', link);\r\n                        loader.setAttribute('_src', link);\r\n                        loader.setAttribute('title', data.title || '');\r\n                        loader.setAttribute('alt', data.original || '');\r\n                        loader.removeAttribute('id');\r\n                        domUtils.removeClasses(loader, 'loadingclass');\r\n                    }\r\n                };\r\n            } else {\r\n                loadingHtml = '<p>' +\r\n                    '<img class=\"loadingclass\" id=\"' + loadingId + '\" src=\"' +\r\n                    me.options.themePath + me.options.theme +\r\n                    '/images/spacer.gif\" title=\"' + (me.getLang('autoupload.loading') || '') + '\" >' +\r\n                    '</p>';\r\n                successHandler = function(data) {\r\n                    var link = urlPrefix + data.url,\r\n                        loader = me.document.getElementById(loadingId);\r\n\r\n                    var rng = me.selection.getRange(),\r\n                        bk = rng.createBookmark();\r\n                    rng.selectNode(loader).select();\r\n                    me.execCommand('insertfile', { 'url': link });\r\n                    rng.moveToBookmark(bk).select();\r\n                };\r\n            }\r\n\r\n            /* 插入loading的占位符 */\r\n            me.execCommand('inserthtml', loadingHtml);\r\n\r\n            /* 判断后端配置是否没有加载成功 */\r\n            if (!me.getOpt(filetype + 'ActionName')) {\r\n                errorHandler(me.getLang('autoupload.errorLoadConfig'));\r\n                return;\r\n            }\r\n            /* 判断文件大小是否超出限制 */\r\n            if (file.size > maxSize) {\r\n                errorHandler(me.getLang('autoupload.exceedSizeError'));\r\n                return;\r\n            }\r\n            /* 判断文件格式是否超出允许 */\r\n            var fileext = file.name ? file.name.substr(file.name.lastIndexOf('.')) : '';\r\n            if ((fileext && filetype != 'image') || (allowFiles && (allowFiles.join('') + '.').indexOf(fileext.toLowerCase() + '.') == -1)) {\r\n                errorHandler(me.getLang('autoupload.exceedTypeError'));\r\n                return;\r\n            }\r\n\r\n            /* 创建Ajax并提交 */\r\n            var xhr = new XMLHttpRequest(),\r\n                fd = new FormData(),\r\n                params = utils.serializeParam(me.queryCommandValue('serverparam')) || '',\r\n                url = utils.formatUrl(actionUrl + (actionUrl.indexOf('?') == -1 ? '?' : '&') + params);\r\n\r\n            fd.append(fieldName, file, file.name || ('blob.' + file.type.substr('image/'.length)));\r\n            fd.append('type', 'ajax');\r\n            xhr.open(\"post\", url, true);\r\n            xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\r\n            xhr.addEventListener('load', function(e) {\r\n                try {\r\n                    var json = (new Function(\"return \" + utils.trim(e.target.response)))();\r\n                    if (json.state == 'SUCCESS' && json.url) {\r\n                        successHandler(json);\r\n                    } else {\r\n                        errorHandler(json.state);\r\n                    }\r\n                } catch (er) {\r\n                    errorHandler(me.getLang('autoupload.loadError'));\r\n                }\r\n            });\r\n            xhr.send(fd);\r\n        }\r\n\r\n        function getPasteImage(e) {\r\n            return e.clipboardData && e.clipboardData.items && e.clipboardData.items.length == 1 && /^image\\//.test(e.clipboardData.items[0].type) ? e.clipboardData.items : null;\r\n        }\r\n\r\n        function getDropImage(e) {\r\n            return e.dataTransfer && e.dataTransfer.files ? e.dataTransfer.files : null;\r\n        }\r\n\r\n        return {\r\n            outputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('img'), function(n) {\r\n                    if (/\\b(loaderrorclass)|(bloaderrorclass)\\b/.test(n.getAttr('class'))) {\r\n                        n.parentNode.removeChild(n);\r\n                    }\r\n                });\r\n                utils.each(root.getNodesByTagName('p'), function(n) {\r\n                    if (/\\bloadpara\\b/.test(n.getAttr('class'))) {\r\n                        n.parentNode.removeChild(n);\r\n                    }\r\n                });\r\n            },\r\n            bindEvents: {\r\n                //插入粘贴板的图片，拖放插入图片\r\n                'ready': function(e) {\r\n                    var me = this;\r\n                    if (window.FormData && window.FileReader) {\r\n                        domUtils.on(me.body, 'paste drop', function(e) {\r\n                            var hasImg = false,\r\n                                items;\r\n                            //获取粘贴板文件列表或者拖放文件列表\r\n                            items = e.type == 'paste' ? getPasteImage(e) : getDropImage(e);\r\n                            if (items) {\r\n                                var len = items.length,\r\n                                    file;\r\n                                while (len--) {\r\n                                    file = items[len];\r\n                                    if (file.getAsFile) file = file.getAsFile();\r\n                                    if (file && file.size > 0) {\r\n                                        sendAndInsertFile(file, me);\r\n                                        hasImg = true;\r\n                                    }\r\n                                }\r\n                                hasImg && e.preventDefault();\r\n                            }\r\n\r\n                        });\r\n                        //取消拖放图片时出现的文字光标位置提示\r\n                        domUtils.on(me.body, 'dragover', function(e) {\r\n                            if (e.dataTransfer.types[0] == 'Files') {\r\n                                e.preventDefault();\r\n                            }\r\n                        });\r\n\r\n                        //设置loading的样式\r\n                        utils.cssRule('loading',\r\n                            '.loadingclass{display:inline-block;cursor:default;background: url(\\'' +\r\n                            this.options.themePath +\r\n                            this.options.theme + '/images/loading.gif\\') no-repeat center center transparent;border:1px solid #cccccc;margin-left:1px;height: 22px;width: 22px;}\\n' +\r\n                            '.loaderrorclass{display:inline-block;cursor:default;background: url(\\'' +\r\n                            this.options.themePath +\r\n                            this.options.theme + '/images/loaderror.png\\') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;' +\r\n                            '}',\r\n                            this.document);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    // plugins/autosave.js\r\n    UE.plugin.register('autosave', function() {\r\n\r\n        var me = this,\r\n            //无限循环保护\r\n            lastSaveTime = new Date(),\r\n            //最小保存间隔时间\r\n            MIN_TIME = 20,\r\n            //auto save key\r\n            saveKey = null;\r\n\r\n        function save(editor) {\r\n\r\n            var saveData;\r\n\r\n            if (new Date() - lastSaveTime < MIN_TIME) {\r\n                return;\r\n            }\r\n\r\n            if (!editor.hasContents()) {\r\n                //这里不能调用命令来删除， 会造成事件死循环\r\n                saveKey && me.removePreferences(saveKey);\r\n                return;\r\n            }\r\n\r\n            lastSaveTime = new Date();\r\n\r\n            editor._saveFlag = null;\r\n\r\n            saveData = me.body.innerHTML;\r\n\r\n            if (editor.fireEvent(\"beforeautosave\", {\r\n                    content: saveData\r\n                }) === false) {\r\n                return;\r\n            }\r\n\r\n            me.setPreferences(saveKey, saveData);\r\n\r\n            editor.fireEvent(\"afterautosave\", {\r\n                content: saveData\r\n            });\r\n\r\n        }\r\n\r\n        return {\r\n            defaultOptions: {\r\n                //默认间隔时间\r\n                saveInterval: 500\r\n            },\r\n            bindEvents: {\r\n                'ready': function() {\r\n\r\n                    var _suffix = \"-drafts-data\",\r\n                        key = null;\r\n\r\n                    if (me.key) {\r\n                        key = me.key + _suffix;\r\n                    } else {\r\n                        key = (me.container.parentNode.id || 'ue-common') + _suffix;\r\n                    }\r\n\r\n                    //页面地址+编辑器ID 保持唯一\r\n                    saveKey = (location.protocol + location.host + location.pathname).replace(/[.:\\/]/g, '_') + key;\r\n\r\n                },\r\n\r\n                'contentchange': function() {\r\n\r\n                    if (!saveKey) {\r\n                        return;\r\n                    }\r\n\r\n                    if (me._saveFlag) {\r\n                        window.clearTimeout(me._saveFlag);\r\n                    }\r\n\r\n                    if (me.options.saveInterval > 0) {\r\n\r\n                        me._saveFlag = window.setTimeout(function() {\r\n\r\n                            save(me);\r\n\r\n                        }, me.options.saveInterval);\r\n\r\n                    } else {\r\n\r\n                        save(me);\r\n\r\n                    }\r\n\r\n\r\n                }\r\n            },\r\n            commands: {\r\n                'clearlocaldata': {\r\n                    execCommand: function(cmd, name) {\r\n                        if (saveKey && me.getPreferences(saveKey)) {\r\n                            me.removePreferences(saveKey)\r\n                        }\r\n                    },\r\n                    notNeedUndo: true,\r\n                    ignoreContentChange: true\r\n                },\r\n\r\n                'getlocaldata': {\r\n                    execCommand: function(cmd, name) {\r\n                        return saveKey ? me.getPreferences(saveKey) || '' : '';\r\n                    },\r\n                    notNeedUndo: true,\r\n                    ignoreContentChange: true\r\n                },\r\n\r\n                'drafts': {\r\n                    execCommand: function(cmd, name) {\r\n                        if (saveKey) {\r\n                            me.body.innerHTML = me.getPreferences(saveKey) || '<p>' + domUtils.fillHtml + '</p>';\r\n                            me.focus(true);\r\n                        }\r\n                    },\r\n                    queryCommandState: function() {\r\n                        return saveKey ? (me.getPreferences(saveKey) === null ? -1 : 0) : -1;\r\n                    },\r\n                    notNeedUndo: true,\r\n                    ignoreContentChange: true\r\n                }\r\n            }\r\n        }\r\n\r\n    });\r\n\r\n    // plugins/charts.js\r\n    UE.plugin.register('charts', function() {\r\n\r\n        var me = this;\r\n\r\n        return {\r\n            bindEvents: {\r\n                'chartserror': function() {}\r\n            },\r\n            commands: {\r\n                'charts': {\r\n                    execCommand: function(cmd, data) {\r\n\r\n                        var tableNode = domUtils.findParentByTagName(this.selection.getRange().startContainer, 'table', true),\r\n                            flagText = [],\r\n                            config = {};\r\n\r\n                        if (!tableNode) {\r\n                            return false;\r\n                        }\r\n\r\n                        if (!validData(tableNode)) {\r\n                            me.fireEvent(\"chartserror\");\r\n                            return false;\r\n                        }\r\n\r\n                        config.title = data.title || '';\r\n                        config.subTitle = data.subTitle || '';\r\n                        config.xTitle = data.xTitle || '';\r\n                        config.yTitle = data.yTitle || '';\r\n                        config.suffix = data.suffix || '';\r\n                        config.tip = data.tip || '';\r\n                        //数据对齐方式\r\n                        config.dataFormat = data.tableDataFormat || '';\r\n                        //图表类型\r\n                        config.chartType = data.chartType || 0;\r\n\r\n                        for (var key in config) {\r\n\r\n                            if (!config.hasOwnProperty(key)) {\r\n                                continue;\r\n                            }\r\n\r\n                            flagText.push(key + \":\" + config[key]);\r\n\r\n                        }\r\n\r\n                        tableNode.setAttribute(\"data-chart\", flagText.join(\";\"));\r\n                        domUtils.addClass(tableNode, \"edui-charts-table\");\r\n\r\n\r\n\r\n                    },\r\n                    queryCommandState: function(cmd, name) {\r\n\r\n                        var tableNode = domUtils.findParentByTagName(this.selection.getRange().startContainer, 'table', true);\r\n                        return tableNode && validData(tableNode) ? 0 : -1;\r\n\r\n                    }\r\n                }\r\n            },\r\n            inputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('table'), function(tableNode) {\r\n\r\n                    if (tableNode.getAttr(\"data-chart\") !== undefined) {\r\n                        tableNode.setAttr(\"style\");\r\n                    }\r\n\r\n                })\r\n\r\n            },\r\n            outputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('table'), function(tableNode) {\r\n\r\n                    if (tableNode.getAttr(\"data-chart\") !== undefined) {\r\n                        tableNode.setAttr(\"style\", \"display: none;\");\r\n                    }\r\n\r\n                })\r\n\r\n            }\r\n        }\r\n\r\n        function validData(table) {\r\n\r\n            var firstRows = null,\r\n                cellCount = 0;\r\n\r\n            //行数不够\r\n            if (table.rows.length < 2) {\r\n                return false;\r\n            }\r\n\r\n            //列数不够\r\n            if (table.rows[0].cells.length < 2) {\r\n                return false;\r\n            }\r\n\r\n            //第一行所有cell必须是th\r\n            firstRows = table.rows[0].cells;\r\n            cellCount = firstRows.length;\r\n\r\n            for (var i = 0, cell; cell = firstRows[i]; i++) {\r\n\r\n                if (cell.tagName.toLowerCase() !== 'th') {\r\n                    return false;\r\n                }\r\n\r\n            }\r\n\r\n            for (var i = 1, row; row = table.rows[i]; i++) {\r\n\r\n                //每行单元格数不匹配， 返回false\r\n                if (row.cells.length != cellCount) {\r\n                    return false;\r\n                }\r\n\r\n                //第一列不是th也返回false\r\n                if (row.cells[0].tagName.toLowerCase() !== 'th') {\r\n                    return false;\r\n                }\r\n\r\n                for (var j = 1, cell; cell = row.cells[j]; j++) {\r\n\r\n                    var value = utils.trim((cell.innerText || cell.textContent || ''));\r\n\r\n                    value = value.replace(new RegExp(UE.dom.domUtils.fillChar, 'g'), '').replace(/^\\s+|\\s+$/g, '');\r\n\r\n                    //必须是数字\r\n                    if (!/^\\d*\\.?\\d+$/.test(value)) {\r\n                        return false;\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            return true;\r\n\r\n        }\r\n\r\n    });\r\n\r\n    // plugins/section.js\r\n    /**\r\n     * 目录大纲支持插件\r\n     * @file\r\n     * @since 1.3.0\r\n     */\r\n    UE.plugin.register('section', function() {\r\n        /* 目录节点对象 */\r\n        function Section(option) {\r\n            this.tag = '';\r\n            this.level = -1,\r\n                this.dom = null;\r\n            this.nextSection = null;\r\n            this.previousSection = null;\r\n            this.parentSection = null;\r\n            this.startAddress = [];\r\n            this.endAddress = [];\r\n            this.children = [];\r\n        }\r\n\r\n        function getSection(option) {\r\n            var section = new Section();\r\n            return utils.extend(section, option);\r\n        }\r\n\r\n        function getNodeFromAddress(startAddress, root) {\r\n            var current = root;\r\n            for (var i = 0; i < startAddress.length; i++) {\r\n                if (!current.childNodes) return null;\r\n                current = current.childNodes[startAddress[i]];\r\n            }\r\n            return current;\r\n        }\r\n\r\n        var me = this;\r\n\r\n        return {\r\n            bindMultiEvents: {\r\n                type: 'aftersetcontent afterscencerestore',\r\n                handler: function() {\r\n                    me.fireEvent('updateSections');\r\n                }\r\n            },\r\n            bindEvents: {\r\n                /* 初始化、拖拽、粘贴、执行setcontent之后 */\r\n                'ready': function() {\r\n                    me.fireEvent('updateSections');\r\n                    domUtils.on(me.body, 'drop paste', function() {\r\n                        me.fireEvent('updateSections');\r\n                    });\r\n                },\r\n                /* 执行paragraph命令之后 */\r\n                'afterexeccommand': function(type, cmd) {\r\n                    if (cmd == 'paragraph') {\r\n                        me.fireEvent('updateSections');\r\n                    }\r\n                },\r\n                /* 部分键盘操作，触发updateSections事件 */\r\n                'keyup': function(type, e) {\r\n                    var me = this,\r\n                        range = me.selection.getRange();\r\n                    if (range.collapsed != true) {\r\n                        me.fireEvent('updateSections');\r\n                    } else {\r\n                        var keyCode = e.keyCode || e.which;\r\n                        if (keyCode == 13 || keyCode == 8 || keyCode == 46) {\r\n                            me.fireEvent('updateSections');\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            commands: {\r\n                'getsections': {\r\n                    execCommand: function(cmd, levels) {\r\n                        var levelFn = levels || ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\r\n\r\n                        for (var i = 0; i < levelFn.length; i++) {\r\n                            if (typeof levelFn[i] == 'string') {\r\n                                levelFn[i] = function(fn) {\r\n                                    return function(node) {\r\n                                        return node.tagName == fn.toUpperCase()\r\n                                    };\r\n                                }(levelFn[i]);\r\n                            } else if (typeof levelFn[i] != 'function') {\r\n                                levelFn[i] = function(node) {\r\n                                    return null;\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        function getSectionLevel(node) {\r\n                            for (var i = 0; i < levelFn.length; i++) {\r\n                                if (levelFn[i](node)) return i;\r\n                            }\r\n                            return -1;\r\n                        }\r\n\r\n                        var me = this,\r\n                            Directory = getSection({ 'level': -1, 'title': 'root' }),\r\n                            previous = Directory;\r\n\r\n                        function traversal(node, Directory) {\r\n                            var level,\r\n                                tmpSection = null,\r\n                                parent,\r\n                                child,\r\n                                children = node.childNodes;\r\n                            for (var i = 0, len = children.length; i < len; i++) {\r\n                                child = children[i];\r\n                                level = getSectionLevel(child);\r\n                                if (level >= 0) {\r\n                                    var address = me.selection.getRange().selectNode(child).createAddress(true).startAddress,\r\n                                        current = getSection({\r\n                                            'tag': child.tagName,\r\n                                            'title': child.innerText || child.textContent || '',\r\n                                            'level': level,\r\n                                            'dom': child,\r\n                                            'startAddress': utils.clone(address, []),\r\n                                            'endAddress': utils.clone(address, []),\r\n                                            'children': []\r\n                                        });\r\n                                    previous.nextSection = current;\r\n                                    current.previousSection = previous;\r\n                                    parent = previous;\r\n                                    while (level <= parent.level) {\r\n                                        parent = parent.parentSection;\r\n                                    }\r\n                                    current.parentSection = parent;\r\n                                    parent.children.push(current);\r\n                                    tmpSection = previous = current;\r\n                                } else {\r\n                                    child.nodeType === 1 && traversal(child, Directory);\r\n                                    tmpSection && tmpSection.endAddress[tmpSection.endAddress.length - 1]++;\r\n                                }\r\n                            }\r\n                        }\r\n                        traversal(me.body, Directory);\r\n                        return Directory;\r\n                    },\r\n                    notNeedUndo: true\r\n                },\r\n                'movesection': {\r\n                    execCommand: function(cmd, sourceSection, targetSection, isAfter) {\r\n\r\n                        var me = this,\r\n                            targetAddress,\r\n                            target;\r\n\r\n                        if (!sourceSection || !targetSection || targetSection.level == -1) return;\r\n\r\n                        targetAddress = isAfter ? targetSection.endAddress : targetSection.startAddress;\r\n                        target = getNodeFromAddress(targetAddress, me.body);\r\n\r\n                        /* 判断目标地址是否被源章节包含 */\r\n                        if (!targetAddress || !target || isContainsAddress(sourceSection.startAddress, sourceSection.endAddress, targetAddress)) return;\r\n\r\n                        var startNode = getNodeFromAddress(sourceSection.startAddress, me.body),\r\n                            endNode = getNodeFromAddress(sourceSection.endAddress, me.body),\r\n                            current,\r\n                            nextNode;\r\n\r\n                        if (isAfter) {\r\n                            current = endNode;\r\n                            while (current && !(domUtils.getPosition(startNode, current) & domUtils.POSITION_FOLLOWING)) {\r\n                                nextNode = current.previousSibling;\r\n                                domUtils.insertAfter(target, current);\r\n                                if (current == startNode) break;\r\n                                current = nextNode;\r\n                            }\r\n                        } else {\r\n                            current = startNode;\r\n                            while (current && !(domUtils.getPosition(current, endNode) & domUtils.POSITION_FOLLOWING)) {\r\n                                nextNode = current.nextSibling;\r\n                                target.parentNode.insertBefore(current, target);\r\n                                if (current == endNode) break;\r\n                                current = nextNode;\r\n                            }\r\n                        }\r\n\r\n                        me.fireEvent('updateSections');\r\n\r\n                        /* 获取地址的包含关系 */\r\n                        function isContainsAddress(startAddress, endAddress, addressTarget) {\r\n                            var isAfterStartAddress = false,\r\n                                isBeforeEndAddress = false;\r\n                            for (var i = 0; i < startAddress.length; i++) {\r\n                                if (i >= addressTarget.length) break;\r\n                                if (addressTarget[i] > startAddress[i]) {\r\n                                    isAfterStartAddress = true;\r\n                                    break;\r\n                                } else if (addressTarget[i] < startAddress[i]) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                            for (var i = 0; i < endAddress.length; i++) {\r\n                                if (i >= addressTarget.length) break;\r\n                                if (addressTarget[i] < startAddress[i]) {\r\n                                    isBeforeEndAddress = true;\r\n                                    break;\r\n                                } else if (addressTarget[i] > startAddress[i]) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                            return isAfterStartAddress && isBeforeEndAddress;\r\n                        }\r\n                    }\r\n                },\r\n                'deletesection': {\r\n                    execCommand: function(cmd, section, keepChildren) {\r\n                        var me = this;\r\n\r\n                        if (!section) return;\r\n\r\n                        function getNodeFromAddress(startAddress) {\r\n                            var current = me.body;\r\n                            for (var i = 0; i < startAddress.length; i++) {\r\n                                if (!current.childNodes) return null;\r\n                                current = current.childNodes[startAddress[i]];\r\n                            }\r\n                            return current;\r\n                        }\r\n\r\n                        var startNode = getNodeFromAddress(section.startAddress),\r\n                            endNode = getNodeFromAddress(section.endAddress),\r\n                            current = startNode,\r\n                            nextNode;\r\n\r\n                        if (!keepChildren) {\r\n                            while (current && domUtils.inDoc(endNode, me.document) && !(domUtils.getPosition(current, endNode) & domUtils.POSITION_FOLLOWING)) {\r\n                                nextNode = current.nextSibling;\r\n                                domUtils.remove(current);\r\n                                current = nextNode;\r\n                            }\r\n                        } else {\r\n                            domUtils.remove(current);\r\n                        }\r\n\r\n                        me.fireEvent('updateSections');\r\n                    }\r\n                },\r\n                'selectsection': {\r\n                    execCommand: function(cmd, section) {\r\n                        if (!section && !section.dom) return false;\r\n                        var me = this,\r\n                            range = me.selection.getRange(),\r\n                            address = {\r\n                                'startAddress': utils.clone(section.startAddress, []),\r\n                                'endAddress': utils.clone(section.endAddress, [])\r\n                            };\r\n                        address.endAddress[address.endAddress.length - 1]++;\r\n                        range.moveToAddress(address).select().scrollToView();\r\n                        return true;\r\n                    },\r\n                    notNeedUndo: true\r\n                },\r\n                'scrolltosection': {\r\n                    execCommand: function(cmd, section) {\r\n                        if (!section && !section.dom) return false;\r\n                        var me = this,\r\n                            range = me.selection.getRange(),\r\n                            address = {\r\n                                'startAddress': section.startAddress,\r\n                                'endAddress': section.endAddress\r\n                            };\r\n                        address.endAddress[address.endAddress.length - 1]++;\r\n                        range.moveToAddress(address).scrollToView();\r\n                        return true;\r\n                    },\r\n                    notNeedUndo: true\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    // plugins/simpleupload.js\r\n    /**\r\n     * @description\r\n     * 简单上传:点击按钮,直接选择文件上传\r\n     * @author Jinqn\r\n     * @date 2014-03-31\r\n     */\r\n    UE.plugin.register('simpleupload', function() {\r\n        var me = this,\r\n            isLoaded = false,\r\n            containerBtn;\r\n\r\n        function initUploadBtn() {\r\n            var w = containerBtn.offsetWidth || 20,\r\n                h = containerBtn.offsetHeight || 20,\r\n                btnIframe = document.createElement('iframe'),\r\n                btnStyle = 'display:block;width:' + w + 'px;height:' + h + 'px;overflow:hidden;border:0;margin:0;padding:0;position:absolute;top:0;left:0;filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity: 0;opacity: 0;cursor:pointer;';\r\n\r\n            domUtils.on(btnIframe, 'load', function() {\r\n\r\n                var timestrap = (+new Date()).toString(36),\r\n                    wrapper,\r\n                    btnIframeDoc,\r\n                    btnIframeBody;\r\n\r\n                btnIframeDoc = (btnIframe.contentDocument || btnIframe.contentWindow.document);\r\n                btnIframeBody = btnIframeDoc.body;\r\n                wrapper = btnIframeDoc.createElement('div');\r\n\r\n                wrapper.innerHTML = '<form id=\"edui_form_' + timestrap + '\" target=\"edui_iframe_' + timestrap + '\" method=\"POST\" enctype=\"multipart/form-data\" action=\"' + me.getOpt('serverUrl') + '\" ' +\r\n                    'style=\"' + btnStyle + '\">' +\r\n                    '<input id=\"edui_input_' + timestrap + '\" type=\"file\" accept=\"image/*\" name=\"' + me.options.imageFieldName + '\" ' +\r\n                    'style=\"' + btnStyle + '\">' +\r\n                    '</form>' +\r\n                    '<iframe id=\"edui_iframe_' + timestrap + '\" name=\"edui_iframe_' + timestrap + '\" style=\"display:none;width:0;height:0;border:0;margin:0;padding:0;position:absolute;\"></iframe>';\r\n\r\n                wrapper.className = 'edui-' + me.options.theme;\r\n                wrapper.id = me.ui.id + '_iframeupload';\r\n                btnIframeBody.style.cssText = btnStyle;\r\n                btnIframeBody.style.width = w + 'px';\r\n                btnIframeBody.style.height = h + 'px';\r\n                btnIframeBody.appendChild(wrapper);\r\n\r\n                if (btnIframeBody.parentNode) {\r\n                    btnIframeBody.parentNode.style.width = w + 'px';\r\n                    btnIframeBody.parentNode.style.height = w + 'px';\r\n                }\r\n\r\n                var form = btnIframeDoc.getElementById('edui_form_' + timestrap);\r\n                var input = btnIframeDoc.getElementById('edui_input_' + timestrap);\r\n                var iframe = btnIframeDoc.getElementById('edui_iframe_' + timestrap);\r\n\r\n                domUtils.on(input, 'change', function() {\r\n                    if (!input.value) return;\r\n                    var loadingId = 'loading_' + (+new Date()).toString(36);\r\n                    var params = utils.serializeParam(me.queryCommandValue('serverparam')) || '';\r\n\r\n                    var imageActionUrl = me.getActionUrl(me.getOpt('imageActionName'));\r\n                    var allowFiles = me.getOpt('imageAllowFiles');\r\n\r\n                    me.focus();\r\n                    me.execCommand('inserthtml', '<img class=\"loadingclass\" id=\"' + loadingId + '\" src=\"' + me.options.themePath + me.options.theme + '/images/spacer.gif\" title=\"' + (me.getLang('simpleupload.loading') || '') + '\" >');\r\n\r\n                    function callback() {\r\n                        try {\r\n                            var link, json, loader,\r\n                                body = (iframe.contentDocument || iframe.contentWindow.document).body,\r\n                                result = body.innerText || body.textContent || '';\r\n                            json = (new Function(\"return \" + result))();\r\n                            link = me.options.imageUrlPrefix + json.url;\r\n                            if (json.state == 'SUCCESS' && json.url) {\r\n                                loader = me.document.getElementById(loadingId);\r\n                                loader.setAttribute('src', link);\r\n                                loader.setAttribute('_src', link);\r\n                                loader.setAttribute('title', json.title || '');\r\n                                loader.setAttribute('alt', json.original || '');\r\n                                loader.removeAttribute('id');\r\n                                domUtils.removeClasses(loader, 'loadingclass');\r\n                            } else {\r\n                                showErrorLoader && showErrorLoader(json.state);\r\n                            }\r\n                        } catch (er) {\r\n                            showErrorLoader && showErrorLoader(me.getLang('simpleupload.loadError'));\r\n                        }\r\n                        form.reset();\r\n                        domUtils.un(iframe, 'load', callback);\r\n                    }\r\n\r\n                    function showErrorLoader(title) {\r\n                        if (loadingId) {\r\n                            var loader = me.document.getElementById(loadingId);\r\n                            loader && domUtils.remove(loader);\r\n                            me.fireEvent('showmessage', {\r\n                                'id': loadingId,\r\n                                'content': title,\r\n                                'type': 'error',\r\n                                'timeout': 4000\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                    /* 判断后端配置是否没有加载成功 */\r\n                    if (!me.getOpt('imageActionName')) {\r\n                        errorHandler(me.getLang('autoupload.errorLoadConfig'));\r\n                        return;\r\n                    }\r\n                    // 判断文件格式是否错误\r\n                    var filename = input.value,\r\n                        fileext = filename ? filename.substr(filename.lastIndexOf('.')) : '';\r\n                    if (!fileext || (allowFiles && (allowFiles.join('') + '.').indexOf(fileext.toLowerCase() + '.') == -1)) {\r\n                        showErrorLoader(me.getLang('simpleupload.exceedTypeError'));\r\n                        return;\r\n                    }\r\n\r\n                    domUtils.on(iframe, 'load', callback);\r\n                    form.action = utils.formatUrl(imageActionUrl + (imageActionUrl.indexOf('?') == -1 ? '?' : '&') + params);\r\n                    form.submit();\r\n                });\r\n\r\n                var stateTimer;\r\n                me.addListener('selectionchange', function() {\r\n                    clearTimeout(stateTimer);\r\n                    stateTimer = setTimeout(function() {\r\n                        var state = me.queryCommandState('simpleupload');\r\n                        if (state == -1) {\r\n                            input.disabled = 'disabled';\r\n                        } else {\r\n                            input.disabled = false;\r\n                        }\r\n                    }, 400);\r\n                });\r\n                isLoaded = true;\r\n            });\r\n\r\n            btnIframe.style.cssText = btnStyle;\r\n            containerBtn.appendChild(btnIframe);\r\n        }\r\n\r\n        return {\r\n            bindEvents: {\r\n                'ready': function() {\r\n                    //设置loading的样式\r\n                    utils.cssRule('loading',\r\n                        '.loadingclass{display:inline-block;cursor:default;background: url(\\'' +\r\n                        this.options.themePath +\r\n                        this.options.theme + '/images/loading.gif\\') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}\\n' +\r\n                        '.loaderrorclass{display:inline-block;cursor:default;background: url(\\'' +\r\n                        this.options.themePath +\r\n                        this.options.theme + '/images/loaderror.png\\') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;' +\r\n                        '}',\r\n                        this.document);\r\n                },\r\n                /* 初始化简单上传按钮 */\r\n                'simpleuploadbtnready': function(type, container) {\r\n                    containerBtn = container;\r\n                    me.afterConfigReady(initUploadBtn);\r\n                }\r\n            },\r\n            outputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('img'), function(n) {\r\n                    if (/\\b(loaderrorclass)|(bloaderrorclass)\\b/.test(n.getAttr('class'))) {\r\n                        n.parentNode.removeChild(n);\r\n                    }\r\n                });\r\n            },\r\n            commands: {\r\n                'simpleupload': {\r\n                    queryCommandState: function() {\r\n                        return isLoaded ? 0 : -1;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    // plugins/serverparam.js\r\n    /**\r\n     * 服务器提交的额外参数列表设置插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n    UE.plugin.register('serverparam', function() {\r\n\r\n        var me = this,\r\n            serverParam = {};\r\n\r\n        return {\r\n            commands: {\r\n                /**\r\n                 * 修改服务器提交的额外参数列表,清除所有项\r\n                 * @command serverparam\r\n                 * @method execCommand\r\n                 * @param { String } cmd 命令字符串\r\n                 * @example\r\n                 * ```javascript\r\n                 * editor.execCommand('serverparam');\r\n                 * editor.queryCommandValue('serverparam'); //返回空\r\n                 * ```\r\n                 */\r\n                /**\r\n                 * 修改服务器提交的额外参数列表,删除指定项\r\n                 * @command serverparam\r\n                 * @method execCommand\r\n                 * @param { String } cmd 命令字符串\r\n                 * @param { String } key 要清除的属性\r\n                 * @example\r\n                 * ```javascript\r\n                 * editor.execCommand('serverparam', 'name'); //删除属性name\r\n                 * ```\r\n                 */\r\n                /**\r\n                 * 修改服务器提交的额外参数列表,使用键值添加项\r\n                 * @command serverparam\r\n                 * @method execCommand\r\n                 * @param { String } cmd 命令字符串\r\n                 * @param { String } key 要添加的属性\r\n                 * @param { String } value 要添加属性的值\r\n                 * @example\r\n                 * ```javascript\r\n                 * editor.execCommand('serverparam', 'name', 'hello');\r\n                 * editor.queryCommandValue('serverparam'); //返回对象 {'name': 'hello'}\r\n                 * ```\r\n                 */\r\n                /**\r\n                 * 修改服务器提交的额外参数列表,传入键值对对象添加多项\r\n                 * @command serverparam\r\n                 * @method execCommand\r\n                 * @param { String } cmd 命令字符串\r\n                 * @param { Object } key 传入的键值对对象\r\n                 * @example\r\n                 * ```javascript\r\n                 * editor.execCommand('serverparam', {'name': 'hello'});\r\n                 * editor.queryCommandValue('serverparam'); //返回对象 {'name': 'hello'}\r\n                 * ```\r\n                 */\r\n                /**\r\n                 * 修改服务器提交的额外参数列表,使用自定义函数添加多项\r\n                 * @command serverparam\r\n                 * @method execCommand\r\n                 * @param { String } cmd 命令字符串\r\n                 * @param { Function } key 自定义获取参数的函数\r\n                 * @example\r\n                 * ```javascript\r\n                 * editor.execCommand('serverparam', function(editor){\r\n                 *     return {'key': 'value'};\r\n                 * });\r\n                 * editor.queryCommandValue('serverparam'); //返回对象 {'key': 'value'}\r\n                 * ```\r\n                 */\r\n\r\n                /**\r\n                 * 获取服务器提交的额外参数列表\r\n                 * @command serverparam\r\n                 * @method queryCommandValue\r\n                 * @param { String } cmd 命令字符串\r\n                 * @example\r\n                 * ```javascript\r\n                 * editor.queryCommandValue( 'serverparam' ); //返回对象 {'key': 'value'}\r\n                 * ```\r\n                 */\r\n                'serverparam': {\r\n                    execCommand: function(cmd, key, value) {\r\n                        if (key === undefined || key === null) { //不传参数,清空列表\r\n                            serverParam = {};\r\n                        } else if (utils.isString(key)) { //传入键值\r\n                            if (value === undefined || value === null) {\r\n                                delete serverParam[key];\r\n                            } else {\r\n                                serverParam[key] = value;\r\n                            }\r\n                        } else if (utils.isObject(key)) { //传入对象,覆盖列表项\r\n                            utils.extend(serverParam, key, true);\r\n                        } else if (utils.isFunction(key)) { //传入函数,添加列表项\r\n                            utils.extend(serverParam, key(), true);\r\n                        }\r\n                    },\r\n                    queryCommandValue: function() {\r\n                        return serverParam || {};\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n    // plugins/insertfile.js\r\n    /**\r\n     * 插入附件\r\n     */\r\n    UE.plugin.register('insertfile', function() {\r\n\r\n        var me = this;\r\n\r\n        function getFileIcon(url) {\r\n            var ext = url.substr(url.lastIndexOf('.') + 1).toLowerCase(),\r\n                maps = {\r\n                    \"rar\": \"icon_rar.gif\",\r\n                    \"zip\": \"icon_rar.gif\",\r\n                    \"tar\": \"icon_rar.gif\",\r\n                    \"gz\": \"icon_rar.gif\",\r\n                    \"bz2\": \"icon_rar.gif\",\r\n                    \"doc\": \"icon_doc.gif\",\r\n                    \"docx\": \"icon_doc.gif\",\r\n                    \"pdf\": \"icon_pdf.gif\",\r\n                    \"mp3\": \"icon_mp3.gif\",\r\n                    \"xls\": \"icon_xls.gif\",\r\n                    \"chm\": \"icon_chm.gif\",\r\n                    \"ppt\": \"icon_ppt.gif\",\r\n                    \"pptx\": \"icon_ppt.gif\",\r\n                    \"avi\": \"icon_mv.gif\",\r\n                    \"rmvb\": \"icon_mv.gif\",\r\n                    \"wmv\": \"icon_mv.gif\",\r\n                    \"flv\": \"icon_mv.gif\",\r\n                    \"swf\": \"icon_mv.gif\",\r\n                    \"rm\": \"icon_mv.gif\",\r\n                    \"exe\": \"icon_exe.gif\",\r\n                    \"psd\": \"icon_psd.gif\",\r\n                    \"txt\": \"icon_txt.gif\",\r\n                    \"jpg\": \"icon_jpg.gif\",\r\n                    \"png\": \"icon_jpg.gif\",\r\n                    \"jpeg\": \"icon_jpg.gif\",\r\n                    \"gif\": \"icon_jpg.gif\",\r\n                    \"ico\": \"icon_jpg.gif\",\r\n                    \"bmp\": \"icon_jpg.gif\"\r\n                };\r\n            return maps[ext] ? maps[ext] : maps['txt'];\r\n        }\r\n\r\n        return {\r\n            commands: {\r\n                'insertfile': {\r\n                    execCommand: function(command, filelist) {\r\n                        filelist = utils.isArray(filelist) ? filelist : [filelist];\r\n\r\n                        var i, item, icon, title,\r\n                            html = '',\r\n                            URL = me.getOpt('UEDITOR_HOME_URL'),\r\n                            iconDir = URL + (URL.substr(URL.length - 1) == '/' ? '' : '/') + 'dialogs/attachment/fileTypeImages/';\r\n                        for (i = 0; i < filelist.length; i++) {\r\n                            item = filelist[i];\r\n                            icon = iconDir + getFileIcon(item.url);\r\n                            title = item.title || item.url.substr(item.url.lastIndexOf('/') + 1);\r\n                            html += '<p style=\"line-height: 16px;\">' +\r\n                                '<img style=\"vertical-align: middle; margin-right: 2px;\" src=\"' + icon + '\" _src=\"' + icon + '\" />' +\r\n                                '<a style=\"font-size:12px; color:#0066cc;\" href=\"' + item.url + '\" title=\"' + title + '\">' + title + '</a>' +\r\n                                '</p>';\r\n                        }\r\n                        me.execCommand('insertHtml', html);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n\r\n\r\n    // plugins/xssFilter.js\r\n    /**\r\n     * @file xssFilter.js\r\n     * @desc xss过滤器\r\n     * @author robbenmu\r\n     */\r\n\r\n    UE.plugins.xssFilter = function() {\r\n\r\n        var config = UEDITOR_CONFIG;\r\n        var whitList = config.whitList;\r\n\r\n        function filter(node) {\r\n\r\n            var tagName = node.tagName;\r\n            var attrs = node.attrs;\r\n\r\n            if (!whitList.hasOwnProperty(tagName)) {\r\n                node.parentNode.removeChild(node);\r\n                return false;\r\n            }\r\n\r\n            UE.utils.each(attrs, function(val, key) {\r\n\r\n                if (whitList[tagName].indexOf(key) === -1) {\r\n                    node.setAttr(key);\r\n                }\r\n            });\r\n        }\r\n\r\n        // 添加inserthtml\\paste等操作用的过滤规则\r\n        if (whitList && config.xssFilterRules) {\r\n            this.options.filterRules = function() {\r\n\r\n                var result = {};\r\n\r\n                UE.utils.each(whitList, function(val, key) {\r\n                    result[key] = function(node) {\r\n                        return filter(node);\r\n                    };\r\n                });\r\n\r\n                return result;\r\n            }();\r\n        }\r\n\r\n        var tagList = [];\r\n\r\n        UE.utils.each(whitList, function(val, key) {\r\n            tagList.push(key);\r\n        });\r\n\r\n        // 添加input过滤规则\r\n        //\r\n        if (whitList && config.inputXssFilter) {\r\n            this.addInputRule(function(root) {\r\n\r\n                root.traversal(function(node) {\r\n                    if (node.type !== 'element') {\r\n                        return false;\r\n                    }\r\n                    filter(node);\r\n                });\r\n            });\r\n        }\r\n        // 添加output过滤规则\r\n        //\r\n        if (whitList && config.outputXssFilter) {\r\n            this.addOutputRule(function(root) {\r\n\r\n                root.traversal(function(node) {\r\n                    if (node.type !== 'element') {\r\n                        return false;\r\n                    }\r\n                    filter(node);\r\n                });\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n\r\n    // ui/ui.js\r\n    var baidu = baidu || {};\r\n    baidu.editor = baidu.editor || {};\r\n    UE.ui = baidu.editor.ui = {};\r\n\r\n    // ui/uiutils.js\r\n    (function() {\r\n        var browser = baidu.editor.browser,\r\n            domUtils = baidu.editor.dom.domUtils;\r\n\r\n        var magic = '$EDITORUI';\r\n        var root = window[magic] = {};\r\n        var uidMagic = 'ID' + magic;\r\n        var uidCount = 0;\r\n\r\n        var uiUtils = baidu.editor.ui.uiUtils = {\r\n            uid: function(obj) {\r\n                return (obj ? obj[uidMagic] || (obj[uidMagic] = ++uidCount) : ++uidCount);\r\n            },\r\n            hook: function(fn, callback) {\r\n                var dg;\r\n                if (fn && fn._callbacks) {\r\n                    dg = fn;\r\n                } else {\r\n                    dg = function() {\r\n                        var q;\r\n                        if (fn) {\r\n                            q = fn.apply(this, arguments);\r\n                        }\r\n                        var callbacks = dg._callbacks;\r\n                        var k = callbacks.length;\r\n                        while (k--) {\r\n                            var r = callbacks[k].apply(this, arguments);\r\n                            if (q === undefined) {\r\n                                q = r;\r\n                            }\r\n                        }\r\n                        return q;\r\n                    };\r\n                    dg._callbacks = [];\r\n                }\r\n                dg._callbacks.push(callback);\r\n                return dg;\r\n            },\r\n            createElementByHtml: function(html) {\r\n                var el = document.createElement('div');\r\n                el.innerHTML = html;\r\n                el = el.firstChild;\r\n                el.parentNode.removeChild(el);\r\n                return el;\r\n            },\r\n            getViewportElement: function() {\r\n                return (browser.ie && browser.quirks) ?\r\n                    document.body : document.documentElement;\r\n            },\r\n            getClientRect: function(element) {\r\n                var bcr;\r\n                //trace  IE6下在控制编辑器显隐时可能会报错，catch一下\r\n                try {\r\n                    bcr = element.getBoundingClientRect();\r\n                } catch (e) {\r\n                    bcr = { left: 0, top: 0, height: 0, width: 0 }\r\n                }\r\n                var rect = {\r\n                    left: Math.round(bcr.left),\r\n                    top: Math.round(bcr.top),\r\n                    height: Math.round(bcr.bottom - bcr.top),\r\n                    width: Math.round(bcr.right - bcr.left)\r\n                };\r\n                var doc;\r\n                while ((doc = element.ownerDocument) !== document &&\r\n                    (element = domUtils.getWindow(doc).frameElement)) {\r\n                    bcr = element.getBoundingClientRect();\r\n                    rect.left += bcr.left;\r\n                    rect.top += bcr.top;\r\n                }\r\n                rect.bottom = rect.top + rect.height;\r\n                rect.right = rect.left + rect.width;\r\n                return rect;\r\n            },\r\n            getViewportRect: function() {\r\n                var viewportEl = uiUtils.getViewportElement();\r\n                var width = (window.innerWidth || viewportEl.clientWidth) | 0;\r\n                var height = (window.innerHeight || viewportEl.clientHeight) | 0;\r\n                return {\r\n                    left: 0,\r\n                    top: 0,\r\n                    height: height,\r\n                    width: width,\r\n                    bottom: height,\r\n                    right: width\r\n                };\r\n            },\r\n            setViewportOffset: function(element, offset) {\r\n                var rect;\r\n                var fixedLayer = uiUtils.getFixedLayer();\r\n                if (element.parentNode === fixedLayer) {\r\n                    element.style.left = offset.left + 'px';\r\n                    element.style.top = offset.top + 'px';\r\n                } else {\r\n                    domUtils.setViewportOffset(element, offset);\r\n                }\r\n            },\r\n            getEventOffset: function(evt) {\r\n                var el = evt.target || evt.srcElement;\r\n                var rect = uiUtils.getClientRect(el);\r\n                var offset = uiUtils.getViewportOffsetByEvent(evt);\r\n                return {\r\n                    left: offset.left - rect.left,\r\n                    top: offset.top - rect.top\r\n                };\r\n            },\r\n            getViewportOffsetByEvent: function(evt) {\r\n                var el = evt.target || evt.srcElement;\r\n                var frameEl = domUtils.getWindow(el).frameElement;\r\n                var offset = {\r\n                    left: evt.clientX,\r\n                    top: evt.clientY\r\n                };\r\n                if (frameEl && el.ownerDocument !== document) {\r\n                    var rect = uiUtils.getClientRect(frameEl);\r\n                    offset.left += rect.left;\r\n                    offset.top += rect.top;\r\n                }\r\n                return offset;\r\n            },\r\n            setGlobal: function(id, obj) {\r\n                root[id] = obj;\r\n                return magic + '[\"' + id + '\"]';\r\n            },\r\n            unsetGlobal: function(id) {\r\n                delete root[id];\r\n            },\r\n            copyAttributes: function(tgt, src) {\r\n                var attributes = src.attributes;\r\n                var k = attributes.length;\r\n                while (k--) {\r\n                    var attrNode = attributes[k];\r\n                    if (attrNode.nodeName != 'style' && attrNode.nodeName != 'class' && (!browser.ie || attrNode.specified)) {\r\n                        tgt.setAttribute(attrNode.nodeName, attrNode.nodeValue);\r\n                    }\r\n                }\r\n                if (src.className) {\r\n                    domUtils.addClass(tgt, src.className);\r\n                }\r\n                if (src.style.cssText) {\r\n                    tgt.style.cssText += ';' + src.style.cssText;\r\n                }\r\n            },\r\n            removeStyle: function(el, styleName) {\r\n                if (el.style.removeProperty) {\r\n                    el.style.removeProperty(styleName);\r\n                } else if (el.style.removeAttribute) {\r\n                    el.style.removeAttribute(styleName);\r\n                } else throw '';\r\n            },\r\n            contains: function(elA, elB) {\r\n                return elA && elB && (elA === elB ? false : (\r\n                    elA.contains ? elA.contains(elB) :\r\n                    elA.compareDocumentPosition(elB) & 16\r\n                ));\r\n            },\r\n            startDrag: function(evt, callbacks, doc) {\r\n                var doc = doc || document;\r\n                var startX = evt.clientX;\r\n                var startY = evt.clientY;\r\n\r\n                function handleMouseMove(evt) {\r\n                    var x = evt.clientX - startX;\r\n                    var y = evt.clientY - startY;\r\n                    callbacks.ondragmove(x, y, evt);\r\n                    if (evt.stopPropagation) {\r\n                        evt.stopPropagation();\r\n                    } else {\r\n                        evt.cancelBubble = true;\r\n                    }\r\n                }\r\n                if (doc.addEventListener) {\r\n                    function handleMouseUp(evt) {\r\n                        doc.removeEventListener('mousemove', handleMouseMove, true);\r\n                        doc.removeEventListener('mouseup', handleMouseUp, true);\r\n                        window.removeEventListener('mouseup', handleMouseUp, true);\r\n                        callbacks.ondragstop();\r\n                    }\r\n                    doc.addEventListener('mousemove', handleMouseMove, true);\r\n                    doc.addEventListener('mouseup', handleMouseUp, true);\r\n                    window.addEventListener('mouseup', handleMouseUp, true);\r\n\r\n                    evt.preventDefault();\r\n                } else {\r\n                    var elm = evt.srcElement;\r\n                    elm.setCapture();\r\n\r\n                    function releaseCaptrue() {\r\n                        elm.releaseCapture();\r\n                        elm.detachEvent('onmousemove', handleMouseMove);\r\n                        elm.detachEvent('onmouseup', releaseCaptrue);\r\n                        elm.detachEvent('onlosecaptrue', releaseCaptrue);\r\n                        callbacks.ondragstop();\r\n                    }\r\n                    elm.attachEvent('onmousemove', handleMouseMove);\r\n                    elm.attachEvent('onmouseup', releaseCaptrue);\r\n                    elm.attachEvent('onlosecaptrue', releaseCaptrue);\r\n                    evt.returnValue = false;\r\n                }\r\n                callbacks.ondragstart();\r\n            },\r\n            getFixedLayer: function() {\r\n                var layer = document.getElementById('edui_fixedlayer');\r\n                if (layer == null) {\r\n                    layer = document.createElement('div');\r\n                    layer.id = 'edui_fixedlayer';\r\n                    document.body.appendChild(layer);\r\n                    if (browser.ie && browser.version <= 8) {\r\n                        layer.style.position = 'absolute';\r\n                        bindFixedLayer();\r\n                        setTimeout(updateFixedOffset);\r\n                    } else {\r\n                        layer.style.position = 'fixed';\r\n                    }\r\n                    layer.style.left = '0';\r\n                    layer.style.top = '0';\r\n                    layer.style.width = '0';\r\n                    layer.style.height = '0';\r\n                }\r\n                return layer;\r\n            },\r\n            makeUnselectable: function(element) {\r\n                if (browser.opera || (browser.ie && browser.version < 9)) {\r\n                    element.unselectable = 'on';\r\n                    if (element.hasChildNodes()) {\r\n                        for (var i = 0; i < element.childNodes.length; i++) {\r\n                            if (element.childNodes[i].nodeType == 1) {\r\n                                uiUtils.makeUnselectable(element.childNodes[i]);\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (element.style.MozUserSelect !== undefined) {\r\n                        element.style.MozUserSelect = 'none';\r\n                    } else if (element.style.WebkitUserSelect !== undefined) {\r\n                        element.style.WebkitUserSelect = 'none';\r\n                    } else if (element.style.KhtmlUserSelect !== undefined) {\r\n                        element.style.KhtmlUserSelect = 'none';\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        function updateFixedOffset() {\r\n            var layer = document.getElementById('edui_fixedlayer');\r\n            uiUtils.setViewportOffset(layer, {\r\n                left: 0,\r\n                top: 0\r\n            });\r\n            //        layer.style.display = 'none';\r\n            //        layer.style.display = 'block';\r\n\r\n            //#trace: 1354\r\n            //        setTimeout(updateFixedOffset);\r\n        }\r\n\r\n        function bindFixedLayer(adjOffset) {\r\n            domUtils.on(window, 'scroll', updateFixedOffset);\r\n            domUtils.on(window, 'resize', baidu.editor.utils.defer(updateFixedOffset, 0, true));\r\n        }\r\n    })();\r\n\r\n\r\n    // ui/uibase.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            EventBase = baidu.editor.EventBase,\r\n            UIBase = baidu.editor.ui.UIBase = function() {};\r\n\r\n        UIBase.prototype = {\r\n            className: '',\r\n            uiName: '',\r\n            initOptions: function(options) {\r\n                var me = this;\r\n                for (var k in options) {\r\n                    me[k] = options[k];\r\n                }\r\n                this.id = this.id || 'edui' + uiUtils.uid();\r\n            },\r\n            initUIBase: function() {\r\n                this._globalKey = utils.unhtml(uiUtils.setGlobal(this.id, this));\r\n            },\r\n            render: function(holder) {\r\n                var html = this.renderHtml();\r\n                var el = uiUtils.createElementByHtml(html);\r\n\r\n                //by xuheng 给每个node添加class\r\n                var list = domUtils.getElementsByTagName(el, \"*\");\r\n                var theme = \"edui-\" + (this.theme || this.editor.options.theme);\r\n                var layer = document.getElementById('edui_fixedlayer');\r\n                for (var i = 0, node; node = list[i++];) {\r\n                    domUtils.addClass(node, theme);\r\n                }\r\n                domUtils.addClass(el, theme);\r\n                if (layer) {\r\n                    layer.className = \"\";\r\n                    domUtils.addClass(layer, theme);\r\n                }\r\n\r\n                var seatEl = this.getDom();\r\n                if (seatEl != null) {\r\n                    seatEl.parentNode.replaceChild(el, seatEl);\r\n                    uiUtils.copyAttributes(el, seatEl);\r\n                } else {\r\n                    if (typeof holder == 'string') {\r\n                        holder = document.getElementById(holder);\r\n                    }\r\n                    holder = holder || uiUtils.getFixedLayer();\r\n                    domUtils.addClass(holder, theme);\r\n                    holder.appendChild(el);\r\n                }\r\n                this.postRender();\r\n            },\r\n            getDom: function(name) {\r\n                if (!name) {\r\n                    return document.getElementById(this.id);\r\n                } else {\r\n                    return document.getElementById(this.id + '_' + name);\r\n                }\r\n            },\r\n            postRender: function() {\r\n                this.fireEvent('postrender');\r\n            },\r\n            getHtmlTpl: function() {\r\n                return '';\r\n            },\r\n            formatHtml: function(tpl) {\r\n                var prefix = 'edui-' + this.uiName;\r\n                return (tpl\r\n                    .replace(/##/g, this.id)\r\n                    .replace(/%%-/g, this.uiName ? prefix + '-' : '')\r\n                    .replace(/%%/g, (this.uiName ? prefix : '') + ' ' + this.className)\r\n                    .replace(/\\$\\$/g, this._globalKey));\r\n            },\r\n            renderHtml: function() {\r\n                return this.formatHtml(this.getHtmlTpl());\r\n            },\r\n            dispose: function() {\r\n                var box = this.getDom();\r\n                if (box) baidu.editor.dom.domUtils.remove(box);\r\n                uiUtils.unsetGlobal(this.id);\r\n            }\r\n        };\r\n        utils.inherits(UIBase, EventBase);\r\n    })();\r\n\r\n\r\n    // ui/separator.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            Separator = baidu.editor.ui.Separator = function(options) {\r\n                this.initOptions(options);\r\n                this.initSeparator();\r\n            };\r\n        Separator.prototype = {\r\n            uiName: 'separator',\r\n            initSeparator: function() {\r\n                this.initUIBase();\r\n            },\r\n            getHtmlTpl: function() {\r\n                return '<div id=\"##\" class=\"edui-box %%\"></div>';\r\n            }\r\n        };\r\n        utils.inherits(Separator, UIBase);\r\n\r\n    })();\r\n\r\n\r\n    // ui/mask.js\r\n    ///import core\r\n    ///import uicore\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            domUtils = baidu.editor.dom.domUtils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            uiUtils = baidu.editor.ui.uiUtils;\r\n\r\n        var Mask = baidu.editor.ui.Mask = function(options) {\r\n            this.initOptions(options);\r\n            this.initUIBase();\r\n        };\r\n        Mask.prototype = {\r\n            getHtmlTpl: function() {\r\n                return '<div id=\"##\" class=\"edui-mask %%\" onclick=\"return $$._onClick(event, this);\" onmousedown=\"return $$._onMouseDown(event, this);\"></div>';\r\n            },\r\n            postRender: function() {\r\n                var me = this;\r\n                domUtils.on(window, 'resize', function() {\r\n                    setTimeout(function() {\r\n                        if (!me.isHidden()) {\r\n                            me._fill();\r\n                        }\r\n                    });\r\n                });\r\n            },\r\n            show: function(zIndex) {\r\n                this._fill();\r\n                this.getDom().style.display = '';\r\n                this.getDom().style.zIndex = zIndex;\r\n            },\r\n            hide: function() {\r\n                this.getDom().style.display = 'none';\r\n                this.getDom().style.zIndex = '';\r\n            },\r\n            isHidden: function() {\r\n                return this.getDom().style.display == 'none';\r\n            },\r\n            _onMouseDown: function() {\r\n                return false;\r\n            },\r\n            _onClick: function(e, target) {\r\n                this.fireEvent('click', e, target);\r\n            },\r\n            _fill: function() {\r\n                var el = this.getDom();\r\n                var vpRect = uiUtils.getViewportRect();\r\n                el.style.width = vpRect.width + 'px';\r\n                el.style.height = vpRect.height + 'px';\r\n            }\r\n        };\r\n        utils.inherits(Mask, UIBase);\r\n    })();\r\n\r\n\r\n    // ui/popup.js\r\n    ///import core\r\n    ///import uicore\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            domUtils = baidu.editor.dom.domUtils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            Popup = baidu.editor.ui.Popup = function(options) {\r\n                this.initOptions(options);\r\n                this.initPopup();\r\n            };\r\n\r\n        var allPopups = [];\r\n\r\n        function closeAllPopup(evt, el) {\r\n            for (var i = 0; i < allPopups.length; i++) {\r\n                var pop = allPopups[i];\r\n                if (!pop.isHidden()) {\r\n                    if (pop.queryAutoHide(el) !== false) {\r\n                        if (evt && /scroll/ig.test(evt.type) && pop.className == \"edui-wordpastepop\") return;\r\n                        pop.hide();\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (allPopups.length)\r\n                pop.editor.fireEvent(\"afterhidepop\");\r\n        }\r\n\r\n        Popup.postHide = closeAllPopup;\r\n\r\n        var ANCHOR_CLASSES = ['edui-anchor-topleft', 'edui-anchor-topright',\r\n            'edui-anchor-bottomleft', 'edui-anchor-bottomright'\r\n        ];\r\n        Popup.prototype = {\r\n            SHADOW_RADIUS: 5,\r\n            content: null,\r\n            _hidden: false,\r\n            autoRender: true,\r\n            canSideLeft: true,\r\n            canSideUp: true,\r\n            initPopup: function() {\r\n                this.initUIBase();\r\n                allPopups.push(this);\r\n            },\r\n            getHtmlTpl: function() {\r\n                return '<div id=\"##\" class=\"edui-popup %%\" onmousedown=\"return false;\">' +\r\n                    ' <div id=\"##_body\" class=\"edui-popup-body\">' +\r\n                    ' <iframe style=\"position:absolute;z-index:-1;left:0;top:0;background-color: transparent;\" frameborder=\"0\" width=\"100%\" height=\"100%\" src=\"about:blank\"></iframe>' +\r\n                    ' <div class=\"edui-shadow\"></div>' +\r\n                    ' <div id=\"##_content\" class=\"edui-popup-content\">' +\r\n                    this.getContentHtmlTpl() +\r\n                    '  </div>' +\r\n                    ' </div>' +\r\n                    '</div>';\r\n            },\r\n            getContentHtmlTpl: function() {\r\n                if (this.content) {\r\n                    if (typeof this.content == 'string') {\r\n                        return this.content;\r\n                    }\r\n                    return this.content.renderHtml();\r\n                } else {\r\n                    return ''\r\n                }\r\n\r\n            },\r\n            _UIBase_postRender: UIBase.prototype.postRender,\r\n            postRender: function() {\r\n\r\n\r\n                if (this.content instanceof UIBase) {\r\n                    this.content.postRender();\r\n                }\r\n\r\n                //捕获鼠标滚轮\r\n                if (this.captureWheel && !this.captured) {\r\n\r\n                    this.captured = true;\r\n\r\n                    var winHeight = (document.documentElement.clientHeight || document.body.clientHeight) - 80,\r\n                        _height = this.getDom().offsetHeight,\r\n                        _top = uiUtils.getClientRect(this.combox.getDom()).top,\r\n                        content = this.getDom('content'),\r\n                        ifr = this.getDom('body').getElementsByTagName('iframe'),\r\n                        me = this;\r\n\r\n                    ifr.length && (ifr = ifr[0]);\r\n\r\n                    while (_top + _height > winHeight) {\r\n                        _height -= 30;\r\n                    }\r\n                    content.style.height = _height + 'px';\r\n                    //同步更改iframe高度\r\n                    ifr && (ifr.style.height = _height + 'px');\r\n\r\n                    //阻止在combox上的鼠标滚轮事件, 防止用户的正常操作被误解\r\n                    if (window.XMLHttpRequest) {\r\n\r\n                        domUtils.on(content, ('onmousewheel' in document.body) ? 'mousewheel' : 'DOMMouseScroll', function(e) {\r\n\r\n                            if (e.preventDefault) {\r\n                                e.preventDefault();\r\n                            } else {\r\n                                e.returnValue = false;\r\n                            }\r\n\r\n                            if (e.wheelDelta) {\r\n\r\n                                content.scrollTop -= (e.wheelDelta / 120) * 60;\r\n\r\n                            } else {\r\n\r\n                                content.scrollTop -= (e.detail / -3) * 60;\r\n\r\n                            }\r\n\r\n                        });\r\n\r\n                    } else {\r\n\r\n                        //ie6\r\n                        domUtils.on(this.getDom(), 'mousewheel', function(e) {\r\n\r\n                            e.returnValue = false;\r\n\r\n                            me.getDom('content').scrollTop -= (e.wheelDelta / 120) * 60;\r\n\r\n                        });\r\n\r\n                    }\r\n\r\n                }\r\n                this.fireEvent('postRenderAfter');\r\n                this.hide(true);\r\n                this._UIBase_postRender();\r\n            },\r\n            _doAutoRender: function() {\r\n                if (!this.getDom() && this.autoRender) {\r\n                    this.render();\r\n                }\r\n            },\r\n            mesureSize: function() {\r\n                var box = this.getDom('content');\r\n                return uiUtils.getClientRect(box);\r\n            },\r\n            fitSize: function() {\r\n                if (this.captureWheel && this.sized) {\r\n                    return this.__size;\r\n                }\r\n                this.sized = true;\r\n                var popBodyEl = this.getDom('body');\r\n                popBodyEl.style.width = '';\r\n                popBodyEl.style.height = '';\r\n                var size = this.mesureSize();\r\n                if (this.captureWheel) {\r\n                    popBodyEl.style.width = -(-20 - size.width) + 'px';\r\n                    var height = parseInt(this.getDom('content').style.height, 10);\r\n                    !window.isNaN(height) && (size.height = height);\r\n                } else {\r\n                    popBodyEl.style.width = size.width + 'px';\r\n                }\r\n                popBodyEl.style.height = size.height + 'px';\r\n                this.__size = size;\r\n                this.captureWheel && (this.getDom('content').style.overflow = 'auto');\r\n                return size;\r\n            },\r\n            showAnchor: function(element, hoz) {\r\n                this.showAnchorRect(uiUtils.getClientRect(element), hoz);\r\n            },\r\n            showAnchorRect: function(rect, hoz, adj) {\r\n                this._doAutoRender();\r\n                var vpRect = uiUtils.getViewportRect();\r\n                this.getDom().style.visibility = 'hidden';\r\n                this._show();\r\n                var popSize = this.fitSize();\r\n\r\n                var sideLeft, sideUp, left, top;\r\n                if (hoz) {\r\n                    sideLeft = this.canSideLeft && (rect.right + popSize.width > vpRect.right && rect.left > popSize.width);\r\n                    sideUp = this.canSideUp && (rect.top + popSize.height > vpRect.bottom && rect.bottom > popSize.height);\r\n                    left = (sideLeft ? rect.left - popSize.width : rect.right);\r\n                    top = (sideUp ? rect.bottom - popSize.height : rect.top);\r\n                } else {\r\n                    sideLeft = this.canSideLeft && (rect.right + popSize.width > vpRect.right && rect.left > popSize.width);\r\n                    sideUp = this.canSideUp && (rect.top + popSize.height > vpRect.bottom && rect.bottom > popSize.height);\r\n                    left = (sideLeft ? rect.right - popSize.width : rect.left);\r\n                    top = (sideUp ? rect.top - popSize.height : rect.bottom);\r\n                }\r\n\r\n                var popEl = this.getDom();\r\n                uiUtils.setViewportOffset(popEl, {\r\n                    left: left,\r\n                    top: top\r\n                });\r\n                domUtils.removeClasses(popEl, ANCHOR_CLASSES);\r\n                popEl.className += ' ' + ANCHOR_CLASSES[(sideUp ? 1 : 0) * 2 + (sideLeft ? 1 : 0)];\r\n                if (this.editor) {\r\n                    popEl.style.zIndex = this.editor.container.style.zIndex * 1 + 10;\r\n                    baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex = popEl.style.zIndex - 1;\r\n                }\r\n                this.getDom().style.visibility = 'visible';\r\n\r\n            },\r\n            showAt: function(offset) {\r\n                var left = offset.left;\r\n                var top = offset.top;\r\n                var rect = {\r\n                    left: left,\r\n                    top: top,\r\n                    right: left,\r\n                    bottom: top,\r\n                    height: 0,\r\n                    width: 0\r\n                };\r\n                this.showAnchorRect(rect, false, true);\r\n            },\r\n            _show: function() {\r\n                if (this._hidden) {\r\n                    var box = this.getDom();\r\n                    box.style.display = '';\r\n                    this._hidden = false;\r\n                    //                if (box.setActive) {\r\n                    //                    box.setActive();\r\n                    //                }\r\n                    this.fireEvent('show');\r\n                }\r\n            },\r\n            isHidden: function() {\r\n                return this._hidden;\r\n            },\r\n            show: function() {\r\n                this._doAutoRender();\r\n                this._show();\r\n            },\r\n            hide: function(notNofity) {\r\n                if (!this._hidden && this.getDom()) {\r\n                    this.getDom().style.display = 'none';\r\n                    this._hidden = true;\r\n                    if (!notNofity) {\r\n                        this.fireEvent('hide');\r\n                    }\r\n                }\r\n            },\r\n            queryAutoHide: function(el) {\r\n                return !el || !uiUtils.contains(this.getDom(), el);\r\n            }\r\n        };\r\n        utils.inherits(Popup, UIBase);\r\n\r\n        domUtils.on(document, 'mousedown', function(evt) {\r\n            var el = evt.target || evt.srcElement;\r\n            closeAllPopup(evt, el);\r\n        });\r\n        domUtils.on(window, 'scroll', function(evt, el) {\r\n            closeAllPopup(evt, el);\r\n        });\r\n\r\n    })();\r\n\r\n\r\n    // ui/colorpicker.js\r\n    ///import core\r\n    ///import uicore\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            ColorPicker = baidu.editor.ui.ColorPicker = function(options) {\r\n                this.initOptions(options);\r\n                this.noColorText = this.noColorText || this.editor.getLang(\"clearColor\");\r\n                this.initUIBase();\r\n            };\r\n\r\n        ColorPicker.prototype = {\r\n            getHtmlTpl: function() {\r\n                return genColorPicker(this.noColorText, this.editor);\r\n            },\r\n            _onTableClick: function(evt) {\r\n                var tgt = evt.target || evt.srcElement;\r\n                var color = tgt.getAttribute('data-color');\r\n                if (color) {\r\n                    this.fireEvent('pickcolor', color);\r\n                }\r\n            },\r\n            _onTableOver: function(evt) {\r\n                var tgt = evt.target || evt.srcElement;\r\n                var color = tgt.getAttribute('data-color');\r\n                if (color) {\r\n                    this.getDom('preview').style.backgroundColor = color;\r\n                }\r\n            },\r\n            _onTableOut: function() {\r\n                this.getDom('preview').style.backgroundColor = '';\r\n            },\r\n            _onPickNoColor: function() {\r\n                this.fireEvent('picknocolor');\r\n            }\r\n        };\r\n        utils.inherits(ColorPicker, UIBase);\r\n\r\n        var COLORS = (\r\n            'ffffff,000000,eeece1,1f497d,4f81bd,c0504d,9bbb59,8064a2,4bacc6,f79646,' +\r\n            'f2f2f2,7f7f7f,ddd9c3,c6d9f0,dbe5f1,f2dcdb,ebf1dd,e5e0ec,dbeef3,fdeada,' +\r\n            'd8d8d8,595959,c4bd97,8db3e2,b8cce4,e5b9b7,d7e3bc,ccc1d9,b7dde8,fbd5b5,' +\r\n            'bfbfbf,3f3f3f,938953,548dd4,95b3d7,d99694,c3d69b,b2a2c7,92cddc,fac08f,' +\r\n            'a5a5a5,262626,494429,17365d,366092,953734,76923c,5f497a,31859b,e36c09,' +\r\n            '7f7f7f,0c0c0c,1d1b10,0f243e,244061,632423,4f6128,3f3151,205867,974806,' +\r\n            'c00000,ff0000,ffc000,ffff00,92d050,00b050,00b0f0,0070c0,002060,7030a0,').split(',');\r\n\r\n        function genColorPicker(noColorText, editor) {\r\n            var html = '<div id=\"##\" class=\"edui-colorpicker %%\">' +\r\n                '<div class=\"edui-colorpicker-topbar edui-clearfix\">' +\r\n                '<div unselectable=\"on\" id=\"##_preview\" class=\"edui-colorpicker-preview\"></div>' +\r\n                '<div unselectable=\"on\" class=\"edui-colorpicker-nocolor\" onclick=\"$$._onPickNoColor(event, this);\">' + noColorText + '</div>' +\r\n                '</div>' +\r\n                '<table  class=\"edui-box\" style=\"border-collapse: collapse;\" onmouseover=\"$$._onTableOver(event, this);\" onmouseout=\"$$._onTableOut(event, this);\" onclick=\"return $$._onTableClick(event, this);\" cellspacing=\"0\" cellpadding=\"0\">' +\r\n                '<tr style=\"border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;padding-top: 2px\"><td colspan=\"10\">' + editor.getLang(\"themeColor\") + '</td> </tr>' +\r\n                '<tr class=\"edui-colorpicker-tablefirstrow\" >';\r\n            for (var i = 0; i < COLORS.length; i++) {\r\n                if (i && i % 10 === 0) {\r\n                    html += '</tr>' + (i == 60 ? '<tr style=\"border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;\"><td colspan=\"10\">' + editor.getLang(\"standardColor\") + '</td></tr>' : '') + '<tr' + (i == 60 ? ' class=\"edui-colorpicker-tablefirstrow\"' : '') + '>';\r\n                }\r\n                html += i < 70 ? '<td style=\"padding: 0 2px;\"><a hidefocus title=\"' + COLORS[i] + '\" onclick=\"return false;\" href=\"javascript:\" unselectable=\"on\" class=\"edui-box edui-colorpicker-colorcell\"' +\r\n                    ' data-color=\"#' + COLORS[i] + '\"' +\r\n                    ' style=\"background-color:#' + COLORS[i] + ';border:solid #ccc;' +\r\n                    (i < 10 || i >= 60 ? 'border-width:1px;' :\r\n                        i >= 10 && i < 20 ? 'border-width:1px 1px 0 1px;' :\r\n\r\n                        'border-width:0 1px 0 1px;') +\r\n                    '\"' +\r\n                    '></a></td>' : '';\r\n            }\r\n            html += '</tr></table></div>';\r\n            return html;\r\n        }\r\n    })();\r\n\r\n\r\n    // ui/tablepicker.js\r\n    ///import core\r\n    ///import uicore\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            UIBase = baidu.editor.ui.UIBase;\r\n\r\n        var TablePicker = baidu.editor.ui.TablePicker = function(options) {\r\n            this.initOptions(options);\r\n            this.initTablePicker();\r\n        };\r\n        TablePicker.prototype = {\r\n            defaultNumRows: 10,\r\n            defaultNumCols: 10,\r\n            maxNumRows: 20,\r\n            maxNumCols: 20,\r\n            numRows: 10,\r\n            numCols: 10,\r\n            lengthOfCellSide: 22,\r\n            initTablePicker: function() {\r\n                this.initUIBase();\r\n            },\r\n            getHtmlTpl: function() {\r\n                var me = this;\r\n                return '<div id=\"##\" class=\"edui-tablepicker %%\">' +\r\n                    '<div class=\"edui-tablepicker-body\">' +\r\n                    '<div class=\"edui-infoarea\">' +\r\n                    '<span id=\"##_label\" class=\"edui-label\"></span>' +\r\n                    '</div>' +\r\n                    '<div class=\"edui-pickarea\"' +\r\n                    ' onmousemove=\"$$._onMouseMove(event, this);\"' +\r\n                    ' onmouseover=\"$$._onMouseOver(event, this);\"' +\r\n                    ' onmouseout=\"$$._onMouseOut(event, this);\"' +\r\n                    ' onclick=\"$$._onClick(event, this);\"' +\r\n                    '>' +\r\n                    '<div id=\"##_overlay\" class=\"edui-overlay\"></div>' +\r\n                    '</div>' +\r\n                    '</div>' +\r\n                    '</div>';\r\n            },\r\n            _UIBase_render: UIBase.prototype.render,\r\n            render: function(holder) {\r\n                this._UIBase_render(holder);\r\n                this.getDom('label').innerHTML = '0' + this.editor.getLang(\"t_row\") + ' x 0' + this.editor.getLang(\"t_col\");\r\n            },\r\n            _track: function(numCols, numRows) {\r\n                var style = this.getDom('overlay').style;\r\n                var sideLen = this.lengthOfCellSide;\r\n                style.width = numCols * sideLen + 'px';\r\n                style.height = numRows * sideLen + 'px';\r\n                var label = this.getDom('label');\r\n                label.innerHTML = numCols + this.editor.getLang(\"t_col\") + ' x ' + numRows + this.editor.getLang(\"t_row\");\r\n                this.numCols = numCols;\r\n                this.numRows = numRows;\r\n            },\r\n            _onMouseOver: function(evt, el) {\r\n                var rel = evt.relatedTarget || evt.fromElement;\r\n                if (!uiUtils.contains(el, rel) && el !== rel) {\r\n                    this.getDom('label').innerHTML = '0' + this.editor.getLang(\"t_col\") + ' x 0' + this.editor.getLang(\"t_row\");\r\n                    this.getDom('overlay').style.visibility = '';\r\n                }\r\n            },\r\n            _onMouseOut: function(evt, el) {\r\n                var rel = evt.relatedTarget || evt.toElement;\r\n                if (!uiUtils.contains(el, rel) && el !== rel) {\r\n                    this.getDom('label').innerHTML = '0' + this.editor.getLang(\"t_col\") + ' x 0' + this.editor.getLang(\"t_row\");\r\n                    this.getDom('overlay').style.visibility = 'hidden';\r\n                }\r\n            },\r\n            _onMouseMove: function(evt, el) {\r\n                var style = this.getDom('overlay').style;\r\n                var offset = uiUtils.getEventOffset(evt);\r\n                var sideLen = this.lengthOfCellSide;\r\n                var numCols = Math.ceil(offset.left / sideLen);\r\n                var numRows = Math.ceil(offset.top / sideLen);\r\n                this._track(numCols, numRows);\r\n            },\r\n            _onClick: function() {\r\n                this.fireEvent('picktable', this.numCols, this.numRows);\r\n            }\r\n        };\r\n        utils.inherits(TablePicker, UIBase);\r\n    })();\r\n\r\n\r\n    // ui/stateful.js\r\n    (function() {\r\n        var browser = baidu.editor.browser,\r\n            domUtils = baidu.editor.dom.domUtils,\r\n            uiUtils = baidu.editor.ui.uiUtils;\r\n\r\n        var TPL_STATEFUL = 'onmousedown=\"$$.Stateful_onMouseDown(event, this);\"' +\r\n            ' onmouseup=\"$$.Stateful_onMouseUp(event, this);\"' +\r\n            (browser.ie ? (\r\n                    ' onmouseenter=\"$$.Stateful_onMouseEnter(event, this);\"' +\r\n                    ' onmouseleave=\"$$.Stateful_onMouseLeave(event, this);\"') :\r\n                (\r\n                    ' onmouseover=\"$$.Stateful_onMouseOver(event, this);\"' +\r\n                    ' onmouseout=\"$$.Stateful_onMouseOut(event, this);\"'));\r\n\r\n        baidu.editor.ui.Stateful = {\r\n            alwalysHoverable: false,\r\n            target: null, //目标元素和this指向dom不一样\r\n            Stateful_init: function() {\r\n                this._Stateful_dGetHtmlTpl = this.getHtmlTpl;\r\n                this.getHtmlTpl = this.Stateful_getHtmlTpl;\r\n            },\r\n            Stateful_getHtmlTpl: function() {\r\n                var tpl = this._Stateful_dGetHtmlTpl();\r\n                // 使用function避免$转义\r\n                return tpl.replace(/stateful/g, function() { return TPL_STATEFUL; });\r\n            },\r\n            Stateful_onMouseEnter: function(evt, el) {\r\n                this.target = el;\r\n                if (!this.isDisabled() || this.alwalysHoverable) {\r\n                    this.addState('hover');\r\n                    this.fireEvent('over');\r\n                }\r\n            },\r\n            Stateful_onMouseLeave: function(evt, el) {\r\n                if (!this.isDisabled() || this.alwalysHoverable) {\r\n                    this.removeState('hover');\r\n                    this.removeState('active');\r\n                    this.fireEvent('out');\r\n                }\r\n            },\r\n            Stateful_onMouseOver: function(evt, el) {\r\n                var rel = evt.relatedTarget;\r\n                if (!uiUtils.contains(el, rel) && el !== rel) {\r\n                    this.Stateful_onMouseEnter(evt, el);\r\n                }\r\n            },\r\n            Stateful_onMouseOut: function(evt, el) {\r\n                var rel = evt.relatedTarget;\r\n                if (!uiUtils.contains(el, rel) && el !== rel) {\r\n                    this.Stateful_onMouseLeave(evt, el);\r\n                }\r\n            },\r\n            Stateful_onMouseDown: function(evt, el) {\r\n                if (!this.isDisabled()) {\r\n                    this.addState('active');\r\n                }\r\n            },\r\n            Stateful_onMouseUp: function(evt, el) {\r\n                if (!this.isDisabled()) {\r\n                    this.removeState('active');\r\n                }\r\n            },\r\n            Stateful_postRender: function() {\r\n                if (this.disabled && !this.hasState('disabled')) {\r\n                    this.addState('disabled');\r\n                }\r\n            },\r\n            hasState: function(state) {\r\n                return domUtils.hasClass(this.getStateDom(), 'edui-state-' + state);\r\n            },\r\n            addState: function(state) {\r\n                if (!this.hasState(state)) {\r\n                    this.getStateDom().className += ' edui-state-' + state;\r\n                }\r\n            },\r\n            removeState: function(state) {\r\n                if (this.hasState(state)) {\r\n                    domUtils.removeClasses(this.getStateDom(), ['edui-state-' + state]);\r\n                }\r\n            },\r\n            getStateDom: function() {\r\n                return this.getDom('state');\r\n            },\r\n            isChecked: function() {\r\n                return this.hasState('checked');\r\n            },\r\n            setChecked: function(checked) {\r\n                if (!this.isDisabled() && checked) {\r\n                    this.addState('checked');\r\n                } else {\r\n                    this.removeState('checked');\r\n                }\r\n            },\r\n            isDisabled: function() {\r\n                return this.hasState('disabled');\r\n            },\r\n            setDisabled: function(disabled) {\r\n                if (disabled) {\r\n                    this.removeState('hover');\r\n                    this.removeState('checked');\r\n                    this.removeState('active');\r\n                    this.addState('disabled');\r\n                } else {\r\n                    this.removeState('disabled');\r\n                }\r\n            }\r\n        };\r\n    })();\r\n\r\n\r\n    // ui/button.js\r\n    ///import core\r\n    ///import uicore\r\n    ///import ui/stateful.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            Stateful = baidu.editor.ui.Stateful,\r\n            Button = baidu.editor.ui.Button = function(options) {\r\n                if (options.name) {\r\n                    var btnName = options.name;\r\n                    var cssRules = options.cssRules;\r\n                    if (!options.className) {\r\n                        options.className = 'edui-for-' + btnName;\r\n                    }\r\n                    options.cssRules = '.edui-default  .edui-for-' + btnName + ' .edui-icon {' + cssRules + '}'\r\n                }\r\n                this.initOptions(options);\r\n                this.initButton();\r\n            };\r\n        Button.prototype = {\r\n            uiName: 'button',\r\n            label: '',\r\n            title: '',\r\n            showIcon: true,\r\n            showText: true,\r\n            cssRules: '',\r\n            initButton: function() {\r\n                this.initUIBase();\r\n                this.Stateful_init();\r\n                if (this.cssRules) {\r\n                    utils.cssRule('edui-customize-' + this.name + '-style', this.cssRules);\r\n                }\r\n            },\r\n            getHtmlTpl: function() {\r\n                return '<div id=\"##\" class=\"edui-box %%\">' +\r\n                    '<div id=\"##_state\" stateful>' +\r\n                    '<div class=\"%%-wrap\"><div id=\"##_body\" unselectable=\"on\" ' + (this.title ? 'title=\"' + this.title + '\"' : '') +\r\n                    ' class=\"%%-body\" onmousedown=\"return $$._onMouseDown(event, this);\" onclick=\"return $$._onClick(event, this);\">' +\r\n                    (this.showIcon ? '<div class=\"edui-box edui-icon\"></div>' : '') +\r\n                    (this.showText ? '<div class=\"edui-box edui-label\">' + this.label + '</div>' : '') +\r\n                    '</div>' +\r\n                    '</div>' +\r\n                    '</div></div>';\r\n            },\r\n            postRender: function() {\r\n                this.Stateful_postRender();\r\n                this.setDisabled(this.disabled)\r\n            },\r\n            _onMouseDown: function(e) {\r\n                var target = e.target || e.srcElement,\r\n                    tagName = target && target.tagName && target.tagName.toLowerCase();\r\n                if (tagName == 'input' || tagName == 'object' || tagName == 'object') {\r\n                    return false;\r\n                }\r\n            },\r\n            _onClick: function() {\r\n                if (!this.isDisabled()) {\r\n                    this.fireEvent('click');\r\n                }\r\n            },\r\n            setTitle: function(text) {\r\n                var label = this.getDom('label');\r\n                label.innerHTML = text;\r\n            }\r\n        };\r\n        utils.inherits(Button, UIBase);\r\n        utils.extend(Button.prototype, Stateful);\r\n\r\n    })();\r\n\r\n\r\n    // ui/splitbutton.js\r\n    ///import core\r\n    ///import uicore\r\n    ///import ui/stateful.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            domUtils = baidu.editor.dom.domUtils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            Stateful = baidu.editor.ui.Stateful,\r\n            SplitButton = baidu.editor.ui.SplitButton = function(options) {\r\n                this.initOptions(options);\r\n                this.initSplitButton();\r\n            };\r\n        SplitButton.prototype = {\r\n            popup: null,\r\n            uiName: 'splitbutton',\r\n            title: '',\r\n            initSplitButton: function() {\r\n                this.initUIBase();\r\n                this.Stateful_init();\r\n                var me = this;\r\n                if (this.popup != null) {\r\n                    var popup = this.popup;\r\n                    this.popup = null;\r\n                    this.setPopup(popup);\r\n                }\r\n            },\r\n            _UIBase_postRender: UIBase.prototype.postRender,\r\n            postRender: function() {\r\n                this.Stateful_postRender();\r\n                this._UIBase_postRender();\r\n            },\r\n            setPopup: function(popup) {\r\n                if (this.popup === popup) return;\r\n                if (this.popup != null) {\r\n                    this.popup.dispose();\r\n                }\r\n                popup.addListener('show', utils.bind(this._onPopupShow, this));\r\n                popup.addListener('hide', utils.bind(this._onPopupHide, this));\r\n                popup.addListener('postrender', utils.bind(function() {\r\n                    popup.getDom('body').appendChild(\r\n                        uiUtils.createElementByHtml('<div id=\"' +\r\n                            this.popup.id + '_bordereraser\" class=\"edui-bordereraser edui-background\" style=\"width:' +\r\n                            (uiUtils.getClientRect(this.getDom()).width + 20) + 'px\"></div>')\r\n                    );\r\n                    popup.getDom().className += ' ' + this.className;\r\n                }, this));\r\n                this.popup = popup;\r\n            },\r\n            _onPopupShow: function() {\r\n                this.addState('opened');\r\n            },\r\n            _onPopupHide: function() {\r\n                this.removeState('opened');\r\n            },\r\n            getHtmlTpl: function() {\r\n                return '<div id=\"##\" class=\"edui-box %%\">' +\r\n                    '<div ' + (this.title ? 'title=\"' + this.title + '\"' : '') + ' id=\"##_state\" stateful><div class=\"%%-body\">' +\r\n                    '<div id=\"##_button_body\" class=\"edui-box edui-button-body\" onclick=\"$$._onButtonClick(event, this);\">' +\r\n                    '<div class=\"edui-box edui-icon\"></div>' +\r\n                    '</div>' +\r\n                    '<div class=\"edui-box edui-splitborder\"></div>' +\r\n                    '<div class=\"edui-box edui-arrow\" onclick=\"$$._onArrowClick();\"></div>' +\r\n                    '</div></div></div>';\r\n            },\r\n            showPopup: function() {\r\n                // 当popup往上弹出的时候，做特殊处理\r\n                var rect = uiUtils.getClientRect(this.getDom());\r\n                rect.top -= this.popup.SHADOW_RADIUS;\r\n                rect.height += this.popup.SHADOW_RADIUS;\r\n                this.popup.showAnchorRect(rect);\r\n            },\r\n            _onArrowClick: function(event, el) {\r\n                if (!this.isDisabled()) {\r\n                    this.showPopup();\r\n                }\r\n            },\r\n            _onButtonClick: function() {\r\n                if (!this.isDisabled()) {\r\n                    this.fireEvent('buttonclick');\r\n                }\r\n            }\r\n        };\r\n        utils.inherits(SplitButton, UIBase);\r\n        utils.extend(SplitButton.prototype, Stateful, true);\r\n\r\n    })();\r\n\r\n\r\n    // ui/colorbutton.js\r\n    ///import core\r\n    ///import uicore\r\n    ///import ui/colorpicker.js\r\n    ///import ui/popup.js\r\n    ///import ui/splitbutton.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            ColorPicker = baidu.editor.ui.ColorPicker,\r\n            Popup = baidu.editor.ui.Popup,\r\n            SplitButton = baidu.editor.ui.SplitButton,\r\n            ColorButton = baidu.editor.ui.ColorButton = function(options) {\r\n                this.initOptions(options);\r\n                this.initColorButton();\r\n            };\r\n        ColorButton.prototype = {\r\n            initColorButton: function() {\r\n                var me = this;\r\n                this.popup = new Popup({\r\n                    content: new ColorPicker({\r\n                        noColorText: me.editor.getLang(\"clearColor\"),\r\n                        editor: me.editor,\r\n                        onpickcolor: function(t, color) {\r\n                            me._onPickColor(color);\r\n                        },\r\n                        onpicknocolor: function(t, color) {\r\n                            me._onPickNoColor(color);\r\n                        }\r\n                    }),\r\n                    editor: me.editor\r\n                });\r\n                this.initSplitButton();\r\n            },\r\n            _SplitButton_postRender: SplitButton.prototype.postRender,\r\n            postRender: function() {\r\n                this._SplitButton_postRender();\r\n                this.getDom('button_body').appendChild(\r\n                    uiUtils.createElementByHtml('<div id=\"' + this.id + '_colorlump\" class=\"edui-colorlump\"></div>')\r\n                );\r\n                this.getDom().className += ' edui-colorbutton';\r\n            },\r\n            setColor: function(color) {\r\n                this.getDom('colorlump').style.backgroundColor = color;\r\n                this.color = color;\r\n            },\r\n            _onPickColor: function(color) {\r\n                if (this.fireEvent('pickcolor', color) !== false) {\r\n                    this.setColor(color);\r\n                    this.popup.hide();\r\n                }\r\n            },\r\n            _onPickNoColor: function(color) {\r\n                if (this.fireEvent('picknocolor') !== false) {\r\n                    this.popup.hide();\r\n                }\r\n            }\r\n        };\r\n        utils.inherits(ColorButton, SplitButton);\r\n\r\n    })();\r\n\r\n\r\n    // ui/tablebutton.js\r\n    ///import core\r\n    ///import uicore\r\n    ///import ui/popup.js\r\n    ///import ui/tablepicker.js\r\n    ///import ui/splitbutton.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            Popup = baidu.editor.ui.Popup,\r\n            TablePicker = baidu.editor.ui.TablePicker,\r\n            SplitButton = baidu.editor.ui.SplitButton,\r\n            TableButton = baidu.editor.ui.TableButton = function(options) {\r\n                this.initOptions(options);\r\n                this.initTableButton();\r\n            };\r\n        TableButton.prototype = {\r\n            initTableButton: function() {\r\n                var me = this;\r\n                this.popup = new Popup({\r\n                    content: new TablePicker({\r\n                        editor: me.editor,\r\n                        onpicktable: function(t, numCols, numRows) {\r\n                            me._onPickTable(numCols, numRows);\r\n                        }\r\n                    }),\r\n                    'editor': me.editor\r\n                });\r\n                this.initSplitButton();\r\n            },\r\n            _onPickTable: function(numCols, numRows) {\r\n                if (this.fireEvent('picktable', numCols, numRows) !== false) {\r\n                    this.popup.hide();\r\n                }\r\n            }\r\n        };\r\n        utils.inherits(TableButton, SplitButton);\r\n\r\n    })();\r\n\r\n\r\n    // ui/autotypesetpicker.js\r\n    ///import core\r\n    ///import uicore\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            UIBase = baidu.editor.ui.UIBase;\r\n\r\n        var AutoTypeSetPicker = baidu.editor.ui.AutoTypeSetPicker = function(options) {\r\n            this.initOptions(options);\r\n            this.initAutoTypeSetPicker();\r\n        };\r\n        AutoTypeSetPicker.prototype = {\r\n            initAutoTypeSetPicker: function() {\r\n                this.initUIBase();\r\n            },\r\n            getHtmlTpl: function() {\r\n                var me = this.editor,\r\n                    opt = me.options.autotypeset,\r\n                    lang = me.getLang(\"autoTypeSet\");\r\n\r\n                var textAlignInputName = 'textAlignValue' + me.uid,\r\n                    imageBlockInputName = 'imageBlockLineValue' + me.uid,\r\n                    symbolConverInputName = 'symbolConverValue' + me.uid;\r\n\r\n                return '<div id=\"##\" class=\"edui-autotypesetpicker %%\">' +\r\n                    '<div class=\"edui-autotypesetpicker-body\">' +\r\n                    '<table >' +\r\n                    '<tr><td nowrap><input type=\"checkbox\" name=\"mergeEmptyline\" ' + (opt[\"mergeEmptyline\"] ? \"checked\" : \"\") + '>' + lang.mergeLine + '</td><td colspan=\"2\"><input type=\"checkbox\" name=\"removeEmptyline\" ' + (opt[\"removeEmptyline\"] ? \"checked\" : \"\") + '>' + lang.delLine + '</td></tr>' +\r\n                    '<tr><td nowrap><input type=\"checkbox\" name=\"removeClass\" ' + (opt[\"removeClass\"] ? \"checked\" : \"\") + '>' + lang.removeFormat + '</td><td colspan=\"2\"><input type=\"checkbox\" name=\"indent\" ' + (opt[\"indent\"] ? \"checked\" : \"\") + '>' + lang.indent + '</td></tr>' +\r\n                    '<tr>' +\r\n                    '<td nowrap><input type=\"checkbox\" name=\"textAlign\" ' + (opt[\"textAlign\"] ? \"checked\" : \"\") + '>' + lang.alignment + '</td>' +\r\n                    '<td colspan=\"2\" id=\"' + textAlignInputName + '\">' +\r\n                    '<input type=\"radio\" name=\"' + textAlignInputName + '\" value=\"left\" ' + ((opt[\"textAlign\"] && opt[\"textAlign\"] == \"left\") ? \"checked\" : \"\") + '>' + me.getLang(\"justifyleft\") +\r\n                    '<input type=\"radio\" name=\"' + textAlignInputName + '\" value=\"center\" ' + ((opt[\"textAlign\"] && opt[\"textAlign\"] == \"center\") ? \"checked\" : \"\") + '>' + me.getLang(\"justifycenter\") +\r\n                    '<input type=\"radio\" name=\"' + textAlignInputName + '\" value=\"right\" ' + ((opt[\"textAlign\"] && opt[\"textAlign\"] == \"right\") ? \"checked\" : \"\") + '>' + me.getLang(\"justifyright\") +\r\n                    '</td>' +\r\n                    '</tr>' +\r\n                    '<tr>' +\r\n                    '<td nowrap><input type=\"checkbox\" name=\"imageBlockLine\" ' + (opt[\"imageBlockLine\"] ? \"checked\" : \"\") + '>' + lang.imageFloat + '</td>' +\r\n                    '<td nowrap id=\"' + imageBlockInputName + '\">' +\r\n                    '<input type=\"radio\" name=\"' + imageBlockInputName + '\" value=\"none\" ' + ((opt[\"imageBlockLine\"] && opt[\"imageBlockLine\"] == \"none\") ? \"checked\" : \"\") + '>' + me.getLang(\"default\") +\r\n                    '<input type=\"radio\" name=\"' + imageBlockInputName + '\" value=\"left\" ' + ((opt[\"imageBlockLine\"] && opt[\"imageBlockLine\"] == \"left\") ? \"checked\" : \"\") + '>' + me.getLang(\"justifyleft\") +\r\n                    '<input type=\"radio\" name=\"' + imageBlockInputName + '\" value=\"center\" ' + ((opt[\"imageBlockLine\"] && opt[\"imageBlockLine\"] == \"center\") ? \"checked\" : \"\") + '>' + me.getLang(\"justifycenter\") +\r\n                    '<input type=\"radio\" name=\"' + imageBlockInputName + '\" value=\"right\" ' + ((opt[\"imageBlockLine\"] && opt[\"imageBlockLine\"] == \"right\") ? \"checked\" : \"\") + '>' + me.getLang(\"justifyright\") +\r\n                    '</td>' +\r\n                    '</tr>' +\r\n                    '<tr><td nowrap><input type=\"checkbox\" name=\"clearFontSize\" ' + (opt[\"clearFontSize\"] ? \"checked\" : \"\") + '>' + lang.removeFontsize + '</td><td colspan=\"2\"><input type=\"checkbox\" name=\"clearFontFamily\" ' + (opt[\"clearFontFamily\"] ? \"checked\" : \"\") + '>' + lang.removeFontFamily + '</td></tr>' +\r\n                    '<tr><td nowrap colspan=\"3\"><input type=\"checkbox\" name=\"removeEmptyNode\" ' + (opt[\"removeEmptyNode\"] ? \"checked\" : \"\") + '>' + lang.removeHtml + '</td></tr>' +\r\n                    '<tr><td nowrap colspan=\"3\"><input type=\"checkbox\" name=\"pasteFilter\" ' + (opt[\"pasteFilter\"] ? \"checked\" : \"\") + '>' + lang.pasteFilter + '</td></tr>' +\r\n                    '<tr>' +\r\n                    '<td nowrap><input type=\"checkbox\" name=\"symbolConver\" ' + (opt[\"bdc2sb\"] || opt[\"tobdc\"] ? \"checked\" : \"\") + '>' + lang.symbol + '</td>' +\r\n                    '<td id=\"' + symbolConverInputName + '\">' +\r\n                    '<input type=\"radio\" name=\"bdc\" value=\"bdc2sb\" ' + (opt[\"bdc2sb\"] ? \"checked\" : \"\") + '>' + lang.bdc2sb +\r\n                    '<input type=\"radio\" name=\"bdc\" value=\"tobdc\" ' + (opt[\"tobdc\"] ? \"checked\" : \"\") + '>' + lang.tobdc + '' +\r\n                    '</td>' +\r\n                    '<td nowrap align=\"right\"><button >' + lang.run + '</button></td>' +\r\n                    '</tr>' +\r\n                    '</table>' +\r\n                    '</div>' +\r\n                    '</div>';\r\n\r\n\r\n            },\r\n            _UIBase_render: UIBase.prototype.render\r\n        };\r\n        utils.inherits(AutoTypeSetPicker, UIBase);\r\n    })();\r\n\r\n\r\n    // ui/autotypesetbutton.js\r\n    ///import core\r\n    ///import uicore\r\n    ///import ui/popup.js\r\n    ///import ui/autotypesetpicker.js\r\n    ///import ui/splitbutton.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            Popup = baidu.editor.ui.Popup,\r\n            AutoTypeSetPicker = baidu.editor.ui.AutoTypeSetPicker,\r\n            SplitButton = baidu.editor.ui.SplitButton,\r\n            AutoTypeSetButton = baidu.editor.ui.AutoTypeSetButton = function(options) {\r\n                this.initOptions(options);\r\n                this.initAutoTypeSetButton();\r\n            };\r\n\r\n        function getPara(me) {\r\n\r\n            var opt = {},\r\n                cont = me.getDom(),\r\n                editorId = me.editor.uid,\r\n                inputType = null,\r\n                attrName = null,\r\n                ipts = domUtils.getElementsByTagName(cont, \"input\");\r\n            for (var i = ipts.length - 1, ipt; ipt = ipts[i--];) {\r\n                inputType = ipt.getAttribute(\"type\");\r\n                if (inputType == \"checkbox\") {\r\n                    attrName = ipt.getAttribute(\"name\");\r\n                    opt[attrName] && delete opt[attrName];\r\n                    if (ipt.checked) {\r\n                        var attrValue = document.getElementById(attrName + \"Value\" + editorId);\r\n                        if (attrValue) {\r\n                            if (/input/ig.test(attrValue.tagName)) {\r\n                                opt[attrName] = attrValue.value;\r\n                            } else {\r\n                                var iptChilds = attrValue.getElementsByTagName(\"input\");\r\n                                for (var j = iptChilds.length - 1, iptchild; iptchild = iptChilds[j--];) {\r\n                                    if (iptchild.checked) {\r\n                                        opt[attrName] = iptchild.value;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            }\r\n                        } else {\r\n                            opt[attrName] = true;\r\n                        }\r\n                    } else {\r\n                        opt[attrName] = false;\r\n                    }\r\n                } else {\r\n                    opt[ipt.getAttribute(\"value\")] = ipt.checked;\r\n                }\r\n\r\n            }\r\n\r\n            var selects = domUtils.getElementsByTagName(cont, \"select\");\r\n            for (var i = 0, si; si = selects[i++];) {\r\n                var attr = si.getAttribute('name');\r\n                opt[attr] = opt[attr] ? si.value : '';\r\n            }\r\n\r\n            utils.extend(me.editor.options.autotypeset, opt);\r\n\r\n            me.editor.setPreferences('autotypeset', opt);\r\n        }\r\n\r\n        AutoTypeSetButton.prototype = {\r\n            initAutoTypeSetButton: function() {\r\n\r\n                var me = this;\r\n                this.popup = new Popup({\r\n                    //传入配置参数\r\n                    content: new AutoTypeSetPicker({ editor: me.editor }),\r\n                    'editor': me.editor,\r\n                    hide: function() {\r\n                        if (!this._hidden && this.getDom()) {\r\n                            getPara(this);\r\n                            this.getDom().style.display = 'none';\r\n                            this._hidden = true;\r\n                            this.fireEvent('hide');\r\n                        }\r\n                    }\r\n                });\r\n                var flag = 0;\r\n                this.popup.addListener('postRenderAfter', function() {\r\n                    var popupUI = this;\r\n                    if (flag) return;\r\n                    var cont = this.getDom(),\r\n                        btn = cont.getElementsByTagName('button')[0];\r\n\r\n                    btn.onclick = function() {\r\n                        getPara(popupUI);\r\n                        me.editor.execCommand('autotypeset');\r\n                        popupUI.hide()\r\n                    };\r\n\r\n                    domUtils.on(cont, 'click', function(e) {\r\n                        var target = e.target || e.srcElement,\r\n                            editorId = me.editor.uid;\r\n                        if (target && target.tagName == 'INPUT') {\r\n\r\n                            // 点击图片浮动的checkbox,去除对应的radio\r\n                            if (target.name == 'imageBlockLine' || target.name == 'textAlign' || target.name == 'symbolConver') {\r\n                                var checked = target.checked,\r\n                                    radioTd = document.getElementById(target.name + 'Value' + editorId),\r\n                                    radios = radioTd.getElementsByTagName('input'),\r\n                                    defalutSelect = {\r\n                                        'imageBlockLine': 'none',\r\n                                        'textAlign': 'left',\r\n                                        'symbolConver': 'tobdc'\r\n                                    };\r\n\r\n                                for (var i = 0; i < radios.length; i++) {\r\n                                    if (checked) {\r\n                                        if (radios[i].value == defalutSelect[target.name]) {\r\n                                            radios[i].checked = 'checked';\r\n                                        }\r\n                                    } else {\r\n                                        radios[i].checked = false;\r\n                                    }\r\n                                }\r\n                            }\r\n                            // 点击radio,选中对应的checkbox\r\n                            if (target.name == ('imageBlockLineValue' + editorId) || target.name == ('textAlignValue' + editorId) || target.name == 'bdc') {\r\n                                var checkboxs = target.parentNode.previousSibling.getElementsByTagName('input');\r\n                                checkboxs && (checkboxs[0].checked = true);\r\n                            }\r\n\r\n                            getPara(popupUI);\r\n                        }\r\n                    });\r\n\r\n                    flag = 1;\r\n                });\r\n                this.initSplitButton();\r\n            }\r\n        };\r\n        utils.inherits(AutoTypeSetButton, SplitButton);\r\n\r\n    })();\r\n\r\n\r\n    // ui/cellalignpicker.js\r\n    ///import core\r\n    ///import uicore\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            Popup = baidu.editor.ui.Popup,\r\n            Stateful = baidu.editor.ui.Stateful,\r\n            UIBase = baidu.editor.ui.UIBase;\r\n\r\n        /**\r\n         * 该参数将新增一个参数： selected， 参数类型为一个Object， 形如{ 'align': 'center', 'valign': 'top' }， 表示单元格的初始\r\n         * 对齐状态为： 竖直居上，水平居中; 其中 align的取值为：'center', 'left', 'right'; valign的取值为: 'top', 'middle', 'bottom'\r\n         * @update 2013/4/2 hancong03@baidu.com\r\n         */\r\n        var CellAlignPicker = baidu.editor.ui.CellAlignPicker = function(options) {\r\n            this.initOptions(options);\r\n            this.initSelected();\r\n            this.initCellAlignPicker();\r\n        };\r\n        CellAlignPicker.prototype = {\r\n            //初始化选中状态， 该方法将根据传递进来的参数获取到应该选中的对齐方式图标的索引\r\n            initSelected: function() {\r\n\r\n                var status = {\r\n\r\n                        valign: {\r\n                            top: 0,\r\n                            middle: 1,\r\n                            bottom: 2\r\n                        },\r\n                        align: {\r\n                            left: 0,\r\n                            center: 1,\r\n                            right: 2\r\n                        },\r\n                        count: 3\r\n\r\n                    },\r\n                    result = -1;\r\n\r\n                if (this.selected) {\r\n                    this.selectedIndex = status.valign[this.selected.valign] * status.count + status.align[this.selected.align];\r\n                }\r\n\r\n            },\r\n            initCellAlignPicker: function() {\r\n                this.initUIBase();\r\n                this.Stateful_init();\r\n            },\r\n            getHtmlTpl: function() {\r\n\r\n                var alignType = ['left', 'center', 'right'],\r\n                    COUNT = 9,\r\n                    tempClassName = null,\r\n                    tempIndex = -1,\r\n                    tmpl = [];\r\n\r\n\r\n                for (var i = 0; i < COUNT; i++) {\r\n\r\n                    tempClassName = this.selectedIndex === i ? ' class=\"edui-cellalign-selected\" ' : '';\r\n                    tempIndex = i % 3;\r\n\r\n                    tempIndex === 0 && tmpl.push('<tr>');\r\n\r\n                    tmpl.push('<td index=\"' + i + '\" ' + tempClassName + ' stateful><div class=\"edui-icon edui-' + alignType[tempIndex] + '\"></div></td>');\r\n\r\n                    tempIndex === 2 && tmpl.push('</tr>');\r\n\r\n                }\r\n\r\n                return '<div id=\"##\" class=\"edui-cellalignpicker %%\">' +\r\n                    '<div class=\"edui-cellalignpicker-body\">' +\r\n                    '<table onclick=\"$$._onClick(event);\">' +\r\n                    tmpl.join('') +\r\n                    '</table>' +\r\n                    '</div>' +\r\n                    '</div>';\r\n            },\r\n            getStateDom: function() {\r\n                return this.target;\r\n            },\r\n            _onClick: function(evt) {\r\n                var target = evt.target || evt.srcElement;\r\n                if (/icon/.test(target.className)) {\r\n                    this.items[target.parentNode.getAttribute(\"index\")].onclick();\r\n                    Popup.postHide(evt);\r\n                }\r\n            },\r\n            _UIBase_render: UIBase.prototype.render\r\n        };\r\n        utils.inherits(CellAlignPicker, UIBase);\r\n        utils.extend(CellAlignPicker.prototype, Stateful, true);\r\n    })();\r\n\r\n\r\n\r\n\r\n\r\n    // ui/pastepicker.js\r\n    ///import core\r\n    ///import uicore\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            Stateful = baidu.editor.ui.Stateful,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            UIBase = baidu.editor.ui.UIBase;\r\n\r\n        var PastePicker = baidu.editor.ui.PastePicker = function(options) {\r\n            this.initOptions(options);\r\n            this.initPastePicker();\r\n        };\r\n        PastePicker.prototype = {\r\n            initPastePicker: function() {\r\n                this.initUIBase();\r\n                this.Stateful_init();\r\n            },\r\n            getHtmlTpl: function() {\r\n                return '<div class=\"edui-pasteicon\" onclick=\"$$._onClick(this)\"></div>' +\r\n                    '<div class=\"edui-pastecontainer\">' +\r\n                    '<div class=\"edui-title\">' + this.editor.getLang(\"pasteOpt\") + '</div>' +\r\n                    '<div class=\"edui-button\">' +\r\n                    '<div title=\"' + this.editor.getLang(\"pasteSourceFormat\") + '\" onclick=\"$$.format(false)\" stateful>' +\r\n                    '<div class=\"edui-richtxticon\"></div></div>' +\r\n                    '<div title=\"' + this.editor.getLang(\"tagFormat\") + '\" onclick=\"$$.format(2)\" stateful>' +\r\n                    '<div class=\"edui-tagicon\"></div></div>' +\r\n                    '<div title=\"' + this.editor.getLang(\"pasteTextFormat\") + '\" onclick=\"$$.format(true)\" stateful>' +\r\n                    '<div class=\"edui-plaintxticon\"></div></div>' +\r\n                    '</div>' +\r\n                    '</div>' +\r\n                    '</div>'\r\n            },\r\n            getStateDom: function() {\r\n                return this.target;\r\n            },\r\n            format: function(param) {\r\n                this.editor.ui._isTransfer = true;\r\n                this.editor.fireEvent('pasteTransfer', param);\r\n            },\r\n            _onClick: function(cur) {\r\n                var node = domUtils.getNextDomNode(cur),\r\n                    screenHt = uiUtils.getViewportRect().height,\r\n                    subPop = uiUtils.getClientRect(node);\r\n\r\n                if ((subPop.top + subPop.height) > screenHt)\r\n                    node.style.top = (-subPop.height - cur.offsetHeight) + \"px\";\r\n                else\r\n                    node.style.top = \"\";\r\n\r\n                if (/hidden/ig.test(domUtils.getComputedStyle(node, \"visibility\"))) {\r\n                    node.style.visibility = \"visible\";\r\n                    domUtils.addClass(cur, \"edui-state-opened\");\r\n                } else {\r\n                    node.style.visibility = \"hidden\";\r\n                    domUtils.removeClasses(cur, \"edui-state-opened\")\r\n                }\r\n            },\r\n            _UIBase_render: UIBase.prototype.render\r\n        };\r\n        utils.inherits(PastePicker, UIBase);\r\n        utils.extend(PastePicker.prototype, Stateful, true);\r\n    })();\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // ui/toolbar.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            Toolbar = baidu.editor.ui.Toolbar = function(options) {\r\n                this.initOptions(options);\r\n                this.initToolbar();\r\n            };\r\n        Toolbar.prototype = {\r\n            items: null,\r\n            initToolbar: function() {\r\n                this.items = this.items || [];\r\n                this.initUIBase();\r\n            },\r\n            add: function(item, index) {\r\n                if (index === undefined) {\r\n                    this.items.push(item);\r\n                } else {\r\n                    this.items.splice(index, 0, item)\r\n                }\r\n\r\n            },\r\n            getHtmlTpl: function() {\r\n                var buff = [];\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    buff[i] = this.items[i].renderHtml();\r\n                }\r\n                return '<div id=\"##\" class=\"edui-toolbar %%\" onselectstart=\"return false;\" onmousedown=\"return $$._onMouseDown(event, this);\">' +\r\n                    buff.join('') +\r\n                    '</div>'\r\n            },\r\n            postRender: function() {\r\n                var box = this.getDom();\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    this.items[i].postRender();\r\n                }\r\n                uiUtils.makeUnselectable(box);\r\n            },\r\n            _onMouseDown: function(e) {\r\n                var target = e.target || e.srcElement,\r\n                    tagName = target && target.tagName && target.tagName.toLowerCase();\r\n                if (tagName == 'input' || tagName == 'object' || tagName == 'object') {\r\n                    return false;\r\n                }\r\n            }\r\n        };\r\n        utils.inherits(Toolbar, UIBase);\r\n\r\n    })();\r\n\r\n\r\n    // ui/menu.js\r\n    ///import core\r\n    ///import uicore\r\n    ///import ui\\popup.js\r\n    ///import ui\\stateful.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            domUtils = baidu.editor.dom.domUtils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            Popup = baidu.editor.ui.Popup,\r\n            Stateful = baidu.editor.ui.Stateful,\r\n            CellAlignPicker = baidu.editor.ui.CellAlignPicker,\r\n\r\n            Menu = baidu.editor.ui.Menu = function(options) {\r\n                this.initOptions(options);\r\n                this.initMenu();\r\n            };\r\n\r\n        var menuSeparator = {\r\n            renderHtml: function() {\r\n                return '<div class=\"edui-menuitem edui-menuseparator\"><div class=\"edui-menuseparator-inner\"></div></div>';\r\n            },\r\n            postRender: function() {},\r\n            queryAutoHide: function() {\r\n                return true;\r\n            }\r\n        };\r\n        Menu.prototype = {\r\n            items: null,\r\n            uiName: 'menu',\r\n            initMenu: function() {\r\n                this.items = this.items || [];\r\n                this.initPopup();\r\n                this.initItems();\r\n            },\r\n            initItems: function() {\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    var item = this.items[i];\r\n                    if (item == '-') {\r\n                        this.items[i] = this.getSeparator();\r\n                    } else if (!(item instanceof MenuItem)) {\r\n                        item.editor = this.editor;\r\n                        item.theme = this.editor.options.theme;\r\n                        this.items[i] = this.createItem(item);\r\n                    }\r\n                }\r\n            },\r\n            getSeparator: function() {\r\n                return menuSeparator;\r\n            },\r\n            createItem: function(item) {\r\n                //新增一个参数menu, 该参数存储了menuItem所对应的menu引用\r\n                item.menu = this;\r\n                return new MenuItem(item);\r\n            },\r\n            _Popup_getContentHtmlTpl: Popup.prototype.getContentHtmlTpl,\r\n            getContentHtmlTpl: function() {\r\n                if (this.items.length == 0) {\r\n                    return this._Popup_getContentHtmlTpl();\r\n                }\r\n                var buff = [];\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    var item = this.items[i];\r\n                    buff[i] = item.renderHtml();\r\n                }\r\n                return ('<div class=\"%%-body\">' + buff.join('') + '</div>');\r\n            },\r\n            _Popup_postRender: Popup.prototype.postRender,\r\n            postRender: function() {\r\n                var me = this;\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    var item = this.items[i];\r\n                    item.ownerMenu = this;\r\n                    item.postRender();\r\n                }\r\n                domUtils.on(this.getDom(), 'mouseover', function(evt) {\r\n                    evt = evt || event;\r\n                    var rel = evt.relatedTarget || evt.fromElement;\r\n                    var el = me.getDom();\r\n                    if (!uiUtils.contains(el, rel) && el !== rel) {\r\n                        me.fireEvent('over');\r\n                    }\r\n                });\r\n                this._Popup_postRender();\r\n            },\r\n            queryAutoHide: function(el) {\r\n                if (el) {\r\n                    if (uiUtils.contains(this.getDom(), el)) {\r\n                        return false;\r\n                    }\r\n                    for (var i = 0; i < this.items.length; i++) {\r\n                        var item = this.items[i];\r\n                        if (item.queryAutoHide(el) === false) {\r\n                            return false;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            clearItems: function() {\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    var item = this.items[i];\r\n                    clearTimeout(item._showingTimer);\r\n                    clearTimeout(item._closingTimer);\r\n                    if (item.subMenu) {\r\n                        item.subMenu.destroy();\r\n                    }\r\n                }\r\n                this.items = [];\r\n            },\r\n            destroy: function() {\r\n                if (this.getDom()) {\r\n                    domUtils.remove(this.getDom());\r\n                }\r\n                this.clearItems();\r\n            },\r\n            dispose: function() {\r\n                this.destroy();\r\n            }\r\n        };\r\n        utils.inherits(Menu, Popup);\r\n\r\n        /**\r\n         * @update 2013/04/03 hancong03 新增一个参数menu, 该参数存储了menuItem所对应的menu引用\r\n         * @type {Function}\r\n         */\r\n        var MenuItem = baidu.editor.ui.MenuItem = function(options) {\r\n            this.initOptions(options);\r\n            this.initUIBase();\r\n            this.Stateful_init();\r\n            if (this.subMenu && !(this.subMenu instanceof Menu)) {\r\n                if (options.className && options.className.indexOf(\"aligntd\") != -1) {\r\n                    var me = this;\r\n\r\n                    //获取单元格对齐初始状态\r\n                    this.subMenu.selected = this.editor.queryCommandValue('cellalignment');\r\n\r\n                    this.subMenu = new Popup({\r\n                        content: new CellAlignPicker(this.subMenu),\r\n                        parentMenu: me,\r\n                        editor: me.editor,\r\n                        destroy: function() {\r\n                            if (this.getDom()) {\r\n                                domUtils.remove(this.getDom());\r\n                            }\r\n                        }\r\n                    });\r\n                    this.subMenu.addListener(\"postRenderAfter\", function() {\r\n                        domUtils.on(this.getDom(), \"mouseover\", function() {\r\n                            me.addState('opened');\r\n                        });\r\n                    });\r\n                } else {\r\n                    this.subMenu = new Menu(this.subMenu);\r\n                }\r\n            }\r\n        };\r\n        MenuItem.prototype = {\r\n            label: '',\r\n            subMenu: null,\r\n            ownerMenu: null,\r\n            uiName: 'menuitem',\r\n            alwalysHoverable: true,\r\n            getHtmlTpl: function() {\r\n                return '<div id=\"##\" class=\"%%\" stateful onclick=\"$$._onClick(event, this);\">' +\r\n                    '<div class=\"%%-body\">' +\r\n                    this.renderLabelHtml() +\r\n                    '</div>' +\r\n                    '</div>';\r\n            },\r\n            postRender: function() {\r\n                var me = this;\r\n                this.addListener('over', function() {\r\n                    me.ownerMenu.fireEvent('submenuover', me);\r\n                    if (me.subMenu) {\r\n                        me.delayShowSubMenu();\r\n                    }\r\n                });\r\n                if (this.subMenu) {\r\n                    this.getDom().className += ' edui-hassubmenu';\r\n                    this.subMenu.render();\r\n                    this.addListener('out', function() {\r\n                        me.delayHideSubMenu();\r\n                    });\r\n                    this.subMenu.addListener('over', function() {\r\n                        clearTimeout(me._closingTimer);\r\n                        me._closingTimer = null;\r\n                        me.addState('opened');\r\n                    });\r\n                    this.ownerMenu.addListener('hide', function() {\r\n                        me.hideSubMenu();\r\n                    });\r\n                    this.ownerMenu.addListener('submenuover', function(t, subMenu) {\r\n                        if (subMenu !== me) {\r\n                            me.delayHideSubMenu();\r\n                        }\r\n                    });\r\n                    this.subMenu._bakQueryAutoHide = this.subMenu.queryAutoHide;\r\n                    this.subMenu.queryAutoHide = function(el) {\r\n                        if (el && uiUtils.contains(me.getDom(), el)) {\r\n                            return false;\r\n                        }\r\n                        return this._bakQueryAutoHide(el);\r\n                    };\r\n                }\r\n                this.getDom().style.tabIndex = '-1';\r\n                uiUtils.makeUnselectable(this.getDom());\r\n                this.Stateful_postRender();\r\n            },\r\n            delayShowSubMenu: function() {\r\n                var me = this;\r\n                if (!me.isDisabled()) {\r\n                    me.addState('opened');\r\n                    clearTimeout(me._showingTimer);\r\n                    clearTimeout(me._closingTimer);\r\n                    me._closingTimer = null;\r\n                    me._showingTimer = setTimeout(function() {\r\n                        me.showSubMenu();\r\n                    }, 250);\r\n                }\r\n            },\r\n            delayHideSubMenu: function() {\r\n                var me = this;\r\n                if (!me.isDisabled()) {\r\n                    me.removeState('opened');\r\n                    clearTimeout(me._showingTimer);\r\n                    if (!me._closingTimer) {\r\n                        me._closingTimer = setTimeout(function() {\r\n                            if (!me.hasState('opened')) {\r\n                                me.hideSubMenu();\r\n                            }\r\n                            me._closingTimer = null;\r\n                        }, 400);\r\n                    }\r\n                }\r\n            },\r\n            renderLabelHtml: function() {\r\n                return '<div class=\"edui-arrow\"></div>' +\r\n                    '<div class=\"edui-box edui-icon\"></div>' +\r\n                    '<div class=\"edui-box edui-label %%-label\">' + (this.label || '') + '</div>';\r\n            },\r\n            getStateDom: function() {\r\n                return this.getDom();\r\n            },\r\n            queryAutoHide: function(el) {\r\n                if (this.subMenu && this.hasState('opened')) {\r\n                    return this.subMenu.queryAutoHide(el);\r\n                }\r\n            },\r\n            _onClick: function(event, this_) {\r\n                if (this.hasState('disabled')) return;\r\n                if (this.fireEvent('click', event, this_) !== false) {\r\n                    if (this.subMenu) {\r\n                        this.showSubMenu();\r\n                    } else {\r\n                        Popup.postHide(event);\r\n                    }\r\n                }\r\n            },\r\n            showSubMenu: function() {\r\n                var rect = uiUtils.getClientRect(this.getDom());\r\n                rect.right -= 5;\r\n                rect.left += 2;\r\n                rect.width -= 7;\r\n                rect.top -= 4;\r\n                rect.bottom += 4;\r\n                rect.height += 8;\r\n                this.subMenu.showAnchorRect(rect, true, true);\r\n            },\r\n            hideSubMenu: function() {\r\n                this.subMenu.hide();\r\n            }\r\n        };\r\n        utils.inherits(MenuItem, UIBase);\r\n        utils.extend(MenuItem.prototype, Stateful, true);\r\n    })();\r\n\r\n\r\n    // ui/combox.js\r\n    ///import core\r\n    ///import uicore\r\n    ///import ui/menu.js\r\n    ///import ui/splitbutton.js\r\n    (function() {\r\n        // todo: menu和item提成通用list\r\n        var utils = baidu.editor.utils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            Menu = baidu.editor.ui.Menu,\r\n            SplitButton = baidu.editor.ui.SplitButton,\r\n            Combox = baidu.editor.ui.Combox = function(options) {\r\n                this.initOptions(options);\r\n                this.initCombox();\r\n            };\r\n        Combox.prototype = {\r\n            uiName: 'combox',\r\n            onbuttonclick: function() {\r\n                this.showPopup();\r\n            },\r\n            initCombox: function() {\r\n                var me = this;\r\n                this.items = this.items || [];\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    var item = this.items[i];\r\n                    item.uiName = 'listitem';\r\n                    item.index = i;\r\n                    item.onclick = function() {\r\n                        me.selectByIndex(this.index);\r\n                    };\r\n                }\r\n                this.popup = new Menu({\r\n                    items: this.items,\r\n                    uiName: 'list',\r\n                    editor: this.editor,\r\n                    captureWheel: true,\r\n                    combox: this\r\n                });\r\n\r\n                this.initSplitButton();\r\n            },\r\n            _SplitButton_postRender: SplitButton.prototype.postRender,\r\n            postRender: function() {\r\n                this._SplitButton_postRender();\r\n                this.setLabel(this.label || '');\r\n                this.setValue(this.initValue || '');\r\n            },\r\n            showPopup: function() {\r\n                var rect = uiUtils.getClientRect(this.getDom());\r\n                rect.top += 1;\r\n                rect.bottom -= 1;\r\n                rect.height -= 2;\r\n                this.popup.showAnchorRect(rect);\r\n            },\r\n            getValue: function() {\r\n                return this.value;\r\n            },\r\n            setValue: function(value) {\r\n                var index = this.indexByValue(value);\r\n                if (index != -1) {\r\n                    this.selectedIndex = index;\r\n                    this.setLabel(this.items[index].label);\r\n                    this.value = this.items[index].value;\r\n                } else {\r\n                    this.selectedIndex = -1;\r\n                    this.setLabel(this.getLabelForUnknowValue(value));\r\n                    this.value = value;\r\n                }\r\n            },\r\n            setLabel: function(label) {\r\n                this.getDom('button_body').innerHTML = label;\r\n                this.label = label;\r\n            },\r\n            getLabelForUnknowValue: function(value) {\r\n                return value;\r\n            },\r\n            indexByValue: function(value) {\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    if (value == this.items[i].value) {\r\n                        return i;\r\n                    }\r\n                }\r\n                return -1;\r\n            },\r\n            getItem: function(index) {\r\n                return this.items[index];\r\n            },\r\n            selectByIndex: function(index) {\r\n                if (index < this.items.length && this.fireEvent('select', index) !== false) {\r\n                    this.selectedIndex = index;\r\n                    this.value = this.items[index].value;\r\n                    this.setLabel(this.items[index].label);\r\n                }\r\n            }\r\n        };\r\n        utils.inherits(Combox, SplitButton);\r\n    })();\r\n\r\n\r\n    // ui/dialog.js\r\n    ///import core\r\n    ///import uicore\r\n    ///import ui/mask.js\r\n    ///import ui/button.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            domUtils = baidu.editor.dom.domUtils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            Mask = baidu.editor.ui.Mask,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            Button = baidu.editor.ui.Button,\r\n            Dialog = baidu.editor.ui.Dialog = function(options) {\r\n                if (options.name) {\r\n                    var name = options.name;\r\n                    var cssRules = options.cssRules;\r\n                    if (!options.className) {\r\n                        options.className = 'edui-for-' + name;\r\n                    }\r\n                    if (cssRules) {\r\n                        options.cssRules = '.edui-default .edui-for-' + name + ' .edui-dialog-content  {' + cssRules + '}'\r\n                    }\r\n                }\r\n                this.initOptions(utils.extend({\r\n                    autoReset: true,\r\n                    draggable: true,\r\n                    onok: function() {},\r\n                    oncancel: function() {},\r\n                    onclose: function(t, ok) {\r\n                        return ok ? this.onok() : this.oncancel();\r\n                    },\r\n                    //是否控制dialog中的scroll事件， 默认为不阻止\r\n                    holdScroll: false\r\n                }, options));\r\n                this.initDialog();\r\n            };\r\n        var modalMask;\r\n        var dragMask;\r\n        var activeDialog;\r\n        Dialog.prototype = {\r\n            draggable: false,\r\n            uiName: 'dialog',\r\n            initDialog: function() {\r\n                var me = this,\r\n                    theme = this.editor.options.theme;\r\n                if (this.cssRules) {\r\n                    utils.cssRule('edui-customize-' + this.name + '-style', this.cssRules);\r\n                }\r\n                this.initUIBase();\r\n                this.modalMask = (modalMask || (modalMask = new Mask({\r\n                    className: 'edui-dialog-modalmask',\r\n                    theme: theme,\r\n                    onclick: function() {\r\n                        activeDialog && activeDialog.close(false);\r\n                    }\r\n                })));\r\n                this.dragMask = (dragMask || (dragMask = new Mask({\r\n                    className: 'edui-dialog-dragmask',\r\n                    theme: theme\r\n                })));\r\n                this.closeButton = new Button({\r\n                    className: 'edui-dialog-closebutton',\r\n                    title: me.closeDialog,\r\n                    theme: theme,\r\n                    onclick: function() {\r\n                        me.close(false);\r\n                    }\r\n                });\r\n\r\n                this.fullscreen && this.initResizeEvent();\r\n\r\n                if (this.buttons) {\r\n                    for (var i = 0; i < this.buttons.length; i++) {\r\n                        if (!(this.buttons[i] instanceof Button)) {\r\n                            this.buttons[i] = new Button(utils.extend(this.buttons[i], {\r\n                                editor: this.editor\r\n                            }, true));\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            initResizeEvent: function() {\r\n\r\n                var me = this;\r\n\r\n                domUtils.on(window, \"resize\", function() {\r\n\r\n                    if (me._hidden || me._hidden === undefined) {\r\n                        return;\r\n                    }\r\n\r\n                    if (me.__resizeTimer) {\r\n                        window.clearTimeout(me.__resizeTimer);\r\n                    }\r\n\r\n                    me.__resizeTimer = window.setTimeout(function() {\r\n\r\n                        me.__resizeTimer = null;\r\n\r\n                        var dialogWrapNode = me.getDom(),\r\n                            contentNode = me.getDom('content'),\r\n                            wrapRect = UE.ui.uiUtils.getClientRect(dialogWrapNode),\r\n                            contentRect = UE.ui.uiUtils.getClientRect(contentNode),\r\n                            vpRect = uiUtils.getViewportRect();\r\n\r\n                        contentNode.style.width = (vpRect.width - wrapRect.width + contentRect.width) + \"px\";\r\n                        contentNode.style.height = (vpRect.height - wrapRect.height + contentRect.height) + \"px\";\r\n\r\n                        dialogWrapNode.style.width = vpRect.width + \"px\";\r\n                        dialogWrapNode.style.height = vpRect.height + \"px\";\r\n\r\n                        me.fireEvent(\"resize\");\r\n\r\n                    }, 100);\r\n\r\n                });\r\n\r\n            },\r\n            fitSize: function() {\r\n                var popBodyEl = this.getDom('body');\r\n                //            if (!(baidu.editor.browser.ie && baidu.editor.browser.version == 7)) {\r\n                //                uiUtils.removeStyle(popBodyEl, 'width');\r\n                //                uiUtils.removeStyle(popBodyEl, 'height');\r\n                //            }\r\n                var size = this.mesureSize();\r\n                popBodyEl.style.width = size.width + 'px';\r\n                popBodyEl.style.height = size.height + 'px';\r\n                return size;\r\n            },\r\n            safeSetOffset: function(offset) {\r\n                var me = this;\r\n                var el = me.getDom();\r\n                var vpRect = uiUtils.getViewportRect();\r\n                var rect = uiUtils.getClientRect(el);\r\n                var left = offset.left;\r\n                if (left + rect.width > vpRect.right) {\r\n                    left = vpRect.right - rect.width;\r\n                }\r\n                var top = offset.top;\r\n                if (top + rect.height > vpRect.bottom) {\r\n                    top = vpRect.bottom - rect.height;\r\n                }\r\n                el.style.left = Math.max(left, 0) + 'px';\r\n                el.style.top = Math.max(top, 0) + 'px';\r\n            },\r\n            showAtCenter: function() {\r\n\r\n                var vpRect = uiUtils.getViewportRect();\r\n\r\n                if (!this.fullscreen) {\r\n                    this.getDom().style.display = '';\r\n                    var popSize = this.fitSize();\r\n                    var titleHeight = this.getDom('titlebar').offsetHeight | 0;\r\n                    var left = vpRect.width / 2 - popSize.width / 2;\r\n                    var top = vpRect.height / 2 - (popSize.height - titleHeight) / 2 - titleHeight;\r\n                    var popEl = this.getDom();\r\n                    this.safeSetOffset({\r\n                        left: Math.max(left | 0, 0),\r\n                        top: Math.max(top | 0, 0)\r\n                    });\r\n                    if (!domUtils.hasClass(popEl, 'edui-state-centered')) {\r\n                        popEl.className += ' edui-state-centered';\r\n                    }\r\n                } else {\r\n                    var dialogWrapNode = this.getDom(),\r\n                        contentNode = this.getDom('content');\r\n\r\n                    dialogWrapNode.style.display = \"block\";\r\n\r\n                    var wrapRect = UE.ui.uiUtils.getClientRect(dialogWrapNode),\r\n                        contentRect = UE.ui.uiUtils.getClientRect(contentNode);\r\n                    dialogWrapNode.style.left = \"-100000px\";\r\n\r\n                    contentNode.style.width = (vpRect.width - wrapRect.width + contentRect.width) + \"px\";\r\n                    contentNode.style.height = (vpRect.height - wrapRect.height + contentRect.height) + \"px\";\r\n\r\n                    dialogWrapNode.style.width = vpRect.width + \"px\";\r\n                    dialogWrapNode.style.height = vpRect.height + \"px\";\r\n                    dialogWrapNode.style.left = 0;\r\n\r\n                    //保存环境的overflow值\r\n                    this._originalContext = {\r\n                        html: {\r\n                            overflowX: document.documentElement.style.overflowX,\r\n                            overflowY: document.documentElement.style.overflowY\r\n                        },\r\n                        body: {\r\n                            overflowX: document.body.style.overflowX,\r\n                            overflowY: document.body.style.overflowY\r\n                        }\r\n                    };\r\n\r\n                    document.documentElement.style.overflowX = 'hidden';\r\n                    document.documentElement.style.overflowY = 'hidden';\r\n                    document.body.style.overflowX = 'hidden';\r\n                    document.body.style.overflowY = 'hidden';\r\n\r\n                }\r\n\r\n                this._show();\r\n            },\r\n            getContentHtml: function() {\r\n                var contentHtml = '';\r\n                if (typeof this.content == 'string') {\r\n                    contentHtml = this.content;\r\n                } else if (this.iframeUrl) {\r\n                    contentHtml = '<span id=\"' + this.id + '_contmask\" class=\"dialogcontmask\"></span><iframe id=\"' + this.id +\r\n                        '_iframe\" class=\"%%-iframe\" height=\"100%\" width=\"100%\" frameborder=\"0\" src=\"' + this.iframeUrl + '\"></iframe>';\r\n                }\r\n                return contentHtml;\r\n            },\r\n            getHtmlTpl: function() {\r\n                var footHtml = '';\r\n\r\n                if (this.buttons) {\r\n                    var buff = [];\r\n                    for (var i = 0; i < this.buttons.length; i++) {\r\n                        buff[i] = this.buttons[i].renderHtml();\r\n                    }\r\n                    footHtml = '<div class=\"%%-foot\">' +\r\n                        '<div id=\"##_buttons\" class=\"%%-buttons\">' + buff.join('') + '</div>' +\r\n                        '</div>';\r\n                }\r\n\r\n                return '<div id=\"##\" class=\"%%\"><div ' + (!this.fullscreen ? 'class=\"%%\"' : 'class=\"%%-wrap edui-dialog-fullscreen-flag\"') + '><div id=\"##_body\" class=\"%%-body\">' +\r\n                    '<div class=\"%%-shadow\"></div>' +\r\n                    '<div id=\"##_titlebar\" class=\"%%-titlebar\">' +\r\n                    '<div class=\"%%-draghandle\" onmousedown=\"$$._onTitlebarMouseDown(event, this);\">' +\r\n                    '<span class=\"%%-caption\">' + (this.title || '') + '</span>' +\r\n                    '</div>' +\r\n                    this.closeButton.renderHtml() +\r\n                    '</div>' +\r\n                    '<div id=\"##_content\" class=\"%%-content\">' + (this.autoReset ? '' : this.getContentHtml()) + '</div>' +\r\n                    footHtml +\r\n                    '</div></div></div>';\r\n            },\r\n            postRender: function() {\r\n                // todo: 保持居中/记住上次关闭位置选项\r\n                if (!this.modalMask.getDom()) {\r\n                    this.modalMask.render();\r\n                    this.modalMask.hide();\r\n                }\r\n                if (!this.dragMask.getDom()) {\r\n                    this.dragMask.render();\r\n                    this.dragMask.hide();\r\n                }\r\n                var me = this;\r\n                this.addListener('show', function() {\r\n                    me.modalMask.show(this.getDom().style.zIndex - 2);\r\n                });\r\n                this.addListener('hide', function() {\r\n                    me.modalMask.hide();\r\n                });\r\n                if (this.buttons) {\r\n                    for (var i = 0; i < this.buttons.length; i++) {\r\n                        this.buttons[i].postRender();\r\n                    }\r\n                }\r\n                domUtils.on(window, 'resize', function() {\r\n                    setTimeout(function() {\r\n                        if (!me.isHidden()) {\r\n                            me.safeSetOffset(uiUtils.getClientRect(me.getDom()));\r\n                        }\r\n                    });\r\n                });\r\n\r\n                //hold住scroll事件，防止dialog的滚动影响页面\r\n                //            if( this.holdScroll ) {\r\n                //\r\n                //                if( !me.iframeUrl ) {\r\n                //                    domUtils.on( document.getElementById( me.id + \"_iframe\"), !browser.gecko ? \"mousewheel\" : \"DOMMouseScroll\", function(e){\r\n                //                        domUtils.preventDefault(e);\r\n                //                    } );\r\n                //                } else {\r\n                //                    me.addListener('dialogafterreset', function(){\r\n                //                        window.setTimeout(function(){\r\n                //                            var iframeWindow = document.getElementById( me.id + \"_iframe\").contentWindow;\r\n                //\r\n                //                            if( browser.ie ) {\r\n                //\r\n                //                                var timer = window.setInterval(function(){\r\n                //\r\n                //                                    if( iframeWindow.document && iframeWindow.document.body ) {\r\n                //                                        window.clearInterval( timer );\r\n                //                                        timer = null;\r\n                //                                        domUtils.on( iframeWindow.document.body, !browser.gecko ? \"mousewheel\" : \"DOMMouseScroll\", function(e){\r\n                //                                            domUtils.preventDefault(e);\r\n                //                                        } );\r\n                //                                    }\r\n                //\r\n                //                                }, 100);\r\n                //\r\n                //                            } else {\r\n                //                                domUtils.on( iframeWindow, !browser.gecko ? \"mousewheel\" : \"DOMMouseScroll\", function(e){\r\n                //                                    domUtils.preventDefault(e);\r\n                //                                } );\r\n                //                            }\r\n                //\r\n                //                        }, 1);\r\n                //                    });\r\n                //                }\r\n                //\r\n                //            }\r\n                this._hide();\r\n            },\r\n            mesureSize: function() {\r\n                var body = this.getDom('body');\r\n                var width = uiUtils.getClientRect(this.getDom('content')).width;\r\n                var dialogBodyStyle = body.style;\r\n                dialogBodyStyle.width = width;\r\n                return uiUtils.getClientRect(body);\r\n            },\r\n            _onTitlebarMouseDown: function(evt, el) {\r\n                if (this.draggable) {\r\n                    var rect;\r\n                    var vpRect = uiUtils.getViewportRect();\r\n                    var me = this;\r\n                    uiUtils.startDrag(evt, {\r\n                        ondragstart: function() {\r\n                            rect = uiUtils.getClientRect(me.getDom());\r\n                            me.getDom('contmask').style.visibility = 'visible';\r\n                            me.dragMask.show(me.getDom().style.zIndex - 1);\r\n                        },\r\n                        ondragmove: function(x, y) {\r\n                            var left = rect.left + x;\r\n                            var top = rect.top + y;\r\n                            me.safeSetOffset({\r\n                                left: left,\r\n                                top: top\r\n                            });\r\n                        },\r\n                        ondragstop: function() {\r\n                            me.getDom('contmask').style.visibility = 'hidden';\r\n                            domUtils.removeClasses(me.getDom(), ['edui-state-centered']);\r\n                            me.dragMask.hide();\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n            reset: function() {\r\n                this.getDom('content').innerHTML = this.getContentHtml();\r\n                this.fireEvent('dialogafterreset');\r\n            },\r\n            _show: function() {\r\n                if (this._hidden) {\r\n                    this.getDom().style.display = '';\r\n\r\n                    //要高过编辑器的zindxe\r\n                    this.editor.container.style.zIndex && (this.getDom().style.zIndex = this.editor.container.style.zIndex * 1 + 10);\r\n                    this._hidden = false;\r\n                    this.fireEvent('show');\r\n                    baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex = this.getDom().style.zIndex - 4;\r\n                }\r\n            },\r\n            isHidden: function() {\r\n                return this._hidden;\r\n            },\r\n            _hide: function() {\r\n                if (!this._hidden) {\r\n                    var wrapNode = this.getDom();\r\n                    wrapNode.style.display = 'none';\r\n                    wrapNode.style.zIndex = '';\r\n                    wrapNode.style.width = '';\r\n                    wrapNode.style.height = '';\r\n                    this._hidden = true;\r\n                    this.fireEvent('hide');\r\n                }\r\n            },\r\n            open: function() {\r\n                if (this.autoReset) {\r\n                    //有可能还没有渲染\r\n                    try {\r\n                        this.reset();\r\n                    } catch (e) {\r\n                        this.render();\r\n                        this.open()\r\n                    }\r\n                }\r\n                this.showAtCenter();\r\n                if (this.iframeUrl) {\r\n                    try {\r\n                        this.getDom('iframe').focus();\r\n                    } catch (ex) {}\r\n                }\r\n                activeDialog = this;\r\n            },\r\n            _onCloseButtonClick: function(evt, el) {\r\n                this.close(false);\r\n            },\r\n            close: function(ok) {\r\n                if (this.fireEvent('close', ok) !== false) {\r\n                    //还原环境\r\n                    if (this.fullscreen) {\r\n\r\n                        document.documentElement.style.overflowX = this._originalContext.html.overflowX;\r\n                        document.documentElement.style.overflowY = this._originalContext.html.overflowY;\r\n                        document.body.style.overflowX = this._originalContext.body.overflowX;\r\n                        document.body.style.overflowY = this._originalContext.body.overflowY;\r\n                        delete this._originalContext;\r\n\r\n                    }\r\n                    this._hide();\r\n\r\n                    //销毁content\r\n                    var content = this.getDom('content');\r\n                    var iframe = this.getDom('iframe');\r\n                    if (content && iframe) {\r\n                        var doc = iframe.contentDocument || iframe.contentWindow.document;\r\n                        doc && (doc.body.innerHTML = '');\r\n                        domUtils.remove(content);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        utils.inherits(Dialog, UIBase);\r\n    })();\r\n\r\n\r\n    // ui/menubutton.js\r\n    ///import core\r\n    ///import uicore\r\n    ///import ui/menu.js\r\n    ///import ui/splitbutton.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            Menu = baidu.editor.ui.Menu,\r\n            SplitButton = baidu.editor.ui.SplitButton,\r\n            MenuButton = baidu.editor.ui.MenuButton = function(options) {\r\n                this.initOptions(options);\r\n                this.initMenuButton();\r\n            };\r\n        MenuButton.prototype = {\r\n            initMenuButton: function() {\r\n                var me = this;\r\n                this.uiName = \"menubutton\";\r\n                this.popup = new Menu({\r\n                    items: me.items,\r\n                    className: me.className,\r\n                    editor: me.editor\r\n                });\r\n                this.popup.addListener('show', function() {\r\n                    var list = this;\r\n                    for (var i = 0; i < list.items.length; i++) {\r\n                        list.items[i].removeState('checked');\r\n                        if (list.items[i].value == me._value) {\r\n                            list.items[i].addState('checked');\r\n                            this.value = me._value;\r\n                        }\r\n                    }\r\n                });\r\n                this.initSplitButton();\r\n            },\r\n            setValue: function(value) {\r\n                this._value = value;\r\n            }\r\n\r\n        };\r\n        utils.inherits(MenuButton, SplitButton);\r\n    })();\r\n\r\n    // ui/multiMenu.js\r\n    ///import core\r\n    ///import uicore\r\n    ///commands 表情\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            Popup = baidu.editor.ui.Popup,\r\n            SplitButton = baidu.editor.ui.SplitButton,\r\n            MultiMenuPop = baidu.editor.ui.MultiMenuPop = function(options) {\r\n                this.initOptions(options);\r\n                this.initMultiMenu();\r\n            };\r\n\r\n        MultiMenuPop.prototype = {\r\n            initMultiMenu: function() {\r\n                var me = this;\r\n                this.popup = new Popup({\r\n                    content: '',\r\n                    editor: me.editor,\r\n                    iframe_rendered: false,\r\n                    onshow: function() {\r\n                            if (!this.iframe_rendered) {\r\n                                this.iframe_rendered = true;\r\n                                this.getDom('content').innerHTML = '<iframe id=\"' + me.id + '_iframe\" src=\"' + me.iframeUrl + '\" frameborder=\"0\"></iframe>';\r\n                                me.editor.container.style.zIndex && (this.getDom().style.zIndex = me.editor.container.style.zIndex * 1 + 1);\r\n                            }\r\n                        }\r\n                        // canSideUp:false,\r\n                        // canSideLeft:false\r\n                });\r\n                this.onbuttonclick = function() {\r\n                    this.showPopup();\r\n                };\r\n                this.initSplitButton();\r\n            }\r\n\r\n        };\r\n\r\n        utils.inherits(MultiMenuPop, SplitButton);\r\n    })();\r\n\r\n\r\n    // ui/shortcutmenu.js\r\n    (function() {\r\n        var UI = baidu.editor.ui,\r\n            UIBase = UI.UIBase,\r\n            uiUtils = UI.uiUtils,\r\n            utils = baidu.editor.utils,\r\n            domUtils = baidu.editor.dom.domUtils;\r\n\r\n        var allMenus = [], //存储所有快捷菜单\r\n            timeID,\r\n            isSubMenuShow = false; //是否有子pop显示\r\n\r\n        var ShortCutMenu = UI.ShortCutMenu = function(options) {\r\n            this.initOptions(options);\r\n            this.initShortCutMenu();\r\n        };\r\n\r\n        ShortCutMenu.postHide = hideAllMenu;\r\n\r\n        ShortCutMenu.prototype = {\r\n            isHidden: true,\r\n            SPACE: 5,\r\n            initShortCutMenu: function() {\r\n                this.items = this.items || [];\r\n                this.initUIBase();\r\n                this.initItems();\r\n                this.initEvent();\r\n                allMenus.push(this);\r\n            },\r\n            initEvent: function() {\r\n                var me = this,\r\n                    doc = me.editor.document;\r\n\r\n                domUtils.on(doc, \"mousemove\", function(e) {\r\n                    if (me.isHidden === false) {\r\n                        //有pop显示就不隐藏快捷菜单\r\n                        if (me.getSubMenuMark() || me.eventType == \"contextmenu\") return;\r\n\r\n\r\n                        var flag = true,\r\n                            el = me.getDom(),\r\n                            wt = el.offsetWidth,\r\n                            ht = el.offsetHeight,\r\n                            distanceX = wt / 2 + me.SPACE, //距离中心X标准\r\n                            distanceY = ht / 2, //距离中心Y标准\r\n                            x = Math.abs(e.screenX - me.left), //离中心距离横坐标\r\n                            y = Math.abs(e.screenY - me.top); //离中心距离纵坐标\r\n\r\n                        clearTimeout(timeID);\r\n                        timeID = setTimeout(function() {\r\n                            if (y > 0 && y < distanceY) {\r\n                                me.setOpacity(el, \"1\");\r\n                            } else if (y > distanceY && y < distanceY + 70) {\r\n                                me.setOpacity(el, \"0.5\");\r\n                                flag = false;\r\n                            } else if (y > distanceY + 70 && y < distanceY + 140) {\r\n                                me.hide();\r\n                            }\r\n\r\n                            if (flag && x > 0 && x < distanceX) {\r\n                                me.setOpacity(el, \"1\")\r\n                            } else if (x > distanceX && x < distanceX + 70) {\r\n                                me.setOpacity(el, \"0.5\")\r\n                            } else if (x > distanceX + 70 && x < distanceX + 140) {\r\n                                me.hide();\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n\r\n                //ie\\ff下 mouseout不准\r\n                if (browser.chrome) {\r\n                    domUtils.on(doc, \"mouseout\", function(e) {\r\n                        var relatedTgt = e.relatedTarget || e.toElement;\r\n\r\n                        if (relatedTgt == null || relatedTgt.tagName == \"HTML\") {\r\n                            me.hide();\r\n                        }\r\n                    });\r\n                }\r\n\r\n                me.editor.addListener(\"afterhidepop\", function() {\r\n                    if (!me.isHidden) {\r\n                        isSubMenuShow = true;\r\n                    }\r\n                });\r\n\r\n            },\r\n            initItems: function() {\r\n                if (utils.isArray(this.items)) {\r\n                    for (var i = 0, len = this.items.length; i < len; i++) {\r\n                        var item = this.items[i].toLowerCase();\r\n\r\n                        if (UI[item]) {\r\n                            this.items[i] = new UI[item](this.editor);\r\n                            this.items[i].className += \" edui-shortcutsubmenu \";\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            setOpacity: function(el, value) {\r\n                if (browser.ie && browser.version < 9) {\r\n                    el.style.filter = \"alpha(opacity = \" + parseFloat(value) * 100 + \");\"\r\n                } else {\r\n                    el.style.opacity = value;\r\n                }\r\n            },\r\n            getSubMenuMark: function() {\r\n                isSubMenuShow = false;\r\n                var layerEle = uiUtils.getFixedLayer();\r\n                var list = domUtils.getElementsByTagName(layerEle, \"div\", function(node) {\r\n                    return domUtils.hasClass(node, \"edui-shortcutsubmenu edui-popup\")\r\n                });\r\n\r\n                for (var i = 0, node; node = list[i++];) {\r\n                    if (node.style.display != \"none\") {\r\n                        isSubMenuShow = true;\r\n                    }\r\n                }\r\n                return isSubMenuShow;\r\n            },\r\n            show: function(e, hasContextmenu) {\r\n                var me = this,\r\n                    offset = {},\r\n                    el = this.getDom(),\r\n                    fixedlayer = uiUtils.getFixedLayer();\r\n\r\n                function setPos(offset) {\r\n                    if (offset.left < 0) {\r\n                        offset.left = 0;\r\n                    }\r\n                    if (offset.top < 0) {\r\n                        offset.top = 0;\r\n                    }\r\n                    el.style.cssText = \"position:absolute;left:\" + offset.left + \"px;top:\" + offset.top + \"px;\";\r\n                }\r\n\r\n                function setPosByCxtMenu(menu) {\r\n                    if (!menu.tagName) {\r\n                        menu = menu.getDom();\r\n                    }\r\n                    offset.left = parseInt(menu.style.left);\r\n                    offset.top = parseInt(menu.style.top);\r\n                    offset.top -= el.offsetHeight + 15;\r\n                    setPos(offset);\r\n                }\r\n\r\n\r\n                me.eventType = e.type;\r\n                el.style.cssText = \"display:block;left:-9999px\";\r\n\r\n                if (e.type == \"contextmenu\" && hasContextmenu) {\r\n                    var menu = domUtils.getElementsByTagName(fixedlayer, \"div\", \"edui-contextmenu\")[0];\r\n                    if (menu) {\r\n                        setPosByCxtMenu(menu)\r\n                    } else {\r\n                        me.editor.addListener(\"aftershowcontextmenu\", function(type, menu) {\r\n                            setPosByCxtMenu(menu);\r\n                        });\r\n                    }\r\n                } else {\r\n                    offset = uiUtils.getViewportOffsetByEvent(e);\r\n                    offset.top -= el.offsetHeight + me.SPACE;\r\n                    offset.left += me.SPACE + 20;\r\n                    setPos(offset);\r\n                    me.setOpacity(el, 0.2);\r\n                }\r\n\r\n\r\n                me.isHidden = false;\r\n                me.left = e.screenX + el.offsetWidth / 2 - me.SPACE;\r\n                me.top = e.screenY - (el.offsetHeight / 2) - me.SPACE;\r\n\r\n                if (me.editor) {\r\n                    el.style.zIndex = me.editor.container.style.zIndex * 1 + 10;\r\n                    fixedlayer.style.zIndex = el.style.zIndex - 1;\r\n                }\r\n            },\r\n            hide: function() {\r\n                if (this.getDom()) {\r\n                    this.getDom().style.display = \"none\";\r\n                }\r\n                this.isHidden = true;\r\n            },\r\n            postRender: function() {\r\n                if (utils.isArray(this.items)) {\r\n                    for (var i = 0, item; item = this.items[i++];) {\r\n                        item.postRender();\r\n                    }\r\n                }\r\n            },\r\n            getHtmlTpl: function() {\r\n                var buff;\r\n                if (utils.isArray(this.items)) {\r\n                    buff = [];\r\n                    for (var i = 0; i < this.items.length; i++) {\r\n                        buff[i] = this.items[i].renderHtml();\r\n                    }\r\n                    buff = buff.join(\"\");\r\n                } else {\r\n                    buff = this.items;\r\n                }\r\n\r\n                return '<div id=\"##\" class=\"%% edui-toolbar\" data-src=\"shortcutmenu\" onmousedown=\"return false;\" onselectstart=\"return false;\" >' +\r\n                    buff +\r\n                    '</div>';\r\n            }\r\n        };\r\n\r\n        utils.inherits(ShortCutMenu, UIBase);\r\n\r\n        function hideAllMenu(e) {\r\n            var tgt = e.target || e.srcElement,\r\n                cur = domUtils.findParent(tgt, function(node) {\r\n                    return domUtils.hasClass(node, \"edui-shortcutmenu\") || domUtils.hasClass(node, \"edui-popup\");\r\n                }, true);\r\n\r\n            if (!cur) {\r\n                for (var i = 0, menu; menu = allMenus[i++];) {\r\n                    menu.hide()\r\n                }\r\n            }\r\n        }\r\n\r\n        domUtils.on(document, 'mousedown', function(e) {\r\n            hideAllMenu(e);\r\n        });\r\n\r\n        domUtils.on(window, 'scroll', function(e) {\r\n            hideAllMenu(e);\r\n        });\r\n\r\n    })();\r\n\r\n\r\n    // ui/breakline.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            Breakline = baidu.editor.ui.Breakline = function(options) {\r\n                this.initOptions(options);\r\n                this.initSeparator();\r\n            };\r\n        Breakline.prototype = {\r\n            uiName: 'Breakline',\r\n            initSeparator: function() {\r\n                this.initUIBase();\r\n            },\r\n            getHtmlTpl: function() {\r\n                return '<br/>';\r\n            }\r\n        };\r\n        utils.inherits(Breakline, UIBase);\r\n\r\n    })();\r\n\r\n\r\n    // ui/message.js\r\n    ///import core\r\n    ///import uicore\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            domUtils = baidu.editor.dom.domUtils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            Message = baidu.editor.ui.Message = function(options) {\r\n                this.initOptions(options);\r\n                this.initMessage();\r\n            };\r\n\r\n        Message.prototype = {\r\n            initMessage: function() {\r\n                this.initUIBase();\r\n            },\r\n            getHtmlTpl: function() {\r\n                return '<div id=\"##\" class=\"edui-message %%\">' +\r\n                    ' <div id=\"##_closer\" class=\"edui-message-closer\">×</div>' +\r\n                    ' <div id=\"##_body\" class=\"edui-message-body edui-message-type-info\">' +\r\n                    ' <iframe style=\"position:absolute;z-index:-1;left:0;top:0;background-color: transparent;\" frameborder=\"0\" width=\"100%\" height=\"100%\" src=\"about:blank\"></iframe>' +\r\n                    ' <div class=\"edui-shadow\"></div>' +\r\n                    ' <div id=\"##_content\" class=\"edui-message-content\">' +\r\n                    '  </div>' +\r\n                    ' </div>' +\r\n                    '</div>';\r\n            },\r\n            reset: function(opt) {\r\n                var me = this;\r\n                if (!opt.keepshow) {\r\n                    clearTimeout(this.timer);\r\n                    me.timer = setTimeout(function() {\r\n                        me.hide();\r\n                    }, opt.timeout || 4000);\r\n                }\r\n\r\n                opt.content !== undefined && me.setContent(opt.content);\r\n                opt.type !== undefined && me.setType(opt.type);\r\n\r\n                me.show();\r\n            },\r\n            postRender: function() {\r\n                var me = this,\r\n                    closer = this.getDom('closer');\r\n                closer && domUtils.on(closer, 'click', function() {\r\n                    me.hide();\r\n                });\r\n            },\r\n            setContent: function(content) {\r\n                this.getDom('content').innerHTML = content;\r\n            },\r\n            setType: function(type) {\r\n                type = type || 'info';\r\n                var body = this.getDom('body');\r\n                body.className = body.className.replace(/edui-message-type-[\\w-]+/, 'edui-message-type-' + type);\r\n            },\r\n            getContent: function() {\r\n                return this.getDom('content').innerHTML;\r\n            },\r\n            getType: function() {\r\n                var arr = this.getDom('body').match(/edui-message-type-([\\w-]+)/);\r\n                return arr ? arr[1] : '';\r\n            },\r\n            show: function() {\r\n                this.getDom().style.display = 'block';\r\n            },\r\n            hide: function() {\r\n                var dom = this.getDom();\r\n                if (dom) {\r\n                    dom.style.display = 'none';\r\n                    dom.parentNode && dom.parentNode.removeChild(dom);\r\n                }\r\n            }\r\n        };\r\n\r\n        utils.inherits(Message, UIBase);\r\n\r\n    })();\r\n\r\n\r\n    // adapter/editorui.js\r\n    //ui跟编辑器的适配層\r\n    //那个按钮弹出是dialog，是下拉筐等都是在这个js中配置\r\n    //自己写的ui也要在这里配置，放到baidu.editor.ui下边，当编辑器实例化的时候会根据ueditor.config中的toolbars找到相应的进行实例化\r\n    (function() {\r\n        var utils = baidu.editor.utils;\r\n        var editorui = baidu.editor.ui;\r\n        var _Dialog = editorui.Dialog;\r\n        editorui.buttons = {};\r\n\r\n        editorui.Dialog = function(options) {\r\n            var dialog = new _Dialog(options);\r\n            dialog.addListener('hide', function() {\r\n\r\n                if (dialog.editor) {\r\n                    var editor = dialog.editor;\r\n                    try {\r\n                        if (browser.gecko) {\r\n                            var y = editor.window.scrollY,\r\n                                x = editor.window.scrollX;\r\n                            editor.body.focus();\r\n                            editor.window.scrollTo(x, y);\r\n                        } else {\r\n                            editor.focus();\r\n                        }\r\n\r\n\r\n                    } catch (ex) {}\r\n                }\r\n            });\r\n            return dialog;\r\n        };\r\n\r\n        var iframeUrlMap = {\r\n            'anchor': '~/dialogs/anchor/anchor.html',\r\n            'insertimage': '~/dialogs/image/image.html',\r\n            'link': '~/dialogs/link/link.html',\r\n            'spechars': '~/dialogs/spechars/spechars.html',\r\n            'searchreplace': '~/dialogs/searchreplace/searchreplace.html',\r\n            'map': '~/dialogs/map/map.html',\r\n            'gmap': '~/dialogs/gmap/gmap.html',\r\n            'insertvideo': '~/dialogs/video/video.html',\r\n            'help': '~/dialogs/help/help.html',\r\n            'preview': '~/dialogs/preview/preview.html',\r\n            'emotion': '~/dialogs/emotion/emotion.html',\r\n            'wordimage': '~/dialogs/wordimage/wordimage.html',\r\n            'attachment': '~/dialogs/attachment/attachment.html',\r\n            'insertframe': '~/dialogs/insertframe/insertframe.html',\r\n            'edittip': '~/dialogs/table/edittip.html',\r\n            'edittable': '~/dialogs/table/edittable.html',\r\n            'edittd': '~/dialogs/table/edittd.html',\r\n            'webapp': '~/dialogs/webapp/webapp.html',\r\n            'snapscreen': '~/dialogs/snapscreen/snapscreen.html',\r\n            'scrawl': '~/dialogs/scrawl/scrawl.html',\r\n            'music': '~/dialogs/music/music.html',\r\n            'template': '~/dialogs/template/template.html',\r\n            'background': '~/dialogs/background/background.html',\r\n            'charts': '~/dialogs/charts/charts.html'\r\n        };\r\n        //为工具栏添加按钮，以下都是统一的按钮触发命令，所以写在一起\r\n        var btnCmds = ['undo', 'redo', 'formatmatch',\r\n            'bold', 'italic', 'underline', 'fontborder', 'touppercase', 'tolowercase',\r\n            'strikethrough', 'subscript', 'superscript', 'source', 'indent', 'outdent',\r\n            'blockquote', 'pasteplain', 'pagebreak',\r\n            'selectall', 'print', 'horizontal', 'removeformat', 'time', 'date', 'unlink',\r\n            'insertparagraphbeforetable', 'insertrow', 'insertcol', 'mergeright', 'mergedown', 'deleterow',\r\n            'deletecol', 'splittorows', 'splittocols', 'splittocells', 'mergecells', 'deletetable', 'drafts'\r\n        ];\r\n\r\n        for (var i = 0, ci; ci = btnCmds[i++];) {\r\n            ci = ci.toLowerCase();\r\n            editorui[ci] = function(cmd) {\r\n                return function(editor) {\r\n                    var ui = new editorui.Button({\r\n                        className: 'edui-for-' + cmd,\r\n                        title: editor.options.labelMap[cmd] || editor.getLang(\"labelMap.\" + cmd) || '',\r\n                        onclick: function() {\r\n                            editor.execCommand(cmd);\r\n                        },\r\n                        theme: editor.options.theme,\r\n                        showText: false\r\n                    });\r\n                    editorui.buttons[cmd] = ui;\r\n                    editor.addListener('selectionchange', function(type, causeByUi, uiReady) {\r\n                        var state = editor.queryCommandState(cmd);\r\n                        if (state == -1) {\r\n                            ui.setDisabled(true);\r\n                            ui.setChecked(false);\r\n                        } else {\r\n                            if (!uiReady) {\r\n                                ui.setDisabled(false);\r\n                                ui.setChecked(state);\r\n                            }\r\n                        }\r\n                    });\r\n                    return ui;\r\n                };\r\n            }(ci);\r\n        }\r\n\r\n        //清除文档\r\n        editorui.cleardoc = function(editor) {\r\n            var ui = new editorui.Button({\r\n                className: 'edui-for-cleardoc',\r\n                title: editor.options.labelMap.cleardoc || editor.getLang(\"labelMap.cleardoc\") || '',\r\n                theme: editor.options.theme,\r\n                onclick: function() {\r\n                    if (confirm(editor.getLang(\"confirmClear\"))) {\r\n                        editor.execCommand('cleardoc');\r\n                    }\r\n                }\r\n            });\r\n            editorui.buttons[\"cleardoc\"] = ui;\r\n            editor.addListener('selectionchange', function() {\r\n                ui.setDisabled(editor.queryCommandState('cleardoc') == -1);\r\n            });\r\n            return ui;\r\n        };\r\n\r\n        //排版，图片排版，文字方向\r\n        var typeset = {\r\n            'justify': ['left', 'right', 'center', 'justify'],\r\n            'imagefloat': ['none', 'left', 'center', 'right'],\r\n            'directionality': ['ltr', 'rtl']\r\n        };\r\n\r\n        for (var p in typeset) {\r\n\r\n            (function(cmd, val) {\r\n                for (var i = 0, ci; ci = val[i++];) {\r\n                    (function(cmd2) {\r\n                        editorui[cmd.replace('float', '') + cmd2] = function(editor) {\r\n                            var ui = new editorui.Button({\r\n                                className: 'edui-for-' + cmd.replace('float', '') + cmd2,\r\n                                title: editor.options.labelMap[cmd.replace('float', '') + cmd2] || editor.getLang(\"labelMap.\" + cmd.replace('float', '') + cmd2) || '',\r\n                                theme: editor.options.theme,\r\n                                onclick: function() {\r\n                                    editor.execCommand(cmd, cmd2);\r\n                                }\r\n                            });\r\n                            editorui.buttons[cmd] = ui;\r\n                            editor.addListener('selectionchange', function(type, causeByUi, uiReady) {\r\n                                ui.setDisabled(editor.queryCommandState(cmd) == -1);\r\n                                ui.setChecked(editor.queryCommandValue(cmd) == cmd2 && !uiReady);\r\n                            });\r\n                            return ui;\r\n                        };\r\n                    })(ci)\r\n                }\r\n            })(p, typeset[p])\r\n        }\r\n\r\n        //字体颜色和背景颜色\r\n        for (var i = 0, ci; ci = ['backcolor', 'forecolor'][i++];) {\r\n            editorui[ci] = function(cmd) {\r\n                return function(editor) {\r\n                    var ui = new editorui.ColorButton({\r\n                        className: 'edui-for-' + cmd,\r\n                        color: 'default',\r\n                        title: editor.options.labelMap[cmd] || editor.getLang(\"labelMap.\" + cmd) || '',\r\n                        editor: editor,\r\n                        onpickcolor: function(t, color) {\r\n                            editor.execCommand(cmd, color);\r\n                        },\r\n                        onpicknocolor: function() {\r\n                            editor.execCommand(cmd, 'default');\r\n                            this.setColor('transparent');\r\n                            this.color = 'default';\r\n                        },\r\n                        onbuttonclick: function() {\r\n                            editor.execCommand(cmd, this.color);\r\n                        }\r\n                    });\r\n                    editorui.buttons[cmd] = ui;\r\n                    editor.addListener('selectionchange', function() {\r\n                        ui.setDisabled(editor.queryCommandState(cmd) == -1);\r\n                    });\r\n                    return ui;\r\n                };\r\n            }(ci);\r\n        }\r\n\r\n\r\n        var dialogBtns = {\r\n            noOk: ['searchreplace', 'help', 'spechars', 'webapp', 'preview'],\r\n            ok: ['attachment', 'anchor', 'link', 'insertimage', 'map', 'gmap', 'insertframe', 'wordimage',\r\n                'insertvideo', 'insertframe', 'edittip', 'edittable', 'edittd', 'scrawl', 'template', 'music', 'background', 'charts'\r\n            ]\r\n        };\r\n\r\n        for (var p in dialogBtns) {\r\n            (function(type, vals) {\r\n                for (var i = 0, ci; ci = vals[i++];) {\r\n                    //todo opera下存在问题\r\n                    if (browser.opera && ci === \"searchreplace\") {\r\n                        continue;\r\n                    }\r\n                    (function(cmd) {\r\n                        editorui[cmd] = function(editor, iframeUrl, title) {\r\n                            iframeUrl = iframeUrl || (editor.options.iframeUrlMap || {})[cmd] || iframeUrlMap[cmd];\r\n                            title = editor.options.labelMap[cmd] || editor.getLang(\"labelMap.\" + cmd) || '';\r\n\r\n                            var dialog;\r\n                            //没有iframeUrl不创建dialog\r\n                            if (iframeUrl) {\r\n                                dialog = new editorui.Dialog(utils.extend({\r\n                                    iframeUrl: editor.ui.mapUrl(iframeUrl),\r\n                                    editor: editor,\r\n                                    className: 'edui-for-' + cmd,\r\n                                    title: title,\r\n                                    holdScroll: cmd === 'insertimage',\r\n                                    fullscreen: /charts|preview/.test(cmd),\r\n                                    closeDialog: editor.getLang(\"closeDialog\")\r\n                                }, type == 'ok' ? {\r\n                                    buttons: [{\r\n                                            className: 'edui-okbutton',\r\n                                            label: editor.getLang(\"ok\"),\r\n                                            editor: editor,\r\n                                            onclick: function() {\r\n                                                dialog.close(true);\r\n                                            }\r\n                                        },\r\n                                        {\r\n                                            className: 'edui-cancelbutton',\r\n                                            label: editor.getLang(\"cancel\"),\r\n                                            editor: editor,\r\n                                            onclick: function() {\r\n                                                dialog.close(false);\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                } : {}));\r\n\r\n                                editor.ui._dialogs[cmd + \"Dialog\"] = dialog;\r\n                            }\r\n\r\n                            var ui = new editorui.Button({\r\n                                className: 'edui-for-' + cmd,\r\n                                title: title,\r\n                                onclick: function() {\r\n                                    if (dialog) {\r\n                                        switch (cmd) {\r\n                                            case \"wordimage\":\r\n                                                var images = editor.execCommand(\"wordimage\");\r\n                                                if (images && images.length) {\r\n                                                    dialog.render();\r\n                                                    dialog.open();\r\n                                                }\r\n                                                break;\r\n                                            case \"scrawl\":\r\n                                                if (editor.queryCommandState(\"scrawl\") != -1) {\r\n                                                    dialog.render();\r\n                                                    dialog.open();\r\n                                                }\r\n\r\n                                                break;\r\n                                            default:\r\n                                                dialog.render();\r\n                                                dialog.open();\r\n                                        }\r\n                                    }\r\n                                },\r\n                                theme: editor.options.theme,\r\n                                disabled: (cmd == 'scrawl' && editor.queryCommandState(\"scrawl\") == -1) || (cmd == 'charts')\r\n                            });\r\n                            editorui.buttons[cmd] = ui;\r\n                            editor.addListener('selectionchange', function() {\r\n                                //只存在于右键菜单而无工具栏按钮的ui不需要检测状态\r\n                                var unNeedCheckState = { 'edittable': 1 };\r\n                                if (cmd in unNeedCheckState) return;\r\n\r\n                                var state = editor.queryCommandState(cmd);\r\n                                if (ui.getDom()) {\r\n                                    ui.setDisabled(state == -1);\r\n                                    ui.setChecked(state);\r\n                                }\r\n\r\n                            });\r\n\r\n                            return ui;\r\n                        };\r\n                    })(ci.toLowerCase())\r\n                }\r\n            })(p, dialogBtns[p]);\r\n        }\r\n\r\n        editorui.snapscreen = function(editor, iframeUrl, title) {\r\n            title = editor.options.labelMap['snapscreen'] || editor.getLang(\"labelMap.snapscreen\") || '';\r\n            var ui = new editorui.Button({\r\n                className: 'edui-for-snapscreen',\r\n                title: title,\r\n                onclick: function() {\r\n                    editor.execCommand(\"snapscreen\");\r\n                },\r\n                theme: editor.options.theme\r\n\r\n            });\r\n            editorui.buttons['snapscreen'] = ui;\r\n            iframeUrl = iframeUrl || (editor.options.iframeUrlMap || {})[\"snapscreen\"] || iframeUrlMap[\"snapscreen\"];\r\n            if (iframeUrl) {\r\n                var dialog = new editorui.Dialog({\r\n                    iframeUrl: editor.ui.mapUrl(iframeUrl),\r\n                    editor: editor,\r\n                    className: 'edui-for-snapscreen',\r\n                    title: title,\r\n                    buttons: [{\r\n                            className: 'edui-okbutton',\r\n                            label: editor.getLang(\"ok\"),\r\n                            editor: editor,\r\n                            onclick: function() {\r\n                                dialog.close(true);\r\n                            }\r\n                        },\r\n                        {\r\n                            className: 'edui-cancelbutton',\r\n                            label: editor.getLang(\"cancel\"),\r\n                            editor: editor,\r\n                            onclick: function() {\r\n                                dialog.close(false);\r\n                            }\r\n                        }\r\n                    ]\r\n\r\n                });\r\n                dialog.render();\r\n                editor.ui._dialogs[\"snapscreenDialog\"] = dialog;\r\n            }\r\n            editor.addListener('selectionchange', function() {\r\n                ui.setDisabled(editor.queryCommandState('snapscreen') == -1);\r\n            });\r\n            return ui;\r\n        };\r\n\r\n        editorui.insertcode = function(editor, list, title) {\r\n            list = editor.options['insertcode'] || [];\r\n            title = editor.options.labelMap['insertcode'] || editor.getLang(\"labelMap.insertcode\") || '';\r\n            // if (!list.length) return;\r\n            var items = [];\r\n            utils.each(list, function(key, val) {\r\n                items.push({\r\n                    label: key,\r\n                    value: val,\r\n                    theme: editor.options.theme,\r\n                    renderLabelHtml: function() {\r\n                        return '<div class=\"edui-label %%-label\" >' + (this.label || '') + '</div>';\r\n                    }\r\n                });\r\n            });\r\n\r\n            var ui = new editorui.Combox({\r\n                editor: editor,\r\n                items: items,\r\n                onselect: function(t, index) {\r\n                    editor.execCommand('insertcode', this.items[index].value);\r\n                },\r\n                onbuttonclick: function() {\r\n                    this.showPopup();\r\n                },\r\n                title: title,\r\n                initValue: title,\r\n                className: 'edui-for-insertcode',\r\n                indexByValue: function(value) {\r\n                    if (value) {\r\n                        for (var i = 0, ci; ci = this.items[i]; i++) {\r\n                            if (ci.value.indexOf(value) != -1)\r\n                                return i;\r\n                        }\r\n                    }\r\n\r\n                    return -1;\r\n                }\r\n            });\r\n            editorui.buttons['insertcode'] = ui;\r\n            editor.addListener('selectionchange', function(type, causeByUi, uiReady) {\r\n                if (!uiReady) {\r\n                    var state = editor.queryCommandState('insertcode');\r\n                    if (state == -1) {\r\n                        ui.setDisabled(true);\r\n                    } else {\r\n                        ui.setDisabled(false);\r\n                        var value = editor.queryCommandValue('insertcode');\r\n                        if (!value) {\r\n                            ui.setValue(title);\r\n                            return;\r\n                        }\r\n                        //trace:1871 ie下从源码模式切换回来时，字体会带单引号，而且会有逗号\r\n                        value && (value = value.replace(/['\"]/g, '').split(',')[0]);\r\n                        ui.setValue(value);\r\n\r\n                    }\r\n                }\r\n\r\n            });\r\n            return ui;\r\n        };\r\n        editorui.fontfamily = function(editor, list, title) {\r\n\r\n            list = editor.options['fontfamily'] || [];\r\n            title = editor.options.labelMap['fontfamily'] || editor.getLang(\"labelMap.fontfamily\") || '';\r\n            if (!list.length) return;\r\n            for (var i = 0, ci, items = []; ci = list[i]; i++) {\r\n                var langLabel = editor.getLang('fontfamily')[ci.name] || \"\";\r\n                (function(key, val) {\r\n                    items.push({\r\n                        label: key,\r\n                        value: val,\r\n                        theme: editor.options.theme,\r\n                        renderLabelHtml: function() {\r\n                            return '<div class=\"edui-label %%-label\" style=\"font-family:' +\r\n                                utils.unhtml(this.value) + '\">' + (this.label || '') + '</div>';\r\n                        }\r\n                    });\r\n                })(ci.label || langLabel, ci.val)\r\n            }\r\n            var ui = new editorui.Combox({\r\n                editor: editor,\r\n                items: items,\r\n                onselect: function(t, index) {\r\n                    editor.execCommand('FontFamily', this.items[index].value);\r\n                },\r\n                onbuttonclick: function() {\r\n                    this.showPopup();\r\n                },\r\n                title: title,\r\n                initValue: title,\r\n                className: 'edui-for-fontfamily',\r\n                indexByValue: function(value) {\r\n                    if (value) {\r\n                        for (var i = 0, ci; ci = this.items[i]; i++) {\r\n                            if (ci.value.indexOf(value) != -1)\r\n                                return i;\r\n                        }\r\n                    }\r\n\r\n                    return -1;\r\n                }\r\n            });\r\n            editorui.buttons['fontfamily'] = ui;\r\n            editor.addListener('selectionchange', function(type, causeByUi, uiReady) {\r\n                if (!uiReady) {\r\n                    var state = editor.queryCommandState('FontFamily');\r\n                    if (state == -1) {\r\n                        ui.setDisabled(true);\r\n                    } else {\r\n                        ui.setDisabled(false);\r\n                        var value = editor.queryCommandValue('FontFamily');\r\n                        //trace:1871 ie下从源码模式切换回来时，字体会带单引号，而且会有逗号\r\n                        value && (value = value.replace(/['\"]/g, '').split(',')[0]);\r\n                        ui.setValue(value);\r\n\r\n                    }\r\n                }\r\n\r\n            });\r\n            return ui;\r\n        };\r\n\r\n        editorui.fontsize = function(editor, list, title) {\r\n            title = editor.options.labelMap['fontsize'] || editor.getLang(\"labelMap.fontsize\") || '';\r\n            list = list || editor.options['fontsize'] || [];\r\n            if (!list.length) return;\r\n            var items = [];\r\n            for (var i = 0; i < list.length; i++) {\r\n                var size = list[i] + 'px';\r\n                items.push({\r\n                    label: size,\r\n                    value: size,\r\n                    theme: editor.options.theme,\r\n                    renderLabelHtml: function() {\r\n                        return '<div class=\"edui-label %%-label\" style=\"line-height:1;font-size:' +\r\n                            this.value + '\">' + (this.label || '') + '</div>';\r\n                    }\r\n                });\r\n            }\r\n            var ui = new editorui.Combox({\r\n                editor: editor,\r\n                items: items,\r\n                title: title,\r\n                initValue: title,\r\n                onselect: function(t, index) {\r\n                    editor.execCommand('FontSize', this.items[index].value);\r\n                },\r\n                onbuttonclick: function() {\r\n                    this.showPopup();\r\n                },\r\n                className: 'edui-for-fontsize'\r\n            });\r\n            editorui.buttons['fontsize'] = ui;\r\n            editor.addListener('selectionchange', function(type, causeByUi, uiReady) {\r\n                if (!uiReady) {\r\n                    var state = editor.queryCommandState('FontSize');\r\n                    if (state == -1) {\r\n                        ui.setDisabled(true);\r\n                    } else {\r\n                        ui.setDisabled(false);\r\n                        ui.setValue(editor.queryCommandValue('FontSize'));\r\n                    }\r\n                }\r\n\r\n            });\r\n            return ui;\r\n        };\r\n\r\n        editorui.paragraph = function(editor, list, title) {\r\n            title = editor.options.labelMap['paragraph'] || editor.getLang(\"labelMap.paragraph\") || '';\r\n            list = editor.options['paragraph'] || [];\r\n            if (utils.isEmptyObject(list)) return;\r\n            var items = [];\r\n            for (var i in list) {\r\n                items.push({\r\n                    value: i,\r\n                    label: list[i] || editor.getLang(\"paragraph\")[i],\r\n                    theme: editor.options.theme,\r\n                    renderLabelHtml: function() {\r\n                        return '<div class=\"edui-label %%-label\"><span class=\"edui-for-' + this.value + '\">' + (this.label || '') + '</span></div>';\r\n                    }\r\n                })\r\n            }\r\n            var ui = new editorui.Combox({\r\n                editor: editor,\r\n                items: items,\r\n                title: title,\r\n                initValue: title,\r\n                className: 'edui-for-paragraph',\r\n                onselect: function(t, index) {\r\n                    editor.execCommand('Paragraph', this.items[index].value);\r\n                },\r\n                onbuttonclick: function() {\r\n                    this.showPopup();\r\n                }\r\n            });\r\n            editorui.buttons['paragraph'] = ui;\r\n            editor.addListener('selectionchange', function(type, causeByUi, uiReady) {\r\n                if (!uiReady) {\r\n                    var state = editor.queryCommandState('Paragraph');\r\n                    if (state == -1) {\r\n                        ui.setDisabled(true);\r\n                    } else {\r\n                        ui.setDisabled(false);\r\n                        var value = editor.queryCommandValue('Paragraph');\r\n                        var index = ui.indexByValue(value);\r\n                        if (index != -1) {\r\n                            ui.setValue(value);\r\n                        } else {\r\n                            ui.setValue(ui.initValue);\r\n                        }\r\n                    }\r\n                }\r\n\r\n            });\r\n            return ui;\r\n        };\r\n\r\n\r\n        //自定义标题\r\n        editorui.customstyle = function(editor) {\r\n            var list = editor.options['customstyle'] || [],\r\n                title = editor.options.labelMap['customstyle'] || editor.getLang(\"labelMap.customstyle\") || '';\r\n            if (!list.length) return;\r\n            var langCs = editor.getLang('customstyle');\r\n            for (var i = 0, items = [], t; t = list[i++];) {\r\n                (function(t) {\r\n                    var ck = {};\r\n                    ck.label = t.label ? t.label : langCs[t.name];\r\n                    ck.style = t.style;\r\n                    ck.className = t.className;\r\n                    ck.tag = t.tag;\r\n                    items.push({\r\n                        label: ck.label,\r\n                        value: ck,\r\n                        theme: editor.options.theme,\r\n                        renderLabelHtml: function() {\r\n                            return '<div class=\"edui-label %%-label\">' + '<' + ck.tag + ' ' + (ck.className ? ' class=\"' + ck.className + '\"' : \"\") +\r\n                                (ck.style ? ' style=\"' + ck.style + '\"' : \"\") + '>' + ck.label + \"<\\/\" + ck.tag + \">\" +\r\n                                '</div>';\r\n                        }\r\n                    });\r\n                })(t);\r\n            }\r\n\r\n            var ui = new editorui.Combox({\r\n                editor: editor,\r\n                items: items,\r\n                title: title,\r\n                initValue: title,\r\n                className: 'edui-for-customstyle',\r\n                onselect: function(t, index) {\r\n                    editor.execCommand('customstyle', this.items[index].value);\r\n                },\r\n                onbuttonclick: function() {\r\n                    this.showPopup();\r\n                },\r\n                indexByValue: function(value) {\r\n                    for (var i = 0, ti; ti = this.items[i++];) {\r\n                        if (ti.label == value) {\r\n                            return i - 1\r\n                        }\r\n                    }\r\n                    return -1;\r\n                }\r\n            });\r\n            editorui.buttons['customstyle'] = ui;\r\n            editor.addListener('selectionchange', function(type, causeByUi, uiReady) {\r\n                if (!uiReady) {\r\n                    var state = editor.queryCommandState('customstyle');\r\n                    if (state == -1) {\r\n                        ui.setDisabled(true);\r\n                    } else {\r\n                        ui.setDisabled(false);\r\n                        var value = editor.queryCommandValue('customstyle');\r\n                        var index = ui.indexByValue(value);\r\n                        if (index != -1) {\r\n                            ui.setValue(value);\r\n                        } else {\r\n                            ui.setValue(ui.initValue);\r\n                        }\r\n                    }\r\n                }\r\n\r\n            });\r\n            return ui;\r\n        };\r\n        editorui.inserttable = function(editor, iframeUrl, title) {\r\n            title = editor.options.labelMap['inserttable'] || editor.getLang(\"labelMap.inserttable\") || '';\r\n            var ui = new editorui.TableButton({\r\n                editor: editor,\r\n                title: title,\r\n                className: 'edui-for-inserttable',\r\n                onpicktable: function(t, numCols, numRows) {\r\n                    editor.execCommand('InsertTable', { numRows: numRows, numCols: numCols, border: 1 });\r\n                },\r\n                onbuttonclick: function() {\r\n                    this.showPopup();\r\n                }\r\n            });\r\n            editorui.buttons['inserttable'] = ui;\r\n            editor.addListener('selectionchange', function() {\r\n                ui.setDisabled(editor.queryCommandState('inserttable') == -1);\r\n            });\r\n            return ui;\r\n        };\r\n\r\n        editorui.lineheight = function(editor) {\r\n            var val = editor.options.lineheight || [];\r\n            if (!val.length) return;\r\n            for (var i = 0, ci, items = []; ci = val[i++];) {\r\n                items.push({\r\n                    //todo:写死了\r\n                    label: ci,\r\n                    value: ci,\r\n                    theme: editor.options.theme,\r\n                    onclick: function() {\r\n                        editor.execCommand(\"lineheight\", this.value);\r\n                    }\r\n                })\r\n            }\r\n            var ui = new editorui.MenuButton({\r\n                editor: editor,\r\n                className: 'edui-for-lineheight',\r\n                title: editor.options.labelMap['lineheight'] || editor.getLang(\"labelMap.lineheight\") || '',\r\n                items: items,\r\n                onbuttonclick: function() {\r\n                    var value = editor.queryCommandValue('LineHeight') || this.value;\r\n                    editor.execCommand(\"LineHeight\", value);\r\n                }\r\n            });\r\n            editorui.buttons['lineheight'] = ui;\r\n            editor.addListener('selectionchange', function() {\r\n                var state = editor.queryCommandState('LineHeight');\r\n                if (state == -1) {\r\n                    ui.setDisabled(true);\r\n                } else {\r\n                    ui.setDisabled(false);\r\n                    var value = editor.queryCommandValue('LineHeight');\r\n                    value && ui.setValue((value + '').replace(/cm/, ''));\r\n                    ui.setChecked(state)\r\n                }\r\n            });\r\n            return ui;\r\n        };\r\n\r\n        var rowspacings = ['top', 'bottom'];\r\n        for (var r = 0, ri; ri = rowspacings[r++];) {\r\n            (function(cmd) {\r\n                editorui['rowspacing' + cmd] = function(editor) {\r\n                    var val = editor.options['rowspacing' + cmd] || [];\r\n                    if (!val.length) return null;\r\n                    for (var i = 0, ci, items = []; ci = val[i++];) {\r\n                        items.push({\r\n                            label: ci,\r\n                            value: ci,\r\n                            theme: editor.options.theme,\r\n                            onclick: function() {\r\n                                editor.execCommand(\"rowspacing\", this.value, cmd);\r\n                            }\r\n                        })\r\n                    }\r\n                    var ui = new editorui.MenuButton({\r\n                        editor: editor,\r\n                        className: 'edui-for-rowspacing' + cmd,\r\n                        title: editor.options.labelMap['rowspacing' + cmd] || editor.getLang(\"labelMap.rowspacing\" + cmd) || '',\r\n                        items: items,\r\n                        onbuttonclick: function() {\r\n                            var value = editor.queryCommandValue('rowspacing', cmd) || this.value;\r\n                            editor.execCommand(\"rowspacing\", value, cmd);\r\n                        }\r\n                    });\r\n                    editorui.buttons[cmd] = ui;\r\n                    editor.addListener('selectionchange', function() {\r\n                        var state = editor.queryCommandState('rowspacing', cmd);\r\n                        if (state == -1) {\r\n                            ui.setDisabled(true);\r\n                        } else {\r\n                            ui.setDisabled(false);\r\n                            var value = editor.queryCommandValue('rowspacing', cmd);\r\n                            value && ui.setValue((value + '').replace(/%/, ''));\r\n                            ui.setChecked(state)\r\n                        }\r\n                    });\r\n                    return ui;\r\n                }\r\n            })(ri)\r\n        }\r\n        //有序，无序列表\r\n        var lists = ['insertorderedlist', 'insertunorderedlist'];\r\n        for (var l = 0, cl; cl = lists[l++];) {\r\n            (function(cmd) {\r\n                editorui[cmd] = function(editor) {\r\n                    var vals = editor.options[cmd],\r\n                        _onMenuClick = function() {\r\n                            editor.execCommand(cmd, this.value);\r\n                        },\r\n                        items = [];\r\n                    for (var i in vals) {\r\n                        items.push({\r\n                            label: vals[i] || editor.getLang()[cmd][i] || \"\",\r\n                            value: i,\r\n                            theme: editor.options.theme,\r\n                            onclick: _onMenuClick\r\n                        })\r\n                    }\r\n                    var ui = new editorui.MenuButton({\r\n                        editor: editor,\r\n                        className: 'edui-for-' + cmd,\r\n                        title: editor.getLang(\"labelMap.\" + cmd) || '',\r\n                        'items': items,\r\n                        onbuttonclick: function() {\r\n                            var value = editor.queryCommandValue(cmd) || this.value;\r\n                            editor.execCommand(cmd, value);\r\n                        }\r\n                    });\r\n                    editorui.buttons[cmd] = ui;\r\n                    editor.addListener('selectionchange', function() {\r\n                        var state = editor.queryCommandState(cmd);\r\n                        if (state == -1) {\r\n                            ui.setDisabled(true);\r\n                        } else {\r\n                            ui.setDisabled(false);\r\n                            var value = editor.queryCommandValue(cmd);\r\n                            ui.setValue(value);\r\n                            ui.setChecked(state)\r\n                        }\r\n                    });\r\n                    return ui;\r\n                };\r\n            })(cl)\r\n        }\r\n\r\n        editorui.fullscreen = function(editor, title) {\r\n            title = editor.options.labelMap['fullscreen'] || editor.getLang(\"labelMap.fullscreen\") || '';\r\n            var ui = new editorui.Button({\r\n                className: 'edui-for-fullscreen',\r\n                title: title,\r\n                theme: editor.options.theme,\r\n                onclick: function() {\r\n                    if (editor.ui) {\r\n                        editor.ui.setFullScreen(!editor.ui.isFullScreen());\r\n                    }\r\n                    this.setChecked(editor.ui.isFullScreen());\r\n                }\r\n            });\r\n            editorui.buttons['fullscreen'] = ui;\r\n            editor.addListener('selectionchange', function() {\r\n                var state = editor.queryCommandState('fullscreen');\r\n                ui.setDisabled(state == -1);\r\n                ui.setChecked(editor.ui.isFullScreen());\r\n            });\r\n            return ui;\r\n        };\r\n\r\n        // 表情\r\n        editorui[\"emotion\"] = function(editor, iframeUrl) {\r\n            var cmd = \"emotion\";\r\n            var ui = new editorui.MultiMenuPop({\r\n                title: editor.options.labelMap[cmd] || editor.getLang(\"labelMap.\" + cmd + \"\") || '',\r\n                editor: editor,\r\n                className: 'edui-for-' + cmd,\r\n                iframeUrl: editor.ui.mapUrl(iframeUrl || (editor.options.iframeUrlMap || {})[cmd] || iframeUrlMap[cmd])\r\n            });\r\n            editorui.buttons[cmd] = ui;\r\n\r\n            editor.addListener('selectionchange', function() {\r\n                ui.setDisabled(editor.queryCommandState(cmd) == -1)\r\n            });\r\n            return ui;\r\n        };\r\n\r\n        editorui.autotypeset = function(editor) {\r\n            var ui = new editorui.AutoTypeSetButton({\r\n                editor: editor,\r\n                title: editor.options.labelMap['autotypeset'] || editor.getLang(\"labelMap.autotypeset\") || '',\r\n                className: 'edui-for-autotypeset',\r\n                onbuttonclick: function() {\r\n                    editor.execCommand('autotypeset')\r\n                }\r\n            });\r\n            editorui.buttons['autotypeset'] = ui;\r\n            editor.addListener('selectionchange', function() {\r\n                ui.setDisabled(editor.queryCommandState('autotypeset') == -1);\r\n            });\r\n            return ui;\r\n        };\r\n\r\n        /* 简单上传插件 */\r\n        editorui[\"simpleupload\"] = function(editor) {\r\n            var name = 'simpleupload',\r\n                ui = new editorui.Button({\r\n                    className: 'edui-for-' + name,\r\n                    title: editor.options.labelMap[name] || editor.getLang(\"labelMap.\" + name) || '',\r\n                    onclick: function() {},\r\n                    theme: editor.options.theme,\r\n                    showText: false\r\n                });\r\n            editorui.buttons[name] = ui;\r\n            editor.addListener('ready', function() {\r\n                var b = ui.getDom('body'),\r\n                    iconSpan = b.children[0];\r\n                editor.fireEvent('simpleuploadbtnready', iconSpan);\r\n            });\r\n            editor.addListener('selectionchange', function(type, causeByUi, uiReady) {\r\n                var state = editor.queryCommandState(name);\r\n                if (state == -1) {\r\n                    ui.setDisabled(true);\r\n                    ui.setChecked(false);\r\n                } else {\r\n                    if (!uiReady) {\r\n                        ui.setDisabled(false);\r\n                        ui.setChecked(state);\r\n                    }\r\n                }\r\n            });\r\n            return ui;\r\n        };\r\n\r\n    })();\r\n\r\n\r\n    // adapter/editor.js\r\n    ///import core\r\n    ///commands 全屏\r\n    ///commandsName FullScreen\r\n    ///commandsTitle  全屏\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            domUtils = baidu.editor.dom.domUtils;\r\n        var nodeStack = [];\r\n\r\n        function EditorUI(options) {\r\n            this.initOptions(options);\r\n            this.initEditorUI();\r\n        }\r\n\r\n        EditorUI.prototype = {\r\n            uiName: 'editor',\r\n            initEditorUI: function() {\r\n                this.editor.ui = this;\r\n                this._dialogs = {};\r\n                this.initUIBase();\r\n                this._initToolbars();\r\n                var editor = this.editor,\r\n                    me = this;\r\n\r\n                editor.addListener('ready', function() {\r\n                    //提供getDialog方法\r\n                    editor.getDialog = function(name) {\r\n                        return editor.ui._dialogs[name + \"Dialog\"];\r\n                    };\r\n                    domUtils.on(editor.window, 'scroll', function(evt) {\r\n                        baidu.editor.ui.Popup.postHide(evt);\r\n                    });\r\n                    //提供编辑器实时宽高(全屏时宽高不变化)\r\n                    editor.ui._actualFrameWidth = editor.options.initialFrameWidth;\r\n\r\n                    UE.browser.ie && UE.browser.version === 6 && editor.container.ownerDocument.execCommand(\"BackgroundImageCache\", false, true);\r\n\r\n                    //display bottom-bar label based on config\r\n                    if (editor.options.elementPathEnabled) {\r\n                        editor.ui.getDom('elementpath').innerHTML = '<div class=\"edui-editor-breadcrumb\">' + editor.getLang(\"elementPathTip\") + ':</div>';\r\n                    }\r\n                    if (editor.options.wordCount) {\r\n                        function countFn() {\r\n                            setCount(editor, me);\r\n                            domUtils.un(editor.document, \"click\", arguments.callee);\r\n                        }\r\n                        domUtils.on(editor.document, \"click\", countFn);\r\n                        editor.ui.getDom('wordcount').innerHTML = editor.getLang(\"wordCountTip\");\r\n                    }\r\n                    editor.ui._scale();\r\n                    if (editor.options.scaleEnabled) {\r\n                        if (editor.autoHeightEnabled) {\r\n                            editor.disableAutoHeight();\r\n                        }\r\n                        me.enableScale();\r\n                    } else {\r\n                        me.disableScale();\r\n                    }\r\n                    if (!editor.options.elementPathEnabled && !editor.options.wordCount && !editor.options.scaleEnabled) {\r\n                        editor.ui.getDom('elementpath').style.display = \"none\";\r\n                        editor.ui.getDom('wordcount').style.display = \"none\";\r\n                        editor.ui.getDom('scale').style.display = \"none\";\r\n                    }\r\n\r\n                    if (!editor.selection.isFocus()) return;\r\n                    editor.fireEvent('selectionchange', false, true);\r\n\r\n\r\n                });\r\n\r\n                editor.addListener('mousedown', function(t, evt) {\r\n                    var el = evt.target || evt.srcElement;\r\n                    baidu.editor.ui.Popup.postHide(evt, el);\r\n                    baidu.editor.ui.ShortCutMenu.postHide(evt);\r\n\r\n                });\r\n                editor.addListener(\"delcells\", function() {\r\n                    if (UE.ui['edittip']) {\r\n                        new UE.ui['edittip'](editor);\r\n                    }\r\n                    editor.getDialog('edittip').open();\r\n                });\r\n\r\n                var pastePop, isPaste = false,\r\n                    timer;\r\n                editor.addListener(\"afterpaste\", function() {\r\n                    if (editor.queryCommandState('pasteplain'))\r\n                        return;\r\n                    if (baidu.editor.ui.PastePicker) {\r\n                        pastePop = new baidu.editor.ui.Popup({\r\n                            content: new baidu.editor.ui.PastePicker({ editor: editor }),\r\n                            editor: editor,\r\n                            className: 'edui-wordpastepop'\r\n                        });\r\n                        pastePop.render();\r\n                    }\r\n                    isPaste = true;\r\n                });\r\n\r\n                editor.addListener(\"afterinserthtml\", function() {\r\n                    clearTimeout(timer);\r\n                    timer = setTimeout(function() {\r\n                        if (pastePop && (isPaste || editor.ui._isTransfer)) {\r\n                            if (pastePop.isHidden()) {\r\n                                var span = domUtils.createElement(editor.document, 'span', {\r\n                                        'style': \"line-height:0px;\",\r\n                                        'innerHTML': '\\ufeff'\r\n                                    }),\r\n                                    range = editor.selection.getRange();\r\n                                range.insertNode(span);\r\n                                var tmp = getDomNode(span, 'firstChild', 'previousSibling');\r\n                                tmp && pastePop.showAnchor(tmp.nodeType == 3 ? tmp.parentNode : tmp);\r\n                                domUtils.remove(span);\r\n                            } else {\r\n                                pastePop.show();\r\n                            }\r\n                            delete editor.ui._isTransfer;\r\n                            isPaste = false;\r\n                        }\r\n                    }, 200)\r\n                });\r\n                editor.addListener('contextmenu', function(t, evt) {\r\n                    baidu.editor.ui.Popup.postHide(evt);\r\n                });\r\n                editor.addListener('keydown', function(t, evt) {\r\n                    if (pastePop) pastePop.dispose(evt);\r\n                    var keyCode = evt.keyCode || evt.which;\r\n                    if (evt.altKey && keyCode == 90) {\r\n                        UE.ui.buttons['fullscreen'].onclick();\r\n                    }\r\n                });\r\n                editor.addListener('wordcount', function(type) {\r\n                    setCount(this, me);\r\n                });\r\n\r\n                function setCount(editor, ui) {\r\n                    editor.setOpt({\r\n                        wordCount: true,\r\n                        maximumWords: 10000,\r\n                        wordCountMsg: editor.options.wordCountMsg || editor.getLang(\"wordCountMsg\"),\r\n                        wordOverFlowMsg: editor.options.wordOverFlowMsg || editor.getLang(\"wordOverFlowMsg\")\r\n                    });\r\n                    var opt = editor.options,\r\n                        max = opt.maximumWords,\r\n                        msg = opt.wordCountMsg,\r\n                        errMsg = opt.wordOverFlowMsg,\r\n                        countDom = ui.getDom('wordcount');\r\n                    if (!opt.wordCount) {\r\n                        return;\r\n                    }\r\n                    var count = editor.getContentLength(true);\r\n                    if (count > max) {\r\n                        countDom.innerHTML = errMsg;\r\n                        editor.fireEvent(\"wordcountoverflow\");\r\n                    } else {\r\n                        countDom.innerHTML = msg.replace(\"{#leave}\", max - count).replace(\"{#count}\", count);\r\n                    }\r\n                }\r\n\r\n                editor.addListener('selectionchange', function() {\r\n                    if (editor.options.elementPathEnabled) {\r\n                        me[(editor.queryCommandState('elementpath') == -1 ? 'dis' : 'en') + 'ableElementPath']()\r\n                    }\r\n                    if (editor.options.scaleEnabled) {\r\n                        me[(editor.queryCommandState('scale') == -1 ? 'dis' : 'en') + 'ableScale']();\r\n\r\n                    }\r\n                });\r\n                var popup = new baidu.editor.ui.Popup({\r\n                    editor: editor,\r\n                    content: '',\r\n                    className: 'edui-bubble',\r\n                    _onEditButtonClick: function() {\r\n                        this.hide();\r\n                        editor.ui._dialogs.linkDialog.open();\r\n                    },\r\n                    _onImgEditButtonClick: function(name) {\r\n                        this.hide();\r\n                        editor.ui._dialogs[name] && editor.ui._dialogs[name].open();\r\n\r\n                    },\r\n                    _onImgSetFloat: function(value) {\r\n                        this.hide();\r\n                        editor.execCommand(\"imagefloat\", value);\r\n\r\n                    },\r\n                    _setIframeAlign: function(value) {\r\n                        var frame = popup.anchorEl;\r\n                        var newFrame = frame.cloneNode(true);\r\n                        switch (value) {\r\n                            case -2:\r\n                                newFrame.setAttribute(\"align\", \"\");\r\n                                break;\r\n                            case -1:\r\n                                newFrame.setAttribute(\"align\", \"left\");\r\n                                break;\r\n                            case 1:\r\n                                newFrame.setAttribute(\"align\", \"right\");\r\n                                break;\r\n                        }\r\n                        frame.parentNode.insertBefore(newFrame, frame);\r\n                        domUtils.remove(frame);\r\n                        popup.anchorEl = newFrame;\r\n                        popup.showAnchor(popup.anchorEl);\r\n                    },\r\n                    _updateIframe: function() {\r\n                        var frame = editor._iframe = popup.anchorEl;\r\n                        if (domUtils.hasClass(frame, 'ueditor_baidumap')) {\r\n                            editor.selection.getRange().selectNode(frame).select();\r\n                            editor.ui._dialogs.mapDialog.open();\r\n                            popup.hide();\r\n                        } else {\r\n                            editor.ui._dialogs.insertframeDialog.open();\r\n                            popup.hide();\r\n                        }\r\n                    },\r\n                    _onRemoveButtonClick: function(cmdName) {\r\n                        editor.execCommand(cmdName);\r\n                        this.hide();\r\n                    },\r\n                    queryAutoHide: function(el) {\r\n                        if (el && el.ownerDocument == editor.document) {\r\n                            if (el.tagName.toLowerCase() == 'img' || domUtils.findParentByTagName(el, 'a', true)) {\r\n                                return el !== popup.anchorEl;\r\n                            }\r\n                        }\r\n                        return baidu.editor.ui.Popup.prototype.queryAutoHide.call(this, el);\r\n                    }\r\n                });\r\n                popup.render();\r\n                if (editor.options.imagePopup) {\r\n                    editor.addListener('mouseover', function(t, evt) {\r\n                        evt = evt || window.event;\r\n                        var el = evt.target || evt.srcElement;\r\n                        if (editor.ui._dialogs.insertframeDialog && /iframe/ig.test(el.tagName)) {\r\n                            var html = popup.formatHtml(\r\n                                '<nobr>' + editor.getLang(\"property\") + ': <span onclick=$$._setIframeAlign(-2) class=\"edui-clickable\">' + editor.getLang(\"default\") + '</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(-1) class=\"edui-clickable\">' + editor.getLang(\"justifyleft\") + '</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(1) class=\"edui-clickable\">' + editor.getLang(\"justifyright\") + '</span>&nbsp;&nbsp;' +\r\n                                ' <span onclick=\"$$._updateIframe( this);\" class=\"edui-clickable\">' + editor.getLang(\"modify\") + '</span></nobr>');\r\n                            if (html) {\r\n                                popup.getDom('content').innerHTML = html;\r\n                                popup.anchorEl = el;\r\n                                popup.showAnchor(popup.anchorEl);\r\n                            } else {\r\n                                popup.hide();\r\n                            }\r\n                        }\r\n                    });\r\n                    editor.addListener('selectionchange', function(t, causeByUi) {\r\n                        if (!causeByUi) return;\r\n                        var html = '',\r\n                            str = \"\",\r\n                            img = editor.selection.getRange().getClosedNode(),\r\n                            dialogs = editor.ui._dialogs;\r\n                        if (img && img.tagName == 'IMG') {\r\n                            var dialogName = 'insertimageDialog';\r\n                            if (img.className.indexOf(\"edui-faked-video\") != -1 || img.className.indexOf(\"edui-upload-video\") != -1) {\r\n                                dialogName = \"insertvideoDialog\"\r\n                            }\r\n                            if (img.className.indexOf(\"edui-faked-webapp\") != -1) {\r\n                                dialogName = \"webappDialog\"\r\n                            }\r\n                            if (img.src.indexOf(\"http://api.map.baidu.com\") != -1) {\r\n                                dialogName = \"mapDialog\"\r\n                            }\r\n                            if (img.className.indexOf(\"edui-faked-music\") != -1) {\r\n                                dialogName = \"musicDialog\"\r\n                            }\r\n                            if (img.src.indexOf(\"http://maps.google.com/maps/api/staticmap\") != -1) {\r\n                                dialogName = \"gmapDialog\"\r\n                            }\r\n                            if (img.getAttribute(\"anchorname\")) {\r\n                                dialogName = \"anchorDialog\";\r\n                                html = popup.formatHtml(\r\n                                    '<nobr>' + editor.getLang(\"property\") + ': <span onclick=$$._onImgEditButtonClick(\"anchorDialog\") class=\"edui-clickable\">' + editor.getLang(\"modify\") + '</span>&nbsp;&nbsp;' +\r\n                                    '<span onclick=$$._onRemoveButtonClick(\\'anchor\\') class=\"edui-clickable\">' + editor.getLang(\"delete\") + '</span></nobr>');\r\n                            }\r\n                            if (img.getAttribute(\"word_img\")) {\r\n                                //todo 放到dialog去做查询\r\n                                editor.word_img = [img.getAttribute(\"word_img\")];\r\n                                dialogName = \"wordimageDialog\"\r\n                            }\r\n                            if (domUtils.hasClass(img, 'loadingclass') || domUtils.hasClass(img, 'loaderrorclass')) {\r\n                                dialogName = \"\";\r\n                            }\r\n                            if (!dialogs[dialogName]) {\r\n                                return;\r\n                            }\r\n                            str = '<nobr>' + editor.getLang(\"property\") + ': ' +\r\n                                '<span onclick=$$._onImgSetFloat(\"none\") class=\"edui-clickable\">' + editor.getLang(\"default\") + '</span>&nbsp;&nbsp;' +\r\n                                '<span onclick=$$._onImgSetFloat(\"left\") class=\"edui-clickable\">' + editor.getLang(\"justifyleft\") + '</span>&nbsp;&nbsp;' +\r\n                                '<span onclick=$$._onImgSetFloat(\"right\") class=\"edui-clickable\">' + editor.getLang(\"justifyright\") + '</span>&nbsp;&nbsp;' +\r\n                                '<span onclick=$$._onImgSetFloat(\"center\") class=\"edui-clickable\">' + editor.getLang(\"justifycenter\") + '</span>&nbsp;&nbsp;' +\r\n                                '<span onclick=\"$$._onImgEditButtonClick(\\'' + dialogName + '\\');\" class=\"edui-clickable\">' + editor.getLang(\"modify\") + '</span></nobr>';\r\n\r\n                            !html && (html = popup.formatHtml(str))\r\n\r\n                        }\r\n                        if (editor.ui._dialogs.linkDialog) {\r\n                            var link = editor.queryCommandValue('link');\r\n                            var url;\r\n                            if (link && (url = (link.getAttribute('_href') || link.getAttribute('href', 2)))) {\r\n                                var txt = url;\r\n                                if (url.length > 30) {\r\n                                    txt = url.substring(0, 20) + \"...\";\r\n                                }\r\n                                if (html) {\r\n                                    html += '<div style=\"height:5px;\"></div>'\r\n                                }\r\n                                html += popup.formatHtml(\r\n                                    '<nobr>' + editor.getLang(\"anthorMsg\") + ': <a target=\"_blank\" href=\"' + url + '\" title=\"' + url + '\" >' + txt + '</a>' +\r\n                                    ' <span class=\"edui-clickable\" onclick=\"$$._onEditButtonClick();\">' + editor.getLang(\"modify\") + '</span>' +\r\n                                    ' <span class=\"edui-clickable\" onclick=\"$$._onRemoveButtonClick(\\'unlink\\');\"> ' + editor.getLang(\"clear\") + '</span></nobr>');\r\n                                popup.showAnchor(link);\r\n                            }\r\n                        }\r\n\r\n                        if (html) {\r\n                            popup.getDom('content').innerHTML = html;\r\n                            popup.anchorEl = img || link;\r\n                            popup.showAnchor(popup.anchorEl);\r\n                        } else {\r\n                            popup.hide();\r\n                        }\r\n                    });\r\n                }\r\n\r\n            },\r\n            _initToolbars: function() {\r\n                var editor = this.editor;\r\n                var toolbars = this.toolbars || [];\r\n                var toolbarUis = [];\r\n                for (var i = 0; i < toolbars.length; i++) {\r\n                    var toolbar = toolbars[i];\r\n                    var toolbarUi = new baidu.editor.ui.Toolbar({ theme: editor.options.theme });\r\n                    for (var j = 0; j < toolbar.length; j++) {\r\n                        var toolbarItem = toolbar[j];\r\n                        var toolbarItemUi = null;\r\n                        if (typeof toolbarItem == 'string') {\r\n                            toolbarItem = toolbarItem.toLowerCase();\r\n                            if (toolbarItem == '|') {\r\n                                toolbarItem = 'Separator';\r\n                            }\r\n                            if (toolbarItem == '||') {\r\n                                toolbarItem = 'Breakline';\r\n                            }\r\n                            if (baidu.editor.ui[toolbarItem]) {\r\n                                toolbarItemUi = new baidu.editor.ui[toolbarItem](editor);\r\n                            }\r\n\r\n                            //fullscreen这里单独处理一下，放到首行去\r\n                            if (toolbarItem == 'fullscreen') {\r\n                                if (toolbarUis && toolbarUis[0]) {\r\n                                    toolbarUis[0].items.splice(0, 0, toolbarItemUi);\r\n                                } else {\r\n                                    toolbarItemUi && toolbarUi.items.splice(0, 0, toolbarItemUi);\r\n                                }\r\n\r\n                                continue;\r\n\r\n\r\n                            }\r\n                        } else {\r\n                            toolbarItemUi = toolbarItem;\r\n                        }\r\n                        if (toolbarItemUi && toolbarItemUi.id) {\r\n\r\n                            toolbarUi.add(toolbarItemUi);\r\n                        }\r\n                    }\r\n                    toolbarUis[i] = toolbarUi;\r\n                }\r\n\r\n                //接受外部定制的UI\r\n\r\n                utils.each(UE._customizeUI, function(obj, key) {\r\n                    var itemUI, index;\r\n                    if (obj.id && obj.id != editor.key) {\r\n                        return false;\r\n                    }\r\n                    itemUI = obj.execFn.call(editor, editor, key);\r\n                    if (itemUI) {\r\n                        index = obj.index;\r\n                        if (index === undefined) {\r\n                            index = toolbarUi.items.length;\r\n                        }\r\n                        toolbarUi.add(itemUI, index)\r\n                    }\r\n                });\r\n\r\n                this.toolbars = toolbarUis;\r\n            },\r\n            getHtmlTpl: function() {\r\n                return '<div id=\"##\" class=\"%%\">' +\r\n                    '<div id=\"##_toolbarbox\" class=\"%%-toolbarbox\">' +\r\n                    (this.toolbars.length ?\r\n                        '<div id=\"##_toolbarboxouter\" class=\"%%-toolbarboxouter\"><div class=\"%%-toolbarboxinner\">' +\r\n                        this.renderToolbarBoxHtml() +\r\n                        '</div></div>' : '') +\r\n                    '<div id=\"##_toolbarmsg\" class=\"%%-toolbarmsg\" style=\"display:none;\">' +\r\n                    '<div id = \"##_upload_dialog\" class=\"%%-toolbarmsg-upload\" onclick=\"$$.showWordImageDialog();\">' + this.editor.getLang(\"clickToUpload\") + '</div>' +\r\n                    '<div class=\"%%-toolbarmsg-close\" onclick=\"$$.hideToolbarMsg();\">x</div>' +\r\n                    '<div id=\"##_toolbarmsg_label\" class=\"%%-toolbarmsg-label\"></div>' +\r\n                    '<div style=\"height:0;overflow:hidden;clear:both;\"></div>' +\r\n                    '</div>' +\r\n                    '<div id=\"##_message_holder\" class=\"%%-messageholder\"></div>' +\r\n                    '</div>' +\r\n                    '<div id=\"##_iframeholder\" class=\"%%-iframeholder\">' +\r\n                    '</div>' +\r\n                    //modify wdcount by matao\r\n                    '<div id=\"##_bottombar\" class=\"%%-bottomContainer\"><table><tr>' +\r\n                    '<td id=\"##_elementpath\" class=\"%%-bottombar\"></td>' +\r\n                    '<td id=\"##_wordcount\" class=\"%%-wordcount\"></td>' +\r\n                    '<td id=\"##_scale\" class=\"%%-scale\"><div class=\"%%-icon\"></div></td>' +\r\n                    '</tr></table></div>' +\r\n                    '<div id=\"##_scalelayer\"></div>' +\r\n                    '</div>';\r\n            },\r\n            showWordImageDialog: function() {\r\n                this._dialogs['wordimageDialog'].open();\r\n            },\r\n            renderToolbarBoxHtml: function() {\r\n                var buff = [];\r\n                for (var i = 0; i < this.toolbars.length; i++) {\r\n                    buff.push(this.toolbars[i].renderHtml());\r\n                }\r\n                return buff.join('');\r\n            },\r\n            setFullScreen: function(fullscreen) {\r\n\r\n                var editor = this.editor,\r\n                    container = editor.container.parentNode.parentNode;\r\n                if (this._fullscreen != fullscreen) {\r\n                    this._fullscreen = fullscreen;\r\n                    this.editor.fireEvent('beforefullscreenchange', fullscreen);\r\n                    if (baidu.editor.browser.gecko) {\r\n                        var bk = editor.selection.getRange().createBookmark();\r\n                    }\r\n                    if (fullscreen) {\r\n                        while (container.tagName != \"BODY\") {\r\n                            var position = baidu.editor.dom.domUtils.getComputedStyle(container, \"position\");\r\n                            nodeStack.push(position);\r\n                            container.style.position = \"static\";\r\n                            container = container.parentNode;\r\n                        }\r\n                        this._bakHtmlOverflow = document.documentElement.style.overflow;\r\n                        this._bakBodyOverflow = document.body.style.overflow;\r\n                        this._bakAutoHeight = this.editor.autoHeightEnabled;\r\n                        this._bakScrollTop = Math.max(document.documentElement.scrollTop, document.body.scrollTop);\r\n\r\n                        this._bakEditorContaninerWidth = editor.iframe.parentNode.offsetWidth;\r\n                        if (this._bakAutoHeight) {\r\n                            //当全屏时不能执行自动长高\r\n                            editor.autoHeightEnabled = false;\r\n                            this.editor.disableAutoHeight();\r\n                        }\r\n\r\n                        document.documentElement.style.overflow = 'hidden';\r\n                        //修复，滚动条不收起的问题\r\n\r\n                        window.scrollTo(0, window.scrollY);\r\n                        this._bakCssText = this.getDom().style.cssText;\r\n                        this._bakCssText1 = this.getDom('iframeholder').style.cssText;\r\n                        editor.iframe.parentNode.style.width = '';\r\n                        this._updateFullScreen();\r\n                    } else {\r\n                        while (container.tagName != \"BODY\") {\r\n                            container.style.position = nodeStack.shift();\r\n                            container = container.parentNode;\r\n                        }\r\n                        this.getDom().style.cssText = this._bakCssText;\r\n                        this.getDom('iframeholder').style.cssText = this._bakCssText1;\r\n                        if (this._bakAutoHeight) {\r\n                            editor.autoHeightEnabled = true;\r\n                            this.editor.enableAutoHeight();\r\n                        }\r\n\r\n                        document.documentElement.style.overflow = this._bakHtmlOverflow;\r\n                        document.body.style.overflow = this._bakBodyOverflow;\r\n                        editor.iframe.parentNode.style.width = this._bakEditorContaninerWidth + 'px';\r\n                        window.scrollTo(0, this._bakScrollTop);\r\n                    }\r\n                    if (browser.gecko && editor.body.contentEditable === 'true') {\r\n                        var input = document.createElement('input');\r\n                        document.body.appendChild(input);\r\n                        editor.body.contentEditable = false;\r\n                        setTimeout(function() {\r\n                            input.focus();\r\n                            setTimeout(function() {\r\n                                editor.body.contentEditable = true;\r\n                                editor.fireEvent('fullscreenchanged', fullscreen);\r\n                                editor.selection.getRange().moveToBookmark(bk).select(true);\r\n                                baidu.editor.dom.domUtils.remove(input);\r\n                                fullscreen && window.scroll(0, 0);\r\n                            }, 0)\r\n                        }, 0)\r\n                    }\r\n\r\n                    if (editor.body.contentEditable === 'true') {\r\n                        this.editor.fireEvent('fullscreenchanged', fullscreen);\r\n                        this.triggerLayout();\r\n                    }\r\n\r\n                }\r\n            },\r\n            _updateFullScreen: function() {\r\n                if (this._fullscreen) {\r\n                    var vpRect = uiUtils.getViewportRect();\r\n                    this.getDom().style.cssText = 'border:0;position:absolute;left:0;top:' + (this.editor.options.topOffset || 0) + 'px;width:' + vpRect.width + 'px;height:' + vpRect.height + 'px;z-index:' + (this.getDom().style.zIndex * 1 + 100);\r\n                    uiUtils.setViewportOffset(this.getDom(), { left: 0, top: this.editor.options.topOffset || 0 });\r\n                    this.editor.setHeight(vpRect.height - this.getDom('toolbarbox').offsetHeight - this.getDom('bottombar').offsetHeight - (this.editor.options.topOffset || 0), true);\r\n                    //不手动调一下，会导致全屏失效\r\n                    if (browser.gecko) {\r\n                        try {\r\n                            window.onresize();\r\n                        } catch (e) {\r\n\r\n                        }\r\n\r\n                    }\r\n                }\r\n            },\r\n            _updateElementPath: function() {\r\n                var bottom = this.getDom('elementpath'),\r\n                    list;\r\n                if (this.elementPathEnabled && (list = this.editor.queryCommandValue('elementpath'))) {\r\n\r\n                    var buff = [];\r\n                    for (var i = 0, ci; ci = list[i]; i++) {\r\n                        buff[i] = this.formatHtml('<span unselectable=\"on\" onclick=\"$$.editor.execCommand(&quot;elementpath&quot;, &quot;' + i + '&quot;);\">' + ci + '</span>');\r\n                    }\r\n                    bottom.innerHTML = '<div class=\"edui-editor-breadcrumb\" onmousedown=\"return false;\">' + this.editor.getLang(\"elementPathTip\") + ': ' + buff.join(' &gt; ') + '</div>';\r\n\r\n                } else {\r\n                    bottom.style.display = 'none'\r\n                }\r\n            },\r\n            disableElementPath: function() {\r\n                var bottom = this.getDom('elementpath');\r\n                bottom.innerHTML = '';\r\n                bottom.style.display = 'none';\r\n                this.elementPathEnabled = false;\r\n\r\n            },\r\n            enableElementPath: function() {\r\n                var bottom = this.getDom('elementpath');\r\n                bottom.style.display = '';\r\n                this.elementPathEnabled = true;\r\n                this._updateElementPath();\r\n            },\r\n            _scale: function() {\r\n                var doc = document,\r\n                    editor = this.editor,\r\n                    editorHolder = editor.container,\r\n                    editorDocument = editor.document,\r\n                    toolbarBox = this.getDom(\"toolbarbox\"),\r\n                    bottombar = this.getDom(\"bottombar\"),\r\n                    scale = this.getDom(\"scale\"),\r\n                    scalelayer = this.getDom(\"scalelayer\");\r\n\r\n                var isMouseMove = false,\r\n                    position = null,\r\n                    minEditorHeight = 0,\r\n                    minEditorWidth = editor.options.minFrameWidth,\r\n                    pageX = 0,\r\n                    pageY = 0,\r\n                    scaleWidth = 0,\r\n                    scaleHeight = 0;\r\n\r\n                function down() {\r\n                    position = domUtils.getXY(editorHolder);\r\n\r\n                    if (!minEditorHeight) {\r\n                        minEditorHeight = editor.options.minFrameHeight + toolbarBox.offsetHeight + bottombar.offsetHeight;\r\n                    }\r\n\r\n                    scalelayer.style.cssText = \"position:absolute;left:0;display:;top:0;background-color:#41ABFF;opacity:0.4;filter: Alpha(opacity=40);width:\" + editorHolder.offsetWidth + \"px;height:\" +\r\n                        editorHolder.offsetHeight + \"px;z-index:\" + (editor.options.zIndex + 1);\r\n\r\n                    domUtils.on(doc, \"mousemove\", move);\r\n                    domUtils.on(editorDocument, \"mouseup\", up);\r\n                    domUtils.on(doc, \"mouseup\", up);\r\n                }\r\n\r\n                var me = this;\r\n                //by xuheng 全屏时关掉缩放\r\n                this.editor.addListener('fullscreenchanged', function(e, fullScreen) {\r\n                    if (fullScreen) {\r\n                        me.disableScale();\r\n\r\n                    } else {\r\n                        if (me.editor.options.scaleEnabled) {\r\n                            me.enableScale();\r\n                            var tmpNode = me.editor.document.createElement('span');\r\n                            me.editor.body.appendChild(tmpNode);\r\n                            me.editor.body.style.height = Math.max(domUtils.getXY(tmpNode).y, me.editor.iframe.offsetHeight - 20) + 'px';\r\n                            domUtils.remove(tmpNode)\r\n                        }\r\n                    }\r\n                });\r\n\r\n                function move(event) {\r\n                    clearSelection();\r\n                    var e = event || window.event;\r\n                    pageX = e.pageX || (doc.documentElement.scrollLeft + e.clientX);\r\n                    pageY = e.pageY || (doc.documentElement.scrollTop + e.clientY);\r\n                    scaleWidth = pageX - position.x;\r\n                    scaleHeight = pageY - position.y;\r\n\r\n                    if (scaleWidth >= minEditorWidth) {\r\n                        isMouseMove = true;\r\n                        scalelayer.style.width = scaleWidth + 'px';\r\n                    }\r\n                    if (scaleHeight >= minEditorHeight) {\r\n                        isMouseMove = true;\r\n                        scalelayer.style.height = scaleHeight + \"px\";\r\n                    }\r\n                }\r\n\r\n                function up() {\r\n                    if (isMouseMove) {\r\n                        isMouseMove = false;\r\n                        editor.ui._actualFrameWidth = scalelayer.offsetWidth - 2;\r\n                        editorHolder.style.width = editor.ui._actualFrameWidth + 'px';\r\n\r\n                        editor.setHeight(scalelayer.offsetHeight - bottombar.offsetHeight - toolbarBox.offsetHeight - 2, true);\r\n                    }\r\n                    if (scalelayer) {\r\n                        scalelayer.style.display = \"none\";\r\n                    }\r\n                    clearSelection();\r\n                    domUtils.un(doc, \"mousemove\", move);\r\n                    domUtils.un(editorDocument, \"mouseup\", up);\r\n                    domUtils.un(doc, \"mouseup\", up);\r\n                }\r\n\r\n                function clearSelection() {\r\n                    if (browser.ie)\r\n                        doc.selection.clear();\r\n                    else\r\n                        window.getSelection().removeAllRanges();\r\n                }\r\n\r\n                this.enableScale = function() {\r\n                    //trace:2868\r\n                    if (editor.queryCommandState(\"source\") == 1) return;\r\n                    scale.style.display = \"\";\r\n                    this.scaleEnabled = true;\r\n                    domUtils.on(scale, \"mousedown\", down);\r\n                };\r\n                this.disableScale = function() {\r\n                    scale.style.display = \"none\";\r\n                    this.scaleEnabled = false;\r\n                    domUtils.un(scale, \"mousedown\", down);\r\n                };\r\n            },\r\n            isFullScreen: function() {\r\n                return this._fullscreen;\r\n            },\r\n            postRender: function() {\r\n                UIBase.prototype.postRender.call(this);\r\n                for (var i = 0; i < this.toolbars.length; i++) {\r\n                    this.toolbars[i].postRender();\r\n                }\r\n                var me = this;\r\n                var timerId,\r\n                    domUtils = baidu.editor.dom.domUtils,\r\n                    updateFullScreenTime = function() {\r\n                        clearTimeout(timerId);\r\n                        timerId = setTimeout(function() {\r\n                            me._updateFullScreen();\r\n                        });\r\n                    };\r\n                domUtils.on(window, 'resize', updateFullScreenTime);\r\n\r\n                me.addListener('destroy', function() {\r\n                    domUtils.un(window, 'resize', updateFullScreenTime);\r\n                    clearTimeout(timerId);\r\n                })\r\n            },\r\n            showToolbarMsg: function(msg, flag) {\r\n                this.getDom('toolbarmsg_label').innerHTML = msg;\r\n                this.getDom('toolbarmsg').style.display = '';\r\n                //\r\n                if (!flag) {\r\n                    var w = this.getDom('upload_dialog');\r\n                    w.style.display = 'none';\r\n                }\r\n            },\r\n            hideToolbarMsg: function() {\r\n                this.getDom('toolbarmsg').style.display = 'none';\r\n            },\r\n            mapUrl: function(url) {\r\n                return url ? url.replace('~/', this.editor.options.UEDITOR_HOME_URL || '') : ''\r\n            },\r\n            triggerLayout: function() {\r\n                var dom = this.getDom();\r\n                if (dom.style.zoom == '1') {\r\n                    dom.style.zoom = '100%';\r\n                } else {\r\n                    dom.style.zoom = '1';\r\n                }\r\n            }\r\n        };\r\n        utils.inherits(EditorUI, baidu.editor.ui.UIBase);\r\n\r\n\r\n        var instances = {};\r\n\r\n\r\n        UE.ui.Editor = function(options) {\r\n            var editor = new UE.Editor(options);\r\n            editor.options.editor = editor;\r\n            utils.loadFile(document, {\r\n                href: editor.options.themePath + editor.options.theme + \"/css/ueditor.css\",\r\n                tag: \"link\",\r\n                type: \"text/css\",\r\n                rel: \"stylesheet\"\r\n            });\r\n\r\n            var oldRender = editor.render;\r\n            editor.render = function(holder) {\r\n                if (holder.constructor === String) {\r\n                    editor.key = holder;\r\n                    instances[holder] = editor;\r\n                }\r\n                utils.domReady(function() {\r\n                    editor.langIsReady ? renderUI() : editor.addListener(\"langReady\", renderUI);\r\n\r\n                    function renderUI() {\r\n                        editor.setOpt({\r\n                            labelMap: editor.options.labelMap || editor.getLang('labelMap')\r\n                        });\r\n                        new EditorUI(editor.options);\r\n                        if (holder) {\r\n                            if (holder.constructor === String) {\r\n                                holder = document.getElementById(holder);\r\n                            }\r\n                            holder && holder.getAttribute('name') && (editor.options.textarea = holder.getAttribute('name'));\r\n                            if (holder && /script|textarea/ig.test(holder.tagName)) {\r\n                                var newDiv = document.createElement('div');\r\n                                holder.parentNode.insertBefore(newDiv, holder);\r\n                                var cont = holder.value || holder.innerHTML;\r\n                                editor.options.initialContent = /^[\\t\\r\\n ]*$/.test(cont) ? editor.options.initialContent :\r\n                                    cont.replace(/>[\\n\\r\\t]+([ ]{4})+/g, '>')\r\n                                    .replace(/[\\n\\r\\t]+([ ]{4})+</g, '<')\r\n                                    .replace(/>[\\n\\r\\t]+</g, '><');\r\n                                holder.className && (newDiv.className = holder.className);\r\n                                holder.style.cssText && (newDiv.style.cssText = holder.style.cssText);\r\n                                if (/textarea/i.test(holder.tagName)) {\r\n                                    editor.textarea = holder;\r\n                                    editor.textarea.style.display = 'none';\r\n\r\n\r\n                                } else {\r\n                                    holder.parentNode.removeChild(holder);\r\n\r\n\r\n                                }\r\n                                if (holder.id) {\r\n                                    newDiv.id = holder.id;\r\n                                    domUtils.removeAttributes(holder, 'id');\r\n                                }\r\n                                holder = newDiv;\r\n                                holder.innerHTML = '';\r\n                            }\r\n\r\n                        }\r\n                        domUtils.addClass(holder, \"edui-\" + editor.options.theme);\r\n                        editor.ui.render(holder);\r\n                        var opt = editor.options;\r\n                        //给实例添加一个编辑器的容器引用\r\n                        editor.container = editor.ui.getDom();\r\n                        var parents = domUtils.findParents(holder, true);\r\n                        var displays = [];\r\n                        for (var i = 0, ci; ci = parents[i]; i++) {\r\n                            displays[i] = ci.style.display;\r\n                            ci.style.display = 'block'\r\n                        }\r\n                        if (opt.initialFrameWidth) {\r\n                            opt.minFrameWidth = opt.initialFrameWidth;\r\n                        } else {\r\n                            opt.minFrameWidth = opt.initialFrameWidth = holder.offsetWidth;\r\n                            var styleWidth = holder.style.width;\r\n                            if (/%$/.test(styleWidth)) {\r\n                                opt.initialFrameWidth = styleWidth;\r\n                            }\r\n                        }\r\n                        if (opt.initialFrameHeight) {\r\n                            opt.minFrameHeight = opt.initialFrameHeight;\r\n                        } else {\r\n                            opt.initialFrameHeight = opt.minFrameHeight = holder.offsetHeight;\r\n                        }\r\n                        for (var i = 0, ci; ci = parents[i]; i++) {\r\n                            ci.style.display = displays[i]\r\n                        }\r\n                        //编辑器最外容器设置了高度，会导致，编辑器不占位\r\n                        //todo 先去掉，没有找到原因\r\n                        if (holder.style.height) {\r\n                            holder.style.height = ''\r\n                        }\r\n                        editor.container.style.width = opt.initialFrameWidth + (/%$/.test(opt.initialFrameWidth) ? '' : 'px');\r\n                        editor.container.style.zIndex = opt.zIndex;\r\n                        oldRender.call(editor, editor.ui.getDom('iframeholder'));\r\n                        editor.fireEvent(\"afteruiready\");\r\n                    }\r\n                })\r\n            };\r\n            return editor;\r\n        };\r\n\r\n\r\n        /**\r\n         * @file\r\n         * @name UE\r\n         * @short UE\r\n         * @desc UEditor的顶部命名空间\r\n         */\r\n        /**\r\n         * @name getEditor\r\n         * @since 1.2.4+\r\n         * @grammar UE.getEditor(id,[opt])  =>  Editor实例\r\n         * @desc 提供一个全局的方法得到编辑器实例\r\n         *\r\n         * * ''id''  放置编辑器的容器id, 如果容器下的编辑器已经存在，就直接返回\r\n         * * ''opt'' 编辑器的可选参数\r\n         * @example\r\n         *  UE.getEditor('containerId',{onready:function(){//创建一个编辑器实例\r\n         *      this.setContent('hello')\r\n         *  }});\r\n         *  UE.getEditor('containerId'); //返回刚创建的实例\r\n         *\r\n         */\r\n        UE.getEditor = function(id, opt) {\r\n            var editor = instances[id];\r\n            if (!editor) {\r\n                editor = instances[id] = new UE.ui.Editor(opt);\r\n                editor.render(id);\r\n            }\r\n            return editor;\r\n        };\r\n\r\n\r\n        UE.delEditor = function(id) {\r\n            var editor;\r\n            if (editor = instances[id]) {\r\n                editor.key && editor.destroy();\r\n                delete instances[id]\r\n            }\r\n        };\r\n\r\n        UE.registerUI = function(uiName, fn, index, editorId) {\r\n            utils.each(uiName.split(/\\s+/), function(name) {\r\n                UE._customizeUI[name] = {\r\n                    id: editorId,\r\n                    execFn: fn,\r\n                    index: index\r\n                };\r\n            })\r\n\r\n        }\r\n\r\n    })();\r\n\r\n    // adapter/message.js\r\n    UE.registerUI('message', function(editor) {\r\n\r\n        var editorui = baidu.editor.ui;\r\n        var Message = editorui.Message;\r\n        var holder;\r\n        var _messageItems = [];\r\n        var me = editor;\r\n\r\n        me.addListener('ready', function() {\r\n            holder = document.getElementById(me.ui.id + '_message_holder');\r\n            updateHolderPos();\r\n            setTimeout(function() {\r\n                updateHolderPos();\r\n            }, 500);\r\n        });\r\n\r\n        me.addListener('showmessage', function(type, opt) {\r\n            opt = utils.isString(opt) ? {\r\n                'content': opt\r\n            } : opt;\r\n            var message = new Message({\r\n                    'timeout': opt.timeout,\r\n                    'type': opt.type,\r\n                    'content': opt.content,\r\n                    'keepshow': opt.keepshow,\r\n                    'editor': me\r\n                }),\r\n                mid = opt.id || ('msg_' + (+new Date()).toString(36));\r\n            message.render(holder);\r\n            _messageItems[mid] = message;\r\n            message.reset(opt);\r\n            updateHolderPos();\r\n            return mid;\r\n        });\r\n\r\n        me.addListener('updatemessage', function(type, id, opt) {\r\n            opt = utils.isString(opt) ? {\r\n                'content': opt\r\n            } : opt;\r\n            var message = _messageItems[id];\r\n            message.render(holder);\r\n            message && message.reset(opt);\r\n        });\r\n\r\n        me.addListener('hidemessage', function(type, id) {\r\n            var message = _messageItems[id];\r\n            message && message.hide();\r\n        });\r\n\r\n        function updateHolderPos() {\r\n            var toolbarbox = me.ui.getDom('toolbarbox');\r\n            if (toolbarbox) {\r\n                holder.style.top = toolbarbox.offsetHeight + 3 + 'px';\r\n            }\r\n            holder.style.zIndex = Math.max(me.options.zIndex, me.iframe.style.zIndex) + 1;\r\n        }\r\n\r\n    });\r\n\r\n\r\n    // adapter/autosave.js\r\n    UE.registerUI('autosave', function(editor) {\r\n        var timer = null,\r\n            uid = null;\r\n        editor.on('afterautosave', function() {\r\n            clearTimeout(timer);\r\n\r\n            timer = setTimeout(function() {\r\n                if (uid) {\r\n                    editor.trigger('hidemessage', uid);\r\n                }\r\n                uid = editor.trigger('showmessage', {\r\n                    content: editor.getLang('autosave.success'),\r\n                    timeout: 2000\r\n                });\r\n\r\n            }, 2000)\r\n        })\r\n\r\n    });\r\n\r\n\r\n\r\n})();\n\n/***/ }),\n\n/***/ \"HZMF\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_tree_vue__ = __webpack_require__(\"+vXQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_6173fac4_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_tree_vue__ = __webpack_require__(\"MoCZ\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"aqPd\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6173fac4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_tree_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_6173fac4_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_tree_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"Hi1u\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__dataTranslate_js__ = __webpack_require__(\"aUnt\");\n/*\n* @Author: sunlandong\n* @Date:   2017-03-11 12:06:55\n* @Last Modified by:   sunlandong\n* @Last Modified time: 2017-03-11 16:36:56\n*/\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\tMSDataTransfer: __WEBPACK_IMPORTED_MODULE_0__dataTranslate_js__[\"a\" /* default */]\n});\n\n/***/ }),\n\n/***/ \"IcnI\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"5vqR\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(\"Gwb+\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app__ = __webpack_require__(\"cpjA\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__store__ = __webpack_require__(\"wtEF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__getters__ = __webpack_require__(\"UjVw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__targetConstant__ = __webpack_require__(\"AeYD\");\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vuex__[\"a\" /* default */].Store({\n  modules: {\n    app: __WEBPACK_IMPORTED_MODULE_2__app__[\"a\" /* default */],\n    targetConstant: __WEBPACK_IMPORTED_MODULE_5__targetConstant__[\"a\" /* default */],\n    store: __WEBPACK_IMPORTED_MODULE_3__store__[\"a\" /* default */]\n  },\n  getters: __WEBPACK_IMPORTED_MODULE_4__getters__[\"a\" /* default */]\n}));\n\n/***/ }),\n\n/***/ \"JBQq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(\"rVsN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios__ = __webpack_require__(\"BMa3\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__vueutil__ = __webpack_require__(\"aaZk\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__main_js__ = __webpack_require__(\"NHnr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__util__ = __webpack_require__(\"yt7g\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_element_ui__ = __webpack_require__(\"xYCT\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_element_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_element_ui__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__router__ = __webpack_require__(\"YaEn\");\n\n\n\n\n\n\n\n\n\n//axios配置\n__WEBPACK_IMPORTED_MODULE_1_axios___default.a.defaults.timeout = 50000;\n__WEBPACK_IMPORTED_MODULE_1_axios___default.a.defaults.withCredentials = true;\n__WEBPACK_IMPORTED_MODULE_1_axios___default.a.defaults.baseURL = \"\"; //设置开发时跨域求后台数据的基础url;\n__WEBPACK_IMPORTED_MODULE_1_axios___default.a.defaults.headers['Content-Type'] = 'application/json;charset=UTF-8';\n\nvar loginOut = function loginOut() {\n    window.sessionStorage.clear();\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__util__[\"p\" /* delCookie */])('name');\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__util__[\"p\" /* delCookie */])('st');\n    window.location.href = __WEBPACK_IMPORTED_MODULE_2__vueutil__[\"a\" /* default */].prototype.homePage;\n};\n\n// let loadingTime;\nvar loading = void 0;\n//axios request 拦截器\n__WEBPACK_IMPORTED_MODULE_1_axios___default.a.interceptors.request.use(function (config) {\n    var token = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__util__[\"a\" /* getCookie */])('st'); //获取Cookie\n    //todo 打包后要改\n    // if (!token) {\n    //     loginOut();\n    // }\n    //如果传入noLoading为真值,那么就没有loading效果\n    if (!config.noLoading) {\n        loading = config.loadingTarget;\n        if (config.loadingTarget && !(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__util__[\"d\" /* varType */])(config.loadingTarget) === \"number\")) {\n            // loadingTime = new Date().getTime();\n            config.loadingTarget.openLoading();\n        } else {\n            try {\n                __WEBPACK_IMPORTED_MODULE_3__main_js__[\"default\"].$store.commit(\"setLoading\", config.loadingTarget || 2);\n            } catch (error) {\n                console.log(error);\n            }\n        }\n    }\n    // if (typeof config.resoureType === \"undefined\") {\n    //     config.headers[\"mm\"] = vm.$route.query.id;\n    // } else {\n    //     config.headers[\"mm\"] = config.resoureType;\n    // }\n    return config;\n}, function (err) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.reject(err);\n});\n\n//axios response  拦截器\n__WEBPACK_IMPORTED_MODULE_1_axios___default.a.interceptors.response.use(function (response) {\n    var config = response.config;\n    if (!config.noLoading) {\n        var fn = config.loadingTarget ? function () {\n            config.loadingTarget.closeLoading();\n        } : function () {\n            __WEBPACK_IMPORTED_MODULE_3__main_js__[\"default\"].$store.commit(\"setLoading\", 0);\n        };\n        setTimeout(function () {\n            fn();\n        }, 500);\n    }\n    return response;\n}, function (error) {\n    setTimeout(function () {\n        if (loading) {\n            loading.closeLoading();\n        } else {\n            __WEBPACK_IMPORTED_MODULE_3__main_js__[\"default\"].$store.commit(\"setLoading\", 0);\n        }\n    }, 500);\n    switch (error.response.status) {\n        case 40201:\n            //todo 打包后要改\n            loginOut();\n            break;\n        case 40301:\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_element_ui__[\"Message\"])({\n                showClose: true,\n                message: '该资源不存在！',\n                type: 'error',\n                duration: 5 * 1000\n            });\n            break;\n        case 40302:\n            __WEBPACK_IMPORTED_MODULE_5_element_ui__[\"MessageBox\"].alert('危险行为,操作已被拦截!', '警告', {\n                type: 'warning',\n                confirmButtonText: '确定'\n            });\n            break;\n        case 40303:\n            __WEBPACK_IMPORTED_MODULE_5_element_ui__[\"MessageBox\"].confirm('账号在另一个地方登录,是否需要重新定义', '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(function () {\n                //todo 打包后要改\n                loginOut();\n            });\n            break;\n        case 40304:\n            //TODO 定向到服务器拒绝页面\n            window.location.href = 'err.html';\n            break;\n        case 502:\n            loginOut();\n            break;\n    }\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.reject(error.response.data);\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_1_axios___default.a);\n\n/***/ }),\n\n/***/ \"Jd5Q\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-button', {\n    attrs: {\n      \"icon\": \"arrow-left\",\n      \"plain\": \"\"\n    },\n    on: {\n      \"click\": _vm.pre\n    }\n  }), _vm._v(\" \"), _c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择\"\n    },\n    on: {\n      \"change\": _vm.selectChange\n    },\n    model: {\n      value: (_vm.value),\n      callback: function($$v) {\n        _vm.value = $$v\n      },\n      expression: \"value\"\n    }\n  }, _vm._l((_vm.options), function(item) {\n    return _c('el-option', {\n      key: item.value,\n      attrs: {\n        \"label\": item.label,\n        \"value\": item.value\n      }\n    })\n  })), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"icon\": \"arrow-right\"\n    },\n    on: {\n      \"click\": _vm.next\n    }\n  })], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"JxFB\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"LJik\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_echarts__ = __webpack_require__(\"KsGq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_echarts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_echarts__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mixins_resize__ = __webpack_require__(\"19xR\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util__ = __webpack_require__(\"ZoQJ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util_util__ = __webpack_require__(\"yt7g\");\n//\n//\n//\n//\n//\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  mixins: [__WEBPACK_IMPORTED_MODULE_1__mixins_resize__[\"a\" /* default */]],\n  props: {\n    className: {\n      type: String,\n      default: \"chart\"\n    },\n    legendDisplace: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    id: {\n      type: String,\n      default: \"chart\"\n    },\n    width: {\n      type: String,\n      default: \"100%\"\n    },\n    height: {\n      type: String,\n      default: \"250px\"\n    },\n    title: {\n      type: String\n    },\n    lineData: {\n      type: Object\n    },\n    // legend属性\n    label: {\n      type: String,\n      default: \"name\"\n    },\n    unit: {\n      type: String,\n      default: \"targetUnit\"\n    },\n    // 数值属性\n    valueKey: {\n      type: String,\n      default: \"dataValue\"\n    },\n    // x轴属性\n    xAxisKey: {\n      type: String,\n      default: \"dataTime\"\n    },\n    // 多y轴显示\n    nyAxis: {\n      type: [Number, Array],\n      default: 1\n    },\n    // 是否数据堆叠\n    isStack: {\n      type: Boolean,\n      defautl: false\n    },\n    // 是否支持区域缩放\n    hasDataZoom: {\n      type: Boolean,\n      default: false\n    },\n    isStep: {\n      type: Boolean,\n      default: false\n    },\n    type: {\n      type: String,\n      default: \"line\" // line bar\n    },\n    // x轴显示时格式化\n    xAxisFormat: {\n      type: [String] // 是否需要格式化\n    },\n    // 生成x轴时时间的格式化\n    format: {\n      type: String\n    },\n    // 数据里的时间格式化，用于同比环比，label相同，时间类似的情况\n    legendFormat: {\n      type: String\n    },\n    // 对象数组\n    dataLists: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    dateTime: {\n      // 不传[以data的xAxisKey为准]，时间字符串[2017、2017-01、2017-01-01]或用逗号分隔的开始结束时间，时间数组[自定义x轴]\n      type: [String, Array]\n    },\n    // otherAttr: {\n    //   type: Object,\n    //   default() {\n    //     return {\n    //       unit: \"targetUnit\"\n    //     };\n    //   }\n    // },\n    // 20180904 自定义目标值、标杆值、及排序\n    lineDataAttr: {\n      type: Array,\n      default: function _default() {\n        return [\"target\", \"benchmark\", \"quota\"];\n      }\n    },\n\n    // echart的其他属性\n    cusProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  data: function data() {\n    return {\n      chart: null,\n      xAxis: [], // 用作显示\n      truexAxis: [], // 用作比较日期数据\n      options: {} // 整个对象\n    };\n  },\n\n  watch: {\n    dataLists: {\n      handler: function handler(lists) {\n        var _this = this;\n\n        if (this.dataLists.length === 0) {\n          document.getElementById(this.id).innerHTML = this.chartNoData();\n          return;\n        }\n        this.truexAxis = [];\n        this.calcTime(this.dateTime);\n        var legend = [];\n        var series = [];\n        var xAxis = [];\n        var yAxis = [];\n        // x轴根据时间生成\n        if (this.dateTime) {\n          this.$each(lists, function (item) {\n            var trueName = _this.legendDisplace[item[_this.label]] // 判断其真实名字\n            ? _this.legendDisplace[item[_this.label]] : item[_this.label] || _this.label;\n            if (_this.legendFormat) {\n              trueName = _this.$moment(trueName, _this.legendFormat);\n            }\n            var serieIndex = legend.indexOf(trueName); // 判断产品数量\n            var dataIndex = -1; // 判断在x轴上哪个点\n            // 格式化下x轴样式\n            if (_this.xAxisFormat) {\n              dataIndex = _this.xAxis.indexOf(_this.$moment(new Date(item[_this.xAxisKey]), _this.xAxisFormat));\n            } else {\n              dataIndex = _this.xAxis.indexOf(item[_this.xAxisKey]);\n            }\n            if (serieIndex === -1) {\n              var yAxisIndex = yAxis.length - 1; // 显示在第几轴上\n              if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util_util__[\"d\" /* varType */])(_this.nyAxis) === \"array\") {\n                var nyIndex = series.length;\n                if (nyIndex <= Math.max.apply(null, _this.nyAxis) && !yAxis[nyIndex]) {\n                  var i = yAxis.length;\n                  yAxis.push({\n                    type: \"value\", // 类型\n                    name: \"(\" + (item[_this.unit] || _this.unit || \"-\") + \")\", // y轴顶部的名称（这里放单位）\n                    axisTick: {\n                      show: false\n                    },\n                    position: i === 0 ? \"left\" : \"right\",\n                    offset: i === 0 ? \"\" : 50 * (i - 1), // 位置\n                    // splitNumber: 10, // 分割线数量\n                    splitLine: {\n                      show: i === 0\n                    },\n                    axisLabel: {\n                      margin: 10,\n                      textStyle: {\n                        fontSize: 14\n                      }\n                    }\n                  });\n                  yAxisIndex = _this.nyAxis[nyIndex];\n                }\n              } else {\n                if (yAxis.length < _this.nyAxis) {\n                  var _i = yAxis.length;\n                  yAxis.push({\n                    type: \"value\", // 类型\n                    name: \"(\" + (item[_this.unit] || _this.unit || \"-\") + \")\", // y轴顶部的名称（这里放单位）\n                    axisTick: {\n                      show: false\n                    },\n                    position: _i === 0 ? \"left\" : \"right\",\n                    offset: _i === 0 ? \"\" : 50 * (_i - 1), // 位置\n                    // splitNumber: 10, // 分割线数量\n                    splitLine: {\n                      show: _i === 0\n                    },\n                    axisLabel: {\n                      margin: 10,\n                      textStyle: {\n                        fontSize: 14\n                      }\n                    }\n                  });\n                  yAxisIndex = _i;\n                }\n              }\n              legend.push(trueName);\n              series.push({\n                stack: _this.isStack ? \"one\" : null,\n                yAxisIndex: yAxisIndex,\n                smooth: !_this.isStep,\n                step: _this.isStep,\n                name: trueName,\n                type: _this.type,\n                data: Array(_this.xAxis.length).fill(\"-\")\n              });\n              serieIndex = legend.length - 1;\n            }\n            if (dataIndex === -1) {\n              console.warn(item[_this.xAxisKey] + \"不存在x轴。\", _this.xAxis);\n            } else {\n              series[serieIndex].data[dataIndex] = item[_this.valueKey];\n            }\n          });\n          xAxis = this.xAxis;\n        } else {\n          var newLists = this.sortData(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util_util__[\"l\" /* deepJSONCopy */])(lists));\n          this.$each(newLists, function (item, index) {\n            var trueName = _this.legendDisplace[item[_this.label]] // 判断其真实名字\n            ? _this.legendDisplace[item[_this.label]] : item[_this.label] || _this.label;\n            var serieIndex = legend.indexOf(trueName); // 判断产品数量\n\n            // 格式化下x轴样式\n            var formatXAis = _this.xAxisFormat ? _this.$moment(new Date(item[_this.xAxisKey]), _this.xAxisFormat) : item[_this.xAxisKey];\n            var dataIndex = xAxis.indexOf(formatXAis); // 判断在x轴上哪个点\n            if (serieIndex === -1) {\n              var yAxisIndex = yAxis.length - 1; // 显示在第几轴上\n              // 是否多Y轴\n              if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util_util__[\"d\" /* varType */])(_this.nyAxis) === \"array\") {\n                var nyIndex = series.length;\n                if (nyIndex <= Math.max.apply(null, _this.nyAxis) && !yAxis[nyIndex]) {\n                  var i = yAxis.length;\n                  yAxis.push({\n                    type: \"value\", // 类型\n                    name: \"(\" + (item[_this.unit] || _this.unit || \"-\") + \")\", // y轴顶部的名称（这里放单位）\n                    axisTick: {\n                      show: false\n                    },\n                    position: i === 0 ? \"left\" : \"right\",\n                    offset: i === 0 ? \"\" : 50 * (i - 1), // 位置\n                    // splitNumber: 10, // 分割线数量\n                    splitLine: {\n                      show: i === 0\n                    },\n                    axisLabel: {\n                      margin: 10,\n                      textStyle: {\n                        fontSize: 14\n                      }\n                    }\n                  });\n                  yAxisIndex = _this.nyAxis[nyIndex];\n                }\n              } else {\n                if (yAxis.length < _this.nyAxis) {\n                  var _i2 = yAxis.length;\n                  yAxis.push({\n                    type: \"value\",\n                    name: \"(\" + (item[_this.unit] || _this.unit || \"-\") + \")\",\n                    axisTick: {\n                      show: false\n                    },\n                    position: _i2 === 0 ? \"left\" : \"right\",\n                    offset: _i2 === 0 ? \"\" : 50 * (_i2 - 1), // 位置\n                    // splitNumber: 10, // 分割线数量\n                    splitLine: {\n                      show: _i2 === 0\n                    },\n                    axisLabel: {\n                      margin: 10,\n                      textStyle: {\n                        fontSize: 14\n                      }\n                    }\n                  });\n                  yAxisIndex = _i2;\n                }\n              }\n              legend.push(trueName);\n              series.push({\n                stack: _this.isStack ? \"one\" : null,\n                yAxisIndex: yAxisIndex,\n                name: trueName,\n                type: _this.type,\n                smooth: !_this.isStep,\n                step: _this.isStep,\n                data: Array(xAxis.length).fill(\"-\")\n              });\n              serieIndex = legend.length - 1;\n            }\n            // 判断该坐标系是否有坐标点\n            if (dataIndex === -1) {\n              xAxis.push(formatXAis);\n              _this.truexAxis.push(item[_this.xAxisKey]);\n              _this.$each(series, function (item) {\n                item.data.push(\"-\");\n              });\n              dataIndex = xAxis.length - 1;\n            }\n            series[serieIndex].data[dataIndex] = item[_this.valueKey];\n          });\n          this.xAxis = xAxis;\n        }\n        this.initChart(xAxis, legend, yAxis, series);\n      },\n\n      deep: true\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (!this.chart) {\n      return;\n    }\n    this.chart.dispose();\n    this.chart = null;\n  },\n\n  // computed: {\n  //   unit() {\n  //     return this.dataLists[0][this.unit];\n  //   }\n  // },\n  methods: {\n    // 设置目标值、标杆值、定额值\n    setLineData: function setLineData() {\n      var _this2 = this;\n\n      var series = [];\n      var legend = [];\n      var xAxis = this.truexAxis;\n\n      // 默认值\n      var lineDataAttr = {\n        target: {\n          name: \"目标值\",\n          yIndex: 0,\n          attr: \"target\",\n          color: \"#2eff2e\"\n        },\n        benchmark: {\n          name: \"标杆值\",\n          yIndex: 0,\n          attr: \"benchmark\",\n          color: \"#2eff2e\"\n        },\n        quota: {\n          name: \"定额值\",\n          yIndex: 0,\n          attr: \"quota\",\n          color: \"#c23531\"\n        }\n      };\n\n      this.lineDataAttr.forEach(function (item) {\n        var seriesInitObj = {};\n        var attr = \"\";\n        var j = 0;\n        if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util_util__[\"d\" /* varType */])(item) === \"string\") {\n          attr = item;\n          seriesInitObj = lineDataAttr[item];\n        } else if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util_util__[\"d\" /* varType */])(item) === \"object\") {\n          attr = item.attr;\n          seriesInitObj = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util_util__[\"h\" /* extend */])({}, lineDataAttr[item.attr], item);\n        } else {\n          console.warn(\"传值错误，请重新填\");\n          return false;\n        }\n        var orginData = _this2.lineData[attr];\n        var dealData = new Array(xAxis.length).fill(\"-\");\n        if (orginData && orginData.length > 0) {\n          for (var i = 0, len = orginData.length; i < len; i++) {\n            var sTime = new Date(orginData[i].startTime).getTime();\n            var eTime = new Date(orginData[i].endTime).getTime();\n            for (; j < xAxis.length; j++) {\n              var curTime = new Date(xAxis[j]).getTime();\n              if (curTime >= sTime) {\n                if (curTime <= eTime) {\n                  dealData[j] = orginData[i].value;\n                } else {\n                  break;\n                }\n              }\n            }\n          }\n          series.push({\n            id: attr,\n            name: seriesInitObj.name,\n            type: _this2.type,\n            itemStyle: {\n              normal: {\n                color: seriesInitObj.color\n              }\n            },\n            yAxisIndex: seriesInitObj.yIndex,\n            data: dealData\n          });\n          legend.push(seriesInitObj.name);\n        }\n      });\n\n      return {\n        series: series,\n        legend: legend\n      };\n    },\n    sortData: function sortData(lists) {\n      var _this3 = this;\n\n      return lists.sort(function (a, b) {\n        var aToTime = new Date(a[_this3.xAxisKey]);\n        var bToTime = new Date(b[_this3.xAxisKey]);\n        if (aToTime > bToTime) {\n          return 1;\n        } else if (aToTime < bToTime) {\n          return -1;\n        } else {\n          return 0;\n        }\n      });\n    },\n    beforeDestroy: function beforeDestroy() {\n      if (!this.chart) {\n        return;\n      }\n      this.chart.dispose();\n      this.chart = null;\n    },\n    xAxisFormatter: function xAxisFormatter(value, index) {\n      if (isNaN(Number(value))) {\n        return value;\n      }\n      var date = new Date(Number(value));\n      if (isNaN(date.getTime())) {\n        date = value;\n      } else {\n        date = this.$moment(date, \"YYYY-MM-DD\");\n      }\n      return date;\n    },\n    calcTime: function calcTime(value) {\n      var _this4 = this;\n\n      if (this.dateTime && __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util_util__[\"d\" /* varType */])(this.dateTime) === \"string\") {\n        var timeFormat = value;\n        if (this.format) {\n          timeFormat = value.split(\",\").map(function (item) {\n            return _this4.$moment(new Date(item), _this4.format);\n          }).join(\",\");\n        }\n        if (this.xAxisFormat) {\n          this.xAxis = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__util__[\"b\" /* dateCalcRound */])(timeFormat).map(function (item) {\n            _this4.truexAxis.push(item);\n            return _this4.$moment(new Date(item), _this4.xAxisFormat);\n          });\n        } else {\n          this.xAxis = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__util__[\"b\" /* dateCalcRound */])(timeFormat);\n          this.truexAxis = [].concat(timeFormat);\n        }\n      } else if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util_util__[\"d\" /* varType */])(this.dateTime) === \"array\") {\n        this.xAxis = this.dateTime;\n      }\n    },\n    changeTarget: function changeTarget(data) {\n      var _this5 = this;\n\n      this.lineData = data;\n      var benchmark = this.setLineData();\n      var index = -1;\n      var seriesData = this.options.series;\n      var legend = this.options.legend;\n      this.$each(benchmark.series, function (item, j) {\n        var index = -1;\n        _this5.$each(seriesData, function (serie, i) {\n          if (serie.id === item.id) {\n            index = i;\n            seriesData[i] = item;\n            legend[i] = benchmark.legend[j];\n          }\n        });\n        if (index === -1) {\n          seriesData.push(item);\n          legend.push(benchmark.legend[j]);\n        }\n      });\n      this.chart.setOption(this.options, true);\n    },\n    initChart: function initChart(xAxis, legend, yAxis, series) {\n      if (this.chart) {\n        this.beforeDestroy();\n      }\n\n      // 增加目标值 标杆值\n      if (this.lineData) {\n        var benchmark = this.setLineData();\n        series = series.concat(benchmark.series);\n        legend = legend.concat(benchmark.legend);\n      }\n\n      this.chart = __WEBPACK_IMPORTED_MODULE_0_echarts___default.a.init(document.getElementById(this.id), \"shine\");\n      var me = this;\n      var obj = {\n        title: {\n          top: 20,\n          text: this.title,\n          textStyle: {\n            fontWeight: \"normal\",\n            fontSize: 16\n          },\n          left: \"30%\"\n        },\n        tooltip: {\n          trigger: \"axis\",\n          // formatter: (params, ticket, callback) => {\n          //   console.log(params);\n\n          //   return \"111\";\n          // },\n          axisPointer: {\n            type: \"cross\",\n            animation: false,\n            label: {\n              backgroundColor: \"#505765\"\n            }\n          }\n        },\n        legend: {\n          top: 20,\n          icon: \"rect\",\n          itemWidth: 14,\n          itemHeight: 5,\n          itemGap: 13,\n          data: legend,\n          right: \"4%\",\n          textStyle: {\n            fontSize: 12\n            // color: \"#F1F1F3\"\n          }\n        },\n        grid: {\n          // top: 100,\n          left: \"3%\",\n          right: \"4%\",\n          bottom: \"2%\",\n          containLabel: true\n        },\n        xAxis: [{\n          type: \"category\",\n          boundaryGap: this.type === \"line\" ? false : true,\n          axisLine: {\n            lineStyle: {\n              // color: \"#57617B\"\n            }\n          },\n          axisLabel: {\n            // formatter(value, index) {\n            //   return me.xAxisFormatter(value, index);\n            // }\n          },\n          data: xAxis\n        }],\n        yAxis: yAxis,\n        series: series\n      };\n      // 是否数据缩放\n      if (this.hasDataZoom) {\n        obj.dataZoom = [{\n          show: true,\n          realtime: true,\n          start: 65,\n          end: 85\n        }, {\n          type: \"inside\",\n          realtime: true,\n          start: 65,\n          end: 85\n        }];\n        obj.grid = {\n          bottom: 60\n        };\n      }\n\n      // 暴露echart属性给用户修改\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util_util__[\"h\" /* extend */])(obj, this.cusProps);\n      this.options = obj;\n      this.chart.setOption(obj, true);\n    }\n  },\n  mounted: function mounted() {\n    // if (this.dateTime) {\n    //   this.calcTime(this.dateTime);\n    // }\n  }\n});\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"ZCen\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_c0e0d0a0_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"jLBv\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"QXYD\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_c0e0d0a0_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"MB9r\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"sys_echart\",\n    style: (_vm.echartStyle),\n    attrs: {\n      \"id\": _vm.id\n    },\n    on: {\n      \"click\": _vm.selectedEchart,\n      \"resize\": _vm.handleResize\n    }\n  })\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"MGpf\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_gaugeChart_vue__ = __webpack_require__(\"0t37\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_150f0820_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_gaugeChart_vue__ = __webpack_require__(\"Xz3D\");\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_gaugeChart_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_150f0820_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_gaugeChart_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"MoCZ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"base-tree\",\n    style: ({\n      height: _vm.height + 'px'\n    })\n  }, [(_vm.load) ? _c('el-tree', {\n    ref: \"loadTree\",\n    attrs: {\n      \"data\": _vm.data,\n      \"props\": _vm.props,\n      \"show-checkbox\": _vm.showCheckbox,\n      \"default-expand-all\": _vm.defaultExpand,\n      \"expand-on-click-node\": _vm.expandOnClickNode,\n      \"node-key\": _vm.defaultKeys.nodeKey,\n      \"check-strictly\": _vm.checkStrictly,\n      \"default-expanded-keys\": _vm.defaultKeys.expandedKeys,\n      \"default-checked-keys\": _vm.defaultKeys.checkedKeys,\n      \"highlight-current\": \"\",\n      \"load\": _vm.loadNode,\n      \"render-content\": _vm.renderContent\n    },\n    on: {\n      \"node-click\": _vm.handleNodeClick,\n      \"check-change\": _vm.checkChange,\n      \"current-change\": _vm.currentChange,\n      \"node-expand\": _vm.nodeExpand\n    }\n  }) : _c('el-tree', {\n    ref: \"noLoadTree\",\n    attrs: {\n      \"props\": _vm.props,\n      \"data\": _vm.data,\n      \"show-checkbox\": _vm.showCheckbox,\n      \"highlight-current\": \"\",\n      \"filter-node-method\": _vm.filterNodeMethod,\n      \"render-content\": _vm.renderContent,\n      \"node-key\": \"id\",\n      \"default-expanded-keys\": _vm.defaultKeys.expandedKeys,\n      \"default-expand-all\": _vm.defaultExpand,\n      \"check-strictly\": _vm.checkStrictly,\n      \"expand-on-click-node\": _vm.expandOnClickNode,\n      \"default-checked-keys\": _vm.defaultKeys.checkedKeys\n    },\n    on: {\n      \"node-click\": _vm.handleNodeClick,\n      \"check-change\": _vm.checkChange,\n      \"current-change\": _vm.currentChange,\n      \"node-expand\": _vm.nodeExpand\n    }\n  })], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"NAuE\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"panel\",\n    style: ({\n      width: _vm.width,\n      margin: _vm.margin,\n      padding: _vm.padValue,\n      'min-width': _vm.minWidth\n    })\n  }, [_vm._t(\"head\", [(!_vm.noHead) ? _c('div', {\n    staticClass: \"panel-head\"\n  }, [(_vm.icon || _vm.title) ? _c('h4', {\n    staticClass: \"panel-title\"\n  }, [(_vm.icon) ? _c('i', {\n    class: _vm.icon\n  }) : _vm._e(), _vm._v(_vm._s(_vm.title))]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"panel-search\"\n  }, [_vm._t(\"search\")], 2)]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.isLoading),\n      expression: \"isLoading\"\n    }],\n    staticClass: \"panel-body clearfix\",\n    style: ({\n      height: _vm.height,\n      'max-height': _vm.maxHeight,\n      padding: _vm.padContValue,\n      'min-height': _vm.minHeight,\n      'border': _vm.border ? '1px solid #78adfe' : false,\n      overflow: _vm.overflow\n    })\n  }, [_vm._t(\"default\")], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"panel-footer\"\n  }, [_vm._t(\"footer\")], 2)], 2)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_es6_typed_array_buffer__ = __webpack_require__(\"ia3s\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_es6_typed_array_buffer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_core_js_modules_es6_typed_array_buffer__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_core_js_modules_es6_typed_int8_array__ = __webpack_require__(\"QH75\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_core_js_modules_es6_typed_int8_array___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_core_js_modules_es6_typed_int8_array__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_core_js_modules_es6_typed_uint8_array__ = __webpack_require__(\"AnOY\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_core_js_modules_es6_typed_uint8_array___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_core_js_modules_es6_typed_uint8_array__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_core_js_modules_es6_typed_uint8_clamped_array__ = __webpack_require__(\"7t8C\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_core_js_modules_es6_typed_uint8_clamped_array___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_core_js_modules_es6_typed_uint8_clamped_array__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_core_js_modules_es6_typed_int16_array__ = __webpack_require__(\"cZqP\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_core_js_modules_es6_typed_int16_array___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_core_js_modules_es6_typed_int16_array__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_core_js_modules_es6_typed_uint16_array__ = __webpack_require__(\"q/BM\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_core_js_modules_es6_typed_uint16_array___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_core_js_modules_es6_typed_uint16_array__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_core_js_modules_es6_typed_int32_array__ = __webpack_require__(\"NAUZ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_core_js_modules_es6_typed_int32_array___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_core_js_modules_es6_typed_int32_array__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_core_js_modules_es6_typed_uint32_array__ = __webpack_require__(\"K7WV\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_core_js_modules_es6_typed_uint32_array___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_core_js_modules_es6_typed_uint32_array__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_core_js_modules_es6_typed_float32_array__ = __webpack_require__(\"ivps\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_core_js_modules_es6_typed_float32_array___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_core_js_modules_es6_typed_float32_array__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_core_js_modules_es6_typed_float64_array__ = __webpack_require__(\"veIw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_core_js_modules_es6_typed_float64_array___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_core_js_modules_es6_typed_float64_array__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_core_js_modules_es6_map__ = __webpack_require__(\"7Nxi\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_core_js_modules_es6_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_core_js_modules_es6_map__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_core_js_modules_es6_set__ = __webpack_require__(\"m6EO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_core_js_modules_es6_set___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_core_js_modules_es6_set__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_core_js_modules_es6_weak_map__ = __webpack_require__(\"53Hj\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_core_js_modules_es6_weak_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_core_js_modules_es6_weak_map__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_core_js_modules_es6_weak_set__ = __webpack_require__(\"vSjE\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_core_js_modules_es6_weak_set___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_core_js_modules_es6_weak_set__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_core_js_modules_es6_reflect_apply__ = __webpack_require__(\"vqZS\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_core_js_modules_es6_reflect_apply___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_core_js_modules_es6_reflect_apply__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_core_js_modules_es6_reflect_construct__ = __webpack_require__(\"nQLz\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_core_js_modules_es6_reflect_construct___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15_core_js_modules_es6_reflect_construct__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16_core_js_modules_es6_reflect_define_property__ = __webpack_require__(\"BMQg\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16_core_js_modules_es6_reflect_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_16_core_js_modules_es6_reflect_define_property__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17_core_js_modules_es6_reflect_delete_property__ = __webpack_require__(\"OGXH\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17_core_js_modules_es6_reflect_delete_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_17_core_js_modules_es6_reflect_delete_property__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18_core_js_modules_es6_reflect_get__ = __webpack_require__(\"8Fok\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18_core_js_modules_es6_reflect_get___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_18_core_js_modules_es6_reflect_get__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19_core_js_modules_es6_reflect_get_own_property_descriptor__ = __webpack_require__(\"PogR\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19_core_js_modules_es6_reflect_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_19_core_js_modules_es6_reflect_get_own_property_descriptor__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20_core_js_modules_es6_reflect_get_prototype_of__ = __webpack_require__(\"q1bm\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20_core_js_modules_es6_reflect_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_20_core_js_modules_es6_reflect_get_prototype_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21_core_js_modules_es6_reflect_has__ = __webpack_require__(\"pssl\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21_core_js_modules_es6_reflect_has___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_21_core_js_modules_es6_reflect_has__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22_core_js_modules_es6_reflect_is_extensible__ = __webpack_require__(\"4RhV\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22_core_js_modules_es6_reflect_is_extensible___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_22_core_js_modules_es6_reflect_is_extensible__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23_core_js_modules_es6_reflect_own_keys__ = __webpack_require__(\"y3O2\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23_core_js_modules_es6_reflect_own_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_23_core_js_modules_es6_reflect_own_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24_core_js_modules_es6_reflect_prevent_extensions__ = __webpack_require__(\"y2Az\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24_core_js_modules_es6_reflect_prevent_extensions___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_24_core_js_modules_es6_reflect_prevent_extensions__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25_core_js_modules_es6_reflect_set__ = __webpack_require__(\"m+qX\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25_core_js_modules_es6_reflect_set___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_25_core_js_modules_es6_reflect_set__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26_core_js_modules_es6_reflect_set_prototype_of__ = __webpack_require__(\"O9py\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26_core_js_modules_es6_reflect_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_26_core_js_modules_es6_reflect_set_prototype_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27_core_js_modules_es6_promise__ = __webpack_require__(\"kjtK\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27_core_js_modules_es6_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_27_core_js_modules_es6_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28_core_js_modules_es6_symbol__ = __webpack_require__(\"bP1z\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28_core_js_modules_es6_symbol___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_28_core_js_modules_es6_symbol__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29_core_js_modules_es6_object_assign__ = __webpack_require__(\"VUoK\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29_core_js_modules_es6_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_29_core_js_modules_es6_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30_core_js_modules_es6_object_is__ = __webpack_require__(\"r/HP\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30_core_js_modules_es6_object_is___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_30_core_js_modules_es6_object_is__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31_core_js_modules_es6_object_set_prototype_of__ = __webpack_require__(\"qYoT\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31_core_js_modules_es6_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_31_core_js_modules_es6_object_set_prototype_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32_core_js_modules_es6_function_name__ = __webpack_require__(\"hL7+\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32_core_js_modules_es6_function_name___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_32_core_js_modules_es6_function_name__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33_core_js_modules_es6_string_raw__ = __webpack_require__(\"DST7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33_core_js_modules_es6_string_raw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_33_core_js_modules_es6_string_raw__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34_core_js_modules_es6_string_from_code_point__ = __webpack_require__(\"1ZSQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34_core_js_modules_es6_string_from_code_point___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_34_core_js_modules_es6_string_from_code_point__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35_core_js_modules_es6_string_code_point_at__ = __webpack_require__(\"S6Bb\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35_core_js_modules_es6_string_code_point_at___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_35_core_js_modules_es6_string_code_point_at__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36_core_js_modules_es6_string_repeat__ = __webpack_require__(\"lSVi\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36_core_js_modules_es6_string_repeat___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_36_core_js_modules_es6_string_repeat__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37_core_js_modules_es6_string_starts_with__ = __webpack_require__(\"X0td\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37_core_js_modules_es6_string_starts_with___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_37_core_js_modules_es6_string_starts_with__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38_core_js_modules_es6_string_ends_with__ = __webpack_require__(\"71px\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38_core_js_modules_es6_string_ends_with___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_38_core_js_modules_es6_string_ends_with__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39_core_js_modules_es6_string_includes__ = __webpack_require__(\"/udv\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39_core_js_modules_es6_string_includes___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_39_core_js_modules_es6_string_includes__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40_core_js_modules_es6_regexp_flags__ = __webpack_require__(\"/Wc9\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40_core_js_modules_es6_regexp_flags___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_40_core_js_modules_es6_regexp_flags__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41_core_js_modules_es6_regexp_match__ = __webpack_require__(\"wCTC\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41_core_js_modules_es6_regexp_match___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_41_core_js_modules_es6_regexp_match__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42_core_js_modules_es6_regexp_replace__ = __webpack_require__(\"O+K6\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42_core_js_modules_es6_regexp_replace___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_42_core_js_modules_es6_regexp_replace__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43_core_js_modules_es6_regexp_split__ = __webpack_require__(\"R5Rp\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43_core_js_modules_es6_regexp_split___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_43_core_js_modules_es6_regexp_split__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44_core_js_modules_es6_regexp_search__ = __webpack_require__(\"rS32\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44_core_js_modules_es6_regexp_search___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_44_core_js_modules_es6_regexp_search__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45_core_js_modules_es6_array_from__ = __webpack_require__(\"MjWf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45_core_js_modules_es6_array_from___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_45_core_js_modules_es6_array_from__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46_core_js_modules_es6_array_of__ = __webpack_require__(\"JIbj\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46_core_js_modules_es6_array_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_46_core_js_modules_es6_array_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_47_core_js_modules_es6_array_copy_within__ = __webpack_require__(\"G5rB\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_47_core_js_modules_es6_array_copy_within___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_47_core_js_modules_es6_array_copy_within__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_48_core_js_modules_es6_array_find__ = __webpack_require__(\"nylj\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_48_core_js_modules_es6_array_find___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_48_core_js_modules_es6_array_find__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_49_core_js_modules_es6_array_find_index__ = __webpack_require__(\"WvaH\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_49_core_js_modules_es6_array_find_index___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_49_core_js_modules_es6_array_find_index__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_50_core_js_modules_es6_array_fill__ = __webpack_require__(\"LwrB\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_50_core_js_modules_es6_array_fill___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_50_core_js_modules_es6_array_fill__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_51_core_js_modules_es6_array_iterator__ = __webpack_require__(\"aMDK\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_51_core_js_modules_es6_array_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_51_core_js_modules_es6_array_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_52_core_js_modules_es6_number_is_finite__ = __webpack_require__(\"ky6c\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_52_core_js_modules_es6_number_is_finite___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_52_core_js_modules_es6_number_is_finite__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_53_core_js_modules_es6_number_is_integer__ = __webpack_require__(\"IotU\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_53_core_js_modules_es6_number_is_integer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_53_core_js_modules_es6_number_is_integer__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_54_core_js_modules_es6_number_is_safe_integer__ = __webpack_require__(\"QE1l\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_54_core_js_modules_es6_number_is_safe_integer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_54_core_js_modules_es6_number_is_safe_integer__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_55_core_js_modules_es6_number_is_nan__ = __webpack_require__(\"S62c\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_55_core_js_modules_es6_number_is_nan___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_55_core_js_modules_es6_number_is_nan__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_56_core_js_modules_es6_number_epsilon__ = __webpack_require__(\"yP6B\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_56_core_js_modules_es6_number_epsilon___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_56_core_js_modules_es6_number_epsilon__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_57_core_js_modules_es6_number_min_safe_integer__ = __webpack_require__(\"7mBF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_57_core_js_modules_es6_number_min_safe_integer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_57_core_js_modules_es6_number_min_safe_integer__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_58_core_js_modules_es6_number_max_safe_integer__ = __webpack_require__(\"bASC\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_58_core_js_modules_es6_number_max_safe_integer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_58_core_js_modules_es6_number_max_safe_integer__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_59_core_js_modules_es6_math_acosh__ = __webpack_require__(\"iqJ5\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_59_core_js_modules_es6_math_acosh___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_59_core_js_modules_es6_math_acosh__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_60_core_js_modules_es6_math_asinh__ = __webpack_require__(\"OxSM\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_60_core_js_modules_es6_math_asinh___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_60_core_js_modules_es6_math_asinh__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_61_core_js_modules_es6_math_atanh__ = __webpack_require__(\"z2K7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_61_core_js_modules_es6_math_atanh___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_61_core_js_modules_es6_math_atanh__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_62_core_js_modules_es6_math_cbrt__ = __webpack_require__(\"GLhe\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_62_core_js_modules_es6_math_cbrt___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_62_core_js_modules_es6_math_cbrt__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_63_core_js_modules_es6_math_clz32__ = __webpack_require__(\"ECoU\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_63_core_js_modules_es6_math_clz32___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_63_core_js_modules_es6_math_clz32__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_64_core_js_modules_es6_math_cosh__ = __webpack_require__(\"fXZR\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_64_core_js_modules_es6_math_cosh___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_64_core_js_modules_es6_math_cosh__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_65_core_js_modules_es6_math_expm1__ = __webpack_require__(\"3JdD\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_65_core_js_modules_es6_math_expm1___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_65_core_js_modules_es6_math_expm1__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_66_core_js_modules_es6_math_fround__ = __webpack_require__(\"s7OW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_66_core_js_modules_es6_math_fround___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_66_core_js_modules_es6_math_fround__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_67_core_js_modules_es6_math_hypot__ = __webpack_require__(\"bwR+\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_67_core_js_modules_es6_math_hypot___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_67_core_js_modules_es6_math_hypot__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_68_core_js_modules_es6_math_imul__ = __webpack_require__(\"S3s+\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_68_core_js_modules_es6_math_imul___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_68_core_js_modules_es6_math_imul__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_69_core_js_modules_es6_math_log1p__ = __webpack_require__(\"U9PS\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_69_core_js_modules_es6_math_log1p___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_69_core_js_modules_es6_math_log1p__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_70_core_js_modules_es6_math_log10__ = __webpack_require__(\"ixyC\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_70_core_js_modules_es6_math_log10___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_70_core_js_modules_es6_math_log10__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_71_core_js_modules_es6_math_log2__ = __webpack_require__(\"4+DB\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_71_core_js_modules_es6_math_log2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_71_core_js_modules_es6_math_log2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_72_core_js_modules_es6_math_sign__ = __webpack_require__(\"W6gG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_72_core_js_modules_es6_math_sign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_72_core_js_modules_es6_math_sign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_73_core_js_modules_es6_math_sinh__ = __webpack_require__(\"jYp+\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_73_core_js_modules_es6_math_sinh___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_73_core_js_modules_es6_math_sinh__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_74_core_js_modules_es6_math_tanh__ = __webpack_require__(\"QbNw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_74_core_js_modules_es6_math_tanh___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_74_core_js_modules_es6_math_tanh__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_75_core_js_modules_es6_math_trunc__ = __webpack_require__(\"v5Ie\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_75_core_js_modules_es6_math_trunc___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_75_core_js_modules_es6_math_trunc__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_76_core_js_modules_es7_array_includes__ = __webpack_require__(\"tYPa\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_76_core_js_modules_es7_array_includes___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_76_core_js_modules_es7_array_includes__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_77_core_js_modules_es7_object_values__ = __webpack_require__(\"c7kV\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_77_core_js_modules_es7_object_values___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_77_core_js_modules_es7_object_values__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_78_core_js_modules_es7_object_entries__ = __webpack_require__(\"J7cF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_78_core_js_modules_es7_object_entries___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_78_core_js_modules_es7_object_entries__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_79_core_js_modules_es7_object_get_own_property_descriptors__ = __webpack_require__(\"F+N/\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_79_core_js_modules_es7_object_get_own_property_descriptors___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_79_core_js_modules_es7_object_get_own_property_descriptors__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_80_core_js_modules_es7_string_pad_start__ = __webpack_require__(\"c47/\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_80_core_js_modules_es7_string_pad_start___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_80_core_js_modules_es7_string_pad_start__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_81_core_js_modules_es7_string_pad_end__ = __webpack_require__(\"n4D0\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_81_core_js_modules_es7_string_pad_end___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_81_core_js_modules_es7_string_pad_end__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_82_core_js_modules_web_timers__ = __webpack_require__(\"2/U3\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_82_core_js_modules_web_timers___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_82_core_js_modules_web_timers__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_83_core_js_modules_web_immediate__ = __webpack_require__(\"F3bu\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_83_core_js_modules_web_immediate___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_83_core_js_modules_web_immediate__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_84_core_js_modules_web_dom_iterable__ = __webpack_require__(\"RwGI\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_84_core_js_modules_web_dom_iterable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_84_core_js_modules_web_dom_iterable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_85_regenerator_runtime_runtime__ = __webpack_require__(\"k9rz\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_85_regenerator_runtime_runtime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_85_regenerator_runtime_runtime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_86__util_vueutil__ = __webpack_require__(\"aaZk\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_87__App__ = __webpack_require__(\"M93x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_88__router__ = __webpack_require__(\"YaEn\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_89_element_ui__ = __webpack_require__(\"xYCT\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_89_element_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_89_element_ui__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_90_element_ui_lib_theme_chalk_index_css__ = __webpack_require__(\"x1Tb\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_90_element_ui_lib_theme_chalk_index_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_90_element_ui_lib_theme_chalk_index_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_91__assets_styles_reset_css__ = __webpack_require__(\"9n10\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_91__assets_styles_reset_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_91__assets_styles_reset_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_92__assets_styles_setElementUi_css__ = __webpack_require__(\"0jMR\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_92__assets_styles_setElementUi_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_92__assets_styles_setElementUi_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_93__assets_styles_style_css__ = __webpack_require__(\"qJEI\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_93__assets_styles_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_93__assets_styles_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_94__store__ = __webpack_require__(\"IcnI\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_95__static_scripts_utf8_jsp_ueditor_config_js__ = __webpack_require__(\"rJJT\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_95__static_scripts_utf8_jsp_ueditor_config_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_95__static_scripts_utf8_jsp_ueditor_config_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_96__static_scripts_utf8_jsp_ueditor_all_js__ = __webpack_require__(\"GvJL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_96__static_scripts_utf8_jsp_ueditor_all_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_96__static_scripts_utf8_jsp_ueditor_all_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_97__static_scripts_utf8_jsp_lang_zh_cn_zh_cn_js__ = __webpack_require__(\"qQfM\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_97__static_scripts_utf8_jsp_lang_zh_cn_zh_cn_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_97__static_scripts_utf8_jsp_lang_zh_cn_zh_cn_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_98__static_scripts_utf8_jsp_ueditor_parse_min_js__ = __webpack_require__(\"alkQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_98__static_scripts_utf8_jsp_ueditor_parse_min_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_98__static_scripts_utf8_jsp_ueditor_parse_min_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_99__util_util__ = __webpack_require__(\"yt7g\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n //ie打开空白页面问题\n\n//ueditor\n\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n //饿了么ui\n\n //公共样式\n //组件公共样式\n //系统自定义样式库\n\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_86__util_vueutil__[\"a\" /* default */].config.productionTip = false;\n__WEBPACK_IMPORTED_MODULE_86__util_vueutil__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_89_element_ui___default.a);\n\nvar whiteList = ['/login']; // 白名单，不需要权限也能访问\n\n__WEBPACK_IMPORTED_MODULE_88__router__[\"a\" /* default */].beforeEach(function (to, from, next) {\n    if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_99__util_util__[\"a\" /* getCookie */])(\"account\")) {\n        if (to.path === '/login') {\n            next({\n                path: from.path\n            });\n        } else if (__WEBPACK_IMPORTED_MODULE_88__router__[\"b\" /* platRoute */].some(function (item) {\n            return item.path === to.path;\n        })) {\n            __WEBPACK_IMPORTED_MODULE_94__store__[\"a\" /* default */].commit(\"setLoading\", 2); //进路由之前设置isloading为true\n            next();\n        } else {\n            next(\"/\");\n        }\n    } else {\n        if (whiteList.indexOf(to.path) > -1) {\n            next();\n        } else {\n            next(\"/login\");\n        }\n    }\n    // if (true) {\n    //     next();\n    // } else {\n    //     // from.name ? next({ name: from.name }) :\n    //     next('/')\n    // }\n});\n__WEBPACK_IMPORTED_MODULE_88__router__[\"a\" /* default */].afterEach(function (to, from) {\n    __WEBPACK_IMPORTED_MODULE_94__store__[\"a\" /* default */].commit(\"setLoading\", 0); //进路由之后设置isloading为false\n});\n\n/* eslint-disable no-new */\nvar vm = new __WEBPACK_IMPORTED_MODULE_86__util_vueutil__[\"a\" /* default */]({\n    el: '#app',\n    store: __WEBPACK_IMPORTED_MODULE_94__store__[\"a\" /* default */],\n    router: __WEBPACK_IMPORTED_MODULE_88__router__[\"a\" /* default */],\n    template: '<App/>',\n    components: {\n        App: __WEBPACK_IMPORTED_MODULE_87__App__[\"a\" /* default */]\n    }\n});\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (vm);\n\n/***/ }),\n\n/***/ \"OAYr\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"Oz2X\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_radioSelect_vue__ = __webpack_require__(\"SCtM\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_af492aa8_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_radioSelect_vue__ = __webpack_require__(\"YdHv\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"k7uz\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-af492aa8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_radioSelect_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_af492aa8_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_radioSelect_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"PSlP\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_TreeGrid_vue__ = __webpack_require__(\"2MN3\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_f721956c_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_TreeGrid_vue__ = __webpack_require__(\"TezJ\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"YNnD\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f721956c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_TreeGrid_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_f721956c_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_TreeGrid_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"PbF9\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"QUzg\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_lineChart_vue__ = __webpack_require__(\"LJik\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_8055f042_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_lineChart_vue__ = __webpack_require__(\"VApH\");\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_lineChart_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_8055f042_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_lineChart_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"QXYD\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"R+bG\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_util_js__ = __webpack_require__(\"yt7g\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    value: {\n      type: [Number, String, Array, Object]\n    },\n    id: {\n      type: String,\n      default: \"baseDivSelectTree\"\n    },\n    //下拉树唯一标示符\n    nodeKey: {\n      type: String,\n      default: \"id\"\n    },\n    //查找父节点，转换节点\n    parentKey: {\n      type: String,\n      default: \"parentId\"\n    },\n    //多选\n    multiple: {\n      default: false\n    },\n    //默认展开\n    defaultExpandAll: {\n      type: Boolean,\n      default: true\n    },\n    // 过滤的id节点\n    hideNode: {\n      type: [Number, String]\n    },\n    //懒加载\n    load: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    textP: {\n      default: \"\"\n    },\n    width: {\n      default: \"200px\"\n    },\n    //树的数据\n    data: {\n      type: Array,\n      default: []\n    },\n    props: {\n      type: Object,\n      default: function _default() {\n        return {\n          children: \"children\",\n          label: \"name\"\n        };\n      }\n    },\n    realVal: String, //显示框显示的值，适应组织机构管理\n    styleAttr: {\n      type: String\n    },\n\n    loadNode: {\n      type: Function,\n      default: function _default(node, resolve) {\n        //加载节点\n        var tier = []; // 数组的排序代表当前节点的位置(逆序)\n        if (node.level == 0) {\n          resolve(this.data); //渲染起始数组\n          return;\n        }\n        var findParent = function findParent(obj) {\n          if (!obj.parent) {\n            //当无父节点时跳出\n            return obj;\n          }\n          for (var i = 0; i < obj.parent.childNodes.length; i++) {\n            var item = obj.parent.childNodes[i];\n            if (item.label == obj.label) {\n              tier.push(i);\n              break;\n            }\n          }\n          return findParent(obj.parent);\n        };\n        findParent(node); //获得节点层级\n        var tempObj = this.data; //获取渲染节点所在children\n        for (var i = tier.length; i > 0; i--) {\n          tempObj = tempObj[tier[i - 1]].children ? tempObj[tier[i - 1]].children : [];\n        }\n        resolve(tempObj); // 需要转圈效果加上计时器延迟\n\n        //                resolve(this.readchildNode(tempObj))// 需要转圈效果加上计时器延迟\n      }\n    }\n  },\n  data: function data() {\n    return {\n      text: \"\",\n      showTree: false,\n      style: {\n        // width: this.width\n        //                    margin: \"0 auto\",\n      },\n      currentNodeKey: \"\", //当前被选中的值\n      realText: \"\", //下拉树内部保存text的值\n      index: 0\n    };\n  },\n\n  computed: {\n    multipleData: function multipleData() {\n      var textArr = this.text ? this.text.split(\";\") : [],\n          me = this,\n          multipleData = [];\n      textArr.forEach(function (item) {\n        me.findNode(me.data, item, multipleData);\n      });\n      return multipleData;\n    },\n\n    // 树形结构转换为list\n    treeToList: function treeToList() {\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util_util_js__[\"b\" /* getListByTree */])(this.data, this.nodeKey, \"children\", this.parentKey);\n    }\n  },\n  methods: {\n    clickInput: function clickInput() {\n      var _this = this;\n\n      if (this.disabled) {\n        return false;\n      }\n      this.$refs[this.id].filter(\"\");\n      this.showTree = !this.showTree;\n      if (this.showTree) {\n        setTimeout(function () {\n          _this.setScrollTop();\n        }, 100);\n      }\n      if (!this.index) {\n        var width = this.$el.clientWidth;\n        this.$el.querySelector(\".base-selectTree-tree\").style.width = width + \"px\";\n      }\n      this.index++;\n    },\n    handleNodeClick: function handleNodeClick(data) {\n      var _this2 = this;\n\n      if (this.multiple) {\n        //多选且以前没有选中\n        //                    if (!this.text || (this.text && this.text.indexOf(data[this.props.label]) == -1)) {\n        if (this.text === undefined) {\n          this.text = \"\";\n        }\n        if (this.text.indexOf(data[this.props.label]) == -1) {\n          this.text = this.text ? this.text + \";\" + data[this.props.label] : this.text + data[this.props.label];\n        } else {\n          var index = this.text.indexOf(data[this.props.label]),\n              length = data[this.props.label].length;\n          if (index === 0) {\n            this.text = this.text.slice(0, index) + this.text.slice(index + length + 1);\n          } else {\n            this.text = this.text.slice(0, index - 1) + this.text.slice(index + length);\n          }\n        }\n        this.$emit(\"input\", this.multipleData.map(function (item) {\n          return item[_this2.nodeKey];\n        }).join(\",\"));\n        this.$emit(\"change\", this.multipleData);\n      } else {\n        //单选\n        var lastSelect = {};\n        if (this.value) {\n          lastSelect = this.findNodeByValue(this.value);\n        }\n        this.text = this.realVal ? data[this.realVal] : data[this.props.label]; //传了realval，则输入框显示另外一个值，不传默认显示props对应的值\n        this.showTree = false;\n        this.$emit(\"input\", data[this.nodeKey]);\n        this.$emit(\"change\", data, lastSelect);\n      }\n    },\n    readchildNode: function readchildNode(arr, callback) {\n      //读取子节点数组\n      var me = this;\n      var tempData = [];\n      if (arr) {\n        arr.forEach(function (item) {\n          var obj = {};\n          obj[me.props[\"label\"]] = item[me.props[\"label\"]];\n          obj.id = item.id;\n          tempData.push(obj);\n        });\n      }\n      return tempData;\n    },\n    clickClear: function clickClear() {\n      this.text = \"\";\n      this.$emit(\"input\", \"\");\n    },\n    setText: function setText(val, realVale) {\n      //传递两个值，适应组织机构区域树的情况\n      this.text = val;\n      if (realVale) {\n        this.currentNodeKey = this.getCurrentNodeKey(realVale);\n      } else {\n        this.currentNodeKey = this.getCurrentNodeKey(val);\n      }\n    },\n    closeTree: function closeTree() {\n      this.showTree = false;\n    },\n    findNode: function findNode() {\n      var arr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var value = arguments[1];\n      var multipleData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n      var me = this;\n      arr.forEach(function (val) {\n        if (val[me.props.label] == value) {\n          multipleData.push(val);\n        }\n        if (val.children && val.children.length > 0) {\n          me.findNode(val.children, value, multipleData);\n        }\n      });\n    },\n    findNodeByValue: function findNodeByValue(value) {\n      var _this3 = this;\n\n      var node = null;\n      this.$each(this.treeToList, function (item) {\n        if (item[_this3.nodeKey] === value) {\n          node = item;\n        }\n      });\n      return node;\n    },\n\n    //获取当前高亮的值\n    getCurrentNodeKey: function getCurrentNodeKey(val) {\n      var list = this.treeToList;\n      for (var i = 0, len = list.length; i < len; i++) {\n        if (list[i][this.props.label] == val) {\n          return list[i][this.nodeKey];\n        }\n      }\n    },\n    setScrollTop: function setScrollTop() {\n      var selectTree = this.$el.querySelector(\".base-selectTree-tree\"),\n          curentKey = this.$el.querySelector(\".is-current\");\n      selectTree.scrollTop = curentKey ? curentKey.offsetTop - 50 : 0;\n    },\n    filterNode: function filterNode(value, data) {\n      var _this4 = this;\n\n      // 过滤某个节点id及其子节点\n      if (this.hideNode) {\n        var node = this.$refs[this.id].getNode(data);\n        while (node.key) {\n          if (node.data[this.nodeKey] === this.hideNode) {\n            return false;\n          }\n          node = node.parent;\n        }\n      }\n\n      if (!value) {\n        return true;\n      }\n      var splitValue = value.split(\";\");\n      if (this.multiple && this.treeToList.some(function (item) {\n        return item[_this4.props.label] === splitValue[splitValue.length - 1];\n      })) {\n        return true;\n      }\n      return data[this.props.label].indexOf(value) !== -1;\n    }\n  },\n  watch: {\n    textP: function textP(val) {\n      this.text = val;\n    },\n    text: function text(val) {\n      if (this.text === \"\") {\n        this.$emit(\"textNull\");\n      }\n      this.$refs[this.id].filter(val);\n    },\n    value: function value(val) {\n      if (val) {\n        var curNode = this.findNodeByValue(val);\n        if (curNode && curNode[this.props.label] !== this.text) {\n          this.text = curNode[this.props.label];\n        }\n      } else {\n        this.text = \"\";\n      }\n    }\n  },\n  mounted: function mounted() {\n    var textData = \"\";\n    if (this.value === undefined || this.value === null) {} else {\n      var curNode = this.findNodeByValue(this.value);\n      if (curNode && curNode[this.props.label] !== this.text) {\n        textData = curNode[this.props.label];\n      } else {\n        textData = this.value;\n      }\n    }\n    this.text = textData;\n\n    var me = this;\n    document.addEventListener(\"click\", function (e) {\n      var flag = false;\n      for (var i = 0; i < me.$el.childNodes.length; i++) {\n        var item = me.$el.childNodes[i];\n        if (item == e.target) {\n          flag = true;\n          return;\n        }\n      }\n      me.showTree = flag;\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"R0wK\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    \"color\": [\"#005eaa\", \"#71669e\", \"#339ca8\", \"#5ab1ef\", \"#759aa0\", \"#787464\", \"#e87c25\", \"#dd6b66\", \"#e69d87\", \"#af8978\"],\n    \"backgroundColor\": \"rgba(0,0,0,0)\",\n    \"textStyle\": {},\n    \"title\": {\n        \"textStyle\": {\n            \"color\": \"#333333\"\n        },\n        \"subtextStyle\": {\n            \"color\": \"#aaaaaa\"\n        }\n    },\n    \"line\": {\n        \"itemStyle\": {\n            \"normal\": {\n                \"borderWidth\": 1\n            }\n        },\n        \"lineStyle\": {\n            \"normal\": {\n                \"width\": 2\n            }\n        },\n        \"symbolSize\": 4,\n        \"symbol\": \"emptyCircle\",\n        \"smooth\": false\n    },\n    \"radar\": {\n        \"itemStyle\": {\n            \"normal\": {\n                \"borderWidth\": 1\n            }\n        },\n        \"lineStyle\": {\n            \"normal\": {\n                \"width\": 2\n            }\n        },\n        \"symbolSize\": 4,\n        \"symbol\": \"emptyCircle\",\n        \"smooth\": false\n    },\n    \"bar\": {\n        \"itemStyle\": {\n            \"normal\": {\n                \"barBorderWidth\": 0,\n                \"barBorderColor\": \"#ccc\"\n            },\n            \"emphasis\": {\n                \"barBorderWidth\": 0,\n                \"barBorderColor\": \"#ccc\"\n            }\n        }\n    },\n    \"pie\": {\n        \"itemStyle\": {\n            \"normal\": {\n                \"borderWidth\": 0,\n                \"borderColor\": \"#ccc\"\n            },\n            \"emphasis\": {\n                \"borderWidth\": 0,\n                \"borderColor\": \"#ccc\"\n            }\n        }\n    },\n    \"scatter\": {\n        \"itemStyle\": {\n            \"normal\": {\n                \"borderWidth\": 0,\n                \"borderColor\": \"#ccc\"\n            },\n            \"emphasis\": {\n                \"borderWidth\": 0,\n                \"borderColor\": \"#ccc\"\n            }\n        }\n    },\n    \"boxplot\": {\n        \"itemStyle\": {\n            \"normal\": {\n                \"borderWidth\": 0,\n                \"borderColor\": \"#ccc\"\n            },\n            \"emphasis\": {\n                \"borderWidth\": 0,\n                \"borderColor\": \"#ccc\"\n            }\n        }\n    },\n    \"parallel\": {\n        \"itemStyle\": {\n            \"normal\": {\n                \"borderWidth\": 0,\n                \"borderColor\": \"#ccc\"\n            },\n            \"emphasis\": {\n                \"borderWidth\": 0,\n                \"borderColor\": \"#ccc\"\n            }\n        }\n    },\n    \"sankey\": {\n        \"itemStyle\": {\n            \"normal\": {\n                \"borderWidth\": 0,\n                \"borderColor\": \"#ccc\"\n            },\n            \"emphasis\": {\n                \"borderWidth\": 0,\n                \"borderColor\": \"#ccc\"\n            }\n        }\n    },\n    \"funnel\": {\n        \"itemStyle\": {\n            \"normal\": {\n                \"borderWidth\": 0,\n                \"borderColor\": \"#ccc\"\n            },\n            \"emphasis\": {\n                \"borderWidth\": 0,\n                \"borderColor\": \"#ccc\"\n            }\n        }\n    },\n    \"gauge\": {\n        \"itemStyle\": {\n            \"normal\": {\n                \"borderWidth\": 0,\n                \"borderColor\": \"#ccc\"\n            },\n            \"emphasis\": {\n                \"borderWidth\": 0,\n                \"borderColor\": \"#ccc\"\n            }\n        }\n    },\n    \"candlestick\": {\n        \"itemStyle\": {\n            \"normal\": {\n                \"color\": \"#c12e34\",\n                \"color0\": \"#2b821d\",\n                \"borderColor\": \"#c12e34\",\n                \"borderColor0\": \"#2b821d\",\n                \"borderWidth\": 1\n            }\n        }\n    },\n    \"graph\": {\n        \"itemStyle\": {\n            \"normal\": {\n                \"borderWidth\": 0,\n                \"borderColor\": \"#ccc\"\n            }\n        },\n        \"lineStyle\": {\n            \"normal\": {\n                \"width\": 1,\n                \"color\": \"#aaaaaa\"\n            }\n        },\n        \"symbolSize\": 4,\n        \"symbol\": \"emptyCircle\",\n        \"smooth\": false,\n        \"color\": [\"#005eaa\", \"#71669e\", \"#339ca8\", \"#5ab1ef\", \"#759aa0\", \"#787464\", \"#e87c25\", \"#dd6b66\", \"#e69d87\", \"#af8978\"],\n        \"label\": {\n            \"normal\": {\n                \"textStyle\": {\n                    \"color\": \"#eeeeee\"\n                }\n            }\n        }\n    },\n    \"map\": {\n        \"itemStyle\": {\n            \"normal\": {\n                \"areaColor\": \"#dddddd\",\n                \"borderColor\": \"#eeeeee\",\n                \"borderWidth\": 0.5\n            },\n            \"emphasis\": {\n                \"areaColor\": \"rgba(230,182,0,1)\",\n                \"borderColor\": \"#dddddd\",\n                \"borderWidth\": 1\n            }\n        },\n        \"label\": {\n            \"normal\": {\n                \"textStyle\": {\n                    \"color\": \"#c12e34\"\n                }\n            },\n            \"emphasis\": {\n                \"textStyle\": {\n                    \"color\": \"rgb(193,46,52)\"\n                }\n            }\n        }\n    },\n    \"geo\": {\n        \"itemStyle\": {\n            \"normal\": {\n                \"areaColor\": \"#dddddd\",\n                \"borderColor\": \"#eeeeee\",\n                \"borderWidth\": 0.5\n            },\n            \"emphasis\": {\n                \"areaColor\": \"rgba(230,182,0,1)\",\n                \"borderColor\": \"#dddddd\",\n                \"borderWidth\": 1\n            }\n        },\n        \"label\": {\n            \"normal\": {\n                \"textStyle\": {\n                    \"color\": \"#c12e34\"\n                }\n            },\n            \"emphasis\": {\n                \"textStyle\": {\n                    \"color\": \"rgb(193,46,52)\"\n                }\n            }\n        }\n    },\n    \"categoryAxis\": {\n        \"axisLine\": {\n            \"show\": true,\n            \"lineStyle\": {\n                \"color\": \"#333\"\n            }\n        },\n        \"axisTick\": {\n            \"show\": true,\n            \"lineStyle\": {\n                \"color\": \"#333\"\n            }\n        },\n        \"axisLabel\": {\n            \"show\": true,\n            \"textStyle\": {\n                \"color\": \"#333\"\n            }\n        },\n        \"splitLine\": {\n            \"show\": false,\n            \"lineStyle\": {\n                \"color\": [\"#ccc\"]\n            }\n        },\n        \"splitArea\": {\n            \"show\": false,\n            \"areaStyle\": {\n                \"color\": [\"rgba(250,250,250,0.3)\", \"rgba(200,200,200,0.3)\"]\n            }\n        }\n    },\n    \"valueAxis\": {\n        \"axisLine\": {\n            \"show\": true,\n            \"lineStyle\": {\n                \"color\": \"#333\"\n            }\n        },\n        \"axisTick\": {\n            \"show\": true,\n            \"lineStyle\": {\n                \"color\": \"#333\"\n            }\n        },\n        \"axisLabel\": {\n            \"show\": true,\n            \"textStyle\": {\n                \"color\": \"#333\"\n            }\n        },\n        \"splitLine\": {\n            \"show\": true,\n            \"lineStyle\": {\n                \"color\": [\"#ccc\"]\n            }\n        },\n        \"splitArea\": {\n            \"show\": false,\n            \"areaStyle\": {\n                \"color\": [\"rgba(250,250,250,0.3)\", \"rgba(200,200,200,0.3)\"]\n            }\n        }\n    },\n    \"logAxis\": {\n        \"axisLine\": {\n            \"show\": true,\n            \"lineStyle\": {\n                \"color\": \"#333\"\n            }\n        },\n        \"axisTick\": {\n            \"show\": true,\n            \"lineStyle\": {\n                \"color\": \"#333\"\n            }\n        },\n        \"axisLabel\": {\n            \"show\": true,\n            \"textStyle\": {\n                \"color\": \"#333\"\n            }\n        },\n        \"splitLine\": {\n            \"show\": true,\n            \"lineStyle\": {\n                \"color\": [\"#ccc\"]\n            }\n        },\n        \"splitArea\": {\n            \"show\": false,\n            \"areaStyle\": {\n                \"color\": [\"rgba(250,250,250,0.3)\", \"rgba(200,200,200,0.3)\"]\n            }\n        }\n    },\n    \"timeAxis\": {\n        \"axisLine\": {\n            \"show\": true,\n            \"lineStyle\": {\n                \"color\": \"#333\"\n            }\n        },\n        \"axisTick\": {\n            \"show\": true,\n            \"lineStyle\": {\n                \"color\": \"#333\"\n            }\n        },\n        \"axisLabel\": {\n            \"show\": true,\n            \"textStyle\": {\n                \"color\": \"#333\"\n            }\n        },\n        \"splitLine\": {\n            \"show\": true,\n            \"lineStyle\": {\n                \"color\": [\"#ccc\"]\n            }\n        },\n        \"splitArea\": {\n            \"show\": false,\n            \"areaStyle\": {\n                \"color\": [\"rgba(250,250,250,0.3)\", \"rgba(200,200,200,0.3)\"]\n            }\n        }\n    },\n    \"toolbox\": {\n        \"iconStyle\": {\n            \"normal\": {\n                \"borderColor\": \"#06467c\"\n            },\n            \"emphasis\": {\n                \"borderColor\": \"#4187c2\"\n            }\n        }\n    },\n    \"legend\": {\n        \"textStyle\": {\n            \"color\": \"#333333\"\n        }\n    },\n    \"tooltip\": {\n        \"axisPointer\": {\n            \"lineStyle\": {\n                \"color\": \"#cccccc\",\n                \"width\": 1\n            },\n            \"crossStyle\": {\n                \"color\": \"#cccccc\",\n                \"width\": 1\n            }\n        }\n    },\n    \"timeline\": {\n        \"lineStyle\": {\n            \"color\": \"#005eaa\",\n            \"width\": 1\n        },\n        \"itemStyle\": {\n            \"normal\": {\n                \"color\": \"#005eaa\",\n                \"borderWidth\": 1\n            },\n            \"emphasis\": {\n                \"color\": \"#005eaa\"\n            }\n        },\n        \"controlStyle\": {\n            \"normal\": {\n                \"color\": \"#005eaa\",\n                \"borderColor\": \"#005eaa\",\n                \"borderWidth\": 0.5\n            },\n            \"emphasis\": {\n                \"color\": \"#005eaa\",\n                \"borderColor\": \"#005eaa\",\n                \"borderWidth\": 0.5\n            }\n        },\n        \"checkpointStyle\": {\n            \"color\": \"#005eaa\",\n            \"borderColor\": \"rgba(49,107,194,0.5)\"\n        },\n        \"label\": {\n            \"normal\": {\n                \"textStyle\": {\n                    \"color\": \"#005eaa\"\n                }\n            },\n            \"emphasis\": {\n                \"textStyle\": {\n                    \"color\": \"#005eaa\"\n                }\n            }\n        }\n    },\n    \"visualMap\": {\n        \"color\": [\"#1790cf\", \"#a2d4e6\"]\n    },\n    \"dataZoom\": {\n        \"backgroundColor\": \"rgba(47,69,84,0)\",\n        \"dataBackgroundColor\": \"rgba(47,69,84,0.3)\",\n        \"fillerColor\": \"rgba(167,183,204,0.4)\",\n        \"handleColor\": \"#a7b7cc\",\n        \"handleSize\": \"100%\",\n        \"textStyle\": {\n            \"color\": \"#333333\"\n        }\n    },\n    \"markPoint\": {\n        \"label\": {\n            \"normal\": {\n                \"textStyle\": {\n                    \"color\": \"#eeeeee\"\n                }\n            },\n            \"emphasis\": {\n                \"textStyle\": {\n                    \"color\": \"#eeeeee\"\n                }\n            }\n        }\n    }\n});\n\n/***/ }),\n\n/***/ \"Rtzv\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_util_js__ = __webpack_require__(\"yt7g\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: \"myTransfer\",\n  components: {},\n  props: {\n    rend: {\n      type: Function\n    },\n    size: {\n      // 控制主内容高度大小，只能设置xs,sm,md,lg\n      type: String,\n      default: \"sm\"\n    },\n    chooseList: {\n      /*总数据*/\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    accredited: {\n      /*默认授权出现在右边的选项,为索引数组,从1开始*/\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    filterable: {\n      /*是否可搜索*/\n      type: Boolean,\n      default: true\n    },\n    leftDefaultChecked: {\n      /*左右默认被勾选的选项,为索引数组,从1开始,支持选中数据的数组传入*/\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    rightDefaultChecked: {\n      /*左右默认被勾选的选项,为索引数组,从1开始*/\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    titles: {\n      /*数组,左右两边的标题,两个*/\n      type: Array,\n      default: function _default() {\n        return [\"未授权角色:\", \"已授权角色:\"];\n      }\n    },\n    buttonTexts: {\n      /*数组,中间按钮的文字,四个*/\n      type: Array,\n      default: function _default() {\n        return [\"删除\", \"授权\", \"保存\", \"返回\"];\n      }\n    },\n    myKey: {\n      /*自定义排序id*/\n      type: String,\n      default: \"id\"\n    },\n    myLabel: {\n      /*自定义排序name*/\n      type: String,\n      default: \"name\"\n    },\n    myDisabled: {\n      /*自定义排序id*/\n      type: String,\n      default: \"disabled\"\n    },\n    saveClick: {\n      type: Function\n    },\n    backClick: {\n      type: Function\n    },\n    filterList: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    filterType: {\n      type: String,\n      default: \"0\"\n    },\n    emptyText: {\n      default: \"暂无数据\"\n    },\n    footerFormat: {\n      type: Object\n      //                default: () => {\n      //                    noChecked: '${total}',\n      //                        hasChecked:'${checked}/${total}'\n      //                }\n    }\n  },\n  data: function data() {\n    return {\n      chooseData: [],\n      accreditedList: []\n    };\n  },\n\n  computed: {},\n  created: function created() {\n    this.chooseData = this.chooseList;\n    this.accreditedList = this.accredited;\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    /*添加保存和返回*/\n    var btns = this.$el.getElementsByClassName(\"el-transfer__buttons\")[0];\n    var btnChild = btns.children[1].children[0];\n    btnChild.insertBefore(btnChild.children[1], btnChild.children[0]);\n    /*将i标签的位置调换*/\n    /**遍历生成按钮 */\n    for (var i = 2; i < this.buttonTexts.length; i++) {\n      var item = this.buttonTexts[i];\n      var tempBtn = document.createElement(\"button\");\n      tempBtn.innerHTML = \"<span><i></i><span>\" + item + \"</span></span>\";\n      tempBtn.classList.add(\"el-button\", \"el-button--primary\", \"el-button--small\");\n      if (i == 2 && this.saveClick) {\n        tempBtn.addEventListener(\"click\", function () {\n          _this.saveClick();\n        });\n      }\n      if (i == 3 && this.backClick) {\n        tempBtn.addEventListener(\"click\", function () {\n          _this.backClick();\n        });\n      }\n      btns.appendChild(tempBtn);\n    }\n  },\n\n  methods: {\n    handleChange: function handleChange(value, direction, movedKeys) {\n      var _this2 = this;\n\n      var tempObj = [];\n      movedKeys.forEach(function (item, index) {\n        tempObj.push(_this2.chooseData[item - 1]);\n      });\n      this.$emit(\"transfer\" /*当发生改变,父组件监听transfer事件,接受到一个对象,有下列四个属性*/\n      , {\n        changed: tempObj /*改变的数据*/\n        , value: value /*依然被授权的索引*/\n        , direction: direction /*方向,left和right*/\n        , movedKeys: movedKeys /*此次移动的索引*/\n      });\n    },\n    renderContent: function renderContent(h, option) {\n      if (this.rend) {\n        return this.rend(h, option);\n      }\n      return h(\n        \"span\",\n        null,\n        [option[this.myLabel]]\n      );\n    }\n  },\n  watch: {\n    chooseList: function chooseList(val) {\n      this.chooseData = val;\n      if (this.chooseData.length == 0) {\n        var nodes = this.$el.querySelectorAll(\".el-transfer-panel__empty\");\n        nodes[1].innerHTML = this.emptyText;\n        if (this.accreditedList.length == 0) {\n          nodes[3].innerHTML = this.emptyText;\n        }\n        //                    for(var i=0,len=nodes.length;i<len;i++){\n        //                        if(i%2 != 0){\n        //                            nodes[i].innerHTML = this.emptyText\n        //                        }\n        //                  }\n      } else {\n        var _nodes = this.$el.querySelectorAll(\".el-transfer-panel__empty\");\n        _nodes[1].innerHTML = \"暂无数据\";\n      }\n    },\n    accredited: function accredited(val) {\n      //传递值的类型判断\n      if (val.every(function (item) {\n        return typeof item === \"string\" || typeof item === \"number\";\n      })) {\n        this.accreditedList = val;\n      } else {\n        var key = this.myKey;\n        this.accreditedList = val.map(function (item) {\n          return item[key];\n        });\n      }\n\n      if (val.length == 0 && this.chooseList != 0) {\n        this.$el.querySelectorAll(\".el-transfer-panel__empty\")[3].innerHTML = \"暂无数据\";\n      }\n    },\n\n    filterList: {\n      handler: function handler(obj) {\n        var ids = [],\n            that = this;\n\n        //对所有数据进行过滤\n        that.chooseData = that.chooseList.filter(function (item) {\n          var condition = false,\n              isElement = -1;\n          for (var attr in obj) {\n            if (obj[attr] === \"\" || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util_util_js__[\"d\" /* varType */])(item[attr]) === \"null\" || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util_util_js__[\"d\" /* varType */])(item[attr]) === \"undefined\") {\n              continue;\n            } else if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util_util_js__[\"d\" /* varType */])(obj[attr]) === \"array\") {\n              isElement = obj[attr].indexOf(item[attr]);\n            } else if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util_util_js__[\"d\" /* varType */])(obj[attr]) === \"string\" || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util_util_js__[\"d\" /* varType */])(obj[attr]) === \"number\") {\n              isElement = item[attr].indexOf(obj[attr]);\n            }\n\n            // 带三种值类型，0为都过滤，1为过滤左侧列表，2为过滤右侧列表\n            if (that.filterType === \"0\") {\n              condition = isElement === -1;\n            } else if (that.filterType === \"1\") {\n              condition = that.accreditedList.indexOf(item[that.myKey]) === -1 && isElement === -1;\n            } else if (that.filterType === \"2\") {\n              condition = that.accreditedList.indexOf(item[that.myKey]) > -1 && isElement === -1;\n            }\n            if (condition) {\n              return false;\n            }\n          }\n          return true;\n        });\n      }\n      // deep: true\n\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"Rxxi\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"SCtM\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    value: {\n      type: [String, Number]\n    },\n    // 当数据大于maxNum时显示下拉\n    maxNum: {\n      type: Number,\n      default: 5\n    },\n    optionLists: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    label: {\n      type: String,\n      default: \"name\"\n    },\n    valueKey: {\n      type: String,\n      default: \"id\"\n    },\n    width: {\n      type: String,\n      width: \"auto\"\n    }\n  },\n  data: function data() {\n    return {\n      selected: {\n        type: [String, Number]\n      }\n    };\n  },\n\n  watch: {\n    optionLists: function optionLists(lists) {\n      if (lists.length === 0) {\n        this.$emit(\"input\", \"\");\n      } else if (this.value !== \"\") {\n        this.selected = this.value;\n      } else if (lists.length > 0) {\n        this.$emit(\"input\", lists[0][this.valueKey]);\n        // this.changeHandle(this.selected);\n      }\n    },\n    value: function value() {\n      if (this.value !== this.selected) {\n        this.selected = this.value;\n      }\n    }\n  },\n  methods: {\n    changeHandle: function changeHandle(value) {\n      this.$emit(\"input\", value);\n      this.$emit(\"change\", value);\n    },\n    lastHandle: function lastHandle() {\n      var index = this.findNode(this.selected);\n      if (index > 0) {\n        this.selected = this.optionLists[index - 1][this.valueKey];\n        this.changeHandle(this.selected);\n      }\n    },\n    nextHandle: function nextHandle() {\n      var index = this.findNode(this.selected);\n      if (index < this.optionLists.length - 1) {\n        this.selected = this.optionLists[index + 1][this.valueKey];\n        this.changeHandle(this.selected);\n      }\n    },\n    findNode: function findNode(value) {\n      var _this = this;\n\n      var temp = \"\";\n      this.$each(this.optionLists, function (item, index) {\n        if (item[_this.valueKey] === value) {\n          temp = index;\n          return false;\n        }\n      });\n      return temp;\n    }\n  },\n  mounted: function mounted() {\n    if (this.optionLists.length > 0 && this.value !== 0 && !this.value) {\n      this.$emit(\"input\", this.optionLists[0][this.valueKey]);\n      this.selected = this.value;\n    } else {\n      this.selected = this.value;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"Sl5w\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"base-selectTree\",\n    style: (_vm.style),\n    attrs: {\n      \"clearable\": \"\"\n    }\n  }, [_c('i', {\n    class: ['base-selectTree__icon', 'el-icon-caret-top', {\n      'is-reverse': _vm.showTree\n    }],\n    on: {\n      \"click\": _vm.clickInput\n    }\n  }), _vm._v(\" \"), _c('i', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.text),\n      expression: \"text\"\n    }],\n    staticClass: \"base-selectTree__icon el-icon-error\",\n    on: {\n      \"click\": _vm.clickClear\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"select-wrap\"\n  }, [_c('el-input', {\n    attrs: {\n      \"disabled\": _vm.disabled,\n      \"readonly\": \"\",\n      \"placeholder\": \"请选择...\"\n    },\n    on: {\n      \"click\": _vm.clickInput\n    },\n    model: {\n      value: (_vm.text),\n      callback: function($$v) {\n        _vm.text = $$v\n      },\n      expression: \"text\"\n    }\n  })], 1), _vm._v(\" \"), (!_vm.load) ? _c('el-tree', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showTree),\n      expression: \"showTree\"\n    }],\n    ref: _vm.id,\n    staticClass: \"base-selectTree-tree\",\n    style: (_vm.styleAttr),\n    attrs: {\n      \"node-key\": _vm.nodeKey,\n      \"current-node-key\": _vm.currentNodeKey,\n      \"indent\": 10,\n      \"filter-node-method\": _vm.filterNode,\n      \"data\": _vm.data,\n      \"props\": _vm.props,\n      \"highlight-current\": \"\",\n      \"default-expand-all\": _vm.defaultExpandAll,\n      \"expand-on-click-node\": false\n    },\n    on: {\n      \"node-click\": _vm.handleNodeClick\n    }\n  }) : _c('el-tree', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showTree),\n      expression: \"showTree\"\n    }],\n    ref: _vm.id,\n    staticClass: \"base-selectTree-tree\",\n    style: (_vm.styleAttr),\n    attrs: {\n      \"node-key\": _vm.nodeKey,\n      \"current-node-key\": _vm.currentNodeKey,\n      \"highlight-current\": \"\",\n      \"indent\": 10,\n      \"filter-node-method\": _vm.filterNode,\n      \"data\": _vm.data,\n      \"props\": _vm.props,\n      \"lazy\": \"\",\n      \"load\": _vm.loadNode,\n      \"expand-on-click-node\": false\n    },\n    on: {\n      \"node-click\": _vm.handleNodeClick\n    }\n  })], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"SsWL\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"TezJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.lock\",\n      value: (_vm.isLoading),\n      expression: \"isLoading\",\n      modifiers: {\n        \"lock\": true\n      }\n    }],\n    ref: \"baseTreeGrid\",\n    staticClass: \"base-treeGrid\",\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.data,\n      \"border\": \"\",\n      \"height\": _vm.treeGridHeight + 'px',\n      \"row-style\": _vm.showTr,\n      \"default-sort\": _vm.defaultSort,\n      \"row-class-name\": _vm.rowClassName\n    },\n    on: {\n      \"row-click\": _vm.rowClick,\n      \"selection-change\": _vm.selectionChange,\n      \"select\": _vm.selectCheck,\n      \"select-all\": _vm.selectCheck\n    }\n  }, [(_vm.showSelection) ? _c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"align\": \"center\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"type\": \"index\",\n      \"width\": \"70px\",\n      \"label\": \"序号\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _vm._l((_vm.columns), function(column, index) {\n    return _c('el-table-column', {\n      key: column.prop,\n      attrs: {\n        \"label\": column.label,\n        \"min-width\": column.width,\n        \"align\": index == 0 ? 'left' : column.align,\n        \"header-align\": \"center\"\n      },\n      scopedSlots: _vm._u([{\n        key: \"default\",\n        fn: function(scope) {\n          return [_vm._l((scope.row._level), function(space, levelIndex) {\n            return (_vm.spaceIconShow(index)) ? _c('div', {\n              key: levelIndex,\n              staticClass: \"ms-tree-space\"\n            }) : _vm._e()\n          }), _vm._v(\" \"), (_vm.toggleIconShow(index, scope.row, scope)) ? _c('i', {\n            class: scope.row._expanded ? 'el-icon-caret-bottom' : 'el-icon-caret-right',\n            on: {\n              \"click\": function($event) {\n                _vm.toggle(scope.$index, scope.row)\n              }\n            }\n          }) : (index === 0) ? _c('div', {\n            staticClass: \"ms-tree-space\"\n          }) : _vm._e(), _vm._v(\"\\n      \" + _vm._s(_vm.customDisplay(column, scope)) + \"\\n    \")]\n        }\n      }])\n    })\n  }), _vm._v(\" \"), _vm._t(\"operation\", [(_vm.treeType === 'normal') ? _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"width\": \"115\",\n      \"align\": \"left\",\n      \"header-align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.editModule(scope.row, scope)\n            }\n          }\n        }, [_vm._v(\"\\n          编辑\\n        \")]), _vm._v(\" \"), _c('el-button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (!scope.row.state),\n            expression: \"!scope.row.state\"\n          }],\n          attrs: {\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.deleteModule(scope.row)\n            }\n          }\n        }, [_vm._v(\"\\n          删除\\n        \")])]\n      }\n    }])\n  }) : _vm._e()])], 2)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"TwKq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__page__ = __webpack_require__(\"mDaC\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_util_js__ = __webpack_require__(\"yt7g\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_file_saver__ = __webpack_require__(\"NcNL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_file_saver__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_xlsx__ = __webpack_require__(\"d91b\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_xlsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_xlsx__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/*需要时间格式化的东西需要在colums传入format 内容为格式的内容\r\n   * cols属性为一个数组,数组由对象组成，\r\n   * 每个对象由label,prop,align(对齐方式,默认居中),\r\n   * width(表格宽度,默认平均分配),\r\n   * sortable(是否排序),\r\n   * displace(文本替换) {id1:\"要替换的值1\",id2:\"要替换的值2\",...}\r\n   * format(时间格式化) \"YYYY-MM-DD HH:mm:ss\"\r\n   * subStr(字符串长度截取，超过规定长度用英文...表示) true(自动截取) [number](超长截取固定字段)\r\n   * popover(内容悬浮显示窗体) true(显示自身内容) [string](对应其他同行数据的其他内容)\r\n   * customFn(自定义返回处理函数)\r\n   * showSummary(合计)  summaryMethod 自定义值\r\n   *\r\n   * 父组件传入showSelection(默认不显示),布尔类型,是否显示CheckBox\r\n   * 父组件传入showIndex(默认显示),布尔类型,是否显示索引\r\n   * 父组件传入showRadio(默认显示),布尔类型,是否高亮显示\r\n   * 父组件传入border(默认显示),布尔类型,是否显示边框\r\n   *\r\n   * 子组件传出select事件(选择CheckBox),附带selection和row信息,以对象传出去\r\n   * 子组件传出selectAll事件(全选事件),附带selection信息,以对象传出去\r\n   * 子组件传出rowClick事件(行单击事件),附带row, event, column信息,以对象传出去\r\n   * 子组件传出rowDblclick事件(行双击事件),附带row, event信息,以对象传出去\r\n   *\r\n   * 增加前端分页;传入frontPage为真值,setdata时的值为后台返回的数据\r\n   *\r\n   * */\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    // propData: {\n    //   type: Array,\n    //   default: []\n    // },\n    id: {\n      type: String,\n      default: \"baseTable\"\n    },\n    frontPage: {\n      default: false\n    },\n    tableList: {\n      type: [Object, Array]\n    },\n    colums: {\n      type: Array,\n      default: function _default() {}\n    },\n    searchData: {\n      type: Object,\n      default: function _default() {\n        return {\n          currentPage: 1,\n          pageSize: 5\n        };\n      }\n    },\n    isClass: {\n      default: false\n    },\n    //是否多选,默认不显示\n    showSelection: {\n      //                type: [Boolean,String,N],\n      default: false\n    },\n    //是否显示操作行\n    type: {\n      type: String,\n      default: \"normal\"\n    },\n    //是否显示索引,默认不显示\n    showIndex: {\n      //                type: Boolean,\n      default: true\n    },\n    //是否高亮显示单行,默认显示\n    showRadio: {\n      //                type: Boolean,\n      default: true\n    },\n    //是否显示边框 默认显示\n    border: {\n      type: Boolean,\n      default: true\n    },\n    // maxHeight: {\n    //   default() {\n    //     return 500;\n    //   }\n    // },\n    showSummary: {\n      type: Boolean,\n      default: false\n    },\n    summaryMethod: {\n      type: Function\n    },\n    that: {\n      default: null\n    },\n    selectAttr: {\n      type: String\n    }\n  },\n  components: {\n    vPage: __WEBPACK_IMPORTED_MODULE_0__page__[\"a\" /* default */]\n  },\n  data: function data() {\n    // this.$nextTick(() => {\n    // this.maxHeight = document.getElementsByClassName(\n    //   \"plat-div-content\"\n    // )[0].clientHeight;\n    // });\n    return {\n      maxHeight: 500,\n      isLoading: false,\n      tableData: [],\n      page: {\n        pageSizes: 0,\n        pageRange: 10,\n        thisPage: 1,\n        totalPage: 0\n      },\n      isPage: true,\n      checkList: [],\n      selectable: function selectable(item) {\n        return false;\n      },\n      filterList: null\n    };\n  },\n\n  methods: {\n    //选择checkbox事件\n    select: function select(selection, row) {\n      var val = {\n        selection: selection,\n        row: row\n      };\n      this.$emit(\"select\", val);\n    },\n    setData: function setData(data) {\n      var _this = this;\n\n      // 直接传入数组，则为不分页显示\n      if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util_util_js__[\"d\" /* varType */])(data) === \"array\") {\n        this.tableData = data;\n        if (this.frontPage) {\n          this.isPage = true;\n          this.page = {\n            pageSizes: data.length,\n            pageRange: this.page.pageRange,\n            thisPage: this.page.thisPage,\n            totalPage: Math.ceil(data.length / this.page.pageRange)\n          };\n        } else {\n          this.isPage = false;\n        }\n      } else {\n        if (!this.frontPage) {\n          //后端分页\n          this.tableData = data.records;\n          var aspnetPager = data.aspnetPager;\n          if (aspnetPager && aspnetPager.currentPage) {\n            this.page = {\n              pageSizes: aspnetPager.totalCount,\n              pageRange: aspnetPager.pageSize,\n              thisPage: aspnetPager.currentPage,\n              totalPage: Math.ceil(aspnetPager.totalCount / aspnetPager.pageSize)\n            };\n          } else {\n            this.isPage = false;\n          }\n        } else {\n          //前端分页\n          data = data ? data : [];\n          this.tableData = data;\n          this.page = {\n            pageSizes: data.length,\n            pageRange: this.page.pageRange,\n            thisPage: this.page.thisPage,\n            totalPage: Math.ceil(data.length / this.page.pageRange)\n          };\n        }\n      }\n      // 设置选中值\n\n      this.$nextTick(function () {\n        if (_this.showSelection && _this.selectAttr) {\n          // this.$refs.table.\n          // console.log(this.tableData, this.$refs[this.id]);\n          _this.tableData.forEach(function (item) {\n            if (item[_this.selectAttr]) {\n              _this.$refs[_this.id].toggleRowSelection(item, true);\n            }\n          });\n        }\n      });\n    },\n    currentChange: function currentChange(val) {\n      if (!this.frontPage) {\n        //后台分页\n        this.searchData.currentPage = val;\n        this.$emit(\"callBack\", this.searchData);\n      } else {\n        //前台分页\n        this.page.thisPage = val;\n      }\n    },\n    pageSizeChange: function pageSizeChange(size) {\n      if (!this.frontPage) {\n        //后台分页\n        this.searchData.pageSize = size;\n        this.$emit(\"callBack\", this.searchData);\n      } else {\n        //前台分页\n        this.page.pageRange = size;\n        this.page.totalPage = Math.ceil(this.tableData.length / size);\n      }\n    },\n\n    //全选事件\n    selectAll: function selectAll(selection) {\n      var val = {\n        selection: selection\n      };\n      this.$emit(\"selectAll\", val);\n    },\n\n    //行单击事件\n    rowClick: function rowClick(row, event, column) {\n      if (event.target.outerHTML.indexOf(\"span\") == -1 || event.target.outerHTML.indexOf(\"el-checkbox\") != -1) {\n        this.$refs[this.id].toggleRowSelection(row);\n      }\n      var val = {\n        row: row,\n        event: event,\n        column: column\n      };\n      this.$emit(\"rowClick\", val);\n    },\n\n    //行双击事件\n    rowDblclick: function rowDblclick(row, event) {\n      var val = {\n        row: row,\n        event: event\n      };\n      this.$emit(\"rowDblclick\", val);\n    },\n    edit: function edit(val) {\n      this.$emit(\"editTable\", val);\n    },\n    deleteTable: function deleteTable(val) {\n      this.$emit(\"deleteTable\", val);\n    },\n    format: function format(value, _format) {\n      return this.$moment(value, _format);\n    },\n    customDisplay: function customDisplay(item, scope) {\n      var temp = \"\";\n      if (item.displace) {\n        temp = item.displace[scope.row[item.prop]];\n      } else {\n        temp = scope.row[item.prop];\n      }\n\n      //需要格式化的时间格式必须为时间戳（数字）或时间字符串格式\n      if (item.format && (typeof temp === \"string\" || typeof temp === \"number\")) {\n        try {\n          temp = this.format(temp, item.format);\n        } catch (e) {\n          console.warn(e);\n        }\n      }\n\n      //字符串截取长度\n      if (item.subStr && typeof item.subStr === \"number\" && temp.length > item.subStr) {\n        temp = temp.substring(0, item.subStr) + \"...\";\n      } else if (typeof item.subStr === \"boolean\") {}\n\n      if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util_util_js__[\"d\" /* varType */])(item.customFn) === \"function\") {\n        temp = item.customFn(temp, scope.row);\n      }\n      return temp;\n    },\n\n    //选择项发生改变\n    selectionChange: function selectionChange(selection) {\n      this.checkList = selection;\n      this.$emit(\"selection-change\", selection);\n    },\n\n\n    //获取选中的行\n    getCheckedRows: function getCheckedRows() {\n      return this.checkList;\n    },\n\n    // 用于多选表格，切换某一行的选中状态，如果使用了第二个参数，则是设置这一行选中与否（selected 为 true 则选中）\n    toggleRowSelection: function toggleRowSelection(rows) {\n      var _this2 = this;\n\n      this.$each(rows, function (item) {\n        _this2.$refs[_this2.id].toggleRowSelection(item, true);\n      });\n    },\n\n    //用于多选表格，清空用户的选择\n    clearSelection: function clearSelection() {\n      this.$refs[this.id].clearSelection();\n    },\n    openLoading: function openLoading() {\n      this.isLoading = true;\n    },\n    closeLoading: function closeLoading() {\n      this.isLoading = false;\n    },\n    export: function _export(name) {\n      /* generate workbook object from table */\n      var wb = __WEBPACK_IMPORTED_MODULE_3_xlsx___default.a.utils.table_to_book(this.$el);\n      /* get binary string as output */\n      var wbout = __WEBPACK_IMPORTED_MODULE_3_xlsx___default.a.write(wb, {\n        bookType: \"xlsx\",\n        bookSST: true,\n        type: \"array\"\n      });\n      try {\n        __WEBPACK_IMPORTED_MODULE_2_file_saver___default.a.saveAs(new Blob([wbout], { type: \"application/octet-stream\" }), (name || \"template\") + \".xlsx\");\n      } catch (e) {\n        if (typeof console !== \"undefined\") console.log(e, wbout);\n      }\n      return wbout;\n    },\n    filterData: function filterData(query) {\n      var data = this.tableData.filter(function (item) {\n        for (var element in query) {\n          // 当数据与查询条件存在不符时去掉\n          if (query[element] && item[element].indexOf(query[element]) === -1) {\n            return false;\n          }\n        }\n        return true;\n      });\n      this.filterList = data;\n      this.page = {\n        pageSizes: data.length,\n        pageRange: this.page.pageRange,\n        thisPage: 1,\n        totalPage: Math.ceil(data.length / this.page.pageRange)\n      };\n    }\n  },\n  computed: {\n    data: function data() {\n      if (!this.frontPage) {\n        //后台分页\n        return this.tableData;\n      } else {\n        var data = [].concat(this.tableData);\n        // 前端过滤\n        if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util_util_js__[\"d\" /* varType */])(this.filterList) === \"array\") {\n          data = this.filterList;\n        }\n\n        //前台分页\n        var start = (this.page.thisPage - 1) * this.page.pageRange,\n            end = (this.page.thisPage - 1) * this.page.pageRange + this.page.pageRange;\n        return data.slice(start, end);\n      }\n    }\n  },\n  watch: {\n    tableList: function tableList(val) {\n      this.setData(val);\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"U83o\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_timeRangeSelect_vue__ = __webpack_require__(\"pqad\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_2636df3e_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_timeRangeSelect_vue__ = __webpack_require__(\"87l7\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"JxFB\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2636df3e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_timeRangeSelect_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_2636df3e_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_timeRangeSelect_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"Uj9y\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_equalHeightPanel_vue__ = __webpack_require__(\"3tlQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_2d5a7b27_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_equalHeightPanel_vue__ = __webpack_require__(\"stRy\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"wqCo\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2d5a7b27\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_equalHeightPanel_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_2d5a7b27_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_equalHeightPanel_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"UjVw\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar getters = {};\n/* harmony default export */ __webpack_exports__[\"a\"] = (getters);\n\n/***/ }),\n\n/***/ \"VApH\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: _vm.className,\n    style: ({\n      height: _vm.height,\n      width: _vm.width\n    }),\n    attrs: {\n      \"id\": _vm.id\n    }\n  })\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"W+85\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"base-div-page\"\n  }, [_c('el-pagination', {\n    attrs: {\n      \"current-page\": _vm.page.thisPage,\n      \"total\": _vm.page.pageSizes,\n      \"layout\": \"slot,prev, pager, next,jumper\",\n      \"page-size\": _vm.pageRangeN\n    },\n    on: {\n      \"current-change\": _vm.handleCurrentChange\n    }\n  }, [_vm._t(\"default\", [_c('div', {\n    staticClass: \"base-table-pageLeft\"\n  }, [_vm._v(\"\\n                \" + _vm._s(_vm.page.pageSizes) + \"条记录，\" + _vm._s(_vm.page.thisPage) + \"/\" + _vm._s(_vm.page.totalPage) + \"页，每页\\n                \"), _c('span', {\n    staticClass: \"base-table-pagesize\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model.lazy\",\n      value: (_vm.pageRange),\n      expression: \"pageRange\",\n      modifiers: {\n        \"lazy\": true\n      }\n    }],\n    ref: \"basePageInput\",\n    staticClass: \"base-input-pageSizes\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.pageRange)\n    },\n    on: {\n      \"change\": [function($event) {\n        _vm.pageRange = $event.target.value\n      }, _vm.pageSizeChange],\n      \"click\": _vm.showPageSizes\n    }\n  }), _vm._v(\" \"), _c('ul', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isShowPageSizes),\n      expression: \"isShowPageSizes\"\n    }],\n    staticClass: \"base-ul-page\"\n  }, _vm._l((_vm.pageSizes), function(item) {\n    return _c('li', {\n      key: item,\n      on: {\n        \"click\": function($event) {\n          _vm.selectPage(item)\n        }\n      }\n    }, [_vm._v(_vm._s(item))])\n  }))]), _vm._v(\"\\n                条\\n            \")])])], 2)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"Xz3D\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"chart\",\n    class: _vm.className,\n    style: ({\n      width: _vm.width,\n      height: _vm.height,\n      width: '100%'\n    }),\n    attrs: {\n      \"id\": _vm.id\n    }\n  })\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"YKug\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"YNnD\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"YaEn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return platRoute; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"5vqR\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(\"u28b\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__store_app__ = __webpack_require__(\"cpjA\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util_util__ = __webpack_require__(\"yt7g\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__util_http__ = __webpack_require__(\"JBQq\");\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n//路由配置\nvar platRoute = [\n//首页\n{\n  path: '/welcome',\n  name: '欢迎界面',\n  meta: {\n    id: \"-1\",\n    name: \"首页\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(2).then(__webpack_require__.bind(null, \"payu\"));\n  }\n},\n//用能总览\n{\n  path: '/energyUseOverview',\n  name: '总览页面',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(11).then(__webpack_require__.bind(null, \"Q6cX\"));\n  }\n},\n// 能效分析\n{\n  path: '/efficiencyMapAnalysis',\n  name: '企业能效地图',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(34).then(__webpack_require__.bind(null, \"CjTy\"));\n  }\n}, {\n  path: '/energyConsumptionAnalysis',\n  name: '综合能耗分析',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(21).then(__webpack_require__.bind(null, \"UaLu\"));\n  }\n}, {\n  path: '/costAnalysis',\n  name: '用能成本分析',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(4).then(__webpack_require__.bind(null, \"WjEn\"));\n  }\n}, {\n  path: '/powerQualityAnalysis',\n  name: '电能质量分析',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(49).then(__webpack_require__.bind(null, \"8vjT\"));\n  }\n}, {\n  path: '/energyPeakAnalysis',\n  name: '谷平峰用电分析',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(23).then(__webpack_require__.bind(null, \"rNP+\"));\n  }\n}, {\n  path: '/comprehensiveTargetAnalysis',\n  name: '综合能效对标分析',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(51).then(__webpack_require__.bind(null, \"Zt4M\"));\n  }\n}, {\n  path: '/productTargetAnalysis',\n  name: '产品能效对标分析',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(24).then(__webpack_require__.bind(null, \"8Ov4\"));\n  }\n}, {\n  path: '/workshopTargetAnalysis',\n  name: '车间能耗对标分析',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(47).then(__webpack_require__.bind(null, \"cT/X\"));\n  }\n}, {\n  path: '/productionLineTargetAnalysis',\n  name: '产线能效对标分析',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(48).then(__webpack_require__.bind(null, \"E6eK\"));\n  }\n}, {\n  path: '/workingProcedureTargetAnalysis',\n  name: '工序能耗对标分析',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(20).then(__webpack_require__.bind(null, \"V6cS\"));\n  }\n}, {\n  path: '/equipmentTargetAnalysis',\n  name: '设备能效对标分析',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(50).then(__webpack_require__.bind(null, \"/z7V\"));\n  }\n},\n// 能源管理\n{\n  path: '/energySavingAnalysis',\n  name: '节能分析',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(7).then(__webpack_require__.bind(null, \"xzuV\"));\n  }\n}, {\n  path: '/carbonEmissionAnalysis',\n  name: '碳排放分析',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(3).then(__webpack_require__.bind(null, \"Sq52\"));\n  }\n}, {\n  path: '/entEnergy',\n  name: '能源种类管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(44).then(__webpack_require__.bind(null, \"8ndO\"));\n  }\n}, {\n  path: '/calorificEnergy',\n  name: '能源质量管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(46).then(__webpack_require__.bind(null, \"jREI\"));\n  }\n}, {\n  path: '/energyPriceElec',\n  name: '分时电价管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(45).then(__webpack_require__.bind(null, \"HZBS\"));\n  }\n}, {\n  path: '/priceEnergy',\n  name: '能源价格管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(43).then(__webpack_require__.bind(null, \"Ntn3\"));\n  }\n}, {\n  path: '/targetBenchLimit',\n  name: '指标标杆与定额管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(12).then(__webpack_require__.bind(null, \"Wk41\"));\n  }\n}, {\n  path: '/equipBenchLimit',\n  name: '设备标杆与定额管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(55).then(__webpack_require__.bind(null, \"FDC4\"));\n  }\n}, {\n  path: '/tabulationEquipmentLedger',\n  name: '表计配备与台账',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(30).then(__webpack_require__.bind(null, \"uJmW\"));\n  }\n},\n// 运行监测\n{\n  path: '/alarmCentre',\n  name: '告警中心',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(19).then(__webpack_require__.bind(null, \"Lybm\"));\n  }\n}, {\n  path: '/alarmHistorySearch',\n  name: '历史告警查询',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(29).then(__webpack_require__.bind(null, \"wC8c\"));\n  }\n}, {\n  path: '/alarmStatisticsAnalysis',\n  name: '告警统计和分析',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(26).then(__webpack_require__.bind(null, \"GMnF\"));\n  }\n}, {\n  path: '/alarmConfiguration',\n  name: '告警项配置',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(18).then(__webpack_require__.bind(null, \"oxft\"));\n  }\n}, {\n  path: '/electricityMonitoring',\n  name: '用电监测',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(28).then(__webpack_require__.bind(null, \"GWq5\"));\n  }\n}, {\n  path: '/measurementNetworkMonitoring',\n  name: '计量网络监测',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(27).then(__webpack_require__.bind(null, \"Rx7f\"));\n  }\n}, {\n  path: '/tabularDataQuery',\n  name: '表计数据查询',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(40).then(__webpack_require__.bind(null, \"pRmz\"));\n  }\n}, {\n  path: '/equipmentMonitoring',\n  name: '运行运行状态监测',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(25).then(__webpack_require__.bind(null, \"7A+J\"));\n  }\n}, {\n  path: '/threshold',\n  name: '运行状态参数配置',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(39).then(__webpack_require__.bind(null, \"ztS3\"));\n  }\n},\n// 数据管理\n\n// 系统信息管理\n{\n  path: '/resource',\n  name: '资源管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(32).then(__webpack_require__.bind(null, \"GKwg\"));\n  }\n}, {\n  path: '/logLogin',\n  name: '系统日志管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(36).then(__webpack_require__.bind(null, \"V9sk\"));\n  }\n}, {\n  path: '/code',\n  name: '数据字典管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(37).then(__webpack_require__.bind(null, \"wqxe\"));\n  }\n},\n// 基础信息管理\n{\n  path: '/energySubitem',\n  name: '分项资料管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(15).then(__webpack_require__.bind(null, \"pgBw\"));\n  }\n}, {\n  path: '/equip',\n  name: '设备资料管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(14).then(__webpack_require__.bind(null, \"Uhx2\"));\n  }\n}, {\n  path: '/organization',\n  name: '用能对象管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(13).then(__webpack_require__.bind(null, \"sh5C\"));\n  }\n}, {\n  path: '/product',\n  name: '产品资料管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(52).then(__webpack_require__.bind(null, \"RKc7\"));\n  }\n}, {\n  path: '/alarmGroup',\n  name: '告警分组管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(53).then(__webpack_require__.bind(null, \"GT3l\"));\n  }\n},\n// 指标信息管理\n{\n  path: '/target',\n  name: '指标资料管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(10).then(__webpack_require__.bind(null, \"al5a\"));\n  }\n}, {\n  path: '/targetData',\n  name: '指标类型管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(8).then(__webpack_require__.bind(null, \"QZY+\"));\n  }\n}, {\n  path: '/targetType',\n  name: '指标类型管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(35).then(__webpack_require__.bind(null, \"2xhI\"));\n  }\n},\n// 计量网络资料管理\n{\n  path: '/meter',\n  name: '表计资料管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(41).then(__webpack_require__.bind(null, \"vzGK\"));\n  }\n}, {\n  path: '/instrument',\n  name: '表计类型管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(42).then(__webpack_require__.bind(null, \"ahrZ\"));\n  }\n},\n// 超级管理员区\n{\n  path: '/moduleConfiguration',\n  name: '表单配置',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(9).then(__webpack_require__.bind(null, \"BW0N\"));\n  }\n}, {\n  path: '/module',\n  name: '模块资料管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(6).then(__webpack_require__.bind(null, \"gQYe\"));\n  }\n}, {\n  path: '/role',\n  name: '角色管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(31).then(__webpack_require__.bind(null, \"WjbN\"));\n  }\n}, {\n  path: '/user',\n  name: '用户管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(17).then(__webpack_require__.bind(null, \"0j29\"));\n  }\n}, {\n  path: '/personalMessage',\n  name: '用户信息',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(33).then(__webpack_require__.bind(null, \"6dHx\"));\n  }\n}, {\n  path: '/resetPassword',\n  name: '修改密码',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(22).then(__webpack_require__.bind(null, \"sP3D\"));\n  }\n}, {\n  path: '/enterprise',\n  name: '企业资料管理',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(38).then(__webpack_require__.bind(null, \"GQc+\"));\n  }\n}, {\n  path: '/carbonEmission',\n  name: \"碳排放量分析\",\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(5).then(__webpack_require__.bind(null, \"qdUm\"));\n  }\n}, {\n  path: '/example',\n  name: \"组件例子\",\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(1).then(__webpack_require__.bind(null, \"Z10x\"));\n  }\n}, {\n  path: '/iframeTemplate',\n  name: 'iframe',\n  meta: {\n    id: \"\"\n  },\n  component: function component() {\n    return __webpack_require__.e/* import() */(54).then(__webpack_require__.bind(null, \"5hVC\"));\n  }\n}];\n\nvar router = new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: '首页',\n    redirect: '/welcome'\n  }, {\n    path: '/login',\n    name: '登录界面',\n    meta: {\n      id: \"\"\n    },\n    component: function component() {\n      return __webpack_require__.e/* import() */(16).then(__webpack_require__.bind(null, \"W2Q3\"));\n    }\n  }, {\n    path: '/manage',\n    name: '管理页面',\n    // redirect: '/welcome',\n    meta: {\n      id: \"\"\n    },\n    component: function component() {\n      return __webpack_require__.e/* import() */(0).then(__webpack_require__.bind(null, \"4Lha\"));\n    },\n    children: platRoute\n  }]\n});\n/* harmony default export */ __webpack_exports__[\"a\"] = (router);\n\n/***/ }),\n\n/***/ \"YdHv\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (_vm.optionLists.length > 0 && _vm.optionLists.length < _vm.maxNum) ? _c('el-radio-group', {\n    on: {\n      \"change\": _vm.changeHandle\n    },\n    model: {\n      value: (_vm.selected),\n      callback: function($$v) {\n        _vm.selected = $$v\n      },\n      expression: \"selected\"\n    }\n  }, [_vm._v(\"111\\n  \"), _vm._l((_vm.optionLists), function(item, index) {\n    return _c('el-radio-button', {\n      key: index,\n      attrs: {\n        \"label\": item[_vm.valueKey]\n      }\n    }, [_vm._v(_vm._s(item[_vm.label]))])\n  })], 2) : _c('div', {\n    staticClass: \"rs_wrap\",\n    attrs: {\n      \"width\": _vm.width\n    }\n  }, [_c('el-button', {\n    on: {\n      \"click\": _vm.lastHandle\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-arrow-left\"\n  })]), _vm._v(\" \"), _c('el-select', {\n    staticClass: \"rs_select\",\n    attrs: {\n      \"filterable\": \"\",\n      \"placeholder\": \"请选择\"\n    },\n    on: {\n      \"change\": _vm.changeHandle\n    },\n    model: {\n      value: (_vm.selected),\n      callback: function($$v) {\n        _vm.selected = $$v\n      },\n      expression: \"selected\"\n    }\n  }, _vm._l((_vm.optionLists), function(item, index) {\n    return _c('el-option', {\n      key: index,\n      attrs: {\n        \"label\": item[_vm.label],\n        \"value\": item[_vm.valueKey]\n      }\n    })\n  })), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": _vm.nextHandle\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-arrow-right\"\n  })])], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"YtF0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"inblock\",\n    style: ({\n      width: _vm.width\n    })\n  }, [_c('el-radio-group', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.visibleType),\n      expression: \"visibleType\"\n    }],\n    staticClass: \"ts-radio\",\n    on: {\n      \"change\": _vm.changeHandle\n    },\n    model: {\n      value: (_vm.dateType),\n      callback: function($$v) {\n        _vm.dateType = $$v\n      },\n      expression: \"dateType\"\n    }\n  }, _vm._l((_vm.showTime), function(item, index) {\n    return _c('el-radio-button', {\n      key: index,\n      attrs: {\n        \"label\": item\n      }\n    }, [_vm._v(_vm._s(_vm.riadoList[item.toString()] ? _vm.riadoList[item.toString()].label : \"\"))])\n  })), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": _vm.lastTime\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-arrow-left\"\n  })]), _vm._v(\" \"), _c('el-date-picker', {\n    attrs: {\n      \"type\": _vm.riadoList[_vm.dateType.toString()] ? _vm.riadoList[_vm.dateType.toString()].type : '',\n      \"clearable\": false\n    },\n    on: {\n      \"change\": _vm.changeInput\n    },\n    model: {\n      value: (_vm.timeSelected),\n      callback: function($$v) {\n        _vm.timeSelected = $$v\n      },\n      expression: \"timeSelected\"\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": _vm.nextTime\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-arrow-right\"\n  })])], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"ZCen\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: \"app\"\n});\n\n/***/ }),\n\n/***/ \"ZoQJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export serialize */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = debounce;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = dateCalcRound;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(\"yt7g\");\n\n\nfunction nodeEach(list) {\n    //将NodeList转换为Array\n    var arr = new Array();\n    for (var i = 0; list.length > i; i++) {\n        var node = list[i];\n        arr.push(node);\n    }\n    return arr;\n}\n\nfunction in_array(search, array) {\n    for (var i in array) {\n        if (array[i] == search) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction getJsonObjLength(jsonObj) {\n    var Length = 0;\n    for (var item in jsonObj) {\n        Length++;\n    }\n    return Length;\n}\n\nfunction serialize(formDom) {\n    // var formDom = document.getElementById(id);\n    var valueList = []; //保存待处理的值，结构为： name , value\n    var data = {}; //返回结果的json数组\n\n    var type1List = new Array();\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='color']\")));\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='date']\")));\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='datetime']\")));\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='datetime-local']\")));\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='email']\")));\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='hidden']\")));\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='month']\")));\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='number']\")));\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='password']\")));\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='range']\")));\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='search']\")));\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='tel']\")));\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='text']\")));\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='time']\")));\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='url']\")));\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='week']\")));\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='radio']:checked\")));\n    for (var i = 0; type1List.length > i; i++) {\n        var dom = type1List[i];\n        var name = dom.getAttribute(\"name\"); //键名\n        var value = dom.value; //值\n        valueList.push({\n            name: name,\n            value: value\n        });\n    }\n\n    var type3List = formDom.querySelectorAll(\"input[type='checkbox']:checked\");\n    var existCheckbox = new Array();\n    for (var i = 0; type3List.length > i; i++) {\n        if (in_array(type3List[i].getAttribute(\"name\"), existCheckbox)) //判断是否已处理\n            continue;\n\n        var dom = type3List[i];\n\n        var name = dom.getAttribute(\"name\"); //键名\n        var value = dom.value; //值\n\n        var cache = {\n            name: name,\n            value: []\n        };\n\n        var l = formDom.querySelectorAll(\"input[type='checkbox'][name='\" + name + \"']:checked\");\n        for (var j = 0; l.length > j; j++) {\n            cache.value.push(l[j].value);\n        }\n        valueList.push(cache);\n    }\n\n    var type4List = formDom.querySelectorAll(\"select\");\n    for (var i = 0; type4List.length > i; i++) {\n        var name = type4List[i].getAttribute(\"name\"); //键名\n        var value = type4List[i].options[type4List[i].options.selectedIndex].getAttribute(\"value\"); //值\n        valueList.push({\n            name: name,\n            value: value\n        });\n    }\n\n    for (var i = 0; valueList.length > i; i++) {\n        var row = valueList[i];\n        var name = row.name;\n        if (!name) {\n            continue;\n        }\n        var value = row.value ? row.value : null;\n        var kArr = name.split(\"[\"); //是否是数组\n\n        var cDatas = \"data\";\n        for (var j = 0; j < kArr.length; j++) {\n            var cn = kArr[j].replace(/\\]/g, \"\").trim(); //去除右方括号\n            if (cn) {\n\n                if (!isNaN(cn)) {\n                    cDatas += \"[\" + cn + \"]\";\n                } else {\n                    cDatas += \".\" + cn;\n                }\n                if (eval(cDatas + \" == null\")) {\n                    eval(cDatas + \"= {};\");\n                }\n            } else {\n                //追加\n                cDatas += \"[\" + eval(\"getJsonObjLength(\" + cDatas + \")\") + \"]\";\n                eval(cDatas + \" = {};\");\n            }\n        }\n\n        eval(cDatas + \" = value;\");\n    }\n    return data;\n}\n\nfunction debounce(func, wait, immediate) {\n    var timeout = void 0,\n        args = void 0,\n        context = void 0,\n        timestamp = void 0,\n        result = void 0;\n\n    var later = function later() {\n        // 据上一次触发时间间隔\n        var last = +new Date() - timestamp;\n\n        // 上次被包装函数被调用时间间隔last小于设定时间间隔wait\n        if (last < wait && last > 0) {\n            timeout = setTimeout(later, wait - last);\n        } else {\n            timeout = null;\n            // 如果设定为immediate===true，因为开始边界已经调用过了此处无需调用\n            if (!immediate) {\n                result = func.apply(context, args);\n                if (!timeout) context = args = null;\n            }\n        }\n    };\n\n    return function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        context = this;\n        timestamp = +new Date();\n        var callNow = immediate && !timeout;\n        // 如果延时不存在，重新设定延时\n        if (!timeout) timeout = setTimeout(later, wait);\n        if (callNow) {\n            result = func.apply(context, args);\n            context = args = null;\n        }\n\n        return result;\n    };\n}\n\n// 时间坐标轴计算\nfunction dateCalcRound(date) {\n    var isTimeRange = date.split(\",\"); // 是否传入开始结束时间还是指传时间值\n    var xAxis = [];\n    if (isTimeRange.length === 1) {\n        var temp = date.split(\"-\");\n        switch (temp.length) {\n            case 1:\n                // 月\n                for (var i = 1; i < 13; i++) {\n                    xAxis.push(date + \"-\" + (i < 10 ? \"0\" + i : i));\n                }\n                break;\n            case 2:\n                // 日\n                for (var _i = 1, len = new Date(temp[0], temp[1] + 1, 0).getDate(); _i < len; _i++) {\n                    xAxis.push(date + \"-\" + (_i < 10 ? \"0\" + _i : _i));\n                }\n                break;\n            case 3:\n                // 小时\n                for (var _i2 = 0; _i2 < 24; _i2++) {\n                    xAxis.push(date + \" \" + (_i2 < 10 ? \"0\" + _i2 : _i2) + \":00\");\n                }\n                break;\n        }\n    } else if (isTimeRange.length > 1) {\n        var temp0 = isTimeRange[0].split(\"-\");\n        var temp1 = isTimeRange[1].split(\"-\");\n        if (temp0.length !== temp1.length) {\n            console.warn(\"开始结束时间格式不对等。\");\n            return [];\n        }\n        switch (temp0.length) {\n            case 1:\n                // 年\n                for (var _i4 = parseInt(temp0); _i4 <= parseInt(temp1) + 1; _i4++) {\n                    xAxis.push(_i4.toString());\n                }\n                break;\n            case 2:\n                // 月\n                var _i3 = isTimeRange[0];\n                xAxis.push(_i3);\n                do {\n                    _i3 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__[\"q\" /* formatTime */])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__[\"g\" /* calcTime */])(_i3, 1, 5), \"YYYY-MM\");\n                    xAxis.push(_i3);\n                } while (_i3 !== isTimeRange[1]);\n                // for (let i = temp0; i == temp[1]; i = formatTime(new Date(temp[0], temp0[1] + 1), \"YYYY-MM\")) {\n                //     xAxis.push(temp0);\n                // }\n                break;\n            case 3:\n                // 日\n                for (var _i5 = isTimeRange[0]; _i5 !== isTimeRange[1]; _i5 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__[\"q\" /* formatTime */])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__[\"g\" /* calcTime */])(_i5, 1, 3), \"YYYY-MM-DD\")) {\n                    xAxis.push(_i5);\n                }\n                break;\n        }\n    }\n    return xAxis;\n}\n\n/***/ }),\n\n/***/ \"aGyw\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_dialog_vue__ = __webpack_require__(\"11TP\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_cbc01824_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_dialog_vue__ = __webpack_require__(\"0qHx\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"SsWL\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_dialog_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_cbc01824_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_dialog_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"aUnt\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from__ = __webpack_require__(\"kfHR\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue__ = __webpack_require__(\"5vqR\");\n\n\n\n\nfunction DataTransfer(data) {\n    if (!(this instanceof DataTransfer)) {\n        return new DataTransfer(data, null, null);\n    }\n}\n\nDataTransfer.treeToArray = function (data, parent, level, expandedAll) {\n    var tmp = [];\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from___default()(data).forEach(function (record) {\n        if (record._expanded === undefined) {\n            __WEBPACK_IMPORTED_MODULE_1_vue__[\"default\"].set(record, '_expanded', expandedAll);\n        }\n        if (parent) {\n            __WEBPACK_IMPORTED_MODULE_1_vue__[\"default\"].set(record, '_parent', parent);\n        }\n        var _level = 0;\n        if (level !== undefined && level !== null) {\n            _level = level + 1;\n        }\n        __WEBPACK_IMPORTED_MODULE_1_vue__[\"default\"].set(record, '_level', _level);\n        tmp.push(record);\n        if (record.children && record.children.length > 0) {\n            var children = DataTransfer.treeToArray(record.children, record, _level, expandedAll);\n            tmp = tmp.concat(children);\n        }\n    });\n    return tmp;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({ DataTransfer: DataTransfer });\n\n/***/ }),\n\n/***/ \"aaZk\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"5vqR\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_echarts__ = __webpack_require__(\"KsGq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_echarts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_echarts__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__http_js__ = __webpack_require__(\"JBQq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__validate_js__ = __webpack_require__(\"v46e\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_base_vLoading_index_js__ = __webpack_require__(\"9wPN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_base_table_vue__ = __webpack_require__(\"7oBm\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_base_select_vue__ = __webpack_require__(\"qMqN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_base_selectTree_vue__ = __webpack_require__(\"0NkV\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__components_base_TreeGrid_vue__ = __webpack_require__(\"PSlP\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__components_base_tree_vue__ = __webpack_require__(\"HZMF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__components_base_myTransfer_vue__ = __webpack_require__(\"yJdf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__components_base_dialog_vue__ = __webpack_require__(\"aGyw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__components_base_dateTime_vue__ = __webpack_require__(\"bmGs\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__components_base_echarts_vue__ = __webpack_require__(\"tDMO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__components_base_fileUpload_vue__ = __webpack_require__(\"/hdX\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__components_pageLayout_manage_vue__ = __webpack_require__(\"EfAQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__components_pageLayout_panel_vue__ = __webpack_require__(\"gzMA\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__components_pageLayout_equalHeightPanel_vue__ = __webpack_require__(\"Uj9y\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__components_analysis_timeSelect_vue__ = __webpack_require__(\"5iQ3\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__components_analysis_timeRangeSelect_vue__ = __webpack_require__(\"U83o\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__components_analysis_radioSelect_vue__ = __webpack_require__(\"Oz2X\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__components_analysis_radioBlock_vue__ = __webpack_require__(\"ErAH\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__components_analysis_lineChart_vue__ = __webpack_require__(\"QUzg\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__components_analysis_gaugeChart_vue__ = __webpack_require__(\"MGpf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__components_analysis_pieChart_vue__ = __webpack_require__(\"giTt\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__components_analysis_analysis_vue__ = __webpack_require__(\"soPF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__util__ = __webpack_require__(\"yt7g\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// 布局\n\n// 分析平台布局\n\n\n\n\n\n\n\n\n\n\n\n// Vue.component(vloading.name, vloading) // loading组件\n// Vue.prototype.$vLoading = vloading // 使用$vLoading方法调用组件,传入一个target\n// Vue.$vLoading = vloading;\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_4__components_base_vLoading_index_js__[\"a\" /* default */]);\n\n\n// XXX 跳转到登录界面\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].prototype.homePage = \"https://\" + location.hostname + \":8443/urp/login.html\";\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].prototype.getCookie = __WEBPACK_IMPORTED_MODULE_26__util__[\"a\" /* getCookie */];\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].prototype.setCookie = __WEBPACK_IMPORTED_MODULE_26__util__[\"e\" /* setCookie */];\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].prototype.delCookie = __WEBPACK_IMPORTED_MODULE_26__util__[\"p\" /* delCookie */];\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].prototype.$echarts = __WEBPACK_IMPORTED_MODULE_1_echarts___default.a;\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].prototype.$moment = __WEBPACK_IMPORTED_MODULE_26__util__[\"q\" /* formatTime */];\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].prototype.$each = __WEBPACK_IMPORTED_MODULE_26__util__[\"r\" /* each */];\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].prototype.$ajax = __WEBPACK_IMPORTED_MODULE_2__http_js__[\"a\" /* default */]; //设置全局的请求,子组件使用this.$ajax去发送请求;\n\nvar STANDARDtIMEFORMAT = [\"YYYY\", \"MM\", \"DD\", \"HH\", \"mm\", \"ss\"];\n\nvar success1 = function success1() {\n    console.log('success');\n},\n    er1 = function er1() {\n    console.log('err');\n};\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].prototype.$alertMsg = function (msg, title) {\n    var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'success';\n    var success = arguments[3];\n    var err = arguments[4];\n\n    if (success === undefined) {\n        success = success1;\n    }\n    if (err === undefined) {\n        err = er1;\n    }\n    this.$confirm(msg, title, {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: type\n    }).then(function () {\n        success();\n    }).catch(function () {\n        err();\n    });\n};\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].prototype.$showMsg = function (msg, title) {\n    var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'success';\n\n    this.$notify({\n        title: title,\n        message: msg,\n        type: type\n    });\n};\n//注册全局组件\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-table', __WEBPACK_IMPORTED_MODULE_5__components_base_table_vue__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-select-tree', __WEBPACK_IMPORTED_MODULE_7__components_base_selectTree_vue__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-select', __WEBPACK_IMPORTED_MODULE_6__components_base_select_vue__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-treeGrid', __WEBPACK_IMPORTED_MODULE_8__components_base_TreeGrid_vue__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-tree', __WEBPACK_IMPORTED_MODULE_9__components_base_tree_vue__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-transfer', __WEBPACK_IMPORTED_MODULE_10__components_base_myTransfer_vue__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-dialog', __WEBPACK_IMPORTED_MODULE_11__components_base_dialog_vue__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-time', __WEBPACK_IMPORTED_MODULE_12__components_base_dateTime_vue__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-echart', __WEBPACK_IMPORTED_MODULE_13__components_base_echarts_vue__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-manage-page', __WEBPACK_IMPORTED_MODULE_15__components_pageLayout_manage_vue__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-upload', __WEBPACK_IMPORTED_MODULE_14__components_base_fileUpload_vue__[\"a\" /* default */]);\n// 分析平台\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-panel', __WEBPACK_IMPORTED_MODULE_16__components_pageLayout_panel_vue__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-equal-panel', __WEBPACK_IMPORTED_MODULE_17__components_pageLayout_equalHeightPanel_vue__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-time-select', __WEBPACK_IMPORTED_MODULE_18__components_analysis_timeSelect_vue__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-time-range', __WEBPACK_IMPORTED_MODULE_19__components_analysis_timeRangeSelect_vue__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-radio-select', __WEBPACK_IMPORTED_MODULE_20__components_analysis_radioSelect_vue__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-radio-block', __WEBPACK_IMPORTED_MODULE_21__components_analysis_radioBlock_vue__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-line-chart', __WEBPACK_IMPORTED_MODULE_22__components_analysis_lineChart_vue__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-gauge-chart', __WEBPACK_IMPORTED_MODULE_23__components_analysis_gaugeChart_vue__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-pie-chart', __WEBPACK_IMPORTED_MODULE_24__components_analysis_pieChart_vue__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component('da-analysis-panel', __WEBPACK_IMPORTED_MODULE_25__components_analysis_analysis_vue__[\"a\" /* default */]);\n\n//调用子组件中的方法\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].prototype.$invokeSubMethod = function (method, subComponents, data) {\n    var arr = data;\n    if (!(data instanceof Array)) {\n        arr = [data];\n    }\n    return this.$refs[subComponents][method].apply(this, arr);\n};\n\n//普通字符转换为任意符\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].prototype.html2Escape = function (sHtml) {\n    if (sHtml !== 0 && !sHtml || sHtml.length === 0) {\n        return \"\";\n    }\n    return sHtml.replace(/[<>&\"]/g, function (c) {\n        return {\n            '<': '&lt;',\n            '>': '&gt;',\n            '&': '&amp;',\n            '\"': '&quot;'\n        }[c];\n    });\n};\n\n//任意符转换为普通字符\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].prototype.escape2Html = function (str) {\n    if (str !== 0 && !str || str.length === 0) {\n        return \"\";\n    }\n    var arrEntities = {\n        'lt': '<',\n        'gt': '>',\n        'nbsp': ' ',\n        'amp': '&',\n        'quot': '\"'\n    };\n    return str.replace(/&(lt|gt|nbsp|amp|quot);/ig, function (all, t) {\n        return arrEntities[t];\n    });\n};\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].prototype.eachValidate = function (obj) {\n    var rules = {};\n    for (name in obj) {\n        rules[name] = this.validation(obj[name]);\n    }\n    return rules;\n};\n\n//表单验证\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].prototype.validation = function (ruleObj) {\n    var rules = [],\n        rule;\n\n    for (name in ruleObj) {\n        // if (ruleObj[name]) {\n        var item = {},\n            ruleIsBaseData = false;\n\n        if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_26__util__[\"d\" /* varType */])(__WEBPACK_IMPORTED_MODULE_3__validate_js__[\"a\" /* default */][name]) === \"object\") {\n            item = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_26__util__[\"k\" /* deepCopy */])(__WEBPACK_IMPORTED_MODULE_3__validate_js__[\"a\" /* default */][name]);\n        }\n\n        if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_26__util__[\"d\" /* varType */])(ruleObj[name]) === \"object\") {\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_26__util__[\"h\" /* extend */])(item, ruleObj[name]);\n        } else if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_26__util__[\"d\" /* varType */])(ruleObj[name]) === \"function\") {\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_26__util__[\"h\" /* extend */])(item, {\n                \"validator\": ruleObj[name]\n            });\n        } else if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_26__util__[\"d\" /* varType */])(ruleObj[name]) === \"array\" || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_26__util__[\"d\" /* varType */])(ruleObj[name]) !== \"boolean\") {\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_26__util__[\"h\" /* extend */])(item, {\n                \"data\": ruleObj[name]\n            });\n        }\n        // XXX 对原来存在的验证及规则重写比较麻烦，故一些基本也自定义\n        // else if (varType(ruleObj[name]) === \"array\" || (ruleIsBaseData = typeof ruleObj[name] !== \"object\")) {\n        //     let objItem = {};\n        //     //基本数据类型\n        //     if (ruleIsBaseData) {\n        //         objItem[name] = ruleObj[name];\n        //     } else {\n\n        //     }\n        //     extend(item, objItem);\n        // }\n        rules.push(item);\n        // }\n    }\n    return rules;\n};\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].prototype.chartNoData = function () {\n    return \"暂无数据\";\n};\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].directive(\"drag\", {\n    bind: function bind(el, binding) {\n        var oDiv = binding.value ? el.getElementsByClassName(binding.value)[0] : el,\n            self = this;\n        oDiv.onmousedown = function (e) {\n            var disX = e.clientX - oDiv.offsetLeft,\n                disY = e.clientY - oDiv.offsetTop;\n            document.onmousemove = function (e) {\n                //通过事件委托，计算移动的距离 \n                var l = e.clientX - disX;\n                var t = e.clientY - disY;\n                //移动当前元素  \n                oDiv.style.left = l + 'px';\n                oDiv.style.top = t + 'px';\n                //将此时的位置传出去\n                // binding.value({ x: e.pageX, y: e.pageY })\n            };\n            document.onmouseup = function (e) {\n                document.onmousemove = null;\n                document.onmouseup = null;\n            };\n        };\n    }\n});\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"]);\n\n/***/ }),\n\n/***/ \"alkQ\":\n/***/ (function(module, exports) {\n\n/*!\n * UEditor\n * version: ueditor\n * build: Wed Aug 10 2016 11:06:19 GMT+0800 (CST)\n */\n\n!function(){!function(){UE=window.UE||{};var a=!!window.ActiveXObject,b={removeLastbs:function(a){return a.replace(/\\/$/,\"\")},extend:function(a,b){for(var c=arguments,d=!!this.isBoolean(c[c.length-1])&&c[c.length-1],e=this.isBoolean(c[c.length-1])?c.length-1:c.length,f=1;f<e;f++){var g=c[f];for(var h in g)d&&a.hasOwnProperty(h)||(a[h]=g[h])}return a},isIE:a,cssRule:a?function(a,b,c){var d,e;c=c||document,d=c.indexList?c.indexList:c.indexList={};var f;if(d[a])f=c.styleSheets[d[a]];else{if(void 0===b)return\"\";f=c.createStyleSheet(\"\",e=c.styleSheets.length),d[a]=e}return void 0===b?f.cssText:void(f.cssText=f.cssText+\"\\n\"+(b||\"\"))}:function(a,b,c){c=c||document;var d,e=c.getElementsByTagName(\"head\")[0];if(!(d=c.getElementById(a))){if(void 0===b)return\"\";d=c.createElement(\"style\"),d.id=a,e.appendChild(d)}return void 0===b?d.innerHTML:void(\"\"!==b?d.innerHTML=d.innerHTML+\"\\n\"+b:e.removeChild(d))},domReady:function(b){var c=window.document;\"complete\"===c.readyState?b():a?(!function(){if(!c.isReady){try{c.documentElement.doScroll(\"left\")}catch(a){return void setTimeout(arguments.callee,0)}b()}}(),window.attachEvent(\"onload\",function(){b()})):(c.addEventListener(\"DOMContentLoaded\",function(){c.removeEventListener(\"DOMContentLoaded\",arguments.callee,!1),b()},!1),window.addEventListener(\"load\",function(){b()},!1))},each:function(a,b,c){if(null!=a)if(a.length===+a.length){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a)===!1)return!1}else for(var f in a)if(a.hasOwnProperty(f)&&b.call(c,a[f],f,a)===!1)return!1},inArray:function(a,b){var c=-1;return this.each(a,function(a,d){if(a===b)return c=d,!1}),c},pushItem:function(a,b){this.inArray(a,b)==-1&&a.push(b)},trim:function(a){return a.replace(/(^[ \\t\\n\\r]+)|([ \\t\\n\\r]+$)/g,\"\")},indexOf:function(a,b,c){var d=-1;return c=this.isNumber(c)?c:0,this.each(a,function(a,e){if(e>=c&&a===b)return d=e,!1}),d},hasClass:function(a,b){b=b.replace(/(^[ ]+)|([ ]+$)/g,\"\").replace(/[ ]{2,}/g,\" \").split(\" \");for(var c,d=0,e=a.className;c=b[d++];)if(!new RegExp(\"\\\\b\"+c+\"\\\\b\",\"i\").test(e))return!1;return d-1==b.length},addClass:function(a,c){if(a){c=this.trim(c).replace(/[ ]{2,}/g,\" \").split(\" \");for(var d,e=0,f=a.className;d=c[e++];)new RegExp(\"\\\\b\"+d+\"\\\\b\").test(f)||(f+=\" \"+d);a.className=b.trim(f)}},removeClass:function(a,b){b=this.isArray(b)?b:this.trim(b).replace(/[ ]{2,}/g,\" \").split(\" \");for(var c,d=0,e=a.className;c=b[d++];)e=e.replace(new RegExp(\"\\\\b\"+c+\"\\\\b\"),\"\");e=this.trim(e).replace(/[ ]{2,}/g,\" \"),a.className=e,!e&&a.removeAttribute(\"className\")},on:function(a,c,d){var e=this.isArray(c)?c:c.split(/\\s+/),f=e.length;if(f)for(;f--;)if(c=e[f],a.addEventListener)a.addEventListener(c,d,!1);else{d._d||(d._d={els:[]});var g=c+d.toString(),h=b.indexOf(d._d.els,a);d._d[g]&&h!=-1||(h==-1&&d._d.els.push(a),d._d[g]||(d._d[g]=function(a){return d.call(a.srcElement,a||window.event)}),a.attachEvent(\"on\"+c,d._d[g]))}a=null},off:function(a,c,d){var e=this.isArray(c)?c:c.split(/\\s+/),f=e.length;if(f)for(;f--;)if(c=e[f],a.removeEventListener)a.removeEventListener(c,d,!1);else{var g=c+d.toString();try{a.detachEvent(\"on\"+c,d._d?d._d[g]:d)}catch(h){}if(d._d&&d._d[g]){var i=b.indexOf(d._d.els,a);i!=-1&&d._d.els.splice(i,1),0==d._d.els.length&&delete d._d[g]}}},loadFile:function(){function a(a,c){try{for(var d,e=0;d=b[e++];)if(d.doc===a&&d.url==(c.src||c.href))return d}catch(f){return null}}var b=[];return function(c,d,e){var f=a(c,d);if(f)return void(f.ready?e&&e():f.funs.push(e));if(b.push({doc:c,url:d.src||d.href,funs:[e]}),!c.body){var g=[];for(var h in d)\"tag\"!=h&&g.push(h+'=\"'+d[h]+'\"');return void c.write(\"<\"+d.tag+\" \"+g.join(\" \")+\" ></\"+d.tag+\">\")}if(!d.id||!c.getElementById(d.id)){var i=c.createElement(d.tag);delete d.tag;for(var h in d)i.setAttribute(h,d[h]);i.onload=i.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){if(f=a(c,d),f.funs.length>0){f.ready=1;for(var b;b=f.funs.pop();)b()}i.onload=i.onreadystatechange=null}},i.onerror=function(){throw Error(\"The load \"+(d.href||d.src)+\" fails,check the url\")},c.getElementsByTagName(\"head\")[0].appendChild(i)}}}()};b.each([\"String\",\"Function\",\"Array\",\"Number\",\"RegExp\",\"Object\",\"Boolean\"],function(a){b[\"is\"+a]=function(b){return Object.prototype.toString.apply(b)==\"[object \"+a+\"]\"}});var c={};UE.parse={register:function(a,b){c[a]=b},load:function(a){b.each(c,function(c){c.call(a,b)})}},uParse=function(a,c){b.domReady(function(){var d;if(document.querySelectorAll)d=document.querySelectorAll(a);else if(/^#/.test(a))d=[document.getElementById(a.replace(/^#/,\"\"))];else if(/^\\./.test(a)){var d=[];b.each(document.getElementsByTagName(\"*\"),function(b){b.className&&new RegExp(\"\\\\b\"+a.replace(/^\\./,\"\")+\"\\\\b\",\"i\").test(b.className)&&d.push(b)})}else d=document.getElementsByTagName(a);b.each(d,function(d){UE.parse.load(b.extend({root:d,selector:a},c))})})}}(),UE.parse.register(\"insertcode\",function(a){var b=this.root.getElementsByTagName(\"pre\");if(b.length)if(\"undefined\"==typeof XRegExp){var c,d;void 0!==this.rootPath?(c=a.removeLastbs(this.rootPath)+\"/third-party/SyntaxHighlighter/shCore.js\",d=a.removeLastbs(this.rootPath)+\"/third-party/SyntaxHighlighter/shCoreDefault.css\"):(c=this.highlightJsUrl,d=this.highlightCssUrl),a.loadFile(document,{id:\"syntaxhighlighter_css\",tag:\"link\",rel:\"stylesheet\",type:\"text/css\",href:d}),a.loadFile(document,{id:\"syntaxhighlighter_js\",src:c,tag:\"script\",type:\"text/javascript\",defer:\"defer\"},function(){a.each(b,function(a){a&&/brush/i.test(a.className)&&SyntaxHighlighter.highlight(a)})})}else a.each(b,function(a){a&&/brush/i.test(a.className)&&SyntaxHighlighter.highlight(a)})}),UE.parse.register(\"table\",function(a){function b(b,c){var d,e=b;for(c=a.isArray(c)?c:[c];e;){for(d=0;d<c.length;d++)if(e.tagName==c[d].toUpperCase())return e;e=e.parentNode}return null}function c(b,c,e){for(var f=b.rows,g=[],h=\"TH\"===f[0].cells[0].tagName,i=0,j=0,k=f.length;j<k;j++)g[j]=f[j];var l={reversecurrent:function(a,b){return 1},orderbyasc:function(a,b){var c=a.innerText||a.textContent,d=b.innerText||b.textContent;return c.localeCompare(d)},reversebyasc:function(a,b){var c=a.innerHTML,d=b.innerHTML;return d.localeCompare(c)},orderbynum:function(b,c){var d=b[a.isIE?\"innerText\":\"textContent\"].match(/\\d+/),e=c[a.isIE?\"innerText\":\"textContent\"].match(/\\d+/);return d&&(d=+d[0]),e&&(e=+e[0]),(d||0)-(e||0)},reversebynum:function(b,c){var d=b[a.isIE?\"innerText\":\"textContent\"].match(/\\d+/),e=c[a.isIE?\"innerText\":\"textContent\"].match(/\\d+/);return d&&(d=+d[0]),e&&(e=+e[0]),(e||0)-(d||0)}};b.setAttribute(\"data-sort-type\",e&&\"string\"==typeof e&&l[e]?e:\"\"),h&&g.splice(0,1),g=d(g,function(a,b){var d;return d=e&&\"function\"==typeof e?e.call(this,a.cells[c],b.cells[c]):e&&\"number\"==typeof e?1:e&&\"string\"==typeof e&&l[e]?l[e].call(this,a.cells[c],b.cells[c]):l.orderbyasc.call(this,a.cells[c],b.cells[c])});for(var m=b.ownerDocument.createDocumentFragment(),n=0,k=g.length;n<k;n++)m.appendChild(g[n]);var o=b.getElementsByTagName(\"tbody\")[0];i?o.insertBefore(m,f[i-range.endRowIndex+range.beginRowIndex-1]):o.appendChild(m)}function d(a,b){b=b||function(a,b){return a.localeCompare(b)};for(var c=0,d=a.length;c<d;c++)for(var e=c,f=a.length;e<f;e++)if(b(a[c],a[e])>0){var g=a[c];a[c]=a[e],a[e]=g}return a}function e(b){if(!a.hasClass(b.rows[0],\"firstRow\")){for(var c=1;c<b.rows.length;c++)a.removeClass(b.rows[c],\"firstRow\");a.addClass(b.rows[0],\"firstRow\")}}var f=this,g=this.root,h=g.getElementsByTagName(\"table\");if(h.length){var i=this.selector;a.cssRule(\"table\",i+\" table.noBorderTable td,\"+i+\" table.noBorderTable th,\"+i+\" table.noBorderTable caption{border:1px dashed #ddd !important}\"+i+\" table.sortEnabled tr.firstRow th,\"+i+\" table.sortEnabled tr.firstRow td{padding-right:20px; background-repeat: no-repeat;background-position: center right; background-image:url(\"+this.rootPath+\"themes/default/images/sortable.png);}\"+i+\" table.sortEnabled tr.firstRow th:hover,\"+i+\" table.sortEnabled tr.firstRow td:hover{background-color: #EEE;}\"+i+\" table{margin-bottom:10px;border-collapse:collapse;display:table;}\"+i+\" td,\"+i+\" th{ background:white; padding: 5px 10px;border: 1px solid #DDD;}\"+i+\" caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}\"+i+\" th{border-top:1px solid #BBB;background:#F7F7F7;}\"+i+\" table tr.firstRow th{border-top:2px solid #BBB;background:#F7F7F7;}\"+i+\" tr.ue-table-interlace-color-single td{ background: #fcfcfc; }\"+i+\" tr.ue-table-interlace-color-double td{ background: #f7faff; }\"+i+\" td p{margin:0;padding:0;}\",document),a.each(\"td th caption\".split(\" \"),function(b){var c=g.getElementsByTagName(b);c.length&&a.each(c,function(a){a.firstChild||(a.innerHTML=\"&nbsp;\")})});var h=g.getElementsByTagName(\"table\");a.each(h,function(d){/\\bsortEnabled\\b/.test(d.className)&&a.on(d,\"click\",function(d){var g=d.target||d.srcElement,h=b(g,[\"td\",\"th\"]),i=b(g,\"table\"),j=a.indexOf(i.rows[0].cells,h),k=i.getAttribute(\"data-sort-type\");j!=-1&&(c(i,j,f.tableSortCompareFn||k),e(i))})})}}),UE.parse.register(\"charts\",function(a){function b(){return n?c(n):null}function c(a){for(var b,c=[],e=a.getElementsByTagName(\"table\"),f=0;b=e[f];f++)null!==b.getAttribute(\"data-chart\")&&c.push(d(b));return c.length?c:null}function d(a){for(var b,c=a.getAttribute(\"data-chart\"),d={},e=[],f=0;b=a.rows[f];f++){for(var g,h=[],i=0;g=b.cells[i];i++){var j=g.innerText||g.textContent||\"\";h.push(\"TH\"==g.tagName?j:0|j)}e.push(h)}c=c.split(\";\");for(var k,f=0;k=c[f];f++)k=k.split(\":\"),d[k[0]]=k[1];return{table:a,meta:d,data:e}}function e(){f()}function f(){window.jQuery?g():a.loadFile(document,{src:m+\"/third-party/jquery-1.10.2.min.js\",tag:\"script\",type:\"text/javascript\",defer:\"defer\"},function(){g()})}function g(){window.Highcharts?h():a.loadFile(document,{src:m+\"/third-party/highcharts/highcharts.js\",tag:\"script\",type:\"text/javascript\",defer:\"defer\"},function(){h()})}function h(){a.loadFile(document,{src:m+\"/dialogs/charts/chart.config.js\",tag:\"script\",type:\"text/javascript\",defer:\"defer\"},function(){i()})}function i(){for(var a=null,b=null,c=null,d=0,e=o.length;d<e;d++)a=o[d],b=l(a),c=k(a.table),j(c,typeConfig[a.meta.chartType],b)}function j(a,b,c){$(a).highcharts($.extend({},b,{credits:{enabled:!1},exporting:{enabled:!1},title:{text:c.title,x:-20},subtitle:{text:c.subTitle,x:-20},xAxis:{title:{text:c.xTitle},categories:c.categories},yAxis:{title:{text:c.yTitle},plotLines:[{value:0,width:1,color:\"#808080\"}]},tooltip:{enabled:!0,valueSuffix:c.suffix},legend:{layout:\"vertical\",align:\"right\",verticalAlign:\"middle\",borderWidth:1},series:c.series}))}function k(a){var b=document.createElement(\"div\");return b.className=\"edui-chart-container\",a.parentNode.replaceChild(b,a),b}function l(a){var b=[],c=[],d=[],e=a.data,f=a.meta;if(\"1\"!=f.dataFormat){for(var g=0,h=e.length;g<h;g++)for(var i=0,j=e[g].length;i<j;i++)d[i]||(d[i]=[]),d[i][g]=e[g][i];e=d}if(d={},f.chartType!=typeConfig.length-1){c=e[0].slice(1);for(var k,g=1;k=e[g];g++)b.push({name:k[0],data:k.slice(1)});d.series=b,d.categories=c,d.title=f.title,d.subTitle=f.subTitle,d.xTitle=f.xTitle,d.yTitle=f.yTitle,d.suffix=f.suffix}else{for(var k=[],g=1,h=e[0].length;g<h;g++)k.push([e[0][g],0|e[1][g]]);b[0]={type:\"pie\",name:f.tip,data:k},d.series=b,d.title=f.title,d.suffix=f.suffix}return d}a.cssRule(\"chartsContainerHeight\",\".edui-chart-container { height:\"+(this.chartContainerHeight||300)+\"px}\");var m=this.rootPath,n=this.root,o=null;m&&(o=b())&&e()}),UE.parse.register(\"background\",function(a){for(var b,c,d=this,e=d.root,f=e.getElementsByTagName(\"p\"),g=0;c=f[g++];)b=c.getAttribute(\"data-background\"),b&&c.parentNode.removeChild(c);b&&a.cssRule(\"ueditor_background\",d.selector+\"{\"+b+\"}\",document)}),UE.parse.register(\"list\",function(a){function b(b){var e=this;a.each(b,function(b){if(b.className&&/custom_/i.test(b.className)){var f=b.className.match(/custom_(\\w+)/)[1];if(\"dash\"==f||\"dot\"==f)a.pushItem(c,h+\" li.list-\"+d[f]+\"{background-image:url(\"+e.liiconpath+d[f]+\".gif)}\"),a.pushItem(c,h+\" ul.custom_\"+f+\"{list-style:none;} \"+h+\" ul.custom_\"+f+\" li{background-position:0 3px;background-repeat:no-repeat}\");else{var g=1;a.each(b.childNodes,function(b){\"LI\"==b.tagName&&(a.pushItem(c,h+\" li.list-\"+d[f]+g+\"{background-image:url(\"+e.liiconpath+\"list-\"+d[f]+g+\".gif)}\"),g++)}),a.pushItem(c,h+\" ol.custom_\"+f+\"{list-style:none;}\"+h+\" ol.custom_\"+f+\" li{background-position:0 3px;background-repeat:no-repeat}\")}switch(f){case\"cn\":a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-1{padding-left:25px}\"),a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-2{padding-left:40px}\"),a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-3{padding-left:55px}\");break;case\"cn1\":a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-1{padding-left:30px}\"),a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-2{padding-left:40px}\"),a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-3{padding-left:55px}\");break;case\"cn2\":a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-1{padding-left:40px}\"),a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-2{padding-left:55px}\"),a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-3{padding-left:68px}\");break;case\"num\":case\"num1\":a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-1{padding-left:25px}\");break;case\"num2\":a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-1{padding-left:35px}\"),a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-2{padding-left:40px}\");break;case\"dash\":a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft{padding-left:35px}\");break;case\"dot\":a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft{padding-left:20px}\")}}})}var c=[],d={cn:\"cn-1-\",cn1:\"cn-2-\",cn2:\"cn-3-\",num:\"num-1-\",num1:\"num-2-\",num2:\"num-3-\",dash:\"dash\",dot:\"dot\"};a.extend(this,{liiconpath:\"http://bs.baidu.com/listicon/\",listDefaultPaddingLeft:\"20\"});var e=this.root,f=e.getElementsByTagName(\"ol\"),g=e.getElementsByTagName(\"ul\"),h=this.selector;f.length&&b.call(this,f),g.length&&b.call(this,g),(f.length||g.length)&&(c.push(h+\" .list-paddingleft-1{padding-left:0}\"),c.push(h+\" .list-paddingleft-2{padding-left:\"+this.listDefaultPaddingLeft+\"px}\"),c.push(h+\" .list-paddingleft-3{padding-left:\"+2*this.listDefaultPaddingLeft+\"px}\"),a.cssRule(\"list\",h+\" ol,\"+h+\" ul{margin:0;padding:0;}li{clear:both;}\"+c.join(\"\\n\"),document))}),UE.parse.register(\"vedio\",function(a){var b=this.root.getElementsByTagName(\"video\"),c=this.root.getElementsByTagName(\"audio\");if(document.createElement(\"video\"),document.createElement(\"audio\"),b.length||c.length){var d=a.removeLastbs(this.rootPath),e=d+\"/third-party/video-js/video.js\",f=d+\"/third-party/video-js/video-js.min.css\",g=d+\"/third-party/video-js/video-js.swf\";window.videojs?videojs.autoSetup():(a.loadFile(document,{id:\"video_css\",tag:\"link\",rel:\"stylesheet\",type:\"text/css\",href:f}),a.loadFile(document,{id:\"video_js\",src:e,tag:\"script\",type:\"text/javascript\"},function(){videojs.options.flash.swf=g,videojs.autoSetup()}))}})}();\n\n/***/ }),\n\n/***/ \"aqPd\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"bmGs\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_dateTime_vue__ = __webpack_require__(\"9j5w\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_44400d7e_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_dateTime_vue__ = __webpack_require__(\"tunb\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"PbF9\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-44400d7e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_dateTime_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_44400d7e_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_dateTime_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"c8RQ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    title: {\n      type: String\n    },\n    icon: {\n      type: String\n    },\n    width: {\n      type: String,\n      default: \"100%\"\n    },\n    minWidth: {\n      type: String\n    },\n    border: {\n      type: Boolean,\n      default: true\n    },\n    height: {\n      type: String\n    },\n    maxHeight: {\n      type: String\n    },\n    minHeight: {\n      type: String\n      // default: \"50px\"\n    },\n    padding: {\n      type: String,\n      default: \"\" // trbl l左r右t上b下加padding值\n    },\n    // padding: {\n    //   type: String,\n    //   default: \"10px 0\"\n    // },\n    paddingContent: {\n      type: String,\n      default: \"\" // trbl l左r右t上b下加padding值\n    },\n    margin: {\n      type: String,\n      default: \"0\"\n    },\n    overflow: {\n      type: String,\n      default: \"visible\"\n    },\n    noHead: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      isLoading: false\n    };\n  },\n\n  computed: {\n    // 设值值\n    padValue: function padValue() {\n      return this.setPad(this.padding);\n    },\n    padContValue: function padContValue() {\n      return this.setPad(this.paddingContent);\n    }\n  },\n  methods: {\n    setPad: function setPad(padV) {\n      return [\"t\", \"r\", \"b\", \"l\"].map(function (item) {\n        if (padV.indexOf(item) === -1) {\n          return 0;\n        } else {\n          return \"10px\";\n        }\n      }).join(\" \");\n    },\n    openLoading: function openLoading() {\n      this.isLoading = true;\n    },\n    closeLoading: function closeLoading() {\n      this.isLoading = false;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"cHhC\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_util_js__ = __webpack_require__(\"yt7g\");\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    data: {\n      type: Object\n    },\n    css: {\n      type: Object,\n      default: function _default() {\n        return {\n          width: \"100%\",\n          height: \"350px\"\n        };\n      }\n    }\n  },\n  computed: {\n    echartStyle: {\n      get: function get() {\n        var html = \"\";\n        for (var key in this.css) {\n          html += key + \":\" + this.css[key] + \";\";\n        }\n        return html;\n      }\n    }\n  },\n  data: function data() {\n    return {\n      id: \"echart_\" + __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util_util_js__[\"u\" /* randomUUID */])(),\n      myChart: {}\n    };\n  },\n  mounted: function mounted() {\n    this.myChart = this.$echarts.init(document.getElementById(this.id));\n    var option = {\n      title: {\n        text: \"用能趋势图\"\n      },\n      tooltip: {},\n      legend: {\n        data: [\"销量\"]\n      },\n      xAxis: {\n        data: [\"衬衫\", \"羊毛衫\", \"雪纺衫\", \"裤子\", \"高跟鞋\", \"袜子\"]\n      },\n      yAxis: {},\n      series: [{\n        name: \"销量\",\n        type: \"bar\",\n        data: [5, 20, 36, 10, 10, 20]\n      }]\n    };\n\n    // 使用刚指定的配置项和数据显示图表。\n    this.myChart.setOption(option);\n  },\n\n  methods: {\n    selectedEchart: function selectedEchart() {\n      console.log(this.id);\n    },\n    handleResize: function handleResize() {\n      this.myChart.resize();\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"cbzy\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"cpjA\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"3cXf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n\nvar app = {\n    state: {\n        userInfo: JSON.parse(localStorage.getItem(\"userInfo\") || \"{}\"),\n        tabs: JSON.parse(localStorage.getItem(\"tabs\") || \"[]\"),\n        isloading: 0, //0 不显示，1全屏loading,2main-loading\n        platRoute: []\n    },\n    mutations: {\n        setUserInfo: function setUserInfo(state, payload) {\n            state.userInfo = payload;\n            localStorage.setItem(\"userInfo\", __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(state.userInfo)); // 将点击的菜单推入到tabs本地缓存\n        },\n        addTab: function addTab(state, payload) {\n            // 判断是否已经添加了\n            if (!state.tabs.some(function (item) {\n                return item.path === payload.path;\n            })) {\n                state.tabs.push({\n                    name: payload.meta.name || payload.name,\n                    path: payload.path,\n                    type: payload.meta.type,\n                    id: payload.meta.id.toString() || payload.path,\n                    noClose: payload.meta.noClose\n                });\n                localStorage.setItem(\"tabs\", __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(state.tabs)); // 将点击的菜单推入到tabs本地缓存\n            }\n        },\n        removeTab: function removeTab(state, payload) {\n            for (var i = 0, len = state.tabs.length; i < len; i++) {\n                if (state.tabs[i].path === payload.path) {\n                    state.tabs.splice(i, 1);\n                    localStorage.setItem(\"tabs\", __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(state.tabs)); // 将点击的菜单推入到tabs本地缓存\n                    break;\n                }\n            }\n        },\n        clearTabs: function clearTabs(state) {\n            state.tabs = [];\n            localStorage.setItem(\"tabs\", []);\n        },\n        setPlat: function setPlat(state, payload) {\n            state.platRoute = payload;\n        },\n        setLoading: function setLoading(state, payload) {\n            state.isloading = payload;\n            setTimeout(function () {\n                if (state.isloading) {\n                    state.isloading = false;\n                }\n            }, 20000);\n        }\n    },\n    actions: {}\n\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (app);\n\n/***/ }),\n\n/***/ \"giTt\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_pieChart_vue__ = __webpack_require__(\"EhFW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_0769a9ad_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_pieChart_vue__ = __webpack_require__(\"kWqY\");\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_pieChart_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_0769a9ad_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_pieChart_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"gzMA\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_panel_vue__ = __webpack_require__(\"c8RQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_438dc696_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_panel_vue__ = __webpack_require__(\"NAuE\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"/GgC\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-438dc696\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_panel_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_438dc696_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_panel_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"jCdM\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-upload', {\n    attrs: {\n      \"action\": _vm.action,\n      \"on-success\": _vm.handleChange,\n      \"on-remove\": _vm.handleRemove,\n      \"file-list\": _vm.mailFileList,\n      \"accept\": _vm.accept\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\"点击上传\")])], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"jLBv\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"k7uz\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"kWqY\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: _vm.className,\n    style: ({\n      height: _vm.height,\n      width: _vm.width\n    }),\n    attrs: {\n      \"id\": _vm.id\n    }\n  })\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"mDaC\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_page_vue__ = __webpack_require__(\"9+Mb\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_420f0935_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_page_vue__ = __webpack_require__(\"W+85\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"YKug\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-420f0935\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_page_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_420f0935_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_page_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"mWET\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('transition', {\n    attrs: {\n      \"name\": \"loading\"\n    },\n    on: {\n      \"after-leave\": _vm.handleAfterLeave\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.visible),\n      expression: \"visible\"\n    }],\n    staticClass: \"loading-mask\",\n    class: {\n      'fullscreen': _vm.fullscreen\n    }\n  }, [_c('div', {\n    staticClass: \"loading\"\n  }, [_vm._v(\"\\n            ...\\n        \")]), _vm._v(\" \"), (_vm.text) ? _c('div', {\n    staticClass: \"loading-text\"\n  }, [_vm._v(\"\\n            \" + _vm._s(_vm.text) + \"\\n        \")]) : _vm._e()])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"pqad\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_util__ = __webpack_require__(\"yt7g\");\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    value: {\n      type: Array,\n      default: function _default() {\n        return [new Date(), new Date()];\n      }\n    },\n    timeType: {\n      type: [String, Number]\n    },\n    label: {\n      type: Object,\n      default: function _default() {\n        return { sLabel: \"统计期\", eLabel: \"基期\" };\n      }\n    },\n    isPickerEnd: {\n      type: Boolean,\n      default: true\n    },\n    width: {\n      type: String,\n      default: \"350px\"\n    },\n    showTime: {\n      type: Array,\n      default: function _default() {\n        return [3, 5, 8];\n      }\n    },\n    // 是否隐藏时间类型选择\n    visibleType: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    var time = [];\n    var type = this.timeType;\n    var riadoList = {\n      3: {\n        label: \"日\",\n        value: \"day\",\n        timeName: \"date\",\n        format: \"YYYY-MM-DD\"\n      },\n      5: {\n        label: \"月\",\n        value: \"month\",\n        timeName: \"month\",\n        format: \"YYYY-MM-01\"\n      },\n      8: {\n        label: \"年\",\n        value: \"year\",\n        timeName: \"year\",\n        format: \"YYYY-01-01\"\n      }\n    };\n    if (!this.timeType) {\n      this.$emit(\"update:timeType\", this.showTime[0]);\n      type = this.showTime[0];\n    }\n    if (!(this.value && this.value[0] && this.value[1])) {\n      var date = this.$moment(new Date(), riadoList[type.toString()].format);\n      this.$emit(\"input\", [date, date]);\n      time = [date, date];\n    } else {\n      time = this.value;\n    }\n    return {\n      timeSelected: time,\n      riadoList: riadoList,\n      cycle: this.$store.state.targetConstant.targetCycle,\n      type: type\n    };\n  },\n\n  watch: {\n    value: {\n      handler: function handler() {\n        if (this.timeSelected !== this.value) {\n          this.timeSelected = this.value;\n        }\n      },\n\n      deep: true\n    },\n    timeType: function timeType() {\n      if (this.timeType && this.timeType !== this.type) {\n        this.type = this.timeType;\n      }\n    }\n  },\n  methods: {\n    changeHandle: function changeHandle() {\n      this.$emit(\"update:timeType\", this.type);\n      this.setData(this.timeSelected);\n      this.$emit(\"radioChange\", this.value, this.type);\n    },\n    changeInput: function changeInput(value) {\n      this.setData(value);\n      this.$emit(\"inputChange\", value, this.type);\n    },\n    setData: function setData(value) {\n      var data = [value[0] ? this.$moment(value[0], this.riadoList[this.type.toString()].format) : \"\", value[1] ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util_util__[\"f\" /* cycleTime */])(value[1], this.type)[1] : \"\"];\n      this.$emit(\"input\", data);\n      this.$emit(\"change\", data, this.type);\n    }\n  },\n  mounted: function mounted() {}\n});\n\n/***/ }),\n\n/***/ \"qJEI\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"qMqN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_select_vue__ = __webpack_require__(\"9Ig9\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_ec0b9cbc_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_select_vue__ = __webpack_require__(\"Jd5Q\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"OAYr\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ec0b9cbc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_select_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_ec0b9cbc_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_select_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"qQfM\":\n/***/ (function(module, exports) {\n\n/**\r\n * Created with JetBrains PhpStorm.\r\n * User: taoqili\r\n * Date: 12-6-12\r\n * Time: 下午5:02\r\n * To change this template use File | Settings | File Templates.\r\n */\r\nUE.I18N['zh-cn'] = {\r\n    'labelMap':{\r\n        'anchor':'锚点', 'undo':'撤销', 'redo':'重做', 'bold':'加粗', 'indent':'首行缩进', 'snapscreen':'截图',\r\n        'italic':'斜体', 'underline':'下划线', 'strikethrough':'删除线', 'subscript':'下标','fontborder':'字符边框',\r\n        'superscript':'上标', 'formatmatch':'格式刷', 'source':'源代码', 'blockquote':'引用',\r\n        'pasteplain':'纯文本粘贴模式', 'selectall':'全选', 'print':'打印', 'preview':'预览',\r\n        'horizontal':'分隔线', 'removeformat':'清除格式', 'time':'时间', 'date':'日期',\r\n        'unlink':'取消链接', 'insertrow':'前插入行', 'insertcol':'前插入列', 'mergeright':'右合并单元格', 'mergedown':'下合并单元格',\r\n        'deleterow':'删除行', 'deletecol':'删除列', 'splittorows':'拆分成行',\r\n        'splittocols':'拆分成列', 'splittocells':'完全拆分单元格','deletecaption':'删除表格标题','inserttitle':'插入标题',\r\n        'mergecells':'合并多个单元格', 'deletetable':'删除表格', 'cleardoc':'清空文档','insertparagraphbeforetable':\"表格前插入行\",'insertcode':'代码语言',\r\n        'fontfamily':'字体', 'fontsize':'字号', 'paragraph':'段落格式', 'simpleupload':'单图上传', 'insertimage':'多图上传','edittable':'表格属性','edittd':'单元格属性', 'link':'超链接',\r\n        'emotion':'表情', 'spechars':'特殊字符', 'searchreplace':'查询替换', 'map':'Baidu地图', 'gmap':'Google地图',\r\n        'insertvideo':'视频', 'help':'帮助', 'justifyleft':'居左对齐', 'justifyright':'居右对齐', 'justifycenter':'居中对齐',\r\n        'justifyjustify':'两端对齐', 'forecolor':'字体颜色', 'backcolor':'背景色', 'insertorderedlist':'有序列表',\r\n        'insertunorderedlist':'无序列表', 'fullscreen':'全屏', 'directionalityltr':'从左向右输入', 'directionalityrtl':'从右向左输入',\r\n        'rowspacingtop':'段前距', 'rowspacingbottom':'段后距',  'pagebreak':'分页', 'insertframe':'插入Iframe', 'imagenone':'默认',\r\n        'imageleft':'左浮动', 'imageright':'右浮动', 'attachment':'附件', 'imagecenter':'居中', 'wordimage':'图片转存',\r\n        'lineheight':'行间距','edittip' :'编辑提示','customstyle':'自定义标题', 'autotypeset':'自动排版',\r\n        'webapp':'百度应用','touppercase':'字母大写', 'tolowercase':'字母小写','background':'背景','template':'模板','scrawl':'涂鸦',\r\n        'music':'音乐','inserttable':'插入表格','drafts': '从草稿箱加载', 'charts': '图表'\r\n    },\r\n    'insertorderedlist':{\r\n        'num':'1,2,3...',\r\n        'num1':'1),2),3)...',\r\n        'num2':'(1),(2),(3)...',\r\n        'cn':'一,二,三....',\r\n        'cn1':'一),二),三)....',\r\n        'cn2':'(一),(二),(三)....',\r\n        'decimal':'1,2,3...',\r\n        'lower-alpha':'a,b,c...',\r\n        'lower-roman':'i,ii,iii...',\r\n        'upper-alpha':'A,B,C...',\r\n        'upper-roman':'I,II,III...'\r\n    },\r\n    'insertunorderedlist':{\r\n        'circle':'○ 大圆圈',\r\n        'disc':'● 小黑点',\r\n        'square':'■ 小方块 ',\r\n        'dash' :'— 破折号',\r\n        'dot':' 。 小圆圈'\r\n    },\r\n    'paragraph':{'p':'段落', 'h1':'标题 1', 'h2':'标题 2', 'h3':'标题 3', 'h4':'标题 4', 'h5':'标题 5', 'h6':'标题 6'},\r\n    'fontfamily':{\r\n        'songti':'宋体',\r\n        'kaiti':'楷体',\r\n        'heiti':'黑体',\r\n        'lishu':'隶书',\r\n        'yahei':'微软雅黑',\r\n        'andaleMono':'andale mono',\r\n        'arial': 'arial',\r\n        'arialBlack':'arial black',\r\n        'comicSansMs':'comic sans ms',\r\n        'impact':'impact',\r\n        'timesNewRoman':'times new roman'\r\n    },\r\n    'customstyle':{\r\n        'tc':'标题居中',\r\n        'tl':'标题居左',\r\n        'im':'强调',\r\n        'hi':'明显强调'\r\n    },\r\n    'autoupload': {\r\n        'exceedSizeError': '文件大小超出限制',\r\n        'exceedTypeError': '文件格式不允许',\r\n        'jsonEncodeError': '服务器返回格式错误',\r\n        'loading':\"正在上传...\",\r\n        'loadError':\"上传错误\",\r\n        'errorLoadConfig': '后端配置项没有正常加载，上传插件不能正常使用！'\r\n    },\r\n    'simpleupload':{\r\n        'exceedSizeError': '文件大小超出限制',\r\n        'exceedTypeError': '文件格式不允许',\r\n        'jsonEncodeError': '服务器返回格式错误',\r\n        'loading':\"正在上传...\",\r\n        'loadError':\"上传错误\",\r\n        'errorLoadConfig': '后端配置项没有正常加载，上传插件不能正常使用！'\r\n    },\r\n    'elementPathTip':\"元素路径\",\r\n    'wordCountTip':\"字数统计\",\r\n    'wordCountMsg':'当前已输入{#count}个字符, 您还可以输入{#leave}个字符。 ',\r\n    'wordOverFlowMsg':'<span style=\"color:red;\">字数超出最大允许值，服务器可能拒绝保存！</span>',\r\n    'ok':\"确认\",\r\n    'cancel':\"取消\",\r\n    'closeDialog':\"关闭对话框\",\r\n    'tableDrag':\"表格拖动必须引入uiUtils.js文件！\",\r\n    'autofloatMsg':\"工具栏浮动依赖编辑器UI，您首先需要引入UI文件!\",\r\n    'loadconfigError': '获取后台配置项请求出错，上传功能将不能正常使用！',\r\n    'loadconfigFormatError': '后台配置项返回格式出错，上传功能将不能正常使用！',\r\n    'loadconfigHttpError': '请求后台配置项http错误，上传功能将不能正常使用！',\r\n    'snapScreen_plugin':{\r\n        'browserMsg':\"仅支持IE浏览器！\",\r\n        'callBackErrorMsg':\"服务器返回数据有误，请检查配置项之后重试。\",\r\n        'uploadErrorMsg':\"截图上传失败，请检查服务器端环境! \"\r\n    },\r\n    'insertcode':{\r\n        'as3':'ActionScript 3',\r\n        'bash':'Bash/Shell',\r\n        'cpp':'C/C++',\r\n        'css':'CSS',\r\n        'cf':'ColdFusion',\r\n        'c#':'C#',\r\n        'delphi':'Delphi',\r\n        'diff':'Diff',\r\n        'erlang':'Erlang',\r\n        'groovy':'Groovy',\r\n        'html':'HTML',\r\n        'java':'Java',\r\n        'jfx':'JavaFX',\r\n        'js':'JavaScript',\r\n        'pl':'Perl',\r\n        'php':'PHP',\r\n        'plain':'Plain Text',\r\n        'ps':'PowerShell',\r\n        'python':'Python',\r\n        'ruby':'Ruby',\r\n        'scala':'Scala',\r\n        'sql':'SQL',\r\n        'vb':'Visual Basic',\r\n        'xml':'XML'\r\n    },\r\n    'confirmClear':\"确定清空当前文档么？\",\r\n    'contextMenu':{\r\n        'delete':\"删除\",\r\n        'selectall':\"全选\",\r\n        'deletecode':\"删除代码\",\r\n        'cleardoc':\"清空文档\",\r\n        'confirmclear':\"确定清空当前文档么？\",\r\n        'unlink':\"删除超链接\",\r\n        'paragraph':\"段落格式\",\r\n        'edittable':\"表格属性\",\r\n        'aligntd':\"单元格对齐方式\",\r\n        'aligntable':'表格对齐方式',\r\n        'tableleft':'左浮动',\r\n        'tablecenter':'居中显示',\r\n        'tableright':'右浮动',\r\n        'edittd':\"单元格属性\",\r\n        'setbordervisible':'设置表格边线可见',\r\n        'justifyleft':'左对齐',\r\n        'justifyright':'右对齐',\r\n        'justifycenter':'居中对齐',\r\n        'justifyjustify':'两端对齐',\r\n        'table':\"表格\",\r\n        'inserttable':'插入表格',\r\n        'deletetable':\"删除表格\",\r\n        'insertparagraphbefore':\"前插入段落\",\r\n        'insertparagraphafter':'后插入段落',\r\n        'deleterow':\"删除当前行\",\r\n        'deletecol':\"删除当前列\",\r\n        'insertrow':\"前插入行\",\r\n        'insertcol':\"左插入列\",\r\n        'insertrownext':'后插入行',\r\n        'insertcolnext':'右插入列',\r\n        'insertcaption':'插入表格名称',\r\n        'deletecaption':'删除表格名称',\r\n        'inserttitle':'插入表格标题行',\r\n        'deletetitle':'删除表格标题行',\r\n        'inserttitlecol':'插入表格标题列',\r\n        'deletetitlecol':'删除表格标题列',\r\n        'averageDiseRow':'平均分布各行',\r\n        'averageDisCol':'平均分布各列',\r\n        'mergeright':\"向右合并\",\r\n        'mergeleft':\"向左合并\",\r\n        'mergedown':\"向下合并\",\r\n        'mergecells':\"合并单元格\",\r\n        'splittocells':\"完全拆分单元格\",\r\n        'splittocols':\"拆分成列\",\r\n        'splittorows':\"拆分成行\",\r\n        'tablesort':'表格排序',\r\n        'enablesort':'设置表格可排序',\r\n        'disablesort':'取消表格可排序',\r\n        'reversecurrent':'逆序当前',\r\n        'orderbyasc':'按ASCII字符升序',\r\n        'reversebyasc':'按ASCII字符降序',\r\n        'orderbynum':'按数值大小升序',\r\n        'reversebynum':'按数值大小降序',\r\n        'borderbk':'边框底纹',\r\n        'setcolor':'表格隔行变色',\r\n        'unsetcolor':'取消表格隔行变色',\r\n        'setbackground':'选区背景隔行',\r\n        'unsetbackground':'取消选区背景',\r\n        'redandblue':'红蓝相间',\r\n        'threecolorgradient':'三色渐变',\r\n        'copy':\"复制(Ctrl + c)\",\r\n        'copymsg': \"浏览器不支持,请使用 'Ctrl + c'\",\r\n        'paste':\"粘贴(Ctrl + v)\",\r\n         'pastemsg': \"浏览器不支持,请使用 'Ctrl + v'\"\r\n    },\r\n    'copymsg': \"浏览器不支持,请使用 'Ctrl + c'\",\r\n    'pastemsg': \"浏览器不支持,请使用 'Ctrl + v'\",\r\n    'anthorMsg':\"链接\",\r\n    'clearColor':'清空颜色',\r\n    'standardColor':'标准颜色',\r\n    'themeColor':'主题颜色',\r\n    'property':'属性',\r\n    'default':'默认',\r\n    'modify':'修改',\r\n    'justifyleft':'左对齐',\r\n    'justifyright':'右对齐',\r\n    'justifycenter':'居中',\r\n    'justify':'默认',\r\n    'clear':'清除',\r\n    'anchorMsg':'锚点',\r\n    'delete':'删除',\r\n    'clickToUpload':\"点击上传\",\r\n    'unset':'尚未设置语言文件',\r\n    't_row':'行',\r\n    't_col':'列',\r\n    'more':'更多',\r\n    'pasteOpt':'粘贴选项',\r\n    'pasteSourceFormat':\"保留源格式\",\r\n    'tagFormat':'只保留标签',\r\n    'pasteTextFormat':'只保留文本',\r\n    'autoTypeSet':{\r\n        'mergeLine':\"合并空行\",\r\n        'delLine':\"清除空行\",\r\n        'removeFormat':\"清除格式\",\r\n        'indent':\"首行缩进\",\r\n        'alignment':\"对齐方式\",\r\n        'imageFloat':\"图片浮动\",\r\n        'removeFontsize':\"清除字号\",\r\n        'removeFontFamily':\"清除字体\",\r\n        'removeHtml':\"清除冗余HTML代码\",\r\n        'pasteFilter':\"粘贴过滤\",\r\n        'run':\"执行\",\r\n        'symbol':'符号转换',\r\n        'bdc2sb':'全角转半角',\r\n        'tobdc':'半角转全角'\r\n    },\r\n\r\n    'background':{\r\n        'static':{\r\n            'lang_background_normal':'背景设置',\r\n            'lang_background_local':'在线图片',\r\n            'lang_background_set':'选项',\r\n            'lang_background_none':'无背景色',\r\n            'lang_background_colored':'有背景色',\r\n            'lang_background_color':'颜色设置',\r\n            'lang_background_netimg':'网络图片',\r\n            'lang_background_align':'对齐方式',\r\n            'lang_background_position':'精确定位',\r\n            'repeatType':{'options':[\"居中\", \"横向重复\", \"纵向重复\", \"平铺\",\"自定义\"]}\r\n\r\n        },\r\n        'noUploadImage':\"当前未上传过任何图片！\",\r\n        'toggleSelect':\"单击可切换选中状态\\n原图尺寸: \"\r\n    },\r\n    //===============dialog i18N=======================\r\n    'insertimage':{\r\n        'static':{\r\n            'lang_tab_remote':\"插入图片\", //节点\r\n            'lang_tab_upload':\"本地上传\",\r\n            'lang_tab_online':\"在线管理\",\r\n            'lang_tab_search':\"图片搜索\",\r\n            'lang_input_url':\"地 址：\",\r\n            'lang_input_size':\"大 小：\",\r\n            'lang_input_width':\"宽度\",\r\n            'lang_input_height':\"高度\",\r\n            'lang_input_border':\"边 框：\",\r\n            'lang_input_vhspace':\"边 距：\",\r\n            'lang_input_title':\"描 述：\",\r\n            'lang_input_align':'图片浮动方式：',\r\n            'lang_imgLoading':\"　图片加载中……\",\r\n            'lang_start_upload':\"开始上传\",\r\n            'lock':{'title':\"锁定宽高比例\"}, //属性\r\n            'searchType':{'title':\"图片类型\", 'options':[\"新闻\", \"壁纸\", \"表情\", \"头像\"]}, //select的option\r\n            'searchTxt':{'value':\"请输入搜索关键词\"},\r\n            'searchBtn':{'value':\"百度一下\"},\r\n            'searchReset':{'value':\"清空搜索\"},\r\n            'noneAlign':{'title':'无浮动'},\r\n            'leftAlign':{'title':'左浮动'},\r\n            'rightAlign':{'title':'右浮动'},\r\n            'centerAlign':{'title':'居中独占一行'}\r\n        },\r\n        'uploadSelectFile':'点击选择图片',\r\n        'uploadAddFile':'继续添加',\r\n        'uploadStart':'开始上传',\r\n        'uploadPause':'暂停上传',\r\n        'uploadContinue':'继续上传',\r\n        'uploadRetry':'重试上传',\r\n        'uploadDelete':'删除',\r\n        'uploadTurnLeft':'向左旋转',\r\n        'uploadTurnRight':'向右旋转',\r\n        'uploadPreview':'预览中',\r\n        'uploadNoPreview':'不能预览',\r\n        'updateStatusReady': '选中_张图片，共_KB。',\r\n        'updateStatusConfirm': '已成功上传_张照片，_张照片上传失败',\r\n        'updateStatusFinish': '共_张（_KB），_张上传成功',\r\n        'updateStatusError': '，_张上传失败。',\r\n        'errorNotSupport': 'WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。',\r\n        'errorLoadConfig': '后端配置项没有正常加载，上传插件不能正常使用！',\r\n        'errorExceedSize':'文件大小超出',\r\n        'errorFileType':'文件格式不允许',\r\n        'errorInterrupt':'文件传输中断',\r\n        'errorUploadRetry':'上传失败，请重试',\r\n        'errorHttp':'http请求错误',\r\n        'errorServerUpload':'服务器返回出错',\r\n        'remoteLockError':\"宽高不正确,不能所定比例\",\r\n        'numError':\"请输入正确的长度或者宽度值！例如：123，400\",\r\n        'imageUrlError':\"不允许的图片格式或者图片域！\",\r\n        'imageLoadError':\"图片加载失败！请检查链接地址或网络状态！\",\r\n        'searchRemind':\"请输入搜索关键词\",\r\n        'searchLoading':\"图片加载中，请稍后……\",\r\n        'searchRetry':\" :( ，抱歉，没有找到图片！请重试一次！\"\r\n    },\r\n    'attachment':{\r\n        'static':{\r\n            'lang_tab_upload': '上传附件',\r\n            'lang_tab_online': '在线附件',\r\n            'lang_start_upload':\"开始上传\",\r\n            'lang_drop_remind':\"可以将文件拖到这里，单次最多可选100个文件\"\r\n        },\r\n        'uploadSelectFile':'点击选择文件',\r\n        'uploadAddFile':'继续添加',\r\n        'uploadStart':'开始上传',\r\n        'uploadPause':'暂停上传',\r\n        'uploadContinue':'继续上传',\r\n        'uploadRetry':'重试上传',\r\n        'uploadDelete':'删除',\r\n        'uploadTurnLeft':'向左旋转',\r\n        'uploadTurnRight':'向右旋转',\r\n        'uploadPreview':'预览中',\r\n        'updateStatusReady': '选中_个文件，共_KB。',\r\n        'updateStatusConfirm': '已成功上传_个文件，_个文件上传失败',\r\n        'updateStatusFinish': '共_个（_KB），_个上传成功',\r\n        'updateStatusError': '，_张上传失败。',\r\n        'errorNotSupport': 'WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。',\r\n        'errorLoadConfig': '后端配置项没有正常加载，上传插件不能正常使用！',\r\n        'errorExceedSize':'文件大小超出',\r\n        'errorFileType':'文件格式不允许',\r\n        'errorInterrupt':'文件传输中断',\r\n        'errorUploadRetry':'上传失败，请重试',\r\n        'errorHttp':'http请求错误',\r\n        'errorServerUpload':'服务器返回出错'\r\n    },\r\n    'insertvideo':{\r\n        'static':{\r\n            'lang_tab_insertV':\"插入视频\",\r\n            'lang_tab_searchV':\"搜索视频\",\r\n            'lang_tab_uploadV':\"上传视频\",\r\n            'lang_video_url':\"视频网址\",\r\n            'lang_video_size':\"视频尺寸\",\r\n            'lang_videoW':\"宽度\",\r\n            'lang_videoH':\"高度\",\r\n            'lang_alignment':\"对齐方式\",\r\n            'videoSearchTxt':{'value':\"请输入搜索关键字！\"},\r\n            'videoType':{'options':[\"全部\", \"热门\", \"娱乐\", \"搞笑\", \"体育\", \"科技\", \"综艺\"]},\r\n            'videoSearchBtn':{'value':\"百度一下\"},\r\n            'videoSearchReset':{'value':\"清空结果\"},\r\n\r\n            'lang_input_fileStatus':' 当前未上传文件',\r\n            'startUpload':{'style':\"background:url(upload.png) no-repeat;\"},\r\n\r\n            'lang_upload_size':\"视频尺寸\",\r\n            'lang_upload_width':\"宽度\",\r\n            'lang_upload_height':\"高度\",\r\n            'lang_upload_alignment':\"对齐方式\",\r\n            'lang_format_advice':\"建议使用mp4格式.\"\r\n\r\n        },\r\n        'numError':\"请输入正确的数值，如123,400\",\r\n        'floatLeft':\"左浮动\",\r\n        'floatRight':\"右浮动\",\r\n        '\"default\"':\"默认\",\r\n        'block':\"独占一行\",\r\n        'urlError':\"输入的视频地址有误，请检查后再试！\",\r\n        'loading':\" &nbsp;视频加载中，请等待……\",\r\n        'clickToSelect':\"点击选中\",\r\n        'goToSource':'访问源视频',\r\n        'noVideo':\" &nbsp; &nbsp;抱歉，找不到对应的视频，请重试！\",\r\n\r\n        'browseFiles':'浏览文件',\r\n        'uploadSuccess':'上传成功!',\r\n        'delSuccessFile':'从成功队列中移除',\r\n        'delFailSaveFile':'移除保存失败文件',\r\n        'statusPrompt':' 个文件已上传！ ',\r\n        'flashVersionError':'当前Flash版本过低，请更新FlashPlayer后重试！',\r\n        'flashLoadingError':'Flash加载失败!请检查路径或网络状态',\r\n        'fileUploadReady':'等待上传……',\r\n        'delUploadQueue':'从上传队列中移除',\r\n        'limitPrompt1':'单次不能选择超过',\r\n        'limitPrompt2':'个文件！请重新选择！',\r\n        'delFailFile':'移除失败文件',\r\n        'fileSizeLimit':'文件大小超出限制！',\r\n        'emptyFile':'空文件无法上传！',\r\n        'fileTypeError':'文件类型不允许！',\r\n        'unknownError':'未知错误！',\r\n        'fileUploading':'上传中，请等待……',\r\n        'cancelUpload':'取消上传',\r\n        'netError':'网络错误',\r\n        'failUpload':'上传失败!',\r\n        'serverIOError':'服务器IO错误！',\r\n        'noAuthority':'无权限！',\r\n        'fileNumLimit':'上传个数限制',\r\n        'failCheck':'验证失败，本次上传被跳过！',\r\n        'fileCanceling':'取消中，请等待……',\r\n        'stopUploading':'上传已停止……',\r\n\r\n        'uploadSelectFile':'点击选择文件',\r\n        'uploadAddFile':'继续添加',\r\n        'uploadStart':'开始上传',\r\n        'uploadPause':'暂停上传',\r\n        'uploadContinue':'继续上传',\r\n        'uploadRetry':'重试上传',\r\n        'uploadDelete':'删除',\r\n        'uploadTurnLeft':'向左旋转',\r\n        'uploadTurnRight':'向右旋转',\r\n        'uploadPreview':'预览中',\r\n        'updateStatusReady': '选中_个文件，共_KB。',\r\n        'updateStatusConfirm': '成功上传_个，_个失败',\r\n        'updateStatusFinish': '共_个(_KB)，_个成功上传',\r\n        'updateStatusError': '，_张上传失败。',\r\n        'errorNotSupport': 'WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。',\r\n        'errorLoadConfig': '后端配置项没有正常加载，上传插件不能正常使用！',\r\n        'errorExceedSize':'文件大小超出',\r\n        'errorFileType':'文件格式不允许',\r\n        'errorInterrupt':'文件传输中断',\r\n        'errorUploadRetry':'上传失败，请重试',\r\n        'errorHttp':'http请求错误',\r\n        'errorServerUpload':'服务器返回出错'\r\n    },\r\n    'webapp':{\r\n        'tip1':\"本功能由百度APP提供，如看到此页面，请各位站长首先申请百度APPKey!\",\r\n        'tip2':\"申请完成之后请至ueditor.config.js中配置获得的appkey! \",\r\n        'applyFor':\"点此申请\",\r\n        'anthorApi':\"百度API\"\r\n    },\r\n    'template':{\r\n        'static':{\r\n            'lang_template_bkcolor':'背景颜色',\r\n            'lang_template_clear' : '保留原有内容',\r\n            'lang_template_select' : '选择模板'\r\n        },\r\n        'blank':\"空白文档\",\r\n        'blog':\"博客文章\",\r\n        'resume':\"个人简历\",\r\n        'richText':\"图文混排\",\r\n        'sciPapers':\"科技论文\"\r\n\r\n\r\n    },\r\n    'scrawl':{\r\n        'static':{\r\n            'lang_input_previousStep':\"上一步\",\r\n            'lang_input_nextsStep':\"下一步\",\r\n            'lang_input_clear':'清空',\r\n            'lang_input_addPic':'添加背景',\r\n            'lang_input_ScalePic':'缩放背景',\r\n            'lang_input_removePic':'删除背景',\r\n            'J_imgTxt':{title:'添加背景图片'}\r\n        },\r\n        'noScarwl':\"尚未作画，白纸一张~\",\r\n        'scrawlUpLoading':\"涂鸦上传中,别急哦~\",\r\n        'continueBtn':\"继续\",\r\n        'imageError':\"糟糕，图片读取失败了！\",\r\n        'backgroundUploading':'背景图片上传中,别急哦~'\r\n    },\r\n    'music':{\r\n        'static':{\r\n            'lang_input_tips':\"输入歌手/歌曲/专辑，搜索您感兴趣的音乐！\",\r\n            'J_searchBtn':{value:'搜索歌曲'}\r\n        },\r\n        'emptyTxt':'未搜索到相关音乐结果，请换一个关键词试试。',\r\n        'chapter':'歌曲',\r\n        'singer':'歌手',\r\n        'special':'专辑',\r\n        'listenTest':'试听'\r\n    },\r\n    'anchor':{\r\n        'static':{\r\n            'lang_input_anchorName':'锚点名字：'\r\n        }\r\n    },\r\n    'charts':{\r\n        'static':{\r\n            'lang_data_source':'数据源：',\r\n            'lang_chart_format': '图表格式：',\r\n            'lang_data_align': '数据对齐方式',\r\n            'lang_chart_align_same': '数据源与图表X轴Y轴一致',\r\n            'lang_chart_align_reverse': '数据源与图表X轴Y轴相反',\r\n            'lang_chart_title': '图表标题',\r\n            'lang_chart_main_title': '主标题：',\r\n            'lang_chart_sub_title': '子标题：',\r\n            'lang_chart_x_title': 'X轴标题：',\r\n            'lang_chart_y_title': 'Y轴标题：',\r\n            'lang_chart_tip': '提示文字',\r\n            'lang_cahrt_tip_prefix': '提示文字前缀：',\r\n            'lang_cahrt_tip_description': '仅饼图有效， 当鼠标移动到饼图中相应的块上时，提示框内的文字的前缀',\r\n            'lang_chart_data_unit': '数据单位',\r\n            'lang_chart_data_unit_title': '单位：',\r\n            'lang_chart_data_unit_description': '显示在每个数据点上的数据的单位， 比如： 温度的单位 ℃',\r\n            'lang_chart_type': '图表类型：',\r\n            'lang_prev_btn': '上一个',\r\n            'lang_next_btn': '下一个'\r\n        }\r\n    },\r\n    'emotion':{\r\n        'static':{\r\n            'lang_input_choice':'精选',\r\n            'lang_input_Tuzki':'兔斯基',\r\n            'lang_input_BOBO':'BOBO',\r\n            'lang_input_lvdouwa':'绿豆蛙',\r\n            'lang_input_babyCat':'baby猫',\r\n            'lang_input_bubble':'泡泡',\r\n            'lang_input_youa':'有啊'\r\n        }\r\n    },\r\n    'gmap':{\r\n        'static':{\r\n            'lang_input_address':'地址',\r\n            'lang_input_search':'搜索',\r\n            'address':{value:\"北京\"}\r\n        },\r\n        searchError:'无法定位到该地址!'\r\n    },\r\n    'help':{\r\n        'static':{\r\n            'lang_input_about':'关于UEditor',\r\n            'lang_input_shortcuts':'快捷键',\r\n            'lang_input_introduction':'UEditor是由百度web前端研发部开发的所见即所得富文本web编辑器，具有轻量，可定制，注重用户体验等特点。开源基于BSD协议，允许自由使用和修改代码。',\r\n            'lang_Txt_shortcuts':'快捷键',\r\n            'lang_Txt_func':'功能',\r\n            'lang_Txt_bold':'给选中字设置为加粗',\r\n            'lang_Txt_copy':'复制选中内容',\r\n            'lang_Txt_cut':'剪切选中内容',\r\n            'lang_Txt_Paste':'粘贴',\r\n            'lang_Txt_undo':'重新执行上次操作',\r\n            'lang_Txt_redo':'撤销上一次操作',\r\n            'lang_Txt_italic':'给选中字设置为斜体',\r\n            'lang_Txt_underline':'给选中字加下划线',\r\n            'lang_Txt_selectAll':'全部选中',\r\n            'lang_Txt_visualEnter':'软回车',\r\n            'lang_Txt_fullscreen':'全屏'\r\n        }\r\n    },\r\n    'insertframe':{\r\n        'static':{\r\n            'lang_input_address':'地址：',\r\n            'lang_input_width':'宽度：',\r\n            'lang_input_height':'高度：',\r\n            'lang_input_isScroll':'允许滚动条：',\r\n            'lang_input_frameborder':'显示框架边框：',\r\n            'lang_input_alignMode':'对齐方式：',\r\n            'align':{title:\"对齐方式\", options:[\"默认\", \"左对齐\", \"右对齐\", \"居中\"]}\r\n        },\r\n        'enterAddress':'请输入地址!'\r\n    },\r\n    'link':{\r\n        'static':{\r\n            'lang_input_text':'文本内容：',\r\n            'lang_input_url':'链接地址：',\r\n            'lang_input_title':'标题：',\r\n            'lang_input_target':'是否在新窗口打开：'\r\n        },\r\n        'validLink':'只支持选中一个链接时生效',\r\n        'httpPrompt':'您输入的超链接中不包含http等协议名称，默认将为您添加http://前缀'\r\n    },\r\n    'map':{\r\n        'static':{\r\n            lang_city:\"城市\",\r\n            lang_address:\"地址\",\r\n            city:{value:\"北京\"},\r\n            lang_search:\"搜索\",\r\n            lang_dynamicmap:\"插入动态地图\"\r\n        },\r\n        cityMsg:\"请选择城市\",\r\n        errorMsg:\"抱歉，找不到该位置！\"\r\n    },\r\n    'searchreplace':{\r\n        'static':{\r\n            lang_tab_search:\"查找\",\r\n            lang_tab_replace:\"替换\",\r\n            lang_search1:\"查找\",\r\n            lang_search2:\"查找\",\r\n            lang_replace:\"替换\",\r\n            lang_searchReg:'支持正则表达式，添加前后斜杠标示为正则表达式，例如“/表达式/”',\r\n            lang_searchReg1:'支持正则表达式，添加前后斜杠标示为正则表达式，例如“/表达式/”',\r\n            lang_case_sensitive1:\"区分大小写\",\r\n            lang_case_sensitive2:\"区分大小写\",\r\n            nextFindBtn:{value:\"下一个\"},\r\n            preFindBtn:{value:\"上一个\"},\r\n            nextReplaceBtn:{value:\"下一个\"},\r\n            preReplaceBtn:{value:\"上一个\"},\r\n            repalceBtn:{value:\"替换\"},\r\n            repalceAllBtn:{value:\"全部替换\"}\r\n        },\r\n        getEnd:\"已经搜索到文章末尾！\",\r\n        getStart:\"已经搜索到文章头部\",\r\n        countMsg:\"总共替换了{#count}处！\"\r\n    },\r\n    'snapscreen':{\r\n        'static':{\r\n            lang_showMsg:\"截图功能需要首先安装UEditor截图插件！ \",\r\n            lang_download:\"点此下载\",\r\n            lang_step1:\"第一步，下载UEditor截图插件并运行安装。\",\r\n            lang_step2:\"第二步，插件安装完成后即可使用，如不生效，请重启浏览器后再试！\"\r\n        }\r\n    },\r\n    'spechars':{\r\n        'static':{},\r\n        tsfh:\"特殊字符\",\r\n        lmsz:\"罗马字符\",\r\n        szfh:\"数学字符\",\r\n        rwfh:\"日文字符\",\r\n        xlzm:\"希腊字母\",\r\n        ewzm:\"俄文字符\",\r\n        pyzm:\"拼音字母\",\r\n        yyyb:\"英语音标\",\r\n        zyzf:\"其他\"\r\n    },\r\n    'edittable':{\r\n        'static':{\r\n            'lang_tableStyle':'表格样式',\r\n            'lang_insertCaption':'添加表格名称行',\r\n            'lang_insertTitle':'添加表格标题行',\r\n            'lang_insertTitleCol':'添加表格标题列',\r\n            'lang_orderbycontent':\"使表格内容可排序\",\r\n            'lang_tableSize':'自动调整表格尺寸',\r\n            'lang_autoSizeContent':'按表格文字自适应',\r\n            'lang_autoSizePage':'按页面宽度自适应',\r\n            'lang_example':'示例',\r\n            'lang_borderStyle':'表格边框',\r\n            'lang_color':'颜色:'\r\n        },\r\n        captionName:'表格名称',\r\n        titleName:'标题',\r\n        cellsName:'内容',\r\n        errorMsg:'有合并单元格，不可排序'\r\n    },\r\n    'edittip':{\r\n        'static':{\r\n            lang_delRow:'删除整行',\r\n            lang_delCol:'删除整列'\r\n        }\r\n    },\r\n    'edittd':{\r\n        'static':{\r\n            lang_tdBkColor:'背景颜色:'\r\n        }\r\n    },\r\n    'formula':{\r\n        'static':{\r\n        }\r\n    },\r\n    'wordimage':{\r\n        'static':{\r\n            lang_resave:\"转存步骤\",\r\n            uploadBtn:{src:\"upload.png\",alt:\"上传\"},\r\n            clipboard:{style:\"background: url(copy.png) -153px -1px no-repeat;\"},\r\n            lang_step:\"1、点击顶部复制按钮，将地址复制到剪贴板；2、点击添加照片按钮，在弹出的对话框中使用Ctrl+V粘贴地址；3、点击打开后选择图片上传流程。\"\r\n        },\r\n        'fileType':\"图片\",\r\n        'flashError':\"FLASH初始化失败，请检查FLASH插件是否正确安装！\",\r\n        'netError':\"网络连接错误，请重试！\",\r\n        'copySuccess':\"图片地址已经复制！\",\r\n        'flashI18n':{} //留空默认中文\r\n    },\r\n    'autosave': {\r\n        'saving':'保存中...',\r\n        'success':'本地保存成功'\r\n    }\r\n};\r\n\n\n/***/ }),\n\n/***/ \"rJJT\":\n/***/ (function(module, exports) {\n\n/**\n * ueditor完整配置项\n * 可以在这里配置整个编辑器的特性\n */\n/**************************提示********************************\n * 所有被注释的配置项均为UEditor默认值。\n * 修改默认配置请首先确保已经完全明确该参数的真实用途。\n * 主要有两种修改方案，一种是取消此处注释，然后修改成对应参数；另一种是在实例化编辑器时传入对应参数。\n * 当升级编辑器时，可直接使用旧版配置文件替换新版配置文件,不用担心旧版配置文件中因缺少新功能所需的参数而导致脚本报错。\n **************************提示********************************/\n\n(function () {\n\n    /**\n     * 编辑器资源文件根路径。它所表示的含义是：以编辑器实例化页面为当前路径，指向编辑器资源文件（即dialog等文件夹）的路径。\n     * 鉴于很多同学在使用编辑器的时候出现的种种路径问题，此处强烈建议大家使用\"相对于网站根目录的相对路径\"进行配置。\n     * \"相对于网站根目录的相对路径\"也就是以斜杠开头的形如\"/myProject/ueditor/\"这样的路径。\n     * 如果站点中有多个不在同一层级的页面需要实例化编辑器，且引用了同一UEditor的时候，此处的URL可能不适用于每个页面的编辑器。\n     * 因此，UEditor提供了针对不同页面的编辑器可单独配置的根路径，具体来说，在需要实例化编辑器的页面最顶部写上如下代码即可。当然，需要令此处的URL等于对应的配置。\n     * window.UEDITOR_HOME_URL = \"/xxxx/xxxx/\";\n     */\n    window.UEDITOR_HOME_URL = \"/static/utf8-jsp/\";\n    var URL = window.UEDITOR_HOME_URL || getUEBasePath();\n\n    /**\n     * 配置项主体。注意，此处所有涉及到路径的配置别遗漏URL变量。\n     */\n    window.UEDITOR_CONFIG = {\n\n        //为编辑器实例添加一个路径，这个不能被注释\n        UEDITOR_HOME_URL: URL\n\n        // 服务器统一请求接口路径\n        // ,\n        // serverUrl: URL + \"jsp/controller.jsp\"\n\n        //工具栏上的所有的功能按钮和下拉框，可以在new编辑器的实例时选择自己需要的重新定义\n        ,\n        // 不需要的图标功能：'source', 'formatmatch', 'autotypeset','blockquote','pasteplain','backcolor', 'selectall', 'cleardoc','fullscreen','rowspacingtop','rowspacingbottom', 'lineheight','indent','unlink','anchor','imagenone','imageleft', 'imageright', 'imagecenter','simpleupload', 'scrawl', 'insertvideo','music','gmap','insertcode','webapp','pagebreak','template','background','date', 'time','snapscreen', 'inserttable', 'deletetable', 'insertparagraphbeforetable','insertrow', 'deleterow', 'insertcol', 'deletecol','mergecells','mergeright', 'mergedown','splittocells', 'splittorows', 'splittocols', 'drafts'， 'attachment', 'map',  'insertframe',  'wordimage','charts'\n        toolbars: [\n            [\n                'undo', 'redo','|', 'bold', 'italic', 'underline', 'strikethrough', 'superscript', 'subscript', 'fontborder', 'fontfamily', 'fontsize', 'forecolor', 'removeformat','spechars', '|','touppercase', 'tolowercase','|', 'customstyle', 'paragraph', '|','insertorderedlist', 'insertunorderedlist', '|','justifyleft', 'justifycenter', 'justifyright', 'justifyjustify', '|','link', 'emotion', 'insertimage', 'horizontal','|', 'directionalityltr', 'directionalityrtl','|',  'print', 'preview', 'searchreplace', 'help'\n            ]\n        ]\n        //当鼠标放在工具栏上时显示的tooltip提示,留空支持自动多语言配置，否则以配置值为准\n        //,labelMap:{\n        //    'anchor':'', 'undo':''\n        //}\n\n        //语言配置项,默认是zh-cn。有需要的话也可以使用如下这样的方式来自动多语言切换，当然，前提条件是lang文件夹下存在对应的语言文件：\n        //lang值也可以通过自动获取 (navigator.language||navigator.browserLanguage ||navigator.userLanguage).toLowerCase()\n        //,lang:\"zh-cn\"\n        //,langPath:URL +\"lang/\"\n\n        //主题配置项,默认是default。有需要的话也可以使用如下这样的方式来自动多主题切换，当然，前提条件是themes文件夹下存在对应的主题文件：\n        //现有如下皮肤:default\n        //,theme:'default'\n        //,themePath:URL +\"themes/\"\n\n        ,\n        zIndex: 9000 //编辑器层级的基数,默认是900\n\n        //针对getAllHtml方法，会在对应的head标签中增加该编码设置。\n        //,charset:\"utf-8\"\n\n        //若实例化编辑器的页面手动修改的domain，此处需要设置为true\n        //,customDomain:false\n\n        //常用配置项目\n        //,isShow : true    //默认显示编辑器\n\n        //,textarea:'editorValue' // 提交表单时，服务器获取编辑器提交内容的所用的参数，多实例时可以给容器name属性，会将name给定的值最为每个实例的键值，不用每次实例化的时候都设置这个值\n\n        //,initialContent:'欢迎使用ueditor!'    //初始化编辑器的内容,也可以通过textarea/script给值，看官网例子\n\n        //,autoClearinitialContent:true //是否自动清除编辑器初始内容，注意：如果focus属性设置为true,这个也为真，那么编辑器一上来就会触发导致初始化的内容看不到了\n\n        //,focus:false //初始化时，是否让编辑器获得焦点true或false\n\n        //如果自定义，最好给p标签如下的行高，要不输入中文时，会有跳动感\n        //,initialStyle:'p{line-height:1em}'//编辑器层级的基数,可以用来改变字体等\n\n        //,iframeCssUrl: URL + '/themes/iframe.css' //给编辑区域的iframe引入一个css文件\n\n        //indentValue\n        //首行缩进距离,默认是2em\n        //,indentValue:'2em'\n\n        //,initialFrameWidth:1000  //初始化编辑器宽度,默认1000\n        //,initialFrameHeight:320  //初始化编辑器高度,默认320\n\n        //,readonly : false //编辑器初始化结束后,编辑区域是否是只读的，默认是false\n\n        //,autoClearEmptyNode : true //getContent时，是否删除空的inlineElement节点（包括嵌套的情况）\n\n        //启用自动保存\n        ,\n        enableAutoSave: false\n        //自动保存间隔时间， 单位ms\n        ,\n        saveInterval: 0\n\n        //,fullscreen : false //是否开启初始化时即全屏，默认关闭\n\n        //,imagePopup:true      //图片操作的浮层开关，默认打开\n\n        //,autoSyncData:true //自动同步编辑器要提交的数据\n        //,emotionLocalization:false //是否开启表情本地化，默认关闭。若要开启请确保emotion文件夹下包含官网提供的images表情文件夹\n\n        //粘贴只保留标签，去除标签所有属性\n        //,retainOnlyLabelPasted: false\n\n        //,pasteplain:false  //是否默认为纯文本粘贴。false为不使用纯文本粘贴，true为使用纯文本粘贴\n        //纯文本粘贴模式下的过滤规则\n        //'filterTxtRules' : function(){\n        //    function transP(node){\n        //        node.tagName = 'p';\n        //        node.setStyle();\n        //    }\n        //    return {\n        //        //直接删除及其字节点内容\n        //        '-' : 'script style object iframe embed input select',\n        //        'p': {$:{}},\n        //        'br':{$:{}},\n        //        'div':{'$':{}},\n        //        'li':{'$':{}},\n        //        'caption':transP,\n        //        'th':transP,\n        //        'tr':transP,\n        //        'h1':transP,'h2':transP,'h3':transP,'h4':transP,'h5':transP,'h6':transP,\n        //        'td':function(node){\n        //            //没有内容的td直接删掉\n        //            var txt = !!node.innerText();\n        //            if(txt){\n        //                node.parentNode.insertAfter(UE.uNode.createText(' &nbsp; &nbsp;'),node);\n        //            }\n        //            node.parentNode.removeChild(node,node.innerText())\n        //        }\n        //    }\n        //}()\n\n        //,allHtmlEnabled:false //提交到后台的数据是否包含整个html字符串\n\n        //insertorderedlist\n        //有序列表的下拉配置,值留空时支持多语言自动识别，若配置值，则以此值为准\n        //,'insertorderedlist':{\n        //      //自定的样式\n        //        'num':'1,2,3...',\n        //        'num1':'1),2),3)...',\n        //        'num2':'(1),(2),(3)...',\n        //        'cn':'一,二,三....',\n        //        'cn1':'一),二),三)....',\n        //        'cn2':'(一),(二),(三)....',\n        //     //系统自带\n        //     'decimal' : '' ,         //'1,2,3...'\n        //     'lower-alpha' : '' ,    // 'a,b,c...'\n        //     'lower-roman' : '' ,    //'i,ii,iii...'\n        //     'upper-alpha' : '' , lang   //'A,B,C'\n        //     'upper-roman' : ''      //'I,II,III...'\n        //}\n\n        //insertunorderedlist\n        //无序列表的下拉配置，值留空时支持多语言自动识别，若配置值，则以此值为准\n        //,insertunorderedlist : { //自定的样式\n        //    'dash' :'— 破折号', //-破折号\n        //    'dot':' 。 小圆圈', //系统自带\n        //    'circle' : '',  // '○ 小圆圈'\n        //    'disc' : '',    // '● 小圆点'\n        //    'square' : ''   //'■ 小方块'\n        //}\n        //,listDefaultPaddingLeft : '30'//默认的左边缩进的基数倍\n        //,listiconpath : 'http://bs.baidu.com/listicon/'//自定义标号的路径\n        //,maxListLevel : 3 //限制可以tab的级数, 设置-1为不限制\n\n        //,autoTransWordToList:false  //禁止word中粘贴进来的列表自动变成列表标签\n\n        //fontfamily\n        //字体设置 label留空支持多语言自动切换，若配置，则以配置值为准\n        //,'fontfamily':[\n        //    { label:'',name:'songti',val:'宋体,SimSun'},\n        //    { label:'',name:'kaiti',val:'楷体,楷体_GB2312, SimKai'},\n        //    { label:'',name:'yahei',val:'微软雅黑,Microsoft YaHei'},\n        //    { label:'',name:'heiti',val:'黑体, SimHei'},\n        //    { label:'',name:'lishu',val:'隶书, SimLi'},\n        //    { label:'',name:'andaleMono',val:'andale mono'},\n        //    { label:'',name:'arial',val:'arial, helvetica,sans-serif'},\n        //    { label:'',name:'arialBlack',val:'arial black,avant garde'},\n        //    { label:'',name:'comicSansMs',val:'comic sans ms'},\n        //    { label:'',name:'impact',val:'impact,chicago'},\n        //    { label:'',name:'timesNewRoman',val:'times new roman'}\n        //]\n\n        //fontsize\n        //字号\n        //,'fontsize':[10, 11, 12, 14, 16, 18, 20, 24, 36]\n\n        //paragraph\n        //段落格式 值留空时支持多语言自动识别，若配置，则以配置值为准\n        //,'paragraph':{'p':'', 'h1':'', 'h2':'', 'h3':'', 'h4':'', 'h5':'', 'h6':''}\n\n        //rowspacingtop\n        //段间距 值和显示的名字相同\n        //,'rowspacingtop':['5', '10', '15', '20', '25']\n\n        //rowspacingBottom\n        //段间距 值和显示的名字相同\n        //,'rowspacingbottom':['5', '10', '15', '20', '25']\n\n        //lineheight\n        //行内间距 值和显示的名字相同\n        //,'lineheight':['1', '1.5','1.75','2', '3', '4', '5']\n\n        //customstyle\n        //自定义样式，不支持国际化，此处配置值即可最后显示值\n        //block的元素是依据设置段落的逻辑设置的，inline的元素依据BIU的逻辑设置\n        //尽量使用一些常用的标签\n        //参数说明\n        //tag 使用的标签名字\n        //label 显示的名字也是用来标识不同类型的标识符，注意这个值每个要不同，\n        //style 添加的样式\n        //每一个对象就是一个自定义的样式\n        //,'customstyle':[\n        //    {tag:'h1', name:'tc', label:'', style:'border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;'},\n        //    {tag:'h1', name:'tl',label:'', style:'border-bottom:#ccc 2px solid;padding:0 4px 0 0;margin:0 0 10px 0;'},\n        //    {tag:'span',name:'im', label:'', style:'font-style:italic;font-weight:bold'},\n        //    {tag:'span',name:'hi', label:'', style:'font-style:italic;font-weight:bold;color:rgb(51, 153, 204)'}\n        //]\n\n        //打开右键菜单功能\n        //,enableContextMenu: true\n        //右键菜单的内容，可以参考plugins/contextmenu.js里边的默认菜单的例子，label留空支持国际化，否则以此配置为准\n        //,contextMenu:[\n        //    {\n        //        label:'',       //显示的名称\n        //        cmdName:'selectall',//执行的command命令，当点击这个右键菜单时\n        //        //exec可选，有了exec就会在点击时执行这个function，优先级高于cmdName\n        //        exec:function () {\n        //            //this是当前编辑器的实例\n        //            //this.ui._dialogs['inserttableDialog'].open();\n        //        }\n        //    }\n        //]\n\n        //快捷菜单\n        //,shortcutMenu:[\"fontfamily\", \"fontsize\", \"bold\", \"italic\", \"underline\", \"forecolor\", \"backcolor\", \"insertorderedlist\", \"insertunorderedlist\"]\n\n        //elementPathEnabled\n        //是否启用元素路径，默认是显示\n        //,elementPathEnabled : true\n\n        //wordCount\n        //,wordCount:true          //是否开启字数统计\n        //,maximumWords:10000       //允许的最大字符数\n        //字数统计提示，{#count}代表当前字数，{#leave}代表还可以输入多少字符数,留空支持多语言自动切换，否则按此配置显示\n        //,wordCountMsg:''   //当前已输入 {#count} 个字符，您还可以输入{#leave} 个字符\n        //超出字数限制提示  留空支持多语言自动切换，否则按此配置显示\n        //,wordOverFlowMsg:''    //<span style=\"color:red;\">你输入的字符个数已经超出最大允许值，服务器可能会拒绝保存！</span>\n\n        //tab\n        //点击tab键时移动的距离,tabSize倍数，tabNode什么字符做为单位\n        //,tabSize:4\n        //,tabNode:'&nbsp;'\n\n        //removeFormat\n        //清除格式时可以删除的标签和属性\n        //removeForamtTags标签\n        //,removeFormatTags:'b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var'\n        //removeFormatAttributes属性\n        //,removeFormatAttributes:'class,style,lang,width,height,align,hspace,valign'\n\n        //undo\n        //可以最多回退的次数,默认20\n        //,maxUndoCount:20\n        //当输入的字符数超过该值时，保存一次现场\n        //,maxInputCount:1\n\n        //autoHeightEnabled\n        // 是否自动长高,默认true\n        //,autoHeightEnabled:true\n\n        //scaleEnabled\n        //是否可以拉伸长高,默认true(当开启时，自动长高失效)\n        //,scaleEnabled:false\n        //,minFrameWidth:800    //编辑器拖动时最小宽度,默认800\n        //,minFrameHeight:220  //编辑器拖动时最小高度,默认220\n\n        //autoFloatEnabled\n        //是否保持toolbar的位置不动,默认true\n        //,autoFloatEnabled:true\n        //浮动时工具栏距离浏览器顶部的高度，用于某些具有固定头部的页面\n        //,topOffset:30\n        //编辑器底部距离工具栏高度(如果参数大于等于编辑器高度，则设置无效)\n        //,toolbarTopOffset:400\n\n        //设置远程图片是否抓取到本地保存\n        //,catchRemoteImageEnable: true //设置是否抓取远程图片\n\n        //pageBreakTag\n        //分页标识符,默认是_ueditor_page_break_tag_\n        //,pageBreakTag:'_ueditor_page_break_tag_'\n\n        //autotypeset\n        //自动排版参数\n        //,autotypeset: {\n        //    mergeEmptyline: true,           //合并空行\n        //    removeClass: true,              //去掉冗余的class\n        //    removeEmptyline: false,         //去掉空行\n        //    textAlign:\"left\",               //段落的排版方式，可以是 left,right,center,justify 去掉这个属性表示不执行排版\n        //    imageBlockLine: 'center',       //图片的浮动方式，独占一行剧中,左右浮动，默认: center,left,right,none 去掉这个属性表示不执行排版\n        //    pasteFilter: false,             //根据规则过滤没事粘贴进来的内容\n        //    clearFontSize: false,           //去掉所有的内嵌字号，使用编辑器默认的字号\n        //    clearFontFamily: false,         //去掉所有的内嵌字体，使用编辑器默认的字体\n        //    removeEmptyNode: false,         // 去掉空节点\n        //    //可以去掉的标签\n        //    removeTagNames: {标签名字:1},\n        //    indent: false,                  // 行首缩进\n        //    indentValue : '2em',            //行首缩进的大小\n        //    bdc2sb: false,\n        //    tobdc: false\n        //}\n\n        //tableDragable\n        //表格是否可以拖拽\n        //,tableDragable: true\n\n\n        //sourceEditor\n        //源码的查看方式,codemirror 是代码高亮，textarea是文本框,默认是codemirror\n        //注意默认codemirror只能在ie8+和非ie中使用\n        //,sourceEditor:\"codemirror\"\n        //如果sourceEditor是codemirror，还用配置一下两个参数\n        //codeMirrorJsUrl js加载的路径，默认是 URL + \"third-party/codemirror/codemirror.js\"\n        //,codeMirrorJsUrl:URL + \"third-party/codemirror/codemirror.js\"\n        //codeMirrorCssUrl css加载的路径，默认是 URL + \"third-party/codemirror/codemirror.css\"\n        //,codeMirrorCssUrl:URL + \"third-party/codemirror/codemirror.css\"\n        //编辑器初始化完成后是否进入源码模式，默认为否。\n        //,sourceEditorFirst:false\n\n        //iframeUrlMap\n        //dialog内容的路径 ～会被替换成URL,垓属性一旦打开，将覆盖所有的dialog的默认路径\n        //,iframeUrlMap:{\n        //    'anchor':'~/dialogs/anchor/anchor.html',\n        //}\n\n        //allowLinkProtocol 允许的链接地址，有这些前缀的链接地址不会自动添加http\n        //, allowLinkProtocols: ['http:', 'https:', '#', '/', 'ftp:', 'mailto:', 'tel:', 'git:', 'svn:']\n\n        //webAppKey 百度应用的APIkey，每个站长必须首先去百度官网注册一个key后方能正常使用app功能，注册介绍，http://app.baidu.com/static/cms/getapikey.html\n        //, webAppKey: \"\"\n\n        //默认过滤规则相关配置项目\n        //,disabledTableInTable:true  //禁止表格嵌套\n        //,allowDivTransToP:true      //允许进入编辑器的div标签自动变成p标签\n        //,rgb2Hex:true               //默认产出的数据中的color自动从rgb格式变成16进制格式\n\n        // xss 过滤是否开启,inserthtml等操作\n        ,\n        xssFilterRules: true\n        //input xss过滤\n        ,\n        inputXssFilter: true\n        //output xss过滤\n        ,\n        outputXssFilter: true\n        // xss过滤白名单 名单来源: https://raw.githubusercontent.com/leizongmin/js-xss/master/lib/default.js\n        ,\n        whitList: {\n            a: ['target', 'href', 'title', 'class', 'style'],\n            abbr: ['title', 'class', 'style'],\n            address: ['class', 'style'],\n            area: ['shape', 'coords', 'href', 'alt'],\n            article: [],\n            aside: [],\n            audio: ['autoplay', 'controls', 'loop', 'preload', 'src', 'class', 'style'],\n            b: ['class', 'style'],\n            bdi: ['dir'],\n            bdo: ['dir'],\n            big: [],\n            blockquote: ['cite', 'class', 'style'],\n            br: [],\n            caption: ['class', 'style'],\n            center: [],\n            cite: [],\n            code: ['class', 'style'],\n            col: ['align', 'valign', 'span', 'width', 'class', 'style'],\n            colgroup: ['align', 'valign', 'span', 'width', 'class', 'style'],\n            dd: ['class', 'style'],\n            del: ['datetime'],\n            details: ['open'],\n            div: ['class', 'style'],\n            dl: ['class', 'style'],\n            dt: ['class', 'style'],\n            em: ['class', 'style'],\n            font: ['color', 'size', 'face'],\n            footer: [],\n            h1: ['class', 'style'],\n            h2: ['class', 'style'],\n            h3: ['class', 'style'],\n            h4: ['class', 'style'],\n            h5: ['class', 'style'],\n            h6: ['class', 'style'],\n            header: [],\n            hr: [],\n            i: ['class', 'style'],\n            img: ['src', 'alt', 'title', 'width', 'height', 'id', '_src', 'loadingclass', 'class', 'data-latex'],\n            ins: ['datetime'],\n            li: ['class', 'style'],\n            mark: [],\n            nav: [],\n            ol: ['class', 'style'],\n            p: ['class', 'style'],\n            pre: ['class', 'style'],\n            s: [],\n            section: [],\n            small: [],\n            span: ['class', 'style'],\n            sub: ['class', 'style'],\n            sup: ['class', 'style'],\n            strong: ['class', 'style'],\n            table: ['width', 'border', 'align', 'valign', 'class', 'style'],\n            tbody: ['align', 'valign', 'class', 'style'],\n            td: ['width', 'rowspan', 'colspan', 'align', 'valign', 'class', 'style'],\n            tfoot: ['align', 'valign', 'class', 'style'],\n            th: ['width', 'rowspan', 'colspan', 'align', 'valign', 'class', 'style'],\n            thead: ['align', 'valign', 'class', 'style'],\n            tr: ['rowspan', 'align', 'valign', 'class', 'style'],\n            tt: [],\n            u: [],\n            ul: ['class', 'style'],\n            video: ['autoplay', 'controls', 'loop', 'preload', 'src', 'height', 'width', 'class', 'style']\n        }\n    };\n\n    function getUEBasePath(docUrl, confUrl) {\n\n        return getBasePath(docUrl || self.document.URL || self.location.href, confUrl || getConfigFilePath());\n\n    }\n\n    function getConfigFilePath() {\n\n        var configPath = document.getElementsByTagName('script');\n\n        return configPath[configPath.length - 1].src;\n\n    }\n\n    function getBasePath(docUrl, confUrl) {\n\n        var basePath = confUrl;\n\n\n        if (/^(\\/|\\\\\\\\)/.test(confUrl)) {\n\n            basePath = /^.+?\\w(\\/|\\\\\\\\)/.exec(docUrl)[0] + confUrl.replace(/^(\\/|\\\\\\\\)/, '');\n\n        } else if (!/^[a-z]+:/i.test(confUrl)) {\n\n            docUrl = docUrl.split(\"#\")[0].split(\"?\")[0].replace(/[^\\\\\\/]+$/, '');\n\n            basePath = docUrl + \"\" + confUrl;\n\n        }\n\n        return optimizationPath(basePath);\n\n    }\n\n    function optimizationPath(path) {\n\n        var protocol = /^[a-z]+:\\/\\//.exec(path)[0],\n            tmp = null,\n            res = [];\n\n        path = path.replace(protocol, \"\").split(\"?\")[0].split(\"#\")[0];\n\n        path = path.replace(/\\\\/g, '/').split(/\\//);\n\n        path[path.length - 1] = \"\";\n\n        while (path.length) {\n\n            if ((tmp = path.shift()) === \"..\") {\n                res.pop();\n            } else if (tmp !== \".\") {\n                res.push(tmp);\n            }\n\n        }\n\n        return protocol + res.join(\"/\");\n\n    }\n\n    window.UE = {\n        getUEBasePath: getUEBasePath\n    };\n\n})();\n\n/***/ }),\n\n/***/ \"rKfN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n\n/**\r\n * @author LJW 20171206\r\n * @description 文件上传操作框组件\r\n *\r\n */\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    url: {\n      type: String,\n      default: \"rest/mailService/upLoadFile/file\"\n    },\n    fileList1: {\n      type: String,\n      default: function _default() {\n        return \"\";\n      }\n    },\n    accept: {\n      type: String,\n      default: function _default() {\n        return \"*\";\n      }\n    }\n  },\n  data: function data() {\n    return {\n      filename: \"\",\n      mailFileList: []\n    };\n  },\n\n  watch: {\n    fileList1: function fileList1(newData, oldData) {\n      this.filename = this.fileList1;\n      this.mailFileList = this.fileList1.split(\";\").filter(function (item, index) {\n        if (item.trim() != \"\") {\n          return item;\n        }\n      }).map(function (item, index) {\n        return {\n          name: item.substring(item.lastIndexOf(\"/\") + 1),\n          url: item\n        };\n      });\n    }\n  },\n  computed: {\n    action: function action() {\n      return \"api/\" + this.url;\n    }\n  },\n  methods: {\n    // 文件上传成功后返回后台传入的地址；失败提示错误信息，不进行操作\n    handleChange: function handleChange(response, file, fileList) {\n      if (response.success) {\n        this.filename += response.data + \";\";\n        this.$emit(\"change\", response.data);\n      } else {\n        var len = this.fileList1.length;\n        this.$message.error(response.msg);\n        this.$emit(\"error\", this.fileList1.slice(\"-\" + len));\n      }\n    },\n\n    // 删除附件信息返回删除的地址\n    handleRemove: function handleRemove(file, fileList) {\n      this.filename = this.filename.replace(curFile + \";\", \"\");\n      this.$emit(\"remove\", file.response.data);\n    },\n    getFileName: function getFileName() {\n      return this.filename;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"soPF\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_analysis_vue__ = __webpack_require__(\"tOm5\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_0dfa2c52_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_analysis_vue__ = __webpack_require__(\"DnpW\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"6lNP\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0dfa2c52\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_analysis_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_0dfa2c52_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_analysis_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"stRy\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"panel-flex\",\n    style: ({\n      width: _vm.width,\n      padding: _vm.padValue\n    })\n  }, [_c('div', {\n    class: {\n      'panel-flex-1': !_vm.leftWidth\n    },\n    style: ({\n      width: _vm.leftWidth,\n      'min-width': _vm.leftWidth,\n      height: _vm.height\n    })\n  }, [_vm._t(\"left\")], 2), _vm._v(\" \"), _c('div', {\n    class: {\n      'panel-flex-1': !_vm.rightWidth\n    },\n    style: ({\n      width: _vm.rightWidth,\n      height: _vm.height\n    })\n  }, [_vm._t(\"right\")], 2), _vm._v(\" \"), _vm._t(\"default\")], 2)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"tDMO\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_echarts_vue__ = __webpack_require__(\"cHhC\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_566bf778_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_echarts_vue__ = __webpack_require__(\"MB9r\");\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_echarts_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_566bf778_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_echarts_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"tOm5\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    title: {\n      type: String,\n      default: \"分析结论\"\n    },\n    width: {\n      type: String,\n      default: \"280px\"\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"tunb\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"date-time\",\n    style: ({\n      width: _vm.width\n    })\n  }, [(_vm.type === 'datetimerange' || _vm.type === 'daterange') ? _c('el-date-picker', {\n    attrs: {\n      \"type\": _vm.type,\n      \"placeholder\": \"选择日期范围\",\n      \"range-separator\": _vm.rangeSeparator,\n      \"start-placeholder\": _vm.startPlaceholder,\n      \"editable\": false\n    },\n    model: {\n      value: (_vm.time),\n      callback: function($$v) {\n        _vm.time = $$v\n      },\n      expression: \"time\"\n    }\n  }) : _c('div', {\n    staticClass: \"date-time-wrap\"\n  }, [(_vm.label.sLabel) ? _c('span', [_vm._v(_vm._s(_vm.label.sLabel))]) : _vm._e(), _vm._v(\" \"), _c('el-date-picker', {\n    staticClass: \"date-time-input\",\n    attrs: {\n      \"format\": _vm.changeFormat(_vm.format[_vm.type]),\n      \"type\": _vm.type,\n      \"placeholder\": \"选择日期范围\",\n      \"editable\": false\n    },\n    on: {\n      \"change\": _vm.handleStartTime\n    },\n    model: {\n      value: (_vm.stime),\n      callback: function($$v) {\n        _vm.stime = $$v\n      },\n      expression: \"stime\"\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.label.eLabel))]), _vm._v(\" \"), _c('el-date-picker', {\n    staticClass: \"date-time-input\",\n    attrs: {\n      \"format\": _vm.changeFormat(_vm.format[_vm.type]),\n      \"type\": _vm.type,\n      \"picker-options\": _vm.pickerOptions,\n      \"placeholder\": \"选择日期范围\",\n      \"editable\": false\n    },\n    on: {\n      \"change\": _vm.handleEndTime\n    },\n    model: {\n      value: (_vm.etime),\n      callback: function($$v) {\n        _vm.etime = $$v\n      },\n      expression: \"etime\"\n    }\n  })], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"v46e\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(\"ZLEe\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util__ = __webpack_require__(\"yt7g\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__vueutil__ = __webpack_require__(\"aaZk\");\n\n/**\r\n * 表单验证规则模块\r\n * 20180105 ljw\r\n */\n\n\n\n/**\r\n * 使用方法(结合elementui的表单验证总结)：\r\n * <el-form :rule=\"ruleForm\"></el-form>\r\n *\r\n * data() {\r\n *   ruleForm:this.eachValidate({\r\n *      name:{required:true},\r\n *      email:{email:true, required:true}\r\n *   })\r\n * }\r\n *\r\n * 常用验证方法如下：\r\n * required:true(必填)\r\n * tel:true(固定电话)\r\n * 数值大小判断：len:5(等于5)  min:5(不小于5)  max:10(不大于10) range:[5,10](5到10之间)\r\n * number:true(数字)\r\n * digits:true(整数)\r\n * url:true\r\n * email:true\r\n * creditcard:true(信用卡)\r\n * accept : \".jpg|.png\"(合法后缀)\r\n * idCardNo : true(身份证验证)\r\n * mobile : true(手机电话)\r\n * tel : true(固定)\r\n * telAndMobile : true(手机号码/固定电话)\r\n * code : true(邮政编码)\r\n *\r\n * stringCheck : true（中文字、英文字母、数字和下划线,不能包含分发字符）\r\n * account: true(只能输入英文、数字或下划线)\r\n * alnum : true(英文字母或数字)\r\n * chcharacter : true(只能输入汉字)\r\n * imeDisabled: true(不能输入汉字)\r\n * string : true(字符验证)\r\n * letter ： true(只能输入英文字母)\r\n *\r\n * notSpace : true(不能为空格)\r\n * exclusive:\"abc\"(验证值不允许包含特定值)\r\n * unequal:\"abc\"(验证值不允许等于特定值)\r\n * dateTime: true(时间,格式为yyyy-mm-dd)\r\n *\r\n * lenString : 5(字符长度必须等于5)\r\n * rangeString : [5,10](字符长度在5到10内)\r\n * minString : 10(字符串最小长度)\r\n * maxString : 50(字符串最大长度)\r\n *\r\n * min:5(数值不得小于5)\r\n * max:10(数值不得大于10)\r\n * range:[5,10](数值在5到10内)\r\n * len: 5(数值等于5)\r\n *\r\n * remote:\"\"/[]/{}(ajax请求后台返回错误信息)传字符串url（get请求）、数组[url, paramsName]（get请求）、ajax请求的对象{}\r\n * customVail:funcitnName(自定义校验规则)\r\n */\n\n// 15位身份证时间验证\nfunction isDate6(sDate) {\n    if (!/^[0-9]{6}$/.test(sDate)) {\n        return false;\n    }\n    var year, month, day;\n    year = sDate.substring(0, 4);\n    month = sDate.substring(4, 6);\n    if (year < 1800 || year > 2100) return false;\n    if (month < 1 || month > 12) return false;\n    return true;\n}\n\n// 18位身份证时间验证\nfunction isDate8(sDate) {\n    if (!/^[0-9]{8}$/.test(sDate)) {\n        return false;\n    }\n    var year, month, day;\n    year = sDate.substring(0, 4);\n    month = sDate.substring(4, 6);\n    day = sDate.substring(6, 8);\n    var iaMonthDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n    if (year < 1800 || year > 2100) return false;\n    if (year % 4 == 0 && year % 100 != 0 || year % 400 == 0) iaMonthDays[1] = 29;\n    if (month < 1 || month > 12) return false;\n    if (day < 1 || day > iaMonthDays[month - 1]) return false;\n    return true;\n}\n\nvar validate = {\n    number: function number(rule, value, callback, source, options) {\n        if (value === '' || value === null) {\n            return callback();\n        }\n        if (!isNaN(value)) {\n            //varType(value) === \"number\"\n            switch (rule.type) {\n                case \"number\":\n                    callback();\n                    break;\n                case \"len\":\n                    if (value !== Number(rule.data)) {\n                        callback(new Error((rule.name || \"数值\") + \"必须等于\" + rule.data));\n                    } else {\n                        callback();\n                    }\n                    break;\n                case \"min\":\n                    if (value < Number(rule.data)) {\n                        callback(new Error((rule.name || \"数值\") + \"不得小于\" + rule.data));\n                    } else {\n                        callback();\n                    }\n                    break;\n                case \"max\":\n                    if (value > Number(rule.data)) {\n                        callback(new Error((rule.name || \"数值\") + \"不得大于\" + rule.data));\n                    } else {\n                        callback();\n                    }\n                    break;\n                case \"range\":\n                    if (value < Number(rule.data[0]) || value > Number(rule.data[1])) {\n                        callback(new Error((rule.name || \"数值\") + \"必须在\" + rule.data[0] + \"和\" + rule.data[1] + \"之间\"));\n                    } else {\n                        callback();\n                    }\n                    break;\n            }\n        } else {\n            callback(new Error(\"请输入数字\"));\n        }\n    },\n    string: function string(rule, value, callback, source, options) {\n        if (value === \"\" || value === undefined || value === null) {\n            callback();\n            return false;\n        }\n        if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util__[\"d\" /* varType */])(value) === \"string\") {\n            var len = value.length;\n            switch (rule.type) {\n                case \"len\":\n                    if (len !== Number(rule.data)) {\n                        callback(new Error((rule.name || \"字符\") + \"长度必须等于\" + rule.data));\n                    } else {\n                        callback();\n                    }\n                    break;\n                case \"min\":\n                    if (len < Number(rule.data)) {\n                        callback(new Error((rule.name || \"字符\") + \"长度不得小于\" + rule.data));\n                    } else {\n                        callback();\n                    }\n                    break;\n                case \"max\":\n                    if (len > Number(rule.data)) {\n                        callback(new Error((rule.name || \"字符\") + \"长度不得大于\" + rule.data));\n                    } else {\n                        callback();\n                    }\n                    break;\n                case \"range\":\n                    if (len < Number(rule.data[0]) || value > Number(rule.data[1])) {\n                        callback(new Error((rule.name || \"字符\") + \"长度必须在\" + rule.data[0] + \"和\" + rule.data[1] + \"之间\"));\n                    } else {\n                        callback();\n                    }\n                    break;\n                case \"exclusive\":\n                    if (value.indexOf(rule.data) > -1) {\n                        callback(new Error((rule.name || \"字符\") + \"不得包含\" + rule.data));\n                    } else {\n                        callback();\n                    }\n                    break;\n                case \"unequal\":\n                    if (value === rule.data) {\n                        callback(new Error((rule.name || \"字符\") + \"不得与\" + rule.data + \"相同\"));\n                    } else {\n                        callback();\n                    }\n                    break;\n            }\n        } else {\n            callback(new Error(\"请输入字符串\"));\n        }\n    },\n    creditcard: function creditcard(rule, value, callback, source, options) {\n        value = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util__[\"s\" /* trimAll */])(value); //去空\n        if (/[^0-9 \\-]+/.test(value)) {\n            callback(new Error(rule.message));\n        }\n        var nCheck = 0,\n            nDigit = 0,\n            bEven = false;\n        value = value.replace(/\\D/g, \"\");\n        for (var n = value.length - 1; n >= 0; n--) {\n            var cDigit = value.charAt(n);\n            nDigit = parseInt(cDigit, 10);\n            if (bEven) {\n                if ((nDigit *= 2) > 9) {\n                    nDigit -= 9;\n                }\n            }\n            nCheck += nDigit;\n            bEven = !bEven;\n        }\n        if (!(nCheck % 10 === 0)) {\n            callback(new Error(rule.message));\n        } else {\n            callback();\n        }\n    },\n    idCardNo: function idCardNo(rule, value, callback, source, options) {\n        var factorArr = new Array(7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2, 1); // 加权因子\n        var parityBit = new Array(\"1\", \"0\", \"X\", \"9\", \"8\", \"7\", \"6\", \"5\", \"4\", \"3\", \"2\"); // 身份证验证位值\n        var varArray = new Array(),\n            i;\n        var intValue;\n        var lngProduct = 0;\n        var intCheckDigit;\n        var intStrLen = value.length;\n        var idNumber = value;\n        // 长度是否为15或18\n        if (intStrLen != 15 && intStrLen != 18) {\n            callback(new Error(rule.message));\n            return false;\n        } else {\n            for (i = 0; i < intStrLen; i++) {\n                varArray[i] = idNumber.charAt(i);\n                if ((varArray[i] < '0' || varArray[i] > '9') && i != 17) {\n                    callback(new Error(rule.message));\n                    return false;\n                } else if (i < 17) {\n                    varArray[i] = varArray[i] * factorArr[i];\n                }\n            }\n\n            if (intStrLen == 18) {\n                // 长度为18位\n                // 日期校验\n                var date8 = idNumber.substring(6, 14);\n                if (isDate8(date8) == false) {\n                    callback(new Error(rule.message));\n                    return false;\n                }\n                // 计算前17位身份证数字总和\n                for (i = 0; i < 17; i++) {\n                    lngProduct = lngProduct + varArray[i];\n                }\n                // 计算最后一位验证码的结果\n                intCheckDigit = parityBit[lngProduct % 11];\n                // 检查最后一个数字\n                if (varArray[17] != intCheckDigit) {\n                    callback(new Error(rule.message));\n                    return false;\n                }\n            } else {\n                // 长度为15位\n                // 日期校验\n                var date6 = idNumber.substring(6, 12);\n                if (isDate6(date6) == false) {\n                    callback(new Error(rule.message));\n                    return false;\n                }\n            }\n            callback();\n        }\n    },\n    accept: function accept(rule, value, callback, source, options) {\n        if (new RegExp(rule.data + \"$\").test(value)) {\n            callback();\n        } else {\n            callback(new Error(\"请输入以\" + rule.data + \"为后缀名的字符串\"));\n        }\n    },\n    regExp: function regExp(rule, value, callback, source, options) {\n        if (value === \"\") {\n            callback();\n        } else {\n            if (new RegExp(rule.data).test(value)) {\n                callback();\n            } else {\n                callback(new Error(rule.message));\n            }\n        }\n    },\n    regExpEcho: function regExpEcho(rule, value, callback, source, options) {\n        if (value === \"\") {\n            callback();\n        } else {\n            if (new RegExp(rule.data).test(value)) {\n                callback(new Error(rule.message));\n            } else {\n                callback();\n            }\n        }\n    },\n    regExpArr: function regExpArr(rule, value, callback, source, options) {\n        if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util__[\"d\" /* varType */])(rule.data) === \"object\") {\n            rule.data.length = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(rule.data).length; //XXX 兼容性未知\n            rule.data = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util__[\"t\" /* changeArr */])(rule.data);\n        }\n        value = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util__[\"s\" /* trimAll */])(value);\n        if (value === \"\") {\n            callback();\n        } else {\n            if (rule.data.some(function (item) {\n                return new RegExp(item).test(value);\n            })) {\n                callback();\n            } else {\n                callback(new Error(rule.message));\n            }\n        }\n    },\n    remote: function remote(rule, value, callback, source, options) {\n        var ajaxObj = {\n            method: \"GET\",\n            url: \"\",\n            params: {}\n        };\n        if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util__[\"d\" /* varType */])(rule.data) === \"array\") {\n            ajaxObj.url = rule.data[0];\n            ajaxObj.params[rule.data[1]] = value;\n            // } else if (varType(rule.data) === \"object\") {\n            //     ajaxObj = rule.data;\n        } else {\n            ajaxObj.url = rule.data;\n            ajaxObj.params.account = value;\n        }\n\n        ajaxObj.noLoading = true;\n\n        __WEBPACK_IMPORTED_MODULE_2__vueutil__[\"a\" /* default */].prototype.$ajax(ajaxObj).then(function (res) {\n            if (!res.data.success) {\n                return callback(new Error(res.data.msg || \"验证不通过\"));\n            } else {\n                callback();\n            }\n        }).catch(function (err) {\n            console.log(err);\n        });\n    }\n};\nvar ruleType = {\n    required: {\n        required: true,\n        message: '不能为空',\n        trigger: 'blur'\n    },\n    email: {\n        type: 'email',\n        message: '请输入正确的邮箱地址',\n        trigger: 'blur'\n    },\n    url: {\n        type: 'url',\n        message: '请输入正确的网址格式',\n        trigger: 'blur'\n    },\n    //数值\n    number: {\n        validator: validate.number,\n        type: 'number',\n        message: \"请输入数字\",\n        trigger: 'blur'\n    },\n    digits: {\n        type: 'integer',\n        message: \"请输入整数\",\n        trigger: 'blur'\n    },\n    creditcard: {\n        validator: validate.creditcard,\n        message: \"请输入正确的信用卡号\",\n        trigger: 'blur'\n    },\n    len: {\n        validator: validate.number,\n        type: \"len\",\n        trigger: 'blur'\n    },\n    min: {\n        validator: validate.number,\n        type: \"min\",\n        trigger: 'blur'\n    },\n    max: {\n        validator: validate.number,\n        type: \"max\",\n        trigger: 'blur'\n    },\n    range: {\n        validator: validate.number,\n        type: \"range\",\n        trigger: 'blur'\n    },\n\n    accept: {\n        validator: validate.accept,\n        trigger: 'blur'\n    },\n    stringCheck: { //[a-zA-Z][A-Za-z0-9_]\n        validator: validate.regExp,\n        data: '^[\\\\u4E00-\\\\u9FA5A-Za-z0-9_]+$',\n        message: \"只允许输入中文字、英文字母、数字和下划线\",\n        trigger: 'blur'\n    },\n    account: {\n        validator: validate.regExp,\n        data: \"^[A-Za-z0-9_]+$\",\n        message: \"只允许输入英文、数字或下划线\",\n        trigger: 'blur'\n    },\n    alnum: {\n        validator: validate.regExp,\n        data: \"^[a-zA-Z0-9]+$\",\n        message: \"只允许输入英文字母或数字\",\n        trigger: 'blur'\n    },\n    chcharacter: {\n        validator: validate.regExp,\n        data: '^[\\\\u4e00-\\\\u9fa5]+$',\n        message: \"只允许输入中文\",\n        trigger: 'blur'\n    },\n    imeDisabled: {\n        validator: validate.regExpEcho,\n        data: '^[\\\\u4e00-\\\\u9fa5]+$',\n        message: \"不允许输入中文\",\n        trigger: 'blur'\n    },\n    letter: {\n        validator: validate.regExp,\n        data: \"^[a-zA-Z]+$\",\n        message: \"只允许输入英文字母\",\n        trigger: 'blur'\n    },\n    idCardNo: {\n        validator: validate.idCardNo,\n        message: \"请输入正确的身份证号码\",\n        trigger: 'blur'\n    },\n    mobile: {\n        validator: validate.regExp,\n        data: \"^(\\\\d{3}|\\\\d{4})?(\\\\d{8}|\\\\d{7})?(\\\\d{1,6})?$\",\n        message: \"请输入正确的手机号码\",\n        trigger: 'blur'\n    },\n    tel: {\n        validator: validate.regExp,\n        data: \"^(0[0-9]{2,3}\\\\-)?([2-9][0-9]{6,7})+(\\\\-[0-9]{1,4})?$\",\n        message: \"请输入正确的固定电话\",\n        trigger: 'blur'\n    },\n    telAndMobile: {\n        validator: validate.regExpArr,\n        data: [\"^(0[0-9]{2,3}\\\\-)?([2-9][0-9]{6,7})+(\\\\-[0-9]{1,4})?$\", \"^(\\\\d{3}|\\\\d{4})?(\\\\d{8}|\\\\d{7})?(\\\\d{1,6})?$\"],\n        message: \"请输入正确的手机号码或固定电话\",\n        trigger: 'blur'\n    },\n    code: {\n        validator: validate.regExp,\n        data: \"[1-9]\\\\d{5}(?!\\\\d)\",\n        message: \"请输入正确的邮政编码\",\n        trigger: 'blur'\n    },\n    notSpace: {\n        validator: validate.regExp,\n        data: \"^[^\\\\s]+$\",\n        message: \"不允许有空格\",\n        trigger: 'blur'\n    },\n\n    string: {\n        type: 'string',\n        message: \"请输入字符串\",\n        trigger: 'blur'\n    },\n    lenString: {\n        validator: validate.string,\n        type: \"len\",\n        trigger: 'blur'\n    },\n    unequal: {\n        validator: validate.string,\n        type: \"unequal\",\n        trigger: 'blur'\n    },\n    exclusive: {\n        validator: validate.string,\n        type: \"exclusive\",\n        trigger: 'blur'\n    },\n    minString: {\n        validator: validate.string,\n        type: \"min\",\n        trigger: 'blur'\n    },\n    maxString: {\n        validator: validate.string,\n        type: \"max\",\n        trigger: 'blur'\n    },\n    rangeString: {\n        validator: validate.string,\n        type: \"range\",\n        trigger: 'blur'\n    },\n    dateTime: {\n        validator: validate.regExp,\n        data: \"^(\\\\d{4})-(0\\\\d{1}|1[0-2])-(0\\\\d{1}|[12]\\\\d{1}|3[01])$\",\n        message: \"请输入正确的时间格式\",\n        trigger: 'blur'\n    },\n    remote: {\n        validator: validate.remote,\n        trigger: 'blur'\n    },\n    customVail: {\n        trigger: 'blur'\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (ruleType);\n\n/***/ }),\n\n/***/ \"wqCo\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"wtEF\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"5vqR\");\n\n\nvar store = {\n    state: {//存放组件共享的数据\n    },\n    getters: {//类似于计算属性\n\n    },\n    actions: {},\n    mutations: {}\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (store);\n\n/***/ }),\n\n/***/ \"x1Tb\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"yGHV\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: \"loading\",\n  data: function data() {\n    return {\n      visible: true,\n      fullscreen: true,\n      text: \"正在加载中\"\n    };\n  },\n\n  methods: {\n    handleAfterLeave: function handleAfterLeave() {\n      this.$emit(\"after-leave\");\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"yJdf\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_myTransfer_vue__ = __webpack_require__(\"Rtzv\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_1b042ddd_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_myTransfer_vue__ = __webpack_require__(\"zD9C\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"3tvm\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_myTransfer_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_1b042ddd_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_myTransfer_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"yt7g\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return varType; });\n/* unused harmony export getExplore */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return getCookie; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return setCookie; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"p\", function() { return delCookie; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return clearCookie; });\n/* unused harmony export trim */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"s\", function() { return trimAll; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"k\", function() { return deepCopy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"l\", function() { return deepJSONCopy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return extend; });\n/* unused harmony export isEmptyObject */\n/* unused harmony export getValue */\n/* unused harmony export findValue */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"r\", function() { return each; });\n/* unused harmony export arrayEqual */\n/* unused harmony export unique */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"m\", function() { return getTreeByList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getListByTree; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return changeTree; });\n/* unused harmony export changeToTree */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"t\", function() { return changeArr; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return difference; });\n/* unused harmony export sortRule */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"n\", function() { return reduceById; });\n/* unused harmony export randomNum */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"u\", function() { return randomUUID; });\n/* unused harmony export getModuleId */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"q\", function() { return formatTime; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return calcTime; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return cycleTime; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"o\", function() { return getFixedDisplayData; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__ = __webpack_require__(\"zsLt\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__ = __webpack_require__(\"kfHR\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"3cXf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys__ = __webpack_require__(\"ZLEe\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_typeof__ = __webpack_require__(\"hRKE\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_typeof__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__uuId_js__ = __webpack_require__(\"B3kq\");\n\n\n\n\n\n\n\nfunction getCookie(name) {\n    var arr,\n        reg = new RegExp(\"(^| )\" + name + \"=([^;]*)(;|$)\");\n    if (arr = document.cookie.match(reg)) return arr[2];else return null;\n}\n\n//设置cookie,增加到vue实例方便全局调用\nfunction setCookie(c_name, value, expiredays) {\n    var exdate = new Date();\n    exdate.setDate(exdate.getDate() + expiredays);\n    document.cookie = c_name + \"=\" + escape(value) + (expiredays == null ? \"\" : \";expires=\" + exdate.toGMTString());\n};\n\n//删除cookie\nfunction delCookie(name) {\n    var exp = new Date();\n    exp.setTime(exp.getTime() - 1);\n    var cval = getCookie(name);\n    if (cval != null) {\n        document.cookie = name + \"=\" + cval + \";expires=\" + exp.toGMTString();\n    }\n};\n\n/**\r\n * 清空cookie\r\n */\nfunction clearCookie() {\n    var keys = document.cookie.match(/[^ =;]+(?=\\=)/g);\n    if (keys) {\n        for (var i = keys.length; i--;) {\n            document.cookie = keys[i] + '=0;expires=' + new Date(0).toUTCString();\n        }\n    }\n}\n\n/*功能:根据key,获取value;\r\n * arr: 树状数据;\r\n * itemKey: 树状数据对应的key\r\n * itmeValue: 树状数据返回另一个key的值;\r\n * value: 树状数据对应的key与实际相等的值\r\n * */\nfunction getValue(arr, itemKey1, itemKey2, value, setV) {\n    arr.forEach(function (item) {\n        if (item[itemKey1] === value) {\n            setV = item[itemKey2];\n            return;\n        } else {\n            if (item.children) {\n                getValue(item.children, itemKey1, itemKey2, value);\n            }\n        }\n    });\n}\n\n/*功能:根据id,获取name;\r\n * arr: 对象;\r\n * itemKey: 对象的id\r\n * itmeValue: 对象的name;\r\n * value: 已知的id的值\r\n * */\nfunction findValue(obj, itemKey1, itemKey2, value) {\n    if (obj[itemKey1] === value) {\n        return obj[itemKey2];\n    }\n}\n\n//数组转成对象\nfunction changeTree(arr, id, name, obj) {\n    arr.forEach(function (item) {\n        obj[item[id]] = item[name];\n        if (item.children && item.children.length > 0) {\n            changeTree(item.children, id, name, obj);\n        }\n    });\n}\n// 数组转成对象\nfunction changeToTree(arr, id) {\n    var obj = {};\n    arr.forEach(function (item) {\n        obj[item[id]] = item;\n        if (item.children && item.children.length > 0) {\n            extend(obj, changeTree(item.children, id));\n        }\n    });\n    return obj;\n}\n\n//类数组转成数组\nfunction changeArr(obj) {\n    return Array.prototype.slice.call(obj);\n}\n\n/**\r\n *\r\n * @desc 字符串去空（前后）\r\n * @param {String} str\r\n * @return {Boolean}\r\n */\nfunction trim(str) {\n    return str.replace(/[^\\s*]|[\\s$]/g, \"\");\n};\n\n/**\r\n *\r\n * @desc 字符串去空（所有）\r\n * @param {String} str\r\n * @return {Boolean}\r\n */\nfunction trimAll(str) {\n    return str.replace(/\\s*/g, \"\");\n};\n\n/**\r\n * \r\n * 数组遍历\r\n * @param {Array} arr\r\n * @param {Function} callback\r\n * */\nfunction each(arr, callback) {\n    for (var i = 0, len = arr.length; i < len; i++) {\n        callback(arr[i], i);\n    }\n}\n\n/**\r\n *\r\n * @desc 判断两个数组是否相等\r\n * @param {Array} arr1\r\n * @param {Array} arr2\r\n * @return {Boolean}\r\n */\nfunction arrayEqual(arr1, arr2) {\n    if (arr1 === arr2) {\n        return true;\n    }\n    if (arr1.length != arr2.length) return false;\n\n    for (var i = 0; i < arr1.length; ++i) {\n        if (arr1[i] !== arr2[i]) return false;\n    }\n    return true;\n}\n\n/**\r\n *\r\n * @desc 判断数组内元素是否重复\r\n * @param {Array} arr\r\n * @param {String} attr\r\n * @return {res} 返回新的去重数组\r\n */\n// DOTO\nfunction unique(arr, attr) {\n    var res = [];\n    var json = {};\n    for (var i = 0; i < arr.length; i++) {\n        var name = attr ? arr[i].attr : arr[i];\n        if (!json[name]) {\n            res.push(arr[i]);\n            json[name] = 1;\n        }\n    }\n    return res;\n}\n\n/**\r\n *\r\n * @desc 生成随机数\r\n * @param {Number} min\r\n * @param {Number} min\r\n * @return {Boolean}\r\n */\nfunction randomNum(min, max) {\n    return Math.floor(min + Math.random() * (max - min));\n}\n\n/**\r\n *\r\n * @desc 生成32位随机数UUID\r\n * @param {Array} arr\r\n * @return {Boolean}\r\n */\nfunction randomUUID() {\n    return __WEBPACK_IMPORTED_MODULE_5__uuId_js__[\"a\" /* default */].prototype.createUUID();\n}\n\n/**\r\n *\r\n * @desc   判断`obj`是否为空\r\n * @param  {Object} obj\r\n * @return {Boolean}\r\n */\nfunction isEmptyObject(obj) {\n    if (!obj || (typeof obj === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_typeof___default()(obj)) !== 'object' || Array.isArray(obj)) {\n        return false;\n    }\n    return !__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys___default()(obj).length;\n}\n\n/**\r\n * 列表生成树\r\n *\r\n * @param list 需要排序的列表\r\n * @param id id标示\r\n * @param pid 父id标示\r\n * @param root 根节点标示\r\n * @return\r\n */\nfunction getTreeByList(list, id, pid, root) {\n    if (!list instanceof Array || list.length === 0) {\n        return [];\n    }\n    var head = {},\n        treeList = new Array(list.length),\n        indexMap = [],\n        len = list.length;\n    for (var i = 0; i < len; i++) {\n        indexMap.push(list[i][id]);\n        treeList[i] = list[i];\n    }\n\n    for (var j = 0; j < len; j++) {\n        var node = list[j];\n        if (indexMap.indexOf(node[pid]) === -1) {\n            addChildren2Map(head, node);\n            continue;\n        }\n        if (root === undefined ? node[pid] === undefined : node[pid] === root) {\n            addChildren2Map(head, node);\n        } else {\n            addChildren2Map(treeList[indexMap.indexOf(node[pid])], node);\n        }\n    }\n\n    return head.children;\n}\n\nfunction addChildren2Map(map, childMap) {\n    if (map.children === undefined) {\n        map.children = [];\n    }\n    map.children.push(childMap);\n}\n\n/**\r\n * 获取排序树\r\n *\r\n * @param list 需要排序的列表\r\n * @param root 根节点标示\r\n * @return\r\n */\n\nfunction getListByTree(tree, id, cid, pid, pidV) {\n    var list = [];\n    for (var i = 0, len = tree.length; i < len; i++) {\n        pidV ? tree[i][pid] = pidV : \"\";\n        list.push(tree[i]);\n        if (tree[i][cid] && tree[i][cid].length > 0) {\n            list = list.concat(getListByTree(tree[i][cid], id, cid, pid, tree[i][id]));\n            // delete tree[i][cid];\n        }\n    }\n    return list;\n}\n\n//对象的深拷贝\nfunction deepCopy(source) {\n    var result = {};\n    for (var key in source) {\n        result[key] = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_typeof___default()(source[key]) === \"object\" ? deepCopy(source[key]) : source[key];\n    }\n    return result;\n}\n\n//json对象或数组的深拷贝\nfunction deepJSONCopy(data) {\n    if (data instanceof Array) {\n        return JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()({\n            data: data\n        })).data;\n    }\n    return JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(data));\n}\n\n/**\r\n * 对象合并,默认深度合并\r\n * 例子：\r\n * extend( target, [ object1 ,... objectN ] )深度合并\r\n * extend( [ deep ], target, [object1,... objectN ] )只合并第一层\r\n */\nfunction extend() {\n    var options,\n        name,\n        src,\n        copy,\n        copyIsArray,\n        clone,\n        target = arguments[0],\n        i = 1,\n        len = arguments.length,\n        deep = true;\n    // target为第一个参数，如果第一个参数是Boolean类型的值，则把target赋值给deep\n    // deep表示是否进行深层面的复制，当为true时，进行深度复制，否则只进行第一层扩展\n    if (varType(target) === \"boolean\") {\n        deep = target;\n\n        target = arguments[i] || {};\n        i++;\n    }\n    if ((typeof target === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_typeof___default()(target)) !== \"object\" && varType(target) !== \"function\") {\n        target = {};\n    }\n    // if(i = length) {     target = this; }\n    for (; i < len; i++) {\n        // 处理第i个被扩展的对象，即除去deep和target之外的对象\n        if ((options = arguments[i]) != null) {\n            for (name in options) {\n                src = target[name];\n                copy = options[name];\n                //当嵌套数组或者对象深拷贝完毕,跳出当前属性,开始拷贝下一属性 防止target和obj的某个属性指向的是同一对象进入死循环\n                if (target === copy) {\n                    continue;\n                }\n                //如果传入的合并对象里面嵌套数组或者对象,那么递归扩展对象\n                if (deep && copy && (varType(copy) === \"object\" || (copyIsArray = varType(copy) === \"array\"))) {\n                    if (copyIsArray) {\n                        copyIsArray = false;\n                        clone = src && varType(src) === \"array\" ? src : [];\n                    } else {\n                        clone = src && varType(src) === \"object\" ? src : {};\n                    }\n\n                    target[name] = extend(deep, clone, copy);\n                } else if (copy != undefined) {\n                    //覆盖添加\n                    target[name] = copy;\n                }\n            }\n        }\n    }\n    // 原对象被改变，因此如果不想改变原对象，target可传入{}\n    return target;\n}\n\n/**\r\n * 数组比较,获取saveList 和 deleteList\r\n *\r\n * @param arr1 保存之前的数组\r\n * @param arr2 保存后的数组\r\n * @param id 数组由对象组成时,辨别是否相同的对象的key\r\n * @return\r\n */\nfunction difference(arr1, arr2, id, fn) {\n    //arr1之前保存的数组，arr2后保存的数组 id 为数组是对象时,判断已id为key做的参数\n    arr1 = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(arr1);\n    arr2 = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(arr2);\n    var total = [],\n        saveList = [],\n        deleteList = []; //总的数组\n    if (id !== undefined) {\n        arr2.concat(arr1).forEach(function (item, index) {\n            //对象时\n            if (!total.some(function (value) {\n                return value[id] == item[id];\n            })) {\n                total.push(item);\n            }\n        });\n        pushList(total, arr1, saveList, id);\n        pushList(total, arr2, deleteList, id);\n    } else {\n        total = new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default.a(arr1.concat(arr2));\n        pushList(total, arr1, saveList);\n        pushList(total, arr2, deleteList);\n    }\n\n    // let total = new Set(arr1.concat(arr2)),\n    function pushList(total, orginArr, list, id) {\n        if (fn) {\n            __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(total).forEach(function (item) {\n                //如果有子数组有该值就不加，没有就放入list数组\n                // if (orginArr.some(value => item[id] === value[id])) {\n                if (fn(item, orginArr)) {\n                    return;\n                } else {\n                    list.push(item);\n                }\n                // return\n                // }\n            });\n        } else if (id === undefined) {\n            __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(total).forEach(function (item) {\n                //如果有子数组有该值就不加，没有就放入list数组\n                if (orginArr.some(function (value) {\n                    return item === value;\n                })) {\n                    return;\n                }\n                list.push(item);\n            });\n        } else {\n            __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(total).forEach(function (item) {\n                //如果有子数组有该值就不加，没有就放入list数组\n                if (orginArr.some(function (value) {\n                    return item[id] === value[id];\n                })) {\n                    return;\n                }\n                list.push(item);\n            });\n        }\n    }\n\n    return {\n        saveList: saveList,\n        deleteList: deleteList\n    };\n}\n\nfunction varType(arg) {\n    var class2type = {\n        '[object Boolean]': 'boolean',\n        '[object Number]': 'number',\n        '[object String]': 'string',\n        '[object Function]': 'function',\n        '[object Undefined]': 'undefined',\n        '[object Null]': 'null',\n        '[object Array]': 'array',\n        '[object Date]': 'date',\n        '[object RegExp]': 'regexp',\n        '[object Object]': 'object',\n        '[object Error]': 'error'\n    };\n    return class2type[Object.prototype.toString.call(arg)];\n}\n\n/**\r\n * 获取子路由的moduleId\r\n *\r\n * @param arr vuex保存的菜单数组\r\n * @param path 子路由第一个路径,例如/orgManagement/role/11,第一个orgManagement\r\n * @return moduleId\r\n */\nfunction getModuleId(arr, path) {\n    for (var i = 0, len = arr.length; i < len; i++) {\n        if (arr[i].path.indexOf(path) > -1) {\n            return arr[i].id;\n        }\n    }\n}\n\n/**\r\n *\r\n * @desc 获取浏览器类型和版本\r\n * @return {String}\r\n */\nfunction getExplore(ua) {\n    var sys = {},\n        s;\n    ua = (ua || navigator.userAgent).toLowerCase();\n    (s = ua.match(/rv:([\\d.]+)\\) like gecko/)) ? sys.ie = s[1] : (s = ua.match(/msie ([\\d\\.]+)/)) ? sys.ie = s[1] : (s = ua.match(/edge\\/([\\d\\.]+)/)) ? sys.edge = s[1] : (s = ua.match(/firefox\\/([\\d\\.]+)/)) ? sys.firefox = s[1] : (s = ua.match(/(?:opera|opr).([\\d\\.]+)/)) ? sys.opera = s[1] : (s = ua.match(/chrome\\/([\\d\\.]+)/)) ? sys.chrome = s[1] : (s = ua.match(/version\\/([\\d\\.]+).*safari/)) ? sys.safari = s[1] : 0;\n    // 根据关系进行判断\n    if (sys.ie) {\n        return 'IE: ' + sys.ie;\n    }\n    if (sys.edge) {\n        return 'EDGE: ' + sys.edge;\n    }\n    if (sys.firefox) {\n        return '火狐: ' + sys.firefox;\n    }\n    if (sys.chrome) {\n        return '谷歌: ' + sys.chrome;\n    }\n    if (sys.opera) {\n        return '欧朋: ' + sys.opera;\n    }\n    if (sys.safari) {\n        return 'Safari: ' + sys.safari;\n    }\n    return 'Unkonwn';\n}\n\n/*数组及数组对象的排序*/\nfunction sortRule(list, sortStr) {\n    for (var i = 0; i < list.length; i++) {\n        for (var j = i + 1; j < list.length; j++) {\n            if (list[i][sortStr] >= list[j][sortStr]) {\n                var tempLi = list[j];\n                list[j] = list[i];\n                list[i] = tempLi;\n            }\n        }\n    }\n    return list;\n}\n/**\r\n * 根据某字段分类汇总\r\n * @param {arr} Array 需要计算的数组\r\n * @param {name} String 分类的属性名称\r\n * @param {value} String 计算累加的属性名称\r\n * @param {displace} Object 可选，name的转换属性\r\n * @return Array [{name: \"a\",value: 3}...]\r\n * \r\n */\nfunction reduceById(arr, name, value, unit, displace) {\n    var indexTotal = [];\n    var target = [];\n    each(arr, function (item) {\n        var disName = item[name];\n        if (displace) {\n            disName = displace[disName] || item[name];\n        }\n        var index = indexTotal.indexOf(disName);\n        if (index === -1) {\n            indexTotal.push(disName);\n            target.push({\n                id: item[name],\n                name: disName,\n                value: item[value],\n                targetUnit: item[unit]\n            });\n        } else {\n            target[index].value += item[value];\n        }\n    });\n    return target;\n}\n\n// 时间格式化\nfunction formatTime(date, format) {\n    format = format || \"YYYY-MM-DD\";\n    var time = new Date(date);\n    var year = time.getFullYear() || \"1970\";\n    var month = time.getMonth() + 1 || 1;\n    var day = time.getDate() || 1;\n    var hour = time.getHours() || 0;\n    var minute = time.getMinutes() || 0;\n    var second = time.getSeconds() || 0;\n    format = format.replace(\"YYYY\", year);\n    format = format.replace(\"MM\", month < 10 ? \"0\" + month : month);\n    format = format.replace(\"DD\", day < 10 ? \"0\" + day : day);\n    format = format.replace(\"HH\", hour < 10 ? \"0\" + hour : hour);\n    format = format.replace(\"mm\", minute < 10 ? \"0\" + minute : minute);\n    format = format.replace(\"ss\", second < 10 ? \"0\" + second : second);\n    return format;\n}\n\n/**\r\n * 时间计算函数，返回加减后的时间格式\r\n * @param {date} [String,Date] 时间\r\n * @param {identify} Number 加减多少时间，正数为加，负数为减\r\n * @param {index} Number 1为小时，2为班，3为日，4为周，5为月，6为季度，7为半年，8为年\r\n * @param {format}  String 时间格式 YYYY-MM-DD HH:mm:ss\r\n * */\nfunction calcTime(date, identify, index, format) {\n    var time = new Date(date);\n    var orginDate = time.getDate();\n    var splitTime = [\"\", \"Hours\", \"\", \"Date\", \"\", \"Month\", \"\", \"\", \"FullYear\"];\n    var timeType = [\"\", \"YYYY-MM-DD HH:00:00\", \"\", \"YYYY-MM-DD\", \"\", \"YYYY-MM\", \"\", \"\", \"YYYY\"];\n    if (isNaN(time.getTime()) || index > 8 || splitTime[index] === \"\") {\n        console.warn(\"当前传入时间或时间类型不正确！参数为：(\" + date + \",\" + identify + \",\" + index + \")\");\n    }\n    // 避免当前月份比计算后的月份的天数多，导致时间不对等\n    if (index === 5) {\n        var timeDate = new Date(time.getFullYear(), time.getMonth() + (1 + identify), 0).getDate();\n        if (orginDate > timeDate) {\n            time.setDate(timeDate);\n        }\n    } else if (index === 8) {\n        var _timeDate = new Date(time.getFullYear() + identify, time.getMonth() + 1, 0).getDate();\n        if (orginDate > _timeDate) {\n            time.setDate(_timeDate);\n        }\n    }\n    time[\"set\" + splitTime[index]](time[\"get\" + splitTime[index]]() + identify);\n    return formatTime(time, format || timeType[index]);\n}\n\n/**\r\n * 时间周期计算函数，返回开始结束时间(日)\r\n * @param {date} 时间\r\n * @param {index} 1为小时，2为班，3为日，4为周，5为月，6为季度，7为半年，8为年\r\n * */\nfunction cycleTime(date, index) {\n    var time = new Date(date);\n    var splitTime = [\"\", \"Hours\", \"\", \"Date\", \"\", \"Month\", \"\", \"\", \"FullYear\"];\n    var timeType = [\"\", \"\", \"\", \"YYYY-MM-DD\", \"\", \"YYYY-MM-01\", \"\", \"\", \"YYYY-01-01\"];\n    if (isNaN(time.getTime()) || timeType[index] === \"\") {\n        console.warn(\"时间格式不正确！\");\n    }\n    var startTime = formatTime(time, timeType[index]);\n    var endTime = calcTime(calcTime(time, 1, index), -1, 3);\n    return [startTime, endTime];\n}\n\n/**\r\n * 得到四舍五入后的数据\r\n * @param array 需要进行四舍五入的对象，可为数组、对象、数字（包括数字字符串）\r\n * @param dataField 四舍五入时的数字字段或小数位数，可为字段（字符串）、数字（显示小数位数），为空默认为“dataValue”\r\n * @param displayField 四舍五入时的显示小数位数的字段或小数位数，可为字段（字符串）、数字（显示小数位数），为空默认为“displayPrecisions”\r\n */\nfunction getFixedDisplayData(array, dataField, displayField) {\n    if (!dataField || dataField == \"\") {\n        dataField = \"dataValue\";\n    }\n    if (!displayField || displayField == \"\") {\n        displayField = \"displayPrecisions\";\n    }\n    if (array instanceof Array) {\n        for (var i = 0; i < array.length; i++) {\n            if (!isNaN(array[i][dataField])) {\n                array[i][dataField] = parseFloat(array[i][dataField]);\n            }\n            if (!isNaN(displayField)) {\n                array[i][dataField] = array[i][dataField].toFixed(parseFloat(displayField));\n            } else {\n                array[i][dataField] = array[i][dataField].toFixed(array[i][displayField]) ? array[i][dataField].toFixed(array[i][displayField]) : array[i][dataField];\n            }\n        }\n    } else if (array instanceof Object) {\n        array[dataField] = array[dataField].toFixed(array[displayField]);\n    } else if (!isNaN(array)) {\n        if (!isNaN(dataField)) {\n            array = array.toFixed(dataField);\n        } else if (!isNaN(displayField)) {\n            array = array.toFixed(displayField);\n        } else {\n            array = array.toFixed(2);\n        }\n    }\n    return array;\n}\n\n\n\n/***/ }),\n\n/***/ \"zD9C\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-transfer', {\n    class: 'transfer_' + _vm.size,\n    attrs: {\n      \"data\": _vm.chooseData,\n      \"filterable\": _vm.filterable,\n      \"render-content\": _vm.renderContent,\n      \"left-default-checked\": _vm.leftDefaultChecked,\n      \"right-default-checked\": _vm.rightDefaultChecked,\n      \"titles\": _vm.titles,\n      \"props\": {\n        key: _vm.myKey,\n        label: _vm.myLabel,\n        disabled: _vm.myDisabled\n      },\n      \"button-texts\": _vm.buttonTexts,\n      \"format\": {\n        noChecked: '${total}',\n        hasChecked: '${checked}/${total}'\n      },\n      \"footer-format\": {\n        noChecked: '共 ${total} 项',\n        hasChecked: '全选，已选 ${checked}项，共${total}项'\n      }\n    },\n    on: {\n      \"change\": _vm.handleChange\n    },\n    model: {\n      value: (_vm.accreditedList),\n      callback: function($$v) {\n        _vm.accreditedList = $$v\n      },\n      expression: \"accreditedList\"\n    }\n  })], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"zY7U\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"zhkL\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[3]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.7ee222ebf947d80ccead.js","<template>\r\n  <div class=\"base-tree\" :style=\"{height:height+'px'}\">\r\n    <!--懒加载-->\r\n    <el-tree v-if=\"load\" :data=\"data\" :props=\"props\" :show-checkbox=\"showCheckbox\" :default-expand-all=\"defaultExpand\" :expand-on-click-node=\"expandOnClickNode\" ref=\"loadTree\" :node-key=\"defaultKeys.nodeKey\" :check-strictly=\"checkStrictly\" :default-expanded-keys=\"defaultKeys.expandedKeys\" :default-checked-keys=\"defaultKeys.checkedKeys\" @node-click=\"handleNodeClick\" @check-change=\"checkChange\" @current-change=\"currentChange\" highlight-current :load=\"loadNode\" :render-content=\"renderContent\" @node-expand=\"nodeExpand\">\r\n    </el-tree>\r\n\r\n    <el-tree v-else :props=\"props\" ref=\"noLoadTree\" :data=\"data\" :show-checkbox=\"showCheckbox\" highlight-current :filter-node-method=\"filterNodeMethod\" :render-content=\"renderContent\" node-key=\"id\" :default-expanded-keys=\"defaultKeys.expandedKeys\" :default-expand-all=\"defaultExpand\" :check-strictly=\"checkStrictly\" @node-click=\"handleNodeClick\" @check-change=\"checkChange\" @current-change=\"currentChange\" @node-expand=\"nodeExpand\" :expand-on-click-node=\"expandOnClickNode\" :default-checked-keys=\"defaultKeys.checkedKeys\">\r\n      <!--非懒加载-->\r\n      <!-- <el-tree :default-checked-keys=\"defaultKeys.checkedKeys\"> -->\r\n    </el-tree>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/*\r\n    * rend：\r\n    * rend(h, {node, data, store}) {//传来的自定义渲染函数\r\n     *\r\n     *          let renderChild = function () {\r\n     *               if(data.children){\r\n     *                   return  <el-tag>{data.children.length}</el-tag>\r\n     *               }\r\n     *               return\r\n     *           }\r\n     *           fn qiye(data)\r\n     *           if(data.){\r\n     *\r\n     *           return <span style=\"float:right;margin-right:20px\">\r\n     *                           {renderChild()}\r\n     *                       </span>\r\n     *                       qiye\r\n     *                       return ''\r\n     *           )\r\n     *           return (\r\n     *                   <span>\r\n     *                       <span>{node.label}</span>\r\n     *                       {qiye(node)}\r\n     *                   </span>);\r\n     *       },\r\n     * */\r\nimport { deepJSONCopy } from \"../../util/util\";\r\nexport default {\r\n  props: {\r\n    value: {\r\n      type: [String, Number]\r\n    },\r\n    //自定义节点内容,传过来一个函数，函数内部可以使用jsx语法返回一段dom节点\r\n    //            class:{\r\n    //\r\n    //            },\r\n    rend: {\r\n      type: Function\r\n    },\r\n    //懒加载\r\n    load: {\r\n      default: false\r\n    },\r\n    //设置树高度\r\n    setTreeHeight: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    //整个窗口减去的高度\r\n    minusH: {\r\n      default: 200\r\n    },\r\n    //复选框默认不显示\r\n    showCheckbox: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    expandOnClickNode: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    //对应的key value\r\n    props: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          children: \"children\",\r\n          label: \"name\"\r\n        };\r\n      }\r\n    },\r\n    valueKey: {\r\n      type: String,\r\n      default: \"id\"\r\n    },\r\n    //默认展开\r\n    defaultExpand: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // 过滤\r\n    filterNodeMethod: {\r\n      type: Function\r\n    },\r\n    //哪些选项默认展开或默认选中\r\n    defaultKeys: {\r\n      default: () => {\r\n        let obj = { nodeKey: \"id\" };\r\n        obj.expandedKeys = [];\r\n        obj.checkedKeys = [];\r\n        return obj;\r\n      }\r\n    },\r\n    // 父子不关联做法\r\n    checkStrictly: {\r\n      type: Boolean,\r\n      defalut: false\r\n    },\r\n    dataLists: {\r\n      type: Array\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      data: [],\r\n      height: \"\"\r\n    };\r\n  },\r\n  watch: {\r\n    dataLists(val) {\r\n      this.data = val;\r\n    }\r\n  },\r\n  methods: {\r\n    // 过滤\r\n    filter(val) {\r\n      this.$refs.noLoadTree.filter(val);\r\n    },\r\n    setData(val) {\r\n      this.data = val ? val : [];\r\n    },\r\n    //点击节点事件\r\n    handleNodeClick(obj, node, component) {\r\n      //obj,node,component:该节点所对应的对象、节点对应的 Node、节点组件本身\r\n      let msg = { obj, node, component };\r\n      this.$emit(\"nodeClick\", msg);\r\n    },\r\n    //节点选中状态发生变化时的回调\r\n    checkChange(obj, nodeCheckd, childCheck) {\r\n      // 是否关联选择\r\n      // if (this.checkStrictly) {\r\n      let data = this.value.split(\",\").filter(item => {\r\n        return item !== \"\";\r\n      });\r\n      //\r\n      if (nodeCheckd) {\r\n        data.push(obj[this.valueKey]);\r\n      } else {\r\n        data = data.filter(item => {\r\n          return parseInt(item) !== obj[this.valueKey];\r\n        });\r\n      }\r\n      this.$emit(\"input\", data.join(\",\"));\r\n      // } else {\r\n      // console.log(obj, nodeCheckd, childCheck, obj[this.valueKey]);\r\n      // }\r\n      //obj,nodeCheckd,childCheck  传递给 data 属性的数组中该节点所对应的对象、节点本身是否被选中、节点的子树中是否有没被选中的节点\r\n      let msg = { obj, nodeCheckd, childCheck };\r\n      this.$emit(\"checkChange\", msg);\r\n    },\r\n    //当前选中节点变化时触发的事件,与点击节点事件类似\r\n    currentChange(obj, node) {\r\n      let msg = { obj, node };\r\n      if (!this.showCheckbox) {\r\n        this.$emit(\"input\", obj[this.valueKey]);\r\n      }\r\n      this.$emit(\"currentChange\", msg);\r\n    },\r\n    //节点被展开时触发的事件\r\n    nodeExpand(obj, node, component) {\r\n      //obj,node,component:该节点所对应的对象、节点对应的 Node、节点组件本身\r\n      let msg = { obj, node, component };\r\n      this.$emit(\"nodeExpand\", msg);\r\n    },\r\n    //自定义高度\r\n    setHeight() {\r\n      let me = this,\r\n        timer = null;\r\n      if (this.setTreeHeight) {\r\n        me.height = document.body.clientHeight - me.minusH;\r\n        window.onresize = function() {\r\n          if (timer) {\r\n            clearTimeout(timer);\r\n          }\r\n          timer = setTimeout(() => {\r\n            me.height = document.body.clientHeight - me.minusH;\r\n            me.$emit(\"treeHeight\", me.height);\r\n          }, 200);\r\n        };\r\n      }\r\n    },\r\n    loadNode(node, resolve) {\r\n      //加载节点\r\n      let tier = []; // 数组的排序代表当前节点的位置(逆序)\r\n      if (node.level == 0) {\r\n        resolve(this.data); //渲染起始数组\r\n        return;\r\n      }\r\n      var findParent = function(obj) {\r\n        if (!obj.parent) {\r\n          //当无父节点时跳出\r\n          return obj;\r\n        }\r\n        for (var i = 0; i < obj.parent.childNodes.length; i++) {\r\n          var item = obj.parent.childNodes[i];\r\n          if (item.label == obj.label) {\r\n            tier.push(i);\r\n            break;\r\n          }\r\n        }\r\n        return findParent(obj.parent);\r\n      };\r\n      findParent(node); //获得节点层级\r\n      var tempObj = this.data; //获取渲染节点所在children\r\n      for (var i = tier.length; i > 0; i--) {\r\n        tempObj = tempObj[tier[i - 1]].children;\r\n      }\r\n      resolve(tempObj); // 需要转圈效果加上计时器延迟\r\n\r\n      //                resolve(this.readchildNode(tempObj))// 需要转圈效果加上计时器延迟\r\n    },\r\n    /*\r\n            removeCurrent(arr = []) {\r\n                arr = Array.from(arr)\r\n                if (arr.indexOf('current') !== -1) {\r\n                    arr.splice(arr.indexOf('current'), 1)\r\n                }\r\n                return arr.join(' ')\r\n            }\r\n            */\r\n    renderContent(h, { node, data, store }) {\r\n      if (this.rend) {\r\n        return this.rend(h, { node, data, store });\r\n      }\r\n      return (\r\n        <span>\r\n          <span>{node.label}</span>\r\n        </span>\r\n      );\r\n    }\r\n  },\r\n  mounted: function() {\r\n    let me = this,\r\n      timer;\r\n    //默认选中第一个\r\n    // me.$nextTick(function() {\r\n    //   timer = setTimeout(() => {\r\n    //     let treeNodes = me.$el.querySelectorAll(\".el-tree-node\"),\r\n    //       firstNode,\r\n    //       className,\r\n    //       index = 0;\r\n    //     if (treeNodes.length > 0) {\r\n    //       firstNode = treeNodes[0];\r\n    //       className = firstNode.className;\r\n    //       firstNode.className = className + \" \" + \"is-current\";\r\n    //       for (var i = 0; i < treeNodes.length; i++) {\r\n    //         //                            treeNodes[i].className = me.removeCurrent(treeNodes[i].classList)\r\n    //         //点击取消选中\r\n    //         treeNodes[i].onclick = function(e) {\r\n    //           //                                this.className = this.className + ' current'\r\n    //           if (!index) {\r\n    //             firstNode.className = className;\r\n    //           }\r\n    //           index++;\r\n    //           if (timer) clearTimeout(timer);\r\n    //         };\r\n    //       }\r\n    //     }\r\n    //   }, 500);\r\n    // });\r\n    this.setHeight();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.base-tree {\r\n  overflow: auto;\r\n  /* border: 1px solid #d1dbe5; */\r\n}\r\n\r\n.base-tree .el-tree {\r\n  border: none;\r\n}\r\n\r\n/*.base-tree .el-tree .el-tree-node.current > .el-tree-node__content {*/\r\n/*background-color: #c1e5fd;*/\r\n/*}*/\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/base/tree.vue?09459191","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3d87207a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./fileUpload.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./fileUpload.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3d87207a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./fileUpload.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/base/fileUpload.vue\n// module id = /hdX\n// module chunks = 57","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-35017560\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./selectTree.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./selectTree.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-35017560\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./selectTree.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/base/selectTree.vue\n// module id = 0NkV\n// module chunks = 57","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-dialog', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.visible),\n      expression: \"visible\"\n    }],\n    attrs: {\n      \"title\": _vm.title,\n      \"visible\": _vm.visibleDialog,\n      \"width\": _vm.size,\n      \"top\": _vm.top,\n      \"modal\": _vm.modal,\n      \"modal-append-to-body\": _vm.modalAppendToBody,\n      \"lock-scroll\": _vm.lockScroll,\n      \"custom-class\": _vm.customClass,\n      \"close-on-click-modal\": _vm.closeOnClickModal,\n      \"close-on-press-escape\": _vm.closeOnPressEscape,\n      \"show-close\": false,\n      \"before-close\": _vm.handleClose\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.visibleDialog = $event\n      },\n      \"close\": _vm.handClose,\n      \"open\": _vm.handOpen\n    }\n  }, [(_vm.showClose) ? _c('button', {\n    staticClass: \"el-dialog__headerbtn base-dialog-btn\",\n    attrs: {\n      \"type\": \"button\",\n      \"aria-label\": \"Close\"\n    },\n    on: {\n      \"click\": _vm.clickBtn\n    }\n  }, [_c('i', {\n    staticClass: \"el-dialog__close el-icon el-icon-close\"\n  })]) : _vm._e(), _vm._v(\" \"), _vm._t(\"default\"), _vm._v(\" \"), (_vm.$slots.footer) ? _c('div', {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_vm._t(\"footer\")], 2) : _vm._e()], 2)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-cbc01824\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/base/dialog.vue\n// module id = 0qHx\n// module chunks = 57","<template>\r\n  <div :class=\"className\" class=\"chart\" :id=\"id\" :style=\"{width:width,height:height,width:'100%'}\"></div>\r\n</template>\r\n<script>\r\nimport echarts from \"echarts\";\r\nimport resize from \"./mixins/resize\";\r\nimport { dateCalcRound } from \"@/util\";\r\nexport default {\r\n  mixins: [resize],\r\n  props: {\r\n    className: {\r\n      type: String,\r\n      default: \"chart\"\r\n    },\r\n    id: {\r\n      type: String,\r\n      default: \"chart\"\r\n    },\r\n    width: {\r\n      type: String\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: \"300px\"\r\n    },\r\n    fixNum: {\r\n      type: Number,\r\n      default: 2\r\n    },\r\n    dataLists: {\r\n      type: [Array, Object],\r\n      default() {\r\n        return [];\r\n      }\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    attrs: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          max: \"max\",\r\n          min: \"min\",\r\n          value: \"value\",\r\n          unit: \"unit\"\r\n        };\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      chart: null,\r\n      xAxis: []\r\n    };\r\n  },\r\n  beforeDestroy() {\r\n    if (!this.chart) {\r\n      return;\r\n    }\r\n    this.chart.dispose();\r\n    this.chart = null;\r\n  },\r\n  watch: {\r\n    dataLists(obj) {\r\n      this.initChart(\r\n        obj[this.attrs.min],\r\n        obj[this.attrs.max],\r\n        [{ name: obj[this.attrs.unit], value: obj[this.attrs.value] }],\r\n        this.fixNum\r\n      );\r\n    }\r\n  },\r\n  methods: {\r\n    initChart(minValue, maxValue, series, fixNum) {\r\n      if (this.chart) {\r\n        this.chart.dispose();\r\n        this.chart = null;\r\n      }\r\n      this.chart = echarts.init(document.getElementById(this.id), \"shine\");\r\n\r\n      this.chart.setOption({\r\n        title: {\r\n          text: this.title\r\n        },\r\n        tooltip: {\r\n          formatter(params, ticket, callback) {\r\n            return (\r\n              params.seriesName +\r\n              \":\" +\r\n              params.value.toFixed(fixNum * 2) +\r\n              params.name\r\n            );\r\n          }\r\n        },\r\n        toolbox: {\r\n          show: true,\r\n          feature: {\r\n            restore: { show: true },\r\n            saveAsImage: { show: true }\r\n          }\r\n        },\r\n        series: [\r\n          {\r\n            name: this.title,\r\n            type: \"gauge\",\r\n            z: 3,\r\n            min: minValue,\r\n            max: maxValue,\r\n            splitNumber: 11,\r\n            radius: \"100%\",\r\n            axisLine: {\r\n              // 坐标轴线\r\n              lineStyle: {\r\n                // 属性lineStyle控制线条样式\r\n                width: 10\r\n              }\r\n            },\r\n            axisTick: {\r\n              // 坐标轴小标记\r\n              length: 15, // 属性length控制线长\r\n              lineStyle: {\r\n                // 属性lineStyle控制线条样式\r\n                color: \"auto\"\r\n              }\r\n            },\r\n            splitLine: {\r\n              // 分隔线\r\n              length: 20, // 属性length控制线长\r\n              lineStyle: {\r\n                // 属性lineStyle（详见lineStyle）控制线条样式\r\n                color: \"auto\"\r\n              }\r\n            },\r\n            axisLabel: {\r\n              //   backgroundColor: \"auto\",\r\n              //   borderRadius: 2,\r\n              //   color: \"#eee\",\r\n              //   padding: 3,\r\n              //   textShadowBlur: 2,\r\n              //   textShadowOffsetX: 1,\r\n              //   textShadowOffsetY: 1,\r\n              //   textShadowColor: \"#222\",\r\n              formatter(value) {\r\n                if (maxValue < 10) {\r\n                  return value.toFixed(fixNum);\r\n                } else {\r\n                  return value.toFixed(0);\r\n                }\r\n              }\r\n            },\r\n            title: {\r\n              // 其余属性默认使用全局文本样式，详见TEXTSTYLE\r\n              fontWeight: \"bolder\",\r\n              fontSize: 14,\r\n              fontStyle: \"italic\"\r\n            },\r\n            detail: {\r\n              // 其余属性默认使用全局文本样式，详见TEXTSTYLE\r\n              formatter: function(value) {\r\n                return value.toFixed(fixNum);\r\n              },\r\n              fontSize: 14,\r\n              fontWeight: \"bolder\",\r\n              borderRadius: 3,\r\n              backgroundColor: \"#444\",\r\n              borderColor: \"#aaa\",\r\n              shadowBlur: 5,\r\n              shadowColor: \"#333\",\r\n              shadowOffsetX: 0,\r\n              shadowOffsetY: 3,\r\n              borderWidth: 2,\r\n              textBorderColor: \"#000\",\r\n              textBorderWidth: 2,\r\n              textShadowBlur: 2,\r\n              textShadowColor: \"#fff\",\r\n              textShadowOffsetX: 0,\r\n              textShadowOffsetY: 0,\r\n              fontFamily: \"Arial\",\r\n              width: \"auto\",\r\n              padding: [7, 10],\r\n              color: \"#eee\",\r\n              //   offsetCenter: [-10, \"40%\"], //相对于仪表盘中心的偏移位置\r\n              rich: {}\r\n            },\r\n            data: series\r\n          }\r\n        ]\r\n      });\r\n    }\r\n  },\r\n  mounted() {}\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/analysis/gaugeChart.vue?7119e5f1","<template>\r\n\r\n  <el-dialog :title=\"title\" :visible.sync=\"visibleDialog\" :width=\"size\" :top=\"top\" :modal=\"modal\" :modal-append-to-body=\"modalAppendToBody\" :lock-scroll=\"lockScroll\" :custom-class=\"customClass\" :close-on-click-modal=\"closeOnClickModal\" :close-on-press-escape=\"closeOnPressEscape\" :show-close=\"false\" :before-close=\"handleClose\" @close=\"handClose\" @open=\"handOpen\" v-show=\"visible\">\r\n    <button type=\"button\" class=\"el-dialog__headerbtn base-dialog-btn\" aria-label=\"Close\" v-if=\"showClose\" @click=\"clickBtn\">\r\n      <i class=\"el-dialog__close el-icon el-icon-close\"></i>\r\n    </button>\r\n\r\n    <slot></slot>\r\n    <div slot=\"footer\" class=\"dialog-footer\" v-if=\"$slots.footer\">\r\n      <slot name=\"footer\"></slot>\r\n    </div>\r\n\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: String,\r\n    size: String,\r\n    top: String,\r\n    modal: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    modalAppendToBody: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    lockScroll: Boolean,\r\n    customClass: String,\r\n    closeOnClickModal: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    closeOnPressEscape: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    showClose: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    beforeCloseFn: Function,\r\n    visible: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      visibleDialog: false\r\n    };\r\n  },\r\n  methods: {\r\n    clickBtn() {\r\n      this.$emit(\"update:visible\", false);\r\n    },\r\n    handleClose(done) {\r\n      if (this.beforeCloseFn) {\r\n        this.beforeCloseFn(done);\r\n      }\r\n    },\r\n    handClose() {\r\n      this.$emit(\"close\");\r\n    },\r\n    handOpen() {\r\n      var _this = this;\r\n      this.$nextTick(() => {\r\n        _this.$emit(\"open\");\r\n      });\r\n    }\r\n  },\r\n  watch: {\r\n    visible(val) {\r\n      this.visibleDialog = val;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.base-dialog-btn {\r\n  margin: 20px 15px 0 0;\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n}\r\n.el-dialog__header {\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/base/dialog.vue?b4c16e6e","import {\r\n    debounce\r\n} from '@/util'\r\nimport echarts from \"echarts\";\r\nimport theme from \"./echart-theme.js\";\r\n\r\nexport default {\r\n    mounted() {\r\n        echarts.registerTheme(\"shine\", theme);\r\n        this.__resizeHanlder = debounce(() => {\r\n            if (this.chart) {\r\n                this.chart.resize()\r\n            }\r\n        }, 100)\r\n        window.addEventListener('resize', this.__resizeHanlder)\r\n    },\r\n    beforeDestroy() {\r\n        window.removeEventListener('resize', this.__resizeHanlder)\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/analysis/mixins/resize.js","<template>\n  <!--\n  :max-height=\"treeMaxHeight\"-->\n  <el-table :data=\"data\" border style=\"width: 100%\" class=\"base-treeGrid\" v-loading.lock=\"isLoading\" :height=\"treeGridHeight+'px'\" @row-click=\"rowClick\" ref=\"baseTreeGrid\" @selection-change=\"selectionChange\" :row-style=\"showTr\" :default-sort=\"defaultSort\" :row-class-name=\"rowClassName\" @select=\"selectCheck\" @select-all=\"selectCheck\">\n    <el-table-column type=\"selection\" v-if=\"showSelection\" align=\"center\"></el-table-column>\n    <el-table-column type=\"index\" width=\"70px\" label=\"序号\" align=\"center\"></el-table-column>\n    <el-table-column v-for=\"(column, index) in columns\" :key=\"column.prop\" :label=\"column.label\" :min-width=\"column.width\" :align=\"index == 0? 'left':column.align\" header-align=\"center\">\n      <template slot-scope=\"scope\">\n        <div v-if=\"spaceIconShow(index)\" v-for=\"(space, levelIndex) in scope.row._level\" :key=\"levelIndex\" class=\"ms-tree-space\"></div>\n        <i :class=\"scope.row._expanded?'el-icon-caret-bottom':'el-icon-caret-right'\" v-if=\"toggleIconShow(index,scope.row,scope)\" @click=\"toggle(scope.$index,scope.row)\"></i>\n        <div v-else-if=\"index===0\" class=\"ms-tree-space\"></div>\n        {{customDisplay(column, scope)}}\n      </template>\n    </el-table-column>\n    <slot name=\"operation\">\n      <el-table-column label=\"操作\" v-if=\"treeType === 'normal'\" width=\"115\" align=\"left\" header-align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button @click=\"editModule(scope.row,scope)\" size=\"small\">\n            编辑\n          </el-button>\n          <el-button size=\"small\" @click=\"deleteModule(scope.row)\" v-show=\"!scope.row.state\">\n            删除\n          </el-button>\n        </template>\n      </el-table-column>\n    </slot>\n\n  </el-table>\n</template>\n<script>\nimport Utils from \"@/util/dataTranslate\";\n\nexport default {\n  name: \"tree-grid\",\n  props: {\n    rowClassName: {\n      type: [Function, String],\n      default: \"\"\n    },\n    //传过来设置最大高度\n    treeMaxHeight: {\n      default: \"\"\n    },\n    //排序字段\n    sort: {\n      default: \"displayOrder\"\n    },\n    //是否需要懒加载\n    load: {\n      default: false\n    },\n    //当展示区只是一个树形表格时这么设置\n    setTreeHeight: {\n      default: false\n    },\n    //是否显示CheckBox\n    showSelection: {\n      type: Boolean,\n      default: function() {\n        return false;\n      }\n    },\n    // 该属性是确认父组件传过来的数据是否已经是树形结构了，如果是，则不需要进行树形格式化\n    treeStructure: {\n      type: Boolean,\n      default: function() {\n        return true;\n      }\n    },\n    // 这是相应的字段展示\n    columns: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    // 这是数据源\n    dataSource: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n\n    // 这个作用是根据自己需求来的，比如在操作中涉及相关按钮编辑，删除等，需要向服务端发送请求，则可以把url传过来\n    requestUrl: {\n      type: String,\n      default: function() {\n        return \"\";\n      }\n    },\n\n    // 这个是是否展示操作列\n    treeType: {\n      type: String,\n      default: function() {\n        return \"normal\";\n      }\n    },\n    // 是否默认展开所有树\n    defaultExpandAll: {\n      type: Boolean,\n      default: function() {\n        return true;\n      }\n    }\n  },\n  data() {\n    return {\n      isLoading: false,\n      treeGridHeight: \"\", //树形表格的高度\n      dataTmp: [],\n      defaultSort: {\n        prop: this.sort\n      }\n    };\n  },\n  computed: {\n    // 格式化数据源\n    data: function() {\n      let me = this;\n      if (me.load) {\n        //懒加载默认显示一二级\n        return this.dataTmp;\n      } else if (me.treeStructure) {\n        //格式化数据\n        let data = Utils.MSDataTransfer.DataTransfer.treeToArray(\n          me.dataSource,\n          null,\n          null,\n          me.defaultExpandAll\n        );\n        return data;\n      }\n      return me.dataSource; //不用格式化数据\n    }\n  },\n  methods: {\n    openLoading() {\n      this.isLoading = true;\n    },\n    closeLoading() {\n      this.isLoading = false;\n    },\n    //懒加载树\n    loadTree(arr, key, value) {\n      arr.forEach((item, index) => {\n        if (item[key] === value) {\n          if (item.children && item.children.length > 0) {\n            for (let i = 0; i < item.children.length; i++) {\n              let val = item.children[i];\n              arr.splice(index + 1 + i, 0, val);\n            }\n          }\n        }\n      });\n    },\n    // 显示行\n    showTr: function(element, index) {\n      let row = element.row;\n      let show = row._parent\n        ? row._parent._expanded && row._parent._show\n        : true;\n      row._show = show;\n      return show ? \"\" : \"display:none;\";\n    },\n    // 展开下级\n    toggle: function(trIndex, row) {\n      let me = this;\n      let record = me.data[trIndex];\n      record._expanded = !record._expanded;\n      if (row.index === undefined && me.load) {\n        me.loadTree(me.dataTmp, \"id\", row.id);\n        row.index = 1;\n      }\n    },\n    // 显示层级关系的空格和图标\n    spaceIconShow(index) {\n      let me = this;\n      if (me.treeStructure && index === 0) {\n        return true;\n      }\n      return false;\n    },\n    // 点击展开和关闭的时候，图标的切换\n    toggleIconShow(index, record) {\n      let me = this;\n      if (\n        me.treeStructure &&\n        index === 0 &&\n        record.children &&\n        record.children.length > 0\n      ) {\n        return true;\n      }\n      return false;\n    },\n    rowClick(row, event) {\n      if (\n        !(\n          event.target.outerHTML.indexOf(\"<span\") == 0 ||\n          event.target.outerHTML.indexOf(\"<i\") == 0 ||\n          event.target.outerHTML.indexOf(\"<button\") == 0\n        )\n      ) {\n        this.$refs.baseTreeGrid.toggleRowSelection(row);\n      }\n    },\n    selectionChange(selection) {\n      this.$emit(\"selectionChange\", selection);\n    },\n    //点击删除\n    deleteModule(val) {\n      this.$emit(\"deleteModule\", val);\n    },\n    //打开编辑\n    editModule(val, va1) {\n      let newV = {};\n      for (var key in val) {\n        if (!(typeof val[key] == \"object\" || typeof val[key] == \"function\")) {\n          newV[key] = val[key];\n        }\n      }\n      this.$emit(\"editModule\", newV);\n    },\n    //选择表格的复选框\n    selectCheck(selection) {},\n    //设置树形表格的最大高度\n    setHeight() {\n      if (this.setTreeHeight) {\n        let me = this,\n          timer = null;\n        me.treeGridHeight = document.body.clientHeight - 200;\n        window.onresize = function() {\n          if (timer) {\n            clearTimeout(timer);\n          }\n          timer = setTimeout(() => {\n            me.treeGridHeight = document.body.clientHeight - 200;\n          }, 200);\n        };\n      }\n    },\n    customDisplay(item, scope) {\n      var temp = \"\";\n      if (item.displace) {\n        temp = item.displace[scope.row[item.prop]];\n      } else {\n        temp = scope.row[item.prop];\n      }\n\n      //需要格式化的时间格式必须为时间戳（数字）或时间字符串格式\n      if (\n        item.format &&\n        (typeof temp === \"string\" || typeof temp === \"number\")\n      ) {\n        try {\n          temp = this.format(temp, item.format);\n        } catch (e) {\n          console.warn(e);\n        }\n      }\n      return temp;\n    }\n  },\n  mounted() {\n    this.setHeight();\n  },\n  watch: {\n    dataSource(n, o) {\n      if (n !== o && this.load) {\n        let me = this,\n          dataSource;\n        me.dataTmp = [];\n        dataSource = me.dataSource ? me.dataSource : [];\n        if (me.treeStructure) {\n          let data = Utils.MSDataTransfer.DataTransfer.treeToArray(\n            dataSource,\n            null,\n            null,\n            me.defaultExpandAll\n          );\n          data.forEach(item => {\n            if (item._level <= 1) {\n              item.index = item._level == 0 ? 1 : undefined;\n              me.dataTmp.push(item);\n            }\n          });\n        }\n      }\n    }\n  }\n};\n</script>\n<style scoped>\n.ms-tree-space {\n  position: relative;\n  top: 1px;\n  display: inline-block;\n  font-family: \"Glyphicons Halflings\";\n  font-style: normal;\n  font-weight: 400;\n  line-height: 1;\n  width: 18px;\n  height: 14px;\n}\n.base-treeGrid .el-icon-caret-right {\n  width: 18px;\n}\n.ms-tree-space::before {\n  content: \"\";\n}\n\n.base-treeGrid table td {\n  line-height: 26px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/base/TreeGrid.vue?e6d1da10","<template>\r\n  <div class=\"panel-flex\" :style=\"{width:width, padding:padValue}\">\r\n    <div class=\"\" :class=\"{'panel-flex-1':!leftWidth}\" :style=\"{width: leftWidth,'min-width': leftWidth, height: height}\">\r\n      <slot name=\"left\"></slot>\r\n    </div>\r\n    <div class=\"\" :class=\"{'panel-flex-1':!rightWidth}\" :style=\"{width: rightWidth, height: height}\">\r\n      <slot name=\"right\"></slot>\r\n    </div>\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    width: {\r\n      type: String,\r\n      default: \"100%\"\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: \"500px\"\r\n    },\r\n    leftWidth: {\r\n      type: String,\r\n      default: \"250px\"\r\n    },\r\n    rightWidth: {\r\n      type: String\r\n    },\r\n    padding: {\r\n      type: String,\r\n      default: \"0\"\r\n    }\r\n  },\r\n  computed: {\r\n    padValue() {\r\n      return this.setPad(this.padding);\r\n    }\r\n  },\r\n  methods: {\r\n    setPad(padV) {\r\n      return [\"t\", \"r\", \"b\", \"l\"]\r\n        .map(item => {\r\n          if (padV.indexOf(item) === -1) {\r\n            return 0;\r\n          } else {\r\n            return \"10px\";\r\n          }\r\n        })\r\n        .join(\" \");\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.panel-flex {\r\n  /* margin: 0 -5px; */\r\n  display: flex;\r\n  width: 100%;\r\n}\r\n.panel-flex > .mar-lr-5 {\r\n  /* overflow: auto; */\r\n}\r\n.panel-flex-1 {\r\n  flex: 1;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/pageLayout/equalHeightPanel.vue?155e6c47","<template>\r\n  <div class=\"radio-wrap\">\r\n    <div class=\"radio-block\" v-for=\"(item, index) in dataLists\" :key=\"index\" :style=\"{width: width}\">\r\n      <el-button class=\"radio-btn\" type=\"text\" :class=\"{'active':value === item[valueKey],disabled:item.disabled}\" :disabled=\"item.disabled\" @click=\"clickHandle(item)\">{{item[label]}}</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    value: {\r\n      type: [String, Number, Boolean]\r\n    },\r\n    dataLists: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      }\r\n    },\r\n    width: {\r\n      type: String,\r\n      default: \"50%\"\r\n    },\r\n    label: {\r\n      type: String,\r\n      default: \"name\"\r\n    },\r\n    valueKey: {\r\n      type: String,\r\n      default: \"id\"\r\n    }\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  watch: {\r\n    dataLists(lists) {\r\n      this.$emit(\"input\", lists[0][this.valueKey]);\r\n    }\r\n  },\r\n  methods: {\r\n    clickHandle(data) {\r\n      if (this.value !== data[this.valueKey]) {\r\n        this.$emit(\"input\", data[this.valueKey]);\r\n        this.$emit(\"change\", data);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    if (!this.value && this.dataLists.length > 0) {\r\n      this.$emit(\"input\", this.dataLists[0][this.valueKey]);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.radio-wrap {\r\n  margin: -5px -5px 0 0;\r\n  width: auto;\r\n  display: inline-block;\r\n}\r\n.radio-block {\r\n  display: inline-block;\r\n  padding: 5px 5px 0 0;\r\n}\r\n.radio-btn {\r\n  background-color: dodgerblue;\r\n  color: #fff;\r\n  padding: 10px 15px;\r\n  height: auto;\r\n  border-radius: 0;\r\n  margin: 0;\r\n  width: 100%;\r\n}\r\n.radio-btn.active {\r\n  background-color: deepskyblue;\r\n}\r\n.radio-btn.disabled {\r\n  background-color: #ddd;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/analysis/radioBlock.vue?721b162c","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7785a1e4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./timeSelect.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./timeSelect.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7785a1e4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./timeSelect.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7785a1e4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/analysis/timeSelect.vue\n// module id = 5iQ3\n// module chunks = 57","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-573cf598\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./table.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./table.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-573cf598\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./table.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/base/table.vue\n// module id = 7oBm\n// module chunks = 57","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"inblock\"\n  }, [_c('el-radio-group', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.visibleType),\n      expression: \"visibleType\"\n    }],\n    staticClass: \"ts-radio\",\n    on: {\n      \"change\": _vm.changeHandle\n    },\n    model: {\n      value: (_vm.type),\n      callback: function($$v) {\n        _vm.type = $$v\n      },\n      expression: \"type\"\n    }\n  }, _vm._l((_vm.showTime), function(item, index) {\n    return _c('el-radio-button', {\n      key: index,\n      attrs: {\n        \"label\": item\n      }\n    }, [_vm._v(_vm._s(_vm.riadoList[item.toString()] ? _vm.riadoList[item.toString()].label : \"\"))])\n  })), _vm._v(\" \"), _c('da-time', {\n    attrs: {\n      \"label\": _vm.label,\n      \"type\": _vm.riadoList[_vm.type.toString()] ? _vm.riadoList[_vm.type.toString()].timeName : '',\n      \"is-picker-end\": _vm.isPickerEnd,\n      \"width\": _vm.width\n    },\n    on: {\n      \"change\": _vm.changeInput\n    },\n    model: {\n      value: (_vm.timeSelected),\n      callback: function($$v) {\n        _vm.timeSelected = $$v\n      },\n      expression: \"timeSelected\"\n    }\n  })], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-2636df3e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/analysis/timeRangeSelect.vue\n// module id = 87l7\n// module chunks = 57","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"radio-wrap\"\n  }, _vm._l((_vm.dataLists), function(item, index) {\n    return _c('div', {\n      key: index,\n      staticClass: \"radio-block\",\n      style: ({\n        width: _vm.width\n      })\n    }, [_c('el-button', {\n      staticClass: \"radio-btn\",\n      class: {\n        'active': _vm.value === item[_vm.valueKey], disabled: item.disabled\n      },\n      attrs: {\n        \"type\": \"text\",\n        \"disabled\": item.disabled\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.clickHandle(item)\n        }\n      }\n    }, [_vm._v(_vm._s(item[_vm.label]))])], 1)\n  }))\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-5d9af6e6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/analysis/radioBlock.vue\n// module id = 8vLw\n// module chunks = 57","<!--\r\n// XXX\r\n当同时触发页码和分页改变时，会出现调用两次相同的请求，即当选择第n页后修改每页分页数为大于总数时。\r\n-->\r\n<template>\r\n    <div class=\"base-div-page\">\r\n        <el-pagination @current-change=\"handleCurrentChange\" :current-page=\"page.thisPage\" :total=\"page.pageSizes\" layout=\"slot,prev, pager, next,jumper\" :page-size=\"pageRangeN\">\r\n            <slot>\r\n                <div class=\"base-table-pageLeft\">\r\n                    {{page.pageSizes}}条记录，{{page.thisPage}}/{{page.totalPage}}页，每页\r\n                    <span class=\"base-table-pagesize\">\r\n                        <input type=\"text\" v-model.lazy=\"pageRange\" @change=\"pageSizeChange\" @click=\"showPageSizes\" ref=\"basePageInput\" class=\"base-input-pageSizes\">\r\n                        <ul v-show=\"isShowPageSizes\" class=\"base-ul-page\">\r\n                            <li v-for=\"item in pageSizes\" :key=\"item\" @click=\"selectPage(item)\">{{item}}</li>\r\n                        </ul>\r\n                    </span>\r\n                    条\r\n                </div>\r\n            </slot>\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    page: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          thisPage: 1, //当前页\r\n          totalPage: 0, //总共多少页\r\n          pageSizes: \"\", //总共多少条\r\n          pageRange: \"\" //每页多少条\r\n        };\r\n      }\r\n    },\r\n    pageSizes: {\r\n      type: Array,\r\n      default() {\r\n        return [\"自定义\", 100, 50, 10]; //[10, 50, 100, '自定义']\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      pageRange: 10,\r\n      isShowPageSizes: false\r\n    };\r\n  },\r\n  computed: {\r\n    pageRangeN() {\r\n      return Number(this.pageRange);\r\n    }\r\n  },\r\n  methods: {\r\n    //currentPage改变时会触发\r\n    handleCurrentChange(val) {\r\n      this.$emit(\"currentChange\", val);\r\n    },\r\n    //input输入paegsizes触发\r\n    pageSizeChange() {\r\n      this.changeValue(this.pageRange);\r\n      this.$emit(\"pageSizeChange\", this.pageRange);\r\n    },\r\n    //点击input显示下拉列表\r\n    showPageSizes() {\r\n      this.isShowPageSizes = !this.isShowPageSizes;\r\n    },\r\n    //点击下拉列表\r\n    selectPage(val) {\r\n      if (val === \"自定义\") {\r\n        this.$refs[\"basePageInput\"].focus();\r\n      } else if (this.pageRange != val) {\r\n        this.pageRange = val;\r\n        this.$emit(\"pageSizeChange\", this.pageRange);\r\n      }\r\n      this.isShowPageSizes = false;\r\n    },\r\n    //转换input的值\r\n    changeValue(val) {\r\n      if (isNaN(parseInt(val)) || parseInt(val) <= 0) {\r\n        this.pageRange = 10;\r\n      } else {\r\n        this.pageRange = parseInt(val);\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    page: function(newV, oldV) {\r\n      this.pageRange = newV.pageRange;\r\n    }\r\n  },\r\n  mounted() {\r\n    let me = this;\r\n    document.addEventListener(\"click\", function(e) {\r\n      if (\r\n        e.target == me.$el.getElementsByClassName(\"base-input-pageSizes\")[0]\r\n      ) {\r\n        return;\r\n      } else {\r\n        me.isShowPageSizes = false;\r\n      }\r\n    });\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.base-div-page {\r\n  text-align: right;\r\n  margin-top: 8px;\r\n}\r\n\r\n.base-table-pageLeft {\r\n  float: left;\r\n  position: relative;\r\n  margin-left: -5px;\r\n  line-height: 28px;\r\n}\r\n\r\n.el-pagination__jump {\r\n  margin-right: -5px;\r\n}\r\n\r\n.base-table-pageLeft input {\r\n  box-sizing: border-box;\r\n  text-align: center;\r\n  height: 26px;\r\n  width: 50px;\r\n  border: 1px solid #d1dbe5;\r\n  border-radius: 2px;\r\n}\r\n\r\n.base-table-pageLeft ul {\r\n  background: #fff;\r\n  border: 1px solid #d1dbe5;\r\n  position: absolute;\r\n  left: 0;\r\n  top: -101px;\r\n  /*top: 25px;*/\r\n  width: 50px;\r\n  z-index: 999;\r\n}\r\n\r\n.base-table-pageLeft li {\r\n  list-style: none;\r\n  line-height: 25px;\r\n  height: 25px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.base-table-pageLeft li:hover {\r\n  background: #e4e8f1;\r\n}\r\n.base-table-pagesize {\r\n  position: relative;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/base/page.vue?1b8b082f","<template>\n    <div>\n        <el-button icon=\"arrow-left\" @click='pre' plain></el-button>\n        <el-select v-model=\"value\" placeholder=\"请选择\" @change='selectChange'>\n            <el-option\n                    v-for=\"item in options\"\n                    :key=\"item.value\"\n                    :label=\"item.label\"\n                    :value=\"item.value\">\n            </el-option>\n        </el-select>\n        <el-button icon=\"arrow-right\" @click='next'></el-button>\n    </div>\n</template>\n\n<script>\n    /*组件说明:\n        父组件传入options,形式为[{value:,label],具体参考elementUi中options的取值;\n        父组件接收onChange事件,onChange事件传出选择项的value值,每次选择都会做改变;\n\n    */\n    export default {\n        props: {\n            options: {\n                type: Array,\n//       required:true\n//      default(){\n//        return[\n//          {value:0,label:'部门1'}\n//        ]\n//      }\n            }\n\n        },\n        data() {\n            return {\n                value: '',\n                nowIndex: 0\n            }\n        },\n        methods: {\n            selectChange(val) {\n                let msg = {val: val};\n                this.options.forEach((value, index) => {\n                    if (value['value'] == val) {\n                        msg.label = value['label'];\n                        msg.index = index;\n                        this.nowIndex = index\n                    }\n                })\n                this.$emit('change', msg)\n            },\n            pre() {\n                this.nowIndex--;\n                if (this.nowIndex < 0) {\n                    this.nowIndex = this.options.length - 1\n                }\n                this.value = this.options[this.nowIndex].value\n            },\n            next() {\n                this.nowIndex++;\n                if (this.nowIndex >= this.options.length) {\n                    this.nowIndex = 0\n                }\n                this.value = this.options[this.nowIndex].value\n            }\n        },\n        mounted() {\n            if (this.options) {\n                this.value = this.options[this.nowIndex].value\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    /*.el-button:focus.el-button:active{*/\n    /*border: 1px solid #c4c4c4;\n    color: #1f2d3d;*/\n    /*}*/\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/base/select.vue?6bce849c","<template>\r\n  <div class=\"date-time\" :style=\"{width:width}\">\r\n    <el-date-picker v-if=\"type==='datetimerange' || type==='daterange'\" v-model=\"time\" :type=\"type\" placeholder=\"选择日期范围\" :range-separator=\"rangeSeparator\" :start-placeholder=\"startPlaceholder\" :editable=\"false\"></el-date-picker>\r\n\r\n    <div v-else class=\"date-time-wrap\">\r\n      <span v-if=\"label.sLabel\">{{label.sLabel}}</span>\r\n      <el-date-picker class=\"date-time-input\" v-model=\"stime\" :format=\"changeFormat(format[type])\" :type=\"type\" @change=\"handleStartTime\" placeholder=\"选择日期范围\" :editable=\"false\">\r\n      </el-date-picker>\r\n      <span>{{label.eLabel}}</span>\r\n      <el-date-picker class=\"date-time-input\" v-model=\"etime\" :format=\"changeFormat(format[type])\" :type=\"type\" @change=\"handleEndTime\" :picker-options=\"pickerOptions\" placeholder=\"选择日期范围\" :editable=\"false\">\r\n      </el-date-picker>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * 选择开始结束时间的组件\r\n * 可用作 日、月、年 时分秒\r\n *\r\n */\r\nexport default {\r\n  props: {\r\n    type: {\r\n      type: String,\r\n      default: \"date\" //year/month/date/week/datetime 、datetimerange/daterange\r\n    },\r\n    width: {\r\n      type: String,\r\n      default: \"100%\"\r\n    },\r\n    label: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          eLabel: \"到\"\r\n        };\r\n      }\r\n    },\r\n    rangeSeparator: {\r\n      type: String\r\n    },\r\n    startPlaceholder: {\r\n      type: String\r\n    },\r\n    isPickerEnd: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    value: {\r\n      // 必须要使用value\r\n      default: \"\"\r\n    },\r\n    pickerOptions: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          disabledDate: time => {\r\n            return (\r\n              this.isPickerEnd &&\r\n              time.getTime() <\r\n                (this.stime === \"\"\r\n                  ? new Date(1970) - 8.64e7\r\n                  : this.stime.getTime())\r\n            );\r\n          }\r\n        };\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      stime: \"\",\r\n      etime: \"\",\r\n      time: \"\",\r\n      format: {\r\n        year: \"YYYY\",\r\n        month: \"YYYY-MM\",\r\n        week: \"YYYY 第 WW 周\",\r\n        date: \"YYYY-MM-DD\",\r\n        daterange: \"YYYY-MM-DD\",\r\n        datetime: \"YYYY-MM-DD HH:mm:ss\",\r\n        datetimerange: \"YYYY-MM-DD HH:mm:ss\"\r\n      }\r\n    };\r\n  },\r\n  watch: {\r\n    type(val) {\r\n      if (this.stime || this.etime) {\r\n        this.$emit(\"input\", this.formatTime(this.stime, this.etime));\r\n      } else if (this.time && this.time.length === 2) {\r\n        this.$emit(\"input\", this.formatTime(this.time[0], this.time[1]));\r\n      } else {\r\n        this.$emit(\"input\", []);\r\n      }\r\n    },\r\n    // XXX\r\n    time: {\r\n      handler(val) {\r\n        if (this.value.join(\",\") !== this.time.join(\",\")) {\r\n          // this.time = this.value;\r\n          let sTime = this.$moment(\r\n            new Date(this.time[0]),\r\n            this.format[this.type]\r\n          );\r\n          let eTime = this.$moment(\r\n            new Date(this.time[1]),\r\n            this.format[this.type]\r\n          );\r\n\r\n          this.$emit(\"input\", [sTime, eTime]);\r\n        }\r\n      },\r\n      deep: true\r\n    },\r\n    value: {\r\n      handler(val) {\r\n        if (this.type === \"datetimerange\" || this.type === \"daterange\") {\r\n          if (this.value && this.value.join(\",\") !== this.time.join(\",\")) {\r\n            this.time = this.value;\r\n          }\r\n        } else {\r\n          if (\r\n            this.value &&\r\n            this.value.join(\",\") !== this.stime + \",\" + this.etime\r\n          ) {\r\n            this.stime = new Date(this.value[0]);\r\n            this.etime = new Date(this.value[1]);\r\n          }\r\n        }\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    handleStartTime() {\r\n      let time = [];\r\n      if (this.isPickerEnd && this.stime > this.etime) {\r\n        this.etime = \"\";\r\n      }\r\n      let formatTime = this.formatTime(this.stime, this.etime);\r\n      this.$emit(\"input\", formatTime);\r\n      this.$emit(\"change\", formatTime);\r\n    },\r\n    handleEndTime() {\r\n      let formatTime = this.formatTime(this.stime, this.etime);\r\n      this.$emit(\"input\", formatTime);\r\n      this.$emit(\"change\", formatTime);\r\n    },\r\n    changeFormat(format) {\r\n      return format ? format.replace(/Y/g, \"y\").replace(/D/g, \"d\") : \"\";\r\n    },\r\n    formatTime(start, end) {\r\n      return [\r\n        start ? this.$moment(start, this.format[this.type]) : \"\",\r\n        end ? this.$moment(end, this.format[this.type]) : \"\"\r\n      ];\r\n    }\r\n  },\r\n  mounted() {\r\n    if (!(this.value && this.value[0] && this.value[1])) {\r\n      let date = new Date();\r\n      if (this.type === \"datetimerange\" || this.type === \"daterange\") {\r\n        this.time = [date, date];\r\n      } else {\r\n        this.stime = date;\r\n        this.etime = date;\r\n      }\r\n    } else {\r\n      if (this.type === \"datetimerange\" || this.type === \"daterange\") {\r\n        this.time = [new Date(this.value[0]), new Date(this.value[1])];\r\n      } else {\r\n        this.stime = new Date(this.value[0]);\r\n        this.etime = new Date(this.value[1]);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.date-time {\r\n  display: inline-block;\r\n}\r\n.date-time-wrap {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.date-range-wrap {\r\n  height: 30px;\r\n  margin-top: 4px;\r\n}\r\n.date-time-input {\r\n  flex: 1;\r\n}\r\n\r\n.date-time-wrap > span {\r\n  padding: 0 5px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/base/dateTime.vue?48c37b78","import Vue from 'vue'\r\nconst LoadingConstructor = Vue.extend(require('./vLoading.vue'))\r\n\r\nexport default {\r\n    install: Vue => {\r\n        Vue.directive('loading', { // 指令的关键\r\n            bind: (el, binding) => {\r\n                const loading = new LoadingConstructor({ // 实例化一个loading\r\n                    el: document.createElement('div'),\r\n                    data: {\r\n                        text: el.getAttribute('loading-text'), // 通过loading-text属性获取loading的文字\r\n                        fullscreen: !!binding.modifiers.fullscreen\r\n                    }\r\n                })\r\n                el.instance = loading; // el.instance是个Vue实例\r\n                el.loading = loading.$el; // el.loading的DOM元素是loading.$el\r\n                el.loadingStyle = {};\r\n                toggleLoading(el, binding);\r\n            },\r\n            update: (el, binding) => {\r\n                el.instance.setText(el.getAttribute('loading-text'))\r\n                if (binding.oldValue !== binding.value) {\r\n                    toggleLoading(el, binding)\r\n                }\r\n            },\r\n            unbind: (el, binding) => { // 解绑\r\n                if (el.domInserted) {\r\n                    if (binding.modifiers.fullscreen) {\r\n                        document.body.removeChild(el.loading);\r\n                    } else {\r\n                        el.loading &&\r\n                            el.loading.parentNode &&\r\n                            el.loading.parentNode.removeChild(el.loading);\r\n                    }\r\n                }\r\n            }\r\n        })\r\n\r\n        const toggleLoading = (el, binding) => { // 用于控制Loading的出现与消失\r\n            if (binding.value) {\r\n                Vue.nextTick(() => {\r\n                    if (binding.modifiers.fullscreen) { // 如果是全屏\r\n                        el.originalPosition = document.body.style.position;\r\n                        el.originalOverflow = document.body.style.overflow;\r\n                        insertDom(document.body, el, binding); // 插入dom\r\n                    } else {\r\n                        el.originalPosition = el.style.position;\r\n                        insertDom(el, el, binding); // 如果非全屏，插入元素自身\r\n                    }\r\n                })\r\n            } else {\r\n                if (el.domVisible) {\r\n                    el.instance.$on('after-leave', () => {\r\n                        el.domVisible = false;\r\n                        if (binding.modifiers.fullscreen && el.originalOverflow !== 'hidden') {\r\n                            document.body.style.overflow = el.originalOverflow;\r\n                        }\r\n                        if (binding.modifiers.fullscreen) {\r\n                            document.body.style.position = el.originalPosition;\r\n                        } else {\r\n                            el.style.position = el.originalPosition;\r\n                        }\r\n                    });\r\n                    el.instance.visible = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        const insertDom = (parent, el, binding) => { // 插入dom的逻辑\r\n            if (!el.domVisible) {\r\n                Object.keys(el.loadingStyle).forEach(property => {\r\n                    el.loading.style[property] = el.loadingStyle[property];\r\n                });\r\n                if (el.originalPosition !== 'absolute') {\r\n                    parent.style.position = 'relative'\r\n                }\r\n                if (binding.modifiers.fullscreen) {\r\n                    parent.style.overflow = 'hidden'\r\n                }\r\n                el.domVisible = true;\r\n                parent.appendChild(el.loading) // 插入的是el.loading而不是el本身\r\n                Vue.nextTick(() => {\r\n                    el.instance.visible = true;\r\n                });\r\n                el.domInserted = true;\r\n            }\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/base/vLoading/index.js","/**\r\n * 指标变量\r\n * 获取变量：this.$store.state.targetConstant.type\r\n * 变量赋值：this.$store.commit(\"setType\", obj)\r\n */\r\nconst targetConstant = {\r\n  /**\r\n   * 常量定义区\r\n   */\r\n  state: {\r\n    // 定义常量type（对象类型）\r\n    type: {},\r\n    targetCycle: { hour: 1, week: 2, day: 3, week: 4, month: 5, quater: 6, halfYear: 7, year: 8 },\r\n    /**\r\n     * 指标类型\r\n     * harvest:产量指标类型,energyConsum:能耗指标类型,unitProductEnergyConsum:单位产品能耗指标类型,saveEnergy:能耗节能指标,\r\n     * output:产值指标类型,unitProductEnergyCost:单位产品成本指标,energyCost:能源成本指标,energyRate: 折标系数指标\r\n     */\r\n    targetType: {\r\n      harvest: 4,\r\n      energyConsum: 1,\r\n      unitProductEnergyConsum: 2,\r\n      saveEnergy: 75,\r\n      output: 6,\r\n      unitProductEnergyCost: 17,\r\n      energyCost: 30,\r\n      energyPrice: 89,\r\n      energyRate: 109\r\n    },\r\n    /**\r\n     * 指标统计内容类型\r\n     */\r\n    targetContentType: { energy: 1 },\r\n    /**\r\n     * 能源种类\r\n     * compreEnergyConsum:综合能耗\r\n     */\r\n    energy: { compreEnergyConsum: 42, electric: 35 },\r\n    /**\r\n     * 指标关联对象\r\n     */\r\n    targetSubordinate: { workGroup: 1, equip: 2, product: 3 },\r\n    orgId: { enterprise: 35 },\r\n    /**\r\n     * 设备运行状态\r\n     */\r\n    equipRunStatus: { stop: 1, standby: 2, run: 3 },\r\n  },\r\n  /**\r\n   * 常量赋值区\r\n   */\r\n  mutations: {\r\n    setType(state, payload) {\r\n      state.type = payload;\r\n    }\r\n  },\r\n  actions: {}\r\n\r\n}\r\nexport default targetConstant\n\n\n// WEBPACK FOOTER //\n// ./src/store/targetConstant.js","function UUID() {\r\n    this.id = this.createUUID();\r\n}\r\n\r\n// When asked what this Object is, lie and return it's value\r\nUUID.prototype.valueOf = function() { return this.id; };\r\nUUID.prototype.toString = function() { return this.id; };\r\n\r\n//\r\n// INSTANCE SPECIFIC METHODS\r\n//\r\nUUID.prototype.createUUID = function() {\r\n    //\r\n    // Loose interpretation of the specification DCE 1.1: Remote Procedure Call\r\n    // since JavaScript doesn't allow access to internal systems, the last 48 bits \r\n    // of the node section is made up using a series of random numbers (6 octets long).\r\n    //  \r\n    var dg = new Date(1582, 10, 15, 0, 0, 0, 0);\r\n    var dc = new Date();\r\n    var t = dc.getTime() - dg.getTime();\r\n    var tl = UUID.getIntegerBits(t, 0, 31);\r\n    var tm = UUID.getIntegerBits(t, 32, 47);\r\n    var thv = UUID.getIntegerBits(t, 48, 59) + '1'; // version 1, security version is 2\r\n    var csar = UUID.getIntegerBits(UUID.rand(4095), 0, 7);\r\n    var csl = UUID.getIntegerBits(UUID.rand(4095), 0, 7);\r\n    // since detection of anything about the machine/browser is far to buggy, \r\n    // include some more random numbers here\r\n    // if NIC or an IP can be obtained reliably, that should be put in\r\n    // here instead.\r\n    var n = UUID.getIntegerBits(UUID.rand(8191), 0, 7) +\r\n        UUID.getIntegerBits(UUID.rand(8191), 8, 15) +\r\n        UUID.getIntegerBits(UUID.rand(8191), 0, 7) +\r\n        UUID.getIntegerBits(UUID.rand(8191), 8, 15) +\r\n        UUID.getIntegerBits(UUID.rand(8191), 0, 15); // this last number is two octets long\r\n    return tl + tm + thv + csar + csl + n;\r\n};\r\n\r\n//Pull out only certain bits from a very large integer, used to get the time\r\n//code information for the first part of a UUID. Will return zero's if there \r\n//aren't enough bits to shift where it needs to.\r\nUUID.getIntegerBits = function(val, start, end) {\r\n    var base16 = UUID.returnBase(val, 16);\r\n    var quadArray = new Array();\r\n    var quadString = '';\r\n    var i = 0;\r\n    for (i = 0; i < base16.length; i++) {\r\n        quadArray.push(base16.substring(i, i + 1));\r\n    }\r\n    for (i = Math.floor(start / 4); i <= Math.floor(end / 4); i++) {\r\n        if (!quadArray[i] || quadArray[i] == '') quadString += '0';\r\n        else quadString += quadArray[i];\r\n    }\r\n    return quadString;\r\n};\r\n\r\n//Replaced from the original function to leverage the built in methods in\r\n//JavaScript. Thanks to Robert Kieffer for pointing this one out\r\nUUID.returnBase = function(number, base) {\r\n    return (number).toString(base).toUpperCase();\r\n};\r\n\r\n//pick a random number within a range of numbers\r\n//int b rand(int a); where 0 <= b <= a\r\nUUID.rand = function(max) {\r\n    return Math.floor(Math.random() * (max + 1));\r\n};\r\n\r\nexport default UUID;\n\n\n// WEBPACK FOOTER //\n// ./src/util/uuId.js","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e5682b8e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./vLoading.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./vLoading.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e5682b8e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./vLoading.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/base/vLoading/vLoading.vue\n// module id = DcQ7\n// module chunks = 57","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_vm._t(\"searchTool\"), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.lock\",\n      value: (_vm.isLoading),\n      expression: \"isLoading\",\n      modifiers: {\n        \"lock\": true\n      }\n    }],\n    ref: _vm.id,\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"id\": _vm.id,\n      \"data\": _vm.data,\n      \"show-summary\": _vm.showSummary,\n      \"summary-method\": _vm.summaryMethod,\n      \"border\": _vm.border,\n      \"max-height\": _vm.maxHeight,\n      \"highlight-current-row\": _vm.showRadio\n    },\n    on: {\n      \"select\": _vm.select,\n      \"select-all\": _vm.selectAll,\n      \"row-click\": _vm.rowClick,\n      \"row-dblclick\": _vm.rowDblclick,\n      \"selection-change\": _vm.selectionChange\n    }\n  }, [(_vm.showSelection) ? _c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"header-align\": \"center\",\n      \"align\": \"center\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showIndex) ? _c('el-table-column', {\n    attrs: {\n      \"type\": \"index\",\n      \"label\": \"序号\",\n      \"width\": \"60\",\n      \"header-align\": \"center\",\n      \"align\": \"center\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.colums), function(item) {\n    return [(!item.hidden === true && item.children) ? _c('el-table-column', {\n      key: item.prop,\n      attrs: {\n        \"label\": item.label,\n        \"align\": item.align ? item.align : 'center',\n        \"header-align\": \"center\",\n        \"prop\": item.prop,\n        \"class-name\": item.subStr === true ? 'sys_text_substr' : '',\n        \"min-width\": item.width ? item.width : ' ',\n        \"sortable\": item.sortable ? item.sortable : false,\n        \"show-overflow-tooltip\": item.showOverflowTooltip ? item.showOverflowTooltip : false\n      }\n    }, _vm._l((item.children), function(itemChild) {\n      return _c('el-table-column', {\n        key: itemChild.prop,\n        attrs: {\n          \"label\": itemChild.label,\n          \"align\": itemChild.align ? itemChild.align : 'center',\n          \"header-align\": \"center\",\n          \"prop\": itemChild.prop,\n          \"class-name\": itemChild.subStr === true ? 'sys_text_substr' : '',\n          \"min-width\": itemChild.width ? itemChild.width : ' ',\n          \"sortable\": itemChild.sortable ? itemChild.sortable : false,\n          \"show-overflow-tooltip\": itemChild.showOverflowTooltip ? itemChild.showOverflowTooltip : false\n        },\n        scopedSlots: _vm._u([{\n          key: \"default\",\n          fn: function(scope2) {\n            return [(itemChild.popover) ? _c('el-popover', {\n              staticClass: \"table_popover\",\n              attrs: {\n                \"trigger\": \"hover\",\n                \"placement\": \"top\"\n              }\n            }, [_vm._t(\"hover\", [_c('p', [_vm._v(_vm._s(typeof itemChild.popover === \"boolean\" ? _vm.customDisplay(itemChild, scope2) : scope2.row[itemChild.popover] || itemChild.popover))])]), _vm._v(\" \"), _c('div', {\n              staticClass: \"name-wrapper\",\n              attrs: {\n                \"slot\": \"reference\"\n              },\n              slot: \"reference\"\n            }, [_c('el-tag', [_vm._v(_vm._s(_vm.customDisplay(itemChild, scope2)))])], 1)], 2) : _vm._e(), _vm._v(\" \"), (!itemChild.popover) ? [_vm._v(_vm._s(_vm.customDisplay(itemChild, scope2)))] : _vm._e()]\n          }\n        }])\n      })\n    })) : _vm._e(), _vm._v(\" \"), (!(item.hidden === true) && !item.children) ? _c('el-table-column', {\n      key: item.prop,\n      attrs: {\n        \"label\": item.label,\n        \"align\": item.align ? item.align : 'center',\n        \"header-align\": \"center\",\n        \"prop\": item.prop,\n        \"class-name\": item.subStr === true ? 'sys_text_substr' : '',\n        \"min-width\": item.width ? item.width : ' ',\n        \"sortable\": item.sortable ? item.sortable : false,\n        \"show-overflow-tooltip\": item.showOverflowTooltip ? item.showOverflowTooltip : false\n      },\n      scopedSlots: _vm._u([{\n        key: \"default\",\n        fn: function(scope) {\n          return [(item.popover) ? _c('el-popover', {\n            staticClass: \"table_popover\",\n            attrs: {\n              \"trigger\": \"hover\",\n              \"placement\": \"top\"\n            }\n          }, [_vm._t(\"hover\", [_c('p', [_vm._v(_vm._s(typeof item.popover === \"boolean\" ? _vm.customDisplay(item, scope) : scope.row[item.popover] || item.popover))])]), _vm._v(\" \"), _c('div', {\n            staticClass: \"name-wrapper\",\n            attrs: {\n              \"slot\": \"reference\"\n            },\n            slot: \"reference\"\n          }, [_c('el-tag', [_vm._v(_vm._s(_vm.customDisplay(item, scope)))])], 1)], 2) : _vm._e(), _vm._v(\" \"), (!item.popover) ? [_vm._v(_vm._s(_vm.customDisplay(item, scope)))] : _vm._e()]\n        }\n      }])\n    }) : _vm._e()]\n  }), _vm._v(\" \"), _vm._t(\"default\"), _vm._v(\" \"), _vm._t(\"operation\")], 2), _vm._v(\" \"), (_vm.isPage) ? _c('v-page', {\n    class: _vm.isClass ? 'cation' : ' ',\n    attrs: {\n      \"page\": _vm.page\n    },\n    on: {\n      \"currentChange\": _vm.currentChange,\n      \"pageSizeChange\": _vm.pageSizeChange\n    }\n  }) : _vm._e()], 2)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-573cf598\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/base/table.vue\n// module id = Dfpj\n// module chunks = 57","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"analysis-panel\",\n    style: ({\n      width: _vm.width\n    })\n  }, [_c('h3', {\n    staticClass: \"text-center\"\n  }, [_vm._v(_vm._s(_vm.title))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"analysis-panel-body\"\n  }, [_vm._t(\"default\")], 2)])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-0dfa2c52\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/analysis/analysis.vue\n// module id = DnpW\n// module chunks = 57","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7813e8c3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./manage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7813e8c3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./manage.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7813e8c3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pageLayout/manage.vue\n// module id = EfAQ\n// module chunks = 57","<template>\r\n  <div :class=\"className\" :id=\"id\" :style=\"{height:height,width:width}\"></div>\r\n</template>\r\n\r\n<script>\r\nimport echarts from \"echarts\";\r\nimport resize from \"./mixins/resize\";\r\nimport { dateCalcRound } from \"@/util\";\r\n\r\nexport default {\r\n  mixins: [resize],\r\n  props: {\r\n    className: {\r\n      type: String,\r\n      default: \"chart\"\r\n    },\r\n    id: {\r\n      type: String,\r\n      default: \"chart\"\r\n    },\r\n    width: {\r\n      type: String,\r\n      default: \"100%\"\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: \"250px\"\r\n    },\r\n    selectedNum: {\r\n      type: Number,\r\n      default: 5\r\n    },\r\n    label: {\r\n      type: String,\r\n      default: \"name\"\r\n    },\r\n    valueKey: {\r\n      type: String,\r\n      default: \"dataValue\"\r\n    },\r\n    unit: {\r\n      type: String,\r\n      default: \"targetUnit\"\r\n    },\r\n    title: {\r\n      type: String\r\n    },\r\n    dataLists: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      }\r\n    },\r\n    legendDisplace: {\r\n      type: Object\r\n    },\r\n    // 是否显示title\r\n    showTitle: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      chart: null,\r\n      xAxis: []\r\n    };\r\n  },\r\n  watch: {\r\n    dataLists(lists) {\r\n      if (this.dataLists.length === 0) {\r\n        document.getElementById(this.id).innerHTML = this.chartNoData();\r\n        return;\r\n      }\r\n      let legendData = [],\r\n        seriesData = [],\r\n        selected = {};\r\n      this.$each(lists, (item, index) => {\r\n        let trueName = this.legendDisplace\r\n          ? this.legendDisplace[item[this.label]]\r\n          : item[this.label];\r\n        legendData.push(trueName);\r\n        seriesData.push({\r\n          name: trueName,\r\n          value: item[this.valueKey]\r\n        });\r\n        selected[item.label] = index < this.selectedNum;\r\n      });\r\n      this.initChart(legendData, seriesData, selected);\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    if (!this.chart) {\r\n      return;\r\n    }\r\n    this.chart.dispose();\r\n    this.chart = null;\r\n  },\r\n  methods: {\r\n    initChart(legendData, seriesData, selected) {\r\n      if (this.chart) {\r\n        this.chart.dispose();\r\n        this.chart = null;\r\n      }\r\n      this.chart = echarts.init(document.getElementById(this.id), \"shine\");\r\n      let unit = this.dataLists[0][this.unit];\r\n      this.chart.setOption({\r\n        title: {\r\n          text: this.showTitle ? this.title : \"\",\r\n          textStyle: {\r\n            fontWeight: \"lighter\",\r\n            fontSize: 14\r\n          },\r\n          x: \"center\"\r\n        },\r\n        tooltip: {\r\n          trigger: \"item\",\r\n          formatter: \"{a} <br/>{b} : {c}\" + unit + \" ({d}%)\"\r\n        },\r\n        legend: {\r\n          type: \"scroll\",\r\n          orient: \"vertical\",\r\n          right: 10,\r\n          top: 20,\r\n          bottom: 20,\r\n          data: legendData,\r\n\r\n          selected: selected\r\n        },\r\n        series: [\r\n          {\r\n            name: this.title,\r\n            type: \"pie\",\r\n            radius: \"55%\",\r\n            center: [\"40%\", \"50%\"],\r\n            data: seriesData,\r\n            itemStyle: {\r\n              emphasis: {\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 0,\r\n                shadowColor: \"rgba(0, 0, 0, 0.5)\"\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      });\r\n    }\r\n  },\r\n  mounted() {}\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/analysis/pieChart.vue?a117f30a","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5d9af6e6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./radioBlock.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./radioBlock.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5d9af6e6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./radioBlock.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5d9af6e6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/analysis/radioBlock.vue\n// module id = ErAH\n// module chunks = 57","<template>\r\n  <div class=\"inblock\" :style=\"{width: width}\">\r\n    <el-radio-group v-show=\"visibleType\" class=\"ts-radio\" v-model=\"dateType\" @change=\"changeHandle\">\r\n      <el-radio-button v-for=\"(item, index) in showTime\" :key=\"index\" :label=\"item\">{{riadoList[item.toString()]?riadoList[item.toString()].label:\"\"}}</el-radio-button>\r\n    </el-radio-group>\r\n    <el-button @click=\"lastTime\">\r\n      <i class=\"el-icon-arrow-left\"></i>\r\n    </el-button>\r\n    <el-date-picker :type=\"riadoList[dateType.toString()]?riadoList[dateType.toString()].type:''\" v-model=\"timeSelected\" :clearable=\"false\" @change=\"changeInput\"></el-date-picker>\r\n    <el-button @click=\"nextTime\">\r\n      <i class=\"el-icon-arrow-right\"></i>\r\n    </el-button>\r\n  </div>\r\n</template>\r\n<script>\r\n/**\r\n *\r\n * @event change 类型和值修改都触发事件\r\n * @event inputChange 选择时间或左右切换时间时触发事件\r\n * @event radioChange 切换时间类型时触发事件\r\n */\r\nimport { calcTime } from \"../../util/util\";\r\nexport default {\r\n  props: {\r\n    width: {\r\n      type: String\r\n    },\r\n    value: {\r\n      type: String,\r\n      default() {\r\n        return new Date();\r\n      }\r\n    },\r\n    timeType: {\r\n      type: Number\r\n    },\r\n    showTime: {\r\n      type: Array,\r\n      default() {\r\n        return [3, 5, 8];\r\n      }\r\n    },\r\n    // 是否隐藏时间类型选择\r\n    visibleType: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      timeSelected: \"\",\r\n      riadoList: {\r\n        3: {\r\n          label: \"日\",\r\n          type: \"date\",\r\n          format: \"YYYY-MM-DD\"\r\n        },\r\n        5: {\r\n          label: \"月\",\r\n          type: \"month\",\r\n          format: \"YYYY-MM-01\"\r\n        },\r\n        8: {\r\n          label: \"年\",\r\n          type: \"year\",\r\n          format: \"YYYY-01-01\"\r\n        }\r\n      },\r\n      dateType: this.timeType || this.showTime[0]\r\n    };\r\n  },\r\n  watch: {\r\n    value() {\r\n      // 格式化成标准时间\r\n      let time = this.$moment(\r\n        this.value,\r\n        this.riadoList[this.dateType.toString()].format\r\n      );\r\n      // 当外部时间与内部不一样时触发\r\n      if (this.timeSelected !== time) {\r\n        this.timeSelected = time;\r\n        this.$emit(\"input\", time);\r\n      } else if (this.timeSelected === time && time !== this.value) {\r\n        // 与格式化后的时间一致且格式化前的时间不一致，修改外部时间\r\n        this.$emit(\"input\", time);\r\n      }\r\n    },\r\n    timeType() {\r\n      // 当外部类型与内部不一样时触发\r\n      if (this.dateType !== this.timeType) {\r\n        this.dateType = this.timeType;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    lastTime() {\r\n      this.changeTime(-1);\r\n    },\r\n    nextTime() {\r\n      this.changeTime(1);\r\n    },\r\n    changeTime(identify) {\r\n      // 增减一个时间\r\n      let time = calcTime(\r\n        this.value,\r\n        identify,\r\n        this.dateType,\r\n        this.riadoList[this.dateType.toString()].format\r\n      );\r\n      this.setData(time);\r\n      this.$emit(\"inputChange\", this.value, this.dateType);\r\n    },\r\n    changeHandle() {\r\n      this.$emit(\"update:timeType\", this.dateType);\r\n      let value = this.$moment(\r\n        this.value,\r\n        this.riadoList[this.dateType.toString()].format\r\n      );\r\n      this.setData(value);\r\n      this.$emit(\"radioChange\", this.value, this.dateType);\r\n    },\r\n    changeInput(value) {\r\n      value = this.$moment(\r\n        value,\r\n        this.riadoList[this.dateType.toString()].format\r\n      );\r\n      this.setData(value);\r\n      this.$emit(\"inputChange\", this.value, this.dateType);\r\n    },\r\n    setData(value) {\r\n      this.$emit(\"input\", value);\r\n      this.$emit(\"change\", value, this.dateType);\r\n    }\r\n  },\r\n  mounted() {\r\n    if (!this.value) {\r\n      this.$emit(\r\n        \"input\",\r\n        this.$moment(\r\n          new Date(),\r\n          this.riadoList[this.dateType.toString()].format\r\n        )\r\n      );\r\n      this.timeSelected = this.$moment(\r\n        new Date(),\r\n        this.riadoList[this.dateType.toString()].format\r\n      );\r\n    } else {\r\n      this.timeSelected = this.value;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.ts-radio {\r\n  vertical-align: top;\r\n}\r\n.el-input {\r\n  width: 120px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/analysis/timeSelect.vue?426e20bc","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('header', {\n    staticClass: \"page-head\"\n  }, [_vm._t(\"head\")], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"page-flex\"\n  }, [_c('div', {\n    staticClass: \"page-btn\"\n  }, [_vm._t(\"button\")], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"page-form\"\n  }, [_vm._t(\"search\")], 2)]), _vm._v(\" \"), _c('section', {\n    staticClass: \"page-content\"\n  }, [_vm._t(\"content\")], 2), _vm._v(\" \"), _vm._t(\"default\")], 2)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-7813e8c3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/pageLayout/manage.vue\n// module id = GP6Y\n// module chunks = 57","/*!\r\n * UEditor\r\n * version: ueditor\r\n * build: Wed Aug 10 2016 11:06:16 GMT+0800 (CST)\r\n */\r\n\r\n(function() {\r\n\r\n    // editor.js\r\n    UEDITOR_CONFIG = window.UEDITOR_CONFIG || {};\r\n\r\n    var baidu = window.baidu || {};\r\n\r\n    window.baidu = baidu;\r\n\r\n    window.UE = baidu.editor = window.UE || {};\r\n\r\n    UE.plugins = {};\r\n\r\n    UE.commands = {};\r\n\r\n    UE.instants = {};\r\n\r\n    UE.I18N = {};\r\n\r\n    UE._customizeUI = {};\r\n\r\n    UE.version = \"1.4.3\";\r\n\r\n    var dom = UE.dom = {};\r\n\r\n    // core/browser.js\r\n    /**\r\n     * 浏览器判断模块\r\n     * @file\r\n     * @module UE.browser\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 提供浏览器检测的模块\r\n     * @unfile\r\n     * @module UE.browser\r\n     */\r\n    var browser = UE.browser = function() {\r\n        var agent = navigator.userAgent.toLowerCase(),\r\n            opera = window.opera,\r\n            browser = {\r\n                /**\r\n                 * @property {boolean} ie 检测当前浏览器是否为IE\r\n                 * @example\r\n                 * ```javascript\r\n                 * if ( UE.browser.ie ) {\r\n                 *     console.log( '当前浏览器是IE' );\r\n                 * }\r\n                 * ```\r\n                 */\r\n                ie: /(msie\\s|trident.*rv:)([\\w.]+)/.test(agent),\r\n\r\n                /**\r\n                 * @property {boolean} opera 检测当前浏览器是否为Opera\r\n                 * @example\r\n                 * ```javascript\r\n                 * if ( UE.browser.opera ) {\r\n                 *     console.log( '当前浏览器是Opera' );\r\n                 * }\r\n                 * ```\r\n                 */\r\n                opera: (!!opera && opera.version),\r\n\r\n                /**\r\n                 * @property {boolean} webkit 检测当前浏览器是否是webkit内核的浏览器\r\n                 * @example\r\n                 * ```javascript\r\n                 * if ( UE.browser.webkit ) {\r\n                 *     console.log( '当前浏览器是webkit内核浏览器' );\r\n                 * }\r\n                 * ```\r\n                 */\r\n                webkit: (agent.indexOf(' applewebkit/') > -1),\r\n\r\n                /**\r\n                 * @property {boolean} mac 检测当前浏览器是否是运行在mac平台下\r\n                 * @example\r\n                 * ```javascript\r\n                 * if ( UE.browser.mac ) {\r\n                 *     console.log( '当前浏览器运行在mac平台下' );\r\n                 * }\r\n                 * ```\r\n                 */\r\n                mac: (agent.indexOf('macintosh') > -1),\r\n\r\n                /**\r\n                 * @property {boolean} quirks 检测当前浏览器是否处于“怪异模式”下\r\n                 * @example\r\n                 * ```javascript\r\n                 * if ( UE.browser.quirks ) {\r\n                 *     console.log( '当前浏览器运行处于“怪异模式”' );\r\n                 * }\r\n                 * ```\r\n                 */\r\n                quirks: (document.compatMode == 'BackCompat')\r\n            };\r\n\r\n        /**\r\n         * @property {boolean} gecko 检测当前浏览器内核是否是gecko内核\r\n         * @example\r\n         * ```javascript\r\n         * if ( UE.browser.gecko ) {\r\n         *     console.log( '当前浏览器内核是gecko内核' );\r\n         * }\r\n         * ```\r\n         */\r\n        browser.gecko = (navigator.product == 'Gecko' && !browser.webkit && !browser.opera && !browser.ie);\r\n\r\n        var version = 0;\r\n\r\n        // Internet Explorer 6.0+\r\n        if (browser.ie) {\r\n\r\n            var v1 = agent.match(/(?:msie\\s([\\w.]+))/);\r\n            var v2 = agent.match(/(?:trident.*rv:([\\w.]+))/);\r\n            if (v1 && v2 && v1[1] && v2[1]) {\r\n                version = Math.max(v1[1] * 1, v2[1] * 1);\r\n            } else if (v1 && v1[1]) {\r\n                version = v1[1] * 1;\r\n            } else if (v2 && v2[1]) {\r\n                version = v2[1] * 1;\r\n            } else {\r\n                version = 0;\r\n            }\r\n\r\n            browser.ie11Compat = document.documentMode == 11;\r\n            /**\r\n             * @property { boolean } ie9Compat 检测浏览器模式是否为 IE9 兼容模式\r\n             * @warning 如果浏览器不是IE， 则该值为undefined\r\n             * @example\r\n             * ```javascript\r\n             * if ( UE.browser.ie9Compat ) {\r\n             *     console.log( '当前浏览器运行在IE9兼容模式下' );\r\n             * }\r\n             * ```\r\n             */\r\n            browser.ie9Compat = document.documentMode == 9;\r\n\r\n            /**\r\n             * @property { boolean } ie8 检测浏览器是否是IE8浏览器\r\n             * @warning 如果浏览器不是IE， 则该值为undefined\r\n             * @example\r\n             * ```javascript\r\n             * if ( UE.browser.ie8 ) {\r\n             *     console.log( '当前浏览器是IE8浏览器' );\r\n             * }\r\n             * ```\r\n             */\r\n            browser.ie8 = !!document.documentMode;\r\n\r\n            /**\r\n             * @property { boolean } ie8Compat 检测浏览器模式是否为 IE8 兼容模式\r\n             * @warning 如果浏览器不是IE， 则该值为undefined\r\n             * @example\r\n             * ```javascript\r\n             * if ( UE.browser.ie8Compat ) {\r\n             *     console.log( '当前浏览器运行在IE8兼容模式下' );\r\n             * }\r\n             * ```\r\n             */\r\n            browser.ie8Compat = document.documentMode == 8;\r\n\r\n            /**\r\n             * @property { boolean } ie7Compat 检测浏览器模式是否为 IE7 兼容模式\r\n             * @warning 如果浏览器不是IE， 则该值为undefined\r\n             * @example\r\n             * ```javascript\r\n             * if ( UE.browser.ie7Compat ) {\r\n             *     console.log( '当前浏览器运行在IE7兼容模式下' );\r\n             * }\r\n             * ```\r\n             */\r\n            browser.ie7Compat = ((version == 7 && !document.documentMode) ||\r\n                document.documentMode == 7);\r\n\r\n            /**\r\n             * @property { boolean } ie6Compat 检测浏览器模式是否为 IE6 模式 或者怪异模式\r\n             * @warning 如果浏览器不是IE， 则该值为undefined\r\n             * @example\r\n             * ```javascript\r\n             * if ( UE.browser.ie6Compat ) {\r\n             *     console.log( '当前浏览器运行在IE6模式或者怪异模式下' );\r\n             * }\r\n             * ```\r\n             */\r\n            browser.ie6Compat = (version < 7 || browser.quirks);\r\n\r\n            browser.ie9above = version > 8;\r\n\r\n            browser.ie9below = version < 9;\r\n\r\n            browser.ie11above = version > 10;\r\n\r\n            browser.ie11below = version < 11;\r\n\r\n        }\r\n\r\n        // Gecko.\r\n        if (browser.gecko) {\r\n            var geckoRelease = agent.match(/rv:([\\d\\.]+)/);\r\n            if (geckoRelease) {\r\n                geckoRelease = geckoRelease[1].split('.');\r\n                version = geckoRelease[0] * 10000 + (geckoRelease[1] || 0) * 100 + (geckoRelease[2] || 0) * 1;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @property { Number } chrome 检测当前浏览器是否为Chrome, 如果是，则返回Chrome的大版本号\r\n         * @warning 如果浏览器不是chrome， 则该值为undefined\r\n         * @example\r\n         * ```javascript\r\n         * if ( UE.browser.chrome ) {\r\n         *     console.log( '当前浏览器是Chrome' );\r\n         * }\r\n         * ```\r\n         */\r\n        if (/chrome\\/(\\d+\\.\\d)/i.test(agent)) {\r\n            browser.chrome = +RegExp['\\x241'];\r\n        }\r\n\r\n        /**\r\n         * @property { Number } safari 检测当前浏览器是否为Safari, 如果是，则返回Safari的大版本号\r\n         * @warning 如果浏览器不是safari， 则该值为undefined\r\n         * @example\r\n         * ```javascript\r\n         * if ( UE.browser.safari ) {\r\n         *     console.log( '当前浏览器是Safari' );\r\n         * }\r\n         * ```\r\n         */\r\n        if (/(\\d+\\.\\d)?(?:\\.\\d)?\\s+safari\\/?(\\d+\\.\\d+)?/i.test(agent) && !/chrome/i.test(agent)) {\r\n            browser.safari = +(RegExp['\\x241'] || RegExp['\\x242']);\r\n        }\r\n\r\n\r\n        // Opera 9.50+\r\n        if (browser.opera)\r\n            version = parseFloat(opera.version());\r\n\r\n        // WebKit 522+ (Safari 3+)\r\n        if (browser.webkit)\r\n            version = parseFloat(agent.match(/ applewebkit\\/(\\d+)/)[1]);\r\n\r\n        /**\r\n         * @property { Number } version 检测当前浏览器版本号\r\n         * @remind\r\n         * <ul>\r\n         *     <li>IE系列返回值为5,6,7,8,9,10等</li>\r\n         *     <li>gecko系列会返回10900，158900等</li>\r\n         *     <li>webkit系列会返回其build号 (如 522等)</li>\r\n         * </ul>\r\n         * @example\r\n         * ```javascript\r\n         * console.log( '当前浏览器版本号是： ' + UE.browser.version );\r\n         * ```\r\n         */\r\n        browser.version = version;\r\n\r\n        /**\r\n         * @property { boolean } isCompatible 检测当前浏览器是否能够与UEditor良好兼容\r\n         * @example\r\n         * ```javascript\r\n         * if ( UE.browser.isCompatible ) {\r\n         *     console.log( '浏览器与UEditor能够良好兼容' );\r\n         * }\r\n         * ```\r\n         */\r\n        browser.isCompatible = !browser.mobile && (\r\n            (browser.ie && version >= 6) ||\r\n            (browser.gecko && version >= 10801) ||\r\n            (browser.opera && version >= 9.5) ||\r\n            (browser.air && version >= 1) ||\r\n            (browser.webkit && version >= 522) ||\r\n            false);\r\n        return browser;\r\n    }();\r\n    //快捷方式\r\n    var ie = browser.ie,\r\n        webkit = browser.webkit,\r\n        gecko = browser.gecko,\r\n        opera = browser.opera;\r\n\r\n    // core/utils.js\r\n    /**\r\n     * 工具函数包\r\n     * @file\r\n     * @module UE.utils\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * UEditor封装使用的静态工具函数\r\n     * @module UE.utils\r\n     * @unfile\r\n     */\r\n\r\n    var utils = UE.utils = {\r\n\r\n        /**\r\n         * 用给定的迭代器遍历对象\r\n         * @method each\r\n         * @param { Object } obj 需要遍历的对象\r\n         * @param { Function } iterator 迭代器， 该方法接受两个参数， 第一个参数是当前所处理的value， 第二个参数是当前遍历对象的key\r\n         * @example\r\n         * ```javascript\r\n         * var demoObj = {\r\n         *     key1: 1,\r\n         *     key2: 2\r\n         * };\r\n         *\r\n         * //output: key1: 1, key2: 2\r\n         * UE.utils.each( demoObj, funciton ( value, key ) {\r\n         *\r\n         *     console.log( key + \":\" + value );\r\n         *\r\n         * } );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 用给定的迭代器遍历数组或类数组对象\r\n         * @method each\r\n         * @param { Array } array 需要遍历的数组或者类数组\r\n         * @param { Function } iterator 迭代器， 该方法接受两个参数， 第一个参数是当前所处理的value， 第二个参数是当前遍历对象的key\r\n         * @example\r\n         * ```javascript\r\n         * var divs = document.getElmentByTagNames( \"div\" );\r\n         *\r\n         * //output: 0: DIV, 1: DIV ...\r\n         * UE.utils.each( divs, funciton ( value, key ) {\r\n         *\r\n         *     console.log( key + \":\" + value.tagName );\r\n         *\r\n         * } );\r\n         * ```\r\n         */\r\n        each: function(obj, iterator, context) {\r\n            if (obj == null) return;\r\n            if (obj.length === +obj.length) {\r\n                for (var i = 0, l = obj.length; i < l; i++) {\r\n                    if (iterator.call(context, obj[i], i, obj) === false)\r\n                        return false;\r\n                }\r\n            } else {\r\n                for (var key in obj) {\r\n                    if (obj.hasOwnProperty(key)) {\r\n                        if (iterator.call(context, obj[key], key, obj) === false)\r\n                            return false;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * 以给定对象作为原型创建一个新对象\r\n         * @method makeInstance\r\n         * @param { Object } protoObject 该对象将作为新创建对象的原型\r\n         * @return { Object } 新的对象， 该对象的原型是给定的protoObject对象\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var protoObject = { sayHello: function () { console.log('Hello UEditor!'); } };\r\n         *\r\n         * var newObject = UE.utils.makeInstance( protoObject );\r\n         * //output: Hello UEditor!\r\n         * newObject.sayHello();\r\n         * ```\r\n         */\r\n        makeInstance: function(obj) {\r\n            var noop = new Function();\r\n            noop.prototype = obj;\r\n            obj = new noop;\r\n            noop.prototype = null;\r\n            return obj;\r\n        },\r\n\r\n        /**\r\n         * 将source对象中的属性扩展到target对象上\r\n         * @method extend\r\n         * @remind 该方法将强制把source对象上的属性复制到target对象上\r\n         * @see UE.utils.extend(Object,Object,Boolean)\r\n         * @param { Object } target 目标对象， 新的属性将附加到该对象上\r\n         * @param { Object } source 源对象， 该对象的属性会被附加到target对象上\r\n         * @return { Object } 返回target对象\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var target = { name: 'target', sex: 1 },\r\n         *      source = { name: 'source', age: 17 };\r\n         *\r\n         * UE.utils.extend( target, source );\r\n         *\r\n         * //output: { name: 'source', sex: 1, age: 17 }\r\n         * console.log( target );\r\n         *\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 将source对象中的属性扩展到target对象上， 根据指定的isKeepTarget值决定是否保留目标对象中与\r\n         * 源对象属性名相同的属性值。\r\n         * @method extend\r\n         * @param { Object } target 目标对象， 新的属性将附加到该对象上\r\n         * @param { Object } source 源对象， 该对象的属性会被附加到target对象上\r\n         * @param { Boolean } isKeepTarget 是否保留目标对象中与源对象中属性名相同的属性\r\n         * @return { Object } 返回target对象\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var target = { name: 'target', sex: 1 },\r\n         *      source = { name: 'source', age: 17 };\r\n         *\r\n         * UE.utils.extend( target, source, true );\r\n         *\r\n         * //output: { name: 'target', sex: 1, age: 17 }\r\n         * console.log( target );\r\n         *\r\n         * ```\r\n         */\r\n        extend: function(t, s, b) {\r\n            if (s) {\r\n                for (var k in s) {\r\n                    if (!b || !t.hasOwnProperty(k)) {\r\n                        t[k] = s[k];\r\n                    }\r\n                }\r\n            }\r\n            return t;\r\n        },\r\n\r\n        /**\r\n         * 将给定的多个对象的属性复制到目标对象target上\r\n         * @method extend2\r\n         * @remind 该方法将强制把源对象上的属性复制到target对象上\r\n         * @remind 该方法支持两个及以上的参数， 从第二个参数开始， 其属性都会被复制到第一个参数上。 如果遇到同名的属性，\r\n         *          将会覆盖掉之前的值。\r\n         * @param { Object } target 目标对象， 新的属性将附加到该对象上\r\n         * @param { Object... } source 源对象， 支持多个对象， 该对象的属性会被附加到target对象上\r\n         * @return { Object } 返回target对象\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var target = {},\r\n         *     source1 = { name: 'source', age: 17 },\r\n         *     source2 = { title: 'dev' };\r\n         *\r\n         * UE.utils.extend2( target, source1, source2 );\r\n         *\r\n         * //output: { name: 'source', age: 17, title: 'dev' }\r\n         * console.log( target );\r\n         *\r\n         * ```\r\n         */\r\n        extend2: function(t) {\r\n            var a = arguments;\r\n            for (var i = 1; i < a.length; i++) {\r\n                var x = a[i];\r\n                for (var k in x) {\r\n                    if (!t.hasOwnProperty(k)) {\r\n                        t[k] = x[k];\r\n                    }\r\n                }\r\n            }\r\n            return t;\r\n        },\r\n\r\n        /**\r\n         * 模拟继承机制， 使得subClass继承自superClass\r\n         * @method inherits\r\n         * @param { Object } subClass 子类对象\r\n         * @param { Object } superClass 超类对象\r\n         * @warning 该方法只能让subClass继承超类的原型， subClass对象自身的属性和方法不会被继承\r\n         * @return { Object } 继承superClass后的子类对象\r\n         * @example\r\n         * ```javascript\r\n         * function SuperClass(){\r\n         *     this.name = \"小李\";\r\n         * }\r\n         *\r\n         * SuperClass.prototype = {\r\n         *     hello:function(str){\r\n         *         console.log(this.name + str);\r\n         *     }\r\n         * }\r\n         *\r\n         * function SubClass(){\r\n         *     this.name = \"小张\";\r\n         * }\r\n         *\r\n         * UE.utils.inherits(SubClass,SuperClass);\r\n         *\r\n         * var sub = new SubClass();\r\n         * //output: '小张早上好!\r\n         * sub.hello(\"早上好!\");\r\n         * ```\r\n         */\r\n        inherits: function(subClass, superClass) {\r\n            var oldP = subClass.prototype,\r\n                newP = utils.makeInstance(superClass.prototype);\r\n            utils.extend(newP, oldP, true);\r\n            subClass.prototype = newP;\r\n            return (newP.constructor = subClass);\r\n        },\r\n\r\n        /**\r\n         * 用指定的context对象作为函数fn的上下文\r\n         * @method bind\r\n         * @param { Function } fn 需要绑定上下文的函数对象\r\n         * @param { Object } content 函数fn新的上下文对象\r\n         * @return { Function } 一个新的函数， 该函数作为原始函数fn的代理， 将完成fn的上下文调换工作。\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var name = 'window',\r\n         *     newTest = null;\r\n         *\r\n         * function test () {\r\n         *     console.log( this.name );\r\n         * }\r\n         *\r\n         * newTest = UE.utils.bind( test, { name: 'object' } );\r\n         *\r\n         * //output: object\r\n         * newTest();\r\n         *\r\n         * //output: window\r\n         * test();\r\n         *\r\n         * ```\r\n         */\r\n        bind: function(fn, context) {\r\n            return function() {\r\n                return fn.apply(context, arguments);\r\n            };\r\n        },\r\n\r\n        /**\r\n         * 创建延迟指定时间后执行的函数fn\r\n         * @method defer\r\n         * @param { Function } fn 需要延迟执行的函数对象\r\n         * @param { int } delay 延迟的时间， 单位是毫秒\r\n         * @warning 该方法的时间控制是不精确的，仅仅只能保证函数的执行是在给定的时间之后，\r\n         *           而不能保证刚好到达延迟时间时执行。\r\n         * @return { Function } 目标函数fn的代理函数， 只有执行该函数才能起到延时效果\r\n         * @example\r\n         * ```javascript\r\n         * var start = 0;\r\n         *\r\n         * function test(){\r\n         *     console.log( new Date() - start );\r\n         * }\r\n         *\r\n         * var testDefer = UE.utils.defer( test, 1000 );\r\n         * //\r\n         * start = new Date();\r\n         * //output: (大约在1000毫秒之后输出) 1000\r\n         * testDefer();\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 创建延迟指定时间后执行的函数fn, 如果在延迟时间内再次执行该方法， 将会根据指定的exclusion的值，\r\n         * 决定是否取消前一次函数的执行， 如果exclusion的值为true， 则取消执行，反之，将继续执行前一个方法。\r\n         * @method defer\r\n         * @param { Function } fn 需要延迟执行的函数对象\r\n         * @param { int } delay 延迟的时间， 单位是毫秒\r\n         * @param { Boolean } exclusion 如果在延迟时间内再次执行该函数，该值将决定是否取消执行前一次函数的执行，\r\n         *                     值为true表示取消执行， 反之则将在执行前一次函数之后才执行本次函数调用。\r\n         * @warning 该方法的时间控制是不精确的，仅仅只能保证函数的执行是在给定的时间之后，\r\n         *           而不能保证刚好到达延迟时间时执行。\r\n         * @return { Function } 目标函数fn的代理函数， 只有执行该函数才能起到延时效果\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * function test(){\r\n         *     console.log(1);\r\n         * }\r\n         *\r\n         * var testDefer = UE.utils.defer( test, 1000, true );\r\n         *\r\n         * //output: (两次调用仅有一次输出) 1\r\n         * testDefer();\r\n         * testDefer();\r\n         * ```\r\n         */\r\n        defer: function(fn, delay, exclusion) {\r\n            var timerID;\r\n            return function() {\r\n                if (exclusion) {\r\n                    clearTimeout(timerID);\r\n                }\r\n                timerID = setTimeout(fn, delay);\r\n            };\r\n        },\r\n\r\n        /**\r\n         * 获取元素item在数组array中首次出现的位置, 如果未找到item， 则返回-1\r\n         * @method indexOf\r\n         * @remind 该方法的匹配过程使用的是恒等“===”\r\n         * @param { Array } array 需要查找的数组对象\r\n         * @param { * } item 需要在目标数组中查找的值\r\n         * @return { int } 返回item在目标数组array中首次出现的位置， 如果在数组中未找到item， 则返回-1\r\n         * @example\r\n         * ```javascript\r\n         * var item = 1,\r\n         *     arr = [ 3, 4, 6, 8, 1, 1, 2 ];\r\n         *\r\n         * //output: 4\r\n         * console.log( UE.utils.indexOf( arr, item ) );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 获取元素item数组array中首次出现的位置, 如果未找到item， 则返回-1。通过start的值可以指定搜索的起始位置。\r\n         * @method indexOf\r\n         * @remind 该方法的匹配过程使用的是恒等“===”\r\n         * @param { Array } array 需要查找的数组对象\r\n         * @param { * } item 需要在目标数组中查找的值\r\n         * @param { int } start 搜索的起始位置\r\n         * @return { int } 返回item在目标数组array中的start位置之后首次出现的位置， 如果在数组中未找到item， 则返回-1\r\n         * @example\r\n         * ```javascript\r\n         * var item = 1,\r\n         *     arr = [ 3, 4, 6, 8, 1, 2, 8, 3, 2, 1, 1, 4 ];\r\n         *\r\n         * //output: 9\r\n         * console.log( UE.utils.indexOf( arr, item, 5 ) );\r\n         * ```\r\n         */\r\n        indexOf: function(array, item, start) {\r\n            var index = -1;\r\n            start = this.isNumber(start) ? start : 0;\r\n            this.each(array, function(v, i) {\r\n                if (i >= start && v === item) {\r\n                    index = i;\r\n                    return false;\r\n                }\r\n            });\r\n            return index;\r\n        },\r\n\r\n        /**\r\n         * 移除数组array中所有的元素item\r\n         * @method removeItem\r\n         * @param { Array } array 要移除元素的目标数组\r\n         * @param { * } item 将要被移除的元素\r\n         * @remind 该方法的匹配过程使用的是恒等“===”\r\n         * @example\r\n         * ```javascript\r\n         * var arr = [ 4, 5, 7, 1, 3, 4, 6 ];\r\n         *\r\n         * UE.utils.removeItem( arr, 4 );\r\n         * //output: [ 5, 7, 1, 3, 6 ]\r\n         * console.log( arr );\r\n         *\r\n         * ```\r\n         */\r\n        removeItem: function(array, item) {\r\n            for (var i = 0, l = array.length; i < l; i++) {\r\n                if (array[i] === item) {\r\n                    array.splice(i, 1);\r\n                    i--;\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * 删除字符串str的首尾空格\r\n         * @method trim\r\n         * @param { String } str 需要删除首尾空格的字符串\r\n         * @return { String } 删除了首尾的空格后的字符串\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var str = \" UEdtior \";\r\n         *\r\n         * //output: 9\r\n         * console.log( str.length );\r\n         *\r\n         * //output: 7\r\n         * console.log( UE.utils.trim( \" UEdtior \" ).length );\r\n         *\r\n         * //output: 9\r\n         * console.log( str.length );\r\n         *\r\n         *  ```\r\n         */\r\n        trim: function(str) {\r\n            return str.replace(/(^[ \\t\\n\\r]+)|([ \\t\\n\\r]+$)/g, '');\r\n        },\r\n\r\n        /**\r\n         * 将字符串str以','分隔成数组后，将该数组转换成哈希对象， 其生成的hash对象的key为数组中的元素， value为1\r\n         * @method listToMap\r\n         * @warning 该方法在生成的hash对象中，会为每一个key同时生成一个另一个全大写的key。\r\n         * @param { String } str 该字符串将被以','分割为数组， 然后进行转化\r\n         * @return { Object } 转化之后的hash对象\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * //output: Object {UEdtior: 1, UEDTIOR: 1, Hello: 1, HELLO: 1}\r\n         * console.log( UE.utils.listToMap( 'UEdtior,Hello' ) );\r\n         *\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 将字符串数组转换成哈希对象， 其生成的hash对象的key为数组中的元素， value为1\r\n         * @method listToMap\r\n         * @warning 该方法在生成的hash对象中，会为每一个key同时生成一个另一个全大写的key。\r\n         * @param { Array } arr 字符串数组\r\n         * @return { Object } 转化之后的hash对象\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * //output: Object {UEdtior: 1, UEDTIOR: 1, Hello: 1, HELLO: 1}\r\n         * console.log( UE.utils.listToMap( [ 'UEdtior', 'Hello' ] ) );\r\n         *\r\n         * ```\r\n         */\r\n        listToMap: function(list) {\r\n            if (!list) return {};\r\n            list = utils.isArray(list) ? list : list.split(',');\r\n            for (var i = 0, ci, obj = {}; ci = list[i++];) {\r\n                obj[ci.toUpperCase()] = obj[ci] = 1;\r\n            }\r\n            return obj;\r\n        },\r\n\r\n        /**\r\n         * 将str中的html符号转义,将转义“'，&，<，\"，>”五个字符\r\n         * @method unhtml\r\n         * @param { String } str 需要转义的字符串\r\n         * @return { String } 转义后的字符串\r\n         * @example\r\n         * ```javascript\r\n         * var html = '<body>&</body>';\r\n         *\r\n         * //output: &lt;body&gt;&amp;&lt;/body&gt;\r\n         * console.log( UE.utils.unhtml( html ) );\r\n         *\r\n         * ```\r\n         */\r\n        unhtml: function(str, reg) {\r\n            return str ? str.replace(reg || /[&<\">'](?:(amp|lt|quot|gt|#39|nbsp|#\\d+);)?/g, function(a, b) {\r\n                if (b) {\r\n                    return a;\r\n                } else {\r\n                    return {\r\n                        '<': '&lt;',\r\n                        '&': '&amp;',\r\n                        '\"': '&quot;',\r\n                        '>': '&gt;',\r\n                        \"'\": '&#39;'\r\n                    }[a]\r\n                }\r\n\r\n            }) : '';\r\n        },\r\n        /**\r\n         * 将url中的html字符转义， 仅转义  ', \", <, > 四个字符\r\n         * @param  { String } str 需要转义的字符串\r\n         * @param  { RegExp } reg 自定义的正则\r\n         * @return { String }     转义后的字符串\r\n         */\r\n        unhtmlForUrl: function(str, reg) {\r\n            return str ? str.replace(reg || /[<\">']/g, function(a) {\r\n                return {\r\n                    '<': '&lt;',\r\n                    '&': '&amp;',\r\n                    '\"': '&quot;',\r\n                    '>': '&gt;',\r\n                    \"'\": '&#39;'\r\n                }[a]\r\n\r\n            }) : '';\r\n        },\r\n\r\n        /**\r\n         * 将str中的转义字符还原成html字符\r\n         * @see UE.utils.unhtml(String);\r\n         * @method html\r\n         * @param { String } str 需要逆转义的字符串\r\n         * @return { String } 逆转义后的字符串\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var str = '&lt;body&gt;&amp;&lt;/body&gt;';\r\n         *\r\n         * //output: <body>&</body>\r\n         * console.log( UE.utils.html( str ) );\r\n         *\r\n         * ```\r\n         */\r\n        html: function(str) {\r\n            return str ? str.replace(/&((g|l|quo)t|amp|#39|nbsp);/g, function(m) {\r\n                return {\r\n                    '&lt;': '<',\r\n                    '&amp;': '&',\r\n                    '&quot;': '\"',\r\n                    '&gt;': '>',\r\n                    '&#39;': \"'\",\r\n                    '&nbsp;': ' '\r\n                }[m]\r\n            }) : '';\r\n        },\r\n\r\n        /**\r\n         * 将css样式转换为驼峰的形式\r\n         * @method cssStyleToDomStyle\r\n         * @param { String } cssName 需要转换的css样式名\r\n         * @return { String } 转换成驼峰形式后的css样式名\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var str = 'border-top';\r\n         *\r\n         * //output: borderTop\r\n         * console.log( UE.utils.cssStyleToDomStyle( str ) );\r\n         *\r\n         * ```\r\n         */\r\n        cssStyleToDomStyle: function() {\r\n            var test = document.createElement('div').style,\r\n                cache = {\r\n                    'float': test.cssFloat != undefined ? 'cssFloat' : test.styleFloat != undefined ? 'styleFloat' : 'float'\r\n                };\r\n\r\n            return function(cssName) {\r\n                return cache[cssName] || (cache[cssName] = cssName.toLowerCase().replace(/-./g, function(match) {\r\n                    return match.charAt(1).toUpperCase();\r\n                }));\r\n            };\r\n        }(),\r\n\r\n        /**\r\n         * 动态加载文件到doc中\r\n         * @method loadFile\r\n         * @param { DomDocument } document 需要加载资源文件的文档对象\r\n         * @param { Object } options 加载资源文件的属性集合， 取值请参考代码示例\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * UE.utils.loadFile( document, {\r\n         *     src:\"test.js\",\r\n         *     tag:\"script\",\r\n         *     type:\"text/javascript\",\r\n         *     defer:\"defer\"\r\n         * } );\r\n         *\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 动态加载文件到doc中，加载成功后执行的回调函数fn\r\n         * @method loadFile\r\n         * @param { DomDocument } document 需要加载资源文件的文档对象\r\n         * @param { Object } options 加载资源文件的属性集合， 该集合支持的值是script标签和style标签支持的所有属性。\r\n         * @param { Function } fn 资源文件加载成功之后执行的回调\r\n         * @warning 对于在同一个文档中多次加载同一URL的文件， 该方法会在第一次加载之后缓存该请求，\r\n         *           在此之后的所有同一URL的请求， 将会直接触发回调。\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * UE.utils.loadFile( document, {\r\n         *     src:\"test.js\",\r\n         *     tag:\"script\",\r\n         *     type:\"text/javascript\",\r\n         *     defer:\"defer\"\r\n         * }, function () {\r\n         *     console.log('加载成功');\r\n         * } );\r\n         *\r\n         * ```\r\n         */\r\n        loadFile: function() {\r\n            var tmpList = [];\r\n\r\n            function getItem(doc, obj) {\r\n                try {\r\n                    for (var i = 0, ci; ci = tmpList[i++];) {\r\n                        if (ci.doc === doc && ci.url == (obj.src || obj.href)) {\r\n                            return ci;\r\n                        }\r\n                    }\r\n                } catch (e) {\r\n                    return null;\r\n                }\r\n\r\n            }\r\n\r\n            return function(doc, obj, fn) {\r\n                var item = getItem(doc, obj);\r\n                if (item) {\r\n                    if (item.ready) {\r\n                        fn && fn();\r\n                    } else {\r\n                        item.funs.push(fn)\r\n                    }\r\n                    return;\r\n                }\r\n                tmpList.push({\r\n                    doc: doc,\r\n                    url: obj.src || obj.href,\r\n                    funs: [fn]\r\n                });\r\n                if (!doc.body) {\r\n                    var html = [];\r\n                    for (var p in obj) {\r\n                        if (p == 'tag') continue;\r\n                        html.push(p + '=\"' + obj[p] + '\"')\r\n                    }\r\n                    doc.write('<' + obj.tag + ' ' + html.join(' ') + ' ></' + obj.tag + '>');\r\n                    return;\r\n                }\r\n                if (obj.id && doc.getElementById(obj.id)) {\r\n                    return;\r\n                }\r\n                var element = doc.createElement(obj.tag);\r\n                delete obj.tag;\r\n                for (var p in obj) {\r\n                    element.setAttribute(p, obj[p]);\r\n                }\r\n                element.onload = element.onreadystatechange = function() {\r\n                    if (!this.readyState || /loaded|complete/.test(this.readyState)) {\r\n                        item = getItem(doc, obj);\r\n                        if (item.funs.length > 0) {\r\n                            item.ready = 1;\r\n                            for (var fi; fi = item.funs.pop();) {\r\n                                fi();\r\n                            }\r\n                        }\r\n                        element.onload = element.onreadystatechange = null;\r\n                    }\r\n                };\r\n                element.onerror = function() {\r\n                    throw Error('The load ' + (obj.href || obj.src) + ' fails,check the url settings of file ueditor.config.js ')\r\n                };\r\n                doc.getElementsByTagName(\"head\")[0].appendChild(element);\r\n            }\r\n        }(),\r\n\r\n        /**\r\n         * 判断obj对象是否为空\r\n         * @method isEmptyObject\r\n         * @param { * } obj 需要判断的对象\r\n         * @remind 如果判断的对象是NULL， 将直接返回true， 如果是数组且为空， 返回true， 如果是字符串， 且字符串为空，\r\n         *          返回true， 如果是普通对象， 且该对象没有任何实例属性， 返回true\r\n         * @return { Boolean } 对象是否为空\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * //output: true\r\n         * console.log( UE.utils.isEmptyObject( {} ) );\r\n         *\r\n         * //output: true\r\n         * console.log( UE.utils.isEmptyObject( [] ) );\r\n         *\r\n         * //output: true\r\n         * console.log( UE.utils.isEmptyObject( \"\" ) );\r\n         *\r\n         * //output: false\r\n         * console.log( UE.utils.isEmptyObject( { key: 1 } ) );\r\n         *\r\n         * //output: false\r\n         * console.log( UE.utils.isEmptyObject( [1] ) );\r\n         *\r\n         * //output: false\r\n         * console.log( UE.utils.isEmptyObject( \"1\" ) );\r\n         *\r\n         * ```\r\n         */\r\n        isEmptyObject: function(obj) {\r\n            if (obj == null) return true;\r\n            if (this.isArray(obj) || this.isString(obj)) return obj.length === 0;\r\n            for (var key in obj)\r\n                if (obj.hasOwnProperty(key)) return false;\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * 把rgb格式的颜色值转换成16进制格式\r\n         * @method fixColor\r\n         * @param { String } rgb格式的颜色值\r\n         * @param { String }\r\n         * @example\r\n         * rgb(255,255,255)  => \"#ffffff\"\r\n         */\r\n        fixColor: function(name, value) {\r\n            if (/color/i.test(name) && /rgba?/.test(value)) {\r\n                var array = value.split(\",\");\r\n                if (array.length > 3)\r\n                    return \"\";\r\n                value = \"#\";\r\n                for (var i = 0, color; color = array[i++];) {\r\n                    color = parseInt(color.replace(/[^\\d]/gi, ''), 10).toString(16);\r\n                    value += color.length == 1 ? \"0\" + color : color;\r\n                }\r\n                value = value.toUpperCase();\r\n            }\r\n            return value;\r\n        },\r\n        /**\r\n         * 只针对border,padding,margin做了处理，因为性能问题\r\n         * @public\r\n         * @function\r\n         * @param {String}    val style字符串\r\n         */\r\n        optCss: function(val) {\r\n            var padding, margin, border;\r\n            val = val.replace(/(padding|margin|border)\\-([^:]+):([^;]+);?/gi, function(str, key, name, val) {\r\n                if (val.split(' ').length == 1) {\r\n                    switch (key) {\r\n                        case 'padding':\r\n                            !padding && (padding = {});\r\n                            padding[name] = val;\r\n                            return '';\r\n                        case 'margin':\r\n                            !margin && (margin = {});\r\n                            margin[name] = val;\r\n                            return '';\r\n                        case 'border':\r\n                            return val == 'initial' ? '' : str;\r\n                    }\r\n                }\r\n                return str;\r\n            });\r\n\r\n            function opt(obj, name) {\r\n                if (!obj) {\r\n                    return '';\r\n                }\r\n                var t = obj.top,\r\n                    b = obj.bottom,\r\n                    l = obj.left,\r\n                    r = obj.right,\r\n                    val = '';\r\n                if (!t || !l || !b || !r) {\r\n                    for (var p in obj) {\r\n                        val += ';' + name + '-' + p + ':' + obj[p] + ';';\r\n                    }\r\n                } else {\r\n                    val += ';' + name + ':' +\r\n                        (t == b && b == l && l == r ? t :\r\n                            t == b && l == r ? (t + ' ' + l) :\r\n                            l == r ? (t + ' ' + l + ' ' + b) : (t + ' ' + r + ' ' + b + ' ' + l)) + ';'\r\n                }\r\n                return val;\r\n            }\r\n\r\n            val += opt(padding, 'padding') + opt(margin, 'margin');\r\n            return val.replace(/^[ \\n\\r\\t;]*|[ \\n\\r\\t]*$/, '').replace(/;([ \\n\\r\\t]+)|\\1;/g, ';')\r\n                .replace(/(&((l|g)t|quot|#39))?;{2,}/g, function(a, b) {\r\n                    return b ? b + \";;\" : ';'\r\n                });\r\n        },\r\n\r\n        /**\r\n         * 克隆对象\r\n         * @method clone\r\n         * @param { Object } source 源对象\r\n         * @return { Object } source的一个副本\r\n         */\r\n\r\n        /**\r\n         * 深度克隆对象，将source的属性克隆到target对象， 会覆盖target重名的属性。\r\n         * @method clone\r\n         * @param { Object } source 源对象\r\n         * @param { Object } target 目标对象\r\n         * @return { Object } 附加了source对象所有属性的target对象\r\n         */\r\n        clone: function(source, target) {\r\n            var tmp;\r\n            target = target || {};\r\n            for (var i in source) {\r\n                if (source.hasOwnProperty(i)) {\r\n                    tmp = source[i];\r\n                    if (typeof tmp == 'object') {\r\n                        target[i] = utils.isArray(tmp) ? [] : {};\r\n                        utils.clone(source[i], target[i])\r\n                    } else {\r\n                        target[i] = tmp;\r\n                    }\r\n                }\r\n            }\r\n            return target;\r\n        },\r\n\r\n        /**\r\n         * 把cm／pt为单位的值转换为px为单位的值\r\n         * @method transUnitToPx\r\n         * @param { String } 待转换的带单位的字符串\r\n         * @return { String } 转换为px为计量单位的值的字符串\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * //output: 500px\r\n         * console.log( UE.utils.transUnitToPx( '20cm' ) );\r\n         *\r\n         * //output: 27px\r\n         * console.log( UE.utils.transUnitToPx( '20pt' ) );\r\n         *\r\n         * ```\r\n         */\r\n        transUnitToPx: function(val) {\r\n            if (!/(pt|cm)/.test(val)) {\r\n                return val\r\n            }\r\n            var unit;\r\n            val.replace(/([\\d.]+)(\\w+)/, function(str, v, u) {\r\n                val = v;\r\n                unit = u;\r\n            });\r\n            switch (unit) {\r\n                case 'cm':\r\n                    val = parseFloat(val) * 25;\r\n                    break;\r\n                case 'pt':\r\n                    val = Math.round(parseFloat(val) * 96 / 72);\r\n            }\r\n            return val + (val ? 'px' : '');\r\n        },\r\n\r\n        /**\r\n         * 在dom树ready之后执行给定的回调函数\r\n         * @method domReady\r\n         * @remind 如果在执行该方法的时候， dom树已经ready， 那么回调函数将立刻执行\r\n         * @param { Function } fn dom树ready之后的回调函数\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * UE.utils.domReady( function () {\r\n         *\r\n         *     console.log('123');\r\n         *\r\n         * } );\r\n         *\r\n         * ```\r\n         */\r\n        domReady: function() {\r\n\r\n            var fnArr = [];\r\n\r\n            function doReady(doc) {\r\n                //确保onready只执行一次\r\n                doc.isReady = true;\r\n                for (var ci; ci = fnArr.pop(); ci()) {}\r\n            }\r\n\r\n            return function(onready, win) {\r\n                win = win || window;\r\n                var doc = win.document;\r\n                onready && fnArr.push(onready);\r\n                if (doc.readyState === \"complete\") {\r\n                    doReady(doc);\r\n                } else {\r\n                    doc.isReady && doReady(doc);\r\n                    if (browser.ie && browser.version != 11) {\r\n                        (function() {\r\n                            if (doc.isReady) return;\r\n                            try {\r\n                                doc.documentElement.doScroll(\"left\");\r\n                            } catch (error) {\r\n                                setTimeout(arguments.callee, 0);\r\n                                return;\r\n                            }\r\n                            doReady(doc);\r\n                        })();\r\n                        win.attachEvent('onload', function() {\r\n                            doReady(doc)\r\n                        });\r\n                    } else {\r\n                        doc.addEventListener(\"DOMContentLoaded\", function() {\r\n                            doc.removeEventListener(\"DOMContentLoaded\", arguments.callee, false);\r\n                            doReady(doc);\r\n                        }, false);\r\n                        win.addEventListener('load', function() {\r\n                            doReady(doc)\r\n                        }, false);\r\n                    }\r\n                }\r\n\r\n            }\r\n        }(),\r\n\r\n        /**\r\n         * 动态添加css样式\r\n         * @method cssRule\r\n         * @param { String } 节点名称\r\n         * @grammar UE.utils.cssRule('添加的样式的节点名称',['样式'，'放到哪个document上'])\r\n         * @grammar UE.utils.cssRule('body','body{background:#ccc}') => null  //给body添加背景颜色\r\n         * @grammar UE.utils.cssRule('body') =>样式的字符串  //取得key值为body的样式的内容,如果没有找到key值先关的样式将返回空，例如刚才那个背景颜色，将返回 body{background:#ccc}\r\n         * @grammar UE.utils.cssRule('body',document) => 返回指定key的样式，并且指定是哪个document\r\n         * @grammar UE.utils.cssRule('body','') =>null //清空给定的key值的背景颜色\r\n         */\r\n        cssRule: browser.ie && browser.version != 11 ? function(key, style, doc) {\r\n            var indexList, index;\r\n            if (style === undefined || style && style.nodeType && style.nodeType == 9) {\r\n                //获取样式\r\n                doc = style && style.nodeType && style.nodeType == 9 ? style : (doc || document);\r\n                indexList = doc.indexList || (doc.indexList = {});\r\n                index = indexList[key];\r\n                if (index !== undefined) {\r\n                    return doc.styleSheets[index].cssText\r\n                }\r\n                return undefined;\r\n            }\r\n            doc = doc || document;\r\n            indexList = doc.indexList || (doc.indexList = {});\r\n            index = indexList[key];\r\n            //清除样式\r\n            if (style === '') {\r\n                if (index !== undefined) {\r\n                    doc.styleSheets[index].cssText = '';\r\n                    delete indexList[key];\r\n                    return true\r\n                }\r\n                return false;\r\n            }\r\n\r\n            //添加样式\r\n            if (index !== undefined) {\r\n                sheetStyle = doc.styleSheets[index];\r\n            } else {\r\n                sheetStyle = doc.createStyleSheet('', index = doc.styleSheets.length);\r\n                indexList[key] = index;\r\n            }\r\n            sheetStyle.cssText = style;\r\n        } : function(key, style, doc) {\r\n            var head, node;\r\n            if (style === undefined || style && style.nodeType && style.nodeType == 9) {\r\n                //获取样式\r\n                doc = style && style.nodeType && style.nodeType == 9 ? style : (doc || document);\r\n                node = doc.getElementById(key);\r\n                return node ? node.innerHTML : undefined;\r\n            }\r\n            doc = doc || document;\r\n            node = doc.getElementById(key);\r\n\r\n            //清除样式\r\n            if (style === '') {\r\n                if (node) {\r\n                    node.parentNode.removeChild(node);\r\n                    return true\r\n                }\r\n                return false;\r\n            }\r\n\r\n            //添加样式\r\n            if (node) {\r\n                node.innerHTML = style;\r\n            } else {\r\n                node = doc.createElement('style');\r\n                node.id = key;\r\n                node.innerHTML = style;\r\n                doc.getElementsByTagName('head')[0].appendChild(node);\r\n            }\r\n        },\r\n        sort: function(array, compareFn) {\r\n            compareFn = compareFn || function(item1, item2) { return item1.localeCompare(item2); };\r\n            for (var i = 0, len = array.length; i < len; i++) {\r\n                for (var j = i, length = array.length; j < length; j++) {\r\n                    if (compareFn(array[i], array[j]) > 0) {\r\n                        var t = array[i];\r\n                        array[i] = array[j];\r\n                        array[j] = t;\r\n                    }\r\n                }\r\n            }\r\n            return array;\r\n        },\r\n        serializeParam: function(json) {\r\n            var strArr = [];\r\n            for (var i in json) {\r\n                //忽略默认的几个参数\r\n                if (i == \"method\" || i == \"timeout\" || i == \"async\") continue;\r\n                //传递过来的对象和函数不在提交之列\r\n                if (!((typeof json[i]).toLowerCase() == \"function\" || (typeof json[i]).toLowerCase() == \"object\")) {\r\n                    strArr.push(encodeURIComponent(i) + \"=\" + encodeURIComponent(json[i]));\r\n                } else if (utils.isArray(json[i])) {\r\n                    //支持传数组内容\r\n                    for (var j = 0; j < json[i].length; j++) {\r\n                        strArr.push(encodeURIComponent(i) + \"[]=\" + encodeURIComponent(json[i][j]));\r\n                    }\r\n                }\r\n            }\r\n            return strArr.join(\"&\");\r\n        },\r\n        formatUrl: function(url) {\r\n            var u = url.replace(/&&/g, '&');\r\n            u = u.replace(/\\?&/g, '?');\r\n            u = u.replace(/&$/g, '');\r\n            u = u.replace(/&#/g, '#');\r\n            u = u.replace(/&+/g, '&');\r\n            return u;\r\n        },\r\n        isCrossDomainUrl: function(url) {\r\n            var a = document.createElement('a');\r\n            a.href = url;\r\n            if (browser.ie) {\r\n                a.href = a.href;\r\n            }\r\n            return !(a.protocol == location.protocol && a.hostname == location.hostname &&\r\n                (a.port == location.port || (a.port == '80' && location.port == '') || (a.port == '' && location.port == '80')));\r\n        },\r\n        clearEmptyAttrs: function(obj) {\r\n            for (var p in obj) {\r\n                if (obj[p] === '') {\r\n                    delete obj[p]\r\n                }\r\n            }\r\n            return obj;\r\n        },\r\n        str2json: function(s) {\r\n\r\n            if (!utils.isString(s)) return null;\r\n            if (window.JSON) {\r\n                return JSON.parse(s);\r\n            } else {\r\n                return (new Function(\"return \" + utils.trim(s || '')))();\r\n            }\r\n\r\n        },\r\n        json2str: (function() {\r\n\r\n            if (window.JSON) {\r\n\r\n                return JSON.stringify;\r\n\r\n            } else {\r\n\r\n                var escapeMap = {\r\n                    \"\\b\": '\\\\b',\r\n                    \"\\t\": '\\\\t',\r\n                    \"\\n\": '\\\\n',\r\n                    \"\\f\": '\\\\f',\r\n                    \"\\r\": '\\\\r',\r\n                    '\"': '\\\\\"',\r\n                    \"\\\\\": '\\\\\\\\'\r\n                };\r\n\r\n                function encodeString(source) {\r\n                    if (/[\"\\\\\\x00-\\x1f]/.test(source)) {\r\n                        source = source.replace(\r\n                            /[\"\\\\\\x00-\\x1f]/g,\r\n                            function(match) {\r\n                                var c = escapeMap[match];\r\n                                if (c) {\r\n                                    return c;\r\n                                }\r\n                                c = match.charCodeAt();\r\n                                return \"\\\\u00\" +\r\n                                    Math.floor(c / 16).toString(16) +\r\n                                    (c % 16).toString(16);\r\n                            });\r\n                    }\r\n                    return '\"' + source + '\"';\r\n                }\r\n\r\n                function encodeArray(source) {\r\n                    var result = [\"[\"],\r\n                        l = source.length,\r\n                        preComma, i, item;\r\n\r\n                    for (i = 0; i < l; i++) {\r\n                        item = source[i];\r\n\r\n                        switch (typeof item) {\r\n                            case \"undefined\":\r\n                            case \"function\":\r\n                            case \"unknown\":\r\n                                break;\r\n                            default:\r\n                                if (preComma) {\r\n                                    result.push(',');\r\n                                }\r\n                                result.push(utils.json2str(item));\r\n                                preComma = 1;\r\n                        }\r\n                    }\r\n                    result.push(\"]\");\r\n                    return result.join(\"\");\r\n                }\r\n\r\n                function pad(source) {\r\n                    return source < 10 ? '0' + source : source;\r\n                }\r\n\r\n                function encodeDate(source) {\r\n                    return '\"' + source.getFullYear() + \"-\" +\r\n                        pad(source.getMonth() + 1) + \"-\" +\r\n                        pad(source.getDate()) + \"T\" +\r\n                        pad(source.getHours()) + \":\" +\r\n                        pad(source.getMinutes()) + \":\" +\r\n                        pad(source.getSeconds()) + '\"';\r\n                }\r\n\r\n                return function(value) {\r\n                    switch (typeof value) {\r\n                        case 'undefined':\r\n                            return 'undefined';\r\n\r\n                        case 'number':\r\n                            return isFinite(value) ? String(value) : \"null\";\r\n\r\n                        case 'string':\r\n                            return encodeString(value);\r\n\r\n                        case 'boolean':\r\n                            return String(value);\r\n\r\n                        default:\r\n                            if (value === null) {\r\n                                return 'null';\r\n                            } else if (utils.isArray(value)) {\r\n                                return encodeArray(value);\r\n                            } else if (utils.isDate(value)) {\r\n                                return encodeDate(value);\r\n                            } else {\r\n                                var result = ['{'],\r\n                                    encode = utils.json2str,\r\n                                    preComma,\r\n                                    item;\r\n\r\n                                for (var key in value) {\r\n                                    if (Object.prototype.hasOwnProperty.call(value, key)) {\r\n                                        item = value[key];\r\n                                        switch (typeof item) {\r\n                                            case 'undefined':\r\n                                            case 'unknown':\r\n                                            case 'function':\r\n                                                break;\r\n                                            default:\r\n                                                if (preComma) {\r\n                                                    result.push(',');\r\n                                                }\r\n                                                preComma = 1;\r\n                                                result.push(encode(key) + ':' + encode(item));\r\n                                        }\r\n                                    }\r\n                                }\r\n                                result.push('}');\r\n                                return result.join('');\r\n                            }\r\n                    }\r\n                };\r\n            }\r\n\r\n        })()\r\n\r\n    };\r\n    /**\r\n     * 判断给定的对象是否是字符串\r\n     * @method isString\r\n     * @param { * } object 需要判断的对象\r\n     * @return { Boolean } 给定的对象是否是字符串\r\n     */\r\n\r\n    /**\r\n     * 判断给定的对象是否是数组\r\n     * @method isArray\r\n     * @param { * } object 需要判断的对象\r\n     * @return { Boolean } 给定的对象是否是数组\r\n     */\r\n\r\n    /**\r\n     * 判断给定的对象是否是一个Function\r\n     * @method isFunction\r\n     * @param { * } object 需要判断的对象\r\n     * @return { Boolean } 给定的对象是否是Function\r\n     */\r\n\r\n    /**\r\n     * 判断给定的对象是否是Number\r\n     * @method isNumber\r\n     * @param { * } object 需要判断的对象\r\n     * @return { Boolean } 给定的对象是否是Number\r\n     */\r\n\r\n    /**\r\n     * 判断给定的对象是否是一个正则表达式\r\n     * @method isRegExp\r\n     * @param { * } object 需要判断的对象\r\n     * @return { Boolean } 给定的对象是否是正则表达式\r\n     */\r\n\r\n    /**\r\n     * 判断给定的对象是否是一个普通对象\r\n     * @method isObject\r\n     * @param { * } object 需要判断的对象\r\n     * @return { Boolean } 给定的对象是否是普通对象\r\n     */\r\n    utils.each(['String', 'Function', 'Array', 'Number', 'RegExp', 'Object', 'Date'], function(v) {\r\n        UE.utils['is' + v] = function(obj) {\r\n            return Object.prototype.toString.apply(obj) == '[object ' + v + ']';\r\n        }\r\n    });\r\n\r\n\r\n    // core/EventBase.js\r\n    /**\r\n     * UE采用的事件基类\r\n     * @file\r\n     * @module UE\r\n     * @class EventBase\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * UEditor公用空间，UEditor所有的功能都挂载在该空间下\r\n     * @unfile\r\n     * @module UE\r\n     */\r\n\r\n    /**\r\n     * UE采用的事件基类，继承此类的对应类将获取addListener,removeListener,fireEvent方法。\r\n     * 在UE中，Editor以及所有ui实例都继承了该类，故可以在对应的ui对象以及editor对象上使用上述方法。\r\n     * @unfile\r\n     * @module UE\r\n     * @class EventBase\r\n     */\r\n\r\n    /**\r\n     * 通过此构造器，子类可以继承EventBase获取事件监听的方法\r\n     * @constructor\r\n     * @example\r\n     * ```javascript\r\n     * UE.EventBase.call(editor);\r\n     * ```\r\n     */\r\n    var EventBase = UE.EventBase = function() {};\r\n\r\n    EventBase.prototype = {\r\n\r\n        /**\r\n         * 注册事件监听器\r\n         * @method addListener\r\n         * @param { String } types 监听的事件名称，同时监听多个事件使用空格分隔\r\n         * @param { Function } fn 监听的事件被触发时，会执行该回调函数\r\n         * @waining 事件被触发时，监听的函数假如返回的值恒等于true，回调函数的队列中后面的函数将不执行\r\n         * @example\r\n         * ```javascript\r\n         * editor.addListener('selectionchange',function(){\r\n         *      console.log(\"选区已经变化！\");\r\n         * })\r\n         * editor.addListener('beforegetcontent aftergetcontent',function(type){\r\n         *         if(type == 'beforegetcontent'){\r\n         *             //do something\r\n         *         }else{\r\n         *             //do something\r\n         *         }\r\n         *         console.log(this.getContent) // this是注册的事件的编辑器实例\r\n         * })\r\n         * ```\r\n         * @see UE.EventBase:fireEvent(String)\r\n         */\r\n        addListener: function(types, listener) {\r\n            types = utils.trim(types).split(/\\s+/);\r\n            for (var i = 0, ti; ti = types[i++];) {\r\n                getListener(this, ti, true).push(listener);\r\n            }\r\n        },\r\n\r\n        on: function(types, listener) {\r\n            return this.addListener(types, listener);\r\n        },\r\n        off: function(types, listener) {\r\n            return this.removeListener(types, listener)\r\n        },\r\n        trigger: function() {\r\n            return this.fireEvent.apply(this, arguments);\r\n        },\r\n        /**\r\n         * 移除事件监听器\r\n         * @method removeListener\r\n         * @param { String } types 移除的事件名称，同时移除多个事件使用空格分隔\r\n         * @param { Function } fn 移除监听事件的函数引用\r\n         * @example\r\n         * ```javascript\r\n         * //changeCallback为方法体\r\n         * editor.removeListener(\"selectionchange\",changeCallback);\r\n         * ```\r\n         */\r\n        removeListener: function(types, listener) {\r\n            types = utils.trim(types).split(/\\s+/);\r\n            for (var i = 0, ti; ti = types[i++];) {\r\n                utils.removeItem(getListener(this, ti) || [], listener);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * 触发事件\r\n         * @method fireEvent\r\n         * @param { String } types 触发的事件名称，同时触发多个事件使用空格分隔\r\n         * @remind 该方法会触发addListener\r\n         * @return { * } 返回触发事件的队列中，最后执行的回调函数的返回值\r\n         * @example\r\n         * ```javascript\r\n         * editor.fireEvent(\"selectionchange\");\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 触发事件\r\n         * @method fireEvent\r\n         * @param { String } types 触发的事件名称，同时触发多个事件使用空格分隔\r\n         * @param { *... } options 可选参数，可以传入一个或多个参数，会传给事件触发的回调函数\r\n         * @return { * } 返回触发事件的队列中，最后执行的回调函数的返回值\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * editor.addListener( \"selectionchange\", function ( type, arg1, arg2 ) {\r\n         *\r\n         *     console.log( arg1 + \" \" + arg2 );\r\n         *\r\n         * } );\r\n         *\r\n         * //触发selectionchange事件， 会执行上面的事件监听器\r\n         * //output: Hello World\r\n         * editor.fireEvent(\"selectionchange\", \"Hello\", \"World\");\r\n         * ```\r\n         */\r\n        fireEvent: function() {\r\n            var types = arguments[0];\r\n            types = utils.trim(types).split(' ');\r\n            for (var i = 0, ti; ti = types[i++];) {\r\n                var listeners = getListener(this, ti),\r\n                    r, t, k;\r\n                if (listeners) {\r\n                    k = listeners.length;\r\n                    while (k--) {\r\n                        if (!listeners[k]) continue;\r\n                        t = listeners[k].apply(this, arguments);\r\n                        if (t === true) {\r\n                            return t;\r\n                        }\r\n                        if (t !== undefined) {\r\n                            r = t;\r\n                        }\r\n                    }\r\n                }\r\n                if (t = this['on' + ti.toLowerCase()]) {\r\n                    r = t.apply(this, arguments);\r\n                }\r\n            }\r\n            return r;\r\n        }\r\n    };\r\n    /**\r\n     * 获得对象所拥有监听类型的所有监听器\r\n     * @unfile\r\n     * @module UE\r\n     * @since 1.2.6.1\r\n     * @method getListener\r\n     * @public\r\n     * @param { Object } obj  查询监听器的对象\r\n     * @param { String } type 事件类型\r\n     * @param { Boolean } force  为true且当前所有type类型的侦听器不存在时，创建一个空监听器数组\r\n     * @return { Array } 监听器数组\r\n     */\r\n    function getListener(obj, type, force) {\r\n        var allListeners;\r\n        type = type.toLowerCase();\r\n        return ((allListeners = (obj.__allListeners || force && (obj.__allListeners = {}))) &&\r\n            (allListeners[type] || force && (allListeners[type] = [])));\r\n    }\r\n\r\n\r\n\r\n    // core/dtd.js\r\n    ///import editor.js\r\n    ///import core/dom/dom.js\r\n    ///import core/utils.js\r\n    /**\r\n     * dtd html语义化的体现类\r\n     * @constructor\r\n     * @namespace dtd\r\n     */\r\n    var dtd = dom.dtd = (function() {\r\n        function _(s) {\r\n            for (var k in s) {\r\n                s[k.toUpperCase()] = s[k];\r\n            }\r\n            return s;\r\n        }\r\n        var X = utils.extend2;\r\n        var A = _({ isindex: 1, fieldset: 1 }),\r\n            B = _({ input: 1, button: 1, select: 1, textarea: 1, label: 1 }),\r\n            C = X(_({ a: 1 }), B),\r\n            D = X({ iframe: 1 }, C),\r\n            E = _({ hr: 1, ul: 1, menu: 1, div: 1, blockquote: 1, noscript: 1, table: 1, center: 1, address: 1, dir: 1, pre: 1, h5: 1, dl: 1, h4: 1, noframes: 1, h6: 1, ol: 1, h1: 1, h3: 1, h2: 1 }),\r\n            F = _({ ins: 1, del: 1, script: 1, style: 1 }),\r\n            G = X(_({ b: 1, acronym: 1, bdo: 1, 'var': 1, '#': 1, abbr: 1, code: 1, br: 1, i: 1, cite: 1, kbd: 1, u: 1, strike: 1, s: 1, tt: 1, strong: 1, q: 1, samp: 1, em: 1, dfn: 1, span: 1 }), F),\r\n            H = X(_({ sub: 1, img: 1, embed: 1, object: 1, sup: 1, basefont: 1, map: 1, applet: 1, font: 1, big: 1, small: 1 }), G),\r\n            I = X(_({ p: 1 }), H),\r\n            J = X(_({ iframe: 1 }), H, B),\r\n            K = _({ img: 1, embed: 1, noscript: 1, br: 1, kbd: 1, center: 1, button: 1, basefont: 1, h5: 1, h4: 1, samp: 1, h6: 1, ol: 1, h1: 1, h3: 1, h2: 1, form: 1, font: 1, '#': 1, select: 1, menu: 1, ins: 1, abbr: 1, label: 1, code: 1, table: 1, script: 1, cite: 1, input: 1, iframe: 1, strong: 1, textarea: 1, noframes: 1, big: 1, small: 1, span: 1, hr: 1, sub: 1, bdo: 1, 'var': 1, div: 1, object: 1, sup: 1, strike: 1, dir: 1, map: 1, dl: 1, applet: 1, del: 1, isindex: 1, fieldset: 1, ul: 1, b: 1, acronym: 1, a: 1, blockquote: 1, i: 1, u: 1, s: 1, tt: 1, address: 1, q: 1, pre: 1, p: 1, em: 1, dfn: 1 }),\r\n\r\n            L = X(_({ a: 0 }), J), //a不能被切开，所以把他\r\n            M = _({ tr: 1 }),\r\n            N = _({ '#': 1 }),\r\n            O = X(_({ param: 1 }), K),\r\n            P = X(_({ form: 1 }), A, D, E, I),\r\n            Q = _({ li: 1, ol: 1, ul: 1 }),\r\n            R = _({ style: 1, script: 1 }),\r\n            S = _({ base: 1, link: 1, meta: 1, title: 1 }),\r\n            T = X(S, R),\r\n            U = _({ head: 1, body: 1 }),\r\n            V = _({ html: 1 });\r\n\r\n        var block = _({ address: 1, blockquote: 1, center: 1, dir: 1, div: 1, dl: 1, fieldset: 1, form: 1, h1: 1, h2: 1, h3: 1, h4: 1, h5: 1, h6: 1, hr: 1, isindex: 1, menu: 1, noframes: 1, ol: 1, p: 1, pre: 1, table: 1, ul: 1 }),\r\n\r\n            empty = _({ area: 1, base: 1, basefont: 1, br: 1, col: 1, command: 1, dialog: 1, embed: 1, hr: 1, img: 1, input: 1, isindex: 1, keygen: 1, link: 1, meta: 1, param: 1, source: 1, track: 1, wbr: 1 });\r\n\r\n        return _({\r\n\r\n            // $ 表示自定的属性\r\n\r\n            // body外的元素列表.\r\n            $nonBodyContent: X(V, U, S),\r\n\r\n            //块结构元素列表\r\n            $block: block,\r\n\r\n            //内联元素列表\r\n            $inline: L,\r\n\r\n            $inlineWithA: X(_({ a: 1 }), L),\r\n\r\n            $body: X(_({ script: 1, style: 1 }), block),\r\n\r\n            $cdata: _({ script: 1, style: 1 }),\r\n\r\n            //自闭和元素\r\n            $empty: empty,\r\n\r\n            //不是自闭合，但不能让range选中里边\r\n            $nonChild: _({ iframe: 1, textarea: 1 }),\r\n            //列表元素列表\r\n            $listItem: _({ dd: 1, dt: 1, li: 1 }),\r\n\r\n            //列表根元素列表\r\n            $list: _({ ul: 1, ol: 1, dl: 1 }),\r\n\r\n            //不能认为是空的元素\r\n            $isNotEmpty: _({ table: 1, ul: 1, ol: 1, dl: 1, iframe: 1, area: 1, base: 1, col: 1, hr: 1, img: 1, embed: 1, input: 1, link: 1, meta: 1, param: 1, h1: 1, h2: 1, h3: 1, h4: 1, h5: 1, h6: 1 }),\r\n\r\n            //如果没有子节点就可以删除的元素列表，像span,a\r\n            $removeEmpty: _({ a: 1, abbr: 1, acronym: 1, address: 1, b: 1, bdo: 1, big: 1, cite: 1, code: 1, del: 1, dfn: 1, em: 1, font: 1, i: 1, ins: 1, label: 1, kbd: 1, q: 1, s: 1, samp: 1, small: 1, span: 1, strike: 1, strong: 1, sub: 1, sup: 1, tt: 1, u: 1, 'var': 1 }),\r\n\r\n            $removeEmptyBlock: _({ 'p': 1, 'div': 1 }),\r\n\r\n            //在table元素里的元素列表\r\n            $tableContent: _({ caption: 1, col: 1, colgroup: 1, tbody: 1, td: 1, tfoot: 1, th: 1, thead: 1, tr: 1, table: 1 }),\r\n            //不转换的标签\r\n            $notTransContent: _({ pre: 1, script: 1, style: 1, textarea: 1 }),\r\n            html: U,\r\n            head: T,\r\n            style: N,\r\n            script: N,\r\n            body: P,\r\n            base: {},\r\n            link: {},\r\n            meta: {},\r\n            title: N,\r\n            col: {},\r\n            tr: _({ td: 1, th: 1 }),\r\n            img: {},\r\n            embed: {},\r\n            colgroup: _({ thead: 1, col: 1, tbody: 1, tr: 1, tfoot: 1 }),\r\n            noscript: P,\r\n            td: P,\r\n            br: {},\r\n            th: P,\r\n            center: P,\r\n            kbd: L,\r\n            button: X(I, E),\r\n            basefont: {},\r\n            h5: L,\r\n            h4: L,\r\n            samp: L,\r\n            h6: L,\r\n            ol: Q,\r\n            h1: L,\r\n            h3: L,\r\n            option: N,\r\n            h2: L,\r\n            form: X(A, D, E, I),\r\n            select: _({ optgroup: 1, option: 1 }),\r\n            font: L,\r\n            ins: L,\r\n            menu: Q,\r\n            abbr: L,\r\n            label: L,\r\n            table: _({ thead: 1, col: 1, tbody: 1, tr: 1, colgroup: 1, caption: 1, tfoot: 1 }),\r\n            code: L,\r\n            tfoot: M,\r\n            cite: L,\r\n            li: P,\r\n            input: {},\r\n            iframe: P,\r\n            strong: L,\r\n            textarea: N,\r\n            noframes: P,\r\n            big: L,\r\n            small: L,\r\n            //trace:\r\n            span: _({ '#': 1, br: 1, b: 1, strong: 1, u: 1, i: 1, em: 1, sub: 1, sup: 1, strike: 1, span: 1 }),\r\n            hr: L,\r\n            dt: L,\r\n            sub: L,\r\n            optgroup: _({ option: 1 }),\r\n            param: {},\r\n            bdo: L,\r\n            'var': L,\r\n            div: P,\r\n            object: O,\r\n            sup: L,\r\n            dd: P,\r\n            strike: L,\r\n            area: {},\r\n            dir: Q,\r\n            map: X(_({ area: 1, form: 1, p: 1 }), A, F, E),\r\n            applet: O,\r\n            dl: _({ dt: 1, dd: 1 }),\r\n            del: L,\r\n            isindex: {},\r\n            fieldset: X(_({ legend: 1 }), K),\r\n            thead: M,\r\n            ul: Q,\r\n            acronym: L,\r\n            b: L,\r\n            a: X(_({ a: 1 }), J),\r\n            blockquote: X(_({ td: 1, tr: 1, tbody: 1, li: 1 }), P),\r\n            caption: L,\r\n            i: L,\r\n            u: L,\r\n            tbody: M,\r\n            s: L,\r\n            address: X(D, I),\r\n            tt: L,\r\n            legend: L,\r\n            q: L,\r\n            pre: X(G, C),\r\n            p: X(_({ 'a': 1 }), L),\r\n            em: L,\r\n            dfn: L\r\n        });\r\n    })();\r\n\r\n\r\n    // core/domUtils.js\r\n    /**\r\n     * Dom操作工具包\r\n     * @file\r\n     * @module UE.dom.domUtils\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * Dom操作工具包\r\n     * @unfile\r\n     * @module UE.dom.domUtils\r\n     */\r\n    function getDomNode(node, start, ltr, startFromChild, fn, guard) {\r\n        var tmpNode = startFromChild && node[start],\r\n            parent;\r\n        !tmpNode && (tmpNode = node[ltr]);\r\n        while (!tmpNode && (parent = (parent || node).parentNode)) {\r\n            if (parent.tagName == 'BODY' || guard && !guard(parent)) {\r\n                return null;\r\n            }\r\n            tmpNode = parent[ltr];\r\n        }\r\n        if (tmpNode && fn && !fn(tmpNode)) {\r\n            return getDomNode(tmpNode, start, ltr, false, fn);\r\n        }\r\n        return tmpNode;\r\n    }\r\n    var attrFix = ie && browser.version < 9 ? {\r\n            tabindex: \"tabIndex\",\r\n            readonly: \"readOnly\",\r\n            \"for\": \"htmlFor\",\r\n            \"class\": \"className\",\r\n            maxlength: \"maxLength\",\r\n            cellspacing: \"cellSpacing\",\r\n            cellpadding: \"cellPadding\",\r\n            rowspan: \"rowSpan\",\r\n            colspan: \"colSpan\",\r\n            usemap: \"useMap\",\r\n            frameborder: \"frameBorder\"\r\n        } : {\r\n            tabindex: \"tabIndex\",\r\n            readonly: \"readOnly\"\r\n        },\r\n        styleBlock = utils.listToMap([\r\n            '-webkit-box', '-moz-box', 'block',\r\n            'list-item', 'table', 'table-row-group',\r\n            'table-header-group', 'table-footer-group',\r\n            'table-row', 'table-column-group', 'table-column',\r\n            'table-cell', 'table-caption'\r\n        ]);\r\n    var domUtils = dom.domUtils = {\r\n        //节点常量\r\n        NODE_ELEMENT: 1,\r\n        NODE_DOCUMENT: 9,\r\n        NODE_TEXT: 3,\r\n        NODE_COMMENT: 8,\r\n        NODE_DOCUMENT_FRAGMENT: 11,\r\n\r\n        //位置关系\r\n        POSITION_IDENTICAL: 0,\r\n        POSITION_DISCONNECTED: 1,\r\n        POSITION_FOLLOWING: 2,\r\n        POSITION_PRECEDING: 4,\r\n        POSITION_IS_CONTAINED: 8,\r\n        POSITION_CONTAINS: 16,\r\n        //ie6使用其他的会有一段空白出现\r\n        fillChar: ie && browser.version == '6' ? '\\ufeff' : '\\u200B',\r\n        //-------------------------Node部分--------------------------------\r\n        keys: {\r\n            /*Backspace*/\r\n            8: 1,\r\n            /*Delete*/\r\n            46: 1,\r\n            /*Shift*/\r\n            16: 1,\r\n            /*Ctrl*/\r\n            17: 1,\r\n            /*Alt*/\r\n            18: 1,\r\n            37: 1,\r\n            38: 1,\r\n            39: 1,\r\n            40: 1,\r\n            13: 1 /*enter*/\r\n        },\r\n        /**\r\n         * 获取节点A相对于节点B的位置关系\r\n         * @method getPosition\r\n         * @param { Node } nodeA 需要查询位置关系的节点A\r\n         * @param { Node } nodeB 需要查询位置关系的节点B\r\n         * @return { Number } 节点A与节点B的关系\r\n         * @example\r\n         * ```javascript\r\n         * //output: 20\r\n         * var position = UE.dom.domUtils.getPosition( document.documentElement, document.body );\r\n         *\r\n         * switch ( position ) {\r\n         *\r\n         *      //0\r\n         *      case UE.dom.domUtils.POSITION_IDENTICAL:\r\n         *          console.log('元素相同');\r\n         *          break;\r\n         *      //1\r\n         *      case UE.dom.domUtils.POSITION_DISCONNECTED:\r\n         *          console.log('两个节点在不同的文档中');\r\n         *          break;\r\n         *      //2\r\n         *      case UE.dom.domUtils.POSITION_FOLLOWING:\r\n         *          console.log('节点A在节点B之后');\r\n         *          break;\r\n         *      //4\r\n         *      case UE.dom.domUtils.POSITION_PRECEDING;\r\n         *          console.log('节点A在节点B之前');\r\n         *          break;\r\n         *      //8\r\n         *      case UE.dom.domUtils.POSITION_IS_CONTAINED:\r\n         *          console.log('节点A被节点B包含');\r\n         *          break;\r\n         *      case 10:\r\n         *          console.log('节点A被节点B包含且节点A在节点B之后');\r\n         *          break;\r\n         *      //16\r\n         *      case UE.dom.domUtils.POSITION_CONTAINS:\r\n         *          console.log('节点A包含节点B');\r\n         *          break;\r\n         *      case 20:\r\n         *          console.log('节点A包含节点B且节点A在节点B之前');\r\n         *          break;\r\n         *\r\n         * }\r\n         * ```\r\n         */\r\n        getPosition: function(nodeA, nodeB) {\r\n            // 如果两个节点是同一个节点\r\n            if (nodeA === nodeB) {\r\n                // domUtils.POSITION_IDENTICAL\r\n                return 0;\r\n            }\r\n            var node,\r\n                parentsA = [nodeA],\r\n                parentsB = [nodeB];\r\n            node = nodeA;\r\n            while (node = node.parentNode) {\r\n                // 如果nodeB是nodeA的祖先节点\r\n                if (node === nodeB) {\r\n                    // domUtils.POSITION_IS_CONTAINED + domUtils.POSITION_FOLLOWING\r\n                    return 10;\r\n                }\r\n                parentsA.push(node);\r\n            }\r\n            node = nodeB;\r\n            while (node = node.parentNode) {\r\n                // 如果nodeA是nodeB的祖先节点\r\n                if (node === nodeA) {\r\n                    // domUtils.POSITION_CONTAINS + domUtils.POSITION_PRECEDING\r\n                    return 20;\r\n                }\r\n                parentsB.push(node);\r\n            }\r\n            parentsA.reverse();\r\n            parentsB.reverse();\r\n            if (parentsA[0] !== parentsB[0]) {\r\n                // domUtils.POSITION_DISCONNECTED\r\n                return 1;\r\n            }\r\n            var i = -1;\r\n            while (i++, parentsA[i] === parentsB[i]) {}\r\n            nodeA = parentsA[i];\r\n            nodeB = parentsB[i];\r\n            while (nodeA = nodeA.nextSibling) {\r\n                if (nodeA === nodeB) {\r\n                    // domUtils.POSITION_PRECEDING\r\n                    return 4\r\n                }\r\n            }\r\n            // domUtils.POSITION_FOLLOWING\r\n            return 2;\r\n        },\r\n\r\n        /**\r\n         * 检测节点node在父节点中的索引位置\r\n         * @method getNodeIndex\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @return { Number } 该节点在父节点中的位置\r\n         * @see UE.dom.domUtils.getNodeIndex(Node,Boolean)\r\n         */\r\n\r\n        /**\r\n         * 检测节点node在父节点中的索引位置， 根据给定的mergeTextNode参数决定是否要合并多个连续的文本节点为一个节点\r\n         * @method getNodeIndex\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @param { Boolean } mergeTextNode 是否合并多个连续的文本节点为一个节点\r\n         * @return { Number } 该节点在父节点中的位置\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         *      var node = document.createElement(\"div\");\r\n         *\r\n         *      node.appendChild( document.createTextNode( \"hello\" ) );\r\n         *      node.appendChild( document.createTextNode( \"world\" ) );\r\n         *      node.appendChild( node = document.createElement( \"div\" ) );\r\n         *\r\n         *      //output: 2\r\n         *      console.log( UE.dom.domUtils.getNodeIndex( node ) );\r\n         *\r\n         *      //output: 1\r\n         *      console.log( UE.dom.domUtils.getNodeIndex( node, true ) );\r\n         *\r\n         * ```\r\n         */\r\n        getNodeIndex: function(node, ignoreTextNode) {\r\n            var preNode = node,\r\n                i = 0;\r\n            while (preNode = preNode.previousSibling) {\r\n                if (ignoreTextNode && preNode.nodeType == 3) {\r\n                    if (preNode.nodeType != preNode.nextSibling.nodeType) {\r\n                        i++;\r\n                    }\r\n                    continue;\r\n                }\r\n                i++;\r\n            }\r\n            return i;\r\n        },\r\n\r\n        /**\r\n         * 检测节点node是否在给定的document对象上\r\n         * @method inDoc\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @param { DomDocument } doc 需要检测的document对象\r\n         * @return { Boolean } 该节点node是否在给定的document的dom树上\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var node = document.createElement(\"div\");\r\n         *\r\n         * //output: false\r\n         * console.log( UE.do.domUtils.inDoc( node, document ) );\r\n         *\r\n         * document.body.appendChild( node );\r\n         *\r\n         * //output: true\r\n         * console.log( UE.do.domUtils.inDoc( node, document ) );\r\n         *\r\n         * ```\r\n         */\r\n        inDoc: function(node, doc) {\r\n            return domUtils.getPosition(node, doc) == 10;\r\n        },\r\n        /**\r\n         * 根据给定的过滤规则filterFn， 查找符合该过滤规则的node节点的第一个祖先节点，\r\n         * 查找的起点是给定node节点的父节点。\r\n         * @method findParent\r\n         * @param { Node } node 需要查找的节点\r\n         * @param { Function } filterFn 自定义的过滤方法。\r\n         * @warning 查找的终点是到body节点为止\r\n         * @remind 自定义的过滤方法filterFn接受一个Node对象作为参数， 该对象代表当前执行检测的祖先节点。 如果该\r\n         *          节点满足过滤条件， 则要求返回true， 这时将直接返回该节点作为findParent()的结果， 否则， 请返回false。\r\n         * @return { Node | Null } 如果找到符合过滤条件的节点， 就返回该节点， 否则返回NULL\r\n         * @example\r\n         * ```javascript\r\n         * var filterNode = UE.dom.domUtils.findParent( document.body.firstChild, function ( node ) {\r\n         *\r\n         *     //由于查找的终点是body节点， 所以永远也不会匹配当前过滤器的条件， 即这里永远会返回false\r\n         *     return node.tagName === \"HTML\";\r\n         *\r\n         * } );\r\n         *\r\n         * //output: true\r\n         * console.log( filterNode === null );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 根据给定的过滤规则filterFn， 查找符合该过滤规则的node节点的第一个祖先节点，\r\n         * 如果includeSelf的值为true，则查找的起点是给定的节点node， 否则， 起点是node的父节点\r\n         * @method findParent\r\n         * @param { Node } node 需要查找的节点\r\n         * @param { Function } filterFn 自定义的过滤方法。\r\n         * @param { Boolean } includeSelf 查找过程是否包含自身\r\n         * @warning 查找的终点是到body节点为止\r\n         * @remind 自定义的过滤方法filterFn接受一个Node对象作为参数， 该对象代表当前执行检测的祖先节点。 如果该\r\n         *          节点满足过滤条件， 则要求返回true， 这时将直接返回该节点作为findParent()的结果， 否则， 请返回false。\r\n         * @remind 如果includeSelf为true， 则过滤器第一次执行时的参数会是节点本身。\r\n         *          反之， 过滤器第一次执行时的参数将是该节点的父节点。\r\n         * @return { Node | Null } 如果找到符合过滤条件的节点， 就返回该节点， 否则返回NULL\r\n         * @example\r\n         * ```html\r\n         * <body>\r\n         *\r\n         *      <div id=\"test\">\r\n         *      </div>\r\n         *\r\n         *      <script type=\"text/javascript\">\r\n         *\r\n         *          //output: DIV, BODY\r\n         *          var filterNode = UE.dom.domUtils.findParent( document.getElementById( \"test\" ), function ( node ) {\r\n         *\r\n         *              console.log( node.tagName );\r\n         *              return false;\r\n         *\r\n         *          }, true );\r\n         *\r\n         *      </script>\r\n         * </body>\r\n         * ```\r\n         */\r\n        findParent: function(node, filterFn, includeSelf) {\r\n            if (node && !domUtils.isBody(node)) {\r\n                node = includeSelf ? node : node.parentNode;\r\n                while (node) {\r\n                    if (!filterFn || filterFn(node) || domUtils.isBody(node)) {\r\n                        return filterFn && !filterFn(node) && domUtils.isBody(node) ? null : node;\r\n                    }\r\n                    node = node.parentNode;\r\n                }\r\n            }\r\n            return null;\r\n        },\r\n        /**\r\n         * 查找node的节点名为tagName的第一个祖先节点， 查找的起点是node节点的父节点。\r\n         * @method findParentByTagName\r\n         * @param { Node } node 需要查找的节点对象\r\n         * @param { Array } tagNames 需要查找的父节点的名称数组\r\n         * @warning 查找的终点是到body节点为止\r\n         * @return { Node | NULL } 如果找到符合条件的节点， 则返回该节点， 否则返回NULL\r\n         * @example\r\n         * ```javascript\r\n         * var node = UE.dom.domUtils.findParentByTagName( document.getElementsByTagName(\"div\")[0], [ \"BODY\" ] );\r\n         * //output: BODY\r\n         * console.log( node.tagName );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 查找node的节点名为tagName的祖先节点， 如果includeSelf的值为true，则查找的起点是给定的节点node，\r\n         * 否则， 起点是node的父节点。\r\n         * @method findParentByTagName\r\n         * @param { Node } node 需要查找的节点对象\r\n         * @param { Array } tagNames 需要查找的父节点的名称数组\r\n         * @param { Boolean } includeSelf 查找过程是否包含node节点自身\r\n         * @warning 查找的终点是到body节点为止\r\n         * @return { Node | NULL } 如果找到符合条件的节点， 则返回该节点， 否则返回NULL\r\n         * @example\r\n         * ```javascript\r\n         * var queryTarget = document.getElementsByTagName(\"div\")[0];\r\n         * var node = UE.dom.domUtils.findParentByTagName( queryTarget, [ \"DIV\" ], true );\r\n         * //output: true\r\n         * console.log( queryTarget === node );\r\n         * ```\r\n         */\r\n        findParentByTagName: function(node, tagNames, includeSelf, excludeFn) {\r\n            tagNames = utils.listToMap(utils.isArray(tagNames) ? tagNames : [tagNames]);\r\n            return domUtils.findParent(node, function(node) {\r\n                return tagNames[node.tagName] && !(excludeFn && excludeFn(node));\r\n            }, includeSelf);\r\n        },\r\n        /**\r\n         * 查找节点node的祖先节点集合， 查找的起点是给定节点的父节点，结果集中不包含给定的节点。\r\n         * @method findParents\r\n         * @param { Node } node 需要查找的节点对象\r\n         * @return { Array } 给定节点的祖先节点数组\r\n         * @grammar UE.dom.domUtils.findParents(node)  => Array  //返回一个祖先节点数组集合，不包含自身\r\n         * @grammar UE.dom.domUtils.findParents(node,includeSelf)  => Array  //返回一个祖先节点数组集合，includeSelf指定是否包含自身\r\n         * @grammar UE.dom.domUtils.findParents(node,includeSelf,filterFn)  => Array  //返回一个祖先节点数组集合，filterFn指定过滤条件，返回true的node将被选取\r\n         * @grammar UE.dom.domUtils.findParents(node,includeSelf,filterFn,closerFirst)  => Array  //返回一个祖先节点数组集合，closerFirst为true的话，node的直接父亲节点是数组的第0个\r\n         */\r\n\r\n        /**\r\n         * 查找节点node的祖先节点集合， 如果includeSelf的值为true，\r\n         * 则返回的结果集中允许出现当前给定的节点， 否则， 该节点不会出现在其结果集中。\r\n         * @method findParents\r\n         * @param { Node } node 需要查找的节点对象\r\n         * @param { Boolean } includeSelf 查找的结果中是否允许包含当前查找的节点对象\r\n         * @return { Array } 给定节点的祖先节点数组\r\n         */\r\n        findParents: function(node, includeSelf, filterFn, closerFirst) {\r\n            var parents = includeSelf && (filterFn && filterFn(node) || !filterFn) ? [node] : [];\r\n            while (node = domUtils.findParent(node, filterFn)) {\r\n                parents.push(node);\r\n            }\r\n            return closerFirst ? parents : parents.reverse();\r\n        },\r\n\r\n        /**\r\n         * 在节点node后面插入新节点newNode\r\n         * @method insertAfter\r\n         * @param { Node } node 目标节点\r\n         * @param { Node } newNode 新插入的节点， 该节点将置于目标节点之后\r\n         * @return { Node } 新插入的节点\r\n         */\r\n        insertAfter: function(node, newNode) {\r\n            return node.nextSibling ? node.parentNode.insertBefore(newNode, node.nextSibling) :\r\n                node.parentNode.appendChild(newNode);\r\n        },\r\n\r\n        /**\r\n         * 删除节点node及其下属的所有节点\r\n         * @method remove\r\n         * @param { Node } node 需要删除的节点对象\r\n         * @return { Node } 返回刚删除的节点对象\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\">\r\n         *     <div id=\"child\">你好</div>\r\n         * </div>\r\n         * <script>\r\n         *     UE.dom.domUtils.remove( document.body, false );\r\n         *     //output: false\r\n         *     console.log( document.getElementById( \"child\" ) !== null );\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 删除节点node，并根据keepChildren的值决定是否保留子节点\r\n         * @method remove\r\n         * @param { Node } node 需要删除的节点对象\r\n         * @param { Boolean } keepChildren 是否需要保留子节点\r\n         * @return { Node } 返回刚删除的节点对象\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\">\r\n         *     <div id=\"child\">你好</div>\r\n         * </div>\r\n         * <script>\r\n         *     UE.dom.domUtils.remove( document.body, true );\r\n         *     //output: true\r\n         *     console.log( document.getElementById( \"child\" ) !== null );\r\n         * </script>\r\n         * ```\r\n         */\r\n        remove: function(node, keepChildren) {\r\n            var parent = node.parentNode,\r\n                child;\r\n            if (parent) {\r\n                if (keepChildren && node.hasChildNodes()) {\r\n                    while (child = node.firstChild) {\r\n                        parent.insertBefore(child, node);\r\n                    }\r\n                }\r\n                parent.removeChild(node);\r\n            }\r\n            return node;\r\n        },\r\n\r\n        /**\r\n         * 取得node节点的下一个兄弟节点， 如果该节点其后没有兄弟节点， 则递归查找其父节点之后的第一个兄弟节点，\r\n         * 直到找到满足条件的节点或者递归到BODY节点之后才会结束。\r\n         * @method getNextDomNode\r\n         * @param { Node } node 需要获取其后的兄弟节点的节点对象\r\n         * @return { Node | NULL } 如果找满足条件的节点， 则返回该节点， 否则返回NULL\r\n         * @example\r\n         * ```html\r\n         *     <body>\r\n         *      <div id=\"test\">\r\n         *          <span></span>\r\n         *      </div>\r\n         *      <i>xxx</i>\r\n         * </body>\r\n         * <script>\r\n         *\r\n         *     //output: i节点\r\n         *     console.log( UE.dom.domUtils.getNextDomNode( document.getElementById( \"test\" ) ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         * @example\r\n         * ```html\r\n         * <body>\r\n         *      <div>\r\n         *          <span></span>\r\n         *          <i id=\"test\">xxx</i>\r\n         *      </div>\r\n         *      <b>xxx</b>\r\n         * </body>\r\n         * <script>\r\n         *\r\n         *     //由于id为test的i节点之后没有兄弟节点， 则查找其父节点（div）后面的兄弟节点\r\n         *     //output: b节点\r\n         *     console.log( UE.dom.domUtils.getNextDomNode( document.getElementById( \"test\" ) ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 取得node节点的下一个兄弟节点， 如果startFromChild的值为ture，则先获取其子节点，\r\n         * 如果有子节点则直接返回第一个子节点；如果没有子节点或者startFromChild的值为false，\r\n         * 则执行<a href=\"#UE.dom.domUtils.getNextDomNode(Node)\">getNextDomNode(Node node)</a>的查找过程。\r\n         * @method getNextDomNode\r\n         * @param { Node } node 需要获取其后的兄弟节点的节点对象\r\n         * @param { Boolean } startFromChild 查找过程是否从其子节点开始\r\n         * @return { Node | NULL } 如果找满足条件的节点， 则返回该节点， 否则返回NULL\r\n         * @see UE.dom.domUtils.getNextDomNode(Node)\r\n         */\r\n        getNextDomNode: function(node, startFromChild, filterFn, guard) {\r\n            return getDomNode(node, 'firstChild', 'nextSibling', startFromChild, filterFn, guard);\r\n        },\r\n        getPreDomNode: function(node, startFromChild, filterFn, guard) {\r\n            return getDomNode(node, 'lastChild', 'previousSibling', startFromChild, filterFn, guard);\r\n        },\r\n        /**\r\n         * 检测节点node是否属是UEditor定义的bookmark节点\r\n         * @method isBookmarkNode\r\n         * @private\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @return { Boolean } 是否是bookmark节点\r\n         * @example\r\n         * ```html\r\n         * <span id=\"_baidu_bookmark_1\"></span>\r\n         * <script>\r\n         *      var bookmarkNode = document.getElementById(\"_baidu_bookmark_1\");\r\n         *      //output: true\r\n         *      console.log( UE.dom.domUtils.isBookmarkNode( bookmarkNode ) );\r\n         * </script>\r\n         * ```\r\n         */\r\n        isBookmarkNode: function(node) {\r\n            return node.nodeType == 1 && node.id && /^_baidu_bookmark_/i.test(node.id);\r\n        },\r\n        /**\r\n         * 获取节点node所属的window对象\r\n         * @method  getWindow\r\n         * @param { Node } node 节点对象\r\n         * @return { Window } 当前节点所属的window对象\r\n         * @example\r\n         * ```javascript\r\n         * //output: true\r\n         * console.log( UE.dom.domUtils.getWindow( document.body ) === window );\r\n         * ```\r\n         */\r\n        getWindow: function(node) {\r\n            var doc = node.ownerDocument || node;\r\n            return doc.defaultView || doc.parentWindow;\r\n        },\r\n        /**\r\n         * 获取离nodeA与nodeB最近的公共的祖先节点\r\n         * @method  getCommonAncestor\r\n         * @param { Node } nodeA 第一个节点\r\n         * @param { Node } nodeB 第二个节点\r\n         * @remind 如果给定的两个节点是同一个节点， 将直接返回该节点。\r\n         * @return { Node | NULL } 如果未找到公共节点， 返回NULL， 否则返回最近的公共祖先节点。\r\n         * @example\r\n         * ```javascript\r\n         * var commonAncestor = UE.dom.domUtils.getCommonAncestor( document.body, document.body.firstChild );\r\n         * //output: true\r\n         * console.log( commonAncestor.tagName.toLowerCase() === 'body' );\r\n         * ```\r\n         */\r\n        getCommonAncestor: function(nodeA, nodeB) {\r\n            if (nodeA === nodeB)\r\n                return nodeA;\r\n            var parentsA = [nodeA],\r\n                parentsB = [nodeB],\r\n                parent = nodeA,\r\n                i = -1;\r\n            while (parent = parent.parentNode) {\r\n                if (parent === nodeB) {\r\n                    return parent;\r\n                }\r\n                parentsA.push(parent);\r\n            }\r\n            parent = nodeB;\r\n            while (parent = parent.parentNode) {\r\n                if (parent === nodeA)\r\n                    return parent;\r\n                parentsB.push(parent);\r\n            }\r\n            parentsA.reverse();\r\n            parentsB.reverse();\r\n            while (i++, parentsA[i] === parentsB[i]) {}\r\n            return i == 0 ? null : parentsA[i - 1];\r\n\r\n        },\r\n        /**\r\n         * 清除node节点左右连续为空的兄弟inline节点\r\n         * @method clearEmptySibling\r\n         * @param { Node } node 执行的节点对象， 如果该节点的左右连续的兄弟节点是空的inline节点，\r\n         * 则这些兄弟节点将被删除\r\n         * @grammar UE.dom.domUtils.clearEmptySibling(node,ignoreNext)  //ignoreNext指定是否忽略右边空节点\r\n         * @grammar UE.dom.domUtils.clearEmptySibling(node,ignoreNext,ignorePre)  //ignorePre指定是否忽略左边空节点\r\n         * @example\r\n         * ```html\r\n         * <body>\r\n         *     <div></div>\r\n         *     <span id=\"test\"></span>\r\n         *     <i></i>\r\n         *     <b></b>\r\n         *     <em>xxx</em>\r\n         *     <span></span>\r\n         * </body>\r\n         * <script>\r\n         *\r\n         *      UE.dom.domUtils.clearEmptySibling( document.getElementById( \"test\" ) );\r\n         *\r\n         *      //output: <div></div><span id=\"test\"></span><em>xxx</em><span></span>\r\n         *      console.log( document.body.innerHTML );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 清除node节点左右连续为空的兄弟inline节点， 如果ignoreNext的值为true，\r\n         * 则忽略对右边兄弟节点的操作。\r\n         * @method clearEmptySibling\r\n         * @param { Node } node 执行的节点对象， 如果该节点的左右连续的兄弟节点是空的inline节点，\r\n         * @param { Boolean } ignoreNext 是否忽略忽略对右边的兄弟节点的操作\r\n         * 则这些兄弟节点将被删除\r\n         * @see UE.dom.domUtils.clearEmptySibling(Node)\r\n         */\r\n\r\n        /**\r\n         * 清除node节点左右连续为空的兄弟inline节点， 如果ignoreNext的值为true，\r\n         * 则忽略对右边兄弟节点的操作， 如果ignorePre的值为true，则忽略对左边兄弟节点的操作。\r\n         * @method clearEmptySibling\r\n         * @param { Node } node 执行的节点对象， 如果该节点的左右连续的兄弟节点是空的inline节点，\r\n         * @param { Boolean } ignoreNext 是否忽略忽略对右边的兄弟节点的操作\r\n         * @param { Boolean } ignorePre 是否忽略忽略对左边的兄弟节点的操作\r\n         * 则这些兄弟节点将被删除\r\n         * @see UE.dom.domUtils.clearEmptySibling(Node)\r\n         */\r\n        clearEmptySibling: function(node, ignoreNext, ignorePre) {\r\n            function clear(next, dir) {\r\n                var tmpNode;\r\n                while (next && !domUtils.isBookmarkNode(next) && (domUtils.isEmptyInlineElement(next)\r\n                        //这里不能把空格算进来会吧空格干掉，出现文字间的空格丢掉了\r\n                        ||\r\n                        !new RegExp('[^\\t\\n\\r' + domUtils.fillChar + ']').test(next.nodeValue))) {\r\n                    tmpNode = next[dir];\r\n                    domUtils.remove(next);\r\n                    next = tmpNode;\r\n                }\r\n            }!ignoreNext && clear(node.nextSibling, 'nextSibling');\r\n            !ignorePre && clear(node.previousSibling, 'previousSibling');\r\n        },\r\n        /**\r\n         * 将一个文本节点textNode拆分成两个文本节点，offset指定拆分位置\r\n         * @method split\r\n         * @param { Node } textNode 需要拆分的文本节点对象\r\n         * @param { int } offset 需要拆分的位置， 位置计算从0开始\r\n         * @return { Node } 拆分后形成的新节点\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\">abcdef</div>\r\n         * <script>\r\n         *      var newNode = UE.dom.domUtils.split( document.getElementById( \"test\" ).firstChild, 3 );\r\n         *      //output: def\r\n         *      console.log( newNode.nodeValue );\r\n         * </script>\r\n         * ```\r\n         */\r\n        split: function(node, offset) {\r\n            var doc = node.ownerDocument;\r\n            if (browser.ie && offset == node.nodeValue.length) {\r\n                var next = doc.createTextNode('');\r\n                return domUtils.insertAfter(node, next);\r\n            }\r\n            var retval = node.splitText(offset);\r\n            //ie8下splitText不会跟新childNodes,我们手动触发他的更新\r\n            if (browser.ie8) {\r\n                var tmpNode = doc.createTextNode('');\r\n                domUtils.insertAfter(retval, tmpNode);\r\n                domUtils.remove(tmpNode);\r\n            }\r\n            return retval;\r\n        },\r\n\r\n        /**\r\n         * 检测文本节点textNode是否为空节点（包括空格、换行、占位符等字符）\r\n         * @method  isWhitespace\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @return { Boolean } 检测的节点是否为空\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\">\r\n         *\r\n         * </div>\r\n         * <script>\r\n         *      //output: true\r\n         *      console.log( UE.dom.domUtils.isWhitespace( document.getElementById(\"test\").firstChild ) );\r\n         * </script>\r\n         * ```\r\n         */\r\n        isWhitespace: function(node) {\r\n            return !new RegExp('[^ \\t\\n\\r' + domUtils.fillChar + ']').test(node.nodeValue);\r\n        },\r\n        /**\r\n         * 获取元素element相对于viewport的位置坐标\r\n         * @method getXY\r\n         * @param { Node } element 需要计算位置的节点对象\r\n         * @return { Object } 返回形如{x:left,y:top}的一个key-value映射对象， 其中键x代表水平偏移距离，\r\n         *                          y代表垂直偏移距离。\r\n         *\r\n         * @example\r\n         * ```javascript\r\n         * var location = UE.dom.domUtils.getXY( document.getElementById(\"test\") );\r\n         * //output: test的坐标为: 12, 24\r\n         * console.log( 'test的坐标为： ', location.x, ',', location.y );\r\n         * ```\r\n         */\r\n        getXY: function(element) {\r\n            var x = 0,\r\n                y = 0;\r\n            while (element.offsetParent) {\r\n                y += element.offsetTop;\r\n                x += element.offsetLeft;\r\n                element = element.offsetParent;\r\n            }\r\n            return { 'x': x, 'y': y };\r\n        },\r\n        /**\r\n         * 为元素element绑定原生DOM事件，type为事件类型，handler为处理函数\r\n         * @method on\r\n         * @param { Node } element 需要绑定事件的节点对象\r\n         * @param { String } type 绑定的事件类型\r\n         * @param { Function } handler 事件处理器\r\n         * @example\r\n         * ```javascript\r\n         * UE.dom.domUtils.on(document.body,\"click\",function(e){\r\n         *     //e为事件对象，this为被点击元素对戏那个\r\n         * });\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 为元素element绑定原生DOM事件，type为事件类型，handler为处理函数\r\n         * @method on\r\n         * @param { Node } element 需要绑定事件的节点对象\r\n         * @param { Array } type 绑定的事件类型数组\r\n         * @param { Function } handler 事件处理器\r\n         * @example\r\n         * ```javascript\r\n         * UE.dom.domUtils.on(document.body,[\"click\",\"mousedown\"],function(evt){\r\n         *     //evt为事件对象，this为被点击元素对象\r\n         * });\r\n         * ```\r\n         */\r\n        on: function(element, type, handler) {\r\n\r\n            var types = utils.isArray(type) ? type : utils.trim(type).split(/\\s+/),\r\n                k = types.length;\r\n            if (k)\r\n                while (k--) {\r\n                    type = types[k];\r\n                    if (element.addEventListener) {\r\n                        element.addEventListener(type, handler, false);\r\n                    } else {\r\n                        if (!handler._d) {\r\n                            handler._d = {\r\n                                els: []\r\n                            };\r\n                        }\r\n                        var key = type + handler.toString(),\r\n                            index = utils.indexOf(handler._d.els, element);\r\n                        if (!handler._d[key] || index == -1) {\r\n                            if (index == -1) {\r\n                                handler._d.els.push(element);\r\n                            }\r\n                            if (!handler._d[key]) {\r\n                                handler._d[key] = function(evt) {\r\n                                    return handler.call(evt.srcElement, evt || window.event);\r\n                                };\r\n                            }\r\n\r\n\r\n                            element.attachEvent('on' + type, handler._d[key]);\r\n                        }\r\n                    }\r\n                }\r\n            element = null;\r\n        },\r\n        /**\r\n         * 解除DOM事件绑定\r\n         * @method un\r\n         * @param { Node } element 需要解除事件绑定的节点对象\r\n         * @param { String } type 需要接触绑定的事件类型\r\n         * @param { Function } handler 对应的事件处理器\r\n         * @example\r\n         * ```javascript\r\n         * UE.dom.domUtils.un(document.body,\"click\",function(evt){\r\n         *     //evt为事件对象，this为被点击元素对象\r\n         * });\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 解除DOM事件绑定\r\n         * @method un\r\n         * @param { Node } element 需要解除事件绑定的节点对象\r\n         * @param { Array } type 需要接触绑定的事件类型数组\r\n         * @param { Function } handler 对应的事件处理器\r\n         * @example\r\n         * ```javascript\r\n         * UE.dom.domUtils.un(document.body, [\"click\",\"mousedown\"],function(evt){\r\n         *     //evt为事件对象，this为被点击元素对象\r\n         * });\r\n         * ```\r\n         */\r\n        un: function(element, type, handler) {\r\n            var types = utils.isArray(type) ? type : utils.trim(type).split(/\\s+/),\r\n                k = types.length;\r\n            if (k)\r\n                while (k--) {\r\n                    type = types[k];\r\n                    if (element.removeEventListener) {\r\n                        element.removeEventListener(type, handler, false);\r\n                    } else {\r\n                        var key = type + handler.toString();\r\n                        try {\r\n                            element.detachEvent('on' + type, handler._d ? handler._d[key] : handler);\r\n                        } catch (e) {}\r\n                        if (handler._d && handler._d[key]) {\r\n                            var index = utils.indexOf(handler._d.els, element);\r\n                            if (index != -1) {\r\n                                handler._d.els.splice(index, 1);\r\n                            }\r\n                            handler._d.els.length == 0 && delete handler._d[key];\r\n                        }\r\n                    }\r\n                }\r\n        },\r\n\r\n        /**\r\n         * 比较节点nodeA与节点nodeB是否具有相同的标签名、属性名以及属性值\r\n         * @method  isSameElement\r\n         * @param { Node } nodeA 需要比较的节点\r\n         * @param { Node } nodeB 需要比较的节点\r\n         * @return { Boolean } 两个节点是否具有相同的标签名、属性名以及属性值\r\n         * @example\r\n         * ```html\r\n         * <span style=\"font-size:12px\">ssss</span>\r\n         * <span style=\"font-size:12px\">bbbbb</span>\r\n         * <span style=\"font-size:13px\">ssss</span>\r\n         * <span style=\"font-size:14px\">bbbbb</span>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var nodes = document.getElementsByTagName( \"span\" );\r\n         *\r\n         *     //output: true\r\n         *     console.log( UE.dom.domUtils.isSameElement( nodes[0], nodes[1] ) );\r\n         *\r\n         *     //output: false\r\n         *     console.log( UE.dom.domUtils.isSameElement( nodes[2], nodes[3] ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        isSameElement: function(nodeA, nodeB) {\r\n            if (nodeA.tagName != nodeB.tagName) {\r\n                return false;\r\n            }\r\n            var thisAttrs = nodeA.attributes,\r\n                otherAttrs = nodeB.attributes;\r\n            if (!ie && thisAttrs.length != otherAttrs.length) {\r\n                return false;\r\n            }\r\n            var attrA, attrB, al = 0,\r\n                bl = 0;\r\n            for (var i = 0; attrA = thisAttrs[i++];) {\r\n                if (attrA.nodeName == 'style') {\r\n                    if (attrA.specified) {\r\n                        al++;\r\n                    }\r\n                    if (domUtils.isSameStyle(nodeA, nodeB)) {\r\n                        continue;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                }\r\n                if (ie) {\r\n                    if (attrA.specified) {\r\n                        al++;\r\n                        attrB = otherAttrs.getNamedItem(attrA.nodeName);\r\n                    } else {\r\n                        continue;\r\n                    }\r\n                } else {\r\n                    attrB = nodeB.attributes[attrA.nodeName];\r\n                }\r\n                if (!attrB.specified || attrA.nodeValue != attrB.nodeValue) {\r\n                    return false;\r\n                }\r\n            }\r\n            // 有可能attrB的属性包含了attrA的属性之外还有自己的属性\r\n            if (ie) {\r\n                for (i = 0; attrB = otherAttrs[i++];) {\r\n                    if (attrB.specified) {\r\n                        bl++;\r\n                    }\r\n                }\r\n                if (al != bl) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * 判断节点nodeA与节点nodeB的元素的style属性是否一致\r\n         * @method isSameStyle\r\n         * @param { Node } nodeA 需要比较的节点\r\n         * @param { Node } nodeB 需要比较的节点\r\n         * @return { Boolean } 两个节点是否具有相同的style属性值\r\n         * @example\r\n         * ```html\r\n         * <span style=\"font-size:12px\">ssss</span>\r\n         * <span style=\"font-size:12px\">bbbbb</span>\r\n         * <span style=\"font-size:13px\">ssss</span>\r\n         * <span style=\"font-size:14px\">bbbbb</span>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var nodes = document.getElementsByTagName( \"span\" );\r\n         *\r\n         *     //output: true\r\n         *     console.log( UE.dom.domUtils.isSameStyle( nodes[0], nodes[1] ) );\r\n         *\r\n         *     //output: false\r\n         *     console.log( UE.dom.domUtils.isSameStyle( nodes[2], nodes[3] ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        isSameStyle: function(nodeA, nodeB) {\r\n            var styleA = nodeA.style.cssText.replace(/( ?; ?)/g, ';').replace(/( ?: ?)/g, ':'),\r\n                styleB = nodeB.style.cssText.replace(/( ?; ?)/g, ';').replace(/( ?: ?)/g, ':');\r\n            if (browser.opera) {\r\n                styleA = nodeA.style;\r\n                styleB = nodeB.style;\r\n                if (styleA.length != styleB.length)\r\n                    return false;\r\n                for (var p in styleA) {\r\n                    if (/^(\\d+|csstext)$/i.test(p)) {\r\n                        continue;\r\n                    }\r\n                    if (styleA[p] != styleB[p]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n            if (!styleA || !styleB) {\r\n                return styleA == styleB;\r\n            }\r\n            styleA = styleA.split(';');\r\n            styleB = styleB.split(';');\r\n            if (styleA.length != styleB.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0, ci; ci = styleA[i++];) {\r\n                if (utils.indexOf(styleB, ci) == -1) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        },\r\n        /**\r\n         * 检查节点node是否为block元素\r\n         * @method isBlockElm\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @return { Boolean } 是否是block元素节点\r\n         * @warning 该方法的判断规则如下： 如果该元素原本是block元素， 则不论该元素当前的css样式是什么都会返回true；\r\n         *          否则，检测该元素的css样式， 如果该元素当前是block元素， 则返回true。 其余情况下都返回false。\r\n         * @example\r\n         * ```html\r\n         * <span id=\"test1\" style=\"display: block\"></span>\r\n         * <span id=\"test2\"></span>\r\n         * <div id=\"test3\" style=\"display: inline\"></div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     //output: true\r\n         *     console.log( UE.dom.domUtils.isBlockElm( document.getElementById(\"test1\") ) );\r\n         *\r\n         *     //output: false\r\n         *     console.log( UE.dom.domUtils.isBlockElm( document.getElementById(\"test2\") ) );\r\n         *\r\n         *     //output: true\r\n         *     console.log( UE.dom.domUtils.isBlockElm( document.getElementById(\"test3\") ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        isBlockElm: function(node) {\r\n            return node.nodeType == 1 && (dtd.$block[node.tagName] || styleBlock[domUtils.getComputedStyle(node, 'display')]) && !dtd.$nonChild[node.tagName];\r\n        },\r\n        /**\r\n         * 检测node节点是否为body节点\r\n         * @method isBody\r\n         * @param { Element } node 需要检测的dom元素\r\n         * @return { Boolean } 给定的元素是否是body元素\r\n         * @example\r\n         * ```javascript\r\n         * //output: true\r\n         * console.log( UE.dom.domUtils.isBody( document.body ) );\r\n         * ```\r\n         */\r\n        isBody: function(node) {\r\n            return node && node.nodeType == 1 && node.tagName.toLowerCase() == 'body';\r\n        },\r\n        /**\r\n         * 以node节点为分界，将该节点的指定祖先节点parent拆分成两个独立的节点，\r\n         * 拆分形成的两个节点之间是node节点\r\n         * @method breakParent\r\n         * @param { Node } node 作为分界的节点对象\r\n         * @param { Node } parent 该节点必须是node节点的祖先节点， 且是block节点。\r\n         * @return { Node } 给定的node分界节点\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         *      var node = document.createElement(\"span\"),\r\n         *          wrapNode = document.createElement( \"div\" ),\r\n         *          parent = document.createElement(\"p\");\r\n         *\r\n         *      parent.appendChild( node );\r\n         *      wrapNode.appendChild( parent );\r\n         *\r\n         *      //拆分前\r\n         *      //output: <p><span></span></p>\r\n         *      console.log( wrapNode.innerHTML );\r\n         *\r\n         *\r\n         *      UE.dom.domUtils.breakParent( node, parent );\r\n         *      //拆分后\r\n         *      //output: <p></p><span></span><p></p>\r\n         *      console.log( wrapNode.innerHTML );\r\n         *\r\n         * ```\r\n         */\r\n        breakParent: function(node, parent) {\r\n            var tmpNode,\r\n                parentClone = node,\r\n                clone = node,\r\n                leftNodes,\r\n                rightNodes;\r\n            do {\r\n                parentClone = parentClone.parentNode;\r\n                if (leftNodes) {\r\n                    tmpNode = parentClone.cloneNode(false);\r\n                    tmpNode.appendChild(leftNodes);\r\n                    leftNodes = tmpNode;\r\n                    tmpNode = parentClone.cloneNode(false);\r\n                    tmpNode.appendChild(rightNodes);\r\n                    rightNodes = tmpNode;\r\n                } else {\r\n                    leftNodes = parentClone.cloneNode(false);\r\n                    rightNodes = leftNodes.cloneNode(false);\r\n                }\r\n                while (tmpNode = clone.previousSibling) {\r\n                    leftNodes.insertBefore(tmpNode, leftNodes.firstChild);\r\n                }\r\n                while (tmpNode = clone.nextSibling) {\r\n                    rightNodes.appendChild(tmpNode);\r\n                }\r\n                clone = parentClone;\r\n            } while (parent !== parentClone);\r\n            tmpNode = parent.parentNode;\r\n            tmpNode.insertBefore(leftNodes, parent);\r\n            tmpNode.insertBefore(rightNodes, parent);\r\n            tmpNode.insertBefore(node, rightNodes);\r\n            domUtils.remove(parent);\r\n            return node;\r\n        },\r\n        /**\r\n         * 检查节点node是否是空inline节点\r\n         * @method  isEmptyInlineElement\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @return { Number }  如果给定的节点是空的inline节点， 则返回1, 否则返回0。\r\n         * @example\r\n         * ```html\r\n         * <b><i></i></b> => 1\r\n         * <b><i></i><u></u></b> => 1\r\n         * <b></b> => 1\r\n         * <b>xx<i></i></b> => 0\r\n         * ```\r\n         */\r\n        isEmptyInlineElement: function(node) {\r\n            if (node.nodeType != 1 || !dtd.$removeEmpty[node.tagName]) {\r\n                return 0;\r\n            }\r\n            node = node.firstChild;\r\n            while (node) {\r\n                //如果是创建的bookmark就跳过\r\n                if (domUtils.isBookmarkNode(node)) {\r\n                    return 0;\r\n                }\r\n                if (node.nodeType == 1 && !domUtils.isEmptyInlineElement(node) ||\r\n                    node.nodeType == 3 && !domUtils.isWhitespace(node)\r\n                ) {\r\n                    return 0;\r\n                }\r\n                node = node.nextSibling;\r\n            }\r\n            return 1;\r\n\r\n        },\r\n\r\n        /**\r\n         * 删除node节点下首尾两端的空白文本子节点\r\n         * @method trimWhiteTextNode\r\n         * @param { Element } node 需要执行删除操作的元素对象\r\n         * @example\r\n         * ```javascript\r\n         *      var node = document.createElement(\"div\");\r\n         *\r\n         *      node.appendChild( document.createTextNode( \"\" ) );\r\n         *\r\n         *      node.appendChild( document.createElement(\"div\") );\r\n         *\r\n         *      node.appendChild( document.createTextNode( \"\" ) );\r\n         *\r\n         *      //3\r\n         *      console.log( node.childNodes.length );\r\n         *\r\n         *      UE.dom.domUtils.trimWhiteTextNode( node );\r\n         *\r\n         *      //1\r\n         *      console.log( node.childNodes.length );\r\n         * ```\r\n         */\r\n        trimWhiteTextNode: function(node) {\r\n            function remove(dir) {\r\n                var child;\r\n                while ((child = node[dir]) && child.nodeType == 3 && domUtils.isWhitespace(child)) {\r\n                    node.removeChild(child);\r\n                }\r\n            }\r\n            remove('firstChild');\r\n            remove('lastChild');\r\n        },\r\n\r\n        /**\r\n         * 合并node节点下相同的子节点\r\n         * @name mergeChild\r\n         * @desc\r\n         * UE.dom.domUtils.mergeChild(node,tagName) //tagName要合并的子节点的标签\r\n         * @example\r\n         * <p><span style=\"font-size:12px;\">xx<span style=\"font-size:12px;\">aa</span>xx</span></p>\r\n         * ==> UE.dom.domUtils.mergeChild(node,'span')\r\n         * <p><span style=\"font-size:12px;\">xxaaxx</span></p>\r\n         */\r\n        mergeChild: function(node, tagName, attrs) {\r\n            var list = domUtils.getElementsByTagName(node, node.tagName.toLowerCase());\r\n            for (var i = 0, ci; ci = list[i++];) {\r\n                if (!ci.parentNode || domUtils.isBookmarkNode(ci)) {\r\n                    continue;\r\n                }\r\n                //span单独处理\r\n                if (ci.tagName.toLowerCase() == 'span') {\r\n                    if (node === ci.parentNode) {\r\n                        domUtils.trimWhiteTextNode(node);\r\n                        if (node.childNodes.length == 1) {\r\n                            node.style.cssText = ci.style.cssText + \";\" + node.style.cssText;\r\n                            domUtils.remove(ci, true);\r\n                            continue;\r\n                        }\r\n                    }\r\n                    ci.style.cssText = node.style.cssText + ';' + ci.style.cssText;\r\n                    if (attrs) {\r\n                        var style = attrs.style;\r\n                        if (style) {\r\n                            style = style.split(';');\r\n                            for (var j = 0, s; s = style[j++];) {\r\n                                ci.style[utils.cssStyleToDomStyle(s.split(':')[0])] = s.split(':')[1];\r\n                            }\r\n                        }\r\n                    }\r\n                    if (domUtils.isSameStyle(ci, node)) {\r\n                        domUtils.remove(ci, true);\r\n                    }\r\n                    continue;\r\n                }\r\n                if (domUtils.isSameElement(node, ci)) {\r\n                    domUtils.remove(ci, true);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * 原生方法getElementsByTagName的封装\r\n         * @method getElementsByTagName\r\n         * @param { Node } node 目标节点对象\r\n         * @param { String } tagName 需要查找的节点的tagName， 多个tagName以空格分割\r\n         * @return { Array } 符合条件的节点集合\r\n         */\r\n        getElementsByTagName: function(node, name, filter) {\r\n            if (filter && utils.isString(filter)) {\r\n                var className = filter;\r\n                filter = function(node) { return domUtils.hasClass(node, className) }\r\n            }\r\n            name = utils.trim(name).replace(/[ ]{2,}/g, ' ').split(' ');\r\n            var arr = [];\r\n            for (var n = 0, ni; ni = name[n++];) {\r\n                var list = node.getElementsByTagName(ni);\r\n                for (var i = 0, ci; ci = list[i++];) {\r\n                    if (!filter || filter(ci))\r\n                        arr.push(ci);\r\n                }\r\n            }\r\n\r\n            return arr;\r\n        },\r\n        /**\r\n         * 将节点node提取到父节点上\r\n         * @method mergeToParent\r\n         * @param { Element } node 需要提取的元素对象\r\n         * @example\r\n         * ```html\r\n         * <div id=\"parent\">\r\n         *     <div id=\"sub\">\r\n         *         <span id=\"child\"></span>\r\n         *     </div>\r\n         * </div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var child = document.getElementById( \"child\" );\r\n         *\r\n         *     //output: sub\r\n         *     console.log( child.parentNode.id );\r\n         *\r\n         *     UE.dom.domUtils.mergeToParent( child );\r\n         *\r\n         *     //output: parent\r\n         *     console.log( child.parentNode.id );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        mergeToParent: function(node) {\r\n            var parent = node.parentNode;\r\n            while (parent && dtd.$removeEmpty[parent.tagName]) {\r\n                if (parent.tagName == node.tagName || parent.tagName == 'A') { //针对a标签单独处理\r\n                    domUtils.trimWhiteTextNode(parent);\r\n                    //span需要特殊处理  不处理这样的情况 <span stlye=\"color:#fff\">xxx<span style=\"color:#ccc\">xxx</span>xxx</span>\r\n                    if (parent.tagName == 'SPAN' && !domUtils.isSameStyle(parent, node) ||\r\n                        (parent.tagName == 'A' && node.tagName == 'SPAN')) {\r\n                        if (parent.childNodes.length > 1 || parent !== node.parentNode) {\r\n                            node.style.cssText = parent.style.cssText + \";\" + node.style.cssText;\r\n                            parent = parent.parentNode;\r\n                            continue;\r\n                        } else {\r\n                            parent.style.cssText += \";\" + node.style.cssText;\r\n                            //trace:952 a标签要保持下划线\r\n                            if (parent.tagName == 'A') {\r\n                                parent.style.textDecoration = 'underline';\r\n                            }\r\n                        }\r\n                    }\r\n                    if (parent.tagName != 'A') {\r\n                        parent === node.parentNode && domUtils.remove(node, true);\r\n                        break;\r\n                    }\r\n                }\r\n                parent = parent.parentNode;\r\n            }\r\n        },\r\n        /**\r\n         * 合并节点node的左右兄弟节点\r\n         * @method mergeSibling\r\n         * @param { Element } node 需要合并的目标节点\r\n         * @example\r\n         * ```html\r\n         * <b>xxxx</b><b id=\"test\">ooo</b><b>xxxx</b>\r\n         *\r\n         * <script>\r\n         *     var demoNode = document.getElementById(\"test\");\r\n         *     UE.dom.domUtils.mergeSibling( demoNode );\r\n         *     //output: xxxxoooxxxx\r\n         *     console.log( demoNode.innerHTML );\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 合并节点node的左右兄弟节点， 可以根据给定的条件选择是否忽略合并左节点。\r\n         * @method mergeSibling\r\n         * @param { Element } node 需要合并的目标节点\r\n         * @param { Boolean } ignorePre 是否忽略合并左节点\r\n         * @example\r\n         * ```html\r\n         * <b>xxxx</b><b id=\"test\">ooo</b><b>xxxx</b>\r\n         *\r\n         * <script>\r\n         *     var demoNode = document.getElementById(\"test\");\r\n         *     UE.dom.domUtils.mergeSibling( demoNode, true );\r\n         *     //output: oooxxxx\r\n         *     console.log( demoNode.innerHTML );\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 合并节点node的左右兄弟节点，可以根据给定的条件选择是否忽略合并左右节点。\r\n         * @method mergeSibling\r\n         * @param { Element } node 需要合并的目标节点\r\n         * @param { Boolean } ignorePre 是否忽略合并左节点\r\n         * @param { Boolean } ignoreNext 是否忽略合并右节点\r\n         * @remind 如果同时忽略左右节点， 则该操作什么也不会做\r\n         * @example\r\n         * ```html\r\n         * <b>xxxx</b><b id=\"test\">ooo</b><b>xxxx</b>\r\n         *\r\n         * <script>\r\n         *     var demoNode = document.getElementById(\"test\");\r\n         *     UE.dom.domUtils.mergeSibling( demoNode, false, true );\r\n         *     //output: xxxxooo\r\n         *     console.log( demoNode.innerHTML );\r\n         * </script>\r\n         * ```\r\n         */\r\n        mergeSibling: function(node, ignorePre, ignoreNext) {\r\n            function merge(rtl, start, node) {\r\n                var next;\r\n                if ((next = node[rtl]) && !domUtils.isBookmarkNode(next) && next.nodeType == 1 && domUtils.isSameElement(node, next)) {\r\n                    while (next.firstChild) {\r\n                        if (start == 'firstChild') {\r\n                            node.insertBefore(next.lastChild, node.firstChild);\r\n                        } else {\r\n                            node.appendChild(next.firstChild);\r\n                        }\r\n                    }\r\n                    domUtils.remove(next);\r\n                }\r\n            }!ignorePre && merge('previousSibling', 'firstChild', node);\r\n            !ignoreNext && merge('nextSibling', 'lastChild', node);\r\n        },\r\n\r\n        /**\r\n         * 设置节点node及其子节点不会被选中\r\n         * @method unSelectable\r\n         * @param { Element } node 需要执行操作的dom元素\r\n         * @remind 执行该操作后的节点， 将不能被鼠标选中\r\n         * @example\r\n         * ```javascript\r\n         * UE.dom.domUtils.unSelectable( document.body );\r\n         * ```\r\n         */\r\n        unSelectable: ie && browser.ie9below || browser.opera ? function(node) {\r\n            //for ie9\r\n            node.onselectstart = function() {\r\n                return false;\r\n            };\r\n            node.onclick = node.onkeyup = node.onkeydown = function() {\r\n                return false;\r\n            };\r\n            node.unselectable = 'on';\r\n            node.setAttribute(\"unselectable\", \"on\");\r\n            for (var i = 0, ci; ci = node.all[i++];) {\r\n                switch (ci.tagName.toLowerCase()) {\r\n                    case 'iframe':\r\n                    case 'textarea':\r\n                    case 'input':\r\n                    case 'select':\r\n                        break;\r\n                    default:\r\n                        ci.unselectable = 'on';\r\n                        node.setAttribute(\"unselectable\", \"on\");\r\n                }\r\n            }\r\n        } : function(node) {\r\n            node.style.MozUserSelect =\r\n                node.style.webkitUserSelect =\r\n                node.style.msUserSelect =\r\n                node.style.KhtmlUserSelect = 'none';\r\n        },\r\n        /**\r\n         * 删除节点node上的指定属性名称的属性\r\n         * @method  removeAttributes\r\n         * @param { Node } node 需要删除属性的节点对象\r\n         * @param { String } attrNames 可以是空格隔开的多个属性名称，该操作将会依次删除相应的属性\r\n         * @example\r\n         * ```html\r\n         * <div id=\"wrap\">\r\n         *      <span style=\"font-size:14px;\" id=\"test\" name=\"followMe\">xxxxx</span>\r\n         * </div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     UE.dom.domUtils.removeAttributes( document.getElementById( \"test\" ), \"id name\" );\r\n         *\r\n         *     //output: <span style=\"font-size:14px;\">xxxxx</span>\r\n         *     console.log( document.getElementById(\"wrap\").innerHTML );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 删除节点node上的指定属性名称的属性\r\n         * @method  removeAttributes\r\n         * @param { Node } node 需要删除属性的节点对象\r\n         * @param { Array } attrNames 需要删除的属性名数组\r\n         * @example\r\n         * ```html\r\n         * <div id=\"wrap\">\r\n         *      <span style=\"font-size:14px;\" id=\"test\" name=\"followMe\">xxxxx</span>\r\n         * </div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     UE.dom.domUtils.removeAttributes( document.getElementById( \"test\" ), [\"id\", \"name\"] );\r\n         *\r\n         *     //output: <span style=\"font-size:14px;\">xxxxx</span>\r\n         *     console.log( document.getElementById(\"wrap\").innerHTML );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        removeAttributes: function(node, attrNames) {\r\n            attrNames = utils.isArray(attrNames) ? attrNames : utils.trim(attrNames).replace(/[ ]{2,}/g, ' ').split(' ');\r\n            for (var i = 0, ci; ci = attrNames[i++];) {\r\n                ci = attrFix[ci] || ci;\r\n                switch (ci) {\r\n                    case 'className':\r\n                        node[ci] = '';\r\n                        break;\r\n                    case 'style':\r\n                        node.style.cssText = '';\r\n                        var val = node.getAttributeNode('style');\r\n                        !browser.ie && val && node.removeAttributeNode(val);\r\n                }\r\n                node.removeAttribute(ci);\r\n            }\r\n        },\r\n        /**\r\n         * 在doc下创建一个标签名为tag，属性为attrs的元素\r\n         * @method createElement\r\n         * @param { DomDocument } doc 新创建的元素属于该document节点创建\r\n         * @param { String } tagName 需要创建的元素的标签名\r\n         * @param { Object } attrs 新创建的元素的属性key-value集合\r\n         * @return { Element } 新创建的元素对象\r\n         * @example\r\n         * ```javascript\r\n         * var ele = UE.dom.domUtils.createElement( document, 'div', {\r\n         *     id: 'test'\r\n         * } );\r\n         *\r\n         * //output: DIV\r\n         * console.log( ele.tagName );\r\n         *\r\n         * //output: test\r\n         * console.log( ele.id );\r\n         *\r\n         * ```\r\n         */\r\n        createElement: function(doc, tag, attrs) {\r\n            return domUtils.setAttributes(doc.createElement(tag), attrs)\r\n        },\r\n        /**\r\n         * 为节点node添加属性attrs，attrs为属性键值对\r\n         * @method setAttributes\r\n         * @param { Element } node 需要设置属性的元素对象\r\n         * @param { Object } attrs 需要设置的属性名-值对\r\n         * @return { Element } 设置属性的元素对象\r\n         * @example\r\n         * ```html\r\n         * <span id=\"test\"></span>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var testNode = UE.dom.domUtils.setAttributes( document.getElementById( \"test\" ), {\r\n         *         id: 'demo'\r\n         *     } );\r\n         *\r\n         *     //output: demo\r\n         *     console.log( testNode.id );\r\n         *\r\n         * </script>\r\n         *\r\n         */\r\n        setAttributes: function(node, attrs) {\r\n            for (var attr in attrs) {\r\n                if (attrs.hasOwnProperty(attr)) {\r\n                    var value = attrs[attr];\r\n                    switch (attr) {\r\n                        case 'class':\r\n                            //ie下要这样赋值，setAttribute不起作用\r\n                            node.className = value;\r\n                            break;\r\n                        case 'style':\r\n                            node.style.cssText = node.style.cssText + \";\" + value;\r\n                            break;\r\n                        case 'innerHTML':\r\n                            node[attr] = value;\r\n                            break;\r\n                        case 'value':\r\n                            node.value = value;\r\n                            break;\r\n                        default:\r\n                            node.setAttribute(attrFix[attr] || attr, value);\r\n                    }\r\n                }\r\n            }\r\n            return node;\r\n        },\r\n\r\n        /**\r\n         * 获取元素element经过计算后的样式值\r\n         * @method getComputedStyle\r\n         * @param { Element } element 需要获取样式的元素对象\r\n         * @param { String } styleName 需要获取的样式名\r\n         * @return { String } 获取到的样式值\r\n         * @example\r\n         * ```html\r\n         * <style type=\"text/css\">\r\n         *      #test {\r\n         *          font-size: 15px;\r\n         *      }\r\n         * </style>\r\n         *\r\n         * <span id=\"test\"></span>\r\n         *\r\n         * <script>\r\n         *     //output: 15px\r\n         *     console.log( UE.dom.domUtils.getComputedStyle( document.getElementById( \"test\" ), 'font-size' ) );\r\n         * </script>\r\n         * ```\r\n         */\r\n        getComputedStyle: function(element, styleName) {\r\n            //一下的属性单独处理\r\n            var pros = 'width height top left';\r\n\r\n            if (pros.indexOf(styleName) > -1) {\r\n                return element['offset' + styleName.replace(/^\\w/, function(s) { return s.toUpperCase() })] + 'px';\r\n            }\r\n            //忽略文本节点\r\n            if (element.nodeType == 3) {\r\n                element = element.parentNode;\r\n            }\r\n            //ie下font-size若body下定义了font-size，则从currentStyle里会取到这个font-size. 取不到实际值，故此修改.\r\n            if (browser.ie && browser.version < 9 && styleName == 'font-size' && !element.style.fontSize &&\r\n                !dtd.$empty[element.tagName] && !dtd.$nonChild[element.tagName]) {\r\n                var span = element.ownerDocument.createElement('span');\r\n                span.style.cssText = 'padding:0;border:0;font-family:simsun;';\r\n                span.innerHTML = '.';\r\n                element.appendChild(span);\r\n                var result = span.offsetHeight;\r\n                element.removeChild(span);\r\n                span = null;\r\n                return result + 'px';\r\n            }\r\n            try {\r\n                var value = domUtils.getStyle(element, styleName) ||\r\n                    (window.getComputedStyle ? domUtils.getWindow(element).getComputedStyle(element, '').getPropertyValue(styleName) :\r\n                        (element.currentStyle || element.style)[utils.cssStyleToDomStyle(styleName)]);\r\n\r\n            } catch (e) {\r\n                return \"\";\r\n            }\r\n            return utils.transUnitToPx(utils.fixColor(styleName, value));\r\n        },\r\n        /**\r\n         * 删除元素element指定的className\r\n         * @method removeClasses\r\n         * @param { Element } ele 需要删除class的元素节点\r\n         * @param { String } classNames 需要删除的className， 多个className之间以空格分开\r\n         * @example\r\n         * ```html\r\n         * <span id=\"test\" class=\"test1 test2 test3\">xxx</span>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var testNode = document.getElementById( \"test\" );\r\n         *     UE.dom.domUtils.removeClasses( testNode, \"test1 test2\" );\r\n         *\r\n         *     //output: test3\r\n         *     console.log( testNode.className );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 删除元素element指定的className\r\n         * @method removeClasses\r\n         * @param { Element } ele 需要删除class的元素节点\r\n         * @param { Array } classNames 需要删除的className数组\r\n         * @example\r\n         * ```html\r\n         * <span id=\"test\" class=\"test1 test2 test3\">xxx</span>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var testNode = document.getElementById( \"test\" );\r\n         *     UE.dom.domUtils.removeClasses( testNode, [\"test1\", \"test2\"] );\r\n         *\r\n         *     //output: test3\r\n         *     console.log( testNode.className );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        removeClasses: function(elm, classNames) {\r\n            classNames = utils.isArray(classNames) ? classNames :\r\n                utils.trim(classNames).replace(/[ ]{2,}/g, ' ').split(' ');\r\n            for (var i = 0, ci, cls = elm.className; ci = classNames[i++];) {\r\n                cls = cls.replace(new RegExp('\\\\b' + ci + '\\\\b'), '')\r\n            }\r\n            cls = utils.trim(cls).replace(/[ ]{2,}/g, ' ');\r\n            if (cls) {\r\n                elm.className = cls;\r\n            } else {\r\n                domUtils.removeAttributes(elm, ['class']);\r\n            }\r\n        },\r\n        /**\r\n         * 给元素element添加className\r\n         * @method addClass\r\n         * @param { Node } ele 需要增加className的元素\r\n         * @param { String } classNames 需要添加的className， 多个className之间以空格分割\r\n         * @remind 相同的类名不会被重复添加\r\n         * @example\r\n         * ```html\r\n         * <span id=\"test\" class=\"cls1 cls2\"></span>\r\n         *\r\n         * <script>\r\n         *     var testNode = document.getElementById(\"test\");\r\n         *\r\n         *     UE.dom.domUtils.addClass( testNode, \"cls2 cls3 cls4\" );\r\n         *\r\n         *     //output: cl1 cls2 cls3 cls4\r\n         *     console.log( testNode.className );\r\n         *\r\n         * <script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 给元素element添加className\r\n         * @method addClass\r\n         * @param { Node } ele 需要增加className的元素\r\n         * @param { Array } classNames 需要添加的className的数组\r\n         * @remind 相同的类名不会被重复添加\r\n         * @example\r\n         * ```html\r\n         * <span id=\"test\" class=\"cls1 cls2\"></span>\r\n         *\r\n         * <script>\r\n         *     var testNode = document.getElementById(\"test\");\r\n         *\r\n         *     UE.dom.domUtils.addClass( testNode, [\"cls2\", \"cls3\", \"cls4\"] );\r\n         *\r\n         *     //output: cl1 cls2 cls3 cls4\r\n         *     console.log( testNode.className );\r\n         *\r\n         * <script>\r\n         * ```\r\n         */\r\n        addClass: function(elm, classNames) {\r\n            if (!elm) return;\r\n            classNames = utils.trim(classNames).replace(/[ ]{2,}/g, ' ').split(' ');\r\n            for (var i = 0, ci, cls = elm.className; ci = classNames[i++];) {\r\n                if (!new RegExp('\\\\b' + ci + '\\\\b').test(cls)) {\r\n                    cls += ' ' + ci;\r\n                }\r\n            }\r\n            elm.className = utils.trim(cls);\r\n        },\r\n        /**\r\n         * 判断元素element是否包含给定的样式类名className\r\n         * @method hasClass\r\n         * @param { Node } ele 需要检测的元素\r\n         * @param { String } classNames 需要检测的className， 多个className之间用空格分割\r\n         * @return { Boolean } 元素是否包含所有给定的className\r\n         * @example\r\n         * ```html\r\n         * <span id=\"test1\" class=\"cls1 cls2\"></span>\r\n         *\r\n         * <script>\r\n         *     var test1 = document.getElementById(\"test1\");\r\n         *\r\n         *     //output: false\r\n         *     console.log( UE.dom.domUtils.hasClass( test1, \"cls2 cls1 cls3\" ) );\r\n         *\r\n         *     //output: true\r\n         *     console.log( UE.dom.domUtils.hasClass( test1, \"cls2 cls1\" ) );\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 判断元素element是否包含给定的样式类名className\r\n         * @method hasClass\r\n         * @param { Node } ele 需要检测的元素\r\n         * @param { Array } classNames 需要检测的className数组\r\n         * @return { Boolean } 元素是否包含所有给定的className\r\n         * @example\r\n         * ```html\r\n         * <span id=\"test1\" class=\"cls1 cls2\"></span>\r\n         *\r\n         * <script>\r\n         *     var test1 = document.getElementById(\"test1\");\r\n         *\r\n         *     //output: false\r\n         *     console.log( UE.dom.domUtils.hasClass( test1, [ \"cls2\", \"cls1\", \"cls3\" ] ) );\r\n         *\r\n         *     //output: true\r\n         *     console.log( UE.dom.domUtils.hasClass( test1, [ \"cls2\", \"cls1\" ]) );\r\n         * </script>\r\n         * ```\r\n         */\r\n        hasClass: function(element, className) {\r\n            if (utils.isRegExp(className)) {\r\n                return className.test(element.className)\r\n            }\r\n            className = utils.trim(className).replace(/[ ]{2,}/g, ' ').split(' ');\r\n            for (var i = 0, ci, cls = element.className; ci = className[i++];) {\r\n                if (!new RegExp('\\\\b' + ci + '\\\\b', 'i').test(cls)) {\r\n                    return false;\r\n                }\r\n            }\r\n            return i - 1 == className.length;\r\n        },\r\n\r\n        /**\r\n         * 阻止事件默认行为\r\n         * @method preventDefault\r\n         * @param { Event } evt 需要阻止默认行为的事件对象\r\n         * @example\r\n         * ```javascript\r\n         * UE.dom.domUtils.preventDefault( evt );\r\n         * ```\r\n         */\r\n        preventDefault: function(evt) {\r\n            evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\r\n        },\r\n        /**\r\n         * 删除元素element指定的样式\r\n         * @method removeStyle\r\n         * @param { Element } element 需要删除样式的元素\r\n         * @param { String } styleName 需要删除的样式名\r\n         * @example\r\n         * ```html\r\n         * <span id=\"test\" style=\"color: red; background: blue;\"></span>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var testNode = document.getElementById(\"test\");\r\n         *\r\n         *     UE.dom.domUtils.removeStyle( testNode, 'color' );\r\n         *\r\n         *     //output: background: blue;\r\n         *     console.log( testNode.style.cssText );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        removeStyle: function(element, name) {\r\n            if (browser.ie) {\r\n                //针对color先单独处理一下\r\n                if (name == 'color') {\r\n                    name = '(^|;)' + name;\r\n                }\r\n                element.style.cssText = element.style.cssText.replace(new RegExp(name + '[^:]*:[^;]+;?', 'ig'), '')\r\n            } else {\r\n                if (element.style.removeProperty) {\r\n                    element.style.removeProperty(name);\r\n                } else {\r\n                    element.style.removeAttribute(utils.cssStyleToDomStyle(name));\r\n                }\r\n            }\r\n\r\n\r\n            if (!element.style.cssText) {\r\n                domUtils.removeAttributes(element, ['style']);\r\n            }\r\n        },\r\n        /**\r\n         * 获取元素element的style属性的指定值\r\n         * @method getStyle\r\n         * @param { Element } element 需要获取属性值的元素\r\n         * @param { String } styleName 需要获取的style的名称\r\n         * @warning 该方法仅获取元素style属性中所标明的值\r\n         * @return { String } 该元素包含指定的style属性值\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\" style=\"color: red;\"></div>\r\n         *\r\n         * <script>\r\n         *\r\n         *      var testNode = document.getElementById( \"test\" );\r\n         *\r\n         *      //output: red\r\n         *      console.log( UE.dom.domUtils.getStyle( testNode, \"color\" ) );\r\n         *\r\n         *      //output: \"\"\r\n         *      console.log( UE.dom.domUtils.getStyle( testNode, \"background\" ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        getStyle: function(element, name) {\r\n            var value = element.style[utils.cssStyleToDomStyle(name)];\r\n            return utils.fixColor(name, value);\r\n        },\r\n        /**\r\n         * 为元素element设置样式属性值\r\n         * @method setStyle\r\n         * @param { Element } element 需要设置样式的元素\r\n         * @param { String } styleName 样式名\r\n         * @param { String } styleValue 样式值\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\"></div>\r\n         *\r\n         * <script>\r\n         *\r\n         *      var testNode = document.getElementById( \"test\" );\r\n         *\r\n         *      //output: \"\"\r\n         *      console.log( testNode.style.color );\r\n         *\r\n         *      UE.dom.domUtils.setStyle( testNode, 'color', 'red' );\r\n         *      //output: \"red\"\r\n         *      console.log( testNode.style.color );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        setStyle: function(element, name, value) {\r\n            element.style[utils.cssStyleToDomStyle(name)] = value;\r\n            if (!utils.trim(element.style.cssText)) {\r\n                this.removeAttributes(element, 'style')\r\n            }\r\n        },\r\n        /**\r\n         * 为元素element设置多个样式属性值\r\n         * @method setStyles\r\n         * @param { Element } element 需要设置样式的元素\r\n         * @param { Object } styles 样式名值对\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\"></div>\r\n         *\r\n         * <script>\r\n         *\r\n         *      var testNode = document.getElementById( \"test\" );\r\n         *\r\n         *      //output: \"\"\r\n         *      console.log( testNode.style.color );\r\n         *\r\n         *      UE.dom.domUtils.setStyles( testNode, {\r\n         *          'color': 'red'\r\n         *      } );\r\n         *      //output: \"red\"\r\n         *      console.log( testNode.style.color );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        setStyles: function(element, styles) {\r\n            for (var name in styles) {\r\n                if (styles.hasOwnProperty(name)) {\r\n                    domUtils.setStyle(element, name, styles[name]);\r\n                }\r\n            }\r\n        },\r\n        /**\r\n         * 删除_moz_dirty属性\r\n         * @private\r\n         * @method removeDirtyAttr\r\n         */\r\n        removeDirtyAttr: function(node) {\r\n            for (var i = 0, ci, nodes = node.getElementsByTagName('*'); ci = nodes[i++];) {\r\n                ci.removeAttribute('_moz_dirty');\r\n            }\r\n            node.removeAttribute('_moz_dirty');\r\n        },\r\n        /**\r\n         * 获取子节点的数量\r\n         * @method getChildCount\r\n         * @param { Element } node 需要检测的元素\r\n         * @return { Number } 给定的node元素的子节点数量\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\">\r\n         *      <span></span>\r\n         * </div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     //output: 3\r\n         *     console.log( UE.dom.domUtils.getChildCount( document.getElementById(\"test\") ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 根据给定的过滤规则， 获取符合条件的子节点的数量\r\n         * @method getChildCount\r\n         * @param { Element } node 需要检测的元素\r\n         * @param { Function } fn 过滤器， 要求对符合条件的子节点返回true， 反之则要求返回false\r\n         * @return { Number } 符合过滤条件的node元素的子节点数量\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\">\r\n         *      <span></span>\r\n         * </div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     //output: 1\r\n         *     console.log( UE.dom.domUtils.getChildCount( document.getElementById(\"test\"), function ( node ) {\r\n         *\r\n         *         return node.nodeType === 1;\r\n         *\r\n         *     } ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        getChildCount: function(node, fn) {\r\n            var count = 0,\r\n                first = node.firstChild;\r\n            fn = fn || function() {\r\n                return 1;\r\n            };\r\n            while (first) {\r\n                if (fn(first)) {\r\n                    count++;\r\n                }\r\n                first = first.nextSibling;\r\n            }\r\n            return count;\r\n        },\r\n\r\n        /**\r\n         * 判断给定节点是否为空节点\r\n         * @method isEmptyNode\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @return { Boolean } 节点是否为空\r\n         * @example\r\n         * ```javascript\r\n         * UE.dom.domUtils.isEmptyNode( document.body );\r\n         * ```\r\n         */\r\n        isEmptyNode: function(node) {\r\n            return !node.firstChild || domUtils.getChildCount(node, function(node) {\r\n                return !domUtils.isBr(node) && !domUtils.isBookmarkNode(node) && !domUtils.isWhitespace(node)\r\n            }) == 0\r\n        },\r\n        clearSelectedArr: function(nodes) {\r\n            var node;\r\n            while (node = nodes.pop()) {\r\n                domUtils.removeAttributes(node, ['class']);\r\n            }\r\n        },\r\n        /**\r\n         * 将显示区域滚动到指定节点的位置\r\n         * @method scrollToView\r\n         * @param    {Node}   node    节点\r\n         * @param    {window}   win      window对象\r\n         * @param    {Number}    offsetTop    距离上方的偏移量\r\n         */\r\n        scrollToView: function(node, win, offsetTop) {\r\n            var getViewPaneSize = function() {\r\n                    var doc = win.document,\r\n                        mode = doc.compatMode == 'CSS1Compat';\r\n                    return {\r\n                        width: (mode ? doc.documentElement.clientWidth : doc.body.clientWidth) || 0,\r\n                        height: (mode ? doc.documentElement.clientHeight : doc.body.clientHeight) || 0\r\n                    };\r\n                },\r\n                getScrollPosition = function(win) {\r\n                    if ('pageXOffset' in win) {\r\n                        return {\r\n                            x: win.pageXOffset || 0,\r\n                            y: win.pageYOffset || 0\r\n                        };\r\n                    } else {\r\n                        var doc = win.document;\r\n                        return {\r\n                            x: doc.documentElement.scrollLeft || doc.body.scrollLeft || 0,\r\n                            y: doc.documentElement.scrollTop || doc.body.scrollTop || 0\r\n                        };\r\n                    }\r\n                };\r\n            var winHeight = getViewPaneSize().height,\r\n                offset = winHeight * -1 + offsetTop;\r\n            offset += (node.offsetHeight || 0);\r\n            var elementPosition = domUtils.getXY(node);\r\n            offset += elementPosition.y;\r\n            var currentScroll = getScrollPosition(win).y;\r\n            // offset += 50;\r\n            if (offset > currentScroll || offset < currentScroll - winHeight) {\r\n                win.scrollTo(0, offset + (offset < 0 ? -20 : 20));\r\n            }\r\n        },\r\n        /**\r\n         * 判断给定节点是否为br\r\n         * @method isBr\r\n         * @param { Node } node 需要判断的节点对象\r\n         * @return { Boolean } 给定的节点是否是br节点\r\n         */\r\n        isBr: function(node) {\r\n            return node.nodeType == 1 && node.tagName == 'BR';\r\n        },\r\n        /**\r\n         * 判断给定的节点是否是一个“填充”节点\r\n         * @private\r\n         * @method isFillChar\r\n         * @param { Node } node 需要判断的节点\r\n         * @param { Boolean } isInStart 是否从节点内容的开始位置匹配\r\n         * @returns { Boolean } 节点是否是填充节点\r\n         */\r\n        isFillChar: function(node, isInStart) {\r\n            if (node.nodeType != 3)\r\n                return false;\r\n            var text = node.nodeValue;\r\n            if (isInStart) {\r\n                return new RegExp('^' + domUtils.fillChar).test(text)\r\n            }\r\n            return !text.replace(new RegExp(domUtils.fillChar, 'g'), '').length\r\n        },\r\n        isStartInblock: function(range) {\r\n            var tmpRange = range.cloneRange(),\r\n                flag = 0,\r\n                start = tmpRange.startContainer,\r\n                tmp;\r\n            if (start.nodeType == 1 && start.childNodes[tmpRange.startOffset]) {\r\n                start = start.childNodes[tmpRange.startOffset];\r\n                var pre = start.previousSibling;\r\n                while (pre && domUtils.isFillChar(pre)) {\r\n                    start = pre;\r\n                    pre = pre.previousSibling;\r\n                }\r\n            }\r\n            if (this.isFillChar(start, true) && tmpRange.startOffset == 1) {\r\n                tmpRange.setStartBefore(start);\r\n                start = tmpRange.startContainer;\r\n            }\r\n\r\n            while (start && domUtils.isFillChar(start)) {\r\n                tmp = start;\r\n                start = start.previousSibling\r\n            }\r\n            if (tmp) {\r\n                tmpRange.setStartBefore(tmp);\r\n                start = tmpRange.startContainer;\r\n            }\r\n            if (start.nodeType == 1 && domUtils.isEmptyNode(start) && tmpRange.startOffset == 1) {\r\n                tmpRange.setStart(start, 0).collapse(true);\r\n            }\r\n            while (!tmpRange.startOffset) {\r\n                start = tmpRange.startContainer;\r\n                if (domUtils.isBlockElm(start) || domUtils.isBody(start)) {\r\n                    flag = 1;\r\n                    break;\r\n                }\r\n                var pre = tmpRange.startContainer.previousSibling,\r\n                    tmpNode;\r\n                if (!pre) {\r\n                    tmpRange.setStartBefore(tmpRange.startContainer);\r\n                } else {\r\n                    while (pre && domUtils.isFillChar(pre)) {\r\n                        tmpNode = pre;\r\n                        pre = pre.previousSibling;\r\n                    }\r\n                    if (tmpNode) {\r\n                        tmpRange.setStartBefore(tmpNode);\r\n                    } else {\r\n                        tmpRange.setStartBefore(tmpRange.startContainer);\r\n                    }\r\n                }\r\n            }\r\n            return flag && !domUtils.isBody(tmpRange.startContainer) ? 1 : 0;\r\n        },\r\n\r\n        /**\r\n         * 判断给定的元素是否是一个空元素\r\n         * @method isEmptyBlock\r\n         * @param { Element } node 需要判断的元素\r\n         * @return { Boolean } 是否是空元素\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\"></div>\r\n         *\r\n         * <script>\r\n         *     //output: true\r\n         *     console.log( UE.dom.domUtils.isEmptyBlock( document.getElementById(\"test\") ) );\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 根据指定的判断规则判断给定的元素是否是一个空元素\r\n         * @method isEmptyBlock\r\n         * @param { Element } node 需要判断的元素\r\n         * @param { RegExp } reg 对内容执行判断的正则表达式对象\r\n         * @return { Boolean } 是否是空元素\r\n         */\r\n        isEmptyBlock: function(node, reg) {\r\n            if (node.nodeType != 1)\r\n                return 0;\r\n            reg = reg || new RegExp('[ \\xa0\\t\\r\\n' + domUtils.fillChar + ']', 'g');\r\n\r\n            if (node[browser.ie ? 'innerText' : 'textContent'].replace(reg, '').length > 0) {\r\n                return 0;\r\n            }\r\n            for (var n in dtd.$isNotEmpty) {\r\n                if (node.getElementsByTagName(n).length) {\r\n                    return 0;\r\n                }\r\n            }\r\n            return 1;\r\n        },\r\n\r\n        /**\r\n         * 移动元素使得该元素的位置移动指定的偏移量的距离\r\n         * @method setViewportOffset\r\n         * @param { Element } element 需要设置偏移量的元素\r\n         * @param { Object } offset 偏移量， 形如{ left: 100, top: 50 }的一个键值对， 表示该元素将在\r\n         *                                  现有的位置上向水平方向偏移offset.left的距离， 在竖直方向上偏移\r\n         *                                  offset.top的距离\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\" style=\"top: 100px; left: 50px; position: absolute;\"></div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var testNode = document.getElementById(\"test\");\r\n         *\r\n         *     UE.dom.domUtils.setViewportOffset( testNode, {\r\n         *         left: 200,\r\n         *         top: 50\r\n         *     } );\r\n         *\r\n         *     //output: top: 300px; left: 100px; position: absolute;\r\n         *     console.log( testNode.style.cssText );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        setViewportOffset: function(element, offset) {\r\n            var left = parseInt(element.style.left) | 0;\r\n            var top = parseInt(element.style.top) | 0;\r\n            var rect = element.getBoundingClientRect();\r\n            var offsetLeft = offset.left - rect.left;\r\n            var offsetTop = offset.top - rect.top;\r\n            if (offsetLeft) {\r\n                element.style.left = left + offsetLeft + 'px';\r\n            }\r\n            if (offsetTop) {\r\n                element.style.top = top + offsetTop + 'px';\r\n            }\r\n        },\r\n\r\n        /**\r\n         * 用“填充字符”填充节点\r\n         * @method fillNode\r\n         * @private\r\n         * @param { DomDocument } doc 填充的节点所在的docment对象\r\n         * @param { Node } node 需要填充的节点对象\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\"></div>\r\n         *\r\n         * <script>\r\n         *     var testNode = document.getElementById(\"test\");\r\n         *\r\n         *     //output: 0\r\n         *     console.log( testNode.childNodes.length );\r\n         *\r\n         *     UE.dom.domUtils.fillNode( document, testNode );\r\n         *\r\n         *     //output: 1\r\n         *     console.log( testNode.childNodes.length );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        fillNode: function(doc, node) {\r\n            var tmpNode = browser.ie ? doc.createTextNode(domUtils.fillChar) : doc.createElement('br');\r\n            node.innerHTML = '';\r\n            node.appendChild(tmpNode);\r\n        },\r\n\r\n        /**\r\n         * 把节点src的所有子节点追加到另一个节点tag上去\r\n         * @method moveChild\r\n         * @param { Node } src 源节点， 该节点下的所有子节点将被移除\r\n         * @param { Node } tag 目标节点， 从源节点移除的子节点将被追加到该节点下\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test1\">\r\n         *      <span></span>\r\n         * </div>\r\n         * <div id=\"test2\">\r\n         *     <div></div>\r\n         * </div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var test1 = document.getElementById(\"test1\"),\r\n         *         test2 = document.getElementById(\"test2\");\r\n         *\r\n         *     UE.dom.domUtils.moveChild( test1, test2 );\r\n         *\r\n         *     //output: \"\"（空字符串）\r\n         *     console.log( test1.innerHTML );\r\n         *\r\n         *     //output: \"<div></div><span></span>\"\r\n         *     console.log( test2.innerHTML );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 把节点src的所有子节点移动到另一个节点tag上去, 可以通过dir参数控制附加的行为是“追加”还是“插入顶部”\r\n         * @method moveChild\r\n         * @param { Node } src 源节点， 该节点下的所有子节点将被移除\r\n         * @param { Node } tag 目标节点， 从源节点移除的子节点将被附加到该节点下\r\n         * @param { Boolean } dir 附加方式， 如果为true， 则附加进去的节点将被放到目标节点的顶部， 反之，则放到末尾\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test1\">\r\n         *      <span></span>\r\n         * </div>\r\n         * <div id=\"test2\">\r\n         *     <div></div>\r\n         * </div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     var test1 = document.getElementById(\"test1\"),\r\n         *         test2 = document.getElementById(\"test2\");\r\n         *\r\n         *     UE.dom.domUtils.moveChild( test1, test2, true );\r\n         *\r\n         *     //output: \"\"（空字符串）\r\n         *     console.log( test1.innerHTML );\r\n         *\r\n         *     //output: \"<span></span><div></div>\"\r\n         *     console.log( test2.innerHTML );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        moveChild: function(src, tag, dir) {\r\n            while (src.firstChild) {\r\n                if (dir && tag.firstChild) {\r\n                    tag.insertBefore(src.lastChild, tag.firstChild);\r\n                } else {\r\n                    tag.appendChild(src.firstChild);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * 判断节点的标签上是否不存在任何属性\r\n         * @method hasNoAttributes\r\n         * @private\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @return { Boolean } 节点是否不包含任何属性\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\"><span>xxxx</span></div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     //output: false\r\n         *     console.log( UE.dom.domUtils.hasNoAttributes( document.getElementById(\"test\") ) );\r\n         *\r\n         *     //output: true\r\n         *     console.log( UE.dom.domUtils.hasNoAttributes( document.getElementById(\"test\").firstChild ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        hasNoAttributes: function(node) {\r\n            return browser.ie ? /^<\\w+\\s*?>/.test(node.outerHTML) : node.attributes.length == 0;\r\n        },\r\n\r\n        /**\r\n         * 检测节点是否是UEditor所使用的辅助节点\r\n         * @method isCustomeNode\r\n         * @private\r\n         * @param { Node } node 需要检测的节点\r\n         * @remind 辅助节点是指编辑器要完成工作临时添加的节点， 在输出的时候将会从编辑器内移除， 不会影响最终的结果。\r\n         * @return { Boolean } 给定的节点是否是一个辅助节点\r\n         */\r\n        isCustomeNode: function(node) {\r\n            return node.nodeType == 1 && node.getAttribute('_ue_custom_node_');\r\n        },\r\n\r\n        /**\r\n         * 检测节点的标签是否是给定的标签\r\n         * @method isTagNode\r\n         * @param { Node } node 需要检测的节点对象\r\n         * @param { String } tagName 标签\r\n         * @return { Boolean } 节点的标签是否是给定的标签\r\n         * @example\r\n         * ```html\r\n         * <div id=\"test\"></div>\r\n         *\r\n         * <script>\r\n         *\r\n         *     //output: true\r\n         *     console.log( UE.dom.domUtils.isTagNode( document.getElementById(\"test\"), \"div\" ) );\r\n         *\r\n         * </script>\r\n         * ```\r\n         */\r\n        isTagNode: function(node, tagNames) {\r\n            return node.nodeType == 1 && new RegExp('\\\\b' + node.tagName + '\\\\b', 'i').test(tagNames)\r\n        },\r\n\r\n        /**\r\n         * 给定一个节点数组，在通过指定的过滤器过滤后， 获取其中满足过滤条件的第一个节点\r\n         * @method filterNodeList\r\n         * @param { Array } nodeList 需要过滤的节点数组\r\n         * @param { Function } fn 过滤器， 对符合条件的节点， 执行结果返回true， 反之则返回false\r\n         * @return { Node | NULL } 如果找到符合过滤条件的节点， 则返回该节点， 否则返回NULL\r\n         * @example\r\n         * ```javascript\r\n         * var divNodes = document.getElementsByTagName(\"div\");\r\n         * divNodes = [].slice.call( divNodes, 0 );\r\n         *\r\n         * //output: null\r\n         * console.log( UE.dom.domUtils.filterNodeList( divNodes, function ( node ) {\r\n         *     return node.tagName.toLowerCase() !== 'div';\r\n         * } ) );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 给定一个节点数组nodeList和一组标签名tagNames， 获取其中能够匹配标签名的节点集合中的第一个节点\r\n         * @method filterNodeList\r\n         * @param { Array } nodeList 需要过滤的节点数组\r\n         * @param { String } tagNames 需要匹配的标签名， 多个标签名之间用空格分割\r\n         * @return { Node | NULL } 如果找到标签名匹配的节点， 则返回该节点， 否则返回NULL\r\n         * @example\r\n         * ```javascript\r\n         * var divNodes = document.getElementsByTagName(\"div\");\r\n         * divNodes = [].slice.call( divNodes, 0 );\r\n         *\r\n         * //output: null\r\n         * console.log( UE.dom.domUtils.filterNodeList( divNodes, 'a span' ) );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 给定一个节点数组，在通过指定的过滤器过滤后， 如果参数forAll为true， 则会返回所有满足过滤\r\n         * 条件的节点集合， 否则， 返回满足条件的节点集合中的第一个节点\r\n         * @method filterNodeList\r\n         * @param { Array } nodeList 需要过滤的节点数组\r\n         * @param { Function } fn 过滤器， 对符合条件的节点， 执行结果返回true， 反之则返回false\r\n         * @param { Boolean } forAll 是否返回整个节点数组, 如果该参数为false， 则返回节点集合中的第一个节点\r\n         * @return { Array | Node | NULL } 如果找到符合过滤条件的节点， 则根据参数forAll的值决定返回满足\r\n         *                                      过滤条件的节点数组或第一个节点， 否则返回NULL\r\n         * @example\r\n         * ```javascript\r\n         * var divNodes = document.getElementsByTagName(\"div\");\r\n         * divNodes = [].slice.call( divNodes, 0 );\r\n         *\r\n         * //output: 3（假定有3个div）\r\n         * console.log( divNodes.length );\r\n         *\r\n         * var nodes = UE.dom.domUtils.filterNodeList( divNodes, function ( node ) {\r\n         *     return node.tagName.toLowerCase() === 'div';\r\n         * }, true );\r\n         *\r\n         * //output: 3\r\n         * console.log( nodes.length );\r\n         *\r\n         * var node = UE.dom.domUtils.filterNodeList( divNodes, function ( node ) {\r\n         *     return node.tagName.toLowerCase() === 'div';\r\n         * }, false );\r\n         *\r\n         * //output: div\r\n         * console.log( node.nodeName );\r\n         * ```\r\n         */\r\n        filterNodeList: function(nodelist, filter, forAll) {\r\n            var results = [];\r\n            if (!utils.isFunction(filter)) {\r\n                var str = filter;\r\n                filter = function(n) {\r\n                    return utils.indexOf(utils.isArray(str) ? str : str.split(' '), n.tagName.toLowerCase()) != -1\r\n                };\r\n            }\r\n            utils.each(nodelist, function(n) {\r\n                filter(n) && results.push(n)\r\n            });\r\n            return results.length == 0 ? null : results.length == 1 || !forAll ? results[0] : results\r\n        },\r\n\r\n        /**\r\n         * 查询给定的range选区是否在给定的node节点内，且在该节点的最末尾\r\n         * @method isInNodeEndBoundary\r\n         * @param { UE.dom.Range } rng 需要判断的range对象， 该对象的startContainer不能为NULL\r\n         * @param node 需要检测的节点对象\r\n         * @return { Number } 如果给定的选取range对象是在node内部的最末端， 则返回1, 否则返回0\r\n         */\r\n        isInNodeEndBoundary: function(rng, node) {\r\n            var start = rng.startContainer;\r\n            if (start.nodeType == 3 && rng.startOffset != start.nodeValue.length) {\r\n                return 0;\r\n            }\r\n            if (start.nodeType == 1 && rng.startOffset != start.childNodes.length) {\r\n                return 0;\r\n            }\r\n            while (start !== node) {\r\n                if (start.nextSibling) {\r\n                    return 0\r\n                };\r\n                start = start.parentNode;\r\n            }\r\n            return 1;\r\n        },\r\n        isBoundaryNode: function(node, dir) {\r\n            var tmp;\r\n            while (!domUtils.isBody(node)) {\r\n                tmp = node;\r\n                node = node.parentNode;\r\n                if (tmp !== node[dir]) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        },\r\n        fillHtml: browser.ie11below ? '&nbsp;' : '<br/>'\r\n    };\r\n    var fillCharReg = new RegExp(domUtils.fillChar, 'g');\r\n\r\n    // core/Range.js\r\n    /**\r\n     * Range封装\r\n     * @file\r\n     * @module UE.dom\r\n     * @class Range\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * dom操作封装\r\n     * @unfile\r\n     * @module UE.dom\r\n     */\r\n\r\n    /**\r\n     * Range实现类，本类是UEditor底层核心类，封装不同浏览器之间的Range操作。\r\n     * @unfile\r\n     * @module UE.dom\r\n     * @class Range\r\n     */\r\n\r\n\r\n    (function() {\r\n        var guid = 0,\r\n            fillChar = domUtils.fillChar,\r\n            fillData;\r\n\r\n        /**\r\n         * 更新range的collapse状态\r\n         * @param  {Range}   range    range对象\r\n         */\r\n        function updateCollapse(range) {\r\n            range.collapsed =\r\n                range.startContainer && range.endContainer &&\r\n                range.startContainer === range.endContainer &&\r\n                range.startOffset == range.endOffset;\r\n        }\r\n\r\n        function selectOneNode(rng) {\r\n            return !rng.collapsed && rng.startContainer.nodeType == 1 && rng.startContainer === rng.endContainer && rng.endOffset - rng.startOffset == 1\r\n        }\r\n\r\n        function setEndPoint(toStart, node, offset, range) {\r\n            //如果node是自闭合标签要处理\r\n            if (node.nodeType == 1 && (dtd.$empty[node.tagName] || dtd.$nonChild[node.tagName])) {\r\n                offset = domUtils.getNodeIndex(node) + (toStart ? 0 : 1);\r\n                node = node.parentNode;\r\n            }\r\n            if (toStart) {\r\n                range.startContainer = node;\r\n                range.startOffset = offset;\r\n                if (!range.endContainer) {\r\n                    range.collapse(true);\r\n                }\r\n            } else {\r\n                range.endContainer = node;\r\n                range.endOffset = offset;\r\n                if (!range.startContainer) {\r\n                    range.collapse(false);\r\n                }\r\n            }\r\n            updateCollapse(range);\r\n            return range;\r\n        }\r\n\r\n        function execContentsAction(range, action) {\r\n            //调整边界\r\n            //range.includeBookmark();\r\n            var start = range.startContainer,\r\n                end = range.endContainer,\r\n                startOffset = range.startOffset,\r\n                endOffset = range.endOffset,\r\n                doc = range.document,\r\n                frag = doc.createDocumentFragment(),\r\n                tmpStart, tmpEnd;\r\n            if (start.nodeType == 1) {\r\n                start = start.childNodes[startOffset] || (tmpStart = start.appendChild(doc.createTextNode('')));\r\n            }\r\n            if (end.nodeType == 1) {\r\n                end = end.childNodes[endOffset] || (tmpEnd = end.appendChild(doc.createTextNode('')));\r\n            }\r\n            if (start === end && start.nodeType == 3) {\r\n                frag.appendChild(doc.createTextNode(start.substringData(startOffset, endOffset - startOffset)));\r\n                //is not clone\r\n                if (action) {\r\n                    start.deleteData(startOffset, endOffset - startOffset);\r\n                    range.collapse(true);\r\n                }\r\n                return frag;\r\n            }\r\n            var current, currentLevel, clone = frag,\r\n                startParents = domUtils.findParents(start, true),\r\n                endParents = domUtils.findParents(end, true);\r\n            for (var i = 0; startParents[i] == endParents[i];) {\r\n                i++;\r\n            }\r\n            for (var j = i, si; si = startParents[j]; j++) {\r\n                current = si.nextSibling;\r\n                if (si == start) {\r\n                    if (!tmpStart) {\r\n                        if (range.startContainer.nodeType == 3) {\r\n                            clone.appendChild(doc.createTextNode(start.nodeValue.slice(startOffset)));\r\n                            //is not clone\r\n                            if (action) {\r\n                                start.deleteData(startOffset, start.nodeValue.length - startOffset);\r\n                            }\r\n                        } else {\r\n                            clone.appendChild(!action ? start.cloneNode(true) : start);\r\n                        }\r\n                    }\r\n                } else {\r\n                    currentLevel = si.cloneNode(false);\r\n                    clone.appendChild(currentLevel);\r\n                }\r\n                while (current) {\r\n                    if (current === end || current === endParents[j]) {\r\n                        break;\r\n                    }\r\n                    si = current.nextSibling;\r\n                    clone.appendChild(!action ? current.cloneNode(true) : current);\r\n                    current = si;\r\n                }\r\n                clone = currentLevel;\r\n            }\r\n            clone = frag;\r\n            if (!startParents[i]) {\r\n                clone.appendChild(startParents[i - 1].cloneNode(false));\r\n                clone = clone.firstChild;\r\n            }\r\n            for (var j = i, ei; ei = endParents[j]; j++) {\r\n                current = ei.previousSibling;\r\n                if (ei == end) {\r\n                    if (!tmpEnd && range.endContainer.nodeType == 3) {\r\n                        clone.appendChild(doc.createTextNode(end.substringData(0, endOffset)));\r\n                        //is not clone\r\n                        if (action) {\r\n                            end.deleteData(0, endOffset);\r\n                        }\r\n                    }\r\n                } else {\r\n                    currentLevel = ei.cloneNode(false);\r\n                    clone.appendChild(currentLevel);\r\n                }\r\n                //如果两端同级，右边第一次已经被开始做了\r\n                if (j != i || !startParents[i]) {\r\n                    while (current) {\r\n                        if (current === start) {\r\n                            break;\r\n                        }\r\n                        ei = current.previousSibling;\r\n                        clone.insertBefore(!action ? current.cloneNode(true) : current, clone.firstChild);\r\n                        current = ei;\r\n                    }\r\n                }\r\n                clone = currentLevel;\r\n            }\r\n            if (action) {\r\n                range.setStartBefore(!endParents[i] ? endParents[i - 1] : !startParents[i] ? startParents[i - 1] : endParents[i]).collapse(true);\r\n            }\r\n            tmpStart && domUtils.remove(tmpStart);\r\n            tmpEnd && domUtils.remove(tmpEnd);\r\n            return frag;\r\n        }\r\n\r\n        /**\r\n         * 创建一个跟document绑定的空的Range实例\r\n         * @constructor\r\n         * @param { Document } document 新建的选区所属的文档对象\r\n         */\r\n\r\n        /**\r\n         * @property { Node } startContainer 当前Range的开始边界的容器节点, 可以是一个元素节点或者是文本节点\r\n         */\r\n\r\n        /**\r\n         * @property { Node } startOffset 当前Range的开始边界容器节点的偏移量, 如果是元素节点，\r\n         *                              该值就是childNodes中的第几个节点， 如果是文本节点就是文本内容的第几个字符\r\n         */\r\n\r\n        /**\r\n         * @property { Node } endContainer 当前Range的结束边界的容器节点, 可以是一个元素节点或者是文本节点\r\n         */\r\n\r\n        /**\r\n         * @property { Node } endOffset 当前Range的结束边界容器节点的偏移量, 如果是元素节点，\r\n         *                              该值就是childNodes中的第几个节点， 如果是文本节点就是文本内容的第几个字符\r\n         */\r\n\r\n        /**\r\n         * @property { Boolean } collapsed 当前Range是否闭合\r\n         * @default true\r\n         * @remind Range是闭合的时候， startContainer === endContainer && startOffset === endOffset\r\n         */\r\n\r\n        /**\r\n         * @property { Document } document 当前Range所属的Document对象\r\n         * @remind 不同range的的document属性可以是不同的\r\n         */\r\n        var Range = dom.Range = function(document) {\r\n            var me = this;\r\n            me.startContainer =\r\n                me.startOffset =\r\n                me.endContainer =\r\n                me.endOffset = null;\r\n            me.document = document;\r\n            me.collapsed = true;\r\n        };\r\n\r\n        /**\r\n         * 删除fillData\r\n         * @param doc\r\n         * @param excludeNode\r\n         */\r\n        function removeFillData(doc, excludeNode) {\r\n            try {\r\n                if (fillData && domUtils.inDoc(fillData, doc)) {\r\n                    if (!fillData.nodeValue.replace(fillCharReg, '').length) {\r\n                        var tmpNode = fillData.parentNode;\r\n                        domUtils.remove(fillData);\r\n                        while (tmpNode && domUtils.isEmptyInlineElement(tmpNode) &&\r\n                            //safari的contains有bug\r\n                            (browser.safari ? !(domUtils.getPosition(tmpNode, excludeNode) & domUtils.POSITION_CONTAINS) : !tmpNode.contains(excludeNode))\r\n                        ) {\r\n                            fillData = tmpNode.parentNode;\r\n                            domUtils.remove(tmpNode);\r\n                            tmpNode = fillData;\r\n                        }\r\n                    } else {\r\n                        fillData.nodeValue = fillData.nodeValue.replace(fillCharReg, '');\r\n                    }\r\n                }\r\n            } catch (e) {}\r\n        }\r\n\r\n        /**\r\n         * @param node\r\n         * @param dir\r\n         */\r\n        function mergeSibling(node, dir) {\r\n            var tmpNode;\r\n            node = node[dir];\r\n            while (node && domUtils.isFillChar(node)) {\r\n                tmpNode = node[dir];\r\n                domUtils.remove(node);\r\n                node = tmpNode;\r\n            }\r\n        }\r\n\r\n        Range.prototype = {\r\n\r\n            /**\r\n             * 克隆选区的内容到一个DocumentFragment里\r\n             * @method cloneContents\r\n             * @return { DocumentFragment | NULL } 如果选区是闭合的将返回null， 否则， 返回包含所clone内容的DocumentFragment元素\r\n             * @example\r\n             * ```html\r\n             * <body>\r\n             *      <!-- 中括号表示选区 -->\r\n             *      <b>x<i>x[x</i>xx]x</b>\r\n             *\r\n             *      <script>\r\n             *          //range是已选中的选区\r\n             *          var fragment = range.cloneContents(),\r\n             *              node = document.createElement(\"div\");\r\n             *\r\n             *          node.appendChild( fragment );\r\n             *\r\n             *          //output: <i>x</i>xx\r\n             *          console.log( node.innerHTML );\r\n             *\r\n             *      </script>\r\n             * </body>\r\n             * ```\r\n             */\r\n            cloneContents: function() {\r\n                return this.collapsed ? null : execContentsAction(this, 0);\r\n            },\r\n\r\n            /**\r\n             * 删除当前选区范围中的所有内容\r\n             * @method deleteContents\r\n             * @remind 执行完该操作后， 当前Range对象变成了闭合状态\r\n             * @return { UE.dom.Range } 当前操作的Range对象\r\n             * @example\r\n             * ```html\r\n             * <body>\r\n             *      <!-- 中括号表示选区 -->\r\n             *      <b>x<i>x[x</i>xx]x</b>\r\n             *\r\n             *      <script>\r\n             *          //range是已选中的选区\r\n             *          range.deleteContents();\r\n             *\r\n             *          //竖线表示闭合后的选区位置\r\n             *          //output: <b>x<i>x</i>|x</b>\r\n             *          console.log( document.body.innerHTML );\r\n             *\r\n             *          //此时， range的各项属性为\r\n             *          //output: B\r\n             *          console.log( range.startContainer.tagName );\r\n             *          //output: 2\r\n             *          console.log( range.startOffset );\r\n             *          //output: B\r\n             *          console.log( range.endContainer.tagName );\r\n             *          //output: 2\r\n             *          console.log( range.endOffset );\r\n             *          //output: true\r\n             *          console.log( range.collapsed );\r\n             *\r\n             *      </script>\r\n             * </body>\r\n             * ```\r\n             */\r\n            deleteContents: function() {\r\n                var txt;\r\n                if (!this.collapsed) {\r\n                    execContentsAction(this, 1);\r\n                }\r\n                if (browser.webkit) {\r\n                    txt = this.startContainer;\r\n                    if (txt.nodeType == 3 && !txt.nodeValue.length) {\r\n                        this.setStartBefore(txt).collapse(true);\r\n                        domUtils.remove(txt);\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * 将当前选区的内容提取到一个DocumentFragment里\r\n             * @method extractContents\r\n             * @remind 执行该操作后， 选区将变成闭合状态\r\n             * @warning 执行该操作后， 原来选区所选中的内容将从dom树上剥离出来\r\n             * @return { DocumentFragment } 返回包含所提取内容的DocumentFragment对象\r\n             * @example\r\n             * ```html\r\n             * <body>\r\n             *      <!-- 中括号表示选区 -->\r\n             *      <b>x<i>x[x</i>xx]x</b>\r\n             *\r\n             *      <script>\r\n             *          //range是已选中的选区\r\n             *          var fragment = range.extractContents(),\r\n             *              node = document.createElement( \"div\" );\r\n             *\r\n             *          node.appendChild( fragment );\r\n             *\r\n             *          //竖线表示闭合后的选区位置\r\n             *\r\n             *          //output: <b>x<i>x</i>|x</b>\r\n             *          console.log( document.body.innerHTML );\r\n             *          //output: <i>x</i>xx\r\n             *          console.log( node.innerHTML );\r\n             *\r\n             *          //此时， range的各项属性为\r\n             *          //output: B\r\n             *          console.log( range.startContainer.tagName );\r\n             *          //output: 2\r\n             *          console.log( range.startOffset );\r\n             *          //output: B\r\n             *          console.log( range.endContainer.tagName );\r\n             *          //output: 2\r\n             *          console.log( range.endOffset );\r\n             *          //output: true\r\n             *          console.log( range.collapsed );\r\n             *\r\n             *      </script>\r\n             * </body>\r\n             */\r\n            extractContents: function() {\r\n                return this.collapsed ? null : execContentsAction(this, 2);\r\n            },\r\n\r\n            /**\r\n             * 设置Range的开始容器节点和偏移量\r\n             * @method  setStart\r\n             * @remind 如果给定的节点是元素节点，那么offset指的是其子元素中索引为offset的元素，\r\n             *          如果是文本节点，那么offset指的是其文本内容的第offset个字符\r\n             * @remind 如果提供的容器节点是一个不能包含子元素的节点， 则该选区的开始容器将被设置\r\n             *          为该节点的父节点， 此时， 其距离开始容器的偏移量也变成了该节点在其父节点\r\n             *          中的索引\r\n             * @param { Node } node 将被设为当前选区开始边界容器的节点对象\r\n             * @param { int } offset 选区的开始位置偏移量\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区 -->\r\n             * <b>xxx<i>x<span>xx</span>xx<em>xx</em>xxx</i>[xxx]</b>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行操作\r\n             *     range.setStart( document.getElementsByTagName(\"i\")[0], 1 );\r\n             *\r\n             *     //此时， 选区变成了\r\n             *     //<b>xxx<i>x[<span>xx</span>xx<em>xx</em>xxx</i>xxx]</b>\r\n             *\r\n             * </script>\r\n             * ```\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区 -->\r\n             * <b>xxx<img>[xx]x</b>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行操作\r\n             *     range.setStart( document.getElementsByTagName(\"img\")[0], 3 );\r\n             *\r\n             *     //此时， 选区变成了\r\n             *     //<b>xxx[<img>xx]x</b>\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n            setStart: function(node, offset) {\r\n                return setEndPoint(true, node, offset, this);\r\n            },\r\n\r\n            /**\r\n             * 设置Range的结束容器和偏移量\r\n             * @method  setEnd\r\n             * @param { Node } node 作为当前选区结束边界容器的节点对象\r\n             * @param { int } offset 结束边界的偏移量\r\n             * @see UE.dom.Range:setStart(Node,int)\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n            setEnd: function(node, offset) {\r\n                return setEndPoint(false, node, offset, this);\r\n            },\r\n\r\n            /**\r\n             * 将Range开始位置设置到node节点之后\r\n             * @method  setStartAfter\r\n             * @remind 该操作将会把给定节点的父节点作为range的开始容器， 且偏移量是该节点在其父节点中的位置索引+1\r\n             * @param { Node } node 选区的开始边界将紧接着该节点之后\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区示例 -->\r\n             * <b>xx<i>xxx</i><span>xx[x</span>xxx]</b>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行操作\r\n             *     range.setStartAfter( document.getElementsByTagName(\"i\")[0] );\r\n             *\r\n             *     //结果选区\r\n             *     //<b>xx<i>xxx</i>[<span>xxx</span>xxx]</b>\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n            setStartAfter: function(node) {\r\n                return this.setStart(node.parentNode, domUtils.getNodeIndex(node) + 1);\r\n            },\r\n\r\n            /**\r\n             * 将Range开始位置设置到node节点之前\r\n             * @method  setStartBefore\r\n             * @remind 该操作将会把给定节点的父节点作为range的开始容器， 且偏移量是该节点在其父节点中的位置索引\r\n             * @param { Node } node 新的选区开始位置在该节点之前\r\n             * @see UE.dom.Range:setStartAfter(Node)\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n            setStartBefore: function(node) {\r\n                return this.setStart(node.parentNode, domUtils.getNodeIndex(node));\r\n            },\r\n\r\n            /**\r\n             * 将Range结束位置设置到node节点之后\r\n             * @method  setEndAfter\r\n             * @remind 该操作将会把给定节点的父节点作为range的结束容器， 且偏移量是该节点在其父节点中的位置索引+1\r\n             * @param { Node } node 目标节点\r\n             * @see UE.dom.Range:setStartAfter(Node)\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区示例 -->\r\n             * <b>[xx<i>xxx</i><span>xx]x</span>xxx</b>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行操作\r\n             *     range.setStartAfter( document.getElementsByTagName(\"span\")[0] );\r\n             *\r\n             *     //结果选区\r\n             *     //<b>[xx<i>xxx</i><span>xxx</span>]xxx</b>\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n            setEndAfter: function(node) {\r\n                return this.setEnd(node.parentNode, domUtils.getNodeIndex(node) + 1);\r\n            },\r\n\r\n            /**\r\n             * 将Range结束位置设置到node节点之前\r\n             * @method  setEndBefore\r\n             * @remind 该操作将会把给定节点的父节点作为range的结束容器， 且偏移量是该节点在其父节点中的位置索引\r\n             * @param { Node } node 目标节点\r\n             * @see UE.dom.Range:setEndAfter(Node)\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n            setEndBefore: function(node) {\r\n                return this.setEnd(node.parentNode, domUtils.getNodeIndex(node));\r\n            },\r\n\r\n            /**\r\n             * 设置Range的开始位置到node节点内的第一个子节点之前\r\n             * @method  setStartAtFirst\r\n             * @remind 选区的开始容器将变成给定的节点， 且偏移量为0\r\n             * @remind 如果给定的节点是元素节点， 则该节点必须是允许包含子节点的元素。\r\n             * @param { Node } node 目标节点\r\n             * @see UE.dom.Range:setStartBefore(Node)\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区示例 -->\r\n             * <b>xx<i>xxx</i><span>[xx]x</span>xxx</b>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行操作\r\n             *     range.setStartAtFirst( document.getElementsByTagName(\"i\")[0] );\r\n             *\r\n             *     //结果选区\r\n             *     //<b>xx<i>[xxx</i><span>xx]x</span>xxx</b>\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n            setStartAtFirst: function(node) {\r\n                return this.setStart(node, 0);\r\n            },\r\n\r\n            /**\r\n             * 设置Range的开始位置到node节点内的最后一个节点之后\r\n             * @method setStartAtLast\r\n             * @remind 选区的开始容器将变成给定的节点， 且偏移量为该节点的子节点数\r\n             * @remind 如果给定的节点是元素节点， 则该节点必须是允许包含子节点的元素。\r\n             * @param { Node } node 目标节点\r\n             * @see UE.dom.Range:setStartAtFirst(Node)\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n            setStartAtLast: function(node) {\r\n                return this.setStart(node, node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length);\r\n            },\r\n\r\n            /**\r\n             * 设置Range的结束位置到node节点内的第一个节点之前\r\n             * @method  setEndAtFirst\r\n             * @param { Node } node 目标节点\r\n             * @remind 选区的结束容器将变成给定的节点， 且偏移量为0\r\n             * @remind node必须是一个元素节点， 且必须是允许包含子节点的元素。\r\n             * @see UE.dom.Range:setStartAtFirst(Node)\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n            setEndAtFirst: function(node) {\r\n                return this.setEnd(node, 0);\r\n            },\r\n\r\n            /**\r\n             * 设置Range的结束位置到node节点内的最后一个节点之后\r\n             * @method  setEndAtLast\r\n             * @param { Node } node 目标节点\r\n             * @remind 选区的结束容器将变成给定的节点， 且偏移量为该节点的子节点数量\r\n             * @remind node必须是一个元素节点， 且必须是允许包含子节点的元素。\r\n             * @see UE.dom.Range:setStartAtFirst(Node)\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n            setEndAtLast: function(node) {\r\n                return this.setEnd(node, node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length);\r\n            },\r\n\r\n            /**\r\n             * 选中给定节点\r\n             * @method  selectNode\r\n             * @remind 此时， 选区的开始容器和结束容器都是该节点的父节点， 其startOffset是该节点在父节点中的位置索引，\r\n             *          而endOffset为startOffset+1\r\n             * @param { Node } node 需要选中的节点\r\n             * @return { UE.dom.Range } 当前range对象，此时的range仅包含当前给定的节点对象\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区示例 -->\r\n             * <b>xx<i>xxx</i><span>[xx]x</span>xxx</b>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行操作\r\n             *     range.selectNode( document.getElementsByTagName(\"i\")[0] );\r\n             *\r\n             *     //结果选区\r\n             *     //<b>xx[<i>xxx</i>]<span>xxx</span>xxx</b>\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n            selectNode: function(node) {\r\n                return this.setStartBefore(node).setEndAfter(node);\r\n            },\r\n\r\n            /**\r\n             * 选中给定节点内部的所有节点\r\n             * @method  selectNodeContents\r\n             * @remind 此时， 选区的开始容器和结束容器都是该节点， 其startOffset为0，\r\n             *          而endOffset是该节点的子节点数。\r\n             * @param { Node } node 目标节点， 当前range将包含该节点内的所有节点\r\n             * @return { UE.dom.Range } 当前range对象， 此时range仅包含给定节点的所有子节点\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区示例 -->\r\n             * <b>xx<i>xxx</i><span>[xx]x</span>xxx</b>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行操作\r\n             *     range.selectNode( document.getElementsByTagName(\"b\")[0] );\r\n             *\r\n             *     //结果选区\r\n             *     //<b>[xx<i>xxx</i><span>xxx</span>xxx]</b>\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n            selectNodeContents: function(node) {\r\n                return this.setStart(node, 0).setEndAtLast(node);\r\n            },\r\n\r\n            /**\r\n             * clone当前Range对象\r\n             * @method  cloneRange\r\n             * @remind 返回的range是一个全新的range对象， 其内部所有属性与当前被clone的range相同。\r\n             * @return { UE.dom.Range } 当前range对象的一个副本\r\n             */\r\n            cloneRange: function() {\r\n                var me = this;\r\n                return new Range(me.document).setStart(me.startContainer, me.startOffset).setEnd(me.endContainer, me.endOffset);\r\n\r\n            },\r\n\r\n            /**\r\n             * 向当前选区的结束处闭合选区\r\n             * @method  collapse\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区示例 -->\r\n             * <b>xx<i>xxx</i><span>[xx]x</span>xxx</b>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行操作\r\n             *     range.collapse();\r\n             *\r\n             *     //结果选区\r\n             *     //“|”表示选区已闭合\r\n             *     //<b>xx<i>xxx</i><span>xx|x</span>xxx</b>\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 闭合当前选区，根据给定的toStart参数项决定是向当前选区开始处闭合还是向结束处闭合，\r\n             * 如果toStart的值为true，则向开始位置闭合， 反之，向结束位置闭合。\r\n             * @method  collapse\r\n             * @param { Boolean } toStart 是否向选区开始处闭合\r\n             * @return { UE.dom.Range } 当前range对象，此时range对象处于闭合状态\r\n             * @see UE.dom.Range:collapse()\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区示例 -->\r\n             * <b>xx<i>xxx</i><span>[xx]x</span>xxx</b>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行操作\r\n             *     range.collapse( true );\r\n             *\r\n             *     //结果选区\r\n             *     //“|”表示选区已闭合\r\n             *     //<b>xx<i>xxx</i><span>|xxx</span>xxx</b>\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n            collapse: function(toStart) {\r\n                var me = this;\r\n                if (toStart) {\r\n                    me.endContainer = me.startContainer;\r\n                    me.endOffset = me.startOffset;\r\n                } else {\r\n                    me.startContainer = me.endContainer;\r\n                    me.startOffset = me.endOffset;\r\n                }\r\n                me.collapsed = true;\r\n                return me;\r\n            },\r\n\r\n            /**\r\n             * 调整range的开始位置和结束位置，使其\"收缩\"到最小的位置\r\n             * @method  shrinkBoundary\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @example\r\n             * ```html\r\n             * <span>xx<b>xx[</b>xxxxx]</span> => <span>xx<b>xx</b>[xxxxx]</span>\r\n             * ```\r\n             *\r\n             * @example\r\n             * ```html\r\n             * <!-- 选区示例 -->\r\n             * <b>x[xx</b><i>]xxx</i>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //执行收缩\r\n             *     range.shrinkBoundary();\r\n             *\r\n             *     //结果选区\r\n             *     //<b>x[xx]</b><i>xxx</i>\r\n             * </script>\r\n             * ```\r\n             *\r\n             * @example\r\n             * ```html\r\n             * [<b><i>xxxx</i>xxxxxxx</b>] => <b><i>[xxxx</i>xxxxxxx]</b>\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 调整range的开始位置和结束位置，使其\"收缩\"到最小的位置，\r\n             * 如果ignoreEnd的值为true，则忽略对结束位置的调整\r\n             * @method  shrinkBoundary\r\n             * @param { Boolean } ignoreEnd 是否忽略对结束位置的调整\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @see UE.dom.domUtils.Range:shrinkBoundary()\r\n             */\r\n            shrinkBoundary: function(ignoreEnd) {\r\n                var me = this,\r\n                    child,\r\n                    collapsed = me.collapsed;\r\n\r\n                function check(node) {\r\n                    return node.nodeType == 1 && !domUtils.isBookmarkNode(node) && !dtd.$empty[node.tagName] && !dtd.$nonChild[node.tagName]\r\n                }\r\n                while (me.startContainer.nodeType == 1 //是element\r\n                    &&\r\n                    (child = me.startContainer.childNodes[me.startOffset]) //子节点也是element\r\n                    &&\r\n                    check(child)) {\r\n                    me.setStart(child, 0);\r\n                }\r\n                if (collapsed) {\r\n                    return me.collapse(true);\r\n                }\r\n                if (!ignoreEnd) {\r\n                    while (me.endContainer.nodeType == 1 //是element\r\n                        &&\r\n                        me.endOffset > 0 //如果是空元素就退出 endOffset=0那么endOffst-1为负值，childNodes[endOffset]报错\r\n                        &&\r\n                        (child = me.endContainer.childNodes[me.endOffset - 1]) //子节点也是element\r\n                        &&\r\n                        check(child)) {\r\n                        me.setEnd(child, child.childNodes.length);\r\n                    }\r\n                }\r\n                return me;\r\n            },\r\n\r\n            /**\r\n             * 获取离当前选区内包含的所有节点最近的公共祖先节点，\r\n             * @method  getCommonAncestor\r\n             * @remind 返回的公共祖先节点一定不是range自身的容器节点， 但有可能是一个文本节点\r\n             * @return { Node } 当前range对象内所有节点的公共祖先节点\r\n             * @example\r\n             * ```html\r\n             * //选区示例\r\n             * <span>xxx<b>x[x<em>xx]x</em>xxx</b>xx</span>\r\n             * <script>\r\n             *\r\n             *     var node = range.getCommonAncestor();\r\n             *\r\n             *     //公共祖先节点是： b节点\r\n             *     //输出： B\r\n             *     console.log(node.tagName);\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 获取当前选区所包含的所有节点的公共祖先节点， 可以根据给定的参数 includeSelf 决定获取到\r\n             * 的公共祖先节点是否可以是当前选区的startContainer或endContainer节点， 如果 includeSelf\r\n             * 的取值为true， 则返回的节点可以是自身的容器节点， 否则， 则不能是容器节点\r\n             * @method  getCommonAncestor\r\n             * @param { Boolean } includeSelf 是否允许获取到的公共祖先节点是当前range对象的容器节点\r\n             * @return { Node } 当前range对象内所有节点的公共祖先节点\r\n             * @see UE.dom.Range:getCommonAncestor()\r\n             * @example\r\n             * ```html\r\n             * <body>\r\n             *\r\n             *     <!-- 选区示例 -->\r\n             *     <b>xxx<i>xxxx<span>xx[x</span>xx]x</i>xxxxxxx</b>\r\n             *\r\n             *     <script>\r\n             *\r\n             *         var node = range.getCommonAncestor( false );\r\n             *\r\n             *         //这里的公共祖先节点是B而不是I， 是因为参数限制了获取到的节点不能是容器节点\r\n             *         //output: B\r\n             *         console.log( node.tagName );\r\n             *\r\n             *     </script>\r\n             *\r\n             * </body>\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 获取当前选区所包含的所有节点的公共祖先节点， 可以根据给定的参数 includeSelf 决定获取到\r\n             * 的公共祖先节点是否可以是当前选区的startContainer或endContainer节点， 如果 includeSelf\r\n             * 的取值为true， 则返回的节点可以是自身的容器节点， 否则， 则不能是容器节点； 同时可以根据\r\n             * ignoreTextNode 参数的取值决定是否忽略类型为文本节点的祖先节点。\r\n             * @method  getCommonAncestor\r\n             * @param { Boolean } includeSelf 是否允许获取到的公共祖先节点是当前range对象的容器节点\r\n             * @param { Boolean } ignoreTextNode 获取祖先节点的过程中是否忽略类型为文本节点的祖先节点\r\n             * @return { Node } 当前range对象内所有节点的公共祖先节点\r\n             * @see UE.dom.Range:getCommonAncestor()\r\n             * @see UE.dom.Range:getCommonAncestor(Boolean)\r\n             * @example\r\n             * ```html\r\n             * <body>\r\n             *\r\n             *     <!-- 选区示例 -->\r\n             *     <b>xxx<i>xxxx<span>x[x]x</span>xxx</i>xxxxxxx</b>\r\n             *\r\n             *     <script>\r\n             *\r\n             *         var node = range.getCommonAncestor( true, false );\r\n             *\r\n             *         //output: SPAN\r\n             *         console.log( node.tagName );\r\n             *\r\n             *     </script>\r\n             *\r\n             * </body>\r\n             * ```\r\n             */\r\n            getCommonAncestor: function(includeSelf, ignoreTextNode) {\r\n                var me = this,\r\n                    start = me.startContainer,\r\n                    end = me.endContainer;\r\n                if (start === end) {\r\n                    if (includeSelf && selectOneNode(this)) {\r\n                        start = start.childNodes[me.startOffset];\r\n                        if (start.nodeType == 1)\r\n                            return start;\r\n                    }\r\n                    //只有在上来就相等的情况下才会出现是文本的情况\r\n                    return ignoreTextNode && start.nodeType == 3 ? start.parentNode : start;\r\n                }\r\n                return domUtils.getCommonAncestor(start, end);\r\n            },\r\n\r\n            /**\r\n             * 调整当前Range的开始和结束边界容器，如果是容器节点是文本节点,就调整到包含该文本节点的父节点上\r\n             * @method trimBoundary\r\n             * @remind 该操作有可能会引起文本节点被切开\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @example\r\n             * ```html\r\n             *\r\n             * //选区示例\r\n             * <b>xxx<i>[xxxxx]</i>xxx</b>\r\n             *\r\n             * <script>\r\n             *     //未调整前， 选区的开始容器和结束都是文本节点\r\n             *     //执行调整\r\n             *     range.trimBoundary();\r\n             *\r\n             *     //调整之后， 容器节点变成了i节点\r\n             *     //<b>xxx[<i>xxxxx</i>]xxx</b>\r\n             * </script>\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 调整当前Range的开始和结束边界容器，如果是容器节点是文本节点,就调整到包含该文本节点的父节点上，\r\n             * 可以根据 ignoreEnd 参数的值决定是否调整对结束边界的调整\r\n             * @method trimBoundary\r\n             * @param { Boolean } ignoreEnd 是否忽略对结束边界的调整\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @example\r\n             * ```html\r\n             *\r\n             * //选区示例\r\n             * <b>xxx<i>[xxxxx]</i>xxx</b>\r\n             *\r\n             * <script>\r\n             *     //未调整前， 选区的开始容器和结束都是文本节点\r\n             *     //执行调整\r\n             *     range.trimBoundary( true );\r\n             *\r\n             *     //调整之后， 开始容器节点变成了i节点\r\n             *     //但是， 结束容器没有发生变化\r\n             *     //<b>xxx[<i>xxxxx]</i>xxx</b>\r\n             * </script>\r\n             * ```\r\n             */\r\n            trimBoundary: function(ignoreEnd) {\r\n                this.txtToElmBoundary();\r\n                var start = this.startContainer,\r\n                    offset = this.startOffset,\r\n                    collapsed = this.collapsed,\r\n                    end = this.endContainer;\r\n                if (start.nodeType == 3) {\r\n                    if (offset == 0) {\r\n                        this.setStartBefore(start);\r\n                    } else {\r\n                        if (offset >= start.nodeValue.length) {\r\n                            this.setStartAfter(start);\r\n                        } else {\r\n                            var textNode = domUtils.split(start, offset);\r\n                            //跟新结束边界\r\n                            if (start === end) {\r\n                                this.setEnd(textNode, this.endOffset - offset);\r\n                            } else if (start.parentNode === end) {\r\n                                this.endOffset += 1;\r\n                            }\r\n                            this.setStartBefore(textNode);\r\n                        }\r\n                    }\r\n                    if (collapsed) {\r\n                        return this.collapse(true);\r\n                    }\r\n                }\r\n                if (!ignoreEnd) {\r\n                    offset = this.endOffset;\r\n                    end = this.endContainer;\r\n                    if (end.nodeType == 3) {\r\n                        if (offset == 0) {\r\n                            this.setEndBefore(end);\r\n                        } else {\r\n                            offset < end.nodeValue.length && domUtils.split(end, offset);\r\n                            this.setEndAfter(end);\r\n                        }\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * 如果选区在文本的边界上，就扩展选区到文本的父节点上, 如果当前选区是闭合的， 则什么也不做\r\n             * @method txtToElmBoundary\r\n             * @remind 该操作不会修改dom节点\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n\r\n            /**\r\n             * 如果选区在文本的边界上，就扩展选区到文本的父节点上, 如果当前选区是闭合的， 则根据参数项\r\n             * ignoreCollapsed 的值决定是否执行该调整\r\n             * @method txtToElmBoundary\r\n             * @param { Boolean } ignoreCollapsed 是否忽略选区的闭合状态， 如果该参数取值为true， 则\r\n             *                      不论选区是否闭合， 都会执行该操作， 反之， 则不会对闭合的选区执行该操作\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n            txtToElmBoundary: function(ignoreCollapsed) {\r\n                function adjust(r, c) {\r\n                    var container = r[c + 'Container'],\r\n                        offset = r[c + 'Offset'];\r\n                    if (container.nodeType == 3) {\r\n                        if (!offset) {\r\n                            r['set' + c.replace(/(\\w)/, function(a) {\r\n                                return a.toUpperCase();\r\n                            }) + 'Before'](container);\r\n                        } else if (offset >= container.nodeValue.length) {\r\n                            r['set' + c.replace(/(\\w)/, function(a) {\r\n                                return a.toUpperCase();\r\n                            }) + 'After'](container);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (ignoreCollapsed || !this.collapsed) {\r\n                    adjust(this, 'start');\r\n                    adjust(this, 'end');\r\n                }\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * 在当前选区的开始位置前插入节点，新插入的节点会被该range包含\r\n             * @method  insertNode\r\n             * @param { Node } node 需要插入的节点\r\n             * @remind 插入的节点可以是一个DocumentFragment依次插入多个节点\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n            insertNode: function(node) {\r\n                var first = node,\r\n                    length = 1;\r\n                if (node.nodeType == 11) {\r\n                    first = node.firstChild;\r\n                    length = node.childNodes.length;\r\n                }\r\n                this.trimBoundary(true);\r\n                var start = this.startContainer,\r\n                    offset = this.startOffset;\r\n                var nextNode = start.childNodes[offset];\r\n                if (nextNode) {\r\n                    start.insertBefore(node, nextNode);\r\n                } else {\r\n                    start.appendChild(node);\r\n                }\r\n                if (first.parentNode === this.endContainer) {\r\n                    this.endOffset = this.endOffset + length;\r\n                }\r\n                return this.setStartBefore(first);\r\n            },\r\n\r\n            /**\r\n             * 闭合选区到当前选区的开始位置， 并且定位光标到闭合后的位置\r\n             * @method  setCursor\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @see UE.dom.Range:collapse()\r\n             */\r\n\r\n            /**\r\n             * 闭合选区，可以根据参数toEnd的值控制选区是向前闭合还是向后闭合， 并且定位光标到闭合后的位置。\r\n             * @method  setCursor\r\n             * @param { Boolean } toEnd 是否向后闭合， 如果为true， 则闭合选区时， 将向结束容器方向闭合，\r\n             *                      反之，则向开始容器方向闭合\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @see UE.dom.Range:collapse(Boolean)\r\n             */\r\n            setCursor: function(toEnd, noFillData) {\r\n                return this.collapse(!toEnd).select(noFillData);\r\n            },\r\n\r\n            /**\r\n             * 创建当前range的一个书签，记录下当前range的位置，方便当dom树改变时，还能找回原来的选区位置\r\n             * @method createBookmark\r\n             * @param { Boolean } serialize 控制返回的标记位置是对当前位置的引用还是ID，如果该值为true，则\r\n             *                              返回标记位置的ID， 反之则返回标记位置节点的引用\r\n             * @return { Object } 返回一个书签记录键值对， 其包含的key有： start => 开始标记的ID或者引用，\r\n             *                          end => 结束标记的ID或引用， id => 当前标记的类型， 如果为true，则表示\r\n             *                          返回的记录的类型为ID， 反之则为引用\r\n             */\r\n            createBookmark: function(serialize, same) {\r\n                var endNode,\r\n                    startNode = this.document.createElement('span');\r\n                startNode.style.cssText = 'display:none;line-height:0px;';\r\n                startNode.appendChild(this.document.createTextNode('\\u200D'));\r\n                startNode.id = '_baidu_bookmark_start_' + (same ? '' : guid++);\r\n\r\n                if (!this.collapsed) {\r\n                    endNode = startNode.cloneNode(true);\r\n                    endNode.id = '_baidu_bookmark_end_' + (same ? '' : guid++);\r\n                }\r\n                this.insertNode(startNode);\r\n                if (endNode) {\r\n                    this.collapse().insertNode(endNode).setEndBefore(endNode);\r\n                }\r\n                this.setStartAfter(startNode);\r\n                return {\r\n                    start: serialize ? startNode.id : startNode,\r\n                    end: endNode ? serialize ? endNode.id : endNode : null,\r\n                    id: serialize\r\n                }\r\n            },\r\n\r\n            /**\r\n             *  调整当前range的边界到书签位置，并删除该书签对象所标记的位置内的节点\r\n             *  @method  moveToBookmark\r\n             *  @param { BookMark } bookmark createBookmark所创建的标签对象\r\n             *  @return { UE.dom.Range } 当前range对象\r\n             *  @see UE.dom.Range:createBookmark(Boolean)\r\n             */\r\n            moveToBookmark: function(bookmark) {\r\n                var start = bookmark.id ? this.document.getElementById(bookmark.start) : bookmark.start,\r\n                    end = bookmark.end && bookmark.id ? this.document.getElementById(bookmark.end) : bookmark.end;\r\n                this.setStartBefore(start);\r\n                domUtils.remove(start);\r\n                if (end) {\r\n                    this.setEndBefore(end);\r\n                    domUtils.remove(end);\r\n                } else {\r\n                    this.collapse(true);\r\n                }\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * 调整range的边界，使其\"放大\"到最近的父节点\r\n             * @method  enlarge\r\n             * @remind 会引起选区的变化\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n\r\n            /**\r\n             * 调整range的边界，使其\"放大\"到最近的父节点，根据参数 toBlock 的取值， 可以\r\n             * 要求扩大之后的父节点是block节点\r\n             * @method  enlarge\r\n             * @param { Boolean } toBlock 是否要求扩大之后的父节点必须是block节点\r\n             * @return { UE.dom.Range } 当前range对象\r\n             */\r\n            enlarge: function(toBlock, stopFn) {\r\n                var isBody = domUtils.isBody,\r\n                    pre, node, tmp = this.document.createTextNode('');\r\n                if (toBlock) {\r\n                    node = this.startContainer;\r\n                    if (node.nodeType == 1) {\r\n                        if (node.childNodes[this.startOffset]) {\r\n                            pre = node = node.childNodes[this.startOffset]\r\n                        } else {\r\n                            node.appendChild(tmp);\r\n                            pre = node = tmp;\r\n                        }\r\n                    } else {\r\n                        pre = node;\r\n                    }\r\n                    while (1) {\r\n                        if (domUtils.isBlockElm(node)) {\r\n                            node = pre;\r\n                            while ((pre = node.previousSibling) && !domUtils.isBlockElm(pre)) {\r\n                                node = pre;\r\n                            }\r\n                            this.setStartBefore(node);\r\n                            break;\r\n                        }\r\n                        pre = node;\r\n                        node = node.parentNode;\r\n                    }\r\n                    node = this.endContainer;\r\n                    if (node.nodeType == 1) {\r\n                        if (pre = node.childNodes[this.endOffset]) {\r\n                            node.insertBefore(tmp, pre);\r\n                        } else {\r\n                            node.appendChild(tmp);\r\n                        }\r\n                        pre = node = tmp;\r\n                    } else {\r\n                        pre = node;\r\n                    }\r\n                    while (1) {\r\n                        if (domUtils.isBlockElm(node)) {\r\n                            node = pre;\r\n                            while ((pre = node.nextSibling) && !domUtils.isBlockElm(pre)) {\r\n                                node = pre;\r\n                            }\r\n                            this.setEndAfter(node);\r\n                            break;\r\n                        }\r\n                        pre = node;\r\n                        node = node.parentNode;\r\n                    }\r\n                    if (tmp.parentNode === this.endContainer) {\r\n                        this.endOffset--;\r\n                    }\r\n                    domUtils.remove(tmp);\r\n                }\r\n\r\n                // 扩展边界到最大\r\n                if (!this.collapsed) {\r\n                    while (this.startOffset == 0) {\r\n                        if (stopFn && stopFn(this.startContainer)) {\r\n                            break;\r\n                        }\r\n                        if (isBody(this.startContainer)) {\r\n                            break;\r\n                        }\r\n                        this.setStartBefore(this.startContainer);\r\n                    }\r\n                    while (this.endOffset == (this.endContainer.nodeType == 1 ? this.endContainer.childNodes.length : this.endContainer.nodeValue.length)) {\r\n                        if (stopFn && stopFn(this.endContainer)) {\r\n                            break;\r\n                        }\r\n                        if (isBody(this.endContainer)) {\r\n                            break;\r\n                        }\r\n                        this.setEndAfter(this.endContainer);\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            enlargeToBlockElm: function(ignoreEnd) {\r\n                while (!domUtils.isBlockElm(this.startContainer)) {\r\n                    this.setStartBefore(this.startContainer);\r\n                }\r\n                if (!ignoreEnd) {\r\n                    while (!domUtils.isBlockElm(this.endContainer)) {\r\n                        this.setEndAfter(this.endContainer);\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            /**\r\n             * 调整Range的边界，使其\"缩小\"到最合适的位置\r\n             * @method adjustmentBoundary\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @see UE.dom.Range:shrinkBoundary()\r\n             */\r\n            adjustmentBoundary: function() {\r\n                if (!this.collapsed) {\r\n                    while (!domUtils.isBody(this.startContainer) &&\r\n                        this.startOffset == this.startContainer[this.startContainer.nodeType == 3 ? 'nodeValue' : 'childNodes'].length &&\r\n                        this.startContainer[this.startContainer.nodeType == 3 ? 'nodeValue' : 'childNodes'].length\r\n                    ) {\r\n\r\n                        this.setStartAfter(this.startContainer);\r\n                    }\r\n                    while (!domUtils.isBody(this.endContainer) && !this.endOffset &&\r\n                        this.endContainer[this.endContainer.nodeType == 3 ? 'nodeValue' : 'childNodes'].length\r\n                    ) {\r\n                        this.setEndBefore(this.endContainer);\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * 给range选区中的内容添加给定的inline标签\r\n             * @method applyInlineStyle\r\n             * @param { String } tagName 需要添加的标签名\r\n             * @example\r\n             * ```html\r\n             * <p>xxxx[xxxx]x</p>  ==>  range.applyInlineStyle(\"strong\")  ==>  <p>xxxx[<strong>xxxx</strong>]x</p>\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 给range选区中的内容添加给定的inline标签， 并且为标签附加上一些初始化属性。\r\n             * @method applyInlineStyle\r\n             * @param { String } tagName 需要添加的标签名\r\n             * @param { Object } attrs 跟随新添加的标签的属性\r\n             * @return { UE.dom.Range } 当前选区\r\n             * @example\r\n             * ```html\r\n             * <p>xxxx[xxxx]x</p>\r\n             *\r\n             * ==>\r\n             *\r\n             * <!-- 执行操作 -->\r\n             * range.applyInlineStyle(\"strong\",{\"style\":\"font-size:12px\"})\r\n             *\r\n             * ==>\r\n             *\r\n             * <p>xxxx[<strong style=\"font-size:12px\">xxxx</strong>]x</p>\r\n             * ```\r\n             */\r\n            applyInlineStyle: function(tagName, attrs, list) {\r\n                if (this.collapsed) return this;\r\n                this.trimBoundary().enlarge(false,\r\n                    function(node) {\r\n                        return node.nodeType == 1 && domUtils.isBlockElm(node)\r\n                    }).adjustmentBoundary();\r\n                var bookmark = this.createBookmark(),\r\n                    end = bookmark.end,\r\n                    filterFn = function(node) {\r\n                        return node.nodeType == 1 ? node.tagName.toLowerCase() != 'br' : !domUtils.isWhitespace(node);\r\n                    },\r\n                    current = domUtils.getNextDomNode(bookmark.start, false, filterFn),\r\n                    node,\r\n                    pre,\r\n                    range = this.cloneRange();\r\n                while (current && (domUtils.getPosition(current, end) & domUtils.POSITION_PRECEDING)) {\r\n                    if (current.nodeType == 3 || dtd[tagName][current.tagName]) {\r\n                        range.setStartBefore(current);\r\n                        node = current;\r\n                        while (node && (node.nodeType == 3 || dtd[tagName][node.tagName]) && node !== end) {\r\n                            pre = node;\r\n                            node = domUtils.getNextDomNode(node, node.nodeType == 1, null, function(parent) {\r\n                                return dtd[tagName][parent.tagName];\r\n                            });\r\n                        }\r\n                        var frag = range.setEndAfter(pre).extractContents(),\r\n                            elm;\r\n                        if (list && list.length > 0) {\r\n                            var level, top;\r\n                            top = level = list[0].cloneNode(false);\r\n                            for (var i = 1, ci; ci = list[i++];) {\r\n                                level.appendChild(ci.cloneNode(false));\r\n                                level = level.firstChild;\r\n                            }\r\n                            elm = level;\r\n                        } else {\r\n                            elm = range.document.createElement(tagName);\r\n                        }\r\n                        if (attrs) {\r\n                            domUtils.setAttributes(elm, attrs);\r\n                        }\r\n                        elm.appendChild(frag);\r\n                        range.insertNode(list ? top : elm);\r\n                        //处理下滑线在a上的情况\r\n                        var aNode;\r\n                        if (tagName == 'span' && attrs.style && /text\\-decoration/.test(attrs.style) && (aNode = domUtils.findParentByTagName(elm, 'a', true))) {\r\n                            domUtils.setAttributes(aNode, attrs);\r\n                            domUtils.remove(elm, true);\r\n                            elm = aNode;\r\n                        } else {\r\n                            domUtils.mergeSibling(elm);\r\n                            domUtils.clearEmptySibling(elm);\r\n                        }\r\n                        //去除子节点相同的\r\n                        domUtils.mergeChild(elm, attrs);\r\n                        current = domUtils.getNextDomNode(elm, false, filterFn);\r\n                        domUtils.mergeToParent(elm);\r\n                        if (node === end) {\r\n                            break;\r\n                        }\r\n                    } else {\r\n                        current = domUtils.getNextDomNode(current, true, filterFn);\r\n                    }\r\n                }\r\n                return this.moveToBookmark(bookmark);\r\n            },\r\n\r\n            /**\r\n             * 移除当前选区内指定的inline标签，但保留其中的内容\r\n             * @method removeInlineStyle\r\n             * @param { String } tagName 需要移除的标签名\r\n             * @return { UE.dom.Range } 当前的range对象\r\n             * @example\r\n             * ```html\r\n             * xx[x<span>xxx<em>yyy</em>zz]z</span>  => range.removeInlineStyle([\"em\"])  => xx[x<span>xxxyyyzz]z</span>\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 移除当前选区内指定的一组inline标签，但保留其中的内容\r\n             * @method removeInlineStyle\r\n             * @param { Array } tagNameArr 需要移除的标签名的数组\r\n             * @return { UE.dom.Range } 当前的range对象\r\n             * @see UE.dom.Range:removeInlineStyle(String)\r\n             */\r\n            removeInlineStyle: function(tagNames) {\r\n                if (this.collapsed) return this;\r\n                tagNames = utils.isArray(tagNames) ? tagNames : [tagNames];\r\n                this.shrinkBoundary().adjustmentBoundary();\r\n                var start = this.startContainer,\r\n                    end = this.endContainer;\r\n                while (1) {\r\n                    if (start.nodeType == 1) {\r\n                        if (utils.indexOf(tagNames, start.tagName.toLowerCase()) > -1) {\r\n                            break;\r\n                        }\r\n                        if (start.tagName.toLowerCase() == 'body') {\r\n                            start = null;\r\n                            break;\r\n                        }\r\n                    }\r\n                    start = start.parentNode;\r\n                }\r\n                while (1) {\r\n                    if (end.nodeType == 1) {\r\n                        if (utils.indexOf(tagNames, end.tagName.toLowerCase()) > -1) {\r\n                            break;\r\n                        }\r\n                        if (end.tagName.toLowerCase() == 'body') {\r\n                            end = null;\r\n                            break;\r\n                        }\r\n                    }\r\n                    end = end.parentNode;\r\n                }\r\n                var bookmark = this.createBookmark(),\r\n                    frag,\r\n                    tmpRange;\r\n                if (start) {\r\n                    tmpRange = this.cloneRange().setEndBefore(bookmark.start).setStartBefore(start);\r\n                    frag = tmpRange.extractContents();\r\n                    tmpRange.insertNode(frag);\r\n                    domUtils.clearEmptySibling(start, true);\r\n                    start.parentNode.insertBefore(bookmark.start, start);\r\n                }\r\n                if (end) {\r\n                    tmpRange = this.cloneRange().setStartAfter(bookmark.end).setEndAfter(end);\r\n                    frag = tmpRange.extractContents();\r\n                    tmpRange.insertNode(frag);\r\n                    domUtils.clearEmptySibling(end, false, true);\r\n                    end.parentNode.insertBefore(bookmark.end, end.nextSibling);\r\n                }\r\n                var current = domUtils.getNextDomNode(bookmark.start, false, function(node) {\r\n                        return node.nodeType == 1;\r\n                    }),\r\n                    next;\r\n                while (current && current !== bookmark.end) {\r\n                    next = domUtils.getNextDomNode(current, true, function(node) {\r\n                        return node.nodeType == 1;\r\n                    });\r\n                    if (utils.indexOf(tagNames, current.tagName.toLowerCase()) > -1) {\r\n                        domUtils.remove(current, true);\r\n                    }\r\n                    current = next;\r\n                }\r\n                return this.moveToBookmark(bookmark);\r\n            },\r\n\r\n            /**\r\n             * 获取当前选中的自闭合的节点\r\n             * @method  getClosedNode\r\n             * @return { Node | NULL } 如果当前选中的是自闭合节点， 则返回该节点， 否则返回NULL\r\n             */\r\n            getClosedNode: function() {\r\n                var node;\r\n                if (!this.collapsed) {\r\n                    var range = this.cloneRange().adjustmentBoundary().shrinkBoundary();\r\n                    if (selectOneNode(range)) {\r\n                        var child = range.startContainer.childNodes[range.startOffset];\r\n                        if (child && child.nodeType == 1 && (dtd.$empty[child.tagName] || dtd.$nonChild[child.tagName])) {\r\n                            node = child;\r\n                        }\r\n                    }\r\n                }\r\n                return node;\r\n            },\r\n\r\n            /**\r\n             * 在页面上高亮range所表示的选区\r\n             * @method select\r\n             * @return { UE.dom.Range } 返回当前Range对象\r\n             */\r\n            //这里不区分ie9以上，trace:3824\r\n            select: browser.ie ? function(noFillData, textRange) {\r\n                var nativeRange;\r\n                if (!this.collapsed)\r\n                    this.shrinkBoundary();\r\n                var node = this.getClosedNode();\r\n                if (node && !textRange) {\r\n                    try {\r\n                        nativeRange = this.document.body.createControlRange();\r\n                        nativeRange.addElement(node);\r\n                        nativeRange.select();\r\n                    } catch (e) {}\r\n                    return this;\r\n                }\r\n                var bookmark = this.createBookmark(),\r\n                    start = bookmark.start,\r\n                    end;\r\n                nativeRange = this.document.body.createTextRange();\r\n                nativeRange.moveToElementText(start);\r\n                nativeRange.moveStart('character', 1);\r\n                if (!this.collapsed) {\r\n                    var nativeRangeEnd = this.document.body.createTextRange();\r\n                    end = bookmark.end;\r\n                    nativeRangeEnd.moveToElementText(end);\r\n                    nativeRange.setEndPoint('EndToEnd', nativeRangeEnd);\r\n                } else {\r\n                    if (!noFillData && this.startContainer.nodeType != 3) {\r\n                        //使用<span>|x<span>固定住光标\r\n                        var tmpText = this.document.createTextNode(fillChar),\r\n                            tmp = this.document.createElement('span');\r\n                        tmp.appendChild(this.document.createTextNode(fillChar));\r\n                        start.parentNode.insertBefore(tmp, start);\r\n                        start.parentNode.insertBefore(tmpText, start);\r\n                        //当点b,i,u时，不能清除i上边的b\r\n                        removeFillData(this.document, tmpText);\r\n                        fillData = tmpText;\r\n                        mergeSibling(tmp, 'previousSibling');\r\n                        mergeSibling(start, 'nextSibling');\r\n                        nativeRange.moveStart('character', -1);\r\n                        nativeRange.collapse(true);\r\n                    }\r\n                }\r\n                this.moveToBookmark(bookmark);\r\n                tmp && domUtils.remove(tmp);\r\n                //IE在隐藏状态下不支持range操作，catch一下\r\n                try {\r\n                    nativeRange.select();\r\n                } catch (e) {}\r\n                return this;\r\n            } : function(notInsertFillData) {\r\n                function checkOffset(rng) {\r\n\r\n                    function check(node, offset, dir) {\r\n                        if (node.nodeType == 3 && node.nodeValue.length < offset) {\r\n                            rng[dir + 'Offset'] = node.nodeValue.length\r\n                        }\r\n                    }\r\n                    check(rng.startContainer, rng.startOffset, 'start');\r\n                    check(rng.endContainer, rng.endOffset, 'end');\r\n                }\r\n                var win = domUtils.getWindow(this.document),\r\n                    sel = win.getSelection(),\r\n                    txtNode;\r\n                //FF下关闭自动长高时滚动条在关闭dialog时会跳\r\n                //ff下如果不body.focus将不能定位闭合光标到编辑器内\r\n                browser.gecko ? this.document.body.focus() : win.focus();\r\n                if (sel) {\r\n                    sel.removeAllRanges();\r\n                    // trace:870 chrome/safari后边是br对于闭合得range不能定位 所以去掉了判断\r\n                    // this.startContainer.nodeType != 3 &&! ((child = this.startContainer.childNodes[this.startOffset]) && child.nodeType == 1 && child.tagName == 'BR'\r\n                    if (this.collapsed && !notInsertFillData) {\r\n                        //                    //opear如果没有节点接着，原生的不能够定位,不能在body的第一级插入空白节点\r\n                        //                    if (notInsertFillData && browser.opera && !domUtils.isBody(this.startContainer) && this.startContainer.nodeType == 1) {\r\n                        //                        var tmp = this.document.createTextNode('');\r\n                        //                        this.insertNode(tmp).setStart(tmp, 0).collapse(true);\r\n                        //                    }\r\n                        //\r\n                        //处理光标落在文本节点的情况\r\n                        //处理以下的情况\r\n                        //<b>|xxxx</b>\r\n                        //<b>xxxx</b>|xxxx\r\n                        //xxxx<b>|</b>\r\n                        var start = this.startContainer,\r\n                            child = start;\r\n                        if (start.nodeType == 1) {\r\n                            child = start.childNodes[this.startOffset];\r\n\r\n                        }\r\n                        if (!(start.nodeType == 3 && this.startOffset) &&\r\n                            (child ?\r\n                                (!child.previousSibling || child.previousSibling.nodeType != 3) :\r\n                                (!start.lastChild || start.lastChild.nodeType != 3)\r\n                            )\r\n                        ) {\r\n                            txtNode = this.document.createTextNode(fillChar);\r\n                            //跟着前边走\r\n                            this.insertNode(txtNode);\r\n                            removeFillData(this.document, txtNode);\r\n                            mergeSibling(txtNode, 'previousSibling');\r\n                            mergeSibling(txtNode, 'nextSibling');\r\n                            fillData = txtNode;\r\n                            this.setStart(txtNode, browser.webkit ? 1 : 0).collapse(true);\r\n                        }\r\n                    }\r\n                    var nativeRange = this.document.createRange();\r\n                    if (this.collapsed && browser.opera && this.startContainer.nodeType == 1) {\r\n                        var child = this.startContainer.childNodes[this.startOffset];\r\n                        if (!child) {\r\n                            //往前靠拢\r\n                            child = this.startContainer.lastChild;\r\n                            if (child && domUtils.isBr(child)) {\r\n                                this.setStartBefore(child).collapse(true);\r\n                            }\r\n                        } else {\r\n                            //向后靠拢\r\n                            while (child && domUtils.isBlockElm(child)) {\r\n                                if (child.nodeType == 1 && child.childNodes[0]) {\r\n                                    child = child.childNodes[0]\r\n                                } else {\r\n                                    break;\r\n                                }\r\n                            }\r\n                            child && this.setStartBefore(child).collapse(true)\r\n                        }\r\n\r\n                    }\r\n                    //是createAddress最后一位算的不准，现在这里进行微调\r\n                    checkOffset(this);\r\n                    nativeRange.setStart(this.startContainer, this.startOffset);\r\n                    nativeRange.setEnd(this.endContainer, this.endOffset);\r\n                    sel.addRange(nativeRange);\r\n                }\r\n                return this;\r\n            },\r\n\r\n            /**\r\n             * 滚动到当前range开始的位置\r\n             * @method scrollToView\r\n             * @param { Window } win 当前range对象所属的window对象\r\n             * @return { UE.dom.Range } 当前Range对象\r\n             */\r\n\r\n            /**\r\n             * 滚动到距离当前range开始位置 offset 的位置处\r\n             * @method scrollToView\r\n             * @param { Window } win 当前range对象所属的window对象\r\n             * @param { Number } offset 距离range开始位置处的偏移量， 如果为正数， 则向下偏移， 反之， 则向上偏移\r\n             * @return { UE.dom.Range } 当前Range对象\r\n             */\r\n            scrollToView: function(win, offset) {\r\n                win = win ? window : domUtils.getWindow(this.document);\r\n                var me = this,\r\n                    span = me.document.createElement('span');\r\n                //trace:717\r\n                span.innerHTML = '&nbsp;';\r\n                me.cloneRange().insertNode(span);\r\n                domUtils.scrollToView(span, win, offset);\r\n                domUtils.remove(span);\r\n                return me;\r\n            },\r\n\r\n            /**\r\n             * 判断当前选区内容是否占位符\r\n             * @private\r\n             * @method inFillChar\r\n             * @return { Boolean } 如果是占位符返回true，否则返回false\r\n             */\r\n            inFillChar: function() {\r\n                var start = this.startContainer;\r\n                if (this.collapsed && start.nodeType == 3 &&\r\n                    start.nodeValue.replace(new RegExp('^' + domUtils.fillChar), '').length + 1 == start.nodeValue.length\r\n                ) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            },\r\n\r\n            /**\r\n             * 保存\r\n             * @method createAddress\r\n             * @private\r\n             * @return { Boolean } 返回开始和结束的位置\r\n             * @example\r\n             * ```html\r\n             * <body>\r\n             *     <p>\r\n             *         aaaa\r\n             *         <em>\r\n             *             <!-- 选区开始 -->\r\n             *             bbbb\r\n             *             <!-- 选区结束 -->\r\n             *         </em>\r\n             *     </p>\r\n             *\r\n             *     <script>\r\n             *         //output: {startAddress:[0,1,0,0],endAddress:[0,1,0,4]}\r\n             *         console.log( range.createAddress() );\r\n             *     </script>\r\n             * </body>\r\n             * ```\r\n             */\r\n            createAddress: function(ignoreEnd, ignoreTxt) {\r\n                var addr = {},\r\n                    me = this;\r\n\r\n                function getAddress(isStart) {\r\n                    var node = isStart ? me.startContainer : me.endContainer;\r\n                    var parents = domUtils.findParents(node, true, function(node) { return !domUtils.isBody(node) }),\r\n                        addrs = [];\r\n                    for (var i = 0, ci; ci = parents[i++];) {\r\n                        addrs.push(domUtils.getNodeIndex(ci, ignoreTxt));\r\n                    }\r\n                    var firstIndex = 0;\r\n\r\n                    if (ignoreTxt) {\r\n                        if (node.nodeType == 3) {\r\n                            var tmpNode = node.previousSibling;\r\n                            while (tmpNode && tmpNode.nodeType == 3) {\r\n                                firstIndex += tmpNode.nodeValue.replace(fillCharReg, '').length;\r\n                                tmpNode = tmpNode.previousSibling;\r\n                            }\r\n                            firstIndex += (isStart ? me.startOffset : me.endOffset) // - (fillCharReg.test(node.nodeValue) ? 1 : 0 )\r\n                        } else {\r\n                            node = node.childNodes[isStart ? me.startOffset : me.endOffset];\r\n                            if (node) {\r\n                                firstIndex = domUtils.getNodeIndex(node, ignoreTxt);\r\n                            } else {\r\n                                node = isStart ? me.startContainer : me.endContainer;\r\n                                var first = node.firstChild;\r\n                                while (first) {\r\n                                    if (domUtils.isFillChar(first)) {\r\n                                        first = first.nextSibling;\r\n                                        continue;\r\n                                    }\r\n                                    firstIndex++;\r\n                                    if (first.nodeType == 3) {\r\n                                        while (first && first.nodeType == 3) {\r\n                                            first = first.nextSibling;\r\n                                        }\r\n                                    } else {\r\n                                        first = first.nextSibling;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                    } else {\r\n                        firstIndex = isStart ? domUtils.isFillChar(node) ? 0 : me.startOffset : me.endOffset\r\n                    }\r\n                    if (firstIndex < 0) {\r\n                        firstIndex = 0;\r\n                    }\r\n                    addrs.push(firstIndex);\r\n                    return addrs;\r\n                }\r\n                addr.startAddress = getAddress(true);\r\n                if (!ignoreEnd) {\r\n                    addr.endAddress = me.collapsed ? [].concat(addr.startAddress) : getAddress();\r\n                }\r\n                return addr;\r\n            },\r\n\r\n            /**\r\n             * 保存\r\n             * @method createAddress\r\n             * @private\r\n             * @return { Boolean } 返回开始和结束的位置\r\n             * @example\r\n             * ```html\r\n             * <body>\r\n             *     <p>\r\n             *         aaaa\r\n             *         <em>\r\n             *             <!-- 选区开始 -->\r\n             *             bbbb\r\n             *             <!-- 选区结束 -->\r\n             *         </em>\r\n             *     </p>\r\n             *\r\n             *     <script>\r\n             *         var range = editor.selection.getRange();\r\n             *         range.moveToAddress({startAddress:[0,1,0,0],endAddress:[0,1,0,4]});\r\n             *         range.select();\r\n             *         //output: 'bbbb'\r\n             *         console.log(editor.selection.getText());\r\n             *     </script>\r\n             * </body>\r\n             * ```\r\n             */\r\n            moveToAddress: function(addr, ignoreEnd) {\r\n                var me = this;\r\n\r\n                function getNode(address, isStart) {\r\n                    var tmpNode = me.document.body,\r\n                        parentNode, offset;\r\n                    for (var i = 0, ci, l = address.length; i < l; i++) {\r\n                        ci = address[i];\r\n                        parentNode = tmpNode;\r\n                        tmpNode = tmpNode.childNodes[ci];\r\n                        if (!tmpNode) {\r\n                            offset = ci;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (isStart) {\r\n                        if (tmpNode) {\r\n                            me.setStartBefore(tmpNode)\r\n                        } else {\r\n                            me.setStart(parentNode, offset)\r\n                        }\r\n                    } else {\r\n                        if (tmpNode) {\r\n                            me.setEndBefore(tmpNode)\r\n                        } else {\r\n                            me.setEnd(parentNode, offset)\r\n                        }\r\n                    }\r\n                }\r\n                getNode(addr.startAddress, true);\r\n                !ignoreEnd && addr.endAddress && getNode(addr.endAddress);\r\n                return me;\r\n            },\r\n\r\n            /**\r\n             * 判断给定的Range对象是否和当前Range对象表示的是同一个选区\r\n             * @method equals\r\n             * @param { UE.dom.Range } 需要判断的Range对象\r\n             * @return { Boolean } 如果给定的Range对象与当前Range对象表示的是同一个选区， 则返回true， 否则返回false\r\n             */\r\n            equals: function(rng) {\r\n                for (var p in this) {\r\n                    if (this.hasOwnProperty(p)) {\r\n                        if (this[p] !== rng[p])\r\n                            return false\r\n                    }\r\n                }\r\n                return true;\r\n\r\n            },\r\n\r\n            /**\r\n             * 遍历range内的节点。每当遍历一个节点时， 都会执行参数项 doFn 指定的函数， 该函数的接受当前遍历的节点\r\n             * 作为其参数。\r\n             * @method traversal\r\n             * @param { Function }  doFn 对每个遍历的节点要执行的方法， 该方法接受当前遍历的节点作为其参数\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @example\r\n             * ```html\r\n             *\r\n             * <body>\r\n             *\r\n             *     <!-- 选区开始 -->\r\n             *     <span></span>\r\n             *     <a></a>\r\n             *     <!-- 选区结束 -->\r\n             * </body>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //output: <span></span><a></a>\r\n             *     console.log( range.cloneContents() );\r\n             *\r\n             *     range.traversal( function ( node ) {\r\n             *\r\n             *         if ( node.nodeType === 1 ) {\r\n             *             node.className = \"test\";\r\n             *         }\r\n             *\r\n             *     } );\r\n             *\r\n             *     //output: <span class=\"test\"></span><a class=\"test\"></a>\r\n             *     console.log( range.cloneContents() );\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 遍历range内的节点。\r\n             * 每当遍历一个节点时， 都会执行参数项 doFn 指定的函数， 该函数的接受当前遍历的节点\r\n             * 作为其参数。\r\n             * 可以通过参数项 filterFn 来指定一个过滤器， 只有符合该过滤器过滤规则的节点才会触\r\n             * 发doFn函数的执行\r\n             * @method traversal\r\n             * @param { Function } doFn 对每个遍历的节点要执行的方法， 该方法接受当前遍历的节点作为其参数\r\n             * @param { Function } filterFn 过滤器， 该函数接受当前遍历的节点作为参数， 如果该节点满足过滤\r\n             *                      规则， 请返回true， 该节点会触发doFn， 否则， 请返回false， 则该节点不\r\n             *                      会触发doFn。\r\n             * @return { UE.dom.Range } 当前range对象\r\n             * @see UE.dom.Range:traversal(Function)\r\n             * @example\r\n             * ```html\r\n             *\r\n             * <body>\r\n             *\r\n             *     <!-- 选区开始 -->\r\n             *     <span></span>\r\n             *     <a></a>\r\n             *     <!-- 选区结束 -->\r\n             * </body>\r\n             *\r\n             * <script>\r\n             *\r\n             *     //output: <span></span><a></a>\r\n             *     console.log( range.cloneContents() );\r\n             *\r\n             *     range.traversal( function ( node ) {\r\n             *\r\n             *         node.className = \"test\";\r\n             *\r\n             *     }, function ( node ) {\r\n             *          return node.nodeType === 1;\r\n             *     } );\r\n             *\r\n             *     //output: <span class=\"test\"></span><a class=\"test\"></a>\r\n             *     console.log( range.cloneContents() );\r\n             *\r\n             * </script>\r\n             * ```\r\n             */\r\n            traversal: function(doFn, filterFn) {\r\n                if (this.collapsed)\r\n                    return this;\r\n                var bookmark = this.createBookmark(),\r\n                    end = bookmark.end,\r\n                    current = domUtils.getNextDomNode(bookmark.start, false, filterFn);\r\n                while (current && current !== end && (domUtils.getPosition(current, end) & domUtils.POSITION_PRECEDING)) {\r\n                    var tmpNode = domUtils.getNextDomNode(current, false, filterFn);\r\n                    doFn(current);\r\n                    current = tmpNode;\r\n                }\r\n                return this.moveToBookmark(bookmark);\r\n            }\r\n        };\r\n    })();\r\n\r\n    // core/Selection.js\r\n    /**\r\n     * 选集\r\n     * @file\r\n     * @module UE.dom\r\n     * @class Selection\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 选区集合\r\n     * @unfile\r\n     * @module UE.dom\r\n     * @class Selection\r\n     */\r\n    (function() {\r\n\r\n        function getBoundaryInformation(range, start) {\r\n            var getIndex = domUtils.getNodeIndex;\r\n            range = range.duplicate();\r\n            range.collapse(start);\r\n            var parent = range.parentElement();\r\n            //如果节点里没有子节点，直接退出\r\n            if (!parent.hasChildNodes()) {\r\n                return { container: parent, offset: 0 };\r\n            }\r\n            var siblings = parent.children,\r\n                child,\r\n                testRange = range.duplicate(),\r\n                startIndex = 0,\r\n                endIndex = siblings.length - 1,\r\n                index = -1,\r\n                distance;\r\n            while (startIndex <= endIndex) {\r\n                index = Math.floor((startIndex + endIndex) / 2);\r\n                child = siblings[index];\r\n                testRange.moveToElementText(child);\r\n                var position = testRange.compareEndPoints('StartToStart', range);\r\n                if (position > 0) {\r\n                    endIndex = index - 1;\r\n                } else if (position < 0) {\r\n                    startIndex = index + 1;\r\n                } else {\r\n                    //trace:1043\r\n                    return { container: parent, offset: getIndex(child) };\r\n                }\r\n            }\r\n            if (index == -1) {\r\n                testRange.moveToElementText(parent);\r\n                testRange.setEndPoint('StartToStart', range);\r\n                distance = testRange.text.replace(/(\\r\\n|\\r)/g, '\\n').length;\r\n                siblings = parent.childNodes;\r\n                if (!distance) {\r\n                    child = siblings[siblings.length - 1];\r\n                    return { container: child, offset: child.nodeValue.length };\r\n                }\r\n\r\n                var i = siblings.length;\r\n                while (distance > 0) {\r\n                    distance -= siblings[--i].nodeValue.length;\r\n                }\r\n                return { container: siblings[i], offset: -distance };\r\n            }\r\n            testRange.collapse(position > 0);\r\n            testRange.setEndPoint(position > 0 ? 'StartToStart' : 'EndToStart', range);\r\n            distance = testRange.text.replace(/(\\r\\n|\\r)/g, '\\n').length;\r\n            if (!distance) {\r\n                return dtd.$empty[child.tagName] || dtd.$nonChild[child.tagName] ? { container: parent, offset: getIndex(child) + (position > 0 ? 0 : 1) } : { container: child, offset: position > 0 ? 0 : child.childNodes.length }\r\n            }\r\n            while (distance > 0) {\r\n                try {\r\n                    var pre = child;\r\n                    child = child[position > 0 ? 'previousSibling' : 'nextSibling'];\r\n                    distance -= child.nodeValue.length;\r\n                } catch (e) {\r\n                    return { container: parent, offset: getIndex(pre) };\r\n                }\r\n            }\r\n            return { container: child, offset: position > 0 ? -distance : child.nodeValue.length + distance }\r\n        }\r\n\r\n        /**\r\n         * 将ieRange转换为Range对象\r\n         * @param {Range}   ieRange    ieRange对象\r\n         * @param {Range}   range      Range对象\r\n         * @return  {Range}  range       返回转换后的Range对象\r\n         */\r\n        function transformIERangeToRange(ieRange, range) {\r\n            if (ieRange.item) {\r\n                range.selectNode(ieRange.item(0));\r\n            } else {\r\n                var bi = getBoundaryInformation(ieRange, true);\r\n                range.setStart(bi.container, bi.offset);\r\n                if (ieRange.compareEndPoints('StartToEnd', ieRange) != 0) {\r\n                    bi = getBoundaryInformation(ieRange, false);\r\n                    range.setEnd(bi.container, bi.offset);\r\n                }\r\n            }\r\n            return range;\r\n        }\r\n\r\n        /**\r\n         * 获得ieRange\r\n         * @param {Selection} sel    Selection对象\r\n         * @return {ieRange}    得到ieRange\r\n         */\r\n        function _getIERange(sel) {\r\n            var ieRange;\r\n            //ie下有可能报错\r\n            try {\r\n                ieRange = sel.getNative().createRange();\r\n            } catch (e) {\r\n                return null;\r\n            }\r\n            var el = ieRange.item ? ieRange.item(0) : ieRange.parentElement();\r\n            if ((el.ownerDocument || el) === sel.document) {\r\n                return ieRange;\r\n            }\r\n            return null;\r\n        }\r\n\r\n        var Selection = dom.Selection = function(doc) {\r\n            var me = this,\r\n                iframe;\r\n            me.document = doc;\r\n            if (browser.ie9below) {\r\n                iframe = domUtils.getWindow(doc).frameElement;\r\n                domUtils.on(iframe, 'beforedeactivate', function() {\r\n                    me._bakIERange = me.getIERange();\r\n                });\r\n                domUtils.on(iframe, 'activate', function() {\r\n                    try {\r\n                        if (!_getIERange(me) && me._bakIERange) {\r\n                            me._bakIERange.select();\r\n                        }\r\n                    } catch (ex) {}\r\n                    me._bakIERange = null;\r\n                });\r\n            }\r\n            iframe = doc = null;\r\n        };\r\n\r\n        Selection.prototype = {\r\n\r\n            rangeInBody: function(rng, txtRange) {\r\n                var node = browser.ie9below || txtRange ? rng.item ? rng.item() : rng.parentElement() : rng.startContainer;\r\n\r\n                return node === this.document.body || domUtils.inDoc(node, this.document);\r\n            },\r\n\r\n            /**\r\n             * 获取原生seleciton对象\r\n             * @method getNative\r\n             * @return { Object } 获得selection对象\r\n             * @example\r\n             * ```javascript\r\n             * editor.selection.getNative();\r\n             * ```\r\n             */\r\n            getNative: function() {\r\n                var doc = this.document;\r\n                try {\r\n                    return !doc ? null : browser.ie9below ? doc.selection : domUtils.getWindow(doc).getSelection();\r\n                } catch (e) {\r\n                    return null;\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 获得ieRange\r\n             * @method getIERange\r\n             * @return { Object } 返回ie原生的Range\r\n             * @example\r\n             * ```javascript\r\n             * editor.selection.getIERange();\r\n             * ```\r\n             */\r\n            getIERange: function() {\r\n                var ieRange = _getIERange(this);\r\n                if (!ieRange) {\r\n                    if (this._bakIERange) {\r\n                        return this._bakIERange;\r\n                    }\r\n                }\r\n                return ieRange;\r\n            },\r\n\r\n            /**\r\n             * 缓存当前选区的range和选区的开始节点\r\n             * @method cache\r\n             */\r\n            cache: function() {\r\n                this.clear();\r\n                this._cachedRange = this.getRange();\r\n                this._cachedStartElement = this.getStart();\r\n                this._cachedStartElementPath = this.getStartElementPath();\r\n            },\r\n\r\n            /**\r\n             * 获取选区开始位置的父节点到body\r\n             * @method getStartElementPath\r\n             * @return { Array } 返回父节点集合\r\n             * @example\r\n             * ```javascript\r\n             * editor.selection.getStartElementPath();\r\n             * ```\r\n             */\r\n            getStartElementPath: function() {\r\n                if (this._cachedStartElementPath) {\r\n                    return this._cachedStartElementPath;\r\n                }\r\n                var start = this.getStart();\r\n                if (start) {\r\n                    return domUtils.findParents(start, true, null, true)\r\n                }\r\n                return [];\r\n            },\r\n\r\n            /**\r\n             * 清空缓存\r\n             * @method clear\r\n             */\r\n            clear: function() {\r\n                this._cachedStartElementPath = this._cachedRange = this._cachedStartElement = null;\r\n            },\r\n\r\n            /**\r\n             * 编辑器是否得到了选区\r\n             * @method isFocus\r\n             */\r\n            isFocus: function() {\r\n                try {\r\n                    if (browser.ie9below) {\r\n\r\n                        var nativeRange = _getIERange(this);\r\n                        return !!(nativeRange && this.rangeInBody(nativeRange));\r\n                    } else {\r\n                        return !!this.getNative().rangeCount;\r\n                    }\r\n                } catch (e) {\r\n                    return false;\r\n                }\r\n\r\n            },\r\n\r\n            /**\r\n             * 获取选区对应的Range\r\n             * @method getRange\r\n             * @return { Object } 得到Range对象\r\n             * @example\r\n             * ```javascript\r\n             * editor.selection.getRange();\r\n             * ```\r\n             */\r\n            getRange: function() {\r\n                var me = this;\r\n\r\n                function optimze(range) {\r\n                    var child = me.document.body.firstChild,\r\n                        collapsed = range.collapsed;\r\n                    while (child && child.firstChild) {\r\n                        range.setStart(child, 0);\r\n                        child = child.firstChild;\r\n                    }\r\n                    if (!range.startContainer) {\r\n                        range.setStart(me.document.body, 0)\r\n                    }\r\n                    if (collapsed) {\r\n                        range.collapse(true);\r\n                    }\r\n                }\r\n\r\n                if (me._cachedRange != null) {\r\n                    return this._cachedRange;\r\n                }\r\n                var range = new baidu.editor.dom.Range(me.document);\r\n\r\n                if (browser.ie9below) {\r\n                    var nativeRange = me.getIERange();\r\n                    if (nativeRange) {\r\n                        //备份的_bakIERange可能已经实效了，dom树发生了变化比如从源码模式切回来，所以try一下，实效就放到body开始位置\r\n                        try {\r\n                            transformIERangeToRange(nativeRange, range);\r\n                        } catch (e) {\r\n                            optimze(range);\r\n                        }\r\n\r\n                    } else {\r\n                        optimze(range);\r\n                    }\r\n                } else {\r\n                    var sel = me.getNative();\r\n                    if (sel && sel.rangeCount) {\r\n                        var firstRange = sel.getRangeAt(0);\r\n                        var lastRange = sel.getRangeAt(sel.rangeCount - 1);\r\n                        range.setStart(firstRange.startContainer, firstRange.startOffset).setEnd(lastRange.endContainer, lastRange.endOffset);\r\n                        if (range.collapsed && domUtils.isBody(range.startContainer) && !range.startOffset) {\r\n                            optimze(range);\r\n                        }\r\n                    } else {\r\n                        //trace:1734 有可能已经不在dom树上了，标识的节点\r\n                        if (this._bakRange && domUtils.inDoc(this._bakRange.startContainer, this.document)) {\r\n                            return this._bakRange;\r\n                        }\r\n                        optimze(range);\r\n                    }\r\n                }\r\n                return this._bakRange = range;\r\n            },\r\n\r\n            /**\r\n             * 获取开始元素，用于状态反射\r\n             * @method getStart\r\n             * @return { Element } 获得开始元素\r\n             * @example\r\n             * ```javascript\r\n             * editor.selection.getStart();\r\n             * ```\r\n             */\r\n            getStart: function() {\r\n                if (this._cachedStartElement) {\r\n                    return this._cachedStartElement;\r\n                }\r\n                var range = browser.ie9below ? this.getIERange() : this.getRange(),\r\n                    tmpRange,\r\n                    start, tmp, parent;\r\n                if (browser.ie9below) {\r\n                    if (!range) {\r\n                        //todo 给第一个值可能会有问题\r\n                        return this.document.body.firstChild;\r\n                    }\r\n                    //control元素\r\n                    if (range.item) {\r\n                        return range.item(0);\r\n                    }\r\n                    tmpRange = range.duplicate();\r\n                    //修正ie下<b>x</b>[xx] 闭合后 <b>x|</b>xx\r\n                    tmpRange.text.length > 0 && tmpRange.moveStart('character', 1);\r\n                    tmpRange.collapse(1);\r\n                    start = tmpRange.parentElement();\r\n                    parent = tmp = range.parentElement();\r\n                    while (tmp = tmp.parentNode) {\r\n                        if (tmp == start) {\r\n                            start = parent;\r\n                            break;\r\n                        }\r\n                    }\r\n                } else {\r\n                    range.shrinkBoundary();\r\n                    start = range.startContainer;\r\n                    if (start.nodeType == 1 && start.hasChildNodes()) {\r\n                        start = start.childNodes[Math.min(start.childNodes.length - 1, range.startOffset)];\r\n                    }\r\n                    if (start.nodeType == 3) {\r\n                        return start.parentNode;\r\n                    }\r\n                }\r\n                return start;\r\n            },\r\n\r\n            /**\r\n             * 得到选区中的文本\r\n             * @method getText\r\n             * @return { String } 选区中包含的文本\r\n             * @example\r\n             * ```javascript\r\n             * editor.selection.getText();\r\n             * ```\r\n             */\r\n            getText: function() {\r\n                var nativeSel, nativeRange;\r\n                if (this.isFocus() && (nativeSel = this.getNative())) {\r\n                    nativeRange = browser.ie9below ? nativeSel.createRange() : nativeSel.getRangeAt(0);\r\n                    return browser.ie9below ? nativeRange.text : nativeRange.toString();\r\n                }\r\n                return '';\r\n            },\r\n\r\n            /**\r\n             * 清除选区\r\n             * @method clearRange\r\n             * @example\r\n             * ```javascript\r\n             * editor.selection.clearRange();\r\n             * ```\r\n             */\r\n            clearRange: function() {\r\n                this.getNative()[browser.ie9below ? 'empty' : 'removeAllRanges']();\r\n            }\r\n        };\r\n    })();\r\n\r\n    // core/Editor.js\r\n    /**\r\n     * 编辑器主类，包含编辑器提供的大部分公用接口\r\n     * @file\r\n     * @module UE\r\n     * @class Editor\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * UEditor公用空间，UEditor所有的功能都挂载在该空间下\r\n     * @unfile\r\n     * @module UE\r\n     */\r\n\r\n    /**\r\n     * UEditor的核心类，为用户提供与编辑器交互的接口。\r\n     * @unfile\r\n     * @module UE\r\n     * @class Editor\r\n     */\r\n\r\n    (function() {\r\n        var uid = 0,\r\n            _selectionChangeTimer;\r\n\r\n        /**\r\n         * 获取编辑器的html内容，赋值到编辑器所在表单的textarea文本域里面\r\n         * @private\r\n         * @method setValue\r\n         * @param { UE.Editor } editor 编辑器事例\r\n         */\r\n        function setValue(form, editor) {\r\n            var textarea;\r\n            if (editor.textarea) {\r\n                if (utils.isString(editor.textarea)) {\r\n                    for (var i = 0, ti, tis = domUtils.getElementsByTagName(form, 'textarea'); ti = tis[i++];) {\r\n                        if (ti.id == 'ueditor_textarea_' + editor.options.textarea) {\r\n                            textarea = ti;\r\n                            break;\r\n                        }\r\n                    }\r\n                } else {\r\n                    textarea = editor.textarea;\r\n                }\r\n            }\r\n            if (!textarea) {\r\n                form.appendChild(textarea = domUtils.createElement(document, 'textarea', {\r\n                    'name': editor.options.textarea,\r\n                    'id': 'ueditor_textarea_' + editor.options.textarea,\r\n                    'style': \"display:none\"\r\n                }));\r\n                //不要产生多个textarea\r\n                editor.textarea = textarea;\r\n            }!textarea.getAttribute('name') && textarea.setAttribute('name', editor.options.textarea);\r\n            textarea.value = editor.hasContents() ?\r\n                (editor.options.allHtmlEnabled ? editor.getAllHtml() : editor.getContent(null, null, true)) :\r\n                ''\r\n        }\r\n\r\n        function loadPlugins(me) {\r\n            //初始化插件\r\n            for (var pi in UE.plugins) {\r\n                UE.plugins[pi].call(me);\r\n            }\r\n\r\n        }\r\n\r\n        function checkCurLang(I18N) {\r\n            for (var lang in I18N) {\r\n                return lang\r\n            }\r\n        }\r\n\r\n        function langReadied(me) {\r\n            me.langIsReady = true;\r\n\r\n            me.fireEvent(\"langReady\");\r\n        }\r\n\r\n        /**\r\n         * 编辑器准备就绪后会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event ready\r\n         * @remind render方法执行完成之后,会触发该事件\r\n         * @remind\r\n         * @example\r\n         * ```javascript\r\n         * editor.addListener( 'ready', function( editor ) {\r\n         *     editor.execCommand( 'focus' ); //编辑器家在完成后，让编辑器拿到焦点\r\n         * } );\r\n         * ```\r\n         */\r\n        /**\r\n         * 执行destroy方法,会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event destroy\r\n         * @see UE.Editor:destroy()\r\n         */\r\n        /**\r\n         * 执行reset方法,会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event reset\r\n         * @see UE.Editor:reset()\r\n         */\r\n        /**\r\n         * 执行focus方法,会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event focus\r\n         * @see UE.Editor:focus(Boolean)\r\n         */\r\n        /**\r\n         * 语言加载完成会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event langReady\r\n         */\r\n        /**\r\n         * 运行命令之后会触发该命令\r\n         * @module UE\r\n         * @class Editor\r\n         * @event beforeExecCommand\r\n         */\r\n        /**\r\n         * 运行命令之后会触发该命令\r\n         * @module UE\r\n         * @class Editor\r\n         * @event afterExecCommand\r\n         */\r\n        /**\r\n         * 运行命令之前会触发该命令\r\n         * @module UE\r\n         * @class Editor\r\n         * @event firstBeforeExecCommand\r\n         */\r\n        /**\r\n         * 在getContent方法执行之前会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event beforeGetContent\r\n         * @see UE.Editor:getContent()\r\n         */\r\n        /**\r\n         * 在getContent方法执行之后会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event afterGetContent\r\n         * @see UE.Editor:getContent()\r\n         */\r\n        /**\r\n         * 在getAllHtml方法执行时会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event getAllHtml\r\n         * @see UE.Editor:getAllHtml()\r\n         */\r\n        /**\r\n         * 在setContent方法执行之前会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event beforeSetContent\r\n         * @see UE.Editor:setContent(String)\r\n         */\r\n        /**\r\n         * 在setContent方法执行之后会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event afterSetContent\r\n         * @see UE.Editor:setContent(String)\r\n         */\r\n        /**\r\n         * 每当编辑器内部选区发生改变时，将触发该事件\r\n         * @event selectionchange\r\n         * @warning 该事件的触发非常频繁，不建议在该事件的处理过程中做重量级的处理\r\n         * @example\r\n         * ```javascript\r\n         * editor.addListener( 'selectionchange', function( editor ) {\r\n         *     console.log('选区发生改变');\r\n         * }\r\n         */\r\n        /**\r\n         * 在所有selectionchange的监听函数执行之前，会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event beforeSelectionChange\r\n         * @see UE.Editor:selectionchange\r\n         */\r\n        /**\r\n         * 在所有selectionchange的监听函数执行完之后，会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event afterSelectionChange\r\n         * @see UE.Editor:selectionchange\r\n         */\r\n        /**\r\n         * 编辑器内容发生改变时会触发该事件\r\n         * @module UE\r\n         * @class Editor\r\n         * @event contentChange\r\n         */\r\n\r\n\r\n        /**\r\n         * 以默认参数构建一个编辑器实例\r\n         * @constructor\r\n         * @remind 通过 改构造方法实例化的编辑器,不带ui层.需要render到一个容器,编辑器实例才能正常渲染到页面\r\n         * @example\r\n         * ```javascript\r\n         * var editor = new UE.Editor();\r\n         * editor.execCommand('blod');\r\n         * ```\r\n         * @see UE.Config\r\n         */\r\n\r\n        /**\r\n         * 以给定的参数集合创建一个编辑器实例，对于未指定的参数，将应用默认参数。\r\n         * @constructor\r\n         * @remind 通过 改构造方法实例化的编辑器,不带ui层.需要render到一个容器,编辑器实例才能正常渲染到页面\r\n         * @param { Object } setting 创建编辑器的参数\r\n         * @example\r\n         * ```javascript\r\n         * var editor = new UE.Editor();\r\n         * editor.execCommand('blod');\r\n         * ```\r\n         * @see UE.Config\r\n         */\r\n        var Editor = UE.Editor = function(options) {\r\n            var me = this;\r\n            me.uid = uid++;\r\n            EventBase.call(me);\r\n            me.commands = {};\r\n            me.options = utils.extend(utils.clone(options || {}), UEDITOR_CONFIG, true);\r\n            me.shortcutkeys = {};\r\n            me.inputRules = [];\r\n            me.outputRules = [];\r\n            //设置默认的常用属性\r\n            me.setOpt(Editor.defaultOptions(me));\r\n\r\n            /* 尝试异步加载后台配置 */\r\n            me.loadServerConfig();\r\n\r\n            if (!utils.isEmptyObject(UE.I18N)) {\r\n                //修改默认的语言类型\r\n                me.options.lang = checkCurLang(UE.I18N);\r\n                UE.plugin.load(me);\r\n                langReadied(me);\r\n\r\n            } else {\r\n                utils.loadFile(document, {\r\n                    src: me.options.langPath + me.options.lang + \"/\" + me.options.lang + \".js\",\r\n                    tag: \"script\",\r\n                    type: \"text/javascript\",\r\n                    defer: \"defer\"\r\n                }, function() {\r\n                    UE.plugin.load(me);\r\n                    langReadied(me);\r\n                });\r\n            }\r\n\r\n            UE.instants['ueditorInstant' + me.uid] = me;\r\n        };\r\n        Editor.prototype = {\r\n            registerCommand: function(name, obj) {\r\n                this.commands[name] = obj;\r\n            },\r\n            /**\r\n             * 编辑器对外提供的监听ready事件的接口， 通过调用该方法，达到的效果与监听ready事件是一致的\r\n             * @method ready\r\n             * @param { Function } fn 编辑器ready之后所执行的回调, 如果在注册事件之前编辑器已经ready，将会\r\n             * 立即触发该回调。\r\n             * @remind 需要等待编辑器加载完成后才能执行的代码,可以使用该方法传入\r\n             * @example\r\n             * ```javascript\r\n             * editor.ready( function( editor ) {\r\n             *     editor.setContent('初始化完毕');\r\n             * } );\r\n             * ```\r\n             * @see UE.Editor.event:ready\r\n             */\r\n            ready: function(fn) {\r\n                var me = this;\r\n                if (fn) {\r\n                    me.isReady ? fn.apply(me) : me.addListener('ready', fn);\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 该方法是提供给插件里面使用，设置配置项默认值\r\n             * @method setOpt\r\n             * @warning 三处设置配置项的优先级: 实例化时传入参数 > setOpt()设置 > config文件里设置\r\n             * @warning 该方法仅供编辑器插件内部和编辑器初始化时调用，其他地方不能调用。\r\n             * @param { String } key 编辑器的可接受的选项名称\r\n             * @param { * } val  该选项可接受的值\r\n             * @example\r\n             * ```javascript\r\n             * editor.setOpt( 'initContent', '欢迎使用编辑器' );\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 该方法是提供给插件里面使用，以{key:value}集合的方式设置插件内用到的配置项默认值\r\n             * @method setOpt\r\n             * @warning 三处设置配置项的优先级: 实例化时传入参数 > setOpt()设置 > config文件里设置\r\n             * @warning 该方法仅供编辑器插件内部和编辑器初始化时调用，其他地方不能调用。\r\n             * @param { Object } options 将要设置的选项的键值对对象\r\n             * @example\r\n             * ```javascript\r\n             * editor.setOpt( {\r\n             *     'initContent': '欢迎使用编辑器'\r\n             * } );\r\n             * ```\r\n             */\r\n            setOpt: function(key, val) {\r\n                var obj = {};\r\n                if (utils.isString(key)) {\r\n                    obj[key] = val\r\n                } else {\r\n                    obj = key;\r\n                }\r\n                utils.extend(this.options, obj, true);\r\n            },\r\n            getOpt: function(key) {\r\n                return this.options[key]\r\n            },\r\n            /**\r\n             * 销毁编辑器实例，使用textarea代替\r\n             * @method destroy\r\n             * @example\r\n             * ```javascript\r\n             * editor.destroy();\r\n             * ```\r\n             */\r\n            destroy: function() {\r\n\r\n                var me = this;\r\n                me.fireEvent('destroy');\r\n                var container = me.container.parentNode;\r\n                var textarea = me.textarea;\r\n                if (!textarea) {\r\n                    textarea = document.createElement('textarea');\r\n                    container.parentNode.insertBefore(textarea, container);\r\n                } else {\r\n                    textarea.style.display = ''\r\n                }\r\n\r\n                textarea.style.width = me.iframe.offsetWidth + 'px';\r\n                textarea.style.height = me.iframe.offsetHeight + 'px';\r\n                textarea.value = me.getContent();\r\n                textarea.id = me.key;\r\n                container.innerHTML = '';\r\n                domUtils.remove(container);\r\n                var key = me.key;\r\n                //trace:2004\r\n                for (var p in me) {\r\n                    if (me.hasOwnProperty(p)) {\r\n                        delete this[p];\r\n                    }\r\n                }\r\n                UE.delEditor(key);\r\n            },\r\n\r\n            /**\r\n             * 渲染编辑器的DOM到指定容器\r\n             * @method render\r\n             * @param { String } containerId 指定一个容器ID\r\n             * @remind 执行该方法,会触发ready事件\r\n             * @warning 必须且只能调用一次\r\n             */\r\n\r\n            /**\r\n             * 渲染编辑器的DOM到指定容器\r\n             * @method render\r\n             * @param { Element } containerDom 直接指定容器对象\r\n             * @remind 执行该方法,会触发ready事件\r\n             * @warning 必须且只能调用一次\r\n             */\r\n            render: function(container) {\r\n                var me = this,\r\n                    options = me.options,\r\n                    getStyleValue = function(attr) {\r\n                        return parseInt(domUtils.getComputedStyle(container, attr));\r\n                    };\r\n                if (utils.isString(container)) {\r\n                    container = document.getElementById(container);\r\n                }\r\n                if (container) {\r\n                    if (options.initialFrameWidth) {\r\n                        options.minFrameWidth = options.initialFrameWidth\r\n                    } else {\r\n                        options.minFrameWidth = options.initialFrameWidth = container.offsetWidth;\r\n                    }\r\n                    if (options.initialFrameHeight) {\r\n                        options.minFrameHeight = options.initialFrameHeight\r\n                    } else {\r\n                        options.initialFrameHeight = options.minFrameHeight = container.offsetHeight;\r\n                    }\r\n\r\n                    container.style.width = /%$/.test(options.initialFrameWidth) ? '100%' : options.initialFrameWidth -\r\n                        getStyleValue(\"padding-left\") - getStyleValue(\"padding-right\") + 'px';\r\n                    container.style.height = /%$/.test(options.initialFrameHeight) ? '100%' : options.initialFrameHeight -\r\n                        getStyleValue(\"padding-top\") - getStyleValue(\"padding-bottom\") + 'px';\r\n\r\n                    container.style.zIndex = options.zIndex;\r\n\r\n                    var html = (ie && browser.version < 9 ? '' : '<!DOCTYPE html>') +\r\n                        '<html xmlns=\\'http://www.w3.org/1999/xhtml\\' class=\\'view\\' ><head>' +\r\n                        '<style type=\\'text/css\\'>' +\r\n                        //设置四周的留边\r\n                        '.view{padding:0;word-wrap:break-word;cursor:text;height:90%;}\\n' +\r\n                        //设置默认字体和字号\r\n                        //font-family不能呢随便改，在safari下fillchar会有解析问题\r\n                        'body{margin:8px;font-family:sans-serif;font-size:16px;}' +\r\n                        //设置段落间距\r\n                        'p{margin:5px 0;}</style>' +\r\n                        (options.iframeCssUrl ? '<link rel=\\'stylesheet\\' type=\\'text/css\\' href=\\'' + utils.unhtml(options.iframeCssUrl) + '\\'/>' : '') +\r\n                        (options.initialStyle ? '<style>' + options.initialStyle + '</style>' : '') +\r\n                        '</head><body class=\\'view\\' ></body>' +\r\n                        '<script type=\\'text/javascript\\' ' + (ie ? 'defer=\\'defer\\'' : '') + ' id=\\'_initialScript\\'>' +\r\n                        'setTimeout(function(){editor = window.parent.UE.instants[\\'ueditorInstant' + me.uid + '\\'];editor._setup(document);},0);' +\r\n                        'var _tmpScript = document.getElementById(\\'_initialScript\\');_tmpScript.parentNode.removeChild(_tmpScript);</script></html>';\r\n                    container.appendChild(domUtils.createElement(document, 'iframe', {\r\n                        id: 'ueditor_' + me.uid,\r\n                        width: \"100%\",\r\n                        height: \"100%\",\r\n                        frameborder: \"0\",\r\n                        //先注释掉了，加的原因忘记了，但开启会直接导致全屏模式下内容多时不会出现滚动条\r\n                        //                    scrolling :'no',\r\n                        src: 'javascript:void(function(){document.open();' + (options.customDomain && document.domain != location.hostname ? 'document.domain=\"' + document.domain + '\";' : '') +\r\n                            'document.write(\"' + html + '\");document.close();}())'\r\n                    }));\r\n                    container.style.overflow = 'hidden';\r\n                    //解决如果是给定的百分比，会导致高度算不对的问题\r\n                    setTimeout(function() {\r\n                        if (/%$/.test(options.initialFrameWidth)) {\r\n                            options.minFrameWidth = options.initialFrameWidth = container.offsetWidth;\r\n                            //如果这里给定宽度，会导致ie在拖动窗口大小时，编辑区域不随着变化\r\n                            //                        container.style.width = options.initialFrameWidth + 'px';\r\n                        }\r\n                        if (/%$/.test(options.initialFrameHeight)) {\r\n                            options.minFrameHeight = options.initialFrameHeight = container.offsetHeight;\r\n                            container.style.height = options.initialFrameHeight + 'px';\r\n                        }\r\n                    })\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 编辑器初始化\r\n             * @method _setup\r\n             * @private\r\n             * @param { Element } doc 编辑器Iframe中的文档对象\r\n             */\r\n            _setup: function(doc) {\r\n\r\n                var me = this,\r\n                    options = me.options;\r\n                if (ie) {\r\n                    doc.body.disabled = true;\r\n                    doc.body.contentEditable = true;\r\n                    doc.body.disabled = false;\r\n                } else {\r\n                    doc.body.contentEditable = true;\r\n                }\r\n                doc.body.spellcheck = false;\r\n                me.document = doc;\r\n                me.window = doc.defaultView || doc.parentWindow;\r\n                me.iframe = me.window.frameElement;\r\n                me.body = doc.body;\r\n                me.selection = new dom.Selection(doc);\r\n                //gecko初始化就能得到range,无法判断isFocus了\r\n                var geckoSel;\r\n                if (browser.gecko && (geckoSel = this.selection.getNative())) {\r\n                    geckoSel.removeAllRanges();\r\n                }\r\n                this._initEvents();\r\n                //为form提交提供一个隐藏的textarea\r\n                for (var form = this.iframe.parentNode; !domUtils.isBody(form); form = form.parentNode) {\r\n                    if (form.tagName == 'FORM') {\r\n                        me.form = form;\r\n                        if (me.options.autoSyncData) {\r\n                            domUtils.on(me.window, 'blur', function() {\r\n                                setValue(form, me);\r\n                            });\r\n                        } else {\r\n                            domUtils.on(form, 'submit', function() {\r\n                                setValue(this, me);\r\n                            });\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                if (options.initialContent) {\r\n                    if (options.autoClearinitialContent) {\r\n                        var oldExecCommand = me.execCommand;\r\n                        me.execCommand = function() {\r\n                            me.fireEvent('firstBeforeExecCommand');\r\n                            return oldExecCommand.apply(me, arguments);\r\n                        };\r\n                        this._setDefaultContent(options.initialContent);\r\n                    } else\r\n                        this.setContent(options.initialContent, false, true);\r\n                }\r\n\r\n                //编辑器不能为空内容\r\n\r\n                if (domUtils.isEmptyNode(me.body)) {\r\n                    me.body.innerHTML = '<p>' + (browser.ie ? '' : '<br/>') + '</p>';\r\n                }\r\n                //如果要求focus, 就把光标定位到内容开始\r\n                if (options.focus) {\r\n                    setTimeout(function() {\r\n                        me.focus(me.options.focusInEnd);\r\n                        //如果自动清除开着，就不需要做selectionchange;\r\n                        !me.options.autoClearinitialContent && me._selectionChange();\r\n                    }, 0);\r\n                }\r\n                if (!me.container) {\r\n                    me.container = this.iframe.parentNode;\r\n                }\r\n                if (options.fullscreen && me.ui) {\r\n                    me.ui.setFullScreen(true);\r\n                }\r\n\r\n                try {\r\n                    me.document.execCommand('2D-position', false, false);\r\n                } catch (e) {}\r\n                try {\r\n                    me.document.execCommand('enableInlineTableEditing', false, false);\r\n                } catch (e) {}\r\n                try {\r\n                    me.document.execCommand('enableObjectResizing', false, false);\r\n                } catch (e) {}\r\n\r\n                //挂接快捷键\r\n                me._bindshortcutKeys();\r\n                me.isReady = 1;\r\n                me.fireEvent('ready');\r\n                options.onready && options.onready.call(me);\r\n                if (!browser.ie9below) {\r\n                    domUtils.on(me.window, ['blur', 'focus'], function(e) {\r\n                        //chrome下会出现alt+tab切换时，导致选区位置不对\r\n                        if (e.type == 'blur') {\r\n                            me._bakRange = me.selection.getRange();\r\n                            try {\r\n                                me._bakNativeRange = me.selection.getNative().getRangeAt(0);\r\n                                me.selection.getNative().removeAllRanges();\r\n                            } catch (e) {\r\n                                me._bakNativeRange = null;\r\n                            }\r\n\r\n                        } else {\r\n                            try {\r\n                                me._bakRange && me._bakRange.select();\r\n                            } catch (e) {}\r\n                        }\r\n                    });\r\n                }\r\n                //trace:1518 ff3.6body不够寛，会导致点击空白处无法获得焦点\r\n                if (browser.gecko && browser.version <= 10902) {\r\n                    //修复ff3.6初始化进来，不能点击获得焦点\r\n                    me.body.contentEditable = false;\r\n                    setTimeout(function() {\r\n                        me.body.contentEditable = true;\r\n                    }, 100);\r\n                    setInterval(function() {\r\n                        me.body.style.height = me.iframe.offsetHeight - 20 + 'px'\r\n                    }, 100)\r\n                }\r\n\r\n                !options.isShow && me.setHide();\r\n                options.readonly && me.setDisabled();\r\n            },\r\n\r\n            /**\r\n             * 同步数据到编辑器所在的form\r\n             * 从编辑器的容器节点向上查找form元素，若找到，就同步编辑内容到找到的form里，为提交数据做准备，主要用于是手动提交的情况\r\n             * 后台取得数据的键值，使用你容器上的name属性，如果没有就使用参数里的textarea项\r\n             * @method sync\r\n             * @example\r\n             * ```javascript\r\n             * editor.sync();\r\n             * form.sumbit(); //form变量已经指向了form元素\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 根据传入的formId，在页面上查找要同步数据的表单，若找到，就同步编辑内容到找到的form里，为提交数据做准备\r\n             * 后台取得数据的键值，该键值默认使用给定的编辑器容器的name属性，如果没有name属性则使用参数项里给定的“textarea”项\r\n             * @method sync\r\n             * @param { String } formID 指定一个要同步数据的form的id,编辑器的数据会同步到你指定form下\r\n             */\r\n            sync: function(formId) {\r\n                var me = this,\r\n                    form = formId ? document.getElementById(formId) :\r\n                    domUtils.findParent(me.iframe.parentNode, function(node) {\r\n                        return node.tagName == 'FORM'\r\n                    }, true);\r\n                form && setValue(form, me);\r\n            },\r\n\r\n            /**\r\n             * 设置编辑器高度\r\n             * @method setHeight\r\n             * @remind 当配置项autoHeightEnabled为真时,该方法无效\r\n             * @param { Number } number 设置的高度值，纯数值，不带单位\r\n             * @example\r\n             * ```javascript\r\n             * editor.setHeight(number);\r\n             * ```\r\n             */\r\n            setHeight: function(height, notSetHeight) {\r\n                if (height !== parseInt(this.iframe.parentNode.style.height)) {\r\n                    this.iframe.parentNode.style.height = height + 'px';\r\n                }!notSetHeight && (this.options.minFrameHeight = this.options.initialFrameHeight = height);\r\n                this.body.style.height = height + 'px';\r\n                !notSetHeight && this.trigger('setHeight')\r\n            },\r\n\r\n            /**\r\n             * 为编辑器的编辑命令提供快捷键\r\n             * 这个接口是为插件扩展提供的接口,主要是为新添加的插件，如果需要添加快捷键，所提供的接口\r\n             * @method addshortcutkey\r\n             * @param { Object } keyset 命令名和快捷键键值对对象，多个按钮的快捷键用“＋”分隔\r\n             * @example\r\n             * ```javascript\r\n             * editor.addshortcutkey({\r\n             *     \"Bold\" : \"ctrl+66\",//^B\r\n             *     \"Italic\" : \"ctrl+73\", //^I\r\n             * });\r\n             * ```\r\n             */\r\n            /**\r\n             * 这个接口是为插件扩展提供的接口,主要是为新添加的插件，如果需要添加快捷键，所提供的接口\r\n             * @method addshortcutkey\r\n             * @param { String } cmd 触发快捷键时，响应的命令\r\n             * @param { String } keys 快捷键的字符串，多个按钮用“＋”分隔\r\n             * @example\r\n             * ```javascript\r\n             * editor.addshortcutkey(\"Underline\", \"ctrl+85\"); //^U\r\n             * ```\r\n             */\r\n            addshortcutkey: function(cmd, keys) {\r\n                var obj = {};\r\n                if (keys) {\r\n                    obj[cmd] = keys\r\n                } else {\r\n                    obj = cmd;\r\n                }\r\n                utils.extend(this.shortcutkeys, obj)\r\n            },\r\n\r\n            /**\r\n             * 对编辑器设置keydown事件监听，绑定快捷键和命令，当快捷键组合触发成功，会响应对应的命令\r\n             * @method _bindshortcutKeys\r\n             * @private\r\n             */\r\n            _bindshortcutKeys: function() {\r\n                var me = this,\r\n                    shortcutkeys = this.shortcutkeys;\r\n                me.addListener('keydown', function(type, e) {\r\n                    var keyCode = e.keyCode || e.which;\r\n                    for (var i in shortcutkeys) {\r\n                        var tmp = shortcutkeys[i].split(',');\r\n                        for (var t = 0, ti; ti = tmp[t++];) {\r\n                            ti = ti.split(':');\r\n                            var key = ti[0],\r\n                                param = ti[1];\r\n                            if (/^(ctrl)(\\+shift)?\\+(\\d+)$/.test(key.toLowerCase()) || /^(\\d+)$/.test(key)) {\r\n                                if (((RegExp.$1 == 'ctrl' ? (e.ctrlKey || e.metaKey) : 0) &&\r\n                                        (RegExp.$2 != \"\" ? e[RegExp.$2.slice(1) + \"Key\"] : 1) &&\r\n                                        keyCode == RegExp.$3\r\n                                    ) ||\r\n                                    keyCode == RegExp.$1\r\n                                ) {\r\n                                    if (me.queryCommandState(i, param) != -1)\r\n                                        me.execCommand(i, param);\r\n                                    domUtils.preventDefault(e);\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                });\r\n            },\r\n\r\n            /**\r\n             * 获取编辑器的内容\r\n             * @method getContent\r\n             * @warning 该方法获取到的是经过编辑器内置的过滤规则进行过滤后得到的内容\r\n             * @return { String } 编辑器的内容字符串, 如果编辑器的内容为空，或者是空的标签内容（如:”&lt;p&gt;&lt;br/&gt;&lt;/p&gt;“）， 则返回空字符串\r\n             * @example\r\n             * ```javascript\r\n             * //编辑器html内容:<p>1<strong>2<em>34</em>5</strong>6</p>\r\n             * var content = editor.getContent(); //返回值:<p>1<strong>2<em>34</em>5</strong>6</p>\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 获取编辑器的内容。 可以通过参数定义编辑器内置的判空规则\r\n             * @method getContent\r\n             * @param { Function } fn 自定的判空规则， 要求该方法返回一个boolean类型的值，\r\n             *                      代表当前编辑器的内容是否空，\r\n             *                      如果返回true， 则该方法将直接返回空字符串；如果返回false，则编辑器将返回\r\n             *                      经过内置过滤规则处理后的内容。\r\n             * @remind 该方法在处理包含有初始化内容的时候能起到很好的作用。\r\n             * @warning 该方法获取到的是经过编辑器内置的过滤规则进行过滤后得到的内容\r\n             * @return { String } 编辑器的内容字符串\r\n             * @example\r\n             * ```javascript\r\n             * // editor 是一个编辑器的实例\r\n             * var content = editor.getContent( function ( editor ) {\r\n             *      return editor.body.innerHTML === '欢迎使用UEditor'; //返回空字符串\r\n             * } );\r\n             * ```\r\n             */\r\n            getContent: function(cmd, fn, notSetCursor, ignoreBlank, formatter) {\r\n                var me = this;\r\n                if (cmd && utils.isFunction(cmd)) {\r\n                    fn = cmd;\r\n                    cmd = '';\r\n                }\r\n                if (fn ? !fn() : !this.hasContents()) {\r\n                    return '';\r\n                }\r\n                me.fireEvent('beforegetcontent');\r\n                var root = UE.htmlparser(me.body.innerHTML, ignoreBlank);\r\n                me.filterOutputRule(root);\r\n                me.fireEvent('aftergetcontent', cmd, root);\r\n                return root.toHtml(formatter);\r\n            },\r\n\r\n            /**\r\n             * 取得完整的html代码，可以直接显示成完整的html文档\r\n             * @method getAllHtml\r\n             * @return { String } 编辑器的内容html文档字符串\r\n             * @eaxmple\r\n             * ```javascript\r\n             * editor.getAllHtml(); //返回格式大致是: <html><head>...</head><body>...</body></html>\r\n             * ```\r\n             */\r\n            getAllHtml: function() {\r\n                var me = this,\r\n                    headHtml = [],\r\n                    html = '';\r\n                me.fireEvent('getAllHtml', headHtml);\r\n                if (browser.ie && browser.version > 8) {\r\n                    var headHtmlForIE9 = '';\r\n                    utils.each(me.document.styleSheets, function(si) {\r\n                        headHtmlForIE9 += (si.href ? '<link rel=\"stylesheet\" type=\"text/css\" href=\"' + si.href + '\" />' : '<style>' + si.cssText + '</style>');\r\n                    });\r\n                    utils.each(me.document.getElementsByTagName('script'), function(si) {\r\n                        headHtmlForIE9 += si.outerHTML;\r\n                    });\r\n\r\n                }\r\n                return '<html><head>' + (me.options.charset ? '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=' + me.options.charset + '\"/>' : '') +\r\n                    (headHtmlForIE9 || me.document.getElementsByTagName('head')[0].innerHTML) + headHtml.join('\\n') + '</head>' +\r\n                    '<body ' + (ie && browser.version < 9 ? 'class=\"view\"' : '') + '>' + me.getContent(null, null, true) + '</body></html>';\r\n            },\r\n\r\n            /**\r\n             * 得到编辑器的纯文本内容，但会保留段落格式\r\n             * @method getPlainTxt\r\n             * @return { String } 编辑器带段落格式的纯文本内容字符串\r\n             * @example\r\n             * ```javascript\r\n             * //编辑器html内容:<p><strong>1</strong></p><p><strong>2</strong></p>\r\n             * console.log(editor.getPlainTxt()); //输出:\"1\\n2\\n\r\n             * ```\r\n             */\r\n            getPlainTxt: function() {\r\n                var reg = new RegExp(domUtils.fillChar, 'g'),\r\n                    html = this.body.innerHTML.replace(/[\\n\\r]/g, ''); //ie要先去了\\n在处理\r\n                html = html.replace(/<(p|div)[^>]*>(<br\\/?>|&nbsp;)<\\/\\1>/gi, '\\n')\r\n                    .replace(/<br\\/?>/gi, '\\n')\r\n                    .replace(/<[^>/]+>/g, '')\r\n                    .replace(/(\\n)?<\\/([^>]+)>/g, function(a, b, c) {\r\n                        return dtd.$block[c] ? '\\n' : b ? b : '';\r\n                    });\r\n                //取出来的空格会有c2a0会变成乱码，处理这种情况\\u00a0\r\n                return html.replace(reg, '').replace(/\\u00a0/g, ' ').replace(/&nbsp;/g, ' ');\r\n            },\r\n\r\n            /**\r\n             * 获取编辑器中的纯文本内容,没有段落格式\r\n             * @method getContentTxt\r\n             * @return { String } 编辑器不带段落格式的纯文本内容字符串\r\n             * @example\r\n             * ```javascript\r\n             * //编辑器html内容:<p><strong>1</strong></p><p><strong>2</strong></p>\r\n             * console.log(editor.getPlainTxt()); //输出:\"12\r\n             * ```\r\n             */\r\n            getContentTxt: function() {\r\n                var reg = new RegExp(domUtils.fillChar, 'g');\r\n                //取出来的空格会有c2a0会变成乱码，处理这种情况\\u00a0\r\n                return this.body[browser.ie ? 'innerText' : 'textContent'].replace(reg, '').replace(/\\u00a0/g, ' ');\r\n            },\r\n\r\n            /**\r\n             * 设置编辑器的内容，可修改编辑器当前的html内容\r\n             * @method setContent\r\n             * @warning 通过该方法插入的内容，是经过编辑器内置的过滤规则进行过滤后得到的内容\r\n             * @warning 该方法会触发selectionchange事件\r\n             * @param { String } html 要插入的html内容\r\n             * @example\r\n             * ```javascript\r\n             * editor.getContent('<p>test</p>');\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 设置编辑器的内容，可修改编辑器当前的html内容\r\n             * @method setContent\r\n             * @warning 通过该方法插入的内容，是经过编辑器内置的过滤规则进行过滤后得到的内容\r\n             * @warning 该方法会触发selectionchange事件\r\n             * @param { String } html 要插入的html内容\r\n             * @param { Boolean } isAppendTo 若传入true，不清空原来的内容，在最后插入内容，否则，清空内容再插入\r\n             * @example\r\n             * ```javascript\r\n             * //假设设置前的编辑器内容是 <p>old text</p>\r\n             * editor.setContent('<p>new text</p>', true); //插入的结果是<p>old text</p><p>new text</p>\r\n             * ```\r\n             */\r\n            setContent: function(html, isAppendTo, notFireSelectionchange) {\r\n                var me = this;\r\n\r\n                me.fireEvent('beforesetcontent', html);\r\n                var root = UE.htmlparser(html);\r\n                me.filterInputRule(root);\r\n                html = root.toHtml();\r\n\r\n                me.body.innerHTML = (isAppendTo ? me.body.innerHTML : '') + html;\r\n\r\n\r\n                function isCdataDiv(node) {\r\n                    return node.tagName == 'DIV' && node.getAttribute('cdata_tag');\r\n                }\r\n                //给文本或者inline节点套p标签\r\n                if (me.options.enterTag == 'p') {\r\n\r\n                    var child = this.body.firstChild,\r\n                        tmpNode;\r\n                    if (!child || child.nodeType == 1 &&\r\n                        (dtd.$cdata[child.tagName] || isCdataDiv(child) ||\r\n                            domUtils.isCustomeNode(child)\r\n                        ) &&\r\n                        child === this.body.lastChild) {\r\n                        this.body.innerHTML = '<p>' + (browser.ie ? '&nbsp;' : '<br/>') + '</p>' + this.body.innerHTML;\r\n\r\n                    } else {\r\n                        var p = me.document.createElement('p');\r\n                        while (child) {\r\n                            while (child && (child.nodeType == 3 || child.nodeType == 1 && dtd.p[child.tagName] && !dtd.$cdata[child.tagName])) {\r\n                                tmpNode = child.nextSibling;\r\n                                p.appendChild(child);\r\n                                child = tmpNode;\r\n                            }\r\n                            if (p.firstChild) {\r\n                                if (!child) {\r\n                                    me.body.appendChild(p);\r\n                                    break;\r\n                                } else {\r\n                                    child.parentNode.insertBefore(p, child);\r\n                                    p = me.document.createElement('p');\r\n                                }\r\n                            }\r\n                            child = child.nextSibling;\r\n                        }\r\n                    }\r\n                }\r\n                me.fireEvent('aftersetcontent');\r\n                me.fireEvent('contentchange');\r\n\r\n                !notFireSelectionchange && me._selectionChange();\r\n                //清除保存的选区\r\n                me._bakRange = me._bakIERange = me._bakNativeRange = null;\r\n                //trace:1742 setContent后gecko能得到焦点问题\r\n                var geckoSel;\r\n                if (browser.gecko && (geckoSel = this.selection.getNative())) {\r\n                    geckoSel.removeAllRanges();\r\n                }\r\n                if (me.options.autoSyncData) {\r\n                    me.form && setValue(me.form, me);\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 让编辑器获得焦点，默认focus到编辑器头部\r\n             * @method focus\r\n             * @example\r\n             * ```javascript\r\n             * editor.focus()\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 让编辑器获得焦点，toEnd确定focus位置\r\n             * @method focus\r\n             * @param { Boolean } toEnd 默认focus到编辑器头部，toEnd为true时focus到内容尾部\r\n             * @example\r\n             * ```javascript\r\n             * editor.focus(true)\r\n             * ```\r\n             */\r\n            focus: function(toEnd) {\r\n                try {\r\n                    var me = this,\r\n                        rng = me.selection.getRange();\r\n                    if (toEnd) {\r\n                        var node = me.body.lastChild;\r\n                        if (node && node.nodeType == 1 && !dtd.$empty[node.tagName]) {\r\n                            if (domUtils.isEmptyBlock(node)) {\r\n                                rng.setStartAtFirst(node)\r\n                            } else {\r\n                                rng.setStartAtLast(node)\r\n                            }\r\n                            rng.collapse(true);\r\n                        }\r\n                        rng.setCursor(true);\r\n                    } else {\r\n                        if (!rng.collapsed && domUtils.isBody(rng.startContainer) && rng.startOffset == 0) {\r\n\r\n                            var node = me.body.firstChild;\r\n                            if (node && node.nodeType == 1 && !dtd.$empty[node.tagName]) {\r\n                                rng.setStartAtFirst(node).collapse(true);\r\n                            }\r\n                        }\r\n\r\n                        rng.select(true);\r\n\r\n                    }\r\n                    this.fireEvent('focus selectionchange');\r\n                } catch (e) {}\r\n\r\n            },\r\n            isFocus: function() {\r\n                return this.selection.isFocus();\r\n            },\r\n            blur: function() {\r\n                var sel = this.selection.getNative();\r\n                if (sel.empty && browser.ie) {\r\n                    var nativeRng = document.body.createTextRange();\r\n                    nativeRng.moveToElementText(document.body);\r\n                    nativeRng.collapse(true);\r\n                    nativeRng.select();\r\n                    sel.empty()\r\n                } else {\r\n                    sel.removeAllRanges()\r\n                }\r\n\r\n                //this.fireEvent('blur selectionchange');\r\n            },\r\n            /**\r\n             * 初始化UE事件及部分事件代理\r\n             * @method _initEvents\r\n             * @private\r\n             */\r\n            _initEvents: function() {\r\n                var me = this,\r\n                    doc = me.document,\r\n                    win = me.window;\r\n                me._proxyDomEvent = utils.bind(me._proxyDomEvent, me);\r\n                domUtils.on(doc, ['click', 'contextmenu', 'mousedown', 'keydown', 'keyup', 'keypress', 'mouseup', 'mouseover', 'mouseout', 'selectstart'], me._proxyDomEvent);\r\n                domUtils.on(win, ['focus', 'blur'], me._proxyDomEvent);\r\n                domUtils.on(me.body, 'drop', function(e) {\r\n                    //阻止ff下默认的弹出新页面打开图片\r\n                    if (browser.gecko && e.stopPropagation) { e.stopPropagation(); }\r\n                    me.fireEvent('contentchange')\r\n                });\r\n                domUtils.on(doc, ['mouseup', 'keydown'], function(evt) {\r\n                    //特殊键不触发selectionchange\r\n                    if (evt.type == 'keydown' && (evt.ctrlKey || evt.metaKey || evt.shiftKey || evt.altKey)) {\r\n                        return;\r\n                    }\r\n                    if (evt.button == 2) return;\r\n                    me._selectionChange(250, evt);\r\n                });\r\n            },\r\n            /**\r\n             * 触发事件代理\r\n             * @method _proxyDomEvent\r\n             * @private\r\n             * @return { * } fireEvent的返回值\r\n             * @see UE.EventBase:fireEvent(String)\r\n             */\r\n            _proxyDomEvent: function(evt) {\r\n                if (this.fireEvent('before' + evt.type.replace(/^on/, '').toLowerCase()) === false) {\r\n                    return false;\r\n                }\r\n                if (this.fireEvent(evt.type.replace(/^on/, ''), evt) === false) {\r\n                    return false;\r\n                }\r\n                return this.fireEvent('after' + evt.type.replace(/^on/, '').toLowerCase())\r\n            },\r\n            /**\r\n             * 变化选区\r\n             * @method _selectionChange\r\n             * @private\r\n             */\r\n            _selectionChange: function(delay, evt) {\r\n                var me = this;\r\n                //有光标才做selectionchange 为了解决未focus时点击source不能触发更改工具栏状态的问题（source命令notNeedUndo=1）\r\n                //            if ( !me.selection.isFocus() ){\r\n                //                return;\r\n                //            }\r\n\r\n\r\n                var hackForMouseUp = false;\r\n                var mouseX, mouseY;\r\n                if (browser.ie && browser.version < 9 && evt && evt.type == 'mouseup') {\r\n                    var range = this.selection.getRange();\r\n                    if (!range.collapsed) {\r\n                        hackForMouseUp = true;\r\n                        mouseX = evt.clientX;\r\n                        mouseY = evt.clientY;\r\n                    }\r\n                }\r\n                clearTimeout(_selectionChangeTimer);\r\n                _selectionChangeTimer = setTimeout(function() {\r\n                    if (!me.selection || !me.selection.getNative()) {\r\n                        return;\r\n                    }\r\n                    //修复一个IE下的bug: 鼠标点击一段已选择的文本中间时，可能在mouseup后的一段时间内取到的range是在selection的type为None下的错误值.\r\n                    //IE下如果用户是拖拽一段已选择文本，则不会触发mouseup事件，所以这里的特殊处理不会对其有影响\r\n                    var ieRange;\r\n                    if (hackForMouseUp && me.selection.getNative().type == 'None') {\r\n                        ieRange = me.document.body.createTextRange();\r\n                        try {\r\n                            ieRange.moveToPoint(mouseX, mouseY);\r\n                        } catch (ex) {\r\n                            ieRange = null;\r\n                        }\r\n                    }\r\n                    var bakGetIERange;\r\n                    if (ieRange) {\r\n                        bakGetIERange = me.selection.getIERange;\r\n                        me.selection.getIERange = function() {\r\n                            return ieRange;\r\n                        };\r\n                    }\r\n                    me.selection.cache();\r\n                    if (bakGetIERange) {\r\n                        me.selection.getIERange = bakGetIERange;\r\n                    }\r\n                    if (me.selection._cachedRange && me.selection._cachedStartElement) {\r\n                        me.fireEvent('beforeselectionchange');\r\n                        // 第二个参数causeByUi为true代表由用户交互造成的selectionchange.\r\n                        me.fireEvent('selectionchange', !!evt);\r\n                        me.fireEvent('afterselectionchange');\r\n                        me.selection.clear();\r\n                    }\r\n                }, delay || 50);\r\n            },\r\n\r\n            /**\r\n             * 执行编辑命令\r\n             * @method _callCmdFn\r\n             * @private\r\n             * @param { String } fnName 函数名称\r\n             * @param { * } args 传给命令函数的参数\r\n             * @return { * } 返回命令函数运行的返回值\r\n             */\r\n            _callCmdFn: function(fnName, args) {\r\n                var cmdName = args[0].toLowerCase(),\r\n                    cmd, cmdFn;\r\n                cmd = this.commands[cmdName] || UE.commands[cmdName];\r\n                cmdFn = cmd && cmd[fnName];\r\n                //没有querycommandstate或者没有command的都默认返回0\r\n                if ((!cmd || !cmdFn) && fnName == 'queryCommandState') {\r\n                    return 0;\r\n                } else if (cmdFn) {\r\n                    return cmdFn.apply(this, args);\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 执行编辑命令cmdName，完成富文本编辑效果\r\n             * @method execCommand\r\n             * @param { String } cmdName 需要执行的命令\r\n             * @remind 具体命令的使用请参考<a href=\"#COMMAND.LIST\">命令列表</a>\r\n             * @return { * } 返回命令函数运行的返回值\r\n             * @example\r\n             * ```javascript\r\n             * editor.execCommand(cmdName);\r\n             * ```\r\n             */\r\n            execCommand: function(cmdName) {\r\n                cmdName = cmdName.toLowerCase();\r\n                var me = this,\r\n                    result,\r\n                    cmd = me.commands[cmdName] || UE.commands[cmdName];\r\n                if (!cmd || !cmd.execCommand) {\r\n                    return null;\r\n                }\r\n                if (!cmd.notNeedUndo && !me.__hasEnterExecCommand) {\r\n                    me.__hasEnterExecCommand = true;\r\n                    if (me.queryCommandState.apply(me, arguments) != -1) {\r\n                        me.fireEvent('saveScene');\r\n                        me.fireEvent.apply(me, ['beforeexeccommand', cmdName].concat(arguments));\r\n                        result = this._callCmdFn('execCommand', arguments);\r\n                        //保存场景时，做了内容对比，再看是否进行contentchange触发，这里多触发了一次，去掉\r\n                        //                    (!cmd.ignoreContentChange && !me._ignoreContentChange) && me.fireEvent('contentchange');\r\n                        me.fireEvent.apply(me, ['afterexeccommand', cmdName].concat(arguments));\r\n                        me.fireEvent('saveScene');\r\n                    }\r\n                    me.__hasEnterExecCommand = false;\r\n                } else {\r\n                    result = this._callCmdFn('execCommand', arguments);\r\n                    (!me.__hasEnterExecCommand && !cmd.ignoreContentChange && !me._ignoreContentChange) && me.fireEvent('contentchange')\r\n                }\r\n                (!me.__hasEnterExecCommand && !cmd.ignoreContentChange && !me._ignoreContentChange) && me._selectionChange();\r\n                return result;\r\n            },\r\n\r\n            /**\r\n             * 根据传入的command命令，查选编辑器当前的选区，返回命令的状态\r\n             * @method  queryCommandState\r\n             * @param { String } cmdName 需要查询的命令名称\r\n             * @remind 具体命令的使用请参考<a href=\"#COMMAND.LIST\">命令列表</a>\r\n             * @return { Number } number 返回放前命令的状态，返回值三种情况：(-1|0|1)\r\n             * @example\r\n             * ```javascript\r\n             * editor.queryCommandState(cmdName)  => (-1|0|1)\r\n             * ```\r\n             * @see COMMAND.LIST\r\n             */\r\n            queryCommandState: function(cmdName) {\r\n                return this._callCmdFn('queryCommandState', arguments);\r\n            },\r\n\r\n            /**\r\n             * 根据传入的command命令，查选编辑器当前的选区，根据命令返回相关的值\r\n             * @method queryCommandValue\r\n             * @param { String } cmdName 需要查询的命令名称\r\n             * @remind 具体命令的使用请参考<a href=\"#COMMAND.LIST\">命令列表</a>\r\n             * @remind 只有部分插件有此方法\r\n             * @return { * } 返回每个命令特定的当前状态值\r\n             * @grammar editor.queryCommandValue(cmdName)  =>  {*}\r\n             * @see COMMAND.LIST\r\n             */\r\n            queryCommandValue: function(cmdName) {\r\n                return this._callCmdFn('queryCommandValue', arguments);\r\n            },\r\n\r\n            /**\r\n             * 检查编辑区域中是否有内容\r\n             * @method  hasContents\r\n             * @remind 默认有文本内容，或者有以下节点都不认为是空\r\n             * table,ul,ol,dl,iframe,area,base,col,hr,img,embed,input,link,meta,param\r\n             * @return { Boolean } 检查有内容返回true，否则返回false\r\n             * @example\r\n             * ```javascript\r\n             * editor.hasContents()\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 检查编辑区域中是否有内容，若包含参数tags中的节点类型，直接返回true\r\n             * @method  hasContents\r\n             * @param { Array } tags 传入数组判断时用到的节点类型\r\n             * @return { Boolean } 若文档中包含tags数组里对应的tag，返回true，否则返回false\r\n             * @example\r\n             * ```javascript\r\n             * editor.hasContents(['span']);\r\n             * ```\r\n             */\r\n            hasContents: function(tags) {\r\n                if (tags) {\r\n                    for (var i = 0, ci; ci = tags[i++];) {\r\n                        if (this.document.getElementsByTagName(ci).length > 0) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n                if (!domUtils.isEmptyBlock(this.body)) {\r\n                    return true\r\n                }\r\n                //随时添加,定义的特殊标签如果存在，不能认为是空\r\n                tags = ['div'];\r\n                for (i = 0; ci = tags[i++];) {\r\n                    var nodes = domUtils.getElementsByTagName(this.document, ci);\r\n                    for (var n = 0, cn; cn = nodes[n++];) {\r\n                        if (domUtils.isCustomeNode(cn)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n                return false;\r\n            },\r\n\r\n            /**\r\n             * 重置编辑器，可用来做多个tab使用同一个编辑器实例\r\n             * @method  reset\r\n             * @remind 此方法会清空编辑器内容，清空回退列表，会触发reset事件\r\n             * @example\r\n             * ```javascript\r\n             * editor.reset()\r\n             * ```\r\n             */\r\n            reset: function() {\r\n                this.fireEvent('reset');\r\n            },\r\n\r\n            /**\r\n             * 设置当前编辑区域可以编辑\r\n             * @method setEnabled\r\n             * @example\r\n             * ```javascript\r\n             * editor.setEnabled()\r\n             * ```\r\n             */\r\n            setEnabled: function() {\r\n                var me = this,\r\n                    range;\r\n                if (me.body.contentEditable == 'false') {\r\n                    me.body.contentEditable = true;\r\n                    range = me.selection.getRange();\r\n                    //有可能内容丢失了\r\n                    try {\r\n                        range.moveToBookmark(me.lastBk);\r\n                        delete me.lastBk\r\n                    } catch (e) {\r\n                        range.setStartAtFirst(me.body).collapse(true)\r\n                    }\r\n                    range.select(true);\r\n                    if (me.bkqueryCommandState) {\r\n                        me.queryCommandState = me.bkqueryCommandState;\r\n                        delete me.bkqueryCommandState;\r\n                    }\r\n                    if (me.bkqueryCommandValue) {\r\n                        me.queryCommandValue = me.bkqueryCommandValue;\r\n                        delete me.bkqueryCommandValue;\r\n                    }\r\n                    me.fireEvent('selectionchange');\r\n                }\r\n            },\r\n            enable: function() {\r\n                return this.setEnabled();\r\n            },\r\n\r\n            /** 设置当前编辑区域不可编辑\r\n             * @method setDisabled\r\n             */\r\n\r\n            /** 设置当前编辑区域不可编辑,except中的命令除外\r\n             * @method setDisabled\r\n             * @param { String } except 例外命令的字符串\r\n             * @remind 即使设置了disable，此处配置的例外命令仍然可以执行\r\n             * @example\r\n             * ```javascript\r\n             * editor.setDisabled('bold'); //禁用工具栏中除加粗之外的所有功能\r\n             * ```\r\n             */\r\n\r\n            /** 设置当前编辑区域不可编辑,except中的命令除外\r\n             * @method setDisabled\r\n             * @param { Array } except 例外命令的字符串数组，数组中的命令仍然可以执行\r\n             * @remind 即使设置了disable，此处配置的例外命令仍然可以执行\r\n             * @example\r\n             * ```javascript\r\n             * editor.setDisabled(['bold','insertimage']); //禁用工具栏中除加粗和插入图片之外的所有功能\r\n             * ```\r\n             */\r\n            setDisabled: function(except) {\r\n                var me = this;\r\n                except = except ? utils.isArray(except) ? except : [except] : [];\r\n                if (me.body.contentEditable == 'true') {\r\n                    if (!me.lastBk) {\r\n                        me.lastBk = me.selection.getRange().createBookmark(true);\r\n                    }\r\n                    me.body.contentEditable = false;\r\n                    me.bkqueryCommandState = me.queryCommandState;\r\n                    me.bkqueryCommandValue = me.queryCommandValue;\r\n                    me.queryCommandState = function(type) {\r\n                        if (utils.indexOf(except, type) != -1) {\r\n                            return me.bkqueryCommandState.apply(me, arguments);\r\n                        }\r\n                        return -1;\r\n                    };\r\n                    me.queryCommandValue = function(type) {\r\n                        if (utils.indexOf(except, type) != -1) {\r\n                            return me.bkqueryCommandValue.apply(me, arguments);\r\n                        }\r\n                        return null;\r\n                    };\r\n                    me.fireEvent('selectionchange');\r\n                }\r\n            },\r\n            disable: function(except) {\r\n                return this.setDisabled(except);\r\n            },\r\n\r\n            /**\r\n             * 设置默认内容\r\n             * @method _setDefaultContent\r\n             * @private\r\n             * @param  { String } cont 要存入的内容\r\n             */\r\n            _setDefaultContent: function() {\r\n                function clear() {\r\n                    var me = this;\r\n                    if (me.document.getElementById('initContent')) {\r\n                        me.body.innerHTML = '<p>' + (ie ? '' : '<br/>') + '</p>';\r\n                        me.removeListener('firstBeforeExecCommand focus', clear);\r\n                        setTimeout(function() {\r\n                            me.focus();\r\n                            me._selectionChange();\r\n                        }, 0)\r\n                    }\r\n                }\r\n\r\n                return function(cont) {\r\n                    var me = this;\r\n                    me.body.innerHTML = '<p id=\"initContent\">' + cont + '</p>';\r\n\r\n                    me.addListener('firstBeforeExecCommand focus', clear);\r\n                }\r\n            }(),\r\n\r\n            /**\r\n             * 显示编辑器\r\n             * @method setShow\r\n             * @example\r\n             * ```javascript\r\n             * editor.setShow()\r\n             * ```\r\n             */\r\n            setShow: function() {\r\n                var me = this,\r\n                    range = me.selection.getRange();\r\n                if (me.container.style.display == 'none') {\r\n                    //有可能内容丢失了\r\n                    try {\r\n                        range.moveToBookmark(me.lastBk);\r\n                        delete me.lastBk\r\n                    } catch (e) {\r\n                        range.setStartAtFirst(me.body).collapse(true)\r\n                    }\r\n                    //ie下focus实效，所以做了个延迟\r\n                    setTimeout(function() {\r\n                        range.select(true);\r\n                    }, 100);\r\n                    me.container.style.display = '';\r\n                }\r\n\r\n            },\r\n            show: function() {\r\n                return this.setShow();\r\n            },\r\n            /**\r\n             * 隐藏编辑器\r\n             * @method setHide\r\n             * @example\r\n             * ```javascript\r\n             * editor.setHide()\r\n             * ```\r\n             */\r\n            setHide: function() {\r\n                var me = this;\r\n                if (!me.lastBk) {\r\n                    me.lastBk = me.selection.getRange().createBookmark(true);\r\n                }\r\n                me.container.style.display = 'none'\r\n            },\r\n            hide: function() {\r\n                return this.setHide();\r\n            },\r\n\r\n            /**\r\n             * 根据指定的路径，获取对应的语言资源\r\n             * @method getLang\r\n             * @param { String } path 路径根据的是lang目录下的语言文件的路径结构\r\n             * @return { Object | String } 根据路径返回语言资源的Json格式对象或者语言字符串\r\n             * @example\r\n             * ```javascript\r\n             * editor.getLang('contextMenu.delete'); //如果当前是中文，那返回是的是'删除'\r\n             * ```\r\n             */\r\n            getLang: function(path) {\r\n                var lang = UE.I18N[this.options.lang];\r\n                if (!lang) {\r\n                    throw Error(\"not import language file\");\r\n                }\r\n                path = (path || \"\").split(\".\");\r\n                for (var i = 0, ci; ci = path[i++];) {\r\n                    lang = lang[ci];\r\n                    if (!lang) break;\r\n                }\r\n                return lang;\r\n            },\r\n\r\n            /**\r\n             * 计算编辑器html内容字符串的长度\r\n             * @method  getContentLength\r\n             * @return { Number } 返回计算的长度\r\n             * @example\r\n             * ```javascript\r\n             * //编辑器html内容<p><strong>132</strong></p>\r\n             * editor.getContentLength() //返回27\r\n             * ```\r\n             */\r\n            /**\r\n             * 计算编辑器当前纯文本内容的长度\r\n             * @method  getContentLength\r\n             * @param { Boolean } ingoneHtml 传入true时，只按照纯文本来计算\r\n             * @return { Number } 返回计算的长度，内容中有hr/img/iframe标签，长度加1\r\n             * @example\r\n             * ```javascript\r\n             * //编辑器html内容<p><strong>132</strong></p>\r\n             * editor.getContentLength() //返回3\r\n             * ```\r\n             */\r\n            getContentLength: function(ingoneHtml, tagNames) {\r\n                var count = this.getContent(false, false, true).length;\r\n                if (ingoneHtml) {\r\n                    tagNames = (tagNames || []).concat(['hr', 'img', 'iframe']);\r\n                    count = this.getContentTxt().replace(/[\\t\\r\\n]+/g, '').length;\r\n                    for (var i = 0, ci; ci = tagNames[i++];) {\r\n                        count += this.document.getElementsByTagName(ci).length;\r\n                    }\r\n                }\r\n                return count;\r\n            },\r\n\r\n            /**\r\n             * 注册输入过滤规则\r\n             * @method  addInputRule\r\n             * @param { Function } rule 要添加的过滤规则\r\n             * @example\r\n             * ```javascript\r\n             * editor.addInputRule(function(root){\r\n             *   $.each(root.getNodesByTagName('div'),function(i,node){\r\n             *       node.tagName=\"p\";\r\n             *   });\r\n             * });\r\n             * ```\r\n             */\r\n            addInputRule: function(rule) {\r\n                this.inputRules.push(rule);\r\n            },\r\n\r\n            /**\r\n             * 执行注册的过滤规则\r\n             * @method  filterInputRule\r\n             * @param { UE.uNode } root 要过滤的uNode节点\r\n             * @remind 执行editor.setContent方法和执行'inserthtml'命令后，会运行该过滤函数\r\n             * @example\r\n             * ```javascript\r\n             * editor.filterInputRule(editor.body);\r\n             * ```\r\n             * @see UE.Editor:addInputRule\r\n             */\r\n            filterInputRule: function(root) {\r\n                for (var i = 0, ci; ci = this.inputRules[i++];) {\r\n                    ci.call(this, root)\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 注册输出过滤规则\r\n             * @method  addOutputRule\r\n             * @param { Function } rule 要添加的过滤规则\r\n             * @example\r\n             * ```javascript\r\n             * editor.addOutputRule(function(root){\r\n             *   $.each(root.getNodesByTagName('p'),function(i,node){\r\n             *       node.tagName=\"div\";\r\n             *   });\r\n             * });\r\n             * ```\r\n             */\r\n            addOutputRule: function(rule) {\r\n                this.outputRules.push(rule)\r\n            },\r\n\r\n            /**\r\n             * 根据输出过滤规则，过滤编辑器内容\r\n             * @method  filterOutputRule\r\n             * @remind 执行editor.getContent方法的时候，会先运行该过滤函数\r\n             * @param { UE.uNode } root 要过滤的uNode节点\r\n             * @example\r\n             * ```javascript\r\n             * editor.filterOutputRule(editor.body);\r\n             * ```\r\n             * @see UE.Editor:addOutputRule\r\n             */\r\n            filterOutputRule: function(root) {\r\n                for (var i = 0, ci; ci = this.outputRules[i++];) {\r\n                    ci.call(this, root)\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 根据action名称获取请求的路径\r\n             * @method  getActionUrl\r\n             * @remind 假如没有设置serverUrl,会根据imageUrl设置默认的controller路径\r\n             * @param { String } action action名称\r\n             * @example\r\n             * ```javascript\r\n             * editor.getActionUrl('config'); //返回 \"/ueditor/php/controller.php?action=config\"\r\n             * editor.getActionUrl('image'); //返回 \"/ueditor/php/controller.php?action=uplaodimage\"\r\n             * editor.getActionUrl('scrawl'); //返回 \"/ueditor/php/controller.php?action=uplaodscrawl\"\r\n             * editor.getActionUrl('imageManager'); //返回 \"/ueditor/php/controller.php?action=listimage\"\r\n             * ```\r\n             */\r\n            getActionUrl: function(action) {\r\n                var actionName = this.getOpt(action) || action,\r\n                    imageUrl = this.getOpt('imageUrl'),\r\n                    serverUrl = this.getOpt('serverUrl');\r\n\r\n                if (!serverUrl && imageUrl) {\r\n                    serverUrl = imageUrl.replace(/^(.*[\\/]).+([\\.].+)$/, '$1controller$2');\r\n                }\r\n\r\n                if (serverUrl) {\r\n                    serverUrl = serverUrl + (serverUrl.indexOf('?') == -1 ? '?' : '&') + 'action=' + (actionName || '');\r\n                    return utils.formatUrl(serverUrl);\r\n                } else {\r\n                    return '';\r\n                }\r\n            }\r\n        };\r\n        utils.inherits(Editor, EventBase);\r\n    })();\r\n\r\n\r\n    // core/Editor.defaultoptions.js\r\n    //维护编辑器一下默认的不在插件中的配置项\r\n    UE.Editor.defaultOptions = function(editor) {\r\n\r\n        var _url = editor.options.UEDITOR_HOME_URL;\r\n        return {\r\n            isShow: true,\r\n            initialContent: '',\r\n            initialStyle: '',\r\n            autoClearinitialContent: false,\r\n            iframeCssUrl: _url + 'themes/iframe.css',\r\n            textarea: 'editorValue',\r\n            focus: false,\r\n            focusInEnd: true,\r\n            autoClearEmptyNode: true,\r\n            fullscreen: false,\r\n            readonly: false,\r\n            zIndex: 999,\r\n            imagePopup: true,\r\n            enterTag: 'p',\r\n            customDomain: false,\r\n            lang: 'zh-cn',\r\n            langPath: _url + 'lang/',\r\n            theme: 'default',\r\n            themePath: _url + 'themes/',\r\n            allHtmlEnabled: false,\r\n            scaleEnabled: false,\r\n            tableNativeEditInFF: false,\r\n            autoSyncData: true,\r\n            fileNameFormat: '{time}{rand:6}'\r\n        }\r\n    };\r\n\r\n    // core/loadconfig.js\r\n    (function() {\r\n\r\n        UE.Editor.prototype.loadServerConfig = function() {\r\n            var me = this;\r\n            setTimeout(function() {\r\n                try {\r\n                    me.options.imageUrl && me.setOpt('serverUrl', me.options.imageUrl.replace(/^(.*[\\/]).+([\\.].+)$/, '$1controller$2'));\r\n\r\n                    var configUrl = me.getActionUrl('config'),\r\n                        isJsonp = utils.isCrossDomainUrl(configUrl);\r\n\r\n                    /* 发出ajax请求 */\r\n                    me._serverConfigLoaded = false;\r\n\r\n                    configUrl && UE.ajax.request(configUrl, {\r\n                        'method': 'GET',\r\n                        'dataType': isJsonp ? 'jsonp' : '',\r\n                        'onsuccess': function(r) {\r\n                            try {\r\n                                var config = isJsonp ? r : eval(\"(\" + r.responseText + \")\");\r\n                                utils.extend(me.options, config);\r\n                                me.fireEvent('serverConfigLoaded');\r\n                                me._serverConfigLoaded = true;\r\n                            } catch (e) {\r\n                                showErrorMsg(me.getLang('loadconfigFormatError'));\r\n                            }\r\n                        },\r\n                        'onerror': function() {\r\n                            showErrorMsg(me.getLang('loadconfigHttpError'));\r\n                        }\r\n                    });\r\n                } catch (e) {\r\n                    showErrorMsg(me.getLang('loadconfigError'));\r\n                }\r\n            });\r\n\r\n            function showErrorMsg(msg) {\r\n                console && console.error(msg);\r\n                //me.fireEvent('showMessage', {\r\n                //    'title': msg,\r\n                //    'type': 'error'\r\n                //});\r\n            }\r\n        };\r\n\r\n        UE.Editor.prototype.isServerConfigLoaded = function() {\r\n            var me = this;\r\n            return me._serverConfigLoaded || false;\r\n        };\r\n\r\n        UE.Editor.prototype.afterConfigReady = function(handler) {\r\n            if (!handler || !utils.isFunction(handler)) return;\r\n            var me = this;\r\n            var readyHandler = function() {\r\n                handler.apply(me, arguments);\r\n                me.removeListener('serverConfigLoaded', readyHandler);\r\n            };\r\n\r\n            if (me.isServerConfigLoaded()) {\r\n                handler.call(me, 'serverConfigLoaded');\r\n            } else {\r\n                me.addListener('serverConfigLoaded', readyHandler);\r\n            }\r\n        };\r\n\r\n    })();\r\n\r\n\r\n    // core/ajax.js\r\n    /**\r\n     * @file\r\n     * @module UE.ajax\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 提供对ajax请求的支持\r\n     * @module UE.ajax\r\n     */\r\n    UE.ajax = function() {\r\n\r\n        //创建一个ajaxRequest对象\r\n        var fnStr = 'XMLHttpRequest()';\r\n        try {\r\n            new ActiveXObject(\"Msxml2.XMLHTTP\");\r\n            fnStr = 'ActiveXObject(\\'Msxml2.XMLHTTP\\')';\r\n        } catch (e) {\r\n            try {\r\n                new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n                fnStr = 'ActiveXObject(\\'Microsoft.XMLHTTP\\')'\r\n            } catch (e) {}\r\n        }\r\n        var creatAjaxRequest = new Function('return new ' + fnStr);\r\n\r\n\r\n        /**\r\n         * 将json参数转化成适合ajax提交的参数列表\r\n         * @param json\r\n         */\r\n        function json2str(json) {\r\n            var strArr = [];\r\n            for (var i in json) {\r\n                //忽略默认的几个参数\r\n                if (i == \"method\" || i == \"timeout\" || i == \"async\" || i == \"dataType\" || i == \"callback\") continue;\r\n                //忽略控制\r\n                if (json[i] == undefined || json[i] == null) continue;\r\n                //传递过来的对象和函数不在提交之列\r\n                if (!((typeof json[i]).toLowerCase() == \"function\" || (typeof json[i]).toLowerCase() == \"object\")) {\r\n                    strArr.push(encodeURIComponent(i) + \"=\" + encodeURIComponent(json[i]));\r\n                } else if (utils.isArray(json[i])) {\r\n                    //支持传数组内容\r\n                    for (var j = 0; j < json[i].length; j++) {\r\n                        strArr.push(encodeURIComponent(i) + \"[]=\" + encodeURIComponent(json[i][j]));\r\n                    }\r\n                }\r\n            }\r\n            return strArr.join(\"&\");\r\n        }\r\n\r\n        function doAjax(url, ajaxOptions) {\r\n            var xhr = creatAjaxRequest(),\r\n                //是否超时\r\n                timeIsOut = false,\r\n                //默认参数\r\n                defaultAjaxOptions = {\r\n                    method: \"POST\",\r\n                    timeout: 5000,\r\n                    async: true,\r\n                    data: {}, //需要传递对象的话只能覆盖\r\n                    onsuccess: function() {},\r\n                    onerror: function() {}\r\n                };\r\n\r\n            if (typeof url === \"object\") {\r\n                ajaxOptions = url;\r\n                url = ajaxOptions.url;\r\n            }\r\n            if (!xhr || !url) return;\r\n            var ajaxOpts = ajaxOptions ? utils.extend(defaultAjaxOptions, ajaxOptions) : defaultAjaxOptions;\r\n\r\n            var submitStr = json2str(ajaxOpts); // { name:\"Jim\",city:\"Beijing\" } --> \"name=Jim&city=Beijing\"\r\n            //如果用户直接通过data参数传递json对象过来，则也要将此json对象转化为字符串\r\n            if (!utils.isEmptyObject(ajaxOpts.data)) {\r\n                submitStr += (submitStr ? \"&\" : \"\") + json2str(ajaxOpts.data);\r\n            }\r\n            //超时检测\r\n            var timerID = setTimeout(function() {\r\n                if (xhr.readyState != 4) {\r\n                    timeIsOut = true;\r\n                    xhr.abort();\r\n                    clearTimeout(timerID);\r\n                }\r\n            }, ajaxOpts.timeout);\r\n\r\n            var method = ajaxOpts.method.toUpperCase();\r\n            var str = url + (url.indexOf(\"?\") == -1 ? \"?\" : \"&\") + (method == \"POST\" ? \"\" : submitStr + \"&noCache=\" + +new Date);\r\n            xhr.open(method, str, ajaxOpts.async);\r\n            xhr.onreadystatechange = function() {\r\n                if (xhr.readyState == 4) {\r\n                    if (!timeIsOut && xhr.status == 200) {\r\n                        ajaxOpts.onsuccess(xhr);\r\n                    } else {\r\n                        ajaxOpts.onerror(xhr);\r\n                    }\r\n                }\r\n            };\r\n            if (method == \"POST\") {\r\n                xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n                xhr.send(submitStr);\r\n            } else {\r\n                xhr.send(null);\r\n            }\r\n        }\r\n\r\n        function doJsonp(url, opts) {\r\n\r\n            var successhandler = opts.onsuccess || function() {},\r\n                scr = document.createElement('SCRIPT'),\r\n                options = opts || {},\r\n                charset = options['charset'],\r\n                callbackField = options['jsonp'] || 'callback',\r\n                callbackFnName,\r\n                timeOut = options['timeOut'] || 0,\r\n                timer,\r\n                reg = new RegExp('(\\\\?|&)' + callbackField + '=([^&]*)'),\r\n                matches;\r\n\r\n            if (utils.isFunction(successhandler)) {\r\n                callbackFnName = 'bd__editor__' + Math.floor(Math.random() * 2147483648).toString(36);\r\n                window[callbackFnName] = getCallBack(0);\r\n            } else if (utils.isString(successhandler)) {\r\n                callbackFnName = successhandler;\r\n            } else {\r\n                if (matches = reg.exec(url)) {\r\n                    callbackFnName = matches[2];\r\n                }\r\n            }\r\n\r\n            url = url.replace(reg, '\\x241' + callbackField + '=' + callbackFnName);\r\n\r\n            if (url.search(reg) < 0) {\r\n                url += (url.indexOf('?') < 0 ? '?' : '&') + callbackField + '=' + callbackFnName;\r\n            }\r\n\r\n            var queryStr = json2str(opts); // { name:\"Jim\",city:\"Beijing\" } --> \"name=Jim&city=Beijing\"\r\n            //如果用户直接通过data参数传递json对象过来，则也要将此json对象转化为字符串\r\n            if (!utils.isEmptyObject(opts.data)) {\r\n                queryStr += (queryStr ? \"&\" : \"\") + json2str(opts.data);\r\n            }\r\n            if (queryStr) {\r\n                url = url.replace(/\\?/, '?' + queryStr + '&');\r\n            }\r\n\r\n            scr.onerror = getCallBack(1);\r\n            if (timeOut) {\r\n                timer = setTimeout(getCallBack(1), timeOut);\r\n            }\r\n            createScriptTag(scr, url, charset);\r\n\r\n            function createScriptTag(scr, url, charset) {\r\n                scr.setAttribute('type', 'text/javascript');\r\n                scr.setAttribute('defer', 'defer');\r\n                charset && scr.setAttribute('charset', charset);\r\n                scr.setAttribute('src', url);\r\n                document.getElementsByTagName('head')[0].appendChild(scr);\r\n            }\r\n\r\n            function getCallBack(onTimeOut) {\r\n                return function() {\r\n                    try {\r\n                        if (onTimeOut) {\r\n                            options.onerror && options.onerror();\r\n                        } else {\r\n                            try {\r\n                                clearTimeout(timer);\r\n                                successhandler.apply(window, arguments);\r\n                            } catch (e) {}\r\n                        }\r\n                    } catch (exception) {\r\n                        options.onerror && options.onerror.call(window, exception);\r\n                    } finally {\r\n                        options.oncomplete && options.oncomplete.apply(window, arguments);\r\n                        scr.parentNode && scr.parentNode.removeChild(scr);\r\n                        window[callbackFnName] = null;\r\n                        try {\r\n                            delete window[callbackFnName];\r\n                        } catch (e) {}\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            /**\r\n             * 根据给定的参数项，向指定的url发起一个ajax请求。 ajax请求完成后，会根据请求结果调用相应回调： 如果请求\r\n             * 成功， 则调用onsuccess回调， 失败则调用 onerror 回调\r\n             * @method request\r\n             * @param { URLString } url ajax请求的url地址\r\n             * @param { Object } ajaxOptions ajax请求选项的键值对，支持的选项如下：\r\n             * @example\r\n             * ```javascript\r\n             * //向sayhello.php发起一个异步的Ajax GET请求, 请求超时时间为10s， 请求完成后执行相应的回调。\r\n             * UE.ajax.requeset( 'sayhello.php', {\r\n             *\r\n             *     //请求方法。可选值： 'GET', 'POST'，默认值是'POST'\r\n             *     method: 'GET',\r\n             *\r\n             *     //超时时间。 默认为5000， 单位是ms\r\n             *     timeout: 10000,\r\n             *\r\n             *     //是否是异步请求。 true为异步请求， false为同步请求\r\n             *     async: true,\r\n             *\r\n             *     //请求携带的数据。如果请求为GET请求， data会经过stringify后附加到请求url之后。\r\n             *     data: {\r\n             *         name: 'ueditor'\r\n             *     },\r\n             *\r\n             *     //请求成功后的回调， 该回调接受当前的XMLHttpRequest对象作为参数。\r\n             *     onsuccess: function ( xhr ) {\r\n             *         console.log( xhr.responseText );\r\n             *     },\r\n             *\r\n             *     //请求失败或者超时后的回调。\r\n             *     onerror: function ( xhr ) {\r\n             *          alert( 'Ajax请求失败' );\r\n             *     }\r\n             *\r\n             * } );\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 根据给定的参数项发起一个ajax请求， 参数项里必须包含一个url地址。 ajax请求完成后，会根据请求结果调用相应回调： 如果请求\r\n             * 成功， 则调用onsuccess回调， 失败则调用 onerror 回调。\r\n             * @method request\r\n             * @warning 如果在参数项里未提供一个key为“url”的地址值，则该请求将直接退出。\r\n             * @param { Object } ajaxOptions ajax请求选项的键值对，支持的选项如下：\r\n             * @example\r\n             * ```javascript\r\n             *\r\n             * //向sayhello.php发起一个异步的Ajax POST请求, 请求超时时间为5s， 请求完成后不执行任何回调。\r\n             * UE.ajax.requeset( 'sayhello.php', {\r\n             *\r\n             *     //请求的地址， 该项是必须的。\r\n             *     url: 'sayhello.php'\r\n             *\r\n             * } );\r\n             * ```\r\n             */\r\n            request: function(url, opts) {\r\n                if (opts && opts.dataType == 'jsonp') {\r\n                    doJsonp(url, opts);\r\n                } else {\r\n                    doAjax(url, opts);\r\n                }\r\n            },\r\n            getJSONP: function(url, data, fn) {\r\n                var opts = {\r\n                    'data': data,\r\n                    'oncomplete': fn\r\n                };\r\n                doJsonp(url, opts);\r\n            }\r\n        };\r\n\r\n\r\n    }();\r\n\r\n\r\n    // core/filterword.js\r\n    /**\r\n     * UE过滤word的静态方法\r\n     * @file\r\n     */\r\n\r\n    /**\r\n     * UEditor公用空间，UEditor所有的功能都挂载在该空间下\r\n     * @module UE\r\n     */\r\n\r\n\r\n    /**\r\n     * 根据传入html字符串过滤word\r\n     * @module UE\r\n     * @since 1.2.6.1\r\n     * @method filterWord\r\n     * @param { String } html html字符串\r\n     * @return { String } 已过滤后的结果字符串\r\n     * @example\r\n     * ```javascript\r\n     * UE.filterWord(html);\r\n     * ```\r\n     */\r\n    var filterWord = UE.filterWord = function() {\r\n\r\n        //是否是word过来的内容\r\n        function isWordDocument(str) {\r\n            return /(class=\"?Mso|style=\"[^\"]*\\bmso\\-|w:WordDocument|<(v|o):|lang=)/ig.test(str);\r\n        }\r\n        //去掉小数\r\n        function transUnit(v) {\r\n            v = v.replace(/[\\d.]+\\w+/g, function(m) {\r\n                return utils.transUnitToPx(m);\r\n            });\r\n            return v;\r\n        }\r\n\r\n        function filterPasteWord(str) {\r\n            return str.replace(/[\\t\\r\\n]+/g, ' ')\r\n                .replace(/<!--[\\s\\S]*?-->/ig, \"\")\r\n                //转换图片\r\n                .replace(/<v:shape [^>]*>[\\s\\S]*?.<\\/v:shape>/gi, function(str) {\r\n                    //opera能自己解析出image所这里直接返回空\r\n                    if (browser.opera) {\r\n                        return '';\r\n                    }\r\n                    try {\r\n                        //有可能是bitmap占为图，无用，直接过滤掉，主要体现在粘贴excel表格中\r\n                        if (/Bitmap/i.test(str)) {\r\n                            return '';\r\n                        }\r\n                        var width = str.match(/width:([ \\d.]*p[tx])/i)[1],\r\n                            height = str.match(/height:([ \\d.]*p[tx])/i)[1],\r\n                            src = str.match(/src=\\s*\"([^\"]*)\"/i)[1];\r\n                        return '<img width=\"' + transUnit(width) + '\" height=\"' + transUnit(height) + '\" src=\"' + src + '\" />';\r\n                    } catch (e) {\r\n                        return '';\r\n                    }\r\n                })\r\n                //针对wps添加的多余标签处理\r\n                .replace(/<\\/?div[^>]*>/g, '')\r\n                //去掉多余的属性\r\n                .replace(/v:\\w+=([\"']?)[^'\"]+\\1/g, '')\r\n                .replace(/<(!|script[^>]*>.*?<\\/script(?=[>\\s])|\\/?(\\?xml(:\\w+)?|xml|meta|link|style|\\w+:\\w+)(?=[\\s\\/>]))[^>]*>/gi, \"\")\r\n                .replace(/<p [^>]*class=\"?MsoHeading\"?[^>]*>(.*?)<\\/p>/gi, \"<p><strong>$1</strong></p>\")\r\n                //去掉多余的属性\r\n                .replace(/\\s+(class|lang|align)\\s*=\\s*(['\"]?)([\\w-]+)\\2/ig, function(str, name, marks, val) {\r\n                    //保留list的标示\r\n                    return name == 'class' && val == 'MsoListParagraph' ? str : ''\r\n                })\r\n                //清除多余的font/span不能匹配&nbsp;有可能是空格\r\n                .replace(/<(font|span)[^>]*>(\\s*)<\\/\\1>/gi, function(a, b, c) {\r\n                    return c.replace(/[\\t\\r\\n ]+/g, ' ')\r\n                })\r\n                //处理style的问题\r\n                .replace(/(<[a-z][^>]*)\\sstyle=([\"'])([^\\2]*?)\\2/gi, function(str, tag, tmp, style) {\r\n                    var n = [],\r\n                        s = style.replace(/^\\s+|\\s+$/, '')\r\n                        .replace(/&#39;/g, '\\'')\r\n                        .replace(/&quot;/gi, \"'\")\r\n                        .replace(/[\\d.]+(cm|pt)/g, function(str) {\r\n                            return utils.transUnitToPx(str)\r\n                        })\r\n                        .split(/;\\s*/g);\r\n\r\n                    for (var i = 0, v; v = s[i]; i++) {\r\n\r\n                        var name, value,\r\n                            parts = v.split(\":\");\r\n\r\n                        if (parts.length == 2) {\r\n                            name = parts[0].toLowerCase();\r\n                            value = parts[1].toLowerCase();\r\n                            if (/^(background)\\w*/.test(name) && value.replace(/(initial|\\s)/g, '').length == 0 ||\r\n                                /^(margin)\\w*/.test(name) && /^0\\w+$/.test(value)\r\n                            ) {\r\n                                continue;\r\n                            }\r\n\r\n                            switch (name) {\r\n                                case \"mso-padding-alt\":\r\n                                case \"mso-padding-top-alt\":\r\n                                case \"mso-padding-right-alt\":\r\n                                case \"mso-padding-bottom-alt\":\r\n                                case \"mso-padding-left-alt\":\r\n                                case \"mso-margin-alt\":\r\n                                case \"mso-margin-top-alt\":\r\n                                case \"mso-margin-right-alt\":\r\n                                case \"mso-margin-bottom-alt\":\r\n                                case \"mso-margin-left-alt\":\r\n                                    //ie下会出现挤到一起的情况\r\n                                    //case \"mso-table-layout-alt\":\r\n                                case \"mso-height\":\r\n                                case \"mso-width\":\r\n                                case \"mso-vertical-align-alt\":\r\n                                    //trace:1819 ff下会解析出padding在table上\r\n                                    if (!/<table/.test(tag))\r\n                                        n[i] = name.replace(/^mso-|-alt$/g, \"\") + \":\" + transUnit(value);\r\n                                    continue;\r\n                                case \"horiz-align\":\r\n                                    n[i] = \"text-align:\" + value;\r\n                                    continue;\r\n\r\n                                case \"vert-align\":\r\n                                    n[i] = \"vertical-align:\" + value;\r\n                                    continue;\r\n\r\n                                case \"font-color\":\r\n                                case \"mso-foreground\":\r\n                                    n[i] = \"color:\" + value;\r\n                                    continue;\r\n\r\n                                case \"mso-background\":\r\n                                case \"mso-highlight\":\r\n                                    n[i] = \"background:\" + value;\r\n                                    continue;\r\n\r\n                                case \"mso-default-height\":\r\n                                    n[i] = \"min-height:\" + transUnit(value);\r\n                                    continue;\r\n\r\n                                case \"mso-default-width\":\r\n                                    n[i] = \"min-width:\" + transUnit(value);\r\n                                    continue;\r\n\r\n                                case \"mso-padding-between-alt\":\r\n                                    n[i] = \"border-collapse:separate;border-spacing:\" + transUnit(value);\r\n                                    continue;\r\n\r\n                                case \"text-line-through\":\r\n                                    if ((value == \"single\") || (value == \"double\")) {\r\n                                        n[i] = \"text-decoration:line-through\";\r\n                                    }\r\n                                    continue;\r\n                                case \"mso-zero-height\":\r\n                                    if (value == \"yes\") {\r\n                                        n[i] = \"display:none\";\r\n                                    }\r\n                                    continue;\r\n                                    //                                case 'background':\r\n                                    //                                    break;\r\n                                case 'margin':\r\n                                    if (!/[1-9]/.test(value)) {\r\n                                        continue;\r\n                                    }\r\n\r\n                            }\r\n\r\n                            if (/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/.test(name) ||\r\n                                /text\\-indent|padding|margin/.test(name) && /\\-[\\d.]+/.test(value)\r\n                            ) {\r\n                                continue;\r\n                            }\r\n\r\n                            n[i] = name + \":\" + parts[1];\r\n                        }\r\n                    }\r\n                    return tag + (n.length ? ' style=\"' + n.join(';').replace(/;{2,}/g, ';') + '\"' : '');\r\n                })\r\n\r\n\r\n        }\r\n\r\n        return function(html) {\r\n            return (isWordDocument(html) ? filterPasteWord(html) : html);\r\n        };\r\n    }();\r\n\r\n    // core/node.js\r\n    /**\r\n     * 编辑器模拟的节点类\r\n     * @file\r\n     * @module UE\r\n     * @class uNode\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * UEditor公用空间，UEditor所有的功能都挂载在该空间下\r\n     * @unfile\r\n     * @module UE\r\n     */\r\n\r\n    (function() {\r\n\r\n        /**\r\n         * 编辑器模拟的节点类\r\n         * @unfile\r\n         * @module UE\r\n         * @class uNode\r\n         */\r\n\r\n        /**\r\n         * 通过一个键值对，创建一个uNode对象\r\n         * @constructor\r\n         * @param { Object } attr 传入要创建的uNode的初始属性\r\n         * @example\r\n         * ```javascript\r\n         * var node = new uNode({\r\n         *     type:'element',\r\n         *     tagName:'span',\r\n         *     attrs:{style:'font-size:14px;'}\r\n         * }\r\n         * ```\r\n         */\r\n        var uNode = UE.uNode = function(obj) {\r\n            this.type = obj.type;\r\n            this.data = obj.data;\r\n            this.tagName = obj.tagName;\r\n            this.parentNode = obj.parentNode;\r\n            this.attrs = obj.attrs || {};\r\n            this.children = obj.children;\r\n        };\r\n\r\n        var notTransAttrs = {\r\n            'href': 1,\r\n            'src': 1,\r\n            '_src': 1,\r\n            '_href': 1,\r\n            'cdata_data': 1\r\n        };\r\n\r\n        var notTransTagName = {\r\n            style: 1,\r\n            script: 1\r\n        };\r\n\r\n        var indentChar = '    ',\r\n            breakChar = '\\n';\r\n\r\n        function insertLine(arr, current, begin) {\r\n            arr.push(breakChar);\r\n            return current + (begin ? 1 : -1);\r\n        }\r\n\r\n        function insertIndent(arr, current) {\r\n            //插入缩进\r\n            for (var i = 0; i < current; i++) {\r\n                arr.push(indentChar);\r\n            }\r\n        }\r\n\r\n        //创建uNode的静态方法\r\n        //支持标签和html\r\n        uNode.createElement = function(html) {\r\n            if (/[<>]/.test(html)) {\r\n                return UE.htmlparser(html).children[0]\r\n            } else {\r\n                return new uNode({\r\n                    type: 'element',\r\n                    children: [],\r\n                    tagName: html\r\n                })\r\n            }\r\n        };\r\n        uNode.createText = function(data, noTrans) {\r\n            return new UE.uNode({\r\n                type: 'text',\r\n                'data': noTrans ? data : utils.unhtml(data || '')\r\n            })\r\n        };\r\n\r\n        function nodeToHtml(node, arr, formatter, current) {\r\n            switch (node.type) {\r\n                case 'root':\r\n                    for (var i = 0, ci; ci = node.children[i++];) {\r\n                        //插入新行\r\n                        if (formatter && ci.type == 'element' && !dtd.$inlineWithA[ci.tagName] && i > 1) {\r\n                            insertLine(arr, current, true);\r\n                            insertIndent(arr, current)\r\n                        }\r\n                        nodeToHtml(ci, arr, formatter, current)\r\n                    }\r\n                    break;\r\n                case 'text':\r\n                    isText(node, arr);\r\n                    break;\r\n                case 'element':\r\n                    isElement(node, arr, formatter, current);\r\n                    break;\r\n                case 'comment':\r\n                    isComment(node, arr, formatter);\r\n            }\r\n            return arr;\r\n        }\r\n\r\n        function isText(node, arr) {\r\n            if (node.parentNode.tagName == 'pre') {\r\n                //源码模式下输入html标签，不能做转换处理，直接输出\r\n                arr.push(node.data)\r\n            } else {\r\n                arr.push(notTransTagName[node.parentNode.tagName] ? utils.html(node.data) : node.data.replace(/[ ]{2}/g, ' &nbsp;'))\r\n            }\r\n\r\n        }\r\n\r\n        function isElement(node, arr, formatter, current) {\r\n            var attrhtml = '';\r\n            if (node.attrs) {\r\n                attrhtml = [];\r\n                var attrs = node.attrs;\r\n                for (var a in attrs) {\r\n                    //这里就针对\r\n                    //<p>'<img src='http://nsclick.baidu.com/u.gif?&asdf=\\\"sdf&asdfasdfs;asdf'></p>\r\n                    //这里边的\\\"做转换，要不用innerHTML直接被截断了，属性src\r\n                    //有可能做的不够\r\n                    attrhtml.push(a + (attrs[a] !== undefined ? '=\"' + (notTransAttrs[a] ? utils.html(attrs[a]).replace(/[\"]/g, function(a) {\r\n                        return '&quot;'\r\n                    }) : utils.unhtml(attrs[a])) + '\"' : ''))\r\n                }\r\n                attrhtml = attrhtml.join(' ');\r\n            }\r\n            arr.push('<' + node.tagName +\r\n                (attrhtml ? ' ' + attrhtml : '') +\r\n                (dtd.$empty[node.tagName] ? '\\/' : '') + '>'\r\n            );\r\n            //插入新行\r\n            if (formatter && !dtd.$inlineWithA[node.tagName] && node.tagName != 'pre') {\r\n                if (node.children && node.children.length) {\r\n                    current = insertLine(arr, current, true);\r\n                    insertIndent(arr, current)\r\n                }\r\n\r\n            }\r\n            if (node.children && node.children.length) {\r\n                for (var i = 0, ci; ci = node.children[i++];) {\r\n                    if (formatter && ci.type == 'element' && !dtd.$inlineWithA[ci.tagName] && i > 1) {\r\n                        insertLine(arr, current);\r\n                        insertIndent(arr, current)\r\n                    }\r\n                    nodeToHtml(ci, arr, formatter, current)\r\n                }\r\n            }\r\n            if (!dtd.$empty[node.tagName]) {\r\n                if (formatter && !dtd.$inlineWithA[node.tagName] && node.tagName != 'pre') {\r\n\r\n                    if (node.children && node.children.length) {\r\n                        current = insertLine(arr, current);\r\n                        insertIndent(arr, current)\r\n                    }\r\n                }\r\n                arr.push('<\\/' + node.tagName + '>');\r\n            }\r\n\r\n        }\r\n\r\n        function isComment(node, arr) {\r\n            arr.push('<!--' + node.data + '-->');\r\n        }\r\n\r\n        function getNodeById(root, id) {\r\n            var node;\r\n            if (root.type == 'element' && root.getAttr('id') == id) {\r\n                return root;\r\n            }\r\n            if (root.children && root.children.length) {\r\n                for (var i = 0, ci; ci = root.children[i++];) {\r\n                    if (node = getNodeById(ci, id)) {\r\n                        return node;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        function getNodesByTagName(node, tagName, arr) {\r\n            if (node.type == 'element' && node.tagName == tagName) {\r\n                arr.push(node);\r\n            }\r\n            if (node.children && node.children.length) {\r\n                for (var i = 0, ci; ci = node.children[i++];) {\r\n                    getNodesByTagName(ci, tagName, arr)\r\n                }\r\n            }\r\n        }\r\n\r\n        function nodeTraversal(root, fn) {\r\n            if (root.children && root.children.length) {\r\n                for (var i = 0, ci; ci = root.children[i];) {\r\n                    nodeTraversal(ci, fn);\r\n                    //ci被替换的情况，这里就不再走 fn了\r\n                    if (ci.parentNode) {\r\n                        if (ci.children && ci.children.length) {\r\n                            fn(ci)\r\n                        }\r\n                        if (ci.parentNode) i++\r\n                    }\r\n                }\r\n            } else {\r\n                fn(root)\r\n            }\r\n\r\n        }\r\n        uNode.prototype = {\r\n\r\n            /**\r\n             * 当前节点对象，转换成html文本\r\n             * @method toHtml\r\n             * @return { String } 返回转换后的html字符串\r\n             * @example\r\n             * ```javascript\r\n             * node.toHtml();\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 当前节点对象，转换成html文本\r\n             * @method toHtml\r\n             * @param { Boolean } formatter 是否格式化返回值\r\n             * @return { String } 返回转换后的html字符串\r\n             * @example\r\n             * ```javascript\r\n             * node.toHtml( true );\r\n             * ```\r\n             */\r\n            toHtml: function(formatter) {\r\n                var arr = [];\r\n                nodeToHtml(this, arr, formatter, 0);\r\n                return arr.join('')\r\n            },\r\n\r\n            /**\r\n             * 获取节点的html内容\r\n             * @method innerHTML\r\n             * @warning 假如节点的type不是'element'，或节点的标签名称不在dtd列表里，直接返回当前节点\r\n             * @return { String } 返回节点的html内容\r\n             * @example\r\n             * ```javascript\r\n             * var htmlstr = node.innerHTML();\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 设置节点的html内容\r\n             * @method innerHTML\r\n             * @warning 假如节点的type不是'element'，或节点的标签名称不在dtd列表里，直接返回当前节点\r\n             * @param { String } htmlstr 传入要设置的html内容\r\n             * @return { UE.uNode } 返回节点本身\r\n             * @example\r\n             * ```javascript\r\n             * node.innerHTML('<span>text</span>');\r\n             * ```\r\n             */\r\n            innerHTML: function(htmlstr) {\r\n                if (this.type != 'element' || dtd.$empty[this.tagName]) {\r\n                    return this;\r\n                }\r\n                if (utils.isString(htmlstr)) {\r\n                    if (this.children) {\r\n                        for (var i = 0, ci; ci = this.children[i++];) {\r\n                            ci.parentNode = null;\r\n                        }\r\n                    }\r\n                    this.children = [];\r\n                    var tmpRoot = UE.htmlparser(htmlstr);\r\n                    for (var i = 0, ci; ci = tmpRoot.children[i++];) {\r\n                        this.children.push(ci);\r\n                        ci.parentNode = this;\r\n                    }\r\n                    return this;\r\n                } else {\r\n                    var tmpRoot = new UE.uNode({\r\n                        type: 'root',\r\n                        children: this.children\r\n                    });\r\n                    return tmpRoot.toHtml();\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 获取节点的纯文本内容\r\n             * @method innerText\r\n             * @warning 假如节点的type不是'element'，或节点的标签名称不在dtd列表里，直接返回当前节点\r\n             * @return { String } 返回节点的存文本内容\r\n             * @example\r\n             * ```javascript\r\n             * var textStr = node.innerText();\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 设置节点的纯文本内容\r\n             * @method innerText\r\n             * @warning 假如节点的type不是'element'，或节点的标签名称不在dtd列表里，直接返回当前节点\r\n             * @param { String } textStr 传入要设置的文本内容\r\n             * @return { UE.uNode } 返回节点本身\r\n             * @example\r\n             * ```javascript\r\n             * node.innerText('<span>text</span>');\r\n             * ```\r\n             */\r\n            innerText: function(textStr, noTrans) {\r\n                if (this.type != 'element' || dtd.$empty[this.tagName]) {\r\n                    return this;\r\n                }\r\n                if (textStr) {\r\n                    if (this.children) {\r\n                        for (var i = 0, ci; ci = this.children[i++];) {\r\n                            ci.parentNode = null;\r\n                        }\r\n                    }\r\n                    this.children = [];\r\n                    this.appendChild(uNode.createText(textStr, noTrans));\r\n                    return this;\r\n                } else {\r\n                    return this.toHtml().replace(/<[^>]+>/g, '');\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 获取当前对象的data属性\r\n             * @method getData\r\n             * @return { Object } 若节点的type值是elemenet，返回空字符串，否则返回节点的data属性\r\n             * @example\r\n             * ```javascript\r\n             * node.getData();\r\n             * ```\r\n             */\r\n            getData: function() {\r\n                if (this.type == 'element')\r\n                    return '';\r\n                return this.data\r\n            },\r\n\r\n            /**\r\n             * 获取当前节点下的第一个子节点\r\n             * @method firstChild\r\n             * @return { UE.uNode } 返回第一个子节点\r\n             * @example\r\n             * ```javascript\r\n             * node.firstChild(); //返回第一个子节点\r\n             * ```\r\n             */\r\n            firstChild: function() {\r\n                //            if (this.type != 'element' || dtd.$empty[this.tagName]) {\r\n                //                return this;\r\n                //            }\r\n                return this.children ? this.children[0] : null;\r\n            },\r\n\r\n            /**\r\n             * 获取当前节点下的最后一个子节点\r\n             * @method lastChild\r\n             * @return { UE.uNode } 返回最后一个子节点\r\n             * @example\r\n             * ```javascript\r\n             * node.lastChild(); //返回最后一个子节点\r\n             * ```\r\n             */\r\n            lastChild: function() {\r\n                //            if (this.type != 'element' || dtd.$empty[this.tagName] ) {\r\n                //                return this;\r\n                //            }\r\n                return this.children ? this.children[this.children.length - 1] : null;\r\n            },\r\n\r\n            /**\r\n             * 获取和当前节点有相同父亲节点的前一个节点\r\n             * @method previousSibling\r\n             * @return { UE.uNode } 返回前一个节点\r\n             * @example\r\n             * ```javascript\r\n             * node.children[2].previousSibling(); //返回子节点node.children[1]\r\n             * ```\r\n             */\r\n            previousSibling: function() {\r\n                var parent = this.parentNode;\r\n                for (var i = 0, ci; ci = parent.children[i]; i++) {\r\n                    if (ci === this) {\r\n                        return i == 0 ? null : parent.children[i - 1];\r\n                    }\r\n                }\r\n\r\n            },\r\n\r\n            /**\r\n             * 获取和当前节点有相同父亲节点的后一个节点\r\n             * @method nextSibling\r\n             * @return { UE.uNode } 返回后一个节点,找不到返回null\r\n             * @example\r\n             * ```javascript\r\n             * node.children[2].nextSibling(); //如果有，返回子节点node.children[3]\r\n             * ```\r\n             */\r\n            nextSibling: function() {\r\n                var parent = this.parentNode;\r\n                for (var i = 0, ci; ci = parent.children[i++];) {\r\n                    if (ci === this) {\r\n                        return parent.children[i];\r\n                    }\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 用新的节点替换当前节点\r\n             * @method replaceChild\r\n             * @param { UE.uNode } target 要替换成该节点参数\r\n             * @param { UE.uNode } source 要被替换掉的节点\r\n             * @return { UE.uNode } 返回替换之后的节点对象\r\n             * @example\r\n             * ```javascript\r\n             * node.replaceChild(newNode, childNode); //用newNode替换childNode,childNode是node的子节点\r\n             * ```\r\n             */\r\n            replaceChild: function(target, source) {\r\n                if (this.children) {\r\n                    if (target.parentNode) {\r\n                        target.parentNode.removeChild(target);\r\n                    }\r\n                    for (var i = 0, ci; ci = this.children[i]; i++) {\r\n                        if (ci === source) {\r\n                            this.children.splice(i, 1, target);\r\n                            source.parentNode = null;\r\n                            target.parentNode = this;\r\n                            return target;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 在节点的子节点列表最后位置插入一个节点\r\n             * @method appendChild\r\n             * @param { UE.uNode } node 要插入的节点\r\n             * @return { UE.uNode } 返回刚插入的子节点\r\n             * @example\r\n             * ```javascript\r\n             * node.appendChild( newNode ); //在node内插入子节点newNode\r\n             * ```\r\n             */\r\n            appendChild: function(node) {\r\n                if (this.type == 'root' || (this.type == 'element' && !dtd.$empty[this.tagName])) {\r\n                    if (!this.children) {\r\n                        this.children = []\r\n                    }\r\n                    if (node.parentNode) {\r\n                        node.parentNode.removeChild(node);\r\n                    }\r\n                    for (var i = 0, ci; ci = this.children[i]; i++) {\r\n                        if (ci === node) {\r\n                            this.children.splice(i, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n                    this.children.push(node);\r\n                    node.parentNode = this;\r\n                    return node;\r\n                }\r\n\r\n\r\n            },\r\n\r\n            /**\r\n             * 在传入节点的前面插入一个节点\r\n             * @method insertBefore\r\n             * @param { UE.uNode } target 要插入的节点\r\n             * @param { UE.uNode } source 在该参数节点前面插入\r\n             * @return { UE.uNode } 返回刚插入的子节点\r\n             * @example\r\n             * ```javascript\r\n             * node.parentNode.insertBefore(newNode, node); //在node节点后面插入newNode\r\n             * ```\r\n             */\r\n            insertBefore: function(target, source) {\r\n                if (this.children) {\r\n                    if (target.parentNode) {\r\n                        target.parentNode.removeChild(target);\r\n                    }\r\n                    for (var i = 0, ci; ci = this.children[i]; i++) {\r\n                        if (ci === source) {\r\n                            this.children.splice(i, 0, target);\r\n                            target.parentNode = this;\r\n                            return target;\r\n                        }\r\n                    }\r\n\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 在传入节点的后面插入一个节点\r\n             * @method insertAfter\r\n             * @param { UE.uNode } target 要插入的节点\r\n             * @param { UE.uNode } source 在该参数节点后面插入\r\n             * @return { UE.uNode } 返回刚插入的子节点\r\n             * @example\r\n             * ```javascript\r\n             * node.parentNode.insertAfter(newNode, node); //在node节点后面插入newNode\r\n             * ```\r\n             */\r\n            insertAfter: function(target, source) {\r\n                if (this.children) {\r\n                    if (target.parentNode) {\r\n                        target.parentNode.removeChild(target);\r\n                    }\r\n                    for (var i = 0, ci; ci = this.children[i]; i++) {\r\n                        if (ci === source) {\r\n                            this.children.splice(i + 1, 0, target);\r\n                            target.parentNode = this;\r\n                            return target;\r\n                        }\r\n\r\n                    }\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 从当前节点的子节点列表中，移除节点\r\n             * @method removeChild\r\n             * @param { UE.uNode } node 要移除的节点引用\r\n             * @param { Boolean } keepChildren 是否保留移除节点的子节点，若传入true，自动把移除节点的子节点插入到移除的位置\r\n             * @return { * } 返回刚移除的子节点\r\n             * @example\r\n             * ```javascript\r\n             * node.removeChild(childNode,true); //在node的子节点列表中移除child节点，并且吧child的子节点插入到移除的位置\r\n             * ```\r\n             */\r\n            removeChild: function(node, keepChildren) {\r\n                if (this.children) {\r\n                    for (var i = 0, ci; ci = this.children[i]; i++) {\r\n                        if (ci === node) {\r\n                            this.children.splice(i, 1);\r\n                            ci.parentNode = null;\r\n                            if (keepChildren && ci.children && ci.children.length) {\r\n                                for (var j = 0, cj; cj = ci.children[j]; j++) {\r\n                                    this.children.splice(i + j, 0, cj);\r\n                                    cj.parentNode = this;\r\n\r\n                                }\r\n                            }\r\n                            return ci;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 获取当前节点所代表的元素属性，即获取attrs对象下的属性值\r\n             * @method getAttr\r\n             * @param { String } attrName 要获取的属性名称\r\n             * @return { * } 返回attrs对象下的属性值\r\n             * @example\r\n             * ```javascript\r\n             * node.getAttr('title');\r\n             * ```\r\n             */\r\n            getAttr: function(attrName) {\r\n                return this.attrs && this.attrs[attrName.toLowerCase()]\r\n            },\r\n\r\n            /**\r\n             * 设置当前节点所代表的元素属性，即设置attrs对象下的属性值\r\n             * @method setAttr\r\n             * @param { String } attrName 要设置的属性名称\r\n             * @param { * } attrVal 要设置的属性值，类型视设置的属性而定\r\n             * @return { * } 返回attrs对象下的属性值\r\n             * @example\r\n             * ```javascript\r\n             * node.setAttr('title','标题');\r\n             * ```\r\n             */\r\n            setAttr: function(attrName, attrVal) {\r\n                if (!attrName) {\r\n                    delete this.attrs;\r\n                    return;\r\n                }\r\n                if (!this.attrs) {\r\n                    this.attrs = {};\r\n                }\r\n                if (utils.isObject(attrName)) {\r\n                    for (var a in attrName) {\r\n                        if (!attrName[a]) {\r\n                            delete this.attrs[a]\r\n                        } else {\r\n                            this.attrs[a.toLowerCase()] = attrName[a];\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (!attrVal) {\r\n                        delete this.attrs[attrName]\r\n                    } else {\r\n                        this.attrs[attrName.toLowerCase()] = attrVal;\r\n                    }\r\n\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 获取当前节点在父节点下的位置索引\r\n             * @method getIndex\r\n             * @return { Number } 返回索引数值，如果没有父节点，返回-1\r\n             * @example\r\n             * ```javascript\r\n             * node.getIndex();\r\n             * ```\r\n             */\r\n            getIndex: function() {\r\n                var parent = this.parentNode;\r\n                for (var i = 0, ci; ci = parent.children[i]; i++) {\r\n                    if (ci === this) {\r\n                        return i;\r\n                    }\r\n                }\r\n                return -1;\r\n            },\r\n\r\n            /**\r\n             * 在当前节点下，根据id查找节点\r\n             * @method getNodeById\r\n             * @param { String } id 要查找的id\r\n             * @return { UE.uNode } 返回找到的节点\r\n             * @example\r\n             * ```javascript\r\n             * node.getNodeById('textId');\r\n             * ```\r\n             */\r\n            getNodeById: function(id) {\r\n                var node;\r\n                if (this.children && this.children.length) {\r\n                    for (var i = 0, ci; ci = this.children[i++];) {\r\n                        if (node = getNodeById(ci, id)) {\r\n                            return node;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 在当前节点下，根据元素名称查找节点列表\r\n             * @method getNodesByTagName\r\n             * @param { String } tagNames 要查找的元素名称\r\n             * @return { Array } 返回找到的节点列表\r\n             * @example\r\n             * ```javascript\r\n             * node.getNodesByTagName('span');\r\n             * ```\r\n             */\r\n            getNodesByTagName: function(tagNames) {\r\n                tagNames = utils.trim(tagNames).replace(/[ ]{2,}/g, ' ').split(' ');\r\n                var arr = [],\r\n                    me = this;\r\n                utils.each(tagNames, function(tagName) {\r\n                    if (me.children && me.children.length) {\r\n                        for (var i = 0, ci; ci = me.children[i++];) {\r\n                            getNodesByTagName(ci, tagName, arr)\r\n                        }\r\n                    }\r\n                });\r\n                return arr;\r\n            },\r\n\r\n            /**\r\n             * 根据样式名称，获取节点的样式值\r\n             * @method getStyle\r\n             * @param { String } name 要获取的样式名称\r\n             * @return { String } 返回样式值\r\n             * @example\r\n             * ```javascript\r\n             * node.getStyle('font-size');\r\n             * ```\r\n             */\r\n            getStyle: function(name) {\r\n                var cssStyle = this.getAttr('style');\r\n                if (!cssStyle) {\r\n                    return ''\r\n                }\r\n                var reg = new RegExp('(^|;)\\\\s*' + name + ':([^;]+)', 'i');\r\n                var match = cssStyle.match(reg);\r\n                if (match && match[0]) {\r\n                    return match[2]\r\n                }\r\n                return '';\r\n            },\r\n\r\n            /**\r\n             * 给节点设置样式\r\n             * @method setStyle\r\n             * @param { String } name 要设置的的样式名称\r\n             * @param { String } val 要设置的的样值\r\n             * @example\r\n             * ```javascript\r\n             * node.setStyle('font-size', '12px');\r\n             * ```\r\n             */\r\n            setStyle: function(name, val) {\r\n                function exec(name, val) {\r\n                    var reg = new RegExp('(^|;)\\\\s*' + name + ':([^;]+;?)', 'gi');\r\n                    cssStyle = cssStyle.replace(reg, '$1');\r\n                    if (val) {\r\n                        cssStyle = name + ':' + utils.unhtml(val) + ';' + cssStyle\r\n                    }\r\n\r\n                }\r\n\r\n                var cssStyle = this.getAttr('style');\r\n                if (!cssStyle) {\r\n                    cssStyle = '';\r\n                }\r\n                if (utils.isObject(name)) {\r\n                    for (var a in name) {\r\n                        exec(a, name[a])\r\n                    }\r\n                } else {\r\n                    exec(name, val)\r\n                }\r\n                this.setAttr('style', utils.trim(cssStyle))\r\n            },\r\n\r\n            /**\r\n             * 传入一个函数，递归遍历当前节点下的所有节点\r\n             * @method traversal\r\n             * @param { Function } fn 遍历到节点的时，传入节点作为参数，运行此函数\r\n             * @example\r\n             * ```javascript\r\n             * traversal(node, function(){\r\n             *     console.log(node.type);\r\n             * });\r\n             * ```\r\n             */\r\n            traversal: function(fn) {\r\n                if (this.children && this.children.length) {\r\n                    nodeTraversal(this, fn);\r\n                }\r\n                return this;\r\n            }\r\n        }\r\n    })();\r\n\r\n\r\n    // core/htmlparser.js\r\n    /**\r\n     * html字符串转换成uNode节点\r\n     * @file\r\n     * @module UE\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * UEditor公用空间，UEditor所有的功能都挂载在该空间下\r\n     * @unfile\r\n     * @module UE\r\n     */\r\n\r\n    /**\r\n     * html字符串转换成uNode节点的静态方法\r\n     * @method htmlparser\r\n     * @param { String } htmlstr 要转换的html代码\r\n     * @param { Boolean } ignoreBlank 若设置为true，转换的时候忽略\\n\\r\\t等空白字符\r\n     * @return { uNode } 给定的html片段转换形成的uNode对象\r\n     * @example\r\n     * ```javascript\r\n     * var root = UE.htmlparser('<p><b>htmlparser</b></p>', true);\r\n     * ```\r\n     */\r\n\r\n    var htmlparser = UE.htmlparser = function(htmlstr, ignoreBlank) {\r\n        //todo 原来的方式  [^\"'<>\\/] 有\\/就不能配对上 <TD vAlign=top background=../AAA.JPG> 这样的标签了\r\n        //先去掉了，加上的原因忘了，这里先记录\r\n        var re_tag = /<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)-->)|(?:([^\\s\\/<>]+)\\s*((?:(?:\"[^\"]*\")|(?:'[^']*')|[^\"'<>])*)\\/?>))/g,\r\n            re_attr = /([\\w\\-:.]+)(?:(?:\\s*=\\s*(?:(?:\"([^\"]*)\")|(?:'([^']*)')|([^\\s>]+)))|(?=\\s|$))/g;\r\n\r\n        //ie下取得的html可能会有\\n存在，要去掉，在处理replace(/[\\t\\r\\n]*/g,'');代码高量的\\n不能去除\r\n        var allowEmptyTags = {\r\n            b: 1,\r\n            code: 1,\r\n            i: 1,\r\n            u: 1,\r\n            strike: 1,\r\n            s: 1,\r\n            tt: 1,\r\n            strong: 1,\r\n            q: 1,\r\n            samp: 1,\r\n            em: 1,\r\n            span: 1,\r\n            sub: 1,\r\n            img: 1,\r\n            sup: 1,\r\n            font: 1,\r\n            big: 1,\r\n            small: 1,\r\n            iframe: 1,\r\n            a: 1,\r\n            br: 1,\r\n            pre: 1\r\n        };\r\n        htmlstr = htmlstr.replace(new RegExp(domUtils.fillChar, 'g'), '');\r\n        if (!ignoreBlank) {\r\n            htmlstr = htmlstr.replace(new RegExp('[\\\\r\\\\t\\\\n' + (ignoreBlank ? '' : ' ') + ']*<\\/?(\\\\w+)\\\\s*(?:[^>]*)>[\\\\r\\\\t\\\\n' + (ignoreBlank ? '' : ' ') + ']*', 'g'), function(a, b) {\r\n                //br暂时单独处理\r\n                if (b && allowEmptyTags[b.toLowerCase()]) {\r\n                    return a.replace(/(^[\\n\\r]+)|([\\n\\r]+$)/g, '');\r\n                }\r\n                return a.replace(new RegExp('^[\\\\r\\\\n' + (ignoreBlank ? '' : ' ') + ']+'), '').replace(new RegExp('[\\\\r\\\\n' + (ignoreBlank ? '' : ' ') + ']+$'), '');\r\n            });\r\n        }\r\n\r\n        var notTransAttrs = {\r\n            'href': 1,\r\n            'src': 1\r\n        };\r\n\r\n        var uNode = UE.uNode,\r\n            needParentNode = {\r\n                'td': 'tr',\r\n                'tr': ['tbody', 'thead', 'tfoot'],\r\n                'tbody': 'table',\r\n                'th': 'tr',\r\n                'thead': 'table',\r\n                'tfoot': 'table',\r\n                'caption': 'table',\r\n                'li': ['ul', 'ol'],\r\n                'dt': 'dl',\r\n                'dd': 'dl',\r\n                'option': 'select'\r\n            },\r\n            needChild = {\r\n                'ol': 'li',\r\n                'ul': 'li'\r\n            };\r\n\r\n        function text(parent, data) {\r\n\r\n            if (needChild[parent.tagName]) {\r\n                var tmpNode = uNode.createElement(needChild[parent.tagName]);\r\n                parent.appendChild(tmpNode);\r\n                tmpNode.appendChild(uNode.createText(data));\r\n                parent = tmpNode;\r\n            } else {\r\n\r\n                parent.appendChild(uNode.createText(data));\r\n            }\r\n        }\r\n\r\n        function element(parent, tagName, htmlattr) {\r\n            var needParentTag;\r\n            if (needParentTag = needParentNode[tagName]) {\r\n                var tmpParent = parent,\r\n                    hasParent;\r\n                while (tmpParent.type != 'root') {\r\n                    if (utils.isArray(needParentTag) ? utils.indexOf(needParentTag, tmpParent.tagName) != -1 : needParentTag == tmpParent.tagName) {\r\n                        parent = tmpParent;\r\n                        hasParent = true;\r\n                        break;\r\n                    }\r\n                    tmpParent = tmpParent.parentNode;\r\n                }\r\n                if (!hasParent) {\r\n                    parent = element(parent, utils.isArray(needParentTag) ? needParentTag[0] : needParentTag)\r\n                }\r\n            }\r\n            //按dtd处理嵌套\r\n            //        if(parent.type != 'root' && !dtd[parent.tagName][tagName])\r\n            //            parent = parent.parentNode;\r\n            var elm = new uNode({\r\n                parentNode: parent,\r\n                type: 'element',\r\n                tagName: tagName.toLowerCase(),\r\n                //是自闭合的处理一下\r\n                children: dtd.$empty[tagName] ? null : []\r\n            });\r\n            //如果属性存在，处理属性\r\n            if (htmlattr) {\r\n                var attrs = {},\r\n                    match;\r\n                while (match = re_attr.exec(htmlattr)) {\r\n                    attrs[match[1].toLowerCase()] = notTransAttrs[match[1].toLowerCase()] ? (match[2] || match[3] || match[4]) : utils.unhtml(match[2] || match[3] || match[4])\r\n                }\r\n                elm.attrs = attrs;\r\n            }\r\n            //trace:3970\r\n            //        //如果parent下不能放elm\r\n            //        if(dtd.$inline[parent.tagName] && dtd.$block[elm.tagName] && !dtd[parent.tagName][elm.tagName]){\r\n            //            parent = parent.parentNode;\r\n            //            elm.parentNode = parent;\r\n            //        }\r\n            parent.children.push(elm);\r\n            //如果是自闭合节点返回父亲节点\r\n            return dtd.$empty[tagName] ? parent : elm\r\n        }\r\n\r\n        function comment(parent, data) {\r\n            parent.children.push(new uNode({\r\n                type: 'comment',\r\n                data: data,\r\n                parentNode: parent\r\n            }));\r\n        }\r\n\r\n        var match, currentIndex = 0,\r\n            nextIndex = 0;\r\n        //设置根节点\r\n        var root = new uNode({\r\n            type: 'root',\r\n            children: []\r\n        });\r\n        var currentParent = root;\r\n\r\n        while (match = re_tag.exec(htmlstr)) {\r\n            currentIndex = match.index;\r\n            try {\r\n                if (currentIndex > nextIndex) {\r\n                    //text node\r\n                    text(currentParent, htmlstr.slice(nextIndex, currentIndex));\r\n                }\r\n                if (match[3]) {\r\n\r\n                    if (dtd.$cdata[currentParent.tagName]) {\r\n                        text(currentParent, match[0]);\r\n                    } else {\r\n                        //start tag\r\n                        currentParent = element(currentParent, match[3].toLowerCase(), match[4]);\r\n                    }\r\n\r\n\r\n                } else if (match[1]) {\r\n                    if (currentParent.type != 'root') {\r\n                        if (dtd.$cdata[currentParent.tagName] && !dtd.$cdata[match[1]]) {\r\n                            text(currentParent, match[0]);\r\n                        } else {\r\n                            var tmpParent = currentParent;\r\n                            while (currentParent.type == 'element' && currentParent.tagName != match[1].toLowerCase()) {\r\n                                currentParent = currentParent.parentNode;\r\n                                if (currentParent.type == 'root') {\r\n                                    currentParent = tmpParent;\r\n                                    throw 'break'\r\n                                }\r\n                            }\r\n                            //end tag\r\n                            currentParent = currentParent.parentNode;\r\n                        }\r\n\r\n                    }\r\n\r\n                } else if (match[2]) {\r\n                    //comment\r\n                    comment(currentParent, match[2])\r\n                }\r\n            } catch (e) {}\r\n\r\n            nextIndex = re_tag.lastIndex;\r\n\r\n        }\r\n        //如果结束是文本，就有可能丢掉，所以这里手动判断一下\r\n        //例如 <li>sdfsdfsdf<li>sdfsdfsdfsdf\r\n        if (nextIndex < htmlstr.length) {\r\n            text(currentParent, htmlstr.slice(nextIndex));\r\n        }\r\n        return root;\r\n    };\r\n\r\n\r\n    // core/filternode.js\r\n    /**\r\n     * UE过滤节点的静态方法\r\n     * @file\r\n     */\r\n\r\n    /**\r\n     * UEditor公用空间，UEditor所有的功能都挂载在该空间下\r\n     * @module UE\r\n     */\r\n\r\n\r\n    /**\r\n     * 根据传入节点和过滤规则过滤相应节点\r\n     * @module UE\r\n     * @since 1.2.6.1\r\n     * @method filterNode\r\n     * @param { Object } root 指定root节点\r\n     * @param { Object } rules 过滤规则json对象\r\n     * @example\r\n     * ```javascript\r\n     * UE.filterNode(root,editor.options.filterRules);\r\n     * ```\r\n     */\r\n    var filterNode = UE.filterNode = function() {\r\n        function filterNode(node, rules) {\r\n            switch (node.type) {\r\n                case 'text':\r\n                    break;\r\n                case 'element':\r\n                    var val;\r\n                    if (val = rules[node.tagName]) {\r\n                        if (val === '-') {\r\n                            node.parentNode.removeChild(node)\r\n                        } else if (utils.isFunction(val)) {\r\n                            var parentNode = node.parentNode,\r\n                                index = node.getIndex();\r\n                            val(node);\r\n                            if (node.parentNode) {\r\n                                if (node.children) {\r\n                                    for (var i = 0, ci; ci = node.children[i];) {\r\n                                        filterNode(ci, rules);\r\n                                        if (ci.parentNode) {\r\n                                            i++;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                for (var i = index, ci; ci = parentNode.children[i];) {\r\n                                    filterNode(ci, rules);\r\n                                    if (ci.parentNode) {\r\n                                        i++;\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n\r\n                        } else {\r\n                            var attrs = val['$'];\r\n                            if (attrs && node.attrs) {\r\n                                var tmpAttrs = {},\r\n                                    tmpVal;\r\n                                for (var a in attrs) {\r\n                                    tmpVal = node.getAttr(a);\r\n                                    //todo 只先对style单独处理\r\n                                    if (a == 'style' && utils.isArray(attrs[a])) {\r\n                                        var tmpCssStyle = [];\r\n                                        utils.each(attrs[a], function(v) {\r\n                                            var tmp;\r\n                                            if (tmp = node.getStyle(v)) {\r\n                                                tmpCssStyle.push(v + ':' + tmp);\r\n                                            }\r\n                                        });\r\n                                        tmpVal = tmpCssStyle.join(';')\r\n                                    }\r\n                                    if (tmpVal) {\r\n                                        tmpAttrs[a] = tmpVal;\r\n                                    }\r\n\r\n                                }\r\n                                node.attrs = tmpAttrs;\r\n                            }\r\n                            if (node.children) {\r\n                                for (var i = 0, ci; ci = node.children[i];) {\r\n                                    filterNode(ci, rules);\r\n                                    if (ci.parentNode) {\r\n                                        i++;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    } else {\r\n                        //如果不在名单里扣出子节点并删除该节点,cdata除外\r\n                        if (dtd.$cdata[node.tagName]) {\r\n                            node.parentNode.removeChild(node)\r\n                        } else {\r\n                            var parentNode = node.parentNode,\r\n                                index = node.getIndex();\r\n                            node.parentNode.removeChild(node, true);\r\n                            for (var i = index, ci; ci = parentNode.children[i];) {\r\n                                filterNode(ci, rules);\r\n                                if (ci.parentNode) {\r\n                                    i++;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'comment':\r\n                    node.parentNode.removeChild(node)\r\n            }\r\n\r\n        }\r\n        return function(root, rules) {\r\n            if (utils.isEmptyObject(rules)) {\r\n                return root;\r\n            }\r\n            var val;\r\n            if (val = rules['-']) {\r\n                utils.each(val.split(' '), function(k) {\r\n                    rules[k] = '-'\r\n                })\r\n            }\r\n            for (var i = 0, ci; ci = root.children[i];) {\r\n                filterNode(ci, rules);\r\n                if (ci.parentNode) {\r\n                    i++;\r\n                }\r\n            }\r\n            return root;\r\n        }\r\n    }();\r\n\r\n    // core/plugin.js\r\n    /**\r\n     * Created with JetBrains PhpStorm.\r\n     * User: campaign\r\n     * Date: 10/8/13\r\n     * Time: 6:15 PM\r\n     * To change this template use File | Settings | File Templates.\r\n     */\r\n    UE.plugin = function() {\r\n        var _plugins = {};\r\n        return {\r\n            register: function(pluginName, fn, oldOptionName, afterDisabled) {\r\n                if (oldOptionName && utils.isFunction(oldOptionName)) {\r\n                    afterDisabled = oldOptionName;\r\n                    oldOptionName = null\r\n                }\r\n                _plugins[pluginName] = {\r\n                    optionName: oldOptionName || pluginName,\r\n                    execFn: fn,\r\n                    //当插件被禁用时执行\r\n                    afterDisabled: afterDisabled\r\n                }\r\n            },\r\n            load: function(editor) {\r\n                utils.each(_plugins, function(plugin) {\r\n                    var _export = plugin.execFn.call(editor);\r\n                    if (editor.options[plugin.optionName] !== false) {\r\n                        if (_export) {\r\n                            //后边需要再做扩展\r\n                            utils.each(_export, function(v, k) {\r\n                                switch (k.toLowerCase()) {\r\n                                    case 'shortcutkey':\r\n                                        editor.addshortcutkey(v);\r\n                                        break;\r\n                                    case 'bindevents':\r\n                                        utils.each(v, function(fn, eventName) {\r\n                                            editor.addListener(eventName, fn);\r\n                                        });\r\n                                        break;\r\n                                    case 'bindmultievents':\r\n                                        utils.each(utils.isArray(v) ? v : [v], function(event) {\r\n                                            var types = utils.trim(event.type).split(/\\s+/);\r\n                                            utils.each(types, function(eventName) {\r\n                                                editor.addListener(eventName, event.handler);\r\n                                            });\r\n                                        });\r\n                                        break;\r\n                                    case 'commands':\r\n                                        utils.each(v, function(execFn, execName) {\r\n                                            editor.commands[execName] = execFn\r\n                                        });\r\n                                        break;\r\n                                    case 'outputrule':\r\n                                        editor.addOutputRule(v);\r\n                                        break;\r\n                                    case 'inputrule':\r\n                                        editor.addInputRule(v);\r\n                                        break;\r\n                                    case 'defaultoptions':\r\n                                        editor.setOpt(v)\r\n                                }\r\n                            })\r\n                        }\r\n\r\n                    } else if (plugin.afterDisabled) {\r\n                        plugin.afterDisabled.call(editor)\r\n                    }\r\n\r\n                });\r\n                //向下兼容\r\n                utils.each(UE.plugins, function(plugin) {\r\n                    plugin.call(editor);\r\n                });\r\n            },\r\n            run: function(pluginName, editor) {\r\n                var plugin = _plugins[pluginName];\r\n                if (plugin) {\r\n                    plugin.exeFn.call(editor)\r\n                }\r\n            }\r\n        }\r\n    }();\r\n\r\n    // core/keymap.js\r\n    var keymap = UE.keymap = {\r\n        'Backspace': 8,\r\n        'Tab': 9,\r\n        'Enter': 13,\r\n\r\n        'Shift': 16,\r\n        'Control': 17,\r\n        'Alt': 18,\r\n        'CapsLock': 20,\r\n\r\n        'Esc': 27,\r\n\r\n        'Spacebar': 32,\r\n\r\n        'PageUp': 33,\r\n        'PageDown': 34,\r\n        'End': 35,\r\n        'Home': 36,\r\n\r\n        'Left': 37,\r\n        'Up': 38,\r\n        'Right': 39,\r\n        'Down': 40,\r\n\r\n        'Insert': 45,\r\n\r\n        'Del': 46,\r\n\r\n        'NumLock': 144,\r\n\r\n        'Cmd': 91,\r\n\r\n        '=': 187,\r\n        '-': 189,\r\n\r\n        \"b\": 66,\r\n        'i': 73,\r\n        //回退\r\n        'z': 90,\r\n        'y': 89,\r\n        //粘贴\r\n        'v': 86,\r\n        'x': 88,\r\n\r\n        's': 83,\r\n\r\n        'n': 78\r\n    };\r\n\r\n    // core/localstorage.js\r\n    //存储媒介封装\r\n    var LocalStorage = UE.LocalStorage = (function() {\r\n\r\n        var storage = window.localStorage || getUserData() || null,\r\n            LOCAL_FILE = 'localStorage';\r\n\r\n        return {\r\n\r\n            saveLocalData: function(key, data) {\r\n\r\n                if (storage && data) {\r\n                    storage.setItem(key, data);\r\n                    return true;\r\n                }\r\n\r\n                return false;\r\n\r\n            },\r\n\r\n            getLocalData: function(key) {\r\n\r\n                if (storage) {\r\n                    return storage.getItem(key);\r\n                }\r\n\r\n                return null;\r\n\r\n            },\r\n\r\n            removeItem: function(key) {\r\n\r\n                storage && storage.removeItem(key);\r\n\r\n            }\r\n\r\n        };\r\n\r\n        function getUserData() {\r\n\r\n            var container = document.createElement(\"div\");\r\n            container.style.display = \"none\";\r\n\r\n            if (!container.addBehavior) {\r\n                return null;\r\n            }\r\n\r\n            container.addBehavior(\"#default#userdata\");\r\n\r\n            return {\r\n\r\n                getItem: function(key) {\r\n\r\n                    var result = null;\r\n\r\n                    try {\r\n                        document.body.appendChild(container);\r\n                        container.load(LOCAL_FILE);\r\n                        result = container.getAttribute(key);\r\n                        document.body.removeChild(container);\r\n                    } catch (e) {}\r\n\r\n                    return result;\r\n\r\n                },\r\n\r\n                setItem: function(key, value) {\r\n\r\n                    document.body.appendChild(container);\r\n                    container.setAttribute(key, value);\r\n                    container.save(LOCAL_FILE);\r\n                    document.body.removeChild(container);\r\n\r\n                },\r\n\r\n                //// 暂时没有用到\r\n                //clear: function () {\r\n                //\r\n                //    var expiresTime = new Date();\r\n                //    expiresTime.setFullYear(expiresTime.getFullYear() - 1);\r\n                //    document.body.appendChild(container);\r\n                //    container.expires = expiresTime.toUTCString();\r\n                //    container.save(LOCAL_FILE);\r\n                //    document.body.removeChild(container);\r\n                //\r\n                //},\r\n\r\n                removeItem: function(key) {\r\n\r\n                    document.body.appendChild(container);\r\n                    container.removeAttribute(key);\r\n                    container.save(LOCAL_FILE);\r\n                    document.body.removeChild(container);\r\n\r\n                }\r\n\r\n            };\r\n\r\n        }\r\n\r\n    })();\r\n\r\n    (function() {\r\n\r\n        var ROOTKEY = 'ueditor_preference';\r\n\r\n        UE.Editor.prototype.setPreferences = function(key, value) {\r\n            var obj = {};\r\n            if (utils.isString(key)) {\r\n                obj[key] = value;\r\n            } else {\r\n                obj = key;\r\n            }\r\n            var data = LocalStorage.getLocalData(ROOTKEY);\r\n            if (data && (data = utils.str2json(data))) {\r\n                utils.extend(data, obj);\r\n            } else {\r\n                data = obj;\r\n            }\r\n            data && LocalStorage.saveLocalData(ROOTKEY, utils.json2str(data));\r\n        };\r\n\r\n        UE.Editor.prototype.getPreferences = function(key) {\r\n            var data = LocalStorage.getLocalData(ROOTKEY);\r\n            if (data && (data = utils.str2json(data))) {\r\n                return key ? data[key] : data\r\n            }\r\n            return null;\r\n        };\r\n\r\n        UE.Editor.prototype.removePreferences = function(key) {\r\n            var data = LocalStorage.getLocalData(ROOTKEY);\r\n            if (data && (data = utils.str2json(data))) {\r\n                data[key] = undefined;\r\n                delete data[key]\r\n            }\r\n            data && LocalStorage.saveLocalData(ROOTKEY, utils.json2str(data));\r\n        };\r\n\r\n    })();\r\n\r\n\r\n    // plugins/defaultfilter.js\r\n    ///import core\r\n    ///plugin 编辑器默认的过滤转换机制\r\n\r\n    UE.plugins['defaultfilter'] = function() {\r\n        var me = this;\r\n        me.setOpt({\r\n            'allowDivTransToP': true,\r\n            'disabledTableInTable': true\r\n        });\r\n        //默认的过滤处理\r\n        //进入编辑器的内容处理\r\n        me.addInputRule(function(root) {\r\n            var allowDivTransToP = this.options.allowDivTransToP;\r\n            var val;\r\n\r\n            function tdParent(node) {\r\n                while (node && node.type == 'element') {\r\n                    if (node.tagName == 'td') {\r\n                        return true;\r\n                    }\r\n                    node = node.parentNode;\r\n                }\r\n                return false;\r\n            }\r\n            //进行默认的处理\r\n            root.traversal(function(node) {\r\n                if (node.type == 'element') {\r\n                    if (!dtd.$cdata[node.tagName] && me.options.autoClearEmptyNode && dtd.$inline[node.tagName] && !dtd.$empty[node.tagName] && (!node.attrs || utils.isEmptyObject(node.attrs))) {\r\n                        if (!node.firstChild()) node.parentNode.removeChild(node);\r\n                        else if (node.tagName == 'span' && (!node.attrs || utils.isEmptyObject(node.attrs))) {\r\n                            node.parentNode.removeChild(node, true)\r\n                        }\r\n                        return;\r\n                    }\r\n                    switch (node.tagName) {\r\n                        case 'style':\r\n                        case 'script':\r\n                            node.setAttr({\r\n                                cdata_tag: node.tagName,\r\n                                cdata_data: (node.innerHTML() || ''),\r\n                                '_ue_custom_node_': 'true'\r\n                            });\r\n                            node.tagName = 'div';\r\n                            node.innerHTML('');\r\n                            break;\r\n                        case 'a':\r\n                            if (val = node.getAttr('href')) {\r\n                                node.setAttr('_href', val)\r\n                            }\r\n                            break;\r\n                        case 'img':\r\n                            //todo base64暂时去掉，后边做远程图片上传后，干掉这个\r\n                            if (val = node.getAttr('src')) {\r\n                                if (/^data:/.test(val)) {\r\n                                    node.parentNode.removeChild(node);\r\n                                    break;\r\n                                }\r\n                            }\r\n                            node.setAttr('_src', node.getAttr('src'));\r\n                            break;\r\n                        case 'span':\r\n                            if (browser.webkit && (val = node.getStyle('white-space'))) {\r\n                                if (/nowrap|normal/.test(val)) {\r\n                                    node.setStyle('white-space', '');\r\n                                    if (me.options.autoClearEmptyNode && utils.isEmptyObject(node.attrs)) {\r\n                                        node.parentNode.removeChild(node, true)\r\n                                    }\r\n                                }\r\n                            }\r\n                            val = node.getAttr('id');\r\n                            if (val && /^_baidu_bookmark_/i.test(val)) {\r\n                                node.parentNode.removeChild(node)\r\n                            }\r\n                            break;\r\n                        case 'p':\r\n                            if (val = node.getAttr('align')) {\r\n                                node.setAttr('align');\r\n                                node.setStyle('text-align', val)\r\n                            }\r\n                            //trace:3431\r\n                            //                        var cssStyle = node.getAttr('style');\r\n                            //                        if (cssStyle) {\r\n                            //                            cssStyle = cssStyle.replace(/(margin|padding)[^;]+/g, '');\r\n                            //                            node.setAttr('style', cssStyle)\r\n                            //\r\n                            //                        }\r\n                            //p标签不允许嵌套\r\n                            utils.each(node.children, function(n) {\r\n                                if (n.type == 'element' && n.tagName == 'p') {\r\n                                    var next = n.nextSibling();\r\n                                    node.parentNode.insertAfter(n, node);\r\n                                    var last = n;\r\n                                    while (next) {\r\n                                        var tmp = next.nextSibling();\r\n                                        node.parentNode.insertAfter(next, last);\r\n                                        last = next;\r\n                                        next = tmp;\r\n                                    }\r\n                                    return false;\r\n                                }\r\n                            });\r\n                            if (!node.firstChild()) {\r\n                                node.innerHTML(browser.ie ? '&nbsp;' : '<br/>')\r\n                            }\r\n                            break;\r\n                        case 'div':\r\n                            if (node.getAttr('cdata_tag')) {\r\n                                break;\r\n                            }\r\n                            //针对代码这里不处理插入代码的div\r\n                            val = node.getAttr('class');\r\n                            if (val && /^line number\\d+/.test(val)) {\r\n                                break;\r\n                            }\r\n                            if (!allowDivTransToP) {\r\n                                break;\r\n                            }\r\n                            var tmpNode, p = UE.uNode.createElement('p');\r\n                            while (tmpNode = node.firstChild()) {\r\n                                if (tmpNode.type == 'text' || !UE.dom.dtd.$block[tmpNode.tagName]) {\r\n                                    p.appendChild(tmpNode);\r\n                                } else {\r\n                                    if (p.firstChild()) {\r\n                                        node.parentNode.insertBefore(p, node);\r\n                                        p = UE.uNode.createElement('p');\r\n                                    } else {\r\n                                        node.parentNode.insertBefore(tmpNode, node);\r\n                                    }\r\n                                }\r\n                            }\r\n                            if (p.firstChild()) {\r\n                                node.parentNode.insertBefore(p, node);\r\n                            }\r\n                            node.parentNode.removeChild(node);\r\n                            break;\r\n                        case 'dl':\r\n                            node.tagName = 'ul';\r\n                            break;\r\n                        case 'dt':\r\n                        case 'dd':\r\n                            node.tagName = 'li';\r\n                            break;\r\n                        case 'li':\r\n                            var className = node.getAttr('class');\r\n                            if (!className || !/list\\-/.test(className)) {\r\n                                node.setAttr()\r\n                            }\r\n                            var tmpNodes = node.getNodesByTagName('ol ul');\r\n                            UE.utils.each(tmpNodes, function(n) {\r\n                                node.parentNode.insertAfter(n, node);\r\n                            });\r\n                            break;\r\n                        case 'td':\r\n                        case 'th':\r\n                        case 'caption':\r\n                            if (!node.children || !node.children.length) {\r\n                                node.appendChild(browser.ie11below ? UE.uNode.createText(' ') : UE.uNode.createElement('br'))\r\n                            }\r\n                            break;\r\n                        case 'table':\r\n                            if (me.options.disabledTableInTable && tdParent(node)) {\r\n                                node.parentNode.insertBefore(UE.uNode.createText(node.innerText()), node);\r\n                                node.parentNode.removeChild(node)\r\n                            }\r\n                    }\r\n\r\n                }\r\n                //            if(node.type == 'comment'){\r\n                //                node.parentNode.removeChild(node);\r\n                //            }\r\n            })\r\n\r\n        });\r\n\r\n        //从编辑器出去的内容处理\r\n        me.addOutputRule(function(root) {\r\n\r\n            var val;\r\n            root.traversal(function(node) {\r\n                if (node.type == 'element') {\r\n\r\n                    if (me.options.autoClearEmptyNode && dtd.$inline[node.tagName] && !dtd.$empty[node.tagName] && (!node.attrs || utils.isEmptyObject(node.attrs))) {\r\n\r\n                        if (!node.firstChild()) node.parentNode.removeChild(node);\r\n                        else if (node.tagName == 'span' && (!node.attrs || utils.isEmptyObject(node.attrs))) {\r\n                            node.parentNode.removeChild(node, true)\r\n                        }\r\n                        return;\r\n                    }\r\n                    switch (node.tagName) {\r\n                        case 'div':\r\n                            if (val = node.getAttr('cdata_tag')) {\r\n                                node.tagName = val;\r\n                                node.appendChild(UE.uNode.createText(node.getAttr('cdata_data')));\r\n                                node.setAttr({ cdata_tag: '', cdata_data: '', '_ue_custom_node_': '' });\r\n                            }\r\n                            break;\r\n                        case 'a':\r\n                            if (val = node.getAttr('_href')) {\r\n                                node.setAttr({\r\n                                    'href': utils.html(val),\r\n                                    '_href': ''\r\n                                })\r\n                            }\r\n                            break;\r\n                            break;\r\n                        case 'span':\r\n                            val = node.getAttr('id');\r\n                            if (val && /^_baidu_bookmark_/i.test(val)) {\r\n                                node.parentNode.removeChild(node)\r\n                            }\r\n                            break;\r\n                        case 'img':\r\n                            if (val = node.getAttr('_src')) {\r\n                                node.setAttr({\r\n                                    'src': node.getAttr('_src'),\r\n                                    '_src': ''\r\n                                })\r\n                            }\r\n\r\n\r\n                    }\r\n                }\r\n\r\n            })\r\n\r\n\r\n        });\r\n    };\r\n\r\n\r\n    // plugins/inserthtml.js\r\n    /**\r\n     * 插入html字符串插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 插入html代码\r\n     * @command inserthtml\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { String } html 插入的html字符串\r\n     * @remaind 插入的标签内容是在当前的选区位置上插入，如果当前是闭合状态，那直接插入内容， 如果当前是选中状态，将先清除当前选中内容后，再做插入\r\n     * @warning 注意:该命令会对当前选区的位置，对插入的内容进行过滤转换处理。 过滤的规则遵循html语意化的原则。\r\n     * @example\r\n     * ```javascript\r\n     * //xxx[BB]xxx 当前选区为非闭合选区，选中BB这两个文本\r\n     * //执行命令，插入<b>CC</b>\r\n     * //插入后的效果 xxx<b>CC</b>xxx\r\n     * //<p>xx|xxx</p> 当前选区为闭合状态\r\n     * //插入<p>CC</p>\r\n     * //结果 <p>xx</p><p>CC</p><p>xxx</p>\r\n     * //<p>xxxx</p>|</p>xxx</p> 当前选区在两个p标签之间\r\n     * //插入 xxxx\r\n     * //结果 <p>xxxx</p><p>xxxx</p></p>xxx</p>\r\n     * ```\r\n     */\r\n\r\n    UE.commands['inserthtml'] = {\r\n        execCommand: function(command, html, notNeedFilter) {\r\n            var me = this,\r\n                range,\r\n                div;\r\n            if (!html) {\r\n                return;\r\n            }\r\n            if (me.fireEvent('beforeinserthtml', html) === true) {\r\n                return;\r\n            }\r\n            range = me.selection.getRange();\r\n            div = range.document.createElement('div');\r\n            div.style.display = 'inline';\r\n\r\n            if (!notNeedFilter) {\r\n                var root = UE.htmlparser(html);\r\n                //如果给了过滤规则就先进行过滤\r\n                if (me.options.filterRules) {\r\n                    UE.filterNode(root, me.options.filterRules);\r\n                }\r\n                //执行默认的处理\r\n                me.filterInputRule(root);\r\n                html = root.toHtml()\r\n            }\r\n            div.innerHTML = utils.trim(html);\r\n\r\n            if (!range.collapsed) {\r\n                var tmpNode = range.startContainer;\r\n                if (domUtils.isFillChar(tmpNode)) {\r\n                    range.setStartBefore(tmpNode)\r\n                }\r\n                tmpNode = range.endContainer;\r\n                if (domUtils.isFillChar(tmpNode)) {\r\n                    range.setEndAfter(tmpNode)\r\n                }\r\n                range.txtToElmBoundary();\r\n                //结束边界可能放到了br的前边，要把br包含进来\r\n                // x[xxx]<br/>\r\n                if (range.endContainer && range.endContainer.nodeType == 1) {\r\n                    tmpNode = range.endContainer.childNodes[range.endOffset];\r\n                    if (tmpNode && domUtils.isBr(tmpNode)) {\r\n                        range.setEndAfter(tmpNode);\r\n                    }\r\n                }\r\n                if (range.startOffset == 0) {\r\n                    tmpNode = range.startContainer;\r\n                    if (domUtils.isBoundaryNode(tmpNode, 'firstChild')) {\r\n                        tmpNode = range.endContainer;\r\n                        if (range.endOffset == (tmpNode.nodeType == 3 ? tmpNode.nodeValue.length : tmpNode.childNodes.length) && domUtils.isBoundaryNode(tmpNode, 'lastChild')) {\r\n                            me.body.innerHTML = '<p>' + (browser.ie ? '' : '<br/>') + '</p>';\r\n                            range.setStart(me.body.firstChild, 0).collapse(true)\r\n\r\n                        }\r\n                    }\r\n                }!range.collapsed && range.deleteContents();\r\n                if (range.startContainer.nodeType == 1) {\r\n                    var child = range.startContainer.childNodes[range.startOffset],\r\n                        pre;\r\n                    if (child && domUtils.isBlockElm(child) && (pre = child.previousSibling) && domUtils.isBlockElm(pre)) {\r\n                        range.setEnd(pre, pre.childNodes.length).collapse();\r\n                        while (child.firstChild) {\r\n                            pre.appendChild(child.firstChild);\r\n                        }\r\n                        domUtils.remove(child);\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n\r\n            var child, parent, pre, tmp, hadBreak = 0,\r\n                nextNode;\r\n            //如果当前位置选中了fillchar要干掉，要不会产生空行\r\n            if (range.inFillChar()) {\r\n                child = range.startContainer;\r\n                if (domUtils.isFillChar(child)) {\r\n                    range.setStartBefore(child).collapse(true);\r\n                    domUtils.remove(child);\r\n                } else if (domUtils.isFillChar(child, true)) {\r\n                    child.nodeValue = child.nodeValue.replace(fillCharReg, '');\r\n                    range.startOffset--;\r\n                    range.collapsed && range.collapse(true)\r\n                }\r\n            }\r\n            //列表单独处理\r\n            var li = domUtils.findParentByTagName(range.startContainer, 'li', true);\r\n            if (li) {\r\n                var next, last;\r\n                while (child = div.firstChild) {\r\n                    //针对hr单独处理一下先\r\n                    while (child && (child.nodeType == 3 || !domUtils.isBlockElm(child) || child.tagName == 'HR')) {\r\n                        next = child.nextSibling;\r\n                        range.insertNode(child).collapse();\r\n                        last = child;\r\n                        child = next;\r\n\r\n                    }\r\n                    if (child) {\r\n                        if (/^(ol|ul)$/i.test(child.tagName)) {\r\n                            while (child.firstChild) {\r\n                                last = child.firstChild;\r\n                                domUtils.insertAfter(li, child.firstChild);\r\n                                li = li.nextSibling;\r\n                            }\r\n                            domUtils.remove(child)\r\n                        } else {\r\n                            var tmpLi;\r\n                            next = child.nextSibling;\r\n                            tmpLi = me.document.createElement('li');\r\n                            domUtils.insertAfter(li, tmpLi);\r\n                            tmpLi.appendChild(child);\r\n                            last = child;\r\n                            child = next;\r\n                            li = tmpLi;\r\n                        }\r\n                    }\r\n                }\r\n                li = domUtils.findParentByTagName(range.startContainer, 'li', true);\r\n                if (domUtils.isEmptyBlock(li)) {\r\n                    domUtils.remove(li)\r\n                }\r\n                if (last) {\r\n\r\n                    range.setStartAfter(last).collapse(true).select(true)\r\n                }\r\n            } else {\r\n                while (child = div.firstChild) {\r\n                    if (hadBreak) {\r\n                        var p = me.document.createElement('p');\r\n                        while (child && (child.nodeType == 3 || !dtd.$block[child.tagName])) {\r\n                            nextNode = child.nextSibling;\r\n                            p.appendChild(child);\r\n                            child = nextNode;\r\n                        }\r\n                        if (p.firstChild) {\r\n\r\n                            child = p\r\n                        }\r\n                    }\r\n                    range.insertNode(child);\r\n                    nextNode = child.nextSibling;\r\n                    if (!hadBreak && child.nodeType == domUtils.NODE_ELEMENT && domUtils.isBlockElm(child)) {\r\n\r\n                        parent = domUtils.findParent(child, function(node) { return domUtils.isBlockElm(node); });\r\n                        if (parent && parent.tagName.toLowerCase() != 'body' && !(dtd[parent.tagName][child.nodeName] && child.parentNode === parent)) {\r\n                            if (!dtd[parent.tagName][child.nodeName]) {\r\n                                pre = parent;\r\n                            } else {\r\n                                tmp = child.parentNode;\r\n                                while (tmp !== parent) {\r\n                                    pre = tmp;\r\n                                    tmp = tmp.parentNode;\r\n\r\n                                }\r\n                            }\r\n\r\n\r\n                            domUtils.breakParent(child, pre || tmp);\r\n                            //去掉break后前一个多余的节点  <p>|<[p> ==> <p></p><div></div><p>|</p>\r\n                            var pre = child.previousSibling;\r\n                            domUtils.trimWhiteTextNode(pre);\r\n                            if (!pre.childNodes.length) {\r\n                                domUtils.remove(pre);\r\n                            }\r\n                            //trace:2012,在非ie的情况，切开后剩下的节点有可能不能点入光标添加br占位\r\n\r\n                            if (!browser.ie &&\r\n                                (next = child.nextSibling) &&\r\n                                domUtils.isBlockElm(next) &&\r\n                                next.lastChild &&\r\n                                !domUtils.isBr(next.lastChild)) {\r\n                                next.appendChild(me.document.createElement('br'));\r\n                            }\r\n                            hadBreak = 1;\r\n                        }\r\n                    }\r\n                    var next = child.nextSibling;\r\n                    if (!div.firstChild && next && domUtils.isBlockElm(next)) {\r\n\r\n                        range.setStart(next, 0).collapse(true);\r\n                        break;\r\n                    }\r\n                    range.setEndAfter(child).collapse();\r\n\r\n                }\r\n\r\n                child = range.startContainer;\r\n\r\n                if (nextNode && domUtils.isBr(nextNode)) {\r\n                    domUtils.remove(nextNode)\r\n                }\r\n                //用chrome可能有空白展位符\r\n                if (domUtils.isBlockElm(child) && domUtils.isEmptyNode(child)) {\r\n                    if (nextNode = child.nextSibling) {\r\n                        domUtils.remove(child);\r\n                        if (nextNode.nodeType == 1 && dtd.$block[nextNode.tagName]) {\r\n\r\n                            range.setStart(nextNode, 0).collapse(true).shrinkBoundary()\r\n                        }\r\n                    } else {\r\n\r\n                        try {\r\n                            child.innerHTML = browser.ie ? domUtils.fillChar : '<br/>';\r\n                        } catch (e) {\r\n                            range.setStartBefore(child);\r\n                            domUtils.remove(child)\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n                //加上true因为在删除表情等时会删两次，第一次是删的fillData\r\n                try {\r\n                    range.select(true);\r\n                } catch (e) {}\r\n\r\n            }\r\n\r\n\r\n\r\n            setTimeout(function() {\r\n                range = me.selection.getRange();\r\n                range.scrollToView(me.autoHeightEnabled, me.autoHeightEnabled ? domUtils.getXY(me.iframe).y : 0);\r\n                me.fireEvent('afterinserthtml', html);\r\n            }, 200);\r\n        }\r\n    };\r\n\r\n\r\n    // plugins/autotypeset.js\r\n    /**\r\n     * 自动排版\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 对当前编辑器的内容执行自动排版， 排版的行为根据config配置文件里的“autotypeset”选项进行控制。\r\n     * @command autotypeset\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'autotypeset' );\r\n     * ```\r\n     */\r\n\r\n    UE.plugins['autotypeset'] = function() {\r\n\r\n        this.setOpt({\r\n            'autotypeset': {\r\n                mergeEmptyline: true, //合并空行\r\n                removeClass: true, //去掉冗余的class\r\n                removeEmptyline: false, //去掉空行\r\n                textAlign: \"left\", //段落的排版方式，可以是 left,right,center,justify 去掉这个属性表示不执行排版\r\n                imageBlockLine: 'center', //图片的浮动方式，独占一行剧中,左右浮动，默认: center,left,right,none 去掉这个属性表示不执行排版\r\n                pasteFilter: false, //根据规则过滤没事粘贴进来的内容\r\n                clearFontSize: false, //去掉所有的内嵌字号，使用编辑器默认的字号\r\n                clearFontFamily: false, //去掉所有的内嵌字体，使用编辑器默认的字体\r\n                removeEmptyNode: false, // 去掉空节点\r\n                //可以去掉的标签\r\n                removeTagNames: utils.extend({ div: 1 }, dtd.$removeEmpty),\r\n                indent: false, // 行首缩进\r\n                indentValue: '2em', //行首缩进的大小\r\n                bdc2sb: false,\r\n                tobdc: false\r\n            }\r\n        });\r\n\r\n        var me = this,\r\n            opt = me.options.autotypeset,\r\n            remainClass = {\r\n                'selectTdClass': 1,\r\n                'pagebreak': 1,\r\n                'anchorclass': 1\r\n            },\r\n            remainTag = {\r\n                'li': 1\r\n            },\r\n            tags = {\r\n                div: 1,\r\n                p: 1,\r\n                //trace:2183 这些也认为是行\r\n                blockquote: 1,\r\n                center: 1,\r\n                h1: 1,\r\n                h2: 1,\r\n                h3: 1,\r\n                h4: 1,\r\n                h5: 1,\r\n                h6: 1,\r\n                span: 1\r\n            },\r\n            highlightCont;\r\n        //升级了版本，但配置项目里没有autotypeset\r\n        if (!opt) {\r\n            return;\r\n        }\r\n\r\n        readLocalOpts();\r\n\r\n        function isLine(node, notEmpty) {\r\n            if (!node || node.nodeType == 3)\r\n                return 0;\r\n            if (domUtils.isBr(node))\r\n                return 1;\r\n            if (node && node.parentNode && tags[node.tagName.toLowerCase()]) {\r\n                if (highlightCont && highlightCont.contains(node) ||\r\n                    node.getAttribute('pagebreak')\r\n                ) {\r\n                    return 0;\r\n                }\r\n\r\n                return notEmpty ? !domUtils.isEmptyBlock(node) : domUtils.isEmptyBlock(node, new RegExp('[\\\\s' + domUtils.fillChar +\r\n                    ']', 'g'));\r\n            }\r\n        }\r\n\r\n        function removeNotAttributeSpan(node) {\r\n            if (!node.style.cssText) {\r\n                domUtils.removeAttributes(node, ['style']);\r\n                if (node.tagName.toLowerCase() == 'span' && domUtils.hasNoAttributes(node)) {\r\n                    domUtils.remove(node, true);\r\n                }\r\n            }\r\n        }\r\n\r\n        function autotype(type, html) {\r\n\r\n            var me = this,\r\n                cont;\r\n            if (html) {\r\n                if (!opt.pasteFilter) {\r\n                    return;\r\n                }\r\n                cont = me.document.createElement('div');\r\n                cont.innerHTML = html.html;\r\n            } else {\r\n                cont = me.document.body;\r\n            }\r\n            var nodes = domUtils.getElementsByTagName(cont, '*');\r\n\r\n            // 行首缩进，段落方向，段间距，段内间距\r\n            for (var i = 0, ci; ci = nodes[i++];) {\r\n\r\n                if (me.fireEvent('excludeNodeinautotype', ci) === true) {\r\n                    continue;\r\n                }\r\n                //font-size\r\n                if (opt.clearFontSize && ci.style.fontSize) {\r\n                    domUtils.removeStyle(ci, 'font-size');\r\n\r\n                    removeNotAttributeSpan(ci);\r\n\r\n                }\r\n                //font-family\r\n                if (opt.clearFontFamily && ci.style.fontFamily) {\r\n                    domUtils.removeStyle(ci, 'font-family');\r\n                    removeNotAttributeSpan(ci);\r\n                }\r\n\r\n                if (isLine(ci)) {\r\n                    //合并空行\r\n                    if (opt.mergeEmptyline) {\r\n                        var next = ci.nextSibling,\r\n                            tmpNode, isBr = domUtils.isBr(ci);\r\n                        while (isLine(next)) {\r\n                            tmpNode = next;\r\n                            next = tmpNode.nextSibling;\r\n                            if (isBr && (!next || next && !domUtils.isBr(next))) {\r\n                                break;\r\n                            }\r\n                            domUtils.remove(tmpNode);\r\n                        }\r\n\r\n                    }\r\n                    //去掉空行，保留占位的空行\r\n                    if (opt.removeEmptyline && domUtils.inDoc(ci, cont) && !remainTag[ci.parentNode.tagName.toLowerCase()]) {\r\n                        if (domUtils.isBr(ci)) {\r\n                            next = ci.nextSibling;\r\n                            if (next && !domUtils.isBr(next)) {\r\n                                continue;\r\n                            }\r\n                        }\r\n                        domUtils.remove(ci);\r\n                        continue;\r\n\r\n                    }\r\n\r\n                }\r\n                if (isLine(ci, true) && ci.tagName != 'SPAN') {\r\n                    if (opt.indent) {\r\n                        ci.style.textIndent = opt.indentValue;\r\n                    }\r\n                    if (opt.textAlign) {\r\n                        ci.style.textAlign = opt.textAlign;\r\n                    }\r\n                    // if(opt.lineHeight)\r\n                    //     ci.style.lineHeight = opt.lineHeight + 'cm';\r\n\r\n                }\r\n\r\n                //去掉class,保留的class不去掉\r\n                if (opt.removeClass && ci.className && !remainClass[ci.className.toLowerCase()]) {\r\n\r\n                    if (highlightCont && highlightCont.contains(ci)) {\r\n                        continue;\r\n                    }\r\n                    domUtils.removeAttributes(ci, ['class']);\r\n                }\r\n\r\n                //表情不处理\r\n                if (opt.imageBlockLine && ci.tagName.toLowerCase() == 'img' && !ci.getAttribute('emotion')) {\r\n                    if (html) {\r\n                        var img = ci;\r\n                        switch (opt.imageBlockLine) {\r\n                            case 'left':\r\n                            case 'right':\r\n                            case 'none':\r\n                                var pN = img.parentNode,\r\n                                    tmpNode, pre, next;\r\n                                while (dtd.$inline[pN.tagName] || pN.tagName == 'A') {\r\n                                    pN = pN.parentNode;\r\n                                }\r\n                                tmpNode = pN;\r\n                                if (tmpNode.tagName == 'P' && domUtils.getStyle(tmpNode, 'text-align') == 'center') {\r\n                                    if (!domUtils.isBody(tmpNode) && domUtils.getChildCount(tmpNode, function(node) { return !domUtils.isBr(node) && !domUtils.isWhitespace(node) }) == 1) {\r\n                                        pre = tmpNode.previousSibling;\r\n                                        next = tmpNode.nextSibling;\r\n                                        if (pre && next && pre.nodeType == 1 && next.nodeType == 1 && pre.tagName == next.tagName && domUtils.isBlockElm(pre)) {\r\n                                            pre.appendChild(tmpNode.firstChild);\r\n                                            while (next.firstChild) {\r\n                                                pre.appendChild(next.firstChild);\r\n                                            }\r\n                                            domUtils.remove(tmpNode);\r\n                                            domUtils.remove(next);\r\n                                        } else {\r\n                                            domUtils.setStyle(tmpNode, 'text-align', '');\r\n                                        }\r\n\r\n\r\n                                    }\r\n\r\n\r\n                                }\r\n                                domUtils.setStyle(img, 'float', opt.imageBlockLine);\r\n                                break;\r\n                            case 'center':\r\n                                if (me.queryCommandValue('imagefloat') != 'center') {\r\n                                    pN = img.parentNode;\r\n                                    domUtils.setStyle(img, 'float', 'none');\r\n                                    tmpNode = img;\r\n                                    while (pN && domUtils.getChildCount(pN, function(node) { return !domUtils.isBr(node) && !domUtils.isWhitespace(node) }) == 1 &&\r\n                                        (dtd.$inline[pN.tagName] || pN.tagName == 'A')) {\r\n                                        tmpNode = pN;\r\n                                        pN = pN.parentNode;\r\n                                    }\r\n                                    var pNode = me.document.createElement('p');\r\n                                    domUtils.setAttributes(pNode, {\r\n\r\n                                        style: 'text-align:center'\r\n                                    });\r\n                                    tmpNode.parentNode.insertBefore(pNode, tmpNode);\r\n                                    pNode.appendChild(tmpNode);\r\n                                    domUtils.setStyle(tmpNode, 'float', '');\r\n\r\n                                }\r\n\r\n\r\n                        }\r\n                    } else {\r\n                        var range = me.selection.getRange();\r\n                        range.selectNode(ci).select();\r\n                        me.execCommand('imagefloat', opt.imageBlockLine);\r\n                    }\r\n\r\n                }\r\n\r\n                //去掉冗余的标签\r\n                if (opt.removeEmptyNode) {\r\n                    if (opt.removeTagNames[ci.tagName.toLowerCase()] && domUtils.hasNoAttributes(ci) && domUtils.isEmptyBlock(ci)) {\r\n                        domUtils.remove(ci);\r\n                    }\r\n                }\r\n            }\r\n            if (opt.tobdc) {\r\n                var root = UE.htmlparser(cont.innerHTML);\r\n                root.traversal(function(node) {\r\n                    if (node.type == 'text') {\r\n                        node.data = ToDBC(node.data)\r\n                    }\r\n                });\r\n                cont.innerHTML = root.toHtml()\r\n            }\r\n            if (opt.bdc2sb) {\r\n                var root = UE.htmlparser(cont.innerHTML);\r\n                root.traversal(function(node) {\r\n                    if (node.type == 'text') {\r\n                        node.data = DBC2SB(node.data)\r\n                    }\r\n                });\r\n                cont.innerHTML = root.toHtml()\r\n            }\r\n            if (html) {\r\n                html.html = cont.innerHTML;\r\n            }\r\n        }\r\n        if (opt.pasteFilter) {\r\n            me.addListener('beforepaste', autotype);\r\n        }\r\n\r\n        function DBC2SB(str) {\r\n            var result = '';\r\n            for (var i = 0; i < str.length; i++) {\r\n                var code = str.charCodeAt(i); //获取当前字符的unicode编码\r\n                if (code >= 65281 && code <= 65373) //在这个unicode编码范围中的是所有的英文字母已经各种字符\r\n                {\r\n                    result += String.fromCharCode(str.charCodeAt(i) - 65248); //把全角字符的unicode编码转换为对应半角字符的unicode码\r\n                } else if (code == 12288) //空格\r\n                {\r\n                    result += String.fromCharCode(str.charCodeAt(i) - 12288 + 32);\r\n                } else {\r\n                    result += str.charAt(i);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n\r\n        function ToDBC(txtstring) {\r\n            txtstring = utils.html(txtstring);\r\n            var tmp = \"\";\r\n            var mark = \"\"; /*用于判断,如果是html尖括里的标记,则不进行全角的转换*/\r\n            for (var i = 0; i < txtstring.length; i++) {\r\n                if (txtstring.charCodeAt(i) == 32) {\r\n                    tmp = tmp + String.fromCharCode(12288);\r\n                } else if (txtstring.charCodeAt(i) < 127) {\r\n                    tmp = tmp + String.fromCharCode(txtstring.charCodeAt(i) + 65248);\r\n                } else {\r\n                    tmp += txtstring.charAt(i);\r\n                }\r\n            }\r\n            return tmp;\r\n        }\r\n\r\n        function readLocalOpts() {\r\n            var cookieOpt = me.getPreferences('autotypeset');\r\n            utils.extend(me.options.autotypeset, cookieOpt);\r\n        }\r\n\r\n        me.commands['autotypeset'] = {\r\n            execCommand: function() {\r\n                me.removeListener('beforepaste', autotype);\r\n                if (opt.pasteFilter) {\r\n                    me.addListener('beforepaste', autotype);\r\n                }\r\n                autotype.call(me)\r\n            }\r\n\r\n        };\r\n\r\n    };\r\n\r\n\r\n\r\n    // plugins/autosubmit.js\r\n    /**\r\n     * 快捷键提交\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 提交表单\r\n     * @command autosubmit\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'autosubmit' );\r\n     * ```\r\n     */\r\n\r\n    UE.plugin.register('autosubmit', function() {\r\n        return {\r\n            shortcutkey: {\r\n                \"autosubmit\": \"ctrl+13\" //手动提交\r\n            },\r\n            commands: {\r\n                'autosubmit': {\r\n                    execCommand: function() {\r\n                        var me = this,\r\n                            form = domUtils.findParentByTagName(me.iframe, \"form\", false);\r\n                        if (form) {\r\n                            if (me.fireEvent(\"beforesubmit\") === false) {\r\n                                return;\r\n                            }\r\n                            me.sync();\r\n                            form.submit();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    // plugins/background.js\r\n    /**\r\n     * 背景插件，为UEditor提供设置背景功能\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n    UE.plugin.register('background', function() {\r\n        var me = this,\r\n            cssRuleId = 'editor_background',\r\n            isSetColored,\r\n            reg = new RegExp('body[\\\\s]*\\\\{(.+)\\\\}', 'i');\r\n\r\n        function stringToObj(str) {\r\n            var obj = {},\r\n                styles = str.split(';');\r\n            utils.each(styles, function(v) {\r\n                var index = v.indexOf(':'),\r\n                    key = utils.trim(v.substr(0, index)).toLowerCase();\r\n                key && (obj[key] = utils.trim(v.substr(index + 1) || ''));\r\n            });\r\n            return obj;\r\n        }\r\n\r\n        function setBackground(obj) {\r\n            if (obj) {\r\n                var styles = [];\r\n                for (var name in obj) {\r\n                    if (obj.hasOwnProperty(name)) {\r\n                        styles.push(name + \":\" + obj[name] + '; ');\r\n                    }\r\n                }\r\n                utils.cssRule(cssRuleId, styles.length ? ('body{' + styles.join(\"\") + '}') : '', me.document);\r\n            } else {\r\n                utils.cssRule(cssRuleId, '', me.document)\r\n            }\r\n        }\r\n        //重写editor.hasContent方法\r\n\r\n        var orgFn = me.hasContents;\r\n        me.hasContents = function() {\r\n            if (me.queryCommandValue('background')) {\r\n                return true\r\n            }\r\n            return orgFn.apply(me, arguments);\r\n        };\r\n        return {\r\n            bindEvents: {\r\n                'getAllHtml': function(type, headHtml) {\r\n                    var body = this.body,\r\n                        su = domUtils.getComputedStyle(body, \"background-image\"),\r\n                        url = \"\";\r\n                    if (su.indexOf(me.options.imagePath) > 0) {\r\n                        url = su.substring(su.indexOf(me.options.imagePath), su.length - 1).replace(/\"|\\(|\\)/ig, \"\");\r\n                    } else {\r\n                        url = su != \"none\" ? su.replace(/url\\(\"?|\"?\\)/ig, \"\") : \"\";\r\n                    }\r\n                    var html = '<style type=\"text/css\">body{';\r\n                    var bgObj = {\r\n                        \"background-color\": domUtils.getComputedStyle(body, \"background-color\") || \"#ffffff\",\r\n                        'background-image': url ? 'url(' + url + ')' : '',\r\n                        'background-repeat': domUtils.getComputedStyle(body, \"background-repeat\") || \"\",\r\n                        'background-position': browser.ie ? (domUtils.getComputedStyle(body, \"background-position-x\") + \" \" + domUtils.getComputedStyle(body, \"background-position-y\")) : domUtils.getComputedStyle(body, \"background-position\"),\r\n                        'height': domUtils.getComputedStyle(body, \"height\")\r\n                    };\r\n                    for (var name in bgObj) {\r\n                        if (bgObj.hasOwnProperty(name)) {\r\n                            html += name + \":\" + bgObj[name] + \"; \";\r\n                        }\r\n                    }\r\n                    html += '}</style> ';\r\n                    headHtml.push(html);\r\n                },\r\n                'aftersetcontent': function() {\r\n                    if (isSetColored == false) setBackground();\r\n                }\r\n            },\r\n            inputRule: function(root) {\r\n                isSetColored = false;\r\n                utils.each(root.getNodesByTagName('p'), function(p) {\r\n                    var styles = p.getAttr('data-background');\r\n                    if (styles) {\r\n                        isSetColored = true;\r\n                        setBackground(stringToObj(styles));\r\n                        p.parentNode.removeChild(p);\r\n                    }\r\n                })\r\n            },\r\n            outputRule: function(root) {\r\n                var me = this,\r\n                    styles = (utils.cssRule(cssRuleId, me.document) || '').replace(/[\\n\\r]+/g, '').match(reg);\r\n                if (styles) {\r\n                    root.appendChild(UE.uNode.createElement('<p style=\"display:none;\" data-background=\"' + utils.trim(styles[1].replace(/\"/g, '').replace(/[\\s]+/g, ' ')) + '\"><br/></p>'));\r\n                }\r\n            },\r\n            commands: {\r\n                'background': {\r\n                    execCommand: function(cmd, obj) {\r\n                        setBackground(obj);\r\n                    },\r\n                    queryCommandValue: function() {\r\n                        var me = this,\r\n                            styles = (utils.cssRule(cssRuleId, me.document) || '').replace(/[\\n\\r]+/g, '').match(reg);\r\n                        return styles ? stringToObj(styles[1]) : null;\r\n                    },\r\n                    notNeedUndo: true\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    // plugins/image.js\r\n    /**\r\n     * 图片插入、排版插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 图片对齐方式\r\n     * @command imagefloat\r\n     * @method execCommand\r\n     * @remind 值center为独占一行居中\r\n     * @param { String } cmd 命令字符串\r\n     * @param { String } align 对齐方式，可传left、right、none、center\r\n     * @remaind center表示图片独占一行\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'imagefloat', 'center' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 如果选区所在位置是图片区域\r\n     * @command imagefloat\r\n     * @method queryCommandValue\r\n     * @param { String } cmd 命令字符串\r\n     * @return { String } 返回图片对齐方式\r\n     * @example\r\n     * ```javascript\r\n     * editor.queryCommandValue( 'imagefloat' );\r\n     * ```\r\n     */\r\n\r\n    UE.commands['imagefloat'] = {\r\n        execCommand: function(cmd, align) {\r\n            var me = this,\r\n                range = me.selection.getRange();\r\n            if (!range.collapsed) {\r\n                var img = range.getClosedNode();\r\n                if (img && img.tagName == 'IMG') {\r\n                    switch (align) {\r\n                        case 'left':\r\n                        case 'right':\r\n                        case 'none':\r\n                            var pN = img.parentNode,\r\n                                tmpNode, pre, next;\r\n                            while (dtd.$inline[pN.tagName] || pN.tagName == 'A') {\r\n                                pN = pN.parentNode;\r\n                            }\r\n                            tmpNode = pN;\r\n                            if (tmpNode.tagName == 'P' && domUtils.getStyle(tmpNode, 'text-align') == 'center') {\r\n                                if (!domUtils.isBody(tmpNode) && domUtils.getChildCount(tmpNode, function(node) {\r\n                                        return !domUtils.isBr(node) && !domUtils.isWhitespace(node);\r\n                                    }) == 1) {\r\n                                    pre = tmpNode.previousSibling;\r\n                                    next = tmpNode.nextSibling;\r\n                                    if (pre && next && pre.nodeType == 1 && next.nodeType == 1 && pre.tagName == next.tagName && domUtils.isBlockElm(pre)) {\r\n                                        pre.appendChild(tmpNode.firstChild);\r\n                                        while (next.firstChild) {\r\n                                            pre.appendChild(next.firstChild);\r\n                                        }\r\n                                        domUtils.remove(tmpNode);\r\n                                        domUtils.remove(next);\r\n                                    } else {\r\n                                        domUtils.setStyle(tmpNode, 'text-align', '');\r\n                                    }\r\n\r\n\r\n                                }\r\n\r\n                                range.selectNode(img).select();\r\n                            }\r\n                            domUtils.setStyle(img, 'float', align == 'none' ? '' : align);\r\n                            if (align == 'none') {\r\n                                domUtils.removeAttributes(img, 'align');\r\n                            }\r\n\r\n                            break;\r\n                        case 'center':\r\n                            if (me.queryCommandValue('imagefloat') != 'center') {\r\n                                pN = img.parentNode;\r\n                                domUtils.setStyle(img, 'float', '');\r\n                                domUtils.removeAttributes(img, 'align');\r\n                                tmpNode = img;\r\n                                while (pN && domUtils.getChildCount(pN, function(node) {\r\n                                        return !domUtils.isBr(node) && !domUtils.isWhitespace(node);\r\n                                    }) == 1 &&\r\n                                    (dtd.$inline[pN.tagName] || pN.tagName == 'A')) {\r\n                                    tmpNode = pN;\r\n                                    pN = pN.parentNode;\r\n                                }\r\n                                range.setStartBefore(tmpNode).setCursor(false);\r\n                                pN = me.document.createElement('div');\r\n                                pN.appendChild(tmpNode);\r\n                                domUtils.setStyle(tmpNode, 'float', '');\r\n\r\n                                me.execCommand('insertHtml', '<p id=\"_img_parent_tmp\" style=\"text-align:center\">' + pN.innerHTML + '</p>');\r\n\r\n                                tmpNode = me.document.getElementById('_img_parent_tmp');\r\n                                tmpNode.removeAttribute('id');\r\n                                tmpNode = tmpNode.firstChild;\r\n                                range.selectNode(tmpNode).select();\r\n                                //去掉后边多余的元素\r\n                                next = tmpNode.parentNode.nextSibling;\r\n                                if (next && domUtils.isEmptyNode(next)) {\r\n                                    domUtils.remove(next);\r\n                                }\r\n\r\n                            }\r\n\r\n                            break;\r\n                    }\r\n\r\n                }\r\n            }\r\n        },\r\n        queryCommandValue: function() {\r\n            var range = this.selection.getRange(),\r\n                startNode, floatStyle;\r\n            if (range.collapsed) {\r\n                return 'none';\r\n            }\r\n            startNode = range.getClosedNode();\r\n            if (startNode && startNode.nodeType == 1 && startNode.tagName == 'IMG') {\r\n                floatStyle = domUtils.getComputedStyle(startNode, 'float') || startNode.getAttribute('align');\r\n\r\n                if (floatStyle == 'none') {\r\n                    floatStyle = domUtils.getComputedStyle(startNode.parentNode, 'text-align') == 'center' ? 'center' : floatStyle;\r\n                }\r\n                return {\r\n                    left: 1,\r\n                    right: 1,\r\n                    center: 1\r\n                }[floatStyle] ? floatStyle: 'none';\r\n            }\r\n            return 'none';\r\n\r\n\r\n        },\r\n        queryCommandState: function() {\r\n            var range = this.selection.getRange(),\r\n                startNode;\r\n\r\n            if (range.collapsed) return -1;\r\n\r\n            startNode = range.getClosedNode();\r\n            if (startNode && startNode.nodeType == 1 && startNode.tagName == 'IMG') {\r\n                return 0;\r\n            }\r\n            return -1;\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * 插入图片\r\n     * @command insertimage\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { Object } opt 属性键值对，这些属性都将被复制到当前插入图片\r\n     * @remind 该命令第二个参数可接受一个图片配置项对象的数组，可以插入多张图片，\r\n     * 此时数组的每一个元素都是一个Object类型的图片属性集合。\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'insertimage', {\r\n     *     src:'a/b/c.jpg',\r\n     *     width:'100',\r\n     *     height:'100'\r\n     * } );\r\n     * ```\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'insertimage', [{\r\n     *     src:'a/b/c.jpg',\r\n     *     width:'100',\r\n     *     height:'100'\r\n     * },{\r\n     *     src:'a/b/d.jpg',\r\n     *     width:'100',\r\n     *     height:'100'\r\n     * }] );\r\n     * ```\r\n     */\r\n\r\n    UE.commands['insertimage'] = {\r\n        execCommand: function(cmd, opt) {\r\n\r\n            opt = utils.isArray(opt) ? opt : [opt];\r\n            if (!opt.length) {\r\n                return;\r\n            }\r\n            var me = this,\r\n                range = me.selection.getRange(),\r\n                img = range.getClosedNode();\r\n\r\n            if (me.fireEvent('beforeinsertimage', opt) === true) {\r\n                return;\r\n            }\r\n\r\n            function unhtmlData(imgCi) {\r\n\r\n                utils.each('width,height,border,hspace,vspace'.split(','), function(item) {\r\n\r\n                    if (imgCi[item]) {\r\n                        imgCi[item] = parseInt(imgCi[item], 10) || 0;\r\n                    }\r\n                });\r\n\r\n                utils.each('src,_src'.split(','), function(item) {\r\n\r\n                    if (imgCi[item]) {\r\n                        imgCi[item] = utils.unhtmlForUrl(imgCi[item]);\r\n                    }\r\n                });\r\n                utils.each('title,alt'.split(','), function(item) {\r\n\r\n                    if (imgCi[item]) {\r\n                        imgCi[item] = utils.unhtml(imgCi[item]);\r\n                    }\r\n                });\r\n            }\r\n\r\n            if (img && /img/i.test(img.tagName) && (img.className != \"edui-faked-video\" || img.className.indexOf(\"edui-upload-video\") != -1) && !img.getAttribute(\"word_img\")) {\r\n                var first = opt.shift();\r\n                var floatStyle = first['floatStyle'];\r\n                delete first['floatStyle'];\r\n                ////                img.style.border = (first.border||0) +\"px solid #000\";\r\n                ////                img.style.margin = (first.margin||0) +\"px\";\r\n                //                img.style.cssText += ';margin:' + (first.margin||0) +\"px;\" + 'border:' + (first.border||0) +\"px solid #000\";\r\n                domUtils.setAttributes(img, first);\r\n                me.execCommand('imagefloat', floatStyle);\r\n                if (opt.length > 0) {\r\n                    range.setStartAfter(img).setCursor(false, true);\r\n                    me.execCommand('insertimage', opt);\r\n                }\r\n\r\n            } else {\r\n                var html = [],\r\n                    str = '',\r\n                    ci;\r\n                ci = opt[0];\r\n                if (opt.length == 1) {\r\n                    unhtmlData(ci);\r\n\r\n                    str = '<img src=\"' + ci.src + '\" ' + (ci._src ? ' _src=\"' + ci._src + '\" ' : '') +\r\n                        (ci.width ? 'width=\"' + ci.width + '\" ' : '') +\r\n                        (ci.height ? ' height=\"' + ci.height + '\" ' : '') +\r\n                        (ci['floatStyle'] == 'left' || ci['floatStyle'] == 'right' ? ' style=\"float:' + ci['floatStyle'] + ';\"' : '') +\r\n                        (ci.title && ci.title != \"\" ? ' title=\"' + ci.title + '\"' : '') +\r\n                        (ci.border && ci.border != \"0\" ? ' border=\"' + ci.border + '\"' : '') +\r\n                        (ci.alt && ci.alt != \"\" ? ' alt=\"' + ci.alt + '\"' : '') +\r\n                        (ci.hspace && ci.hspace != \"0\" ? ' hspace = \"' + ci.hspace + '\"' : '') +\r\n                        (ci.vspace && ci.vspace != \"0\" ? ' vspace = \"' + ci.vspace + '\"' : '') + '/>';\r\n                    if (ci['floatStyle'] == 'center') {\r\n                        str = '<p style=\"text-align: center\">' + str + '</p>';\r\n                    }\r\n                    html.push(str);\r\n\r\n                } else {\r\n                    for (var i = 0; ci = opt[i++];) {\r\n                        unhtmlData(ci);\r\n                        str = '<p ' + (ci['floatStyle'] == 'center' ? 'style=\"text-align: center\" ' : '') + '><img src=\"' + ci.src + '\" ' +\r\n                            (ci.width ? 'width=\"' + ci.width + '\" ' : '') + (ci._src ? ' _src=\"' + ci._src + '\" ' : '') +\r\n                            (ci.height ? ' height=\"' + ci.height + '\" ' : '') +\r\n                            ' style=\"' + (ci['floatStyle'] && ci['floatStyle'] != 'center' ? 'float:' + ci['floatStyle'] + ';' : '') +\r\n                            (ci.border || '') + '\" ' +\r\n                            (ci.title ? ' title=\"' + ci.title + '\"' : '') + ' /></p>';\r\n                        html.push(str);\r\n                    }\r\n                }\r\n\r\n                me.execCommand('insertHtml', html.join(''));\r\n            }\r\n\r\n            me.fireEvent('afterinsertimage', opt)\r\n        }\r\n    };\r\n\r\n\r\n    // plugins/justify.js\r\n    /**\r\n     * 段落格式\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 段落对齐方式\r\n     * @command justify\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { String } align 对齐方式：left => 居左，right => 居右，center => 居中，justify => 两端对齐\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'justify', 'center' );\r\n     * ```\r\n     */\r\n    /**\r\n     * 如果选区所在位置是段落区域，返回当前段落对齐方式\r\n     * @command justify\r\n     * @method queryCommandValue\r\n     * @param { String } cmd 命令字符串\r\n     * @return { String } 返回段落对齐方式\r\n     * @example\r\n     * ```javascript\r\n     * editor.queryCommandValue( 'justify' );\r\n     * ```\r\n     */\r\n\r\n    UE.plugins['justify'] = function() {\r\n        var me = this,\r\n            block = domUtils.isBlockElm,\r\n            defaultValue = {\r\n                left: 1,\r\n                right: 1,\r\n                center: 1,\r\n                justify: 1\r\n            },\r\n            doJustify = function(range, style) {\r\n                var bookmark = range.createBookmark(),\r\n                    filterFn = function(node) {\r\n                        return node.nodeType == 1 ? node.tagName.toLowerCase() != 'br' && !domUtils.isBookmarkNode(node) : !domUtils.isWhitespace(node);\r\n                    };\r\n\r\n                range.enlarge(true);\r\n                var bookmark2 = range.createBookmark(),\r\n                    current = domUtils.getNextDomNode(bookmark2.start, false, filterFn),\r\n                    tmpRange = range.cloneRange(),\r\n                    tmpNode;\r\n                while (current && !(domUtils.getPosition(current, bookmark2.end) & domUtils.POSITION_FOLLOWING)) {\r\n                    if (current.nodeType == 3 || !block(current)) {\r\n                        tmpRange.setStartBefore(current);\r\n                        while (current && current !== bookmark2.end && !block(current)) {\r\n                            tmpNode = current;\r\n                            current = domUtils.getNextDomNode(current, false, null, function(node) {\r\n                                return !block(node);\r\n                            });\r\n                        }\r\n                        tmpRange.setEndAfter(tmpNode);\r\n                        var common = tmpRange.getCommonAncestor();\r\n                        if (!domUtils.isBody(common) && block(common)) {\r\n                            domUtils.setStyles(common, utils.isString(style) ? { 'text-align': style } : style);\r\n                            current = common;\r\n                        } else {\r\n                            var p = range.document.createElement('p');\r\n                            domUtils.setStyles(p, utils.isString(style) ? { 'text-align': style } : style);\r\n                            var frag = tmpRange.extractContents();\r\n                            p.appendChild(frag);\r\n                            tmpRange.insertNode(p);\r\n                            current = p;\r\n                        }\r\n                        current = domUtils.getNextDomNode(current, false, filterFn);\r\n                    } else {\r\n                        current = domUtils.getNextDomNode(current, true, filterFn);\r\n                    }\r\n                }\r\n                return range.moveToBookmark(bookmark2).moveToBookmark(bookmark);\r\n            };\r\n\r\n        UE.commands['justify'] = {\r\n            execCommand: function(cmdName, align) {\r\n                var range = this.selection.getRange(),\r\n                    txt;\r\n\r\n                //闭合时单独处理\r\n                if (range.collapsed) {\r\n                    txt = this.document.createTextNode('p');\r\n                    range.insertNode(txt);\r\n                }\r\n                doJustify(range, align);\r\n                if (txt) {\r\n                    range.setStartBefore(txt).collapse(true);\r\n                    domUtils.remove(txt);\r\n                }\r\n\r\n                range.select();\r\n\r\n\r\n                return true;\r\n            },\r\n            queryCommandValue: function() {\r\n                var startNode = this.selection.getStart(),\r\n                    value = domUtils.getComputedStyle(startNode, 'text-align');\r\n                return defaultValue[value] ? value : 'left';\r\n            },\r\n            queryCommandState: function() {\r\n                var start = this.selection.getStart(),\r\n                    cell = start && domUtils.findParentByTagName(start, [\"td\", \"th\", \"caption\"], true);\r\n\r\n                return cell ? -1 : 0;\r\n            }\r\n\r\n        };\r\n    };\r\n\r\n\r\n    // plugins/font.js\r\n    /**\r\n     * 字体颜色,背景色,字号,字体,下划线,删除线\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 字体颜色\r\n     * @command forecolor\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { String } value 色值(必须十六进制)\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'forecolor', '#000' );\r\n     * ```\r\n     */\r\n    /**\r\n     * 返回选区字体颜色\r\n     * @command forecolor\r\n     * @method queryCommandValue\r\n     * @param { String } cmd 命令字符串\r\n     * @return { String } 返回字体颜色\r\n     * @example\r\n     * ```javascript\r\n     * editor.queryCommandValue( 'forecolor' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 字体背景颜色\r\n     * @command backcolor\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { String } value 色值(必须十六进制)\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'backcolor', '#000' );\r\n     * ```\r\n     */\r\n    /**\r\n     * 返回选区字体颜色\r\n     * @command backcolor\r\n     * @method queryCommandValue\r\n     * @param { String } cmd 命令字符串\r\n     * @return { String } 返回字体背景颜色\r\n     * @example\r\n     * ```javascript\r\n     * editor.queryCommandValue( 'backcolor' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 字体大小\r\n     * @command fontsize\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { String } value 字体大小\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'fontsize', '14px' );\r\n     * ```\r\n     */\r\n    /**\r\n     * 返回选区字体大小\r\n     * @command fontsize\r\n     * @method queryCommandValue\r\n     * @param { String } cmd 命令字符串\r\n     * @return { String } 返回字体大小\r\n     * @example\r\n     * ```javascript\r\n     * editor.queryCommandValue( 'fontsize' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 字体样式\r\n     * @command fontfamily\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { String } value 字体样式\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'fontfamily', '微软雅黑' );\r\n     * ```\r\n     */\r\n    /**\r\n     * 返回选区字体样式\r\n     * @command fontfamily\r\n     * @method queryCommandValue\r\n     * @param { String } cmd 命令字符串\r\n     * @return { String } 返回字体样式\r\n     * @example\r\n     * ```javascript\r\n     * editor.queryCommandValue( 'fontfamily' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 字体下划线,与删除线互斥\r\n     * @command underline\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'underline' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 字体删除线,与下划线互斥\r\n     * @command strikethrough\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'strikethrough' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 字体边框\r\n     * @command fontborder\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'fontborder' );\r\n     * ```\r\n     */\r\n\r\n    UE.plugins['font'] = function() {\r\n        var me = this,\r\n            fonts = {\r\n                'forecolor': 'color',\r\n                'backcolor': 'background-color',\r\n                'fontsize': 'font-size',\r\n                'fontfamily': 'font-family',\r\n                'underline': 'text-decoration',\r\n                'strikethrough': 'text-decoration',\r\n                'fontborder': 'border'\r\n            },\r\n            needCmd = { 'underline': 1, 'strikethrough': 1, 'fontborder': 1 },\r\n            needSetChild = {\r\n                'forecolor': 'color',\r\n                'backcolor': 'background-color',\r\n                'fontsize': 'font-size',\r\n                'fontfamily': 'font-family'\r\n\r\n            };\r\n        me.setOpt({\r\n            'fontfamily': [\r\n                { name: 'songti', val: '宋体,SimSun' },\r\n                { name: 'yahei', val: '微软雅黑,Microsoft YaHei' },\r\n                { name: 'kaiti', val: '楷体,楷体_GB2312, SimKai' },\r\n                { name: 'heiti', val: '黑体, SimHei' },\r\n                { name: 'lishu', val: '隶书, SimLi' },\r\n                { name: 'andaleMono', val: 'andale mono' },\r\n                { name: 'arial', val: 'arial, helvetica,sans-serif' },\r\n                { name: 'arialBlack', val: 'arial black,avant garde' },\r\n                { name: 'comicSansMs', val: 'comic sans ms' },\r\n                { name: 'impact', val: 'impact,chicago' },\r\n                { name: 'timesNewRoman', val: 'times new roman' }\r\n            ],\r\n            'fontsize': [10, 11, 12, 14, 16, 18, 20, 24, 36]\r\n        });\r\n\r\n        function mergeWithParent(node) {\r\n            var parent;\r\n            while (parent = node.parentNode) {\r\n                if (parent.tagName == 'SPAN' && domUtils.getChildCount(parent, function(child) {\r\n                        return !domUtils.isBookmarkNode(child) && !domUtils.isBr(child)\r\n                    }) == 1) {\r\n                    parent.style.cssText += node.style.cssText;\r\n                    domUtils.remove(node, true);\r\n                    node = parent;\r\n\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        function mergeChild(rng, cmdName, value) {\r\n            if (needSetChild[cmdName]) {\r\n                rng.adjustmentBoundary();\r\n                if (!rng.collapsed && rng.startContainer.nodeType == 1) {\r\n                    var start = rng.startContainer.childNodes[rng.startOffset];\r\n                    if (start && domUtils.isTagNode(start, 'span')) {\r\n                        var bk = rng.createBookmark();\r\n                        utils.each(domUtils.getElementsByTagName(start, 'span'), function(span) {\r\n                            if (!span.parentNode || domUtils.isBookmarkNode(span)) return;\r\n                            if (cmdName == 'backcolor' && domUtils.getComputedStyle(span, 'background-color').toLowerCase() === value) {\r\n                                return;\r\n                            }\r\n                            domUtils.removeStyle(span, needSetChild[cmdName]);\r\n                            if (span.style.cssText.replace(/^\\s+$/, '').length == 0) {\r\n                                domUtils.remove(span, true)\r\n                            }\r\n                        });\r\n                        rng.moveToBookmark(bk)\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        function mergesibling(rng, cmdName, value) {\r\n            var collapsed = rng.collapsed,\r\n                bk = rng.createBookmark(),\r\n                common;\r\n            if (collapsed) {\r\n                common = bk.start.parentNode;\r\n                while (dtd.$inline[common.tagName]) {\r\n                    common = common.parentNode;\r\n                }\r\n            } else {\r\n                common = domUtils.getCommonAncestor(bk.start, bk.end);\r\n            }\r\n            utils.each(domUtils.getElementsByTagName(common, 'span'), function(span) {\r\n                if (!span.parentNode || domUtils.isBookmarkNode(span)) return;\r\n                if (/\\s*border\\s*:\\s*none;?\\s*/i.test(span.style.cssText)) {\r\n                    if (/^\\s*border\\s*:\\s*none;?\\s*$/.test(span.style.cssText)) {\r\n                        domUtils.remove(span, true);\r\n                    } else {\r\n                        domUtils.removeStyle(span, 'border');\r\n                    }\r\n                    return\r\n                }\r\n                if (/border/i.test(span.style.cssText) && span.parentNode.tagName == 'SPAN' && /border/i.test(span.parentNode.style.cssText)) {\r\n                    span.style.cssText = span.style.cssText.replace(/border[^:]*:[^;]+;?/gi, '');\r\n                }\r\n                if (!(cmdName == 'fontborder' && value == 'none')) {\r\n                    var next = span.nextSibling;\r\n                    while (next && next.nodeType == 1 && next.tagName == 'SPAN') {\r\n                        if (domUtils.isBookmarkNode(next) && cmdName == 'fontborder') {\r\n                            span.appendChild(next);\r\n                            next = span.nextSibling;\r\n                            continue;\r\n                        }\r\n                        if (next.style.cssText == span.style.cssText) {\r\n                            domUtils.moveChild(next, span);\r\n                            domUtils.remove(next);\r\n                        }\r\n                        if (span.nextSibling === next)\r\n                            break;\r\n                        next = span.nextSibling;\r\n                    }\r\n                }\r\n\r\n\r\n                mergeWithParent(span);\r\n                if (browser.ie && browser.version > 8) {\r\n                    //拷贝父亲们的特别的属性,这里只做背景颜色的处理\r\n                    var parent = domUtils.findParent(span, function(n) { return n.tagName == 'SPAN' && /background-color/.test(n.style.cssText) });\r\n                    if (parent && !/background-color/.test(span.style.cssText)) {\r\n                        span.style.backgroundColor = parent.style.backgroundColor;\r\n                    }\r\n                }\r\n\r\n            });\r\n            rng.moveToBookmark(bk);\r\n            mergeChild(rng, cmdName, value)\r\n        }\r\n\r\n        me.addInputRule(function(root) {\r\n            utils.each(root.getNodesByTagName('u s del font strike'), function(node) {\r\n                if (node.tagName == 'font') {\r\n                    var cssStyle = [];\r\n                    for (var p in node.attrs) {\r\n                        switch (p) {\r\n                            case 'size':\r\n                                cssStyle.push('font-size:' +\r\n                                    ({\r\n                                        '1': '10',\r\n                                        '2': '12',\r\n                                        '3': '16',\r\n                                        '4': '18',\r\n                                        '5': '24',\r\n                                        '6': '32',\r\n                                        '7': '48'\r\n                                    }[node.attrs[p]] || node.attrs[p]) + 'px');\r\n                                break;\r\n                            case 'color':\r\n                                cssStyle.push('color:' + node.attrs[p]);\r\n                                break;\r\n                            case 'face':\r\n                                cssStyle.push('font-family:' + node.attrs[p]);\r\n                                break;\r\n                            case 'style':\r\n                                cssStyle.push(node.attrs[p]);\r\n                        }\r\n                    }\r\n                    node.attrs = {\r\n                        'style': cssStyle.join(';')\r\n                    };\r\n                } else {\r\n                    var val = node.tagName == 'u' ? 'underline' : 'line-through';\r\n                    node.attrs = {\r\n                        'style': (node.getAttr('style') || '') + 'text-decoration:' + val + ';'\r\n                    }\r\n                }\r\n                node.tagName = 'span';\r\n            });\r\n            //        utils.each(root.getNodesByTagName('span'), function (node) {\r\n            //            var val;\r\n            //            if(val = node.getAttr('class')){\r\n            //                if(/fontstrikethrough/.test(val)){\r\n            //                    node.setStyle('text-decoration','line-through');\r\n            //                    if(node.attrs['class']){\r\n            //                        node.attrs['class'] = node.attrs['class'].replace(/fontstrikethrough/,'');\r\n            //                    }else{\r\n            //                        node.setAttr('class')\r\n            //                    }\r\n            //                }\r\n            //                if(/fontborder/.test(val)){\r\n            //                    node.setStyle('border','1px solid #000');\r\n            //                    if(node.attrs['class']){\r\n            //                        node.attrs['class'] = node.attrs['class'].replace(/fontborder/,'');\r\n            //                    }else{\r\n            //                        node.setAttr('class')\r\n            //                    }\r\n            //                }\r\n            //            }\r\n            //        });\r\n        });\r\n        //    me.addOutputRule(function(root){\r\n        //        utils.each(root.getNodesByTagName('span'), function (node) {\r\n        //            var val;\r\n        //            if(val = node.getStyle('text-decoration')){\r\n        //                if(/line-through/.test(val)){\r\n        //                    if(node.attrs['class']){\r\n        //                        node.attrs['class'] += ' fontstrikethrough';\r\n        //                    }else{\r\n        //                        node.setAttr('class','fontstrikethrough')\r\n        //                    }\r\n        //                }\r\n        //\r\n        //                node.setStyle('text-decoration')\r\n        //            }\r\n        //            if(val = node.getStyle('border')){\r\n        //                if(/1px/.test(val) && /solid/.test(val)){\r\n        //                    if(node.attrs['class']){\r\n        //                        node.attrs['class'] += ' fontborder';\r\n        //\r\n        //                    }else{\r\n        //                        node.setAttr('class','fontborder')\r\n        //                    }\r\n        //                }\r\n        //                node.setStyle('border')\r\n        //\r\n        //            }\r\n        //        });\r\n        //    });\r\n        for (var p in fonts) {\r\n            (function(cmd, style) {\r\n                UE.commands[cmd] = {\r\n                    execCommand: function(cmdName, value) {\r\n                        value = value || (this.queryCommandState(cmdName) ? 'none' : cmdName == 'underline' ? 'underline' :\r\n                            cmdName == 'fontborder' ? '1px solid #000' :\r\n                            'line-through');\r\n                        var me = this,\r\n                            range = this.selection.getRange(),\r\n                            text;\r\n\r\n                        if (value == 'default') {\r\n\r\n                            if (range.collapsed) {\r\n                                text = me.document.createTextNode('font');\r\n                                range.insertNode(text).select();\r\n\r\n                            }\r\n                            me.execCommand('removeFormat', 'span,a', style);\r\n                            if (text) {\r\n                                range.setStartBefore(text).collapse(true);\r\n                                domUtils.remove(text);\r\n                            }\r\n                            mergesibling(range, cmdName, value);\r\n                            range.select()\r\n                        } else {\r\n                            if (!range.collapsed) {\r\n                                if (needCmd[cmd] && me.queryCommandValue(cmd)) {\r\n                                    me.execCommand('removeFormat', 'span,a', style);\r\n                                }\r\n                                range = me.selection.getRange();\r\n\r\n                                range.applyInlineStyle('span', { 'style': style + ':' + value });\r\n                                mergesibling(range, cmdName, value);\r\n                                range.select();\r\n                            } else {\r\n\r\n                                var span = domUtils.findParentByTagName(range.startContainer, 'span', true);\r\n                                text = me.document.createTextNode('font');\r\n                                if (span && !span.children.length && !span[browser.ie ? 'innerText' : 'textContent'].replace(fillCharReg, '').length) {\r\n                                    //for ie hack when enter\r\n                                    range.insertNode(text);\r\n                                    if (needCmd[cmd]) {\r\n                                        range.selectNode(text).select();\r\n                                        me.execCommand('removeFormat', 'span,a', style, null);\r\n\r\n                                        span = domUtils.findParentByTagName(text, 'span', true);\r\n                                        range.setStartBefore(text);\r\n\r\n                                    }\r\n                                    span && (span.style.cssText += ';' + style + ':' + value);\r\n                                    range.collapse(true).select();\r\n\r\n\r\n                                } else {\r\n                                    range.insertNode(text);\r\n                                    range.selectNode(text).select();\r\n                                    span = range.document.createElement('span');\r\n\r\n                                    if (needCmd[cmd]) {\r\n                                        //a标签内的不处理跳过\r\n                                        if (domUtils.findParentByTagName(text, 'a', true)) {\r\n                                            range.setStartBefore(text).setCursor();\r\n                                            domUtils.remove(text);\r\n                                            return;\r\n                                        }\r\n                                        me.execCommand('removeFormat', 'span,a', style);\r\n                                    }\r\n\r\n                                    span.style.cssText = style + ':' + value;\r\n\r\n\r\n                                    text.parentNode.insertBefore(span, text);\r\n                                    //修复，span套span 但样式不继承的问题\r\n                                    if (!browser.ie || browser.ie && browser.version == 9) {\r\n                                        var spanParent = span.parentNode;\r\n                                        while (!domUtils.isBlockElm(spanParent)) {\r\n                                            if (spanParent.tagName == 'SPAN') {\r\n                                                //opera合并style不会加入\";\"\r\n                                                span.style.cssText = spanParent.style.cssText + \";\" + span.style.cssText;\r\n                                            }\r\n                                            spanParent = spanParent.parentNode;\r\n                                        }\r\n                                    }\r\n\r\n\r\n                                    if (opera) {\r\n                                        setTimeout(function() {\r\n                                            range.setStart(span, 0).collapse(true);\r\n                                            mergesibling(range, cmdName, value);\r\n                                            range.select();\r\n                                        });\r\n                                    } else {\r\n                                        range.setStart(span, 0).collapse(true);\r\n                                        mergesibling(range, cmdName, value);\r\n                                        range.select();\r\n                                    }\r\n\r\n                                    //trace:981\r\n                                    //domUtils.mergeToParent(span)\r\n                                }\r\n                                domUtils.remove(text);\r\n                            }\r\n\r\n\r\n                        }\r\n                        return true;\r\n                    },\r\n                    queryCommandValue: function(cmdName) {\r\n                        var startNode = this.selection.getStart();\r\n\r\n                        //trace:946\r\n                        if (cmdName == 'underline' || cmdName == 'strikethrough') {\r\n                            var tmpNode = startNode,\r\n                                value;\r\n                            while (tmpNode && !domUtils.isBlockElm(tmpNode) && !domUtils.isBody(tmpNode)) {\r\n                                if (tmpNode.nodeType == 1) {\r\n                                    value = domUtils.getComputedStyle(tmpNode, style);\r\n                                    if (value != 'none') {\r\n                                        return value;\r\n                                    }\r\n                                }\r\n\r\n                                tmpNode = tmpNode.parentNode;\r\n                            }\r\n                            return 'none';\r\n                        }\r\n                        if (cmdName == 'fontborder') {\r\n                            var tmp = startNode,\r\n                                val;\r\n                            while (tmp && dtd.$inline[tmp.tagName]) {\r\n                                if (val = domUtils.getComputedStyle(tmp, 'border')) {\r\n\r\n                                    if (/1px/.test(val) && /solid/.test(val)) {\r\n                                        return val;\r\n                                    }\r\n                                }\r\n                                tmp = tmp.parentNode;\r\n                            }\r\n                            return ''\r\n                        }\r\n\r\n                        if (cmdName == 'FontSize') {\r\n                            var styleVal = domUtils.getComputedStyle(startNode, style),\r\n                                tmp = /^([\\d\\.]+)(\\w+)$/.exec(styleVal);\r\n\r\n                            if (tmp) {\r\n\r\n                                return Math.floor(tmp[1]) + tmp[2];\r\n\r\n                            }\r\n\r\n                            return styleVal;\r\n\r\n                        }\r\n\r\n                        return domUtils.getComputedStyle(startNode, style);\r\n                    },\r\n                    queryCommandState: function(cmdName) {\r\n                        if (!needCmd[cmdName])\r\n                            return 0;\r\n                        var val = this.queryCommandValue(cmdName);\r\n                        if (cmdName == 'fontborder') {\r\n                            return /1px/.test(val) && /solid/.test(val)\r\n                        } else {\r\n                            return cmdName == 'underline' ? /underline/.test(val) : /line\\-through/.test(val);\r\n\r\n                        }\r\n\r\n                    }\r\n                };\r\n            })(p, fonts[p]);\r\n        }\r\n    };\r\n\r\n    // plugins/link.js\r\n    /**\r\n     * 超链接\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 插入超链接\r\n     * @command link\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { Object } options   设置自定义属性，例如：url、title、target\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'link', '{\r\n     *     url:'ueditor.baidu.com',\r\n     *     title:'ueditor',\r\n     *     target:'_blank'\r\n     * }' );\r\n     * ```\r\n     */\r\n    /**\r\n     * 返回当前选中的第一个超链接节点\r\n     * @command link\r\n     * @method queryCommandValue\r\n     * @param { String } cmd 命令字符串\r\n     * @return { Element } 超链接节点\r\n     * @example\r\n     * ```javascript\r\n     * editor.queryCommandValue( 'link' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 取消超链接\r\n     * @command unlink\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'unlink');\r\n     * ```\r\n     */\r\n\r\n    UE.plugins['link'] = function() {\r\n        function optimize(range) {\r\n            var start = range.startContainer,\r\n                end = range.endContainer;\r\n\r\n            if (start = domUtils.findParentByTagName(start, 'a', true)) {\r\n                range.setStartBefore(start);\r\n            }\r\n            if (end = domUtils.findParentByTagName(end, 'a', true)) {\r\n                range.setEndAfter(end);\r\n            }\r\n        }\r\n\r\n\r\n        UE.commands['unlink'] = {\r\n            execCommand: function() {\r\n                var range = this.selection.getRange(),\r\n                    bookmark;\r\n                if (range.collapsed && !domUtils.findParentByTagName(range.startContainer, 'a', true)) {\r\n                    return;\r\n                }\r\n                bookmark = range.createBookmark();\r\n                optimize(range);\r\n                range.removeInlineStyle('a').moveToBookmark(bookmark).select();\r\n            },\r\n            queryCommandState: function() {\r\n                return !this.highlight && this.queryCommandValue('link') ? 0 : -1;\r\n            }\r\n\r\n        };\r\n\r\n        function doLink(range, opt, me) {\r\n            var rngClone = range.cloneRange(),\r\n                link = me.queryCommandValue('link');\r\n            optimize(range = range.adjustmentBoundary());\r\n            var start = range.startContainer;\r\n            if (start.nodeType == 1 && link) {\r\n                start = start.childNodes[range.startOffset];\r\n                if (start && start.nodeType == 1 && start.tagName == 'A' && /^(?:https?|ftp|file)\\s*:\\s*\\/\\//.test(start[browser.ie ? 'innerText' : 'textContent'])) {\r\n                    start[browser.ie ? 'innerText' : 'textContent'] = utils.html(opt.textValue || opt.href);\r\n\r\n                }\r\n            }\r\n            if (!rngClone.collapsed || link) {\r\n                range.removeInlineStyle('a');\r\n                rngClone = range.cloneRange();\r\n            }\r\n\r\n            if (rngClone.collapsed) {\r\n                var a = range.document.createElement('a'),\r\n                    text = '';\r\n                if (opt.textValue) {\r\n\r\n                    text = utils.html(opt.textValue);\r\n                    delete opt.textValue;\r\n                } else {\r\n                    text = utils.html(opt.href);\r\n\r\n                }\r\n                domUtils.setAttributes(a, opt);\r\n                start = domUtils.findParentByTagName(rngClone.startContainer, 'a', true);\r\n                if (start && domUtils.isInNodeEndBoundary(rngClone, start)) {\r\n                    range.setStartAfter(start).collapse(true);\r\n\r\n                }\r\n                a[browser.ie ? 'innerText' : 'textContent'] = text;\r\n                range.insertNode(a).selectNode(a);\r\n            } else {\r\n                range.applyInlineStyle('a', opt);\r\n\r\n            }\r\n        }\r\n        UE.commands['link'] = {\r\n            execCommand: function(cmdName, opt) {\r\n                var range;\r\n                opt._href && (opt._href = utils.unhtml(opt._href, /[<\">]/g));\r\n                opt.href && (opt.href = utils.unhtml(opt.href, /[<\">]/g));\r\n                opt.textValue && (opt.textValue = utils.unhtml(opt.textValue, /[<\">]/g));\r\n                doLink(range = this.selection.getRange(), opt, this);\r\n                //闭合都不加占位符，如果加了会在a后边多个占位符节点，导致a是图片背景组成的列表，出现空白问题\r\n                range.collapse().select(true);\r\n\r\n            },\r\n            queryCommandValue: function() {\r\n                var range = this.selection.getRange(),\r\n                    node;\r\n                if (range.collapsed) {\r\n                    //                    node = this.selection.getStart();\r\n                    //在ie下getstart()取值偏上了\r\n                    node = range.startContainer;\r\n                    node = node.nodeType == 1 ? node : node.parentNode;\r\n\r\n                    if (node && (node = domUtils.findParentByTagName(node, 'a', true)) && !domUtils.isInNodeEndBoundary(range, node)) {\r\n\r\n                        return node;\r\n                    }\r\n                } else {\r\n                    //trace:1111  如果是<p><a>xx</a></p> startContainer是p就会找不到a\r\n                    range.shrinkBoundary();\r\n                    var start = range.startContainer.nodeType == 3 || !range.startContainer.childNodes[range.startOffset] ? range.startContainer : range.startContainer.childNodes[range.startOffset],\r\n                        end = range.endContainer.nodeType == 3 || range.endOffset == 0 ? range.endContainer : range.endContainer.childNodes[range.endOffset - 1],\r\n                        common = range.getCommonAncestor();\r\n                    node = domUtils.findParentByTagName(common, 'a', true);\r\n                    if (!node && common.nodeType == 1) {\r\n\r\n                        var as = common.getElementsByTagName('a'),\r\n                            ps, pe;\r\n\r\n                        for (var i = 0, ci; ci = as[i++];) {\r\n                            ps = domUtils.getPosition(ci, start), pe = domUtils.getPosition(ci, end);\r\n                            if ((ps & domUtils.POSITION_FOLLOWING || ps & domUtils.POSITION_CONTAINS) &&\r\n                                (pe & domUtils.POSITION_PRECEDING || pe & domUtils.POSITION_CONTAINS)\r\n                            ) {\r\n                                node = ci;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    return node;\r\n                }\r\n\r\n            },\r\n            queryCommandState: function() {\r\n                //判断如果是视频的话连接不可用\r\n                //fix 853\r\n                var img = this.selection.getRange().getClosedNode(),\r\n                    flag = img && (img.className == \"edui-faked-video\" || img.className.indexOf(\"edui-upload-video\") != -1);\r\n                return flag ? -1 : 0;\r\n            }\r\n        };\r\n    };\r\n\r\n    // plugins/iframe.js\r\n    ///import core\r\n    ///import plugins\\inserthtml.js\r\n    ///commands 插入框架\r\n    ///commandsName  InsertFrame\r\n    ///commandsTitle  插入Iframe\r\n    ///commandsDialog  dialogs\\insertframe\r\n\r\n    UE.plugins['insertframe'] = function() {\r\n        var me = this;\r\n\r\n        function deleteIframe() {\r\n            me._iframe && delete me._iframe;\r\n        }\r\n\r\n        me.addListener(\"selectionchange\", function() {\r\n            deleteIframe();\r\n        });\r\n\r\n    };\r\n\r\n\r\n\r\n    // plugins/scrawl.js\r\n    ///import core\r\n    ///commands 涂鸦\r\n    ///commandsName  Scrawl\r\n    ///commandsTitle  涂鸦\r\n    ///commandsDialog  dialogs\\scrawl\r\n    UE.commands['scrawl'] = {\r\n        queryCommandState: function() {\r\n            return (browser.ie && browser.version <= 8) ? -1 : 0;\r\n        }\r\n    };\r\n\r\n\r\n    // plugins/removeformat.js\r\n    /**\r\n     * 清除格式\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 清除文字样式\r\n     * @command removeformat\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param   {String}   tags     以逗号隔开的标签。如：strong\r\n     * @param   {String}   style    样式如：color\r\n     * @param   {String}   attrs    属性如:width\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'removeformat', 'strong','color','width' );\r\n     * ```\r\n     */\r\n\r\n    UE.plugins['removeformat'] = function() {\r\n        var me = this;\r\n        me.setOpt({\r\n            'removeFormatTags': 'b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var',\r\n            'removeFormatAttributes': 'class,style,lang,width,height,align,hspace,valign'\r\n        });\r\n        me.commands['removeformat'] = {\r\n            execCommand: function(cmdName, tags, style, attrs, notIncludeA) {\r\n\r\n                var tagReg = new RegExp('^(?:' + (tags || this.options.removeFormatTags).replace(/,/g, '|') + ')$', 'i'),\r\n                    removeFormatAttributes = style ? [] : (attrs || this.options.removeFormatAttributes).split(','),\r\n                    range = new dom.Range(this.document),\r\n                    bookmark, node, parent,\r\n                    filter = function(node) {\r\n                        return node.nodeType == 1;\r\n                    };\r\n\r\n                function isRedundantSpan(node) {\r\n                    if (node.nodeType == 3 || node.tagName.toLowerCase() != 'span') {\r\n                        return 0;\r\n                    }\r\n                    if (browser.ie) {\r\n                        //ie 下判断实效，所以只能简单用style来判断\r\n                        //return node.style.cssText == '' ? 1 : 0;\r\n                        var attrs = node.attributes;\r\n                        if (attrs.length) {\r\n                            for (var i = 0, l = attrs.length; i < l; i++) {\r\n                                if (attrs[i].specified) {\r\n                                    return 0;\r\n                                }\r\n                            }\r\n                            return 1;\r\n                        }\r\n                    }\r\n                    return !node.attributes.length;\r\n                }\r\n\r\n                function doRemove(range) {\r\n\r\n                    var bookmark1 = range.createBookmark();\r\n                    if (range.collapsed) {\r\n                        range.enlarge(true);\r\n                    }\r\n\r\n                    //不能把a标签切了\r\n                    if (!notIncludeA) {\r\n                        var aNode = domUtils.findParentByTagName(range.startContainer, 'a', true);\r\n                        if (aNode) {\r\n                            range.setStartBefore(aNode);\r\n                        }\r\n\r\n                        aNode = domUtils.findParentByTagName(range.endContainer, 'a', true);\r\n                        if (aNode) {\r\n                            range.setEndAfter(aNode);\r\n                        }\r\n\r\n                    }\r\n\r\n\r\n                    bookmark = range.createBookmark();\r\n\r\n                    node = bookmark.start;\r\n\r\n                    //切开始\r\n                    while ((parent = node.parentNode) && !domUtils.isBlockElm(parent)) {\r\n                        domUtils.breakParent(node, parent);\r\n\r\n                        domUtils.clearEmptySibling(node);\r\n                    }\r\n                    if (bookmark.end) {\r\n                        //切结束\r\n                        node = bookmark.end;\r\n                        while ((parent = node.parentNode) && !domUtils.isBlockElm(parent)) {\r\n                            domUtils.breakParent(node, parent);\r\n                            domUtils.clearEmptySibling(node);\r\n                        }\r\n\r\n                        //开始去除样式\r\n                        var current = domUtils.getNextDomNode(bookmark.start, false, filter),\r\n                            next;\r\n                        while (current) {\r\n                            if (current == bookmark.end) {\r\n                                break;\r\n                            }\r\n\r\n                            next = domUtils.getNextDomNode(current, true, filter);\r\n\r\n                            if (!dtd.$empty[current.tagName.toLowerCase()] && !domUtils.isBookmarkNode(current)) {\r\n                                if (tagReg.test(current.tagName)) {\r\n                                    if (style) {\r\n                                        domUtils.removeStyle(current, style);\r\n                                        if (isRedundantSpan(current) && style != 'text-decoration') {\r\n                                            domUtils.remove(current, true);\r\n                                        }\r\n                                    } else {\r\n                                        domUtils.remove(current, true);\r\n                                    }\r\n                                } else {\r\n                                    //trace:939  不能把list上的样式去掉\r\n                                    if (!dtd.$tableContent[current.tagName] && !dtd.$list[current.tagName]) {\r\n                                        domUtils.removeAttributes(current, removeFormatAttributes);\r\n                                        if (isRedundantSpan(current)) {\r\n                                            domUtils.remove(current, true);\r\n                                        }\r\n                                    }\r\n\r\n                                }\r\n                            }\r\n                            current = next;\r\n                        }\r\n                    }\r\n                    //trace:1035\r\n                    //trace:1096 不能把td上的样式去掉，比如边框\r\n                    var pN = bookmark.start.parentNode;\r\n                    if (domUtils.isBlockElm(pN) && !dtd.$tableContent[pN.tagName] && !dtd.$list[pN.tagName]) {\r\n                        domUtils.removeAttributes(pN, removeFormatAttributes);\r\n                    }\r\n                    pN = bookmark.end.parentNode;\r\n                    if (bookmark.end && domUtils.isBlockElm(pN) && !dtd.$tableContent[pN.tagName] && !dtd.$list[pN.tagName]) {\r\n                        domUtils.removeAttributes(pN, removeFormatAttributes);\r\n                    }\r\n                    range.moveToBookmark(bookmark).moveToBookmark(bookmark1);\r\n                    //清除冗余的代码 <b><bookmark></b>\r\n                    var node = range.startContainer,\r\n                        tmp,\r\n                        collapsed = range.collapsed;\r\n                    while (node.nodeType == 1 && domUtils.isEmptyNode(node) && dtd.$removeEmpty[node.tagName]) {\r\n                        tmp = node.parentNode;\r\n                        range.setStartBefore(node);\r\n                        //trace:937\r\n                        //更新结束边界\r\n                        if (range.startContainer === range.endContainer) {\r\n                            range.endOffset--;\r\n                        }\r\n                        domUtils.remove(node);\r\n                        node = tmp;\r\n                    }\r\n\r\n                    if (!collapsed) {\r\n                        node = range.endContainer;\r\n                        while (node.nodeType == 1 && domUtils.isEmptyNode(node) && dtd.$removeEmpty[node.tagName]) {\r\n                            tmp = node.parentNode;\r\n                            range.setEndBefore(node);\r\n                            domUtils.remove(node);\r\n\r\n                            node = tmp;\r\n                        }\r\n\r\n\r\n                    }\r\n                }\r\n\r\n\r\n\r\n                range = this.selection.getRange();\r\n                doRemove(range);\r\n                range.select();\r\n\r\n            }\r\n\r\n        };\r\n\r\n    };\r\n\r\n\r\n    // plugins/blockquote.js\r\n    /**\r\n     * 添加引用\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 添加引用\r\n     * @command blockquote\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'blockquote' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 添加引用\r\n     * @command blockquote\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { Object } attrs 节点属性\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'blockquote',{\r\n     *     style: \"color: red;\"\r\n     * } );\r\n     * ```\r\n     */\r\n\r\n\r\n    UE.plugins['blockquote'] = function() {\r\n        var me = this;\r\n\r\n        function getObj(editor) {\r\n            return domUtils.filterNodeList(editor.selection.getStartElementPath(), 'blockquote');\r\n        }\r\n        me.commands['blockquote'] = {\r\n            execCommand: function(cmdName, attrs) {\r\n                var range = this.selection.getRange(),\r\n                    obj = getObj(this),\r\n                    blockquote = dtd.blockquote,\r\n                    bookmark = range.createBookmark();\r\n\r\n                if (obj) {\r\n\r\n                    var start = range.startContainer,\r\n                        startBlock = domUtils.isBlockElm(start) ? start : domUtils.findParent(start, function(node) { return domUtils.isBlockElm(node) }),\r\n\r\n                        end = range.endContainer,\r\n                        endBlock = domUtils.isBlockElm(end) ? end : domUtils.findParent(end, function(node) { return domUtils.isBlockElm(node) });\r\n\r\n                    //处理一下li\r\n                    startBlock = domUtils.findParentByTagName(startBlock, 'li', true) || startBlock;\r\n                    endBlock = domUtils.findParentByTagName(endBlock, 'li', true) || endBlock;\r\n\r\n\r\n                    if (startBlock.tagName == 'LI' || startBlock.tagName == 'TD' || startBlock === obj || domUtils.isBody(startBlock)) {\r\n                        domUtils.remove(obj, true);\r\n                    } else {\r\n                        domUtils.breakParent(startBlock, obj);\r\n                    }\r\n\r\n                    if (startBlock !== endBlock) {\r\n                        obj = domUtils.findParentByTagName(endBlock, 'blockquote');\r\n                        if (obj) {\r\n                            if (endBlock.tagName == 'LI' || endBlock.tagName == 'TD' || domUtils.isBody(endBlock)) {\r\n                                obj.parentNode && domUtils.remove(obj, true);\r\n                            } else {\r\n                                domUtils.breakParent(endBlock, obj);\r\n                            }\r\n\r\n                        }\r\n                    }\r\n\r\n                    var blockquotes = domUtils.getElementsByTagName(this.document, 'blockquote');\r\n                    for (var i = 0, bi; bi = blockquotes[i++];) {\r\n                        if (!bi.childNodes.length) {\r\n                            domUtils.remove(bi);\r\n                        } else if (domUtils.getPosition(bi, startBlock) & domUtils.POSITION_FOLLOWING && domUtils.getPosition(bi, endBlock) & domUtils.POSITION_PRECEDING) {\r\n                            domUtils.remove(bi, true);\r\n                        }\r\n                    }\r\n\r\n\r\n\r\n\r\n                } else {\r\n\r\n                    var tmpRange = range.cloneRange(),\r\n                        node = tmpRange.startContainer.nodeType == 1 ? tmpRange.startContainer : tmpRange.startContainer.parentNode,\r\n                        preNode = node,\r\n                        doEnd = 1;\r\n\r\n                    //调整开始\r\n                    while (1) {\r\n                        if (domUtils.isBody(node)) {\r\n                            if (preNode !== node) {\r\n                                if (range.collapsed) {\r\n                                    tmpRange.selectNode(preNode);\r\n                                    doEnd = 0;\r\n                                } else {\r\n                                    tmpRange.setStartBefore(preNode);\r\n                                }\r\n                            } else {\r\n                                tmpRange.setStart(node, 0);\r\n                            }\r\n\r\n                            break;\r\n                        }\r\n                        if (!blockquote[node.tagName]) {\r\n                            if (range.collapsed) {\r\n                                tmpRange.selectNode(preNode);\r\n                            } else {\r\n                                tmpRange.setStartBefore(preNode);\r\n                            }\r\n                            break;\r\n                        }\r\n\r\n                        preNode = node;\r\n                        node = node.parentNode;\r\n                    }\r\n\r\n                    //调整结束\r\n                    if (doEnd) {\r\n                        preNode = node = node = tmpRange.endContainer.nodeType == 1 ? tmpRange.endContainer : tmpRange.endContainer.parentNode;\r\n                        while (1) {\r\n\r\n                            if (domUtils.isBody(node)) {\r\n                                if (preNode !== node) {\r\n\r\n                                    tmpRange.setEndAfter(preNode);\r\n\r\n                                } else {\r\n                                    tmpRange.setEnd(node, node.childNodes.length);\r\n                                }\r\n\r\n                                break;\r\n                            }\r\n                            if (!blockquote[node.tagName]) {\r\n                                tmpRange.setEndAfter(preNode);\r\n                                break;\r\n                            }\r\n\r\n                            preNode = node;\r\n                            node = node.parentNode;\r\n                        }\r\n\r\n                    }\r\n\r\n\r\n                    node = range.document.createElement('blockquote');\r\n                    domUtils.setAttributes(node, attrs);\r\n                    node.appendChild(tmpRange.extractContents());\r\n                    tmpRange.insertNode(node);\r\n                    //去除重复的\r\n                    var childs = domUtils.getElementsByTagName(node, 'blockquote');\r\n                    for (var i = 0, ci; ci = childs[i++];) {\r\n                        if (ci.parentNode) {\r\n                            domUtils.remove(ci, true);\r\n                        }\r\n                    }\r\n\r\n                }\r\n                range.moveToBookmark(bookmark).select();\r\n            },\r\n            queryCommandState: function() {\r\n                return getObj(this) ? 1 : 0;\r\n            }\r\n        };\r\n    };\r\n\r\n\r\n\r\n    // plugins/convertcase.js\r\n    /**\r\n     * 大小写转换\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 把选区内文本变大写，与“tolowercase”命令互斥\r\n     * @command touppercase\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'touppercase' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 把选区内文本变小写，与“touppercase”命令互斥\r\n     * @command tolowercase\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'tolowercase' );\r\n     * ```\r\n     */\r\n    UE.commands['touppercase'] =\r\n        UE.commands['tolowercase'] = {\r\n            execCommand: function(cmd) {\r\n                var me = this;\r\n                var rng = me.selection.getRange();\r\n                if (rng.collapsed) {\r\n                    return rng;\r\n                }\r\n                var bk = rng.createBookmark(),\r\n                    bkEnd = bk.end,\r\n                    filterFn = function(node) {\r\n                        return !domUtils.isBr(node) && !domUtils.isWhitespace(node);\r\n                    },\r\n                    curNode = domUtils.getNextDomNode(bk.start, false, filterFn);\r\n                while (curNode && (domUtils.getPosition(curNode, bkEnd) & domUtils.POSITION_PRECEDING)) {\r\n\r\n                    if (curNode.nodeType == 3) {\r\n                        curNode.nodeValue = curNode.nodeValue[cmd == 'touppercase' ? 'toUpperCase' : 'toLowerCase']();\r\n                    }\r\n                    curNode = domUtils.getNextDomNode(curNode, true, filterFn);\r\n                    if (curNode === bkEnd) {\r\n                        break;\r\n                    }\r\n\r\n                }\r\n                rng.moveToBookmark(bk).select();\r\n            }\r\n        };\r\n\r\n\r\n\r\n    // plugins/indent.js\r\n    /**\r\n     * 首行缩进\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 缩进\r\n     * @command indent\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'indent' );\r\n     * ```\r\n     */\r\n    UE.commands['indent'] = {\r\n        execCommand: function() {\r\n            var me = this,\r\n                value = me.queryCommandState(\"indent\") ? \"0em\" : (me.options.indentValue || '2em');\r\n            me.execCommand('Paragraph', 'p', { style: 'text-indent:' + value });\r\n        },\r\n        queryCommandState: function() {\r\n            var pN = domUtils.filterNodeList(this.selection.getStartElementPath(), 'p h1 h2 h3 h4 h5 h6');\r\n            return pN && pN.style.textIndent && parseInt(pN.style.textIndent) ? 1 : 0;\r\n        }\r\n\r\n    };\r\n\r\n\r\n    // plugins/print.js\r\n    /**\r\n     * 打印\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 打印\r\n     * @command print\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'print' );\r\n     * ```\r\n     */\r\n    UE.commands['print'] = {\r\n        execCommand: function() {\r\n            this.window.print();\r\n        },\r\n        notNeedUndo: 1\r\n    };\r\n\r\n\r\n\r\n    // plugins/preview.js\r\n    /**\r\n     * 预览\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 预览\r\n     * @command preview\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'preview' );\r\n     * ```\r\n     */\r\n    UE.commands['preview'] = {\r\n        execCommand: function() {\r\n            var w = window.open('', '_blank', ''),\r\n                d = w.document;\r\n            d.open();\r\n            d.write('<!DOCTYPE html><html><head><meta charset=\"utf-8\"/><script src=\"' + this.options.UEDITOR_HOME_URL + 'ueditor.parse.js\"></script><script>' +\r\n                \"setTimeout(function(){uParse('div',{rootPath: '\" + this.options.UEDITOR_HOME_URL + \"'})},300)\" +\r\n                '</script></head><body><div>' + this.getContent(null, null, true) + '</div></body></html>');\r\n            d.close();\r\n        },\r\n        notNeedUndo: 1\r\n    };\r\n\r\n\r\n    // plugins/selectall.js\r\n    /**\r\n     * 全选\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 选中所有内容\r\n     * @command selectall\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'selectall' );\r\n     * ```\r\n     */\r\n    UE.plugins['selectall'] = function() {\r\n        var me = this;\r\n        me.commands['selectall'] = {\r\n            execCommand: function() {\r\n                //去掉了原生的selectAll,因为会出现报错和当内容为空时，不能出现闭合状态的光标\r\n                var me = this,\r\n                    body = me.body,\r\n                    range = me.selection.getRange();\r\n                range.selectNodeContents(body);\r\n                if (domUtils.isEmptyBlock(body)) {\r\n                    //opera不能自动合并到元素的里边，要手动处理一下\r\n                    if (browser.opera && body.firstChild && body.firstChild.nodeType == 1) {\r\n                        range.setStartAtFirst(body.firstChild);\r\n                    }\r\n                    range.collapse(true);\r\n                }\r\n                range.select(true);\r\n            },\r\n            notNeedUndo: 1\r\n        };\r\n\r\n\r\n        //快捷键\r\n        me.addshortcutkey({\r\n            \"selectAll\": \"ctrl+65\"\r\n        });\r\n    };\r\n\r\n\r\n    // plugins/paragraph.js\r\n    /**\r\n     * 段落样式\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 段落格式\r\n     * @command paragraph\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param {String}   style               标签值为：'p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'\r\n     * @param {Object}   attrs               标签的属性\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'Paragraph','h1','{\r\n     *     class:'test'\r\n     * }' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 返回选区内节点标签名\r\n     * @command paragraph\r\n     * @method queryCommandValue\r\n     * @param { String } cmd 命令字符串\r\n     * @return { String } 节点标签名\r\n     * @example\r\n     * ```javascript\r\n     * editor.queryCommandValue( 'Paragraph' );\r\n     * ```\r\n     */\r\n\r\n    UE.plugins['paragraph'] = function() {\r\n        var me = this,\r\n            block = domUtils.isBlockElm,\r\n            notExchange = ['TD', 'LI', 'PRE'],\r\n\r\n            doParagraph = function(range, style, attrs, sourceCmdName) {\r\n                var bookmark = range.createBookmark(),\r\n                    filterFn = function(node) {\r\n                        return node.nodeType == 1 ? node.tagName.toLowerCase() != 'br' && !domUtils.isBookmarkNode(node) : !domUtils.isWhitespace(node);\r\n                    },\r\n                    para;\r\n\r\n                range.enlarge(true);\r\n                var bookmark2 = range.createBookmark(),\r\n                    current = domUtils.getNextDomNode(bookmark2.start, false, filterFn),\r\n                    tmpRange = range.cloneRange(),\r\n                    tmpNode;\r\n                while (current && !(domUtils.getPosition(current, bookmark2.end) & domUtils.POSITION_FOLLOWING)) {\r\n                    if (current.nodeType == 3 || !block(current)) {\r\n                        tmpRange.setStartBefore(current);\r\n                        while (current && current !== bookmark2.end && !block(current)) {\r\n                            tmpNode = current;\r\n                            current = domUtils.getNextDomNode(current, false, null, function(node) {\r\n                                return !block(node);\r\n                            });\r\n                        }\r\n                        tmpRange.setEndAfter(tmpNode);\r\n\r\n                        para = range.document.createElement(style);\r\n                        if (attrs) {\r\n                            domUtils.setAttributes(para, attrs);\r\n                            if (sourceCmdName && sourceCmdName == 'customstyle' && attrs.style) {\r\n                                para.style.cssText = attrs.style;\r\n                            }\r\n                        }\r\n                        para.appendChild(tmpRange.extractContents());\r\n                        //需要内容占位\r\n                        if (domUtils.isEmptyNode(para)) {\r\n                            domUtils.fillChar(range.document, para);\r\n\r\n                        }\r\n\r\n                        tmpRange.insertNode(para);\r\n\r\n                        var parent = para.parentNode;\r\n                        //如果para上一级是一个block元素且不是body,td就删除它\r\n                        if (block(parent) && !domUtils.isBody(para.parentNode) && utils.indexOf(notExchange, parent.tagName) == -1) {\r\n                            //存储dir,style\r\n                            if (!(sourceCmdName && sourceCmdName == 'customstyle')) {\r\n                                parent.getAttribute('dir') && para.setAttribute('dir', parent.getAttribute('dir'));\r\n                                //trace:1070\r\n                                parent.style.cssText && (para.style.cssText = parent.style.cssText + ';' + para.style.cssText);\r\n                                //trace:1030\r\n                                parent.style.textAlign && !para.style.textAlign && (para.style.textAlign = parent.style.textAlign);\r\n                                parent.style.textIndent && !para.style.textIndent && (para.style.textIndent = parent.style.textIndent);\r\n                                parent.style.padding && !para.style.padding && (para.style.padding = parent.style.padding);\r\n                            }\r\n\r\n                            //trace:1706 选择的就是h1-6要删除\r\n                            if (attrs && /h\\d/i.test(parent.tagName) && !/h\\d/i.test(para.tagName)) {\r\n                                domUtils.setAttributes(parent, attrs);\r\n                                if (sourceCmdName && sourceCmdName == 'customstyle' && attrs.style) {\r\n                                    parent.style.cssText = attrs.style;\r\n                                }\r\n                                domUtils.remove(para, true);\r\n                                para = parent;\r\n                            } else {\r\n                                domUtils.remove(para.parentNode, true);\r\n                            }\r\n\r\n                        }\r\n                        if (utils.indexOf(notExchange, parent.tagName) != -1) {\r\n                            current = parent;\r\n                        } else {\r\n                            current = para;\r\n                        }\r\n\r\n\r\n                        current = domUtils.getNextDomNode(current, false, filterFn);\r\n                    } else {\r\n                        current = domUtils.getNextDomNode(current, true, filterFn);\r\n                    }\r\n                }\r\n                return range.moveToBookmark(bookmark2).moveToBookmark(bookmark);\r\n            };\r\n        me.setOpt('paragraph', { 'p': '', 'h1': '', 'h2': '', 'h3': '', 'h4': '', 'h5': '', 'h6': '' });\r\n        me.commands['paragraph'] = {\r\n            execCommand: function(cmdName, style, attrs, sourceCmdName) {\r\n                var range = this.selection.getRange();\r\n                //闭合时单独处理\r\n                if (range.collapsed) {\r\n                    var txt = this.document.createTextNode('p');\r\n                    range.insertNode(txt);\r\n                    //去掉冗余的fillchar\r\n                    if (browser.ie) {\r\n                        var node = txt.previousSibling;\r\n                        if (node && domUtils.isWhitespace(node)) {\r\n                            domUtils.remove(node);\r\n                        }\r\n                        node = txt.nextSibling;\r\n                        if (node && domUtils.isWhitespace(node)) {\r\n                            domUtils.remove(node);\r\n                        }\r\n                    }\r\n\r\n                }\r\n                range = doParagraph(range, style, attrs, sourceCmdName);\r\n                if (txt) {\r\n                    range.setStartBefore(txt).collapse(true);\r\n                    pN = txt.parentNode;\r\n\r\n                    domUtils.remove(txt);\r\n\r\n                    if (domUtils.isBlockElm(pN) && domUtils.isEmptyNode(pN)) {\r\n                        domUtils.fillNode(this.document, pN);\r\n                    }\r\n\r\n                }\r\n\r\n                if (browser.gecko && range.collapsed && range.startContainer.nodeType == 1) {\r\n                    var child = range.startContainer.childNodes[range.startOffset];\r\n                    if (child && child.nodeType == 1 && child.tagName.toLowerCase() == style) {\r\n                        range.setStart(child, 0).collapse(true);\r\n                    }\r\n                }\r\n                //trace:1097 原来有true，原因忘了，但去了就不能清除多余的占位符了\r\n                range.select();\r\n\r\n\r\n                return true;\r\n            },\r\n            queryCommandValue: function() {\r\n                var node = domUtils.filterNodeList(this.selection.getStartElementPath(), 'p h1 h2 h3 h4 h5 h6');\r\n                return node ? node.tagName.toLowerCase() : '';\r\n            }\r\n        };\r\n    };\r\n\r\n\r\n    // plugins/directionality.js\r\n    /**\r\n     * 设置文字输入的方向的插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n    (function() {\r\n        var block = domUtils.isBlockElm,\r\n            getObj = function(editor) {\r\n                //            var startNode = editor.selection.getStart(),\r\n                //                parents;\r\n                //            if ( startNode ) {\r\n                //                //查找所有的是block的父亲节点\r\n                //                parents = domUtils.findParents( startNode, true, block, true );\r\n                //                for ( var i = 0,ci; ci = parents[i++]; ) {\r\n                //                    if ( ci.getAttribute( 'dir' ) ) {\r\n                //                        return ci;\r\n                //                    }\r\n                //                }\r\n                //            }\r\n                return domUtils.filterNodeList(editor.selection.getStartElementPath(), function(n) { return n && n.nodeType == 1 && n.getAttribute('dir') });\r\n\r\n            },\r\n            doDirectionality = function(range, editor, forward) {\r\n\r\n                var bookmark,\r\n                    filterFn = function(node) {\r\n                        return node.nodeType == 1 ? !domUtils.isBookmarkNode(node) : !domUtils.isWhitespace(node);\r\n                    },\r\n\r\n                    obj = getObj(editor);\r\n\r\n                if (obj && range.collapsed) {\r\n                    obj.setAttribute('dir', forward);\r\n                    return range;\r\n                }\r\n                bookmark = range.createBookmark();\r\n                range.enlarge(true);\r\n                var bookmark2 = range.createBookmark(),\r\n                    current = domUtils.getNextDomNode(bookmark2.start, false, filterFn),\r\n                    tmpRange = range.cloneRange(),\r\n                    tmpNode;\r\n                while (current && !(domUtils.getPosition(current, bookmark2.end) & domUtils.POSITION_FOLLOWING)) {\r\n                    if (current.nodeType == 3 || !block(current)) {\r\n                        tmpRange.setStartBefore(current);\r\n                        while (current && current !== bookmark2.end && !block(current)) {\r\n                            tmpNode = current;\r\n                            current = domUtils.getNextDomNode(current, false, null, function(node) {\r\n                                return !block(node);\r\n                            });\r\n                        }\r\n                        tmpRange.setEndAfter(tmpNode);\r\n                        var common = tmpRange.getCommonAncestor();\r\n                        if (!domUtils.isBody(common) && block(common)) {\r\n                            //遍历到了block节点\r\n                            common.setAttribute('dir', forward);\r\n                            current = common;\r\n                        } else {\r\n                            //没有遍历到，添加一个block节点\r\n                            var p = range.document.createElement('p');\r\n                            p.setAttribute('dir', forward);\r\n                            var frag = tmpRange.extractContents();\r\n                            p.appendChild(frag);\r\n                            tmpRange.insertNode(p);\r\n                            current = p;\r\n                        }\r\n\r\n                        current = domUtils.getNextDomNode(current, false, filterFn);\r\n                    } else {\r\n                        current = domUtils.getNextDomNode(current, true, filterFn);\r\n                    }\r\n                }\r\n                return range.moveToBookmark(bookmark2).moveToBookmark(bookmark);\r\n            };\r\n\r\n        /**\r\n         * 文字输入方向\r\n         * @command directionality\r\n         * @method execCommand\r\n         * @param { String } cmdName 命令字符串\r\n         * @param { String } forward 传入'ltr'表示从左向右输入，传入'rtl'表示从右向左输入\r\n         * @example\r\n         * ```javascript\r\n         * editor.execCommand( 'directionality', 'ltr');\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 查询当前选区的文字输入方向\r\n         * @command directionality\r\n         * @method queryCommandValue\r\n         * @param { String } cmdName 命令字符串\r\n         * @return { String } 返回'ltr'表示从左向右输入，返回'rtl'表示从右向左输入\r\n         * @example\r\n         * ```javascript\r\n         * editor.queryCommandValue( 'directionality');\r\n         * ```\r\n         */\r\n        UE.commands['directionality'] = {\r\n            execCommand: function(cmdName, forward) {\r\n                var range = this.selection.getRange();\r\n                //闭合时单独处理\r\n                if (range.collapsed) {\r\n                    var txt = this.document.createTextNode('d');\r\n                    range.insertNode(txt);\r\n                }\r\n                doDirectionality(range, this, forward);\r\n                if (txt) {\r\n                    range.setStartBefore(txt).collapse(true);\r\n                    domUtils.remove(txt);\r\n                }\r\n\r\n                range.select();\r\n                return true;\r\n            },\r\n            queryCommandValue: function() {\r\n                var node = getObj(this);\r\n                return node ? node.getAttribute('dir') : 'ltr';\r\n            }\r\n        };\r\n    })();\r\n\r\n\r\n\r\n    // plugins/horizontal.js\r\n    /**\r\n     * 插入分割线插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 插入分割线\r\n     * @command horizontal\r\n     * @method execCommand\r\n     * @param { String } cmdName 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'horizontal' );\r\n     * ```\r\n     */\r\n    UE.plugins['horizontal'] = function() {\r\n        var me = this;\r\n        me.commands['horizontal'] = {\r\n            execCommand: function(cmdName) {\r\n                var me = this;\r\n                if (me.queryCommandState(cmdName) !== -1) {\r\n                    me.execCommand('insertHtml', '<hr>');\r\n                    var range = me.selection.getRange(),\r\n                        start = range.startContainer;\r\n                    if (start.nodeType == 1 && !start.childNodes[range.startOffset]) {\r\n\r\n                        var tmp;\r\n                        if (tmp = start.childNodes[range.startOffset - 1]) {\r\n                            if (tmp.nodeType == 1 && tmp.tagName == 'HR') {\r\n                                if (me.options.enterTag == 'p') {\r\n                                    tmp = me.document.createElement('p');\r\n                                    range.insertNode(tmp);\r\n                                    range.setStart(tmp, 0).setCursor();\r\n\r\n                                } else {\r\n                                    tmp = me.document.createElement('br');\r\n                                    range.insertNode(tmp);\r\n                                    range.setStartBefore(tmp).setCursor();\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                    return true;\r\n                }\r\n\r\n            },\r\n            //边界在table里不能加分隔线\r\n            queryCommandState: function() {\r\n                return domUtils.filterNodeList(this.selection.getStartElementPath(), 'table') ? -1 : 0;\r\n            }\r\n        };\r\n        //    me.addListener('delkeyup',function(){\r\n        //        var rng = this.selection.getRange();\r\n        //        if(browser.ie && browser.version > 8){\r\n        //            rng.txtToElmBoundary(true);\r\n        //            if(domUtils.isStartInblock(rng)){\r\n        //                var tmpNode = rng.startContainer;\r\n        //                var pre = tmpNode.previousSibling;\r\n        //                if(pre && domUtils.isTagNode(pre,'hr')){\r\n        //                    domUtils.remove(pre);\r\n        //                    rng.select();\r\n        //                    return;\r\n        //                }\r\n        //            }\r\n        //        }\r\n        //        if(domUtils.isBody(rng.startContainer)){\r\n        //            var hr = rng.startContainer.childNodes[rng.startOffset -1];\r\n        //            if(hr && hr.nodeName == 'HR'){\r\n        //                var next = hr.nextSibling;\r\n        //                if(next){\r\n        //                    rng.setStart(next,0)\r\n        //                }else if(hr.previousSibling){\r\n        //                    rng.setStartAtLast(hr.previousSibling)\r\n        //                }else{\r\n        //                    var p = this.document.createElement('p');\r\n        //                    hr.parentNode.insertBefore(p,hr);\r\n        //                    domUtils.fillNode(this.document,p);\r\n        //                    rng.setStart(p,0);\r\n        //                }\r\n        //                domUtils.remove(hr);\r\n        //                rng.setCursor(false,true);\r\n        //            }\r\n        //        }\r\n        //    })\r\n        me.addListener('delkeydown', function(name, evt) {\r\n            var rng = this.selection.getRange();\r\n            rng.txtToElmBoundary(true);\r\n            if (domUtils.isStartInblock(rng)) {\r\n                var tmpNode = rng.startContainer;\r\n                var pre = tmpNode.previousSibling;\r\n                if (pre && domUtils.isTagNode(pre, 'hr')) {\r\n                    domUtils.remove(pre);\r\n                    rng.select();\r\n                    domUtils.preventDefault(evt);\r\n                    return true;\r\n\r\n                }\r\n            }\r\n\r\n        })\r\n    };\r\n\r\n\r\n\r\n    // plugins/time.js\r\n    /**\r\n     * 插入时间和日期\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 插入时间，默认格式：12:59:59\r\n     * @command time\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'time');\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 插入日期，默认格式：2013-08-30\r\n     * @command date\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'date');\r\n     * ```\r\n     */\r\n    UE.commands['time'] = UE.commands[\"date\"] = {\r\n        execCommand: function(cmd, format) {\r\n            var date = new Date;\r\n\r\n            function formatTime(date, format) {\r\n                var hh = ('0' + date.getHours()).slice(-2),\r\n                    ii = ('0' + date.getMinutes()).slice(-2),\r\n                    ss = ('0' + date.getSeconds()).slice(-2);\r\n                format = format || 'hh:ii:ss';\r\n                return format.replace(/hh/ig, hh).replace(/ii/ig, ii).replace(/ss/ig, ss);\r\n            }\r\n\r\n            function formatDate(date, format) {\r\n                var yyyy = ('000' + date.getFullYear()).slice(-4),\r\n                    yy = yyyy.slice(-2),\r\n                    mm = ('0' + (date.getMonth() + 1)).slice(-2),\r\n                    dd = ('0' + date.getDate()).slice(-2);\r\n                format = format || 'yyyy-mm-dd';\r\n                return format.replace(/yyyy/ig, yyyy).replace(/yy/ig, yy).replace(/mm/ig, mm).replace(/dd/ig, dd);\r\n            }\r\n\r\n            this.execCommand('insertHtml', cmd == \"time\" ? formatTime(date, format) : formatDate(date, format));\r\n        }\r\n    };\r\n\r\n\r\n    // plugins/rowspacing.js\r\n    /**\r\n     * 段前段后间距插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 设置段间距\r\n     * @command rowspacing\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @param { String } value 段间距的值，以px为单位\r\n     * @param { String } dir 间距位置，top或bottom，分别表示段前和段后\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'rowspacing', '10', 'top' );\r\n     * ```\r\n     */\r\n\r\n    UE.plugins['rowspacing'] = function() {\r\n        var me = this;\r\n        me.setOpt({\r\n            'rowspacingtop': ['5', '10', '15', '20', '25'],\r\n            'rowspacingbottom': ['5', '10', '15', '20', '25']\r\n\r\n        });\r\n        me.commands['rowspacing'] = {\r\n            execCommand: function(cmdName, value, dir) {\r\n                this.execCommand('paragraph', 'p', { style: 'margin-' + dir + ':' + value + 'px' });\r\n                return true;\r\n            },\r\n            queryCommandValue: function(cmdName, dir) {\r\n                var pN = domUtils.filterNodeList(this.selection.getStartElementPath(), function(node) { return domUtils.isBlockElm(node) }),\r\n                    value;\r\n                //trace:1026\r\n                if (pN) {\r\n                    value = domUtils.getComputedStyle(pN, 'margin-' + dir).replace(/[^\\d]/g, '');\r\n                    return !value ? 0 : value;\r\n                }\r\n                return 0;\r\n\r\n            }\r\n        };\r\n    };\r\n\r\n\r\n\r\n\r\n    // plugins/lineheight.js\r\n    /**\r\n     * 设置行内间距\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n    UE.plugins['lineheight'] = function() {\r\n        var me = this;\r\n        me.setOpt({ 'lineheight': ['1', '1.5', '1.75', '2', '3', '4', '5'] });\r\n\r\n        /**\r\n         * 行距\r\n         * @command lineheight\r\n         * @method execCommand\r\n         * @param { String } cmdName 命令字符串\r\n         * @param { String } value 传入的行高值， 该值是当前字体的倍数， 例如： 1.5, 1.75\r\n         * @example\r\n         * ```javascript\r\n         * editor.execCommand( 'lineheight', 1.5);\r\n         * ```\r\n         */\r\n        /**\r\n         * 查询当前选区内容的行高大小\r\n         * @command lineheight\r\n         * @method queryCommandValue\r\n         * @param { String } cmd 命令字符串\r\n         * @return { String } 返回当前行高大小\r\n         * @example\r\n         * ```javascript\r\n         * editor.queryCommandValue( 'lineheight' );\r\n         * ```\r\n         */\r\n\r\n        me.commands['lineheight'] = {\r\n            execCommand: function(cmdName, value) {\r\n                this.execCommand('paragraph', 'p', { style: 'line-height:' + (value == \"1\" ? \"normal\" : value + 'em') });\r\n                return true;\r\n            },\r\n            queryCommandValue: function() {\r\n                var pN = domUtils.filterNodeList(this.selection.getStartElementPath(), function(node) { return domUtils.isBlockElm(node) });\r\n                if (pN) {\r\n                    var value = domUtils.getComputedStyle(pN, 'line-height');\r\n                    return value == 'normal' ? 1 : value.replace(/[^\\d.]*/ig, \"\");\r\n                }\r\n            }\r\n        };\r\n    };\r\n\r\n\r\n\r\n\r\n    // plugins/insertcode.js\r\n    /**\r\n     * 插入代码插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    UE.plugins['insertcode'] = function() {\r\n        var me = this;\r\n        me.ready(function() {\r\n            utils.cssRule('pre', 'pre{margin:.5em 0;padding:.4em .6em;border-radius:8px;background:#f8f8f8;}',\r\n                me.document)\r\n        });\r\n        me.setOpt('insertcode', {\r\n            'as3': 'ActionScript3',\r\n            'bash': 'Bash/Shell',\r\n            'cpp': 'C/C++',\r\n            'css': 'Css',\r\n            'cf': 'CodeFunction',\r\n            'c#': 'C#',\r\n            'delphi': 'Delphi',\r\n            'diff': 'Diff',\r\n            'erlang': 'Erlang',\r\n            'groovy': 'Groovy',\r\n            'html': 'Html',\r\n            'java': 'Java',\r\n            'jfx': 'JavaFx',\r\n            'js': 'Javascript',\r\n            'pl': 'Perl',\r\n            'php': 'Php',\r\n            'plain': 'Plain Text',\r\n            'ps': 'PowerShell',\r\n            'python': 'Python',\r\n            'ruby': 'Ruby',\r\n            'scala': 'Scala',\r\n            'sql': 'Sql',\r\n            'vb': 'Vb',\r\n            'xml': 'Xml'\r\n        });\r\n\r\n        /**\r\n         * 插入代码\r\n         * @command insertcode\r\n         * @method execCommand\r\n         * @param { String } cmd 命令字符串\r\n         * @param { String } lang 插入代码的语言\r\n         * @example\r\n         * ```javascript\r\n         * editor.execCommand( 'insertcode', 'javascript' );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 如果选区所在位置是插入插入代码区域，返回代码的语言\r\n         * @command insertcode\r\n         * @method queryCommandValue\r\n         * @param { String } cmd 命令字符串\r\n         * @return { String } 返回代码的语言\r\n         * @example\r\n         * ```javascript\r\n         * editor.queryCommandValue( 'insertcode' );\r\n         * ```\r\n         */\r\n\r\n        me.commands['insertcode'] = {\r\n            execCommand: function(cmd, lang) {\r\n                var me = this,\r\n                    rng = me.selection.getRange(),\r\n                    pre = domUtils.findParentByTagName(rng.startContainer, 'pre', true);\r\n                if (pre) {\r\n                    pre.className = 'brush:' + lang + ';toolbar:false;';\r\n                } else {\r\n                    var code = '';\r\n                    if (rng.collapsed) {\r\n                        code = browser.ie && browser.ie11below ? (browser.version <= 8 ? '&nbsp;' : '') : '<br/>';\r\n                    } else {\r\n                        var frag = rng.extractContents();\r\n                        var div = me.document.createElement('div');\r\n                        div.appendChild(frag);\r\n\r\n                        utils.each(UE.filterNode(UE.htmlparser(div.innerHTML.replace(/[\\r\\t]/g, '')), me.options.filterTxtRules).children, function(node) {\r\n                            if (browser.ie && browser.ie11below && browser.version > 8) {\r\n\r\n                                if (node.type == 'element') {\r\n                                    if (node.tagName == 'br') {\r\n                                        code += '\\n'\r\n                                    } else if (!dtd.$empty[node.tagName]) {\r\n                                        utils.each(node.children, function(cn) {\r\n                                            if (cn.type == 'element') {\r\n                                                if (cn.tagName == 'br') {\r\n                                                    code += '\\n'\r\n                                                } else if (!dtd.$empty[node.tagName]) {\r\n                                                    code += cn.innerText();\r\n                                                }\r\n                                            } else {\r\n                                                code += cn.data\r\n                                            }\r\n                                        })\r\n                                        if (!/\\n$/.test(code)) {\r\n                                            code += '\\n';\r\n                                        }\r\n                                    }\r\n                                } else {\r\n                                    code += node.data + '\\n'\r\n                                }\r\n                                if (!node.nextSibling() && /\\n$/.test(code)) {\r\n                                    code = code.replace(/\\n$/, '');\r\n                                }\r\n                            } else {\r\n                                if (browser.ie && browser.ie11below) {\r\n\r\n                                    if (node.type == 'element') {\r\n                                        if (node.tagName == 'br') {\r\n                                            code += '<br>'\r\n                                        } else if (!dtd.$empty[node.tagName]) {\r\n                                            utils.each(node.children, function(cn) {\r\n                                                if (cn.type == 'element') {\r\n                                                    if (cn.tagName == 'br') {\r\n                                                        code += '<br>'\r\n                                                    } else if (!dtd.$empty[node.tagName]) {\r\n                                                        code += cn.innerText();\r\n                                                    }\r\n                                                } else {\r\n                                                    code += cn.data\r\n                                                }\r\n                                            });\r\n                                            if (!/br>$/.test(code)) {\r\n                                                code += '<br>';\r\n                                            }\r\n                                        }\r\n                                    } else {\r\n                                        code += node.data + '<br>'\r\n                                    }\r\n                                    if (!node.nextSibling() && /<br>$/.test(code)) {\r\n                                        code = code.replace(/<br>$/, '');\r\n                                    }\r\n\r\n                                } else {\r\n                                    code += (node.type == 'element' ? (dtd.$empty[node.tagName] ? '' : node.innerText()) : node.data);\r\n                                    if (!/br\\/?\\s*>$/.test(code)) {\r\n                                        if (!node.nextSibling())\r\n                                            return;\r\n                                        code += '<br>'\r\n                                    }\r\n                                }\r\n\r\n                            }\r\n\r\n                        });\r\n                    }\r\n                    me.execCommand('inserthtml', '<pre id=\"coder\"class=\"brush:' + lang + ';toolbar:false\">' + code + '</pre>', true);\r\n\r\n                    pre = me.document.getElementById('coder');\r\n                    domUtils.removeAttributes(pre, 'id');\r\n                    var tmpNode = pre.previousSibling;\r\n\r\n                    if (tmpNode && (tmpNode.nodeType == 3 && tmpNode.nodeValue.length == 1 && browser.ie && browser.version == 6 || domUtils.isEmptyBlock(tmpNode))) {\r\n\r\n                        domUtils.remove(tmpNode)\r\n                    }\r\n                    var rng = me.selection.getRange();\r\n                    if (domUtils.isEmptyBlock(pre)) {\r\n                        rng.setStart(pre, 0).setCursor(false, true)\r\n                    } else {\r\n                        rng.selectNodeContents(pre).select()\r\n                    }\r\n                }\r\n\r\n\r\n\r\n            },\r\n            queryCommandValue: function() {\r\n                var path = this.selection.getStartElementPath();\r\n                var lang = '';\r\n                utils.each(path, function(node) {\r\n                    if (node.nodeName == 'PRE') {\r\n                        var match = node.className.match(/brush:([^;]+)/);\r\n                        lang = match && match[1] ? match[1] : '';\r\n                        return false;\r\n                    }\r\n                });\r\n                return lang;\r\n            }\r\n        };\r\n\r\n        me.addInputRule(function(root) {\r\n            utils.each(root.getNodesByTagName('pre'), function(pre) {\r\n                var brs = pre.getNodesByTagName('br');\r\n                if (brs.length) {\r\n                    browser.ie && browser.ie11below && browser.version > 8 && utils.each(brs, function(br) {\r\n                        var txt = UE.uNode.createText('\\n');\r\n                        br.parentNode.insertBefore(txt, br);\r\n                        br.parentNode.removeChild(br);\r\n                    });\r\n                    return;\r\n                }\r\n                if (browser.ie && browser.ie11below && browser.version > 8)\r\n                    return;\r\n                var code = pre.innerText().split(/\\n/);\r\n                pre.innerHTML('');\r\n                utils.each(code, function(c) {\r\n                    if (c.length) {\r\n                        pre.appendChild(UE.uNode.createText(c));\r\n                    }\r\n                    pre.appendChild(UE.uNode.createElement('br'))\r\n                })\r\n            })\r\n        });\r\n        me.addOutputRule(function(root) {\r\n            utils.each(root.getNodesByTagName('pre'), function(pre) {\r\n                var code = '';\r\n                utils.each(pre.children, function(n) {\r\n                    if (n.type == 'text') {\r\n                        //在ie下文本内容有可能末尾带有\\n要去掉\r\n                        //trace:3396\r\n                        code += n.data.replace(/[ ]/g, '&nbsp;').replace(/\\n$/, '');\r\n                    } else {\r\n                        if (n.tagName == 'br') {\r\n                            code += '\\n'\r\n                        } else {\r\n                            code += (!dtd.$empty[n.tagName] ? '' : n.innerText());\r\n                        }\r\n\r\n                    }\r\n\r\n                });\r\n\r\n                pre.innerText(code.replace(/(&nbsp;|\\n)+$/, ''))\r\n            })\r\n        });\r\n        //不需要判断highlight的command列表\r\n        me.notNeedCodeQuery = {\r\n            help: 1,\r\n            undo: 1,\r\n            redo: 1,\r\n            source: 1,\r\n            print: 1,\r\n            searchreplace: 1,\r\n            fullscreen: 1,\r\n            preview: 1,\r\n            insertparagraph: 1,\r\n            elementpath: 1,\r\n            insertcode: 1,\r\n            inserthtml: 1,\r\n            selectall: 1\r\n        };\r\n        //将queyCommamndState重置\r\n        var orgQuery = me.queryCommandState;\r\n        me.queryCommandState = function(cmd) {\r\n            var me = this;\r\n\r\n            if (!me.notNeedCodeQuery[cmd.toLowerCase()] && me.selection && me.queryCommandValue('insertcode')) {\r\n                return -1;\r\n            }\r\n            return UE.Editor.prototype.queryCommandState.apply(this, arguments)\r\n        };\r\n        me.addListener('beforeenterkeydown', function() {\r\n            var rng = me.selection.getRange();\r\n            var pre = domUtils.findParentByTagName(rng.startContainer, 'pre', true);\r\n            if (pre) {\r\n                me.fireEvent('saveScene');\r\n                if (!rng.collapsed) {\r\n                    rng.deleteContents();\r\n                }\r\n                if (!browser.ie || browser.ie9above) {\r\n                    var tmpNode = me.document.createElement('br'),\r\n                        pre;\r\n                    rng.insertNode(tmpNode).setStartAfter(tmpNode).collapse(true);\r\n                    var next = tmpNode.nextSibling;\r\n                    if (!next && (!browser.ie || browser.version > 10)) {\r\n                        rng.insertNode(tmpNode.cloneNode(false));\r\n                    } else {\r\n                        rng.setStartAfter(tmpNode);\r\n                    }\r\n                    pre = tmpNode.previousSibling;\r\n                    var tmp;\r\n                    while (pre) {\r\n                        tmp = pre;\r\n                        pre = pre.previousSibling;\r\n                        if (!pre || pre.nodeName == 'BR') {\r\n                            pre = tmp;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (pre) {\r\n                        var str = '';\r\n                        while (pre && pre.nodeName != 'BR' && new RegExp('^[\\\\s' + domUtils.fillChar + ']*$').test(pre.nodeValue)) {\r\n                            str += pre.nodeValue;\r\n                            pre = pre.nextSibling;\r\n                        }\r\n                        if (pre.nodeName != 'BR') {\r\n                            var match = pre.nodeValue.match(new RegExp('^([\\\\s' + domUtils.fillChar + ']+)'));\r\n                            if (match && match[1]) {\r\n                                str += match[1]\r\n                            }\r\n\r\n                        }\r\n                        if (str) {\r\n                            str = me.document.createTextNode(str);\r\n                            rng.insertNode(str).setStartAfter(str);\r\n                        }\r\n                    }\r\n                    rng.collapse(true).select(true);\r\n                } else {\r\n                    if (browser.version > 8) {\r\n\r\n                        var txt = me.document.createTextNode('\\n');\r\n                        var start = rng.startContainer;\r\n                        if (rng.startOffset == 0) {\r\n                            var preNode = start.previousSibling;\r\n                            if (preNode) {\r\n                                rng.insertNode(txt);\r\n                                var fillchar = me.document.createTextNode(' ');\r\n                                rng.setStartAfter(txt).insertNode(fillchar).setStart(fillchar, 0).collapse(true).select(true)\r\n                            }\r\n                        } else {\r\n                            rng.insertNode(txt).setStartAfter(txt);\r\n                            var fillchar = me.document.createTextNode(' ');\r\n                            start = rng.startContainer.childNodes[rng.startOffset];\r\n                            if (start && !/^\\n/.test(start.nodeValue)) {\r\n                                rng.setStartBefore(txt)\r\n                            }\r\n                            rng.insertNode(fillchar).setStart(fillchar, 0).collapse(true).select(true)\r\n                        }\r\n\r\n                    } else {\r\n                        var tmpNode = me.document.createElement('br');\r\n                        rng.insertNode(tmpNode);\r\n                        rng.insertNode(me.document.createTextNode(domUtils.fillChar));\r\n                        rng.setStartAfter(tmpNode);\r\n                        pre = tmpNode.previousSibling;\r\n                        var tmp;\r\n                        while (pre) {\r\n                            tmp = pre;\r\n                            pre = pre.previousSibling;\r\n                            if (!pre || pre.nodeName == 'BR') {\r\n                                pre = tmp;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (pre) {\r\n                            var str = '';\r\n                            while (pre && pre.nodeName != 'BR' && new RegExp('^[ ' + domUtils.fillChar + ']*$').test(pre.nodeValue)) {\r\n                                str += pre.nodeValue;\r\n                                pre = pre.nextSibling;\r\n                            }\r\n                            if (pre.nodeName != 'BR') {\r\n                                var match = pre.nodeValue.match(new RegExp('^([ ' + domUtils.fillChar + ']+)'));\r\n                                if (match && match[1]) {\r\n                                    str += match[1]\r\n                                }\r\n\r\n                            }\r\n\r\n                            str = me.document.createTextNode(str);\r\n                            rng.insertNode(str).setStartAfter(str);\r\n                        }\r\n                        rng.collapse(true).select();\r\n                    }\r\n\r\n\r\n                }\r\n                me.fireEvent('saveScene');\r\n                return true;\r\n            }\r\n\r\n\r\n        });\r\n\r\n        me.addListener('tabkeydown', function(cmd, evt) {\r\n            var rng = me.selection.getRange();\r\n            var pre = domUtils.findParentByTagName(rng.startContainer, 'pre', true);\r\n            if (pre) {\r\n                me.fireEvent('saveScene');\r\n                if (evt.shiftKey) {\r\n\r\n                } else {\r\n                    if (!rng.collapsed) {\r\n                        var bk = rng.createBookmark();\r\n                        var start = bk.start.previousSibling;\r\n\r\n                        while (start) {\r\n                            if (pre.firstChild === start && !domUtils.isBr(start)) {\r\n                                pre.insertBefore(me.document.createTextNode('    '), start);\r\n\r\n                                break;\r\n                            }\r\n                            if (domUtils.isBr(start)) {\r\n                                pre.insertBefore(me.document.createTextNode('    '), start.nextSibling);\r\n\r\n                                break;\r\n                            }\r\n                            start = start.previousSibling;\r\n                        }\r\n                        var end = bk.end;\r\n                        start = bk.start.nextSibling;\r\n                        if (pre.firstChild === bk.start) {\r\n                            pre.insertBefore(me.document.createTextNode('    '), start.nextSibling)\r\n\r\n                        }\r\n                        while (start && start !== end) {\r\n                            if (domUtils.isBr(start) && start.nextSibling) {\r\n                                if (start.nextSibling === end) {\r\n                                    break;\r\n                                }\r\n                                pre.insertBefore(me.document.createTextNode('    '), start.nextSibling)\r\n                            }\r\n\r\n                            start = start.nextSibling;\r\n                        }\r\n                        rng.moveToBookmark(bk).select();\r\n                    } else {\r\n                        var tmpNode = me.document.createTextNode('    ');\r\n                        rng.insertNode(tmpNode).setStartAfter(tmpNode).collapse(true).select(true);\r\n                    }\r\n                }\r\n\r\n\r\n                me.fireEvent('saveScene');\r\n                return true;\r\n            }\r\n\r\n\r\n        });\r\n\r\n\r\n        me.addListener('beforeinserthtml', function(evtName, html) {\r\n            var me = this,\r\n                rng = me.selection.getRange(),\r\n                pre = domUtils.findParentByTagName(rng.startContainer, 'pre', true);\r\n            if (pre) {\r\n                if (!rng.collapsed) {\r\n                    rng.deleteContents()\r\n                }\r\n                var htmlstr = '';\r\n                if (browser.ie && browser.version > 8) {\r\n\r\n                    utils.each(UE.filterNode(UE.htmlparser(html), me.options.filterTxtRules).children, function(node) {\r\n                        if (node.type == 'element') {\r\n                            if (node.tagName == 'br') {\r\n                                htmlstr += '\\n'\r\n                            } else if (!dtd.$empty[node.tagName]) {\r\n                                utils.each(node.children, function(cn) {\r\n                                    if (cn.type == 'element') {\r\n                                        if (cn.tagName == 'br') {\r\n                                            htmlstr += '\\n'\r\n                                        } else if (!dtd.$empty[node.tagName]) {\r\n                                            htmlstr += cn.innerText();\r\n                                        }\r\n                                    } else {\r\n                                        htmlstr += cn.data\r\n                                    }\r\n                                })\r\n                                if (!/\\n$/.test(htmlstr)) {\r\n                                    htmlstr += '\\n';\r\n                                }\r\n                            }\r\n                        } else {\r\n                            htmlstr += node.data + '\\n'\r\n                        }\r\n                        if (!node.nextSibling() && /\\n$/.test(htmlstr)) {\r\n                            htmlstr = htmlstr.replace(/\\n$/, '');\r\n                        }\r\n                    });\r\n                    var tmpNode = me.document.createTextNode(utils.html(htmlstr.replace(/&nbsp;/g, ' ')));\r\n                    rng.insertNode(tmpNode).selectNode(tmpNode).select();\r\n                } else {\r\n                    var frag = me.document.createDocumentFragment();\r\n\r\n                    utils.each(UE.filterNode(UE.htmlparser(html), me.options.filterTxtRules).children, function(node) {\r\n                        if (node.type == 'element') {\r\n                            if (node.tagName == 'br') {\r\n                                frag.appendChild(me.document.createElement('br'))\r\n                            } else if (!dtd.$empty[node.tagName]) {\r\n                                utils.each(node.children, function(cn) {\r\n                                    if (cn.type == 'element') {\r\n                                        if (cn.tagName == 'br') {\r\n\r\n                                            frag.appendChild(me.document.createElement('br'))\r\n                                        } else if (!dtd.$empty[node.tagName]) {\r\n                                            frag.appendChild(me.document.createTextNode(utils.html(cn.innerText().replace(/&nbsp;/g, ' '))));\r\n\r\n                                        }\r\n                                    } else {\r\n                                        frag.appendChild(me.document.createTextNode(utils.html(cn.data.replace(/&nbsp;/g, ' '))));\r\n\r\n                                    }\r\n                                })\r\n                                if (frag.lastChild.nodeName != 'BR') {\r\n                                    frag.appendChild(me.document.createElement('br'))\r\n                                }\r\n                            }\r\n                        } else {\r\n                            frag.appendChild(me.document.createTextNode(utils.html(node.data.replace(/&nbsp;/g, ' '))));\r\n                        }\r\n                        if (!node.nextSibling() && frag.lastChild.nodeName == 'BR') {\r\n                            frag.removeChild(frag.lastChild)\r\n                        }\r\n\r\n\r\n                    });\r\n                    rng.insertNode(frag).select();\r\n\r\n                }\r\n\r\n                return true;\r\n            }\r\n        });\r\n        //方向键的处理\r\n        me.addListener('keydown', function(cmd, evt) {\r\n            var me = this,\r\n                keyCode = evt.keyCode || evt.which;\r\n            if (keyCode == 40) {\r\n                var rng = me.selection.getRange(),\r\n                    pre, start = rng.startContainer;\r\n                if (rng.collapsed && (pre = domUtils.findParentByTagName(rng.startContainer, 'pre', true)) && !pre.nextSibling) {\r\n                    var last = pre.lastChild\r\n                    while (last && last.nodeName == 'BR') {\r\n                        last = last.previousSibling;\r\n                    }\r\n                    if (last === start || rng.startContainer === pre && rng.startOffset == pre.childNodes.length) {\r\n                        me.execCommand('insertparagraph');\r\n                        domUtils.preventDefault(evt)\r\n                    }\r\n\r\n                }\r\n            }\r\n        });\r\n        //trace:3395\r\n        me.addListener('delkeydown', function(type, evt) {\r\n            var rng = this.selection.getRange();\r\n            rng.txtToElmBoundary(true);\r\n            var start = rng.startContainer;\r\n            if (domUtils.isTagNode(start, 'pre') && rng.collapsed && domUtils.isStartInblock(rng)) {\r\n                var p = me.document.createElement('p');\r\n                domUtils.fillNode(me.document, p);\r\n                start.parentNode.insertBefore(p, start);\r\n                domUtils.remove(start);\r\n                rng.setStart(p, 0).setCursor(false, true);\r\n                domUtils.preventDefault(evt);\r\n                return true;\r\n            }\r\n        })\r\n    };\r\n\r\n\r\n    // plugins/cleardoc.js\r\n    /**\r\n     * 清空文档插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 清空文档\r\n     * @command cleardoc\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * //editor 是编辑器实例\r\n     * editor.execCommand('cleardoc');\r\n     * ```\r\n     */\r\n\r\n    UE.commands['cleardoc'] = {\r\n        execCommand: function(cmdName) {\r\n            var me = this,\r\n                enterTag = me.options.enterTag,\r\n                range = me.selection.getRange();\r\n            if (enterTag == \"br\") {\r\n                me.body.innerHTML = \"<br/>\";\r\n                range.setStart(me.body, 0).setCursor();\r\n            } else {\r\n                me.body.innerHTML = \"<p>\" + (ie ? \"\" : \"<br/>\") + \"</p>\";\r\n                range.setStart(me.body.firstChild, 0).setCursor(false, true);\r\n            }\r\n            setTimeout(function() {\r\n                me.fireEvent(\"clearDoc\");\r\n            }, 0);\r\n\r\n        }\r\n    };\r\n\r\n\r\n\r\n    // plugins/anchor.js\r\n    /**\r\n     * 锚点插件，为UEditor提供插入锚点支持\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n    UE.plugin.register('anchor', function() {\r\n\r\n        return {\r\n            bindEvents: {\r\n                'ready': function() {\r\n                    utils.cssRule('anchor',\r\n                        '.anchorclass{background: url(\\'' +\r\n                        this.options.themePath +\r\n                        this.options.theme + '/images/anchor.gif\\') no-repeat scroll left center transparent;cursor: auto;display: inline-block;height: 16px;width: 15px;}',\r\n                        this.document);\r\n                }\r\n            },\r\n            outputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('img'), function(a) {\r\n                    var val;\r\n                    if (val = a.getAttr('anchorname')) {\r\n                        a.tagName = 'a';\r\n                        a.setAttr({\r\n                            anchorname: '',\r\n                            name: val,\r\n                            'class': ''\r\n                        })\r\n                    }\r\n                })\r\n            },\r\n            inputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('a'), function(a) {\r\n                    var val;\r\n                    if ((val = a.getAttr('name')) && !a.getAttr('href')) {\r\n                        a.tagName = 'img';\r\n                        a.setAttr({\r\n                            anchorname: a.getAttr('name'),\r\n                            'class': 'anchorclass'\r\n                        });\r\n                        a.setAttr('name')\r\n\r\n                    }\r\n                })\r\n\r\n            },\r\n            commands: {\r\n                /**\r\n                 * 插入锚点\r\n                 * @command anchor\r\n                 * @method execCommand\r\n                 * @param { String } cmd 命令字符串\r\n                 * @param { String } name 锚点名称字符串\r\n                 * @example\r\n                 * ```javascript\r\n                 * //editor 是编辑器实例\r\n                 * editor.execCommand('anchor', 'anchor1');\r\n                 * ```\r\n                 */\r\n                'anchor': {\r\n                    execCommand: function(cmd, name) {\r\n                        var range = this.selection.getRange(),\r\n                            img = range.getClosedNode();\r\n                        if (img && img.getAttribute('anchorname')) {\r\n                            if (name) {\r\n                                img.setAttribute('anchorname', name);\r\n                            } else {\r\n                                range.setStartBefore(img).setCursor();\r\n                                domUtils.remove(img);\r\n                            }\r\n                        } else {\r\n                            if (name) {\r\n                                //只在选区的开始插入\r\n                                var anchor = this.document.createElement('img');\r\n                                range.collapse(true);\r\n                                domUtils.setAttributes(anchor, {\r\n                                    'anchorname': name,\r\n                                    'class': 'anchorclass'\r\n                                });\r\n                                range.insertNode(anchor).setStartAfter(anchor).setCursor(false, true);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n    // plugins/wordcount.js\r\n    ///import core\r\n    ///commands 字数统计\r\n    ///commandsName  WordCount,wordCount\r\n    ///commandsTitle  字数统计\r\n    /*\r\n     * Created by JetBrains WebStorm.\r\n     * User: taoqili\r\n     * Date: 11-9-7\r\n     * Time: 下午8:18\r\n     * To change this template use File | Settings | File Templates.\r\n     */\r\n\r\n    UE.plugins['wordcount'] = function() {\r\n        var me = this;\r\n        me.setOpt('wordCount', true);\r\n        me.addListener('contentchange', function() {\r\n            me.fireEvent('wordcount');\r\n        });\r\n        var timer;\r\n        me.addListener('ready', function() {\r\n            var me = this;\r\n            domUtils.on(me.body, \"keyup\", function(evt) {\r\n                var code = evt.keyCode || evt.which,\r\n                    //忽略的按键,ctr,alt,shift,方向键\r\n                    ignores = { \"16\": 1, \"18\": 1, \"20\": 1, \"37\": 1, \"38\": 1, \"39\": 1, \"40\": 1 };\r\n                if (code in ignores) return;\r\n                clearTimeout(timer);\r\n                timer = setTimeout(function() {\r\n                    me.fireEvent('wordcount');\r\n                }, 200)\r\n            })\r\n        });\r\n    };\r\n\r\n\r\n    // plugins/pagebreak.js\r\n    /**\r\n     * 分页功能插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n    UE.plugins['pagebreak'] = function() {\r\n        var me = this,\r\n            notBreakTags = ['td'];\r\n        me.setOpt('pageBreakTag', '_ueditor_page_break_tag_');\r\n\r\n        function fillNode(node) {\r\n            if (domUtils.isEmptyBlock(node)) {\r\n                var firstChild = node.firstChild,\r\n                    tmpNode;\r\n\r\n                while (firstChild && firstChild.nodeType == 1 && domUtils.isEmptyBlock(firstChild)) {\r\n                    tmpNode = firstChild;\r\n                    firstChild = firstChild.firstChild;\r\n                }!tmpNode && (tmpNode = node);\r\n                domUtils.fillNode(me.document, tmpNode);\r\n            }\r\n        }\r\n        //分页符样式添加\r\n\r\n        me.ready(function() {\r\n            utils.cssRule('pagebreak', '.pagebreak{display:block;clear:both !important;cursor:default !important;width: 100% !important;margin:0;}', me.document);\r\n        });\r\n\r\n        function isHr(node) {\r\n            return node && node.nodeType == 1 && node.tagName == 'HR' && node.className == 'pagebreak';\r\n        }\r\n        me.addInputRule(function(root) {\r\n            root.traversal(function(node) {\r\n                if (node.type == 'text' && node.data == me.options.pageBreakTag) {\r\n                    var hr = UE.uNode.createElement('<hr class=\"pagebreak\" noshade=\"noshade\" size=\"5\" style=\"-webkit-user-select: none;\">');\r\n                    node.parentNode.insertBefore(hr, node);\r\n                    node.parentNode.removeChild(node)\r\n                }\r\n            })\r\n        });\r\n        me.addOutputRule(function(node) {\r\n            utils.each(node.getNodesByTagName('hr'), function(n) {\r\n                if (n.getAttr('class') == 'pagebreak') {\r\n                    var txt = UE.uNode.createText(me.options.pageBreakTag);\r\n                    n.parentNode.insertBefore(txt, n);\r\n                    n.parentNode.removeChild(n);\r\n                }\r\n            })\r\n\r\n        });\r\n\r\n        /**\r\n         * 插入分页符\r\n         * @command pagebreak\r\n         * @method execCommand\r\n         * @param { String } cmd 命令字符串\r\n         * @remind 在表格中插入分页符会把表格切分成两部分\r\n         * @remind 获取编辑器内的数据时， 编辑器会把分页符转换成“_ueditor_page_break_tag_”字符串，\r\n         *          以便于提交数据到服务器端后处理分页。\r\n         * @example\r\n         * ```javascript\r\n         * editor.execCommand( 'pagebreak'); //插入一个hr标签，带有样式类名pagebreak\r\n         * ```\r\n         */\r\n\r\n        me.commands['pagebreak'] = {\r\n            execCommand: function() {\r\n                var range = me.selection.getRange(),\r\n                    hr = me.document.createElement('hr');\r\n                domUtils.setAttributes(hr, {\r\n                    'class': 'pagebreak',\r\n                    noshade: \"noshade\",\r\n                    size: \"5\"\r\n                });\r\n                domUtils.unSelectable(hr);\r\n                //table单独处理\r\n                var node = domUtils.findParentByTagName(range.startContainer, notBreakTags, true),\r\n\r\n                    parents = [],\r\n                    pN;\r\n                if (node) {\r\n                    switch (node.tagName) {\r\n                        case 'TD':\r\n                            pN = node.parentNode;\r\n                            if (!pN.previousSibling) {\r\n                                var table = domUtils.findParentByTagName(pN, 'table');\r\n                                //                            var tableWrapDiv = table.parentNode;\r\n                                //                            if(tableWrapDiv && tableWrapDiv.nodeType == 1\r\n                                //                                && tableWrapDiv.tagName == 'DIV'\r\n                                //                                && tableWrapDiv.getAttribute('dropdrag')\r\n                                //                                ){\r\n                                //                                domUtils.remove(tableWrapDiv,true);\r\n                                //                            }\r\n                                table.parentNode.insertBefore(hr, table);\r\n                                parents = domUtils.findParents(hr, true);\r\n\r\n                            } else {\r\n                                pN.parentNode.insertBefore(hr, pN);\r\n                                parents = domUtils.findParents(hr);\r\n\r\n                            }\r\n                            pN = parents[1];\r\n                            if (hr !== pN) {\r\n                                domUtils.breakParent(hr, pN);\r\n\r\n                            }\r\n                            //table要重写绑定一下拖拽\r\n                            me.fireEvent('afteradjusttable', me.document);\r\n                    }\r\n\r\n                } else {\r\n\r\n                    if (!range.collapsed) {\r\n                        range.deleteContents();\r\n                        var start = range.startContainer;\r\n                        while (!domUtils.isBody(start) && domUtils.isBlockElm(start) && domUtils.isEmptyNode(start)) {\r\n                            range.setStartBefore(start).collapse(true);\r\n                            domUtils.remove(start);\r\n                            start = range.startContainer;\r\n                        }\r\n\r\n                    }\r\n                    range.insertNode(hr);\r\n\r\n                    var pN = hr.parentNode,\r\n                        nextNode;\r\n                    while (!domUtils.isBody(pN)) {\r\n                        domUtils.breakParent(hr, pN);\r\n                        nextNode = hr.nextSibling;\r\n                        if (nextNode && domUtils.isEmptyBlock(nextNode)) {\r\n                            domUtils.remove(nextNode);\r\n                        }\r\n                        pN = hr.parentNode;\r\n                    }\r\n                    nextNode = hr.nextSibling;\r\n                    var pre = hr.previousSibling;\r\n                    if (isHr(pre)) {\r\n                        domUtils.remove(pre);\r\n                    } else {\r\n                        pre && fillNode(pre);\r\n                    }\r\n\r\n                    if (!nextNode) {\r\n                        var p = me.document.createElement('p');\r\n\r\n                        hr.parentNode.appendChild(p);\r\n                        domUtils.fillNode(me.document, p);\r\n                        range.setStart(p, 0).collapse(true);\r\n                    } else {\r\n                        if (isHr(nextNode)) {\r\n                            domUtils.remove(nextNode);\r\n                        } else {\r\n                            fillNode(nextNode);\r\n                        }\r\n                        range.setEndAfter(hr).collapse(false);\r\n                    }\r\n\r\n                    range.select(true);\r\n\r\n                }\r\n\r\n            }\r\n        };\r\n    };\r\n\r\n    // plugins/wordimage.js\r\n    ///import core\r\n    ///commands 本地图片引导上传\r\n    ///commandsName  WordImage\r\n    ///commandsTitle  本地图片引导上传\r\n    ///commandsDialog  dialogs\\wordimage\r\n\r\n    UE.plugin.register('wordimage', function() {\r\n        var me = this,\r\n            images = [];\r\n        return {\r\n            commands: {\r\n                'wordimage': {\r\n                    execCommand: function() {\r\n                        var images = domUtils.getElementsByTagName(me.body, \"img\");\r\n                        var urlList = [];\r\n                        for (var i = 0, ci; ci = images[i++];) {\r\n                            var url = ci.getAttribute(\"word_img\");\r\n                            url && urlList.push(url);\r\n                        }\r\n                        return urlList;\r\n                    },\r\n                    queryCommandState: function() {\r\n                        images = domUtils.getElementsByTagName(me.body, \"img\");\r\n                        for (var i = 0, ci; ci = images[i++];) {\r\n                            if (ci.getAttribute(\"word_img\")) {\r\n                                return 1;\r\n                            }\r\n                        }\r\n                        return -1;\r\n                    },\r\n                    notNeedUndo: true\r\n                }\r\n            },\r\n            inputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('img'), function(img) {\r\n                    var attrs = img.attrs,\r\n                        flag = parseInt(attrs.width) < 128 || parseInt(attrs.height) < 43,\r\n                        opt = me.options,\r\n                        src = opt.UEDITOR_HOME_URL + 'themes/default/images/spacer.gif';\r\n                    if (attrs['src'] && /^(?:(file:\\/+))/.test(attrs['src'])) {\r\n                        img.setAttr({\r\n                            width: attrs.width,\r\n                            height: attrs.height,\r\n                            alt: attrs.alt,\r\n                            word_img: attrs.src,\r\n                            src: src,\r\n                            'style': 'background:url(' + (flag ? opt.themePath + opt.theme + '/images/word.gif' : opt.langPath + opt.lang + '/images/localimage.png') + ') no-repeat center center;border:1px solid #ddd'\r\n                        })\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    });\r\n\r\n    // plugins/dragdrop.js\r\n    UE.plugins['dragdrop'] = function() {\r\n\r\n        var me = this;\r\n        me.ready(function() {\r\n            domUtils.on(this.body, 'dragend', function() {\r\n                var rng = me.selection.getRange();\r\n                var node = rng.getClosedNode() || me.selection.getStart();\r\n\r\n                if (node && node.tagName == 'IMG') {\r\n\r\n                    var pre = node.previousSibling,\r\n                        next;\r\n                    while (next = node.nextSibling) {\r\n                        if (next.nodeType == 1 && next.tagName == 'SPAN' && !next.firstChild) {\r\n                            domUtils.remove(next)\r\n                        } else {\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n\r\n                    if ((pre && pre.nodeType == 1 && !domUtils.isEmptyBlock(pre) || !pre) && (!next || next && !domUtils.isEmptyBlock(next))) {\r\n                        if (pre && pre.tagName == 'P' && !domUtils.isEmptyBlock(pre)) {\r\n                            pre.appendChild(node);\r\n                            domUtils.moveChild(next, pre);\r\n                            domUtils.remove(next);\r\n                        } else if (next && next.tagName == 'P' && !domUtils.isEmptyBlock(next)) {\r\n                            next.insertBefore(node, next.firstChild);\r\n                        }\r\n\r\n                        if (pre && pre.tagName == 'P' && domUtils.isEmptyBlock(pre)) {\r\n                            domUtils.remove(pre)\r\n                        }\r\n                        if (next && next.tagName == 'P' && domUtils.isEmptyBlock(next)) {\r\n                            domUtils.remove(next)\r\n                        }\r\n                        rng.selectNode(node).select();\r\n                        me.fireEvent('saveScene');\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            })\r\n        });\r\n        me.addListener('keyup', function(type, evt) {\r\n            var keyCode = evt.keyCode || evt.which;\r\n            if (keyCode == 13) {\r\n                var rng = me.selection.getRange(),\r\n                    node;\r\n                if (node = domUtils.findParentByTagName(rng.startContainer, 'p', true)) {\r\n                    if (domUtils.getComputedStyle(node, 'text-align') == 'center') {\r\n                        domUtils.removeStyle(node, 'text-align')\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    };\r\n\r\n\r\n    // plugins/undo.js\r\n    /**\r\n     * undo redo\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 撤销上一次执行的命令\r\n     * @command undo\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'undo' );\r\n     * ```\r\n     */\r\n\r\n    /**\r\n     * 重做上一次执行的命令\r\n     * @command redo\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'redo' );\r\n     * ```\r\n     */\r\n\r\n    UE.plugins['undo'] = function() {\r\n        var saveSceneTimer;\r\n        var me = this,\r\n            maxUndoCount = me.options.maxUndoCount || 20,\r\n            maxInputCount = me.options.maxInputCount || 20,\r\n            fillchar = new RegExp(domUtils.fillChar + '|<\\/hr>', 'gi'); // ie会产生多余的</hr>\r\n        var noNeedFillCharTags = {\r\n            ol: 1,\r\n            ul: 1,\r\n            table: 1,\r\n            tbody: 1,\r\n            tr: 1,\r\n            body: 1\r\n        };\r\n        var orgState = me.options.autoClearEmptyNode;\r\n\r\n        function compareAddr(indexA, indexB) {\r\n            if (indexA.length != indexB.length)\r\n                return 0;\r\n            for (var i = 0, l = indexA.length; i < l; i++) {\r\n                if (indexA[i] != indexB[i])\r\n                    return 0\r\n            }\r\n            return 1;\r\n        }\r\n\r\n        function compareRangeAddress(rngAddrA, rngAddrB) {\r\n            if (rngAddrA.collapsed != rngAddrB.collapsed) {\r\n                return 0;\r\n            }\r\n            if (!compareAddr(rngAddrA.startAddress, rngAddrB.startAddress) || !compareAddr(rngAddrA.endAddress, rngAddrB.endAddress)) {\r\n                return 0;\r\n            }\r\n            return 1;\r\n        }\r\n\r\n        function UndoManager() {\r\n            this.list = [];\r\n            this.index = 0;\r\n            this.hasUndo = false;\r\n            this.hasRedo = false;\r\n            this.undo = function() {\r\n                if (this.hasUndo) {\r\n                    if (!this.list[this.index - 1] && this.list.length == 1) {\r\n                        this.reset();\r\n                        return;\r\n                    }\r\n                    while (this.list[this.index].content == this.list[this.index - 1].content) {\r\n                        this.index--;\r\n                        if (this.index == 0) {\r\n                            return this.restore(0);\r\n                        }\r\n                    }\r\n                    this.restore(--this.index);\r\n                }\r\n            };\r\n            this.redo = function() {\r\n                if (this.hasRedo) {\r\n                    while (this.list[this.index].content == this.list[this.index + 1].content) {\r\n                        this.index++;\r\n                        if (this.index == this.list.length - 1) {\r\n                            return this.restore(this.index);\r\n                        }\r\n                    }\r\n                    this.restore(++this.index);\r\n                }\r\n            };\r\n\r\n            this.restore = function() {\r\n                var me = this.editor;\r\n                var scene = this.list[this.index];\r\n                var root = UE.htmlparser(scene.content.replace(fillchar, ''));\r\n                me.options.autoClearEmptyNode = false;\r\n                me.filterInputRule(root);\r\n                me.options.autoClearEmptyNode = orgState;\r\n                //trace:873\r\n                //去掉展位符\r\n                me.document.body.innerHTML = root.toHtml();\r\n                me.fireEvent('afterscencerestore');\r\n                //处理undo后空格不展位的问题\r\n                if (browser.ie) {\r\n                    utils.each(domUtils.getElementsByTagName(me.document, 'td th caption p'), function(node) {\r\n                        if (domUtils.isEmptyNode(node)) {\r\n                            domUtils.fillNode(me.document, node);\r\n                        }\r\n                    })\r\n                }\r\n\r\n                try {\r\n                    var rng = new dom.Range(me.document).moveToAddress(scene.address);\r\n                    rng.select(noNeedFillCharTags[rng.startContainer.nodeName.toLowerCase()]);\r\n                } catch (e) {}\r\n\r\n                this.update();\r\n                this.clearKey();\r\n                //不能把自己reset了\r\n                me.fireEvent('reset', true);\r\n            };\r\n\r\n            this.getScene = function() {\r\n                var me = this.editor;\r\n                var rng = me.selection.getRange(),\r\n                    rngAddress = rng.createAddress(false, true);\r\n                me.fireEvent('beforegetscene');\r\n                var root = UE.htmlparser(me.body.innerHTML);\r\n                me.options.autoClearEmptyNode = false;\r\n                me.filterOutputRule(root);\r\n                me.options.autoClearEmptyNode = orgState;\r\n                var cont = root.toHtml();\r\n                //trace:3461\r\n                //这个会引起回退时导致空格丢失的情况\r\n                //            browser.ie && (cont = cont.replace(/>&nbsp;</g, '><').replace(/\\s*</g, '<').replace(/>\\s*/g, '>'));\r\n                me.fireEvent('aftergetscene');\r\n\r\n                return {\r\n                    address: rngAddress,\r\n                    content: cont\r\n                }\r\n            };\r\n            this.save = function(notCompareRange, notSetCursor) {\r\n                clearTimeout(saveSceneTimer);\r\n                var currentScene = this.getScene(notSetCursor),\r\n                    lastScene = this.list[this.index];\r\n\r\n                if (lastScene && lastScene.content != currentScene.content) {\r\n                    me.trigger('contentchange')\r\n                }\r\n                //内容相同位置相同不存\r\n                if (lastScene && lastScene.content == currentScene.content &&\r\n                    (notCompareRange ? 1 : compareRangeAddress(lastScene.address, currentScene.address))\r\n                ) {\r\n                    return;\r\n                }\r\n                this.list = this.list.slice(0, this.index + 1);\r\n                this.list.push(currentScene);\r\n                //如果大于最大数量了，就把最前的剔除\r\n                if (this.list.length > maxUndoCount) {\r\n                    this.list.shift();\r\n                }\r\n                this.index = this.list.length - 1;\r\n                this.clearKey();\r\n                //跟新undo/redo状态\r\n                this.update();\r\n\r\n            };\r\n            this.update = function() {\r\n                this.hasRedo = !!this.list[this.index + 1];\r\n                this.hasUndo = !!this.list[this.index - 1];\r\n            };\r\n            this.reset = function() {\r\n                this.list = [];\r\n                this.index = 0;\r\n                this.hasUndo = false;\r\n                this.hasRedo = false;\r\n                this.clearKey();\r\n            };\r\n            this.clearKey = function() {\r\n                keycont = 0;\r\n                lastKeyCode = null;\r\n            };\r\n        }\r\n\r\n        me.undoManger = new UndoManager();\r\n        me.undoManger.editor = me;\r\n\r\n        function saveScene() {\r\n            this.undoManger.save();\r\n        }\r\n\r\n        me.addListener('saveScene', function() {\r\n            var args = Array.prototype.splice.call(arguments, 1);\r\n            this.undoManger.save.apply(this.undoManger, args);\r\n        });\r\n\r\n        //    me.addListener('beforeexeccommand', saveScene);\r\n        //    me.addListener('afterexeccommand', saveScene);\r\n\r\n        me.addListener('reset', function(type, exclude) {\r\n            if (!exclude) {\r\n                this.undoManger.reset();\r\n            }\r\n        });\r\n        me.commands['redo'] = me.commands['undo'] = {\r\n            execCommand: function(cmdName) {\r\n                this.undoManger[cmdName]();\r\n            },\r\n            queryCommandState: function(cmdName) {\r\n                return this.undoManger['has' + (cmdName.toLowerCase() == 'undo' ? 'Undo' : 'Redo')] ? 0 : -1;\r\n            },\r\n            notNeedUndo: 1\r\n        };\r\n\r\n        var keys = {\r\n                //  /*Backspace*/ 8:1, /*Delete*/ 46:1,\r\n                /*Shift*/\r\n                16: 1,\r\n                /*Ctrl*/\r\n                17: 1,\r\n                /*Alt*/\r\n                18: 1,\r\n                37: 1,\r\n                38: 1,\r\n                39: 1,\r\n                40: 1\r\n\r\n            },\r\n            keycont = 0,\r\n            lastKeyCode;\r\n        //输入法状态下不计算字符数\r\n        var inputType = false;\r\n        me.addListener('ready', function() {\r\n            domUtils.on(this.body, 'compositionstart', function() {\r\n                inputType = true;\r\n            });\r\n            domUtils.on(this.body, 'compositionend', function() {\r\n                inputType = false;\r\n            })\r\n        });\r\n        //快捷键\r\n        me.addshortcutkey({\r\n            \"Undo\": \"ctrl+90\", //undo\r\n            \"Redo\": \"ctrl+89\" //redo\r\n\r\n        });\r\n        var isCollapsed = true;\r\n        me.addListener('keydown', function(type, evt) {\r\n\r\n            var me = this;\r\n            var keyCode = evt.keyCode || evt.which;\r\n            if (!keys[keyCode] && !evt.ctrlKey && !evt.metaKey && !evt.shiftKey && !evt.altKey) {\r\n                if (inputType)\r\n                    return;\r\n\r\n                if (!me.selection.getRange().collapsed) {\r\n                    me.undoManger.save(false, true);\r\n                    isCollapsed = false;\r\n                    return;\r\n                }\r\n                if (me.undoManger.list.length == 0) {\r\n                    me.undoManger.save(true);\r\n                }\r\n                clearTimeout(saveSceneTimer);\r\n\r\n                function save(cont) {\r\n                    cont.undoManger.save(false, true);\r\n                    cont.fireEvent('selectionchange');\r\n                }\r\n                saveSceneTimer = setTimeout(function() {\r\n                    if (inputType) {\r\n                        var interalTimer = setInterval(function() {\r\n                            if (!inputType) {\r\n                                save(me);\r\n                                clearInterval(interalTimer)\r\n                            }\r\n                        }, 300)\r\n                        return;\r\n                    }\r\n                    save(me);\r\n                }, 200);\r\n\r\n                lastKeyCode = keyCode;\r\n                keycont++;\r\n                if (keycont >= maxInputCount) {\r\n                    save(me)\r\n                }\r\n            }\r\n        });\r\n        me.addListener('keyup', function(type, evt) {\r\n            var keyCode = evt.keyCode || evt.which;\r\n            if (!keys[keyCode] && !evt.ctrlKey && !evt.metaKey && !evt.shiftKey && !evt.altKey) {\r\n                if (inputType)\r\n                    return;\r\n                if (!isCollapsed) {\r\n                    this.undoManger.save(false, true);\r\n                    isCollapsed = true;\r\n                }\r\n            }\r\n        });\r\n        //扩展实例，添加关闭和开启命令undo\r\n        me.stopCmdUndo = function() {\r\n            me.__hasEnterExecCommand = true;\r\n        };\r\n        me.startCmdUndo = function() {\r\n            me.__hasEnterExecCommand = false;\r\n        }\r\n    };\r\n\r\n\r\n    // plugins/copy.js\r\n    UE.plugin.register('copy', function() {\r\n\r\n        var me = this;\r\n\r\n        function initZeroClipboard() {\r\n\r\n            ZeroClipboard.config({\r\n                debug: false,\r\n                swfPath: me.options.UEDITOR_HOME_URL + 'third-party/zeroclipboard/ZeroClipboard.swf'\r\n            });\r\n\r\n            var client = me.zeroclipboard = new ZeroClipboard();\r\n\r\n            // 复制内容\r\n            client.on('copy', function(e) {\r\n                var client = e.client,\r\n                    rng = me.selection.getRange(),\r\n                    div = document.createElement('div');\r\n\r\n                div.appendChild(rng.cloneContents());\r\n                client.setText(div.innerText || div.textContent);\r\n                client.setHtml(div.innerHTML);\r\n                rng.select();\r\n            });\r\n            // hover事件传递到target\r\n            client.on('mouseover mouseout', function(e) {\r\n                var target = e.target;\r\n                if (e.type == 'mouseover') {\r\n                    domUtils.addClass(target, 'edui-state-hover');\r\n                } else if (e.type == 'mouseout') {\r\n                    domUtils.removeClasses(target, 'edui-state-hover');\r\n                }\r\n            });\r\n            // flash加载不成功\r\n            client.on('wrongflash noflash', function() {\r\n                ZeroClipboard.destroy();\r\n            });\r\n        }\r\n\r\n        return {\r\n            bindEvents: {\r\n                'ready': function() {\r\n                    if (!browser.ie) {\r\n                        if (window.ZeroClipboard) {\r\n                            initZeroClipboard();\r\n                        } else {\r\n                            utils.loadFile(document, {\r\n                                src: me.options.UEDITOR_HOME_URL + \"third-party/zeroclipboard/ZeroClipboard.js\",\r\n                                tag: \"script\",\r\n                                type: \"text/javascript\",\r\n                                defer: \"defer\"\r\n                            }, function() {\r\n                                initZeroClipboard();\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            commands: {\r\n                'copy': {\r\n                    execCommand: function(cmd) {\r\n                        if (!me.document.execCommand('copy')) {\r\n                            alert(me.getLang('copymsg'));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n    // plugins/paste.js\r\n    ///import core\r\n    ///import plugins/inserthtml.js\r\n    ///import plugins/undo.js\r\n    ///import plugins/serialize.js\r\n    ///commands 粘贴\r\n    ///commandsName  PastePlain\r\n    ///commandsTitle  纯文本粘贴模式\r\n    /**\r\n     * @description 粘贴\r\n     * @author zhanyi\r\n     */\r\n    UE.plugins['paste'] = function() {\r\n        function getClipboardData(callback) {\r\n            var doc = this.document;\r\n            if (doc.getElementById('baidu_pastebin')) {\r\n                return;\r\n            }\r\n            var range = this.selection.getRange(),\r\n                bk = range.createBookmark(),\r\n                //创建剪贴的容器div\r\n                pastebin = doc.createElement('div');\r\n            pastebin.id = 'baidu_pastebin';\r\n            // Safari 要求div必须有内容，才能粘贴内容进来\r\n            browser.webkit && pastebin.appendChild(doc.createTextNode(domUtils.fillChar + domUtils.fillChar));\r\n            doc.body.appendChild(pastebin);\r\n            //trace:717 隐藏的span不能得到top\r\n            //bk.start.innerHTML = '&nbsp;';\r\n            bk.start.style.display = '';\r\n            pastebin.style.cssText = \"position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:\" +\r\n                //要在现在光标平行的位置加入，否则会出现跳动的问题\r\n                domUtils.getXY(bk.start).y + 'px';\r\n\r\n            range.selectNodeContents(pastebin).select(true);\r\n\r\n            setTimeout(function() {\r\n                if (browser.webkit) {\r\n                    for (var i = 0, pastebins = doc.querySelectorAll('#baidu_pastebin'), pi; pi = pastebins[i++];) {\r\n                        if (domUtils.isEmptyNode(pi)) {\r\n                            domUtils.remove(pi);\r\n                        } else {\r\n                            pastebin = pi;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                try {\r\n                    pastebin.parentNode.removeChild(pastebin);\r\n                } catch (e) {}\r\n                range.moveToBookmark(bk).select(true);\r\n                callback(pastebin);\r\n            }, 0);\r\n        }\r\n\r\n        var me = this;\r\n\r\n        me.setOpt({\r\n            retainOnlyLabelPasted: false\r\n        });\r\n\r\n        var txtContent, htmlContent, address;\r\n\r\n        function getPureHtml(html) {\r\n            return html.replace(/<(\\/?)([\\w\\-]+)([^>]*)>/gi, function(a, b, tagName, attrs) {\r\n                tagName = tagName.toLowerCase();\r\n                if ({ img: 1 }[tagName]) {\r\n                    return a;\r\n                }\r\n                attrs = attrs.replace(/([\\w\\-]*?)\\s*=\\s*((\"([^\"]*)\")|('([^']*)')|([^\\s>]+))/gi, function(str, atr, val) {\r\n                    if ({\r\n                            'src': 1,\r\n                            'href': 1,\r\n                            'name': 1\r\n                        }[atr.toLowerCase()]) {\r\n                        return atr + '=' + val + ' '\r\n                    }\r\n                    return ''\r\n                });\r\n                if ({\r\n                        'span': 1,\r\n                        'div': 1\r\n                    }[tagName]) {\r\n                    return ''\r\n                } else {\r\n\r\n                    return '<' + b + tagName + ' ' + utils.trim(attrs) + '>'\r\n                }\r\n\r\n            });\r\n        }\r\n\r\n        function filter(div) {\r\n            var html;\r\n            if (div.firstChild) {\r\n                //去掉cut中添加的边界值\r\n                var nodes = domUtils.getElementsByTagName(div, 'span');\r\n                for (var i = 0, ni; ni = nodes[i++];) {\r\n                    if (ni.id == '_baidu_cut_start' || ni.id == '_baidu_cut_end') {\r\n                        domUtils.remove(ni);\r\n                    }\r\n                }\r\n\r\n                if (browser.webkit) {\r\n\r\n                    var brs = div.querySelectorAll('div br');\r\n                    for (var i = 0, bi; bi = brs[i++];) {\r\n                        var pN = bi.parentNode;\r\n                        if (pN.tagName == 'DIV' && pN.childNodes.length == 1) {\r\n                            pN.innerHTML = '<p><br/></p>';\r\n                            domUtils.remove(pN);\r\n                        }\r\n                    }\r\n                    var divs = div.querySelectorAll('#baidu_pastebin');\r\n                    for (var i = 0, di; di = divs[i++];) {\r\n                        var tmpP = me.document.createElement('p');\r\n                        di.parentNode.insertBefore(tmpP, di);\r\n                        while (di.firstChild) {\r\n                            tmpP.appendChild(di.firstChild);\r\n                        }\r\n                        domUtils.remove(di);\r\n                    }\r\n\r\n                    var metas = div.querySelectorAll('meta');\r\n                    for (var i = 0, ci; ci = metas[i++];) {\r\n                        domUtils.remove(ci);\r\n                    }\r\n\r\n                    var brs = div.querySelectorAll('br');\r\n                    for (i = 0; ci = brs[i++];) {\r\n                        if (/^apple-/i.test(ci.className)) {\r\n                            domUtils.remove(ci);\r\n                        }\r\n                    }\r\n                }\r\n                if (browser.gecko) {\r\n                    var dirtyNodes = div.querySelectorAll('[_moz_dirty]');\r\n                    for (i = 0; ci = dirtyNodes[i++];) {\r\n                        ci.removeAttribute('_moz_dirty');\r\n                    }\r\n                }\r\n                if (!browser.ie) {\r\n                    var spans = div.querySelectorAll('span.Apple-style-span');\r\n                    for (var i = 0, ci; ci = spans[i++];) {\r\n                        domUtils.remove(ci, true);\r\n                    }\r\n                }\r\n\r\n                //ie下使用innerHTML会产生多余的\\r\\n字符，也会产生&nbsp;这里过滤掉\r\n                html = div.innerHTML; //.replace(/>(?:(\\s|&nbsp;)*?)</g,'><');\r\n\r\n                //过滤word粘贴过来的冗余属性\r\n                html = UE.filterWord(html);\r\n                //取消了忽略空白的第二个参数，粘贴过来的有些是有空白的，会被套上相关的标签\r\n                var root = UE.htmlparser(html);\r\n                //如果给了过滤规则就先进行过滤\r\n                if (me.options.filterRules) {\r\n                    UE.filterNode(root, me.options.filterRules);\r\n                }\r\n                //执行默认的处理\r\n                me.filterInputRule(root);\r\n                //针对chrome的处理\r\n                if (browser.webkit) {\r\n                    var br = root.lastChild();\r\n                    if (br && br.type == 'element' && br.tagName == 'br') {\r\n                        root.removeChild(br)\r\n                    }\r\n                    utils.each(me.body.querySelectorAll('div'), function(node) {\r\n                        if (domUtils.isEmptyBlock(node)) {\r\n                            domUtils.remove(node, true)\r\n                        }\r\n                    })\r\n                }\r\n                html = { 'html': root.toHtml() };\r\n                me.fireEvent('beforepaste', html, root);\r\n                //抢了默认的粘贴，那后边的内容就不执行了，比如表格粘贴\r\n                if (!html.html) {\r\n                    return;\r\n                }\r\n                root = UE.htmlparser(html.html, true);\r\n                //如果开启了纯文本模式\r\n                if (me.queryCommandState('pasteplain') === 1) {\r\n                    me.execCommand('insertHtml', UE.filterNode(root, me.options.filterTxtRules).toHtml(), true);\r\n                } else {\r\n                    //文本模式\r\n                    UE.filterNode(root, me.options.filterTxtRules);\r\n                    txtContent = root.toHtml();\r\n                    //完全模式\r\n                    htmlContent = html.html;\r\n\r\n                    address = me.selection.getRange().createAddress(true);\r\n                    me.execCommand('insertHtml', me.getOpt('retainOnlyLabelPasted') === true ? getPureHtml(htmlContent) : htmlContent, true);\r\n                }\r\n                me.fireEvent(\"afterpaste\", html);\r\n            }\r\n        }\r\n\r\n        me.addListener('pasteTransfer', function(cmd, plainType) {\r\n\r\n            if (address && txtContent && htmlContent && txtContent != htmlContent) {\r\n                var range = me.selection.getRange();\r\n                range.moveToAddress(address, true);\r\n\r\n                if (!range.collapsed) {\r\n\r\n                    while (!domUtils.isBody(range.startContainer)) {\r\n                        var start = range.startContainer;\r\n                        if (start.nodeType == 1) {\r\n                            start = start.childNodes[range.startOffset];\r\n                            if (!start) {\r\n                                range.setStartBefore(range.startContainer);\r\n                                continue;\r\n                            }\r\n                            var pre = start.previousSibling;\r\n\r\n                            if (pre && pre.nodeType == 3 && new RegExp('^[\\n\\r\\t ' + domUtils.fillChar + ']*$').test(pre.nodeValue)) {\r\n                                range.setStartBefore(pre)\r\n                            }\r\n                        }\r\n                        if (range.startOffset == 0) {\r\n                            range.setStartBefore(range.startContainer);\r\n                        } else {\r\n                            break;\r\n                        }\r\n\r\n                    }\r\n                    while (!domUtils.isBody(range.endContainer)) {\r\n                        var end = range.endContainer;\r\n                        if (end.nodeType == 1) {\r\n                            end = end.childNodes[range.endOffset];\r\n                            if (!end) {\r\n                                range.setEndAfter(range.endContainer);\r\n                                continue;\r\n                            }\r\n                            var next = end.nextSibling;\r\n                            if (next && next.nodeType == 3 && new RegExp('^[\\n\\r\\t' + domUtils.fillChar + ']*$').test(next.nodeValue)) {\r\n                                range.setEndAfter(next)\r\n                            }\r\n                        }\r\n                        if (range.endOffset == range.endContainer[range.endContainer.nodeType == 3 ? 'nodeValue' : 'childNodes'].length) {\r\n                            range.setEndAfter(range.endContainer);\r\n                        } else {\r\n                            break;\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n\r\n                range.deleteContents();\r\n                range.select(true);\r\n                me.__hasEnterExecCommand = true;\r\n                var html = htmlContent;\r\n                if (plainType === 2) {\r\n                    html = getPureHtml(html);\r\n                } else if (plainType) {\r\n                    html = txtContent;\r\n                }\r\n                me.execCommand('inserthtml', html, true);\r\n                me.__hasEnterExecCommand = false;\r\n                var rng = me.selection.getRange();\r\n                while (!domUtils.isBody(rng.startContainer) && !rng.startOffset &&\r\n                    rng.startContainer[rng.startContainer.nodeType == 3 ? 'nodeValue' : 'childNodes'].length\r\n                ) {\r\n                    rng.setStartBefore(rng.startContainer);\r\n                }\r\n                var tmpAddress = rng.createAddress(true);\r\n                address.endAddress = tmpAddress.startAddress;\r\n            }\r\n        });\r\n\r\n        me.addListener('ready', function() {\r\n            domUtils.on(me.body, 'cut', function() {\r\n                var range = me.selection.getRange();\r\n                if (!range.collapsed && me.undoManger) {\r\n                    me.undoManger.save();\r\n                }\r\n            });\r\n\r\n            //ie下beforepaste在点击右键时也会触发，所以用监控键盘才处理\r\n            domUtils.on(me.body, browser.ie || browser.opera ? 'keydown' : 'paste', function(e) {\r\n                if ((browser.ie || browser.opera) && ((!e.ctrlKey && !e.metaKey) || e.keyCode != '86')) {\r\n                    return;\r\n                }\r\n                getClipboardData.call(me, function(div) {\r\n                    filter(div);\r\n                });\r\n            });\r\n\r\n        });\r\n\r\n        me.commands['paste'] = {\r\n            execCommand: function(cmd) {\r\n                if (browser.ie) {\r\n                    getClipboardData.call(me, function(div) {\r\n                        filter(div);\r\n                    });\r\n                    me.document.execCommand('paste');\r\n                } else {\r\n                    alert(me.getLang('pastemsg'));\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n\r\n    // plugins/puretxtpaste.js\r\n    /**\r\n     * 纯文本粘贴插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    UE.plugins['pasteplain'] = function() {\r\n        var me = this;\r\n        me.setOpt({\r\n            'pasteplain': false,\r\n            'filterTxtRules': function() {\r\n                function transP(node) {\r\n                    node.tagName = 'p';\r\n                    node.setStyle();\r\n                }\r\n\r\n                function removeNode(node) {\r\n                    node.parentNode.removeChild(node, true)\r\n                }\r\n                return {\r\n                    //直接删除及其字节点内容\r\n                    '-': 'script style object iframe embed input select',\r\n                    'p': { $: {} },\r\n                    'br': { $: {} },\r\n                    div: function(node) {\r\n                        var tmpNode, p = UE.uNode.createElement('p');\r\n                        while (tmpNode = node.firstChild()) {\r\n                            if (tmpNode.type == 'text' || !UE.dom.dtd.$block[tmpNode.tagName]) {\r\n                                p.appendChild(tmpNode);\r\n                            } else {\r\n                                if (p.firstChild()) {\r\n                                    node.parentNode.insertBefore(p, node);\r\n                                    p = UE.uNode.createElement('p');\r\n                                } else {\r\n                                    node.parentNode.insertBefore(tmpNode, node);\r\n                                }\r\n                            }\r\n                        }\r\n                        if (p.firstChild()) {\r\n                            node.parentNode.insertBefore(p, node);\r\n                        }\r\n                        node.parentNode.removeChild(node);\r\n                    },\r\n                    ol: removeNode,\r\n                    ul: removeNode,\r\n                    dl: removeNode,\r\n                    dt: removeNode,\r\n                    dd: removeNode,\r\n                    'li': removeNode,\r\n                    'caption': transP,\r\n                    'th': transP,\r\n                    'tr': transP,\r\n                    'h1': transP,\r\n                    'h2': transP,\r\n                    'h3': transP,\r\n                    'h4': transP,\r\n                    'h5': transP,\r\n                    'h6': transP,\r\n                    'td': function(node) {\r\n                        //没有内容的td直接删掉\r\n                        var txt = !!node.innerText();\r\n                        if (txt) {\r\n                            node.parentNode.insertAfter(UE.uNode.createText(' &nbsp; &nbsp;'), node);\r\n                        }\r\n                        node.parentNode.removeChild(node, node.innerText())\r\n                    }\r\n                }\r\n            }()\r\n        });\r\n        //暂时这里支持一下老版本的属性\r\n        var pasteplain = me.options.pasteplain;\r\n\r\n        /**\r\n         * 启用或取消纯文本粘贴模式\r\n         * @command pasteplain\r\n         * @method execCommand\r\n         * @param { String } cmd 命令字符串\r\n         * @example\r\n         * ```javascript\r\n         * editor.queryCommandState( 'pasteplain' );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 查询当前是否处于纯文本粘贴模式\r\n         * @command pasteplain\r\n         * @method queryCommandState\r\n         * @param { String } cmd 命令字符串\r\n         * @return { int } 如果处于纯文本模式，返回1，否则，返回0\r\n         * @example\r\n         * ```javascript\r\n         * editor.queryCommandState( 'pasteplain' );\r\n         * ```\r\n         */\r\n        me.commands['pasteplain'] = {\r\n            queryCommandState: function() {\r\n                return pasteplain ? 1 : 0;\r\n            },\r\n            execCommand: function() {\r\n                pasteplain = !pasteplain | 0;\r\n            },\r\n            notNeedUndo: 1\r\n        };\r\n    };\r\n\r\n    // plugins/list.js\r\n    /**\r\n     * 有序列表,无序列表插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    UE.plugins['list'] = function() {\r\n        var me = this,\r\n            notExchange = {\r\n                'TD': 1,\r\n                'PRE': 1,\r\n                'BLOCKQUOTE': 1\r\n            };\r\n        var customStyle = {\r\n            'cn': 'cn-1-',\r\n            'cn1': 'cn-2-',\r\n            'cn2': 'cn-3-',\r\n            'num': 'num-1-',\r\n            'num1': 'num-2-',\r\n            'num2': 'num-3-',\r\n            'dash': 'dash',\r\n            'dot': 'dot'\r\n        };\r\n\r\n        me.setOpt({\r\n            'autoTransWordToList': false,\r\n            'insertorderedlist': {\r\n                'num': '',\r\n                'num1': '',\r\n                'num2': '',\r\n                'cn': '',\r\n                'cn1': '',\r\n                'cn2': '',\r\n                'decimal': '',\r\n                'lower-alpha': '',\r\n                'lower-roman': '',\r\n                'upper-alpha': '',\r\n                'upper-roman': ''\r\n            },\r\n            'insertunorderedlist': {\r\n                'circle': '',\r\n                'disc': '',\r\n                'square': '',\r\n                'dash': '',\r\n                'dot': ''\r\n            },\r\n            listDefaultPaddingLeft: '30',\r\n            listiconpath: 'http://bs.baidu.com/listicon/',\r\n            maxListLevel: -1, //-1不限制\r\n            disablePInList: false\r\n        });\r\n\r\n        function listToArray(list) {\r\n            var arr = [];\r\n            for (var p in list) {\r\n                arr.push(p)\r\n            }\r\n            return arr;\r\n        }\r\n        var listStyle = {\r\n            'OL': listToArray(me.options.insertorderedlist),\r\n            'UL': listToArray(me.options.insertunorderedlist)\r\n        };\r\n        var liiconpath = me.options.listiconpath;\r\n\r\n        //根据用户配置，调整customStyle\r\n        for (var s in customStyle) {\r\n            if (!me.options.insertorderedlist.hasOwnProperty(s) && !me.options.insertunorderedlist.hasOwnProperty(s)) {\r\n                delete customStyle[s];\r\n            }\r\n        }\r\n\r\n        me.ready(function() {\r\n            var customCss = [];\r\n            for (var p in customStyle) {\r\n                if (p == 'dash' || p == 'dot') {\r\n                    customCss.push('li.list-' + customStyle[p] + '{background-image:url(' + liiconpath + customStyle[p] + '.gif)}');\r\n                    customCss.push('ul.custom_' + p + '{list-style:none;}ul.custom_' + p + ' li{background-position:0 3px;background-repeat:no-repeat}');\r\n                } else {\r\n                    for (var i = 0; i < 99; i++) {\r\n                        customCss.push('li.list-' + customStyle[p] + i + '{background-image:url(' + liiconpath + 'list-' + customStyle[p] + i + '.gif)}')\r\n                    }\r\n                    customCss.push('ol.custom_' + p + '{list-style:none;}ol.custom_' + p + ' li{background-position:0 3px;background-repeat:no-repeat}');\r\n                }\r\n                switch (p) {\r\n                    case 'cn':\r\n                        customCss.push('li.list-' + p + '-paddingleft-1{padding-left:25px}');\r\n                        customCss.push('li.list-' + p + '-paddingleft-2{padding-left:40px}');\r\n                        customCss.push('li.list-' + p + '-paddingleft-3{padding-left:55px}');\r\n                        break;\r\n                    case 'cn1':\r\n                        customCss.push('li.list-' + p + '-paddingleft-1{padding-left:30px}');\r\n                        customCss.push('li.list-' + p + '-paddingleft-2{padding-left:40px}');\r\n                        customCss.push('li.list-' + p + '-paddingleft-3{padding-left:55px}');\r\n                        break;\r\n                    case 'cn2':\r\n                        customCss.push('li.list-' + p + '-paddingleft-1{padding-left:40px}');\r\n                        customCss.push('li.list-' + p + '-paddingleft-2{padding-left:55px}');\r\n                        customCss.push('li.list-' + p + '-paddingleft-3{padding-left:68px}');\r\n                        break;\r\n                    case 'num':\r\n                    case 'num1':\r\n                        customCss.push('li.list-' + p + '-paddingleft-1{padding-left:25px}');\r\n                        break;\r\n                    case 'num2':\r\n                        customCss.push('li.list-' + p + '-paddingleft-1{padding-left:35px}');\r\n                        customCss.push('li.list-' + p + '-paddingleft-2{padding-left:40px}');\r\n                        break;\r\n                    case 'dash':\r\n                        customCss.push('li.list-' + p + '-paddingleft{padding-left:35px}');\r\n                        break;\r\n                    case 'dot':\r\n                        customCss.push('li.list-' + p + '-paddingleft{padding-left:20px}');\r\n                }\r\n            }\r\n            customCss.push('.list-paddingleft-1{padding-left:0}');\r\n            customCss.push('.list-paddingleft-2{padding-left:' + me.options.listDefaultPaddingLeft + 'px}');\r\n            customCss.push('.list-paddingleft-3{padding-left:' + me.options.listDefaultPaddingLeft * 2 + 'px}');\r\n            //如果不给宽度会在自定应样式里出现滚动条\r\n            utils.cssRule('list', 'ol,ul{margin:0;pading:0;' + (browser.ie ? '' : 'width:95%') + '}li{clear:both;}' + customCss.join('\\n'), me.document);\r\n        });\r\n        //单独处理剪切的问题\r\n        me.ready(function() {\r\n            domUtils.on(me.body, 'cut', function() {\r\n                setTimeout(function() {\r\n                    var rng = me.selection.getRange(),\r\n                        li;\r\n                    //trace:3416\r\n                    if (!rng.collapsed) {\r\n                        if (li = domUtils.findParentByTagName(rng.startContainer, 'li', true)) {\r\n                            if (!li.nextSibling && domUtils.isEmptyBlock(li)) {\r\n                                var pn = li.parentNode,\r\n                                    node;\r\n                                if (node = pn.previousSibling) {\r\n                                    domUtils.remove(pn);\r\n                                    rng.setStartAtLast(node).collapse(true);\r\n                                    rng.select(true);\r\n                                } else if (node = pn.nextSibling) {\r\n                                    domUtils.remove(pn);\r\n                                    rng.setStartAtFirst(node).collapse(true);\r\n                                    rng.select(true);\r\n                                } else {\r\n                                    var tmpNode = me.document.createElement('p');\r\n                                    domUtils.fillNode(me.document, tmpNode);\r\n                                    pn.parentNode.insertBefore(tmpNode, pn);\r\n                                    domUtils.remove(pn);\r\n                                    rng.setStart(tmpNode, 0).collapse(true);\r\n                                    rng.select(true);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                })\r\n            })\r\n        });\r\n\r\n        function getStyle(node) {\r\n            var cls = node.className;\r\n            if (domUtils.hasClass(node, /custom_/)) {\r\n                return cls.match(/custom_(\\w+)/)[1]\r\n            }\r\n            return domUtils.getStyle(node, 'list-style-type')\r\n\r\n        }\r\n\r\n        me.addListener('beforepaste', function(type, html) {\r\n            var me = this,\r\n                rng = me.selection.getRange(),\r\n                li;\r\n            var root = UE.htmlparser(html.html, true);\r\n            if (li = domUtils.findParentByTagName(rng.startContainer, 'li', true)) {\r\n                var list = li.parentNode,\r\n                    tagName = list.tagName == 'OL' ? 'ul' : 'ol';\r\n                utils.each(root.getNodesByTagName(tagName), function(n) {\r\n                    n.tagName = list.tagName;\r\n                    n.setAttr();\r\n                    if (n.parentNode === root) {\r\n                        type = getStyle(list) || (list.tagName == 'OL' ? 'decimal' : 'disc')\r\n                    } else {\r\n                        var className = n.parentNode.getAttr('class');\r\n                        if (className && /custom_/.test(className)) {\r\n                            type = className.match(/custom_(\\w+)/)[1]\r\n                        } else {\r\n                            type = n.parentNode.getStyle('list-style-type');\r\n                        }\r\n                        if (!type) {\r\n                            type = list.tagName == 'OL' ? 'decimal' : 'disc';\r\n                        }\r\n                    }\r\n                    var index = utils.indexOf(listStyle[list.tagName], type);\r\n                    if (n.parentNode !== root)\r\n                        index = index + 1 == listStyle[list.tagName].length ? 0 : index + 1;\r\n                    var currentStyle = listStyle[list.tagName][index];\r\n                    if (customStyle[currentStyle]) {\r\n                        n.setAttr('class', 'custom_' + currentStyle)\r\n\r\n                    } else {\r\n                        n.setStyle('list-style-type', currentStyle)\r\n                    }\r\n                })\r\n\r\n            }\r\n\r\n            html.html = root.toHtml();\r\n        });\r\n        //导出时，去掉p标签\r\n        me.getOpt('disablePInList') === true && me.addOutputRule(function(root) {\r\n            utils.each(root.getNodesByTagName('li'), function(li) {\r\n                var newChildrens = [],\r\n                    index = 0;\r\n                utils.each(li.children, function(n) {\r\n                    if (n.tagName == 'p') {\r\n                        var tmpNode;\r\n                        while (tmpNode = n.children.pop()) {\r\n                            newChildrens.splice(index, 0, tmpNode);\r\n                            tmpNode.parentNode = li;\r\n                            lastNode = tmpNode;\r\n                        }\r\n                        tmpNode = newChildrens[newChildrens.length - 1];\r\n                        if (!tmpNode || tmpNode.type != 'element' || tmpNode.tagName != 'br') {\r\n                            var br = UE.uNode.createElement('br');\r\n                            br.parentNode = li;\r\n                            newChildrens.push(br);\r\n                        }\r\n\r\n                        index = newChildrens.length;\r\n                    }\r\n                });\r\n                if (newChildrens.length) {\r\n                    li.children = newChildrens;\r\n                }\r\n            });\r\n        });\r\n        //进入编辑器的li要套p标签\r\n        me.addInputRule(function(root) {\r\n            utils.each(root.getNodesByTagName('li'), function(li) {\r\n                var tmpP = UE.uNode.createElement('p');\r\n                for (var i = 0, ci; ci = li.children[i];) {\r\n                    if (ci.type == 'text' || dtd.p[ci.tagName]) {\r\n                        tmpP.appendChild(ci);\r\n                    } else {\r\n                        if (tmpP.firstChild()) {\r\n                            li.insertBefore(tmpP, ci);\r\n                            tmpP = UE.uNode.createElement('p');\r\n                            i = i + 2;\r\n                        } else {\r\n                            i++;\r\n                        }\r\n\r\n                    }\r\n                }\r\n                if (tmpP.firstChild() && !tmpP.parentNode || !li.firstChild()) {\r\n                    li.appendChild(tmpP);\r\n                }\r\n                //trace:3357\r\n                //p不能为空\r\n                if (!tmpP.firstChild()) {\r\n                    tmpP.innerHTML(browser.ie ? '&nbsp;' : '<br/>')\r\n                }\r\n                //去掉末尾的空白\r\n                var p = li.firstChild();\r\n                var lastChild = p.lastChild();\r\n                if (lastChild && lastChild.type == 'text' && /^\\s*$/.test(lastChild.data)) {\r\n                    p.removeChild(lastChild)\r\n                }\r\n            });\r\n            if (me.options.autoTransWordToList) {\r\n                var orderlisttype = {\r\n                        'num1': /^\\d+\\)/,\r\n                        'decimal': /^\\d+\\./,\r\n                        'lower-alpha': /^[a-z]+\\)/,\r\n                        'upper-alpha': /^[A-Z]+\\./,\r\n                        'cn': /^[\\u4E00\\u4E8C\\u4E09\\u56DB\\u516d\\u4e94\\u4e03\\u516b\\u4e5d]+[\\u3001]/,\r\n                        'cn2': /^\\([\\u4E00\\u4E8C\\u4E09\\u56DB\\u516d\\u4e94\\u4e03\\u516b\\u4e5d]+\\)/\r\n                    },\r\n                    unorderlisttype = {\r\n                        'square': 'n'\r\n                    };\r\n\r\n                function checkListType(content, container) {\r\n                    var span = container.firstChild();\r\n                    if (span && span.type == 'element' && span.tagName == 'span' && /Wingdings|Symbol/.test(span.getStyle('font-family'))) {\r\n                        for (var p in unorderlisttype) {\r\n                            if (unorderlisttype[p] == span.data) {\r\n                                return p\r\n                            }\r\n                        }\r\n                        return 'disc'\r\n                    }\r\n                    for (var p in orderlisttype) {\r\n                        if (orderlisttype[p].test(content)) {\r\n                            return p;\r\n                        }\r\n                    }\r\n\r\n                }\r\n                utils.each(root.getNodesByTagName('p'), function(node) {\r\n                    if (node.getAttr('class') != 'MsoListParagraph') {\r\n                        return\r\n                    }\r\n\r\n                    //word粘贴过来的会带有margin要去掉,但这样也可能会误命中一些央视\r\n                    node.setStyle('margin', '');\r\n                    node.setStyle('margin-left', '');\r\n                    node.setAttr('class', '');\r\n\r\n                    function appendLi(list, p, type) {\r\n                        if (list.tagName == 'ol') {\r\n                            if (browser.ie) {\r\n                                var first = p.firstChild();\r\n                                if (first.type == 'element' && first.tagName == 'span' && orderlisttype[type].test(first.innerText())) {\r\n                                    p.removeChild(first);\r\n                                }\r\n                            } else {\r\n                                p.innerHTML(p.innerHTML().replace(orderlisttype[type], ''));\r\n                            }\r\n                        } else {\r\n                            p.removeChild(p.firstChild())\r\n                        }\r\n\r\n                        var li = UE.uNode.createElement('li');\r\n                        li.appendChild(p);\r\n                        list.appendChild(li);\r\n                    }\r\n                    var tmp = node,\r\n                        type, cacheNode = node;\r\n\r\n                    if (node.parentNode.tagName != 'li' && (type = checkListType(node.innerText(), node))) {\r\n\r\n                        var list = UE.uNode.createElement(me.options.insertorderedlist.hasOwnProperty(type) ? 'ol' : 'ul');\r\n                        if (customStyle[type]) {\r\n                            list.setAttr('class', 'custom_' + type)\r\n                        } else {\r\n                            list.setStyle('list-style-type', type)\r\n                        }\r\n                        while (node && node.parentNode.tagName != 'li' && checkListType(node.innerText(), node)) {\r\n                            tmp = node.nextSibling();\r\n                            if (!tmp) {\r\n                                node.parentNode.insertBefore(list, node)\r\n                            }\r\n                            appendLi(list, node, type);\r\n                            node = tmp;\r\n                        }\r\n                        if (!list.parentNode && node && node.parentNode) {\r\n                            node.parentNode.insertBefore(list, node)\r\n                        }\r\n                    }\r\n                    var span = cacheNode.firstChild();\r\n                    if (span && span.type == 'element' && span.tagName == 'span' && /^\\s*(&nbsp;)+\\s*$/.test(span.innerText())) {\r\n                        span.parentNode.removeChild(span)\r\n                    }\r\n                })\r\n            }\r\n\r\n        });\r\n\r\n        //调整索引标签\r\n        me.addListener('contentchange', function() {\r\n            adjustListStyle(me.document)\r\n        });\r\n\r\n        function adjustListStyle(doc, ignore) {\r\n            utils.each(domUtils.getElementsByTagName(doc, 'ol ul'), function(node) {\r\n\r\n                if (!domUtils.inDoc(node, doc))\r\n                    return;\r\n\r\n                var parent = node.parentNode;\r\n                if (parent.tagName == node.tagName) {\r\n                    var nodeStyleType = getStyle(node) || (node.tagName == 'OL' ? 'decimal' : 'disc'),\r\n                        parentStyleType = getStyle(parent) || (parent.tagName == 'OL' ? 'decimal' : 'disc');\r\n                    if (nodeStyleType == parentStyleType) {\r\n                        var styleIndex = utils.indexOf(listStyle[node.tagName], nodeStyleType);\r\n                        styleIndex = styleIndex + 1 == listStyle[node.tagName].length ? 0 : styleIndex + 1;\r\n                        setListStyle(node, listStyle[node.tagName][styleIndex])\r\n                    }\r\n\r\n                }\r\n                var index = 0,\r\n                    type = 2;\r\n                if (domUtils.hasClass(node, /custom_/)) {\r\n                    if (!(/[ou]l/i.test(parent.tagName) && domUtils.hasClass(parent, /custom_/))) {\r\n                        type = 1;\r\n                    }\r\n                } else {\r\n                    if (/[ou]l/i.test(parent.tagName) && domUtils.hasClass(parent, /custom_/)) {\r\n                        type = 3;\r\n                    }\r\n                }\r\n\r\n                var style = domUtils.getStyle(node, 'list-style-type');\r\n                style && (node.style.cssText = 'list-style-type:' + style);\r\n                node.className = utils.trim(node.className.replace(/list-paddingleft-\\w+/, '')) + ' list-paddingleft-' + type;\r\n                utils.each(domUtils.getElementsByTagName(node, 'li'), function(li) {\r\n                    li.style.cssText && (li.style.cssText = '');\r\n                    if (!li.firstChild) {\r\n                        domUtils.remove(li);\r\n                        return;\r\n                    }\r\n                    if (li.parentNode !== node) {\r\n                        return;\r\n                    }\r\n                    index++;\r\n                    if (domUtils.hasClass(node, /custom_/)) {\r\n                        var paddingLeft = 1,\r\n                            currentStyle = getStyle(node);\r\n                        if (node.tagName == 'OL') {\r\n                            if (currentStyle) {\r\n                                switch (currentStyle) {\r\n                                    case 'cn':\r\n                                    case 'cn1':\r\n                                    case 'cn2':\r\n                                        if (index > 10 && (index % 10 == 0 || index > 10 && index < 20)) {\r\n                                            paddingLeft = 2\r\n                                        } else if (index > 20) {\r\n                                            paddingLeft = 3\r\n                                        }\r\n                                        break;\r\n                                    case 'num2':\r\n                                        if (index > 9) {\r\n                                            paddingLeft = 2\r\n                                        }\r\n                                }\r\n                            }\r\n                            li.className = 'list-' + customStyle[currentStyle] + index + ' ' + 'list-' + currentStyle + '-paddingleft-' + paddingLeft;\r\n                        } else {\r\n                            li.className = 'list-' + customStyle[currentStyle] + ' ' + 'list-' + currentStyle + '-paddingleft';\r\n                        }\r\n                    } else {\r\n                        li.className = li.className.replace(/list-[\\w\\-]+/gi, '');\r\n                    }\r\n                    var className = li.getAttribute('class');\r\n                    if (className !== null && !className.replace(/\\s/g, '')) {\r\n                        domUtils.removeAttributes(li, 'class')\r\n                    }\r\n                });\r\n                !ignore && adjustList(node, node.tagName.toLowerCase(), getStyle(node) || domUtils.getStyle(node, 'list-style-type'), true);\r\n            })\r\n        }\r\n\r\n        function adjustList(list, tag, style, ignoreEmpty) {\r\n            var nextList = list.nextSibling;\r\n            if (nextList && nextList.nodeType == 1 && nextList.tagName.toLowerCase() == tag && (getStyle(nextList) || domUtils.getStyle(nextList, 'list-style-type') || (tag == 'ol' ? 'decimal' : 'disc')) == style) {\r\n                domUtils.moveChild(nextList, list);\r\n                if (nextList.childNodes.length == 0) {\r\n                    domUtils.remove(nextList);\r\n                }\r\n            }\r\n            if (nextList && domUtils.isFillChar(nextList)) {\r\n                domUtils.remove(nextList);\r\n            }\r\n            var preList = list.previousSibling;\r\n            if (preList && preList.nodeType == 1 && preList.tagName.toLowerCase() == tag && (getStyle(preList) || domUtils.getStyle(preList, 'list-style-type') || (tag == 'ol' ? 'decimal' : 'disc')) == style) {\r\n                domUtils.moveChild(list, preList);\r\n            }\r\n            if (preList && domUtils.isFillChar(preList)) {\r\n                domUtils.remove(preList);\r\n            }!ignoreEmpty && domUtils.isEmptyBlock(list) && domUtils.remove(list);\r\n            if (getStyle(list)) {\r\n                adjustListStyle(list.ownerDocument, true)\r\n            }\r\n        }\r\n\r\n        function setListStyle(list, style) {\r\n            if (customStyle[style]) {\r\n                list.className = 'custom_' + style;\r\n            }\r\n            try {\r\n                domUtils.setStyle(list, 'list-style-type', style);\r\n            } catch (e) {}\r\n        }\r\n\r\n        function clearEmptySibling(node) {\r\n            var tmpNode = node.previousSibling;\r\n            if (tmpNode && domUtils.isEmptyBlock(tmpNode)) {\r\n                domUtils.remove(tmpNode);\r\n            }\r\n            tmpNode = node.nextSibling;\r\n            if (tmpNode && domUtils.isEmptyBlock(tmpNode)) {\r\n                domUtils.remove(tmpNode);\r\n            }\r\n        }\r\n\r\n        me.addListener('keydown', function(type, evt) {\r\n            function preventAndSave() {\r\n                evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\r\n                me.fireEvent('contentchange');\r\n                me.undoManger && me.undoManger.save();\r\n            }\r\n\r\n            function findList(node, filterFn) {\r\n                while (node && !domUtils.isBody(node)) {\r\n                    if (filterFn(node)) {\r\n                        return null\r\n                    }\r\n                    if (node.nodeType == 1 && /[ou]l/i.test(node.tagName)) {\r\n                        return node;\r\n                    }\r\n                    node = node.parentNode;\r\n                }\r\n                return null;\r\n            }\r\n            var keyCode = evt.keyCode || evt.which;\r\n            if (keyCode == 13 && !evt.shiftKey) { //回车\r\n                var rng = me.selection.getRange(),\r\n                    parent = domUtils.findParent(rng.startContainer, function(node) { return domUtils.isBlockElm(node) }, true),\r\n                    li = domUtils.findParentByTagName(rng.startContainer, 'li', true);\r\n                if (parent && parent.tagName != 'PRE' && !li) {\r\n                    var html = parent.innerHTML.replace(new RegExp(domUtils.fillChar, 'g'), '');\r\n                    if (/^\\s*1\\s*\\.[^\\d]/.test(html)) {\r\n                        parent.innerHTML = html.replace(/^\\s*1\\s*\\./, '');\r\n                        rng.setStartAtLast(parent).collapse(true).select();\r\n                        me.__hasEnterExecCommand = true;\r\n                        me.execCommand('insertorderedlist');\r\n                        me.__hasEnterExecCommand = false;\r\n                    }\r\n                }\r\n                var range = me.selection.getRange(),\r\n                    start = findList(range.startContainer, function(node) {\r\n                        return node.tagName == 'TABLE';\r\n                    }),\r\n                    end = range.collapsed ? start : findList(range.endContainer, function(node) {\r\n                        return node.tagName == 'TABLE';\r\n                    });\r\n\r\n                if (start && end && start === end) {\r\n\r\n                    if (!range.collapsed) {\r\n                        start = domUtils.findParentByTagName(range.startContainer, 'li', true);\r\n                        end = domUtils.findParentByTagName(range.endContainer, 'li', true);\r\n                        if (start && end && start === end) {\r\n                            range.deleteContents();\r\n                            li = domUtils.findParentByTagName(range.startContainer, 'li', true);\r\n                            if (li && domUtils.isEmptyBlock(li)) {\r\n\r\n                                pre = li.previousSibling;\r\n                                next = li.nextSibling;\r\n                                p = me.document.createElement('p');\r\n\r\n                                domUtils.fillNode(me.document, p);\r\n                                parentList = li.parentNode;\r\n                                if (pre && next) {\r\n                                    range.setStart(next, 0).collapse(true).select(true);\r\n                                    domUtils.remove(li);\r\n\r\n                                } else {\r\n                                    if (!pre && !next || !pre) {\r\n\r\n                                        parentList.parentNode.insertBefore(p, parentList);\r\n\r\n\r\n                                    } else {\r\n                                        li.parentNode.parentNode.insertBefore(p, parentList.nextSibling);\r\n                                    }\r\n                                    domUtils.remove(li);\r\n                                    if (!parentList.firstChild) {\r\n                                        domUtils.remove(parentList);\r\n                                    }\r\n                                    range.setStart(p, 0).setCursor();\r\n\r\n\r\n                                }\r\n                                preventAndSave();\r\n                                return;\r\n\r\n                            }\r\n                        } else {\r\n                            var tmpRange = range.cloneRange(),\r\n                                bk = tmpRange.collapse(false).createBookmark();\r\n\r\n                            range.deleteContents();\r\n                            tmpRange.moveToBookmark(bk);\r\n                            var li = domUtils.findParentByTagName(tmpRange.startContainer, 'li', true);\r\n\r\n                            clearEmptySibling(li);\r\n                            tmpRange.select();\r\n                            preventAndSave();\r\n                            return;\r\n                        }\r\n                    }\r\n\r\n\r\n                    li = domUtils.findParentByTagName(range.startContainer, 'li', true);\r\n\r\n                    if (li) {\r\n                        if (domUtils.isEmptyBlock(li)) {\r\n                            bk = range.createBookmark();\r\n                            var parentList = li.parentNode;\r\n                            if (li !== parentList.lastChild) {\r\n                                domUtils.breakParent(li, parentList);\r\n                                clearEmptySibling(li);\r\n                            } else {\r\n\r\n                                parentList.parentNode.insertBefore(li, parentList.nextSibling);\r\n                                if (domUtils.isEmptyNode(parentList)) {\r\n                                    domUtils.remove(parentList);\r\n                                }\r\n                            }\r\n                            //嵌套不处理\r\n                            if (!dtd.$list[li.parentNode.tagName]) {\r\n\r\n                                if (!domUtils.isBlockElm(li.firstChild)) {\r\n                                    p = me.document.createElement('p');\r\n                                    li.parentNode.insertBefore(p, li);\r\n                                    while (li.firstChild) {\r\n                                        p.appendChild(li.firstChild);\r\n                                    }\r\n                                    domUtils.remove(li);\r\n                                } else {\r\n                                    domUtils.remove(li, true);\r\n                                }\r\n                            }\r\n                            range.moveToBookmark(bk).select();\r\n\r\n\r\n                        } else {\r\n                            var first = li.firstChild;\r\n                            if (!first || !domUtils.isBlockElm(first)) {\r\n                                var p = me.document.createElement('p');\r\n\r\n                                !li.firstChild && domUtils.fillNode(me.document, p);\r\n                                while (li.firstChild) {\r\n\r\n                                    p.appendChild(li.firstChild);\r\n                                }\r\n                                li.appendChild(p);\r\n                                first = p;\r\n                            }\r\n\r\n                            var span = me.document.createElement('span');\r\n\r\n                            range.insertNode(span);\r\n                            domUtils.breakParent(span, li);\r\n\r\n                            var nextLi = span.nextSibling;\r\n                            first = nextLi.firstChild;\r\n\r\n                            if (!first) {\r\n                                p = me.document.createElement('p');\r\n\r\n                                domUtils.fillNode(me.document, p);\r\n                                nextLi.appendChild(p);\r\n                                first = p;\r\n                            }\r\n                            if (domUtils.isEmptyNode(first)) {\r\n                                first.innerHTML = '';\r\n                                domUtils.fillNode(me.document, first);\r\n                            }\r\n\r\n                            range.setStart(first, 0).collapse(true).shrinkBoundary().select();\r\n                            domUtils.remove(span);\r\n                            var pre = nextLi.previousSibling;\r\n                            if (pre && domUtils.isEmptyBlock(pre)) {\r\n                                pre.innerHTML = '<p></p>';\r\n                                domUtils.fillNode(me.document, pre.firstChild);\r\n                            }\r\n\r\n                        }\r\n                        //                        }\r\n                        preventAndSave();\r\n                    }\r\n\r\n\r\n                }\r\n\r\n\r\n            }\r\n            if (keyCode == 8) {\r\n                //修中ie中li下的问题\r\n                range = me.selection.getRange();\r\n                if (range.collapsed && domUtils.isStartInblock(range)) {\r\n                    tmpRange = range.cloneRange().trimBoundary();\r\n                    li = domUtils.findParentByTagName(range.startContainer, 'li', true);\r\n                    //要在li的最左边，才能处理\r\n                    if (li && domUtils.isStartInblock(tmpRange)) {\r\n                        start = domUtils.findParentByTagName(range.startContainer, 'p', true);\r\n                        if (start && start !== li.firstChild) {\r\n                            var parentList = domUtils.findParentByTagName(start, ['ol', 'ul']);\r\n                            domUtils.breakParent(start, parentList);\r\n                            clearEmptySibling(start);\r\n                            me.fireEvent('contentchange');\r\n                            range.setStart(start, 0).setCursor(false, true);\r\n                            me.fireEvent('saveScene');\r\n                            domUtils.preventDefault(evt);\r\n                            return;\r\n                        }\r\n\r\n                        if (li && (pre = li.previousSibling)) {\r\n                            if (keyCode == 46 && li.childNodes.length) {\r\n                                return;\r\n                            }\r\n                            //有可能上边的兄弟节点是个2级菜单，要追加到2级菜单的最后的li\r\n                            if (dtd.$list[pre.tagName]) {\r\n                                pre = pre.lastChild;\r\n                            }\r\n                            me.undoManger && me.undoManger.save();\r\n                            first = li.firstChild;\r\n                            if (domUtils.isBlockElm(first)) {\r\n                                if (domUtils.isEmptyNode(first)) {\r\n                                    //                                    range.setEnd(pre, pre.childNodes.length).shrinkBoundary().collapse().select(true);\r\n                                    pre.appendChild(first);\r\n                                    range.setStart(first, 0).setCursor(false, true);\r\n                                    //first不是唯一的节点\r\n                                    while (li.firstChild) {\r\n                                        pre.appendChild(li.firstChild);\r\n                                    }\r\n                                } else {\r\n\r\n                                    span = me.document.createElement('span');\r\n                                    range.insertNode(span);\r\n                                    //判断pre是否是空的节点,如果是<p><br/></p>类型的空节点，干掉p标签防止它占位\r\n                                    if (domUtils.isEmptyBlock(pre)) {\r\n                                        pre.innerHTML = '';\r\n                                    }\r\n                                    domUtils.moveChild(li, pre);\r\n                                    range.setStartBefore(span).collapse(true).select(true);\r\n\r\n                                    domUtils.remove(span);\r\n\r\n                                }\r\n                            } else {\r\n                                if (domUtils.isEmptyNode(li)) {\r\n                                    var p = me.document.createElement('p');\r\n                                    pre.appendChild(p);\r\n                                    range.setStart(p, 0).setCursor();\r\n                                    //                                    range.setEnd(pre, pre.childNodes.length).shrinkBoundary().collapse().select(true);\r\n                                } else {\r\n                                    range.setEnd(pre, pre.childNodes.length).collapse().select(true);\r\n                                    while (li.firstChild) {\r\n                                        pre.appendChild(li.firstChild);\r\n                                    }\r\n                                }\r\n                            }\r\n                            domUtils.remove(li);\r\n                            me.fireEvent('contentchange');\r\n                            me.fireEvent('saveScene');\r\n                            domUtils.preventDefault(evt);\r\n                            return;\r\n\r\n                        }\r\n                        //trace:980\r\n\r\n                        if (li && !li.previousSibling) {\r\n                            var parentList = li.parentNode;\r\n                            var bk = range.createBookmark();\r\n                            if (domUtils.isTagNode(parentList.parentNode, 'ol ul')) {\r\n                                parentList.parentNode.insertBefore(li, parentList);\r\n                                if (domUtils.isEmptyNode(parentList)) {\r\n                                    domUtils.remove(parentList)\r\n                                }\r\n                            } else {\r\n\r\n                                while (li.firstChild) {\r\n                                    parentList.parentNode.insertBefore(li.firstChild, parentList);\r\n                                }\r\n\r\n                                domUtils.remove(li);\r\n                                if (domUtils.isEmptyNode(parentList)) {\r\n                                    domUtils.remove(parentList)\r\n                                }\r\n\r\n                            }\r\n                            range.moveToBookmark(bk).setCursor(false, true);\r\n                            me.fireEvent('contentchange');\r\n                            me.fireEvent('saveScene');\r\n                            domUtils.preventDefault(evt);\r\n                            return;\r\n\r\n                        }\r\n\r\n\r\n                    }\r\n\r\n\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        me.addListener('keyup', function(type, evt) {\r\n            var keyCode = evt.keyCode || evt.which;\r\n            if (keyCode == 8) {\r\n                var rng = me.selection.getRange(),\r\n                    list;\r\n                if (list = domUtils.findParentByTagName(rng.startContainer, ['ol', 'ul'], true)) {\r\n                    adjustList(list, list.tagName.toLowerCase(), getStyle(list) || domUtils.getComputedStyle(list, 'list-style-type'), true)\r\n                }\r\n            }\r\n        });\r\n        //处理tab键\r\n        me.addListener('tabkeydown', function() {\r\n\r\n            var range = me.selection.getRange();\r\n\r\n            //控制级数\r\n            function checkLevel(li) {\r\n                if (me.options.maxListLevel != -1) {\r\n                    var level = li.parentNode,\r\n                        levelNum = 0;\r\n                    while (/[ou]l/i.test(level.tagName)) {\r\n                        levelNum++;\r\n                        level = level.parentNode;\r\n                    }\r\n                    if (levelNum >= me.options.maxListLevel) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n            //只以开始为准\r\n            //todo 后续改进\r\n            var li = domUtils.findParentByTagName(range.startContainer, 'li', true);\r\n            if (li) {\r\n\r\n                var bk;\r\n                if (range.collapsed) {\r\n                    if (checkLevel(li))\r\n                        return true;\r\n                    var parentLi = li.parentNode,\r\n                        list = me.document.createElement(parentLi.tagName),\r\n                        index = utils.indexOf(listStyle[list.tagName], getStyle(parentLi) || domUtils.getComputedStyle(parentLi, 'list-style-type'));\r\n                    index = index + 1 == listStyle[list.tagName].length ? 0 : index + 1;\r\n                    var currentStyle = listStyle[list.tagName][index];\r\n                    setListStyle(list, currentStyle);\r\n                    if (domUtils.isStartInblock(range)) {\r\n                        me.fireEvent('saveScene');\r\n                        bk = range.createBookmark();\r\n                        parentLi.insertBefore(list, li);\r\n                        list.appendChild(li);\r\n                        adjustList(list, list.tagName.toLowerCase(), currentStyle);\r\n                        me.fireEvent('contentchange');\r\n                        range.moveToBookmark(bk).select(true);\r\n                        return true;\r\n                    }\r\n                } else {\r\n                    me.fireEvent('saveScene');\r\n                    bk = range.createBookmark();\r\n                    for (var i = 0, closeList, parents = domUtils.findParents(li), ci; ci = parents[i++];) {\r\n                        if (domUtils.isTagNode(ci, 'ol ul')) {\r\n                            closeList = ci;\r\n                            break;\r\n                        }\r\n                    }\r\n                    var current = li;\r\n                    if (bk.end) {\r\n                        while (current && !(domUtils.getPosition(current, bk.end) & domUtils.POSITION_FOLLOWING)) {\r\n                            if (checkLevel(current)) {\r\n                                current = domUtils.getNextDomNode(current, false, null, function(node) { return node !== closeList });\r\n                                continue;\r\n                            }\r\n                            var parentLi = current.parentNode,\r\n                                list = me.document.createElement(parentLi.tagName),\r\n                                index = utils.indexOf(listStyle[list.tagName], getStyle(parentLi) || domUtils.getComputedStyle(parentLi, 'list-style-type'));\r\n                            var currentIndex = index + 1 == listStyle[list.tagName].length ? 0 : index + 1;\r\n                            var currentStyle = listStyle[list.tagName][currentIndex];\r\n                            setListStyle(list, currentStyle);\r\n                            parentLi.insertBefore(list, current);\r\n                            while (current && !(domUtils.getPosition(current, bk.end) & domUtils.POSITION_FOLLOWING)) {\r\n                                li = current.nextSibling;\r\n                                list.appendChild(current);\r\n                                if (!li || domUtils.isTagNode(li, 'ol ul')) {\r\n                                    if (li) {\r\n                                        while (li = li.firstChild) {\r\n                                            if (li.tagName == 'LI') {\r\n                                                break;\r\n                                            }\r\n                                        }\r\n                                    } else {\r\n                                        li = domUtils.getNextDomNode(current, false, null, function(node) { return node !== closeList });\r\n                                    }\r\n                                    break;\r\n                                }\r\n                                current = li;\r\n                            }\r\n                            adjustList(list, list.tagName.toLowerCase(), currentStyle);\r\n                            current = li;\r\n                        }\r\n                    }\r\n                    me.fireEvent('contentchange');\r\n                    range.moveToBookmark(bk).select();\r\n                    return true;\r\n                }\r\n            }\r\n\r\n        });\r\n\r\n        function getLi(start) {\r\n            while (start && !domUtils.isBody(start)) {\r\n                if (start.nodeName == 'TABLE') {\r\n                    return null;\r\n                }\r\n                if (start.nodeName == 'LI') {\r\n                    return start\r\n                }\r\n                start = start.parentNode;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 有序列表，与“insertunorderedlist”命令互斥\r\n         * @command insertorderedlist\r\n         * @method execCommand\r\n         * @param { String } command 命令字符串\r\n         * @param { String } style 插入的有序列表类型，值为：decimal,lower-alpha,lower-roman,upper-alpha,upper-roman,cn,cn1,cn2,num,num1,num2\r\n         * @example\r\n         * ```javascript\r\n         * editor.execCommand( 'insertorderedlist','decimal');\r\n         * ```\r\n         */\r\n        /**\r\n         * 查询当前选区内容是否有序列表\r\n         * @command insertorderedlist\r\n         * @method queryCommandState\r\n         * @param { String } cmd 命令字符串\r\n         * @return { int } 如果当前选区是有序列表返回1，否则返回0\r\n         * @example\r\n         * ```javascript\r\n         * editor.queryCommandState( 'insertorderedlist' );\r\n         * ```\r\n         */\r\n        /**\r\n         * 查询当前选区内容是否有序列表\r\n         * @command insertorderedlist\r\n         * @method queryCommandValue\r\n         * @param { String } cmd 命令字符串\r\n         * @return { String } 返回当前有序列表的类型，值为null或decimal,lower-alpha,lower-roman,upper-alpha,upper-roman,cn,cn1,cn2,num,num1,num2\r\n         * @example\r\n         * ```javascript\r\n         * editor.queryCommandValue( 'insertorderedlist' );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 无序列表，与“insertorderedlist”命令互斥\r\n         * @command insertunorderedlist\r\n         * @method execCommand\r\n         * @param { String } command 命令字符串\r\n         * @param { String } style 插入的无序列表类型，值为：circle,disc,square,dash,dot\r\n         * @example\r\n         * ```javascript\r\n         * editor.execCommand( 'insertunorderedlist','circle');\r\n         * ```\r\n         */\r\n        /**\r\n         * 查询当前是否有word文档粘贴进来的图片\r\n         * @command insertunorderedlist\r\n         * @method insertunorderedlist\r\n         * @param { String } command 命令字符串\r\n         * @return { int } 如果当前选区是无序列表返回1，否则返回0\r\n         * @example\r\n         * ```javascript\r\n         * editor.queryCommandState( 'insertunorderedlist' );\r\n         * ```\r\n         */\r\n        /**\r\n         * 查询当前选区内容是否有序列表\r\n         * @command insertunorderedlist\r\n         * @method queryCommandValue\r\n         * @param { String } command 命令字符串\r\n         * @return { String } 返回当前无序列表的类型，值为null或circle,disc,square,dash,dot\r\n         * @example\r\n         * ```javascript\r\n         * editor.queryCommandValue( 'insertunorderedlist' );\r\n         * ```\r\n         */\r\n\r\n        me.commands['insertorderedlist'] =\r\n            me.commands['insertunorderedlist'] = {\r\n                execCommand: function(command, style) {\r\n\r\n                    if (!style) {\r\n                        style = command.toLowerCase() == 'insertorderedlist' ? 'decimal' : 'disc';\r\n                    }\r\n                    var me = this,\r\n                        range = this.selection.getRange(),\r\n                        filterFn = function(node) {\r\n                            return node.nodeType == 1 ? node.tagName.toLowerCase() != 'br' : !domUtils.isWhitespace(node);\r\n                        },\r\n                        tag = command.toLowerCase() == 'insertorderedlist' ? 'ol' : 'ul',\r\n                        frag = me.document.createDocumentFragment();\r\n                    //去掉是因为会出现选到末尾，导致adjustmentBoundary缩到ol/ul的位置\r\n                    //range.shrinkBoundary();//.adjustmentBoundary();\r\n                    range.adjustmentBoundary().shrinkBoundary();\r\n                    var bko = range.createBookmark(true),\r\n                        start = getLi(me.document.getElementById(bko.start)),\r\n                        modifyStart = 0,\r\n                        end = getLi(me.document.getElementById(bko.end)),\r\n                        modifyEnd = 0,\r\n                        startParent, endParent,\r\n                        list, tmp;\r\n\r\n                    if (start || end) {\r\n                        start && (startParent = start.parentNode);\r\n                        if (!bko.end) {\r\n                            end = start;\r\n                        }\r\n                        end && (endParent = end.parentNode);\r\n\r\n                        if (startParent === endParent) {\r\n                            while (start !== end) {\r\n                                tmp = start;\r\n                                start = start.nextSibling;\r\n                                if (!domUtils.isBlockElm(tmp.firstChild)) {\r\n                                    var p = me.document.createElement('p');\r\n                                    while (tmp.firstChild) {\r\n                                        p.appendChild(tmp.firstChild);\r\n                                    }\r\n                                    tmp.appendChild(p);\r\n                                }\r\n                                frag.appendChild(tmp);\r\n                            }\r\n                            tmp = me.document.createElement('span');\r\n                            startParent.insertBefore(tmp, end);\r\n                            if (!domUtils.isBlockElm(end.firstChild)) {\r\n                                p = me.document.createElement('p');\r\n                                while (end.firstChild) {\r\n                                    p.appendChild(end.firstChild);\r\n                                }\r\n                                end.appendChild(p);\r\n                            }\r\n                            frag.appendChild(end);\r\n                            domUtils.breakParent(tmp, startParent);\r\n                            if (domUtils.isEmptyNode(tmp.previousSibling)) {\r\n                                domUtils.remove(tmp.previousSibling);\r\n                            }\r\n                            if (domUtils.isEmptyNode(tmp.nextSibling)) {\r\n                                domUtils.remove(tmp.nextSibling)\r\n                            }\r\n                            var nodeStyle = getStyle(startParent) || domUtils.getComputedStyle(startParent, 'list-style-type') || (command.toLowerCase() == 'insertorderedlist' ? 'decimal' : 'disc');\r\n                            if (startParent.tagName.toLowerCase() == tag && nodeStyle == style) {\r\n                                for (var i = 0, ci, tmpFrag = me.document.createDocumentFragment(); ci = frag.firstChild;) {\r\n                                    if (domUtils.isTagNode(ci, 'ol ul')) {\r\n                                        //                                  删除时，子列表不处理\r\n                                        //                                  utils.each(domUtils.getElementsByTagName(ci,'li'),function(li){\r\n                                        //                                        while(li.firstChild){\r\n                                        //                                            tmpFrag.appendChild(li.firstChild);\r\n                                        //                                        }\r\n                                        //\r\n                                        //                                    });\r\n                                        tmpFrag.appendChild(ci);\r\n                                    } else {\r\n                                        while (ci.firstChild) {\r\n\r\n                                            tmpFrag.appendChild(ci.firstChild);\r\n                                            domUtils.remove(ci);\r\n                                        }\r\n                                    }\r\n\r\n                                }\r\n                                tmp.parentNode.insertBefore(tmpFrag, tmp);\r\n                            } else {\r\n                                list = me.document.createElement(tag);\r\n                                setListStyle(list, style);\r\n                                list.appendChild(frag);\r\n                                tmp.parentNode.insertBefore(list, tmp);\r\n                            }\r\n\r\n                            domUtils.remove(tmp);\r\n                            list && adjustList(list, tag, style);\r\n                            range.moveToBookmark(bko).select();\r\n                            return;\r\n                        }\r\n                        //开始\r\n                        if (start) {\r\n                            while (start) {\r\n                                tmp = start.nextSibling;\r\n                                if (domUtils.isTagNode(start, 'ol ul')) {\r\n                                    frag.appendChild(start);\r\n                                } else {\r\n                                    var tmpfrag = me.document.createDocumentFragment(),\r\n                                        hasBlock = 0;\r\n                                    while (start.firstChild) {\r\n                                        if (domUtils.isBlockElm(start.firstChild)) {\r\n                                            hasBlock = 1;\r\n                                        }\r\n                                        tmpfrag.appendChild(start.firstChild);\r\n                                    }\r\n                                    if (!hasBlock) {\r\n                                        var tmpP = me.document.createElement('p');\r\n                                        tmpP.appendChild(tmpfrag);\r\n                                        frag.appendChild(tmpP);\r\n                                    } else {\r\n                                        frag.appendChild(tmpfrag);\r\n                                    }\r\n                                    domUtils.remove(start);\r\n                                }\r\n\r\n                                start = tmp;\r\n                            }\r\n                            startParent.parentNode.insertBefore(frag, startParent.nextSibling);\r\n                            if (domUtils.isEmptyNode(startParent)) {\r\n                                range.setStartBefore(startParent);\r\n                                domUtils.remove(startParent);\r\n                            } else {\r\n                                range.setStartAfter(startParent);\r\n                            }\r\n                            modifyStart = 1;\r\n                        }\r\n\r\n                        if (end && domUtils.inDoc(endParent, me.document)) {\r\n                            //结束\r\n                            start = endParent.firstChild;\r\n                            while (start && start !== end) {\r\n                                tmp = start.nextSibling;\r\n                                if (domUtils.isTagNode(start, 'ol ul')) {\r\n                                    frag.appendChild(start);\r\n                                } else {\r\n                                    tmpfrag = me.document.createDocumentFragment();\r\n                                    hasBlock = 0;\r\n                                    while (start.firstChild) {\r\n                                        if (domUtils.isBlockElm(start.firstChild)) {\r\n                                            hasBlock = 1;\r\n                                        }\r\n                                        tmpfrag.appendChild(start.firstChild);\r\n                                    }\r\n                                    if (!hasBlock) {\r\n                                        tmpP = me.document.createElement('p');\r\n                                        tmpP.appendChild(tmpfrag);\r\n                                        frag.appendChild(tmpP);\r\n                                    } else {\r\n                                        frag.appendChild(tmpfrag);\r\n                                    }\r\n                                    domUtils.remove(start);\r\n                                }\r\n                                start = tmp;\r\n                            }\r\n                            var tmpDiv = domUtils.createElement(me.document, 'div', {\r\n                                'tmpDiv': 1\r\n                            });\r\n                            domUtils.moveChild(end, tmpDiv);\r\n\r\n                            frag.appendChild(tmpDiv);\r\n                            domUtils.remove(end);\r\n                            endParent.parentNode.insertBefore(frag, endParent);\r\n                            range.setEndBefore(endParent);\r\n                            if (domUtils.isEmptyNode(endParent)) {\r\n                                domUtils.remove(endParent);\r\n                            }\r\n\r\n                            modifyEnd = 1;\r\n                        }\r\n\r\n\r\n                    }\r\n\r\n                    if (!modifyStart) {\r\n                        range.setStartBefore(me.document.getElementById(bko.start));\r\n                    }\r\n                    if (bko.end && !modifyEnd) {\r\n                        range.setEndAfter(me.document.getElementById(bko.end));\r\n                    }\r\n                    range.enlarge(true, function(node) {\r\n                        return notExchange[node.tagName];\r\n                    });\r\n\r\n                    frag = me.document.createDocumentFragment();\r\n\r\n                    var bk = range.createBookmark(),\r\n                        current = domUtils.getNextDomNode(bk.start, false, filterFn),\r\n                        tmpRange = range.cloneRange(),\r\n                        tmpNode,\r\n                        block = domUtils.isBlockElm;\r\n\r\n                    while (current && current !== bk.end && (domUtils.getPosition(current, bk.end) & domUtils.POSITION_PRECEDING)) {\r\n\r\n                        if (current.nodeType == 3 || dtd.li[current.tagName]) {\r\n                            if (current.nodeType == 1 && dtd.$list[current.tagName]) {\r\n                                while (current.firstChild) {\r\n                                    frag.appendChild(current.firstChild);\r\n                                }\r\n                                tmpNode = domUtils.getNextDomNode(current, false, filterFn);\r\n                                domUtils.remove(current);\r\n                                current = tmpNode;\r\n                                continue;\r\n\r\n                            }\r\n                            tmpNode = current;\r\n                            tmpRange.setStartBefore(current);\r\n\r\n                            while (current && current !== bk.end && (!block(current) || domUtils.isBookmarkNode(current))) {\r\n                                tmpNode = current;\r\n                                current = domUtils.getNextDomNode(current, false, null, function(node) {\r\n                                    return !notExchange[node.tagName];\r\n                                });\r\n                            }\r\n\r\n                            if (current && block(current)) {\r\n                                tmp = domUtils.getNextDomNode(tmpNode, false, filterFn);\r\n                                if (tmp && domUtils.isBookmarkNode(tmp)) {\r\n                                    current = domUtils.getNextDomNode(tmp, false, filterFn);\r\n                                    tmpNode = tmp;\r\n                                }\r\n                            }\r\n                            tmpRange.setEndAfter(tmpNode);\r\n\r\n                            current = domUtils.getNextDomNode(tmpNode, false, filterFn);\r\n\r\n                            var li = range.document.createElement('li');\r\n\r\n                            li.appendChild(tmpRange.extractContents());\r\n                            if (domUtils.isEmptyNode(li)) {\r\n                                var tmpNode = range.document.createElement('p');\r\n                                while (li.firstChild) {\r\n                                    tmpNode.appendChild(li.firstChild)\r\n                                }\r\n                                li.appendChild(tmpNode);\r\n                            }\r\n                            frag.appendChild(li);\r\n                        } else {\r\n                            current = domUtils.getNextDomNode(current, true, filterFn);\r\n                        }\r\n                    }\r\n                    range.moveToBookmark(bk).collapse(true);\r\n                    list = me.document.createElement(tag);\r\n                    setListStyle(list, style);\r\n                    list.appendChild(frag);\r\n                    range.insertNode(list);\r\n                    //当前list上下看能否合并\r\n                    adjustList(list, tag, style);\r\n                    //去掉冗余的tmpDiv\r\n                    for (var i = 0, ci, tmpDivs = domUtils.getElementsByTagName(list, 'div'); ci = tmpDivs[i++];) {\r\n                        if (ci.getAttribute('tmpDiv')) {\r\n                            domUtils.remove(ci, true)\r\n                        }\r\n                    }\r\n                    range.moveToBookmark(bko).select();\r\n\r\n                },\r\n                queryCommandState: function(command) {\r\n                    var tag = command.toLowerCase() == 'insertorderedlist' ? 'ol' : 'ul';\r\n                    var path = this.selection.getStartElementPath();\r\n                    for (var i = 0, ci; ci = path[i++];) {\r\n                        if (ci.nodeName == 'TABLE') {\r\n                            return 0\r\n                        }\r\n                        if (tag == ci.nodeName.toLowerCase()) {\r\n                            return 1\r\n                        };\r\n                    }\r\n                    return 0;\r\n\r\n                },\r\n                queryCommandValue: function(command) {\r\n                    var tag = command.toLowerCase() == 'insertorderedlist' ? 'ol' : 'ul';\r\n                    var path = this.selection.getStartElementPath(),\r\n                        node;\r\n                    for (var i = 0, ci; ci = path[i++];) {\r\n                        if (ci.nodeName == 'TABLE') {\r\n                            node = null;\r\n                            break;\r\n                        }\r\n                        if (tag == ci.nodeName.toLowerCase()) {\r\n                            node = ci;\r\n                            break;\r\n                        };\r\n                    }\r\n                    return node ? getStyle(node) || domUtils.getComputedStyle(node, 'list-style-type') : null;\r\n                }\r\n            };\r\n    };\r\n\r\n\r\n\r\n    // plugins/source.js\r\n    /**\r\n     * 源码编辑插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    (function() {\r\n        var sourceEditors = {\r\n            textarea: function(editor, holder) {\r\n                var textarea = holder.ownerDocument.createElement('textarea');\r\n                textarea.style.cssText = 'position:absolute;resize:none;width:100%;height:100%;border:0;padding:0;margin:0;overflow-y:auto;';\r\n                // todo: IE下只有onresize属性可用... 很纠结\r\n                if (browser.ie && browser.version < 8) {\r\n                    textarea.style.width = holder.offsetWidth + 'px';\r\n                    textarea.style.height = holder.offsetHeight + 'px';\r\n                    holder.onresize = function() {\r\n                        textarea.style.width = holder.offsetWidth + 'px';\r\n                        textarea.style.height = holder.offsetHeight + 'px';\r\n                    };\r\n                }\r\n                holder.appendChild(textarea);\r\n                return {\r\n                    setContent: function(content) {\r\n                        textarea.value = content;\r\n                    },\r\n                    getContent: function() {\r\n                        return textarea.value;\r\n                    },\r\n                    select: function() {\r\n                        var range;\r\n                        if (browser.ie) {\r\n                            range = textarea.createTextRange();\r\n                            range.collapse(true);\r\n                            range.select();\r\n                        } else {\r\n                            //todo: chrome下无法设置焦点\r\n                            textarea.setSelectionRange(0, 0);\r\n                            textarea.focus();\r\n                        }\r\n                    },\r\n                    dispose: function() {\r\n                        holder.removeChild(textarea);\r\n                        // todo\r\n                        holder.onresize = null;\r\n                        textarea = null;\r\n                        holder = null;\r\n                    }\r\n                };\r\n            },\r\n            codemirror: function(editor, holder) {\r\n\r\n                var codeEditor = window.CodeMirror(holder, {\r\n                    mode: \"text/html\",\r\n                    tabMode: \"indent\",\r\n                    lineNumbers: true,\r\n                    lineWrapping: true\r\n                });\r\n                var dom = codeEditor.getWrapperElement();\r\n                dom.style.cssText = 'position:absolute;left:0;top:0;width:100%;height:100%;font-family:consolas,\"Courier new\",monospace;font-size:13px;';\r\n                codeEditor.getScrollerElement().style.cssText = 'position:absolute;left:0;top:0;width:100%;height:100%;';\r\n                codeEditor.refresh();\r\n                return {\r\n                    getCodeMirror: function() {\r\n                        return codeEditor;\r\n                    },\r\n                    setContent: function(content) {\r\n                        codeEditor.setValue(content);\r\n                    },\r\n                    getContent: function() {\r\n                        return codeEditor.getValue();\r\n                    },\r\n                    select: function() {\r\n                        codeEditor.focus();\r\n                    },\r\n                    dispose: function() {\r\n                        holder.removeChild(dom);\r\n                        dom = null;\r\n                        codeEditor = null;\r\n                    }\r\n                };\r\n            }\r\n        };\r\n\r\n        UE.plugins['source'] = function() {\r\n            var me = this;\r\n            var opt = this.options;\r\n            var sourceMode = false;\r\n            var sourceEditor;\r\n            var orgSetContent;\r\n            opt.sourceEditor = browser.ie ? 'textarea' : (opt.sourceEditor || 'codemirror');\r\n\r\n            me.setOpt({\r\n                sourceEditorFirst: false\r\n            });\r\n\r\n            function createSourceEditor(holder) {\r\n                return sourceEditors[opt.sourceEditor == 'codemirror' && window.CodeMirror ? 'codemirror' : 'textarea'](me, holder);\r\n            }\r\n\r\n            var bakCssText;\r\n            //解决在源码模式下getContent不能得到最新的内容问题\r\n            var oldGetContent,\r\n                bakAddress;\r\n\r\n            /**\r\n             * 切换源码模式和编辑模式\r\n             * @command source\r\n             * @method execCommand\r\n             * @param { String } cmd 命令字符串\r\n             * @example\r\n             * ```javascript\r\n             * editor.execCommand( 'source');\r\n             * ```\r\n             */\r\n\r\n            /**\r\n             * 查询当前编辑区域的状态是源码模式还是可视化模式\r\n             * @command source\r\n             * @method queryCommandState\r\n             * @param { String } cmd 命令字符串\r\n             * @return { int } 如果当前是源码编辑模式，返回1，否则返回0\r\n             * @example\r\n             * ```javascript\r\n             * editor.queryCommandState( 'source' );\r\n             * ```\r\n             */\r\n\r\n            me.commands['source'] = {\r\n                execCommand: function() {\r\n\r\n                    sourceMode = !sourceMode;\r\n                    if (sourceMode) {\r\n                        bakAddress = me.selection.getRange().createAddress(false, true);\r\n                        me.undoManger && me.undoManger.save(true);\r\n                        if (browser.gecko) {\r\n                            me.body.contentEditable = false;\r\n                        }\r\n\r\n                        bakCssText = me.iframe.style.cssText;\r\n                        me.iframe.style.cssText += 'position:absolute;left:-32768px;top:-32768px;';\r\n\r\n\r\n                        me.fireEvent('beforegetcontent');\r\n                        var root = UE.htmlparser(me.body.innerHTML);\r\n                        me.filterOutputRule(root);\r\n                        root.traversal(function(node) {\r\n                            if (node.type == 'element') {\r\n                                switch (node.tagName) {\r\n                                    case 'td':\r\n                                    case 'th':\r\n                                    case 'caption':\r\n                                        if (node.children && node.children.length == 1) {\r\n                                            if (node.firstChild().tagName == 'br') {\r\n                                                node.removeChild(node.firstChild())\r\n                                            }\r\n                                        };\r\n                                        break;\r\n                                    case 'pre':\r\n                                        node.innerText(node.innerText().replace(/&nbsp;/g, ' '))\r\n\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        me.fireEvent('aftergetcontent');\r\n\r\n                        var content = root.toHtml(true);\r\n\r\n                        sourceEditor = createSourceEditor(me.iframe.parentNode);\r\n\r\n                        sourceEditor.setContent(content);\r\n\r\n                        orgSetContent = me.setContent;\r\n\r\n                        me.setContent = function(html) {\r\n                            //这里暂时不触发事件，防止报错\r\n                            var root = UE.htmlparser(html);\r\n                            me.filterInputRule(root);\r\n                            html = root.toHtml();\r\n                            sourceEditor.setContent(html);\r\n                        };\r\n\r\n                        setTimeout(function() {\r\n                            sourceEditor.select();\r\n                            me.addListener('fullscreenchanged', function() {\r\n                                try {\r\n                                    sourceEditor.getCodeMirror().refresh()\r\n                                } catch (e) {}\r\n                            });\r\n                        });\r\n\r\n                        //重置getContent，源码模式下取值也能是最新的数据\r\n                        oldGetContent = me.getContent;\r\n                        me.getContent = function() {\r\n                            return sourceEditor.getContent() || '<p>' + (browser.ie ? '' : '<br/>') + '</p>';\r\n                        };\r\n                    } else {\r\n                        me.iframe.style.cssText = bakCssText;\r\n                        var cont = sourceEditor.getContent() || '<p>' + (browser.ie ? '' : '<br/>') + '</p>';\r\n                        //处理掉block节点前后的空格,有可能会误命中，暂时不考虑\r\n                        cont = cont.replace(new RegExp('[\\\\r\\\\t\\\\n ]*<\\/?(\\\\w+)\\\\s*(?:[^>]*)>', 'g'), function(a, b) {\r\n                            if (b && !dtd.$inlineWithA[b.toLowerCase()]) {\r\n                                return a.replace(/(^[\\n\\r\\t ]*)|([\\n\\r\\t ]*$)/g, '');\r\n                            }\r\n                            return a.replace(/(^[\\n\\r\\t]*)|([\\n\\r\\t]*$)/g, '')\r\n                        });\r\n\r\n                        me.setContent = orgSetContent;\r\n\r\n                        me.setContent(cont);\r\n                        sourceEditor.dispose();\r\n                        sourceEditor = null;\r\n                        //还原getContent方法\r\n                        me.getContent = oldGetContent;\r\n                        var first = me.body.firstChild;\r\n                        //trace:1106 都删除空了，下边会报错，所以补充一个p占位\r\n                        if (!first) {\r\n                            me.body.innerHTML = '<p>' + (browser.ie ? '' : '<br/>') + '</p>';\r\n                            first = me.body.firstChild;\r\n                        }\r\n\r\n\r\n                        //要在ifm为显示时ff才能取到selection,否则报错\r\n                        //这里不能比较位置了\r\n                        me.undoManger && me.undoManger.save(true);\r\n\r\n                        if (browser.gecko) {\r\n\r\n                            var input = document.createElement('input');\r\n                            input.style.cssText = 'position:absolute;left:0;top:-32768px';\r\n\r\n                            document.body.appendChild(input);\r\n\r\n                            me.body.contentEditable = false;\r\n                            setTimeout(function() {\r\n                                domUtils.setViewportOffset(input, { left: -32768, top: 0 });\r\n                                input.focus();\r\n                                setTimeout(function() {\r\n                                    me.body.contentEditable = true;\r\n                                    me.selection.getRange().moveToAddress(bakAddress).select(true);\r\n                                    domUtils.remove(input);\r\n                                });\r\n\r\n                            });\r\n                        } else {\r\n                            //ie下有可能报错，比如在代码顶头的情况\r\n                            try {\r\n                                me.selection.getRange().moveToAddress(bakAddress).select(true);\r\n                            } catch (e) {}\r\n\r\n                        }\r\n                    }\r\n                    this.fireEvent('sourcemodechanged', sourceMode);\r\n                },\r\n                queryCommandState: function() {\r\n                    return sourceMode | 0;\r\n                },\r\n                notNeedUndo: 1\r\n            };\r\n            var oldQueryCommandState = me.queryCommandState;\r\n\r\n            me.queryCommandState = function(cmdName) {\r\n                cmdName = cmdName.toLowerCase();\r\n                if (sourceMode) {\r\n                    //源码模式下可以开启的命令\r\n                    return cmdName in {\r\n                        'source': 1,\r\n                        'fullscreen': 1\r\n                    } ? 1 : -1\r\n                }\r\n                return oldQueryCommandState.apply(this, arguments);\r\n            };\r\n\r\n            if (opt.sourceEditor == \"codemirror\") {\r\n\r\n                me.addListener(\"ready\", function() {\r\n                    utils.loadFile(document, {\r\n                        src: opt.codeMirrorJsUrl || opt.UEDITOR_HOME_URL + \"third-party/codemirror/codemirror.js\",\r\n                        tag: \"script\",\r\n                        type: \"text/javascript\",\r\n                        defer: \"defer\"\r\n                    }, function() {\r\n                        if (opt.sourceEditorFirst) {\r\n                            setTimeout(function() {\r\n                                me.execCommand(\"source\");\r\n                            }, 0);\r\n                        }\r\n                    });\r\n                    utils.loadFile(document, {\r\n                        tag: \"link\",\r\n                        rel: \"stylesheet\",\r\n                        type: \"text/css\",\r\n                        href: opt.codeMirrorCssUrl || opt.UEDITOR_HOME_URL + \"third-party/codemirror/codemirror.css\"\r\n                    });\r\n\r\n                });\r\n            }\r\n\r\n        };\r\n\r\n    })();\r\n\r\n    // plugins/enterkey.js\r\n    ///import core\r\n    ///import plugins/undo.js\r\n    ///commands 设置回车标签p或br\r\n    ///commandsName  EnterKey\r\n    ///commandsTitle  设置回车标签p或br\r\n    /**\r\n     * @description 处理回车\r\n     * @author zhanyi\r\n     */\r\n    UE.plugins['enterkey'] = function() {\r\n        var hTag,\r\n            me = this,\r\n            tag = me.options.enterTag;\r\n        me.addListener('keyup', function(type, evt) {\r\n\r\n            var keyCode = evt.keyCode || evt.which;\r\n            if (keyCode == 13) {\r\n                var range = me.selection.getRange(),\r\n                    start = range.startContainer,\r\n                    doSave;\r\n\r\n                //修正在h1-h6里边回车后不能嵌套p的问题\r\n                if (!browser.ie) {\r\n\r\n                    if (/h\\d/i.test(hTag)) {\r\n                        if (browser.gecko) {\r\n                            var h = domUtils.findParentByTagName(start, ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'blockquote', 'caption', 'table'], true);\r\n                            if (!h) {\r\n                                me.document.execCommand('formatBlock', false, '<p>');\r\n                                doSave = 1;\r\n                            }\r\n                        } else {\r\n                            //chrome remove div\r\n                            if (start.nodeType == 1) {\r\n                                var tmp = me.document.createTextNode(''),\r\n                                    div;\r\n                                range.insertNode(tmp);\r\n                                div = domUtils.findParentByTagName(tmp, 'div', true);\r\n                                if (div) {\r\n                                    var p = me.document.createElement('p');\r\n                                    while (div.firstChild) {\r\n                                        p.appendChild(div.firstChild);\r\n                                    }\r\n                                    div.parentNode.insertBefore(p, div);\r\n                                    domUtils.remove(div);\r\n                                    range.setStartBefore(tmp).setCursor();\r\n                                    doSave = 1;\r\n                                }\r\n                                domUtils.remove(tmp);\r\n\r\n                            }\r\n                        }\r\n\r\n                        if (me.undoManger && doSave) {\r\n                            me.undoManger.save();\r\n                        }\r\n                    }\r\n                    //没有站位符，会出现多行的问题\r\n                    browser.opera && range.select();\r\n                } else {\r\n                    me.fireEvent('saveScene', true, true)\r\n                }\r\n            }\r\n        });\r\n\r\n        me.addListener('keydown', function(type, evt) {\r\n            var keyCode = evt.keyCode || evt.which;\r\n            if (keyCode == 13) { //回车\r\n                if (me.fireEvent('beforeenterkeydown')) {\r\n                    domUtils.preventDefault(evt);\r\n                    return;\r\n                }\r\n                me.fireEvent('saveScene', true, true);\r\n                hTag = '';\r\n\r\n\r\n                var range = me.selection.getRange();\r\n\r\n                if (!range.collapsed) {\r\n                    //跨td不能删\r\n                    var start = range.startContainer,\r\n                        end = range.endContainer,\r\n                        startTd = domUtils.findParentByTagName(start, 'td', true),\r\n                        endTd = domUtils.findParentByTagName(end, 'td', true);\r\n                    if (startTd && endTd && startTd !== endTd || !startTd && endTd || startTd && !endTd) {\r\n                        evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\r\n                        return;\r\n                    }\r\n                }\r\n                if (tag == 'p') {\r\n\r\n\r\n                    if (!browser.ie) {\r\n\r\n                        start = domUtils.findParentByTagName(range.startContainer, ['ol', 'ul', 'p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'blockquote', 'caption'], true);\r\n\r\n                        //opera下执行formatblock会在table的场景下有问题，回车在opera原生支持很好，所以暂时在opera去掉调用这个原生的command\r\n                        //trace:2431\r\n                        if (!start && !browser.opera) {\r\n\r\n                            me.document.execCommand('formatBlock', false, '<p>');\r\n\r\n                            if (browser.gecko) {\r\n                                range = me.selection.getRange();\r\n                                start = domUtils.findParentByTagName(range.startContainer, 'p', true);\r\n                                start && domUtils.removeDirtyAttr(start);\r\n                            }\r\n\r\n\r\n                        } else {\r\n                            hTag = start.tagName;\r\n                            start.tagName.toLowerCase() == 'p' && browser.gecko && domUtils.removeDirtyAttr(start);\r\n                        }\r\n\r\n                    }\r\n\r\n                } else {\r\n                    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\r\n\r\n                    if (!range.collapsed) {\r\n                        range.deleteContents();\r\n                        start = range.startContainer;\r\n                        if (start.nodeType == 1 && (start = start.childNodes[range.startOffset])) {\r\n                            while (start.nodeType == 1) {\r\n                                if (dtd.$empty[start.tagName]) {\r\n                                    range.setStartBefore(start).setCursor();\r\n                                    if (me.undoManger) {\r\n                                        me.undoManger.save();\r\n                                    }\r\n                                    return false;\r\n                                }\r\n                                if (!start.firstChild) {\r\n                                    var br = range.document.createElement('br');\r\n                                    start.appendChild(br);\r\n                                    range.setStart(start, 0).setCursor();\r\n                                    if (me.undoManger) {\r\n                                        me.undoManger.save();\r\n                                    }\r\n                                    return false;\r\n                                }\r\n                                start = start.firstChild;\r\n                            }\r\n                            if (start === range.startContainer.childNodes[range.startOffset]) {\r\n                                br = range.document.createElement('br');\r\n                                range.insertNode(br).setCursor();\r\n\r\n                            } else {\r\n                                range.setStart(start, 0).setCursor();\r\n                            }\r\n\r\n\r\n                        } else {\r\n                            br = range.document.createElement('br');\r\n                            range.insertNode(br).setStartAfter(br).setCursor();\r\n                        }\r\n\r\n\r\n                    } else {\r\n                        br = range.document.createElement('br');\r\n                        range.insertNode(br);\r\n                        var parent = br.parentNode;\r\n                        if (parent.lastChild === br) {\r\n                            br.parentNode.insertBefore(br.cloneNode(true), br);\r\n                            range.setStartBefore(br);\r\n                        } else {\r\n                            range.setStartAfter(br);\r\n                        }\r\n                        range.setCursor();\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    // plugins/keystrokes.js\r\n    /* 处理特殊键的兼容性问题 */\r\n    UE.plugins['keystrokes'] = function() {\r\n        var me = this;\r\n        var collapsed = true;\r\n        me.addListener('keydown', function(type, evt) {\r\n            var keyCode = evt.keyCode || evt.which,\r\n                rng = me.selection.getRange();\r\n\r\n            //处理全选的情况\r\n            if (!rng.collapsed && !(evt.ctrlKey || evt.shiftKey || evt.altKey || evt.metaKey) && (keyCode >= 65 && keyCode <= 90 ||\r\n                    keyCode >= 48 && keyCode <= 57 ||\r\n                    keyCode >= 96 && keyCode <= 111 || {\r\n                        13: 1,\r\n                        8: 1,\r\n                        46: 1\r\n                    }[keyCode])) {\r\n\r\n                var tmpNode = rng.startContainer;\r\n                if (domUtils.isFillChar(tmpNode)) {\r\n                    rng.setStartBefore(tmpNode)\r\n                }\r\n                tmpNode = rng.endContainer;\r\n                if (domUtils.isFillChar(tmpNode)) {\r\n                    rng.setEndAfter(tmpNode)\r\n                }\r\n                rng.txtToElmBoundary();\r\n                //结束边界可能放到了br的前边，要把br包含进来\r\n                // x[xxx]<br/>\r\n                if (rng.endContainer && rng.endContainer.nodeType == 1) {\r\n                    tmpNode = rng.endContainer.childNodes[rng.endOffset];\r\n                    if (tmpNode && domUtils.isBr(tmpNode)) {\r\n                        rng.setEndAfter(tmpNode);\r\n                    }\r\n                }\r\n                if (rng.startOffset == 0) {\r\n                    tmpNode = rng.startContainer;\r\n                    if (domUtils.isBoundaryNode(tmpNode, 'firstChild')) {\r\n                        tmpNode = rng.endContainer;\r\n                        if (rng.endOffset == (tmpNode.nodeType == 3 ? tmpNode.nodeValue.length : tmpNode.childNodes.length) && domUtils.isBoundaryNode(tmpNode, 'lastChild')) {\r\n                            me.fireEvent('saveScene');\r\n                            me.body.innerHTML = '<p>' + (browser.ie ? '' : '<br/>') + '</p>';\r\n                            rng.setStart(me.body.firstChild, 0).setCursor(false, true);\r\n                            me._selectionChange();\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            //处理backspace\r\n            if (keyCode == keymap.Backspace) {\r\n                rng = me.selection.getRange();\r\n                collapsed = rng.collapsed;\r\n                if (me.fireEvent('delkeydown', evt)) {\r\n                    return;\r\n                }\r\n                var start, end;\r\n                //避免按两次删除才能生效的问题\r\n                if (rng.collapsed && rng.inFillChar()) {\r\n                    start = rng.startContainer;\r\n\r\n                    if (domUtils.isFillChar(start)) {\r\n                        rng.setStartBefore(start).shrinkBoundary(true).collapse(true);\r\n                        domUtils.remove(start)\r\n                    } else {\r\n                        start.nodeValue = start.nodeValue.replace(new RegExp('^' + domUtils.fillChar), '');\r\n                        rng.startOffset--;\r\n                        rng.collapse(true).select(true)\r\n                    }\r\n                }\r\n\r\n                //解决选中control元素不能删除的问题\r\n                if (start = rng.getClosedNode()) {\r\n                    me.fireEvent('saveScene');\r\n                    rng.setStartBefore(start);\r\n                    domUtils.remove(start);\r\n                    rng.setCursor();\r\n                    me.fireEvent('saveScene');\r\n                    domUtils.preventDefault(evt);\r\n                    return;\r\n                }\r\n                //阻止在table上的删除\r\n                if (!browser.ie) {\r\n                    start = domUtils.findParentByTagName(rng.startContainer, 'table', true);\r\n                    end = domUtils.findParentByTagName(rng.endContainer, 'table', true);\r\n                    if (start && !end || !start && end || start !== end) {\r\n                        evt.preventDefault();\r\n                        return;\r\n                    }\r\n                }\r\n\r\n            }\r\n            //处理tab键的逻辑\r\n            if (keyCode == keymap.Tab) {\r\n                //不处理以下标签\r\n                var excludeTagNameForTabKey = {\r\n                    'ol': 1,\r\n                    'ul': 1,\r\n                    'table': 1\r\n                };\r\n                //处理组件里的tab按下事件\r\n                if (me.fireEvent('tabkeydown', evt)) {\r\n                    domUtils.preventDefault(evt);\r\n                    return;\r\n                }\r\n                var range = me.selection.getRange();\r\n                me.fireEvent('saveScene');\r\n                for (var i = 0, txt = '', tabSize = me.options.tabSize || 4, tabNode = me.options.tabNode || '&nbsp;'; i < tabSize; i++) {\r\n                    txt += tabNode;\r\n                }\r\n                var span = me.document.createElement('span');\r\n                span.innerHTML = txt + domUtils.fillChar;\r\n                if (range.collapsed) {\r\n                    range.insertNode(span.cloneNode(true).firstChild).setCursor(true);\r\n                } else {\r\n                    var filterFn = function(node) {\r\n                        return domUtils.isBlockElm(node) && !excludeTagNameForTabKey[node.tagName.toLowerCase()]\r\n\r\n                    };\r\n                    //普通的情况\r\n                    start = domUtils.findParent(range.startContainer, filterFn, true);\r\n                    end = domUtils.findParent(range.endContainer, filterFn, true);\r\n                    if (start && end && start === end) {\r\n                        range.deleteContents();\r\n                        range.insertNode(span.cloneNode(true).firstChild).setCursor(true);\r\n                    } else {\r\n                        var bookmark = range.createBookmark();\r\n                        range.enlarge(true);\r\n                        var bookmark2 = range.createBookmark(),\r\n                            current = domUtils.getNextDomNode(bookmark2.start, false, filterFn);\r\n                        while (current && !(domUtils.getPosition(current, bookmark2.end) & domUtils.POSITION_FOLLOWING)) {\r\n                            current.insertBefore(span.cloneNode(true).firstChild, current.firstChild);\r\n                            current = domUtils.getNextDomNode(current, false, filterFn);\r\n                        }\r\n                        range.moveToBookmark(bookmark2).moveToBookmark(bookmark).select();\r\n                    }\r\n                }\r\n                domUtils.preventDefault(evt)\r\n            }\r\n            //trace:1634\r\n            //ff的del键在容器空的时候，也会删除\r\n            if (browser.gecko && keyCode == 46) {\r\n                range = me.selection.getRange();\r\n                if (range.collapsed) {\r\n                    start = range.startContainer;\r\n                    if (domUtils.isEmptyBlock(start)) {\r\n                        var parent = start.parentNode;\r\n                        while (domUtils.getChildCount(parent) == 1 && !domUtils.isBody(parent)) {\r\n                            start = parent;\r\n                            parent = parent.parentNode;\r\n                        }\r\n                        if (start === parent.lastChild)\r\n                            evt.preventDefault();\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        me.addListener('keyup', function(type, evt) {\r\n            var keyCode = evt.keyCode || evt.which,\r\n                rng, me = this;\r\n            if (keyCode == keymap.Backspace) {\r\n                if (me.fireEvent('delkeyup')) {\r\n                    return;\r\n                }\r\n                rng = me.selection.getRange();\r\n                if (rng.collapsed) {\r\n                    var tmpNode,\r\n                        autoClearTagName = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\r\n                    if (tmpNode = domUtils.findParentByTagName(rng.startContainer, autoClearTagName, true)) {\r\n                        if (domUtils.isEmptyBlock(tmpNode)) {\r\n                            var pre = tmpNode.previousSibling;\r\n                            if (pre && pre.nodeName != 'TABLE') {\r\n                                domUtils.remove(tmpNode);\r\n                                rng.setStartAtLast(pre).setCursor(false, true);\r\n                                return;\r\n                            } else {\r\n                                var next = tmpNode.nextSibling;\r\n                                if (next && next.nodeName != 'TABLE') {\r\n                                    domUtils.remove(tmpNode);\r\n                                    rng.setStartAtFirst(next).setCursor(false, true);\r\n                                    return;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    //处理当删除到body时，要重新给p标签展位\r\n                    if (domUtils.isBody(rng.startContainer)) {\r\n                        var tmpNode = domUtils.createElement(me.document, 'p', {\r\n                            'innerHTML': browser.ie ? domUtils.fillChar : '<br/>'\r\n                        });\r\n                        rng.insertNode(tmpNode).setStart(tmpNode, 0).setCursor(false, true);\r\n                    }\r\n                }\r\n\r\n\r\n                //chrome下如果删除了inline标签，浏览器会有记忆，在输入文字还是会套上刚才删除的标签，所以这里再选一次就不会了\r\n                if (!collapsed && (rng.startContainer.nodeType == 3 || rng.startContainer.nodeType == 1 && domUtils.isEmptyBlock(rng.startContainer))) {\r\n                    if (browser.ie) {\r\n                        var span = rng.document.createElement('span');\r\n                        rng.insertNode(span).setStartBefore(span).collapse(true);\r\n                        rng.select();\r\n                        domUtils.remove(span)\r\n                    } else {\r\n                        rng.select()\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n\r\n        })\r\n    };\r\n\r\n    // plugins/fiximgclick.js\r\n    ///import core\r\n    ///commands 修复chrome下图片不能点击的问题，出现八个角可改变大小\r\n    ///commandsName  FixImgClick\r\n    ///commandsTitle  修复chrome下图片不能点击的问题，出现八个角可改变大小\r\n    //修复chrome下图片不能点击的问题，出现八个角可改变大小\r\n\r\n    UE.plugins['fiximgclick'] = (function() {\r\n\r\n        var elementUpdated = false;\r\n\r\n        function Scale() {\r\n            this.editor = null;\r\n            this.resizer = null;\r\n            this.cover = null;\r\n            this.doc = document;\r\n            this.prePos = { x: 0, y: 0 };\r\n            this.startPos = { x: 0, y: 0 };\r\n        }\r\n\r\n        (function() {\r\n            var rect = [\r\n                //[left, top, width, height]\r\n                [0, 0, -1, -1],\r\n                [0, 0, 0, -1],\r\n                [0, 0, 1, -1],\r\n                [0, 0, -1, 0],\r\n                [0, 0, 1, 0],\r\n                [0, 0, -1, 1],\r\n                [0, 0, 0, 1],\r\n                [0, 0, 1, 1]\r\n            ];\r\n\r\n            Scale.prototype = {\r\n                init: function(editor) {\r\n                    var me = this;\r\n                    me.editor = editor;\r\n                    me.startPos = this.prePos = { x: 0, y: 0 };\r\n                    me.dragId = -1;\r\n\r\n                    var hands = [],\r\n                        cover = me.cover = document.createElement('div'),\r\n                        resizer = me.resizer = document.createElement('div');\r\n\r\n                    cover.id = me.editor.ui.id + '_imagescale_cover';\r\n                    cover.style.cssText = 'position:absolute;display:none;z-index:' + (me.editor.options.zIndex) + ';filter:alpha(opacity=0); opacity:0;background:#CCC;';\r\n                    domUtils.on(cover, 'mousedown click', function() {\r\n                        me.hide();\r\n                    });\r\n\r\n                    for (i = 0; i < 8; i++) {\r\n                        hands.push('<span class=\"edui-editor-imagescale-hand' + i + '\"></span>');\r\n                    }\r\n                    resizer.id = me.editor.ui.id + '_imagescale';\r\n                    resizer.className = 'edui-editor-imagescale';\r\n                    resizer.innerHTML = hands.join('');\r\n                    resizer.style.cssText += ';display:none;border:1px solid #3b77ff;z-index:' + (me.editor.options.zIndex) + ';';\r\n\r\n                    me.editor.ui.getDom().appendChild(cover);\r\n                    me.editor.ui.getDom().appendChild(resizer);\r\n\r\n                    me.initStyle();\r\n                    me.initEvents();\r\n                },\r\n                initStyle: function() {\r\n                    utils.cssRule('imagescale', '.edui-editor-imagescale{display:none;position:absolute;border:1px solid #38B2CE;cursor:hand;-webkit-box-sizing: content-box;-moz-box-sizing: content-box;box-sizing: content-box;}' +\r\n                        '.edui-editor-imagescale span{position:absolute;width:6px;height:6px;overflow:hidden;font-size:0px;display:block;background-color:#3C9DD0;}' +\r\n                        '.edui-editor-imagescale .edui-editor-imagescale-hand0{cursor:nw-resize;top:0;margin-top:-4px;left:0;margin-left:-4px;}' +\r\n                        '.edui-editor-imagescale .edui-editor-imagescale-hand1{cursor:n-resize;top:0;margin-top:-4px;left:50%;margin-left:-4px;}' +\r\n                        '.edui-editor-imagescale .edui-editor-imagescale-hand2{cursor:ne-resize;top:0;margin-top:-4px;left:100%;margin-left:-3px;}' +\r\n                        '.edui-editor-imagescale .edui-editor-imagescale-hand3{cursor:w-resize;top:50%;margin-top:-4px;left:0;margin-left:-4px;}' +\r\n                        '.edui-editor-imagescale .edui-editor-imagescale-hand4{cursor:e-resize;top:50%;margin-top:-4px;left:100%;margin-left:-3px;}' +\r\n                        '.edui-editor-imagescale .edui-editor-imagescale-hand5{cursor:sw-resize;top:100%;margin-top:-3px;left:0;margin-left:-4px;}' +\r\n                        '.edui-editor-imagescale .edui-editor-imagescale-hand6{cursor:s-resize;top:100%;margin-top:-3px;left:50%;margin-left:-4px;}' +\r\n                        '.edui-editor-imagescale .edui-editor-imagescale-hand7{cursor:se-resize;top:100%;margin-top:-3px;left:100%;margin-left:-3px;}');\r\n                },\r\n                initEvents: function() {\r\n                    var me = this;\r\n\r\n                    me.startPos.x = me.startPos.y = 0;\r\n                    me.isDraging = false;\r\n                },\r\n                _eventHandler: function(e) {\r\n                    var me = this;\r\n                    switch (e.type) {\r\n                        case 'mousedown':\r\n                            var hand = e.target || e.srcElement,\r\n                                hand;\r\n                            if (hand.className.indexOf('edui-editor-imagescale-hand') != -1 && me.dragId == -1) {\r\n                                me.dragId = hand.className.slice(-1);\r\n                                me.startPos.x = me.prePos.x = e.clientX;\r\n                                me.startPos.y = me.prePos.y = e.clientY;\r\n                                domUtils.on(me.doc, 'mousemove', me.proxy(me._eventHandler, me));\r\n                            }\r\n                            break;\r\n                        case 'mousemove':\r\n                            if (me.dragId != -1) {\r\n                                me.updateContainerStyle(me.dragId, { x: e.clientX - me.prePos.x, y: e.clientY - me.prePos.y });\r\n                                me.prePos.x = e.clientX;\r\n                                me.prePos.y = e.clientY;\r\n                                elementUpdated = true;\r\n                                me.updateTargetElement();\r\n\r\n                            }\r\n                            break;\r\n                        case 'mouseup':\r\n                            if (me.dragId != -1) {\r\n                                me.updateContainerStyle(me.dragId, { x: e.clientX - me.prePos.x, y: e.clientY - me.prePos.y });\r\n                                me.updateTargetElement();\r\n                                if (me.target.parentNode) me.attachTo(me.target);\r\n                                me.dragId = -1;\r\n                            }\r\n                            domUtils.un(me.doc, 'mousemove', me.proxy(me._eventHandler, me));\r\n                            //修复只是点击挪动点，但没有改变大小，不应该触发contentchange\r\n                            if (elementUpdated) {\r\n                                elementUpdated = false;\r\n                                me.editor.fireEvent('contentchange');\r\n                            }\r\n\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                },\r\n                updateTargetElement: function() {\r\n                    var me = this;\r\n                    domUtils.setStyles(me.target, {\r\n                        'width': me.resizer.style.width,\r\n                        'height': me.resizer.style.height\r\n                    });\r\n                    me.target.width = parseInt(me.resizer.style.width);\r\n                    me.target.height = parseInt(me.resizer.style.height);\r\n                    me.attachTo(me.target);\r\n                },\r\n                updateContainerStyle: function(dir, offset) {\r\n                    var me = this,\r\n                        dom = me.resizer,\r\n                        tmp;\r\n\r\n                    if (rect[dir][0] != 0) {\r\n                        tmp = parseInt(dom.style.left) + offset.x;\r\n                        dom.style.left = me._validScaledProp('left', tmp) + 'px';\r\n                    }\r\n                    if (rect[dir][1] != 0) {\r\n                        tmp = parseInt(dom.style.top) + offset.y;\r\n                        dom.style.top = me._validScaledProp('top', tmp) + 'px';\r\n                    }\r\n                    if (rect[dir][2] != 0) {\r\n                        tmp = dom.clientWidth + rect[dir][2] * offset.x;\r\n                        dom.style.width = me._validScaledProp('width', tmp) + 'px';\r\n                    }\r\n                    if (rect[dir][3] != 0) {\r\n                        tmp = dom.clientHeight + rect[dir][3] * offset.y;\r\n                        dom.style.height = me._validScaledProp('height', tmp) + 'px';\r\n                    }\r\n                },\r\n                _validScaledProp: function(prop, value) {\r\n                    var ele = this.resizer,\r\n                        wrap = document;\r\n\r\n                    value = isNaN(value) ? 0 : value;\r\n                    switch (prop) {\r\n                        case 'left':\r\n                            return value < 0 ? 0 : (value + ele.clientWidth) > wrap.clientWidth ? wrap.clientWidth - ele.clientWidth : value;\r\n                        case 'top':\r\n                            return value < 0 ? 0 : (value + ele.clientHeight) > wrap.clientHeight ? wrap.clientHeight - ele.clientHeight : value;\r\n                        case 'width':\r\n                            return value <= 0 ? 1 : (value + ele.offsetLeft) > wrap.clientWidth ? wrap.clientWidth - ele.offsetLeft : value;\r\n                        case 'height':\r\n                            return value <= 0 ? 1 : (value + ele.offsetTop) > wrap.clientHeight ? wrap.clientHeight - ele.offsetTop : value;\r\n                    }\r\n                },\r\n                hideCover: function() {\r\n                    this.cover.style.display = 'none';\r\n                },\r\n                showCover: function() {\r\n                    var me = this,\r\n                        editorPos = domUtils.getXY(me.editor.ui.getDom()),\r\n                        iframePos = domUtils.getXY(me.editor.iframe);\r\n\r\n                    domUtils.setStyles(me.cover, {\r\n                        'width': me.editor.iframe.offsetWidth + 'px',\r\n                        'height': me.editor.iframe.offsetHeight + 'px',\r\n                        'top': iframePos.y - editorPos.y + 'px',\r\n                        'left': iframePos.x - editorPos.x + 'px',\r\n                        'position': 'absolute',\r\n                        'display': ''\r\n                    })\r\n                },\r\n                show: function(targetObj) {\r\n                    var me = this;\r\n                    me.resizer.style.display = 'block';\r\n                    if (targetObj) me.attachTo(targetObj);\r\n\r\n                    domUtils.on(this.resizer, 'mousedown', me.proxy(me._eventHandler, me));\r\n                    domUtils.on(me.doc, 'mouseup', me.proxy(me._eventHandler, me));\r\n\r\n                    me.showCover();\r\n                    me.editor.fireEvent('afterscaleshow', me);\r\n                    me.editor.fireEvent('saveScene');\r\n                },\r\n                hide: function() {\r\n                    var me = this;\r\n                    me.hideCover();\r\n                    me.resizer.style.display = 'none';\r\n\r\n                    domUtils.un(me.resizer, 'mousedown', me.proxy(me._eventHandler, me));\r\n                    domUtils.un(me.doc, 'mouseup', me.proxy(me._eventHandler, me));\r\n                    me.editor.fireEvent('afterscalehide', me);\r\n                },\r\n                proxy: function(fn, context) {\r\n                    return function(e) {\r\n                        return fn.apply(context || this, arguments);\r\n                    };\r\n                },\r\n                attachTo: function(targetObj) {\r\n                    var me = this,\r\n                        target = me.target = targetObj,\r\n                        resizer = this.resizer,\r\n                        imgPos = domUtils.getXY(target),\r\n                        iframePos = domUtils.getXY(me.editor.iframe),\r\n                        editorPos = domUtils.getXY(resizer.parentNode);\r\n\r\n                    domUtils.setStyles(resizer, {\r\n                        'width': target.width + 'px',\r\n                        'height': target.height + 'px',\r\n                        'left': iframePos.x + imgPos.x - me.editor.document.body.scrollLeft - editorPos.x - parseInt(resizer.style.borderLeftWidth) + 'px',\r\n                        'top': iframePos.y + imgPos.y - me.editor.document.body.scrollTop - editorPos.y - parseInt(resizer.style.borderTopWidth) + 'px'\r\n                    });\r\n                }\r\n            }\r\n        })();\r\n\r\n        return function() {\r\n            var me = this,\r\n                imageScale;\r\n\r\n            me.setOpt('imageScaleEnabled', true);\r\n\r\n            if (!browser.ie && me.options.imageScaleEnabled) {\r\n                me.addListener('click', function(type, e) {\r\n\r\n                    var range = me.selection.getRange(),\r\n                        img = range.getClosedNode();\r\n\r\n                    if (img && img.tagName == 'IMG' && me.body.contentEditable != \"false\") {\r\n\r\n                        if (img.className.indexOf(\"edui-faked-music\") != -1 ||\r\n                            img.getAttribute(\"anchorname\") ||\r\n                            domUtils.hasClass(img, 'loadingclass') ||\r\n                            domUtils.hasClass(img, 'loaderrorclass')) { return }\r\n\r\n                        if (!imageScale) {\r\n                            imageScale = new Scale();\r\n                            imageScale.init(me);\r\n                            me.ui.getDom().appendChild(imageScale.resizer);\r\n\r\n                            var _keyDownHandler = function(e) {\r\n                                    imageScale.hide();\r\n                                    if (imageScale.target) me.selection.getRange().selectNode(imageScale.target).select();\r\n                                },\r\n                                _mouseDownHandler = function(e) {\r\n                                    var ele = e.target || e.srcElement;\r\n                                    if (ele && (ele.className === undefined || ele.className.indexOf('edui-editor-imagescale') == -1)) {\r\n                                        _keyDownHandler(e);\r\n                                    }\r\n                                },\r\n                                timer;\r\n\r\n                            me.addListener('afterscaleshow', function(e) {\r\n                                me.addListener('beforekeydown', _keyDownHandler);\r\n                                me.addListener('beforemousedown', _mouseDownHandler);\r\n                                domUtils.on(document, 'keydown', _keyDownHandler);\r\n                                domUtils.on(document, 'mousedown', _mouseDownHandler);\r\n                                me.selection.getNative().removeAllRanges();\r\n                            });\r\n                            me.addListener('afterscalehide', function(e) {\r\n                                me.removeListener('beforekeydown', _keyDownHandler);\r\n                                me.removeListener('beforemousedown', _mouseDownHandler);\r\n                                domUtils.un(document, 'keydown', _keyDownHandler);\r\n                                domUtils.un(document, 'mousedown', _mouseDownHandler);\r\n                                var target = imageScale.target;\r\n                                if (target.parentNode) {\r\n                                    me.selection.getRange().selectNode(target).select();\r\n                                }\r\n                            });\r\n                            //TODO 有iframe的情况，mousedown不能往下传。。\r\n                            domUtils.on(imageScale.resizer, 'mousedown', function(e) {\r\n                                me.selection.getNative().removeAllRanges();\r\n                                var ele = e.target || e.srcElement;\r\n                                if (ele && ele.className.indexOf('edui-editor-imagescale-hand') == -1) {\r\n                                    timer = setTimeout(function() {\r\n                                        imageScale.hide();\r\n                                        if (imageScale.target) me.selection.getRange().selectNode(ele).select();\r\n                                    }, 200);\r\n                                }\r\n                            });\r\n                            domUtils.on(imageScale.resizer, 'mouseup', function(e) {\r\n                                var ele = e.target || e.srcElement;\r\n                                if (ele && ele.className.indexOf('edui-editor-imagescale-hand') == -1) {\r\n                                    clearTimeout(timer);\r\n                                }\r\n                            });\r\n                        }\r\n                        imageScale.show(img);\r\n                    } else {\r\n                        if (imageScale && imageScale.resizer.style.display != 'none') imageScale.hide();\r\n                    }\r\n                });\r\n            }\r\n\r\n            if (browser.webkit) {\r\n                me.addListener('click', function(type, e) {\r\n                    if (e.target.tagName == 'IMG' && me.body.contentEditable != \"false\") {\r\n                        var range = new dom.Range(me.document);\r\n                        range.selectNode(e.target).select();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    })();\r\n\r\n    // plugins/autolink.js\r\n    ///import core\r\n    ///commands 为非ie浏览器自动添加a标签\r\n    ///commandsName  AutoLink\r\n    ///commandsTitle  自动增加链接\r\n    /**\r\n     * @description 为非ie浏览器自动添加a标签\r\n     * @author zhanyi\r\n     */\r\n\r\n    UE.plugin.register('autolink', function() {\r\n        var cont = 0;\r\n\r\n        return !browser.ie ? {\r\n\r\n            bindEvents: {\r\n                'reset': function() {\r\n                    cont = 0;\r\n                },\r\n                'keydown': function(type, evt) {\r\n                    var me = this;\r\n                    var keyCode = evt.keyCode || evt.which;\r\n\r\n                    if (keyCode == 32 || keyCode == 13) {\r\n\r\n                        var sel = me.selection.getNative(),\r\n                            range = sel.getRangeAt(0).cloneRange(),\r\n                            offset,\r\n                            charCode;\r\n\r\n                        var start = range.startContainer;\r\n                        while (start.nodeType == 1 && range.startOffset > 0) {\r\n                            start = range.startContainer.childNodes[range.startOffset - 1];\r\n                            if (!start) {\r\n                                break;\r\n                            }\r\n                            range.setStart(start, start.nodeType == 1 ? start.childNodes.length : start.nodeValue.length);\r\n                            range.collapse(true);\r\n                            start = range.startContainer;\r\n                        }\r\n\r\n                        do {\r\n                            if (range.startOffset == 0) {\r\n                                start = range.startContainer.previousSibling;\r\n\r\n                                while (start && start.nodeType == 1) {\r\n                                    start = start.lastChild;\r\n                                }\r\n                                if (!start || domUtils.isFillChar(start)) {\r\n                                    break;\r\n                                }\r\n                                offset = start.nodeValue.length;\r\n                            } else {\r\n                                start = range.startContainer;\r\n                                offset = range.startOffset;\r\n                            }\r\n                            range.setStart(start, offset - 1);\r\n                            charCode = range.toString().charCodeAt(0);\r\n                        } while (charCode != 160 && charCode != 32);\r\n\r\n                        if (range.toString().replace(new RegExp(domUtils.fillChar, 'g'), '').match(/(?:https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.)/i)) {\r\n                            while (range.toString().length) {\r\n                                if (/^(?:https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.)/i.test(range.toString())) {\r\n                                    break;\r\n                                }\r\n                                try {\r\n                                    range.setStart(range.startContainer, range.startOffset + 1);\r\n                                } catch (e) {\r\n                                    //trace:2121\r\n                                    var start = range.startContainer;\r\n                                    while (!(next = start.nextSibling)) {\r\n                                        if (domUtils.isBody(start)) {\r\n                                            return;\r\n                                        }\r\n                                        start = start.parentNode;\r\n\r\n                                    }\r\n                                    range.setStart(next, 0);\r\n\r\n                                }\r\n\r\n                            }\r\n                            //range的开始边界已经在a标签里的不再处理\r\n                            if (domUtils.findParentByTagName(range.startContainer, 'a', true)) {\r\n                                return;\r\n                            }\r\n                            var a = me.document.createElement('a'),\r\n                                text = me.document.createTextNode(' '),\r\n                                href;\r\n\r\n                            me.undoManger && me.undoManger.save();\r\n                            a.appendChild(range.extractContents());\r\n                            a.href = a.innerHTML = a.innerHTML.replace(/<[^>]+>/g, '');\r\n                            href = a.getAttribute(\"href\").replace(new RegExp(domUtils.fillChar, 'g'), '');\r\n                            href = /^(?:https?:\\/\\/)/ig.test(href) ? href : \"http://\" + href;\r\n                            a.setAttribute('_src', utils.html(href));\r\n                            a.href = utils.html(href);\r\n\r\n                            range.insertNode(a);\r\n                            a.parentNode.insertBefore(text, a.nextSibling);\r\n                            range.setStart(text, 0);\r\n                            range.collapse(true);\r\n                            sel.removeAllRanges();\r\n                            sel.addRange(range);\r\n                            me.undoManger && me.undoManger.save();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } : {}\r\n    }, function() {\r\n        var keyCodes = {\r\n            37: 1,\r\n            38: 1,\r\n            39: 1,\r\n            40: 1,\r\n            13: 1,\r\n            32: 1\r\n        };\r\n\r\n        function checkIsCludeLink(node) {\r\n            if (node.nodeType == 3) {\r\n                return null\r\n            }\r\n            if (node.nodeName == 'A') {\r\n                return node;\r\n            }\r\n            var lastChild = node.lastChild;\r\n\r\n            while (lastChild) {\r\n                if (lastChild.nodeName == 'A') {\r\n                    return lastChild;\r\n                }\r\n                if (lastChild.nodeType == 3) {\r\n                    if (domUtils.isWhitespace(lastChild)) {\r\n                        lastChild = lastChild.previousSibling;\r\n                        continue;\r\n                    }\r\n                    return null\r\n                }\r\n                lastChild = lastChild.lastChild;\r\n            }\r\n        }\r\n        browser.ie && this.addListener('keyup', function(cmd, evt) {\r\n            var me = this,\r\n                keyCode = evt.keyCode;\r\n            if (keyCodes[keyCode]) {\r\n                var rng = me.selection.getRange();\r\n                var start = rng.startContainer;\r\n\r\n                if (keyCode == 13) {\r\n                    while (start && !domUtils.isBody(start) && !domUtils.isBlockElm(start)) {\r\n                        start = start.parentNode;\r\n                    }\r\n                    if (start && !domUtils.isBody(start) && start.nodeName == 'P') {\r\n                        var pre = start.previousSibling;\r\n                        if (pre && pre.nodeType == 1) {\r\n                            var pre = checkIsCludeLink(pre);\r\n                            if (pre && !pre.getAttribute('_href')) {\r\n                                domUtils.remove(pre, true);\r\n                            }\r\n                        }\r\n                    }\r\n                } else if (keyCode == 32) {\r\n                    if (start.nodeType == 3 && /^\\s$/.test(start.nodeValue)) {\r\n                        start = start.previousSibling;\r\n                        if (start && start.nodeName == 'A' && !start.getAttribute('_href')) {\r\n                            domUtils.remove(start, true);\r\n                        }\r\n                    }\r\n                } else {\r\n                    start = domUtils.findParentByTagName(start, 'a', true);\r\n                    if (start && !start.getAttribute('_href')) {\r\n                        var bk = rng.createBookmark();\r\n\r\n                        domUtils.remove(start, true);\r\n                        rng.moveToBookmark(bk).select(true)\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n\r\n        });\r\n    });\r\n\r\n    // plugins/autoheight.js\r\n    ///import core\r\n    ///commands 当输入内容超过编辑器高度时，编辑器自动增高\r\n    ///commandsName  AutoHeight,autoHeightEnabled\r\n    ///commandsTitle  自动增高\r\n    /**\r\n     * @description 自动伸展\r\n     * @author zhanyi\r\n     */\r\n    UE.plugins['autoheight'] = function() {\r\n        var me = this;\r\n        //提供开关，就算加载也可以关闭\r\n        me.autoHeightEnabled = me.options.autoHeightEnabled !== false;\r\n        if (!me.autoHeightEnabled) {\r\n            return;\r\n        }\r\n\r\n        var bakOverflow,\r\n            lastHeight = 0,\r\n            options = me.options,\r\n            currentHeight,\r\n            timer;\r\n\r\n        function adjustHeight() {\r\n            var me = this;\r\n            clearTimeout(timer);\r\n            if (isFullscreen) return;\r\n            if (!me.queryCommandState || me.queryCommandState && me.queryCommandState('source') != 1) {\r\n                timer = setTimeout(function() {\r\n\r\n                    var node = me.body.lastChild;\r\n                    while (node && node.nodeType != 1) {\r\n                        node = node.previousSibling;\r\n                    }\r\n                    if (node && node.nodeType == 1) {\r\n                        node.style.clear = 'both';\r\n                        currentHeight = Math.max(domUtils.getXY(node).y + node.offsetHeight + 25, Math.max(options.minFrameHeight, options.initialFrameHeight));\r\n                        if (currentHeight != lastHeight) {\r\n                            if (currentHeight !== parseInt(me.iframe.parentNode.style.height)) {\r\n                                me.iframe.parentNode.style.height = currentHeight + 'px';\r\n                            }\r\n                            me.body.style.height = currentHeight + 'px';\r\n                            lastHeight = currentHeight;\r\n                        }\r\n                        domUtils.removeStyle(node, 'clear');\r\n                    }\r\n\r\n\r\n                }, 50)\r\n            }\r\n        }\r\n        var isFullscreen;\r\n        me.addListener('fullscreenchanged', function(cmd, f) {\r\n            isFullscreen = f\r\n        });\r\n        me.addListener('destroy', function() {\r\n            me.removeListener('contentchange afterinserthtml keyup mouseup', adjustHeight)\r\n        });\r\n        me.enableAutoHeight = function() {\r\n            var me = this;\r\n            if (!me.autoHeightEnabled) {\r\n                return;\r\n            }\r\n            var doc = me.document;\r\n            me.autoHeightEnabled = true;\r\n            bakOverflow = doc.body.style.overflowY;\r\n            doc.body.style.overflowY = 'hidden';\r\n            me.addListener('contentchange afterinserthtml keyup mouseup', adjustHeight);\r\n            //ff不给事件算得不对\r\n\r\n            setTimeout(function() {\r\n                adjustHeight.call(me);\r\n            }, browser.gecko ? 100 : 0);\r\n            me.fireEvent('autoheightchanged', me.autoHeightEnabled);\r\n        };\r\n        me.disableAutoHeight = function() {\r\n\r\n            me.body.style.overflowY = bakOverflow || '';\r\n\r\n            me.removeListener('contentchange', adjustHeight);\r\n            me.removeListener('keyup', adjustHeight);\r\n            me.removeListener('mouseup', adjustHeight);\r\n            me.autoHeightEnabled = false;\r\n            me.fireEvent('autoheightchanged', me.autoHeightEnabled);\r\n        };\r\n\r\n        me.on('setHeight', function() {\r\n            me.disableAutoHeight()\r\n        });\r\n        me.addListener('ready', function() {\r\n            me.enableAutoHeight();\r\n            //trace:1764\r\n            var timer;\r\n            domUtils.on(browser.ie ? me.body : me.document, browser.webkit ? 'dragover' : 'drop', function() {\r\n                clearTimeout(timer);\r\n                timer = setTimeout(function() {\r\n                    //trace:3681\r\n                    adjustHeight.call(me);\r\n                }, 100);\r\n\r\n            });\r\n            //修复内容过多时，回到顶部，顶部内容被工具栏遮挡问题\r\n            var lastScrollY;\r\n            window.onscroll = function() {\r\n                if (lastScrollY === null) {\r\n                    lastScrollY = this.scrollY\r\n                } else if (this.scrollY == 0 && lastScrollY != 0) {\r\n                    me.window.scrollTo(0, 0);\r\n                    lastScrollY = null;\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    };\r\n\r\n\r\n\r\n    // plugins/autofloat.js\r\n    ///import core\r\n    ///commands 悬浮工具栏\r\n    ///commandsName  AutoFloat,autoFloatEnabled\r\n    ///commandsTitle  悬浮工具栏\r\n    /**\r\n     *  modified by chengchao01\r\n     *  注意： 引入此功能后，在IE6下会将body的背景图片覆盖掉！\r\n     */\r\n    UE.plugins['autofloat'] = function() {\r\n        var me = this,\r\n            lang = me.getLang();\r\n        me.setOpt({\r\n            topOffset: 0\r\n        });\r\n        var optsAutoFloatEnabled = me.options.autoFloatEnabled !== false,\r\n            topOffset = me.options.topOffset;\r\n\r\n\r\n        //如果不固定toolbar的位置，则直接退出\r\n        if (!optsAutoFloatEnabled) {\r\n            return;\r\n        }\r\n        var uiUtils = UE.ui.uiUtils,\r\n            LteIE6 = browser.ie && browser.version <= 6,\r\n            quirks = browser.quirks;\r\n\r\n        function checkHasUI() {\r\n            if (!UE.ui) {\r\n                alert(lang.autofloatMsg);\r\n                return 0;\r\n            }\r\n            return 1;\r\n        }\r\n\r\n        function fixIE6FixedPos() {\r\n            var docStyle = document.body.style;\r\n            docStyle.backgroundImage = 'url(\"about:blank\")';\r\n            docStyle.backgroundAttachment = 'fixed';\r\n        }\r\n        var bakCssText,\r\n            placeHolder = document.createElement('div'),\r\n            toolbarBox, orgTop,\r\n            getPosition,\r\n            flag = true; //ie7模式下需要偏移\r\n        function setFloating() {\r\n            var toobarBoxPos = domUtils.getXY(toolbarBox),\r\n                origalFloat = domUtils.getComputedStyle(toolbarBox, 'position'),\r\n                origalLeft = domUtils.getComputedStyle(toolbarBox, 'left');\r\n            toolbarBox.style.width = toolbarBox.offsetWidth + 'px';\r\n            toolbarBox.style.zIndex = me.options.zIndex * 1 + 1;\r\n            toolbarBox.parentNode.insertBefore(placeHolder, toolbarBox);\r\n            if (LteIE6 || (quirks && browser.ie)) {\r\n                if (toolbarBox.style.position != 'absolute') {\r\n                    toolbarBox.style.position = 'absolute';\r\n                }\r\n                toolbarBox.style.top = (document.body.scrollTop || document.documentElement.scrollTop) - orgTop + topOffset + 'px';\r\n            } else {\r\n                if (browser.ie7Compat && flag) {\r\n                    flag = false;\r\n                    toolbarBox.style.left = domUtils.getXY(toolbarBox).x - document.documentElement.getBoundingClientRect().left + 2 + 'px';\r\n                }\r\n                if (toolbarBox.style.position != 'fixed') {\r\n                    toolbarBox.style.position = 'fixed';\r\n                    toolbarBox.style.top = topOffset + \"px\";\r\n                    ((origalFloat == 'absolute' || origalFloat == 'relative') && parseFloat(origalLeft)) && (toolbarBox.style.left = toobarBoxPos.x + 'px');\r\n                }\r\n            }\r\n        }\r\n\r\n        function unsetFloating() {\r\n            flag = true;\r\n            if (placeHolder.parentNode) {\r\n                placeHolder.parentNode.removeChild(placeHolder);\r\n            }\r\n\r\n            toolbarBox.style.cssText = bakCssText;\r\n        }\r\n\r\n        function updateFloating() {\r\n            var rect3 = getPosition(me.container);\r\n            var offset = me.options.toolbarTopOffset || 0;\r\n            if (rect3.top < 0 && rect3.bottom - toolbarBox.offsetHeight > offset) {\r\n                setFloating();\r\n            } else {\r\n                unsetFloating();\r\n            }\r\n        }\r\n        var defer_updateFloating = utils.defer(function() {\r\n            updateFloating();\r\n        }, browser.ie ? 200 : 100, true);\r\n\r\n        me.addListener('destroy', function() {\r\n            domUtils.un(window, ['scroll', 'resize'], updateFloating);\r\n            me.removeListener('keydown', defer_updateFloating);\r\n        });\r\n\r\n        me.addListener('ready', function() {\r\n            if (checkHasUI(me)) {\r\n                //加载了ui组件，但在new时，没有加载ui，导致编辑器实例上没有ui类，所以这里做判断\r\n                if (!me.ui) {\r\n                    return;\r\n                }\r\n                getPosition = uiUtils.getClientRect;\r\n                toolbarBox = me.ui.getDom('toolbarbox');\r\n                orgTop = getPosition(toolbarBox).top;\r\n                bakCssText = toolbarBox.style.cssText;\r\n                placeHolder.style.height = toolbarBox.offsetHeight + 'px';\r\n                if (LteIE6) {\r\n                    fixIE6FixedPos();\r\n                }\r\n                domUtils.on(window, ['scroll', 'resize'], updateFloating);\r\n                me.addListener('keydown', defer_updateFloating);\r\n\r\n                me.addListener('beforefullscreenchange', function(t, enabled) {\r\n                    if (enabled) {\r\n                        unsetFloating();\r\n                    }\r\n                });\r\n                me.addListener('fullscreenchanged', function(t, enabled) {\r\n                    if (!enabled) {\r\n                        updateFloating();\r\n                    }\r\n                });\r\n                me.addListener('sourcemodechanged', function(t, enabled) {\r\n                    setTimeout(function() {\r\n                        updateFloating();\r\n                    }, 0);\r\n                });\r\n                me.addListener(\"clearDoc\", function() {\r\n                    setTimeout(function() {\r\n                        updateFloating();\r\n                    }, 0);\r\n\r\n                })\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    // plugins/video.js\r\n    /**\r\n     * video插件， 为UEditor提供视频插入支持\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    UE.plugins['video'] = function() {\r\n        var me = this;\r\n\r\n        /**\r\n         * 创建插入视频字符窜\r\n         * @param url 视频地址\r\n         * @param width 视频宽度\r\n         * @param height 视频高度\r\n         * @param align 视频对齐\r\n         * @param toEmbed 是否以flash代替显示\r\n         * @param addParagraph  是否需要添加P 标签\r\n         */\r\n        function creatInsertStr(url, width, height, id, align, classname, type) {\r\n\r\n            url = utils.unhtmlForUrl(url);\r\n            align = utils.unhtml(align);\r\n            classname = utils.unhtml(classname);\r\n\r\n            width = parseInt(width, 10) || 0;\r\n            height = parseInt(height, 10) || 0;\r\n\r\n            var str;\r\n            switch (type) {\r\n                case 'image':\r\n                    str = '<img ' + (id ? 'id=\"' + id + '\"' : '') + ' width=\"' + width + '\" height=\"' + height + '\" _url=\"' + url + '\" class=\"' + classname.replace(/\\bvideo-js\\b/, '') + '\"' +\r\n                        ' src=\"' + me.options.UEDITOR_HOME_URL + 'themes/default/images/spacer.gif\" style=\"background:url(' + me.options.UEDITOR_HOME_URL + 'themes/default/images/videologo.gif) no-repeat center center; border:1px solid gray;' + (align ? 'float:' + align + ';' : '') + '\" />'\r\n                    break;\r\n                case 'embed':\r\n                    str = '<embed type=\"application/x-shockwave-flash\" class=\"' + classname + '\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\"' +\r\n                        ' src=\"' + utils.html(url) + '\" width=\"' + width + '\" height=\"' + height + '\"' + (align ? ' style=\"float:' + align + '\"' : '') +\r\n                        ' wmode=\"transparent\" play=\"true\" loop=\"false\" menu=\"false\" allowscriptaccess=\"never\" allowfullscreen=\"true\" >';\r\n                    break;\r\n                case 'video':\r\n                    var ext = url.substr(url.lastIndexOf('.') + 1);\r\n                    if (ext == 'ogv') ext = 'ogg';\r\n                    str = '<video' + (id ? ' id=\"' + id + '\"' : '') + ' class=\"' + classname + ' video-js\" ' + (align ? ' style=\"float:' + align + '\"' : '') +\r\n                        ' controls preload=\"none\" width=\"' + width + '\" height=\"' + height + '\" src=\"' + url + '\" data-setup=\"{}\">' +\r\n                        '<source src=\"' + url + '\" type=\"video/' + ext + '\" /></video>';\r\n                    break;\r\n            }\r\n            return str;\r\n        }\r\n\r\n        function switchImgAndVideo(root, img2video) {\r\n            utils.each(root.getNodesByTagName(img2video ? 'img' : 'embed video'), function(node) {\r\n                var className = node.getAttr('class');\r\n                if (className && className.indexOf('edui-faked-video') != -1) {\r\n                    var html = creatInsertStr(img2video ? node.getAttr('_url') : node.getAttr('src'), node.getAttr('width'), node.getAttr('height'), null, node.getStyle('float') || '', className, img2video ? 'embed' : 'image');\r\n                    node.parentNode.replaceChild(UE.uNode.createElement(html), node);\r\n                }\r\n                if (className && className.indexOf('edui-upload-video') != -1) {\r\n                    var html = creatInsertStr(img2video ? node.getAttr('_url') : node.getAttr('src'), node.getAttr('width'), node.getAttr('height'), null, node.getStyle('float') || '', className, img2video ? 'video' : 'image');\r\n                    node.parentNode.replaceChild(UE.uNode.createElement(html), node);\r\n                }\r\n            })\r\n        }\r\n\r\n        me.addOutputRule(function(root) {\r\n            switchImgAndVideo(root, true)\r\n        });\r\n        me.addInputRule(function(root) {\r\n            switchImgAndVideo(root)\r\n        });\r\n\r\n        /**\r\n         * 插入视频\r\n         * @command insertvideo\r\n         * @method execCommand\r\n         * @param { String } cmd 命令字符串\r\n         * @param { Object } videoAttr 键值对对象， 描述一个视频的所有属性\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var videoAttr = {\r\n         *      //视频地址\r\n         *      url: 'http://www.youku.com/xxx',\r\n         *      //视频宽高值， 单位px\r\n         *      width: 200,\r\n         *      height: 100\r\n         * };\r\n         *\r\n         * //editor 是编辑器实例\r\n         * //向编辑器插入单个视频\r\n         * editor.execCommand( 'insertvideo', videoAttr );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 插入视频\r\n         * @command insertvideo\r\n         * @method execCommand\r\n         * @param { String } cmd 命令字符串\r\n         * @param { Array } videoArr 需要插入的视频的数组， 其中的每一个元素都是一个键值对对象， 描述了一个视频的所有属性\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * var videoAttr1 = {\r\n         *      //视频地址\r\n         *      url: 'http://www.youku.com/xxx',\r\n         *      //视频宽高值， 单位px\r\n         *      width: 200,\r\n         *      height: 100\r\n         * },\r\n         * videoAttr2 = {\r\n         *      //视频地址\r\n         *      url: 'http://www.youku.com/xxx',\r\n         *      //视频宽高值， 单位px\r\n         *      width: 200,\r\n         *      height: 100\r\n         * }\r\n         *\r\n         * //editor 是编辑器实例\r\n         * //该方法将会向编辑器内插入两个视频\r\n         * editor.execCommand( 'insertvideo', [ videoAttr1, videoAttr2 ] );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 查询当前光标所在处是否是一个视频\r\n         * @command insertvideo\r\n         * @method queryCommandState\r\n         * @param { String } cmd 需要查询的命令字符串\r\n         * @return { int } 如果当前光标所在处的元素是一个视频对象， 则返回1，否则返回0\r\n         * @example\r\n         * ```javascript\r\n         *\r\n         * //editor 是编辑器实例\r\n         * editor.queryCommandState( 'insertvideo' );\r\n         * ```\r\n         */\r\n        me.commands[\"insertvideo\"] = {\r\n            execCommand: function(cmd, videoObjs, type) {\r\n                videoObjs = utils.isArray(videoObjs) ? videoObjs : [videoObjs];\r\n                var html = [],\r\n                    id = 'tmpVedio',\r\n                    cl;\r\n                for (var i = 0, vi, len = videoObjs.length; i < len; i++) {\r\n                    vi = videoObjs[i];\r\n                    cl = (type == 'upload' ? 'edui-upload-video video-js vjs-default-skin' : 'edui-faked-video');\r\n                    html.push(creatInsertStr(vi.url, vi.width || 420, vi.height || 280, id + i, null, cl, 'image'));\r\n                }\r\n                me.execCommand(\"inserthtml\", html.join(\"\"), true);\r\n                var rng = this.selection.getRange();\r\n                for (var i = 0, len = videoObjs.length; i < len; i++) {\r\n                    var img = this.document.getElementById('tmpVedio' + i);\r\n                    domUtils.removeAttributes(img, 'id');\r\n                    rng.selectNode(img).select();\r\n                    me.execCommand('imagefloat', videoObjs[i].align)\r\n                }\r\n            },\r\n            queryCommandState: function() {\r\n                var img = me.selection.getRange().getClosedNode(),\r\n                    flag = img && (img.className == \"edui-faked-video\" || img.className.indexOf(\"edui-upload-video\") != -1);\r\n                return flag ? 1 : 0;\r\n            }\r\n        };\r\n    };\r\n\r\n\r\n    // plugins/table.core.js\r\n    /**\r\n     * Created with JetBrains WebStorm.\r\n     * User: taoqili\r\n     * Date: 13-1-18\r\n     * Time: 上午11:09\r\n     * To change this template use File | Settings | File Templates.\r\n     */\r\n    /**\r\n     * UE表格操作类\r\n     * @param table\r\n     * @constructor\r\n     */\r\n    (function() {\r\n        var UETable = UE.UETable = function(table) {\r\n            this.table = table;\r\n            this.indexTable = [];\r\n            this.selectedTds = [];\r\n            this.cellsRange = {};\r\n            this.update(table);\r\n        };\r\n\r\n        //===以下为静态工具方法===\r\n        UETable.removeSelectedClass = function(cells) {\r\n            utils.each(cells, function(cell) {\r\n                domUtils.removeClasses(cell, \"selectTdClass\");\r\n            })\r\n        };\r\n        UETable.addSelectedClass = function(cells) {\r\n            utils.each(cells, function(cell) {\r\n                domUtils.addClass(cell, \"selectTdClass\");\r\n            })\r\n        };\r\n        UETable.isEmptyBlock = function(node) {\r\n            var reg = new RegExp(domUtils.fillChar, 'g');\r\n            if (node[browser.ie ? 'innerText' : 'textContent'].replace(/^\\s*$/, '').replace(reg, '').length > 0) {\r\n                return 0;\r\n            }\r\n            for (var i in dtd.$isNotEmpty)\r\n                if (dtd.$isNotEmpty.hasOwnProperty(i)) {\r\n                    if (node.getElementsByTagName(i).length) {\r\n                        return 0;\r\n                    }\r\n                }\r\n            return 1;\r\n        };\r\n        UETable.getWidth = function(cell) {\r\n            if (!cell) return 0;\r\n            return parseInt(domUtils.getComputedStyle(cell, \"width\"), 10);\r\n        };\r\n\r\n        /**\r\n         * 获取单元格或者单元格组的“对齐”状态。 如果当前的检测对象是一个单元格组， 只有在满足所有单元格的 水平和竖直 对齐属性都相同的\r\n         * 条件时才会返回其状态值，否则将返回null； 如果当前只检测了一个单元格， 则直接返回当前单元格的对齐状态；\r\n         * @param table cell or table cells , 支持单个单元格dom对象 或者 单元格dom对象数组\r\n         * @return { align: 'left' || 'right' || 'center', valign: 'top' || 'middle' || 'bottom' } 或者 null\r\n         */\r\n        UETable.getTableCellAlignState = function(cells) {\r\n\r\n            !utils.isArray(cells) && (cells = [cells]);\r\n\r\n            var result = {},\r\n                status = ['align', 'valign'],\r\n                tempStatus = null,\r\n                isSame = true; //状态是否相同\r\n\r\n            utils.each(cells, function(cellNode) {\r\n\r\n                utils.each(status, function(currentState) {\r\n\r\n                    tempStatus = cellNode.getAttribute(currentState);\r\n\r\n                    if (!result[currentState] && tempStatus) {\r\n                        result[currentState] = tempStatus;\r\n                    } else if (!result[currentState] || (tempStatus !== result[currentState])) {\r\n                        isSame = false;\r\n                        return false;\r\n                    }\r\n\r\n                });\r\n\r\n                return isSame;\r\n\r\n            });\r\n\r\n            return isSame ? result : null;\r\n\r\n        };\r\n\r\n        /**\r\n         * 根据当前选区获取相关的table信息\r\n         * @return {Object}\r\n         */\r\n        UETable.getTableItemsByRange = function(editor) {\r\n            var start = editor.selection.getStart();\r\n\r\n            //ff下会选中bookmark\r\n            if (start && start.id && start.id.indexOf('_baidu_bookmark_start_') === 0 && start.nextSibling) {\r\n                start = start.nextSibling;\r\n            }\r\n\r\n            //在table或者td边缘有可能存在选中tr的情况\r\n            var cell = start && domUtils.findParentByTagName(start, [\"td\", \"th\"], true),\r\n                tr = cell && cell.parentNode,\r\n                caption = start && domUtils.findParentByTagName(start, 'caption', true),\r\n                table = caption ? caption.parentNode : tr && tr.parentNode.parentNode;\r\n\r\n            return {\r\n                cell: cell,\r\n                tr: tr,\r\n                table: table,\r\n                caption: caption\r\n            }\r\n        };\r\n        UETable.getUETableBySelected = function(editor) {\r\n            var table = UETable.getTableItemsByRange(editor).table;\r\n            if (table && table.ueTable && table.ueTable.selectedTds.length) {\r\n                return table.ueTable;\r\n            }\r\n            return null;\r\n        };\r\n\r\n        UETable.getDefaultValue = function(editor, table) {\r\n            var borderMap = {\r\n                    thin: '0px',\r\n                    medium: '1px',\r\n                    thick: '2px'\r\n                },\r\n                tableBorder, tdPadding, tdBorder, tmpValue;\r\n            if (!table) {\r\n                table = editor.document.createElement('table');\r\n                table.insertRow(0).insertCell(0).innerHTML = 'xxx';\r\n                editor.body.appendChild(table);\r\n                var td = table.getElementsByTagName('td')[0];\r\n                tmpValue = domUtils.getComputedStyle(table, 'border-left-width');\r\n                tableBorder = parseInt(borderMap[tmpValue] || tmpValue, 10);\r\n                tmpValue = domUtils.getComputedStyle(td, 'padding-left');\r\n                tdPadding = parseInt(borderMap[tmpValue] || tmpValue, 10);\r\n                tmpValue = domUtils.getComputedStyle(td, 'border-left-width');\r\n                tdBorder = parseInt(borderMap[tmpValue] || tmpValue, 10);\r\n                domUtils.remove(table);\r\n                return {\r\n                    tableBorder: tableBorder,\r\n                    tdPadding: tdPadding,\r\n                    tdBorder: tdBorder\r\n                };\r\n            } else {\r\n                td = table.getElementsByTagName('td')[0];\r\n                tmpValue = domUtils.getComputedStyle(table, 'border-left-width');\r\n                tableBorder = parseInt(borderMap[tmpValue] || tmpValue, 10);\r\n                tmpValue = domUtils.getComputedStyle(td, 'padding-left');\r\n                tdPadding = parseInt(borderMap[tmpValue] || tmpValue, 10);\r\n                tmpValue = domUtils.getComputedStyle(td, 'border-left-width');\r\n                tdBorder = parseInt(borderMap[tmpValue] || tmpValue, 10);\r\n                return {\r\n                    tableBorder: tableBorder,\r\n                    tdPadding: tdPadding,\r\n                    tdBorder: tdBorder\r\n                };\r\n            }\r\n        };\r\n        /**\r\n         * 根据当前点击的td或者table获取索引对象\r\n         * @param tdOrTable\r\n         */\r\n        UETable.getUETable = function(tdOrTable) {\r\n            var tag = tdOrTable.tagName.toLowerCase();\r\n            tdOrTable = (tag == \"td\" || tag == \"th\" || tag == 'caption') ? domUtils.findParentByTagName(tdOrTable, \"table\", true) : tdOrTable;\r\n            if (!tdOrTable.ueTable) {\r\n                tdOrTable.ueTable = new UETable(tdOrTable);\r\n            }\r\n            return tdOrTable.ueTable;\r\n        };\r\n\r\n        UETable.cloneCell = function(cell, ignoreMerge, keepPro) {\r\n            if (!cell || utils.isString(cell)) {\r\n                return this.table.ownerDocument.createElement(cell || 'td');\r\n            }\r\n            var flag = domUtils.hasClass(cell, \"selectTdClass\");\r\n            flag && domUtils.removeClasses(cell, \"selectTdClass\");\r\n            var tmpCell = cell.cloneNode(true);\r\n            if (ignoreMerge) {\r\n                tmpCell.rowSpan = tmpCell.colSpan = 1;\r\n            }\r\n            //去掉宽高\r\n            !keepPro && domUtils.removeAttributes(tmpCell, 'width height');\r\n            !keepPro && domUtils.removeAttributes(tmpCell, 'style');\r\n\r\n            tmpCell.style.borderLeftStyle = \"\";\r\n            tmpCell.style.borderTopStyle = \"\";\r\n            tmpCell.style.borderLeftColor = cell.style.borderRightColor;\r\n            tmpCell.style.borderLeftWidth = cell.style.borderRightWidth;\r\n            tmpCell.style.borderTopColor = cell.style.borderBottomColor;\r\n            tmpCell.style.borderTopWidth = cell.style.borderBottomWidth;\r\n            flag && domUtils.addClass(cell, \"selectTdClass\");\r\n            return tmpCell;\r\n        }\r\n\r\n        UETable.prototype = {\r\n            getMaxRows: function() {\r\n                var rows = this.table.rows,\r\n                    maxLen = 1;\r\n                for (var i = 0, row; row = rows[i]; i++) {\r\n                    var currentMax = 1;\r\n                    for (var j = 0, cj; cj = row.cells[j++];) {\r\n                        currentMax = Math.max(cj.rowSpan || 1, currentMax);\r\n                    }\r\n                    maxLen = Math.max(currentMax + i, maxLen);\r\n                }\r\n                return maxLen;\r\n            },\r\n            /**\r\n             * 获取当前表格的最大列数\r\n             */\r\n            getMaxCols: function() {\r\n                var rows = this.table.rows,\r\n                    maxLen = 0,\r\n                    cellRows = {};\r\n                for (var i = 0, row; row = rows[i]; i++) {\r\n                    var cellsNum = 0;\r\n                    for (var j = 0, cj; cj = row.cells[j++];) {\r\n                        cellsNum += (cj.colSpan || 1);\r\n                        if (cj.rowSpan && cj.rowSpan > 1) {\r\n                            for (var k = 1; k < cj.rowSpan; k++) {\r\n                                if (!cellRows['row_' + (i + k)]) {\r\n                                    cellRows['row_' + (i + k)] = (cj.colSpan || 1);\r\n                                } else {\r\n                                    cellRows['row_' + (i + k)]++\r\n                                }\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                    cellsNum += cellRows['row_' + i] || 0;\r\n                    maxLen = Math.max(cellsNum, maxLen);\r\n                }\r\n                return maxLen;\r\n            },\r\n            getCellColIndex: function(cell) {\r\n\r\n            },\r\n            /**\r\n             * 获取当前cell旁边的单元格，\r\n             * @param cell\r\n             * @param right\r\n             */\r\n            getHSideCell: function(cell, right) {\r\n                try {\r\n                    var cellInfo = this.getCellInfo(cell),\r\n                        previewRowIndex, previewColIndex;\r\n                    var len = this.selectedTds.length,\r\n                        range = this.cellsRange;\r\n                    //首行或者首列没有前置单元格\r\n                    if ((!right && (!len ? !cellInfo.colIndex : !range.beginColIndex)) || (right && (!len ? (cellInfo.colIndex == (this.colsNum - 1)) : (range.endColIndex == this.colsNum - 1)))) return null;\r\n\r\n                    previewRowIndex = !len ? cellInfo.rowIndex : range.beginRowIndex;\r\n                    previewColIndex = !right ? (!len ? (cellInfo.colIndex < 1 ? 0 : (cellInfo.colIndex - 1)) : range.beginColIndex - 1) :\r\n                        (!len ? cellInfo.colIndex + 1 : range.endColIndex + 1);\r\n                    return this.getCell(this.indexTable[previewRowIndex][previewColIndex].rowIndex, this.indexTable[previewRowIndex][previewColIndex].cellIndex);\r\n                } catch (e) {\r\n                    showError(e);\r\n                }\r\n            },\r\n            getTabNextCell: function(cell, preRowIndex) {\r\n                var cellInfo = this.getCellInfo(cell),\r\n                    rowIndex = preRowIndex || cellInfo.rowIndex,\r\n                    colIndex = cellInfo.colIndex + 1 + (cellInfo.colSpan - 1),\r\n                    nextCell;\r\n                try {\r\n                    nextCell = this.getCell(this.indexTable[rowIndex][colIndex].rowIndex, this.indexTable[rowIndex][colIndex].cellIndex);\r\n                } catch (e) {\r\n                    try {\r\n                        rowIndex = rowIndex * 1 + 1;\r\n                        colIndex = 0;\r\n                        nextCell = this.getCell(this.indexTable[rowIndex][colIndex].rowIndex, this.indexTable[rowIndex][colIndex].cellIndex);\r\n                    } catch (e) {}\r\n                }\r\n                return nextCell;\r\n\r\n            },\r\n            /**\r\n             * 获取视觉上的后置单元格\r\n             * @param cell\r\n             * @param bottom\r\n             */\r\n            getVSideCell: function(cell, bottom, ignoreRange) {\r\n                try {\r\n                    var cellInfo = this.getCellInfo(cell),\r\n                        nextRowIndex, nextColIndex;\r\n                    var len = this.selectedTds.length && !ignoreRange,\r\n                        range = this.cellsRange;\r\n                    //末行或者末列没有后置单元格\r\n                    if ((!bottom && (cellInfo.rowIndex == 0)) || (bottom && (!len ? (cellInfo.rowIndex + cellInfo.rowSpan > this.rowsNum - 1) : (range.endRowIndex == this.rowsNum - 1)))) return null;\r\n\r\n                    nextRowIndex = !bottom ? (!len ? cellInfo.rowIndex - 1 : range.beginRowIndex - 1) :\r\n                        (!len ? (cellInfo.rowIndex + cellInfo.rowSpan) : range.endRowIndex + 1);\r\n                    nextColIndex = !len ? cellInfo.colIndex : range.beginColIndex;\r\n                    return this.getCell(this.indexTable[nextRowIndex][nextColIndex].rowIndex, this.indexTable[nextRowIndex][nextColIndex].cellIndex);\r\n                } catch (e) {\r\n                    showError(e);\r\n                }\r\n            },\r\n            /**\r\n             * 获取相同结束位置的单元格，xOrY指代了是获取x轴相同还是y轴相同\r\n             */\r\n            getSameEndPosCells: function(cell, xOrY) {\r\n                try {\r\n                    var flag = (xOrY.toLowerCase() === \"x\"),\r\n                        end = domUtils.getXY(cell)[flag ? 'x' : 'y'] + cell[\"offset\" + (flag ? 'Width' : 'Height')],\r\n                        rows = this.table.rows,\r\n                        cells = null,\r\n                        returns = [];\r\n                    for (var i = 0; i < this.rowsNum; i++) {\r\n                        cells = rows[i].cells;\r\n                        for (var j = 0, tmpCell; tmpCell = cells[j++];) {\r\n                            var tmpEnd = domUtils.getXY(tmpCell)[flag ? 'x' : 'y'] + tmpCell[\"offset\" + (flag ? 'Width' : 'Height')];\r\n                            //对应行的td已经被上面行rowSpan了\r\n                            if (tmpEnd > end && flag) break;\r\n                            if (cell == tmpCell || end == tmpEnd) {\r\n                                //只获取单一的单元格\r\n                                //todo 仅获取单一单元格在特定情况下会造成returns为空，从而影响后续的拖拽实现，修正这个。需考虑性能\r\n                                if (tmpCell[flag ? \"colSpan\" : \"rowSpan\"] == 1) {\r\n                                    returns.push(tmpCell);\r\n                                }\r\n                                if (flag) break;\r\n                            }\r\n                        }\r\n                    }\r\n                    return returns;\r\n                } catch (e) {\r\n                    showError(e);\r\n                }\r\n            },\r\n            setCellContent: function(cell, content) {\r\n                cell.innerHTML = content || (browser.ie ? domUtils.fillChar : \"<br />\");\r\n            },\r\n            cloneCell: UETable.cloneCell,\r\n            /**\r\n             * 获取跟当前单元格的右边竖线为左边的所有未合并单元格\r\n             */\r\n            getSameStartPosXCells: function(cell) {\r\n                try {\r\n                    var start = domUtils.getXY(cell).x + cell.offsetWidth,\r\n                        rows = this.table.rows,\r\n                        cells, returns = [];\r\n                    for (var i = 0; i < this.rowsNum; i++) {\r\n                        cells = rows[i].cells;\r\n                        for (var j = 0, tmpCell; tmpCell = cells[j++];) {\r\n                            var tmpStart = domUtils.getXY(tmpCell).x;\r\n                            if (tmpStart > start) break;\r\n                            if (tmpStart == start && tmpCell.colSpan == 1) {\r\n                                returns.push(tmpCell);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    return returns;\r\n                } catch (e) {\r\n                    showError(e);\r\n                }\r\n            },\r\n            /**\r\n             * 更新table对应的索引表\r\n             */\r\n            update: function(table) {\r\n                this.table = table || this.table;\r\n                this.selectedTds = [];\r\n                this.cellsRange = {};\r\n                this.indexTable = [];\r\n                var rows = this.table.rows,\r\n                    rowsNum = this.getMaxRows(),\r\n                    dNum = rowsNum - rows.length,\r\n                    colsNum = this.getMaxCols();\r\n                while (dNum--) {\r\n                    this.table.insertRow(rows.length);\r\n                }\r\n                this.rowsNum = rowsNum;\r\n                this.colsNum = colsNum;\r\n                for (var i = 0, len = rows.length; i < len; i++) {\r\n                    this.indexTable[i] = new Array(colsNum);\r\n                }\r\n                //填充索引表\r\n                for (var rowIndex = 0, row; row = rows[rowIndex]; rowIndex++) {\r\n                    for (var cellIndex = 0, cell, cells = row.cells; cell = cells[cellIndex]; cellIndex++) {\r\n                        //修正整行被rowSpan时导致的行数计算错误\r\n                        if (cell.rowSpan > rowsNum) {\r\n                            cell.rowSpan = rowsNum;\r\n                        }\r\n                        var colIndex = cellIndex,\r\n                            rowSpan = cell.rowSpan || 1,\r\n                            colSpan = cell.colSpan || 1;\r\n                        //当已经被上一行rowSpan或者被前一列colSpan了，则跳到下一个单元格进行\r\n                        while (this.indexTable[rowIndex][colIndex]) colIndex++;\r\n                        for (var j = 0; j < rowSpan; j++) {\r\n                            for (var k = 0; k < colSpan; k++) {\r\n                                this.indexTable[rowIndex + j][colIndex + k] = {\r\n                                    rowIndex: rowIndex,\r\n                                    cellIndex: cellIndex,\r\n                                    colIndex: colIndex,\r\n                                    rowSpan: rowSpan,\r\n                                    colSpan: colSpan\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                //修复残缺td\r\n                for (j = 0; j < rowsNum; j++) {\r\n                    for (k = 0; k < colsNum; k++) {\r\n                        if (this.indexTable[j][k] === undefined) {\r\n                            row = rows[j];\r\n                            cell = row.cells[row.cells.length - 1];\r\n                            cell = cell ? cell.cloneNode(true) : this.table.ownerDocument.createElement(\"td\");\r\n                            this.setCellContent(cell);\r\n                            if (cell.colSpan !== 1) cell.colSpan = 1;\r\n                            if (cell.rowSpan !== 1) cell.rowSpan = 1;\r\n                            row.appendChild(cell);\r\n                            this.indexTable[j][k] = {\r\n                                rowIndex: j,\r\n                                cellIndex: cell.cellIndex,\r\n                                colIndex: k,\r\n                                rowSpan: 1,\r\n                                colSpan: 1\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                //当框选后删除行或者列后撤销，需要重建选区。\r\n                var tds = domUtils.getElementsByTagName(this.table, \"td\"),\r\n                    selectTds = [];\r\n                utils.each(tds, function(td) {\r\n                    if (domUtils.hasClass(td, \"selectTdClass\")) {\r\n                        selectTds.push(td);\r\n                    }\r\n                });\r\n                if (selectTds.length) {\r\n                    var start = selectTds[0],\r\n                        end = selectTds[selectTds.length - 1],\r\n                        startInfo = this.getCellInfo(start),\r\n                        endInfo = this.getCellInfo(end);\r\n                    this.selectedTds = selectTds;\r\n                    this.cellsRange = {\r\n                        beginRowIndex: startInfo.rowIndex,\r\n                        beginColIndex: startInfo.colIndex,\r\n                        endRowIndex: endInfo.rowIndex + endInfo.rowSpan - 1,\r\n                        endColIndex: endInfo.colIndex + endInfo.colSpan - 1\r\n                    };\r\n                }\r\n                //给第一行设置firstRow的样式名称,在排序图标的样式上使用到\r\n                if (!domUtils.hasClass(this.table.rows[0], \"firstRow\")) {\r\n                    domUtils.addClass(this.table.rows[0], \"firstRow\");\r\n                    for (var i = 1; i < this.table.rows.length; i++) {\r\n                        domUtils.removeClasses(this.table.rows[i], \"firstRow\");\r\n                    }\r\n                }\r\n            },\r\n            /**\r\n             * 获取单元格的索引信息\r\n             */\r\n            getCellInfo: function(cell) {\r\n                if (!cell) return;\r\n                var cellIndex = cell.cellIndex,\r\n                    rowIndex = cell.parentNode.rowIndex,\r\n                    rowInfo = this.indexTable[rowIndex],\r\n                    numCols = this.colsNum;\r\n                for (var colIndex = cellIndex; colIndex < numCols; colIndex++) {\r\n                    var cellInfo = rowInfo[colIndex];\r\n                    if (cellInfo.rowIndex === rowIndex && cellInfo.cellIndex === cellIndex) {\r\n                        return cellInfo;\r\n                    }\r\n                }\r\n            },\r\n            /**\r\n             * 根据行列号获取单元格\r\n             */\r\n            getCell: function(rowIndex, cellIndex) {\r\n                return rowIndex < this.rowsNum && this.table.rows[rowIndex].cells[cellIndex] || null;\r\n            },\r\n            /**\r\n             * 删除单元格\r\n             */\r\n            deleteCell: function(cell, rowIndex) {\r\n                rowIndex = typeof rowIndex == 'number' ? rowIndex : cell.parentNode.rowIndex;\r\n                var row = this.table.rows[rowIndex];\r\n                row.deleteCell(cell.cellIndex);\r\n            },\r\n            /**\r\n             * 根据始末两个单元格获取被框选的所有单元格范围\r\n             */\r\n            getCellsRange: function(cellA, cellB) {\r\n                function checkRange(beginRowIndex, beginColIndex, endRowIndex, endColIndex) {\r\n                    var tmpBeginRowIndex = beginRowIndex,\r\n                        tmpBeginColIndex = beginColIndex,\r\n                        tmpEndRowIndex = endRowIndex,\r\n                        tmpEndColIndex = endColIndex,\r\n                        cellInfo, colIndex, rowIndex;\r\n                    // 通过indexTable检查是否存在超出TableRange上边界的情况\r\n                    if (beginRowIndex > 0) {\r\n                        for (colIndex = beginColIndex; colIndex < endColIndex; colIndex++) {\r\n                            cellInfo = me.indexTable[beginRowIndex][colIndex];\r\n                            rowIndex = cellInfo.rowIndex;\r\n                            if (rowIndex < beginRowIndex) {\r\n                                tmpBeginRowIndex = Math.min(rowIndex, tmpBeginRowIndex);\r\n                            }\r\n                        }\r\n                    }\r\n                    // 通过indexTable检查是否存在超出TableRange右边界的情况\r\n                    if (endColIndex < me.colsNum) {\r\n                        for (rowIndex = beginRowIndex; rowIndex < endRowIndex; rowIndex++) {\r\n                            cellInfo = me.indexTable[rowIndex][endColIndex];\r\n                            colIndex = cellInfo.colIndex + cellInfo.colSpan - 1;\r\n                            if (colIndex > endColIndex) {\r\n                                tmpEndColIndex = Math.max(colIndex, tmpEndColIndex);\r\n                            }\r\n                        }\r\n                    }\r\n                    // 检查是否有超出TableRange下边界的情况\r\n                    if (endRowIndex < me.rowsNum) {\r\n                        for (colIndex = beginColIndex; colIndex < endColIndex; colIndex++) {\r\n                            cellInfo = me.indexTable[endRowIndex][colIndex];\r\n                            rowIndex = cellInfo.rowIndex + cellInfo.rowSpan - 1;\r\n                            if (rowIndex > endRowIndex) {\r\n                                tmpEndRowIndex = Math.max(rowIndex, tmpEndRowIndex);\r\n                            }\r\n                        }\r\n                    }\r\n                    // 检查是否有超出TableRange左边界的情况\r\n                    if (beginColIndex > 0) {\r\n                        for (rowIndex = beginRowIndex; rowIndex < endRowIndex; rowIndex++) {\r\n                            cellInfo = me.indexTable[rowIndex][beginColIndex];\r\n                            colIndex = cellInfo.colIndex;\r\n                            if (colIndex < beginColIndex) {\r\n                                tmpBeginColIndex = Math.min(cellInfo.colIndex, tmpBeginColIndex);\r\n                            }\r\n                        }\r\n                    }\r\n                    //递归调用直至所有完成所有框选单元格的扩展\r\n                    if (tmpBeginRowIndex != beginRowIndex || tmpBeginColIndex != beginColIndex || tmpEndRowIndex != endRowIndex || tmpEndColIndex != endColIndex) {\r\n                        return checkRange(tmpBeginRowIndex, tmpBeginColIndex, tmpEndRowIndex, tmpEndColIndex);\r\n                    } else {\r\n                        // 不需要扩展TableRange的情况\r\n                        return {\r\n                            beginRowIndex: beginRowIndex,\r\n                            beginColIndex: beginColIndex,\r\n                            endRowIndex: endRowIndex,\r\n                            endColIndex: endColIndex\r\n                        };\r\n                    }\r\n                }\r\n\r\n                try {\r\n                    var me = this,\r\n                        cellAInfo = me.getCellInfo(cellA);\r\n                    if (cellA === cellB) {\r\n                        return {\r\n                            beginRowIndex: cellAInfo.rowIndex,\r\n                            beginColIndex: cellAInfo.colIndex,\r\n                            endRowIndex: cellAInfo.rowIndex + cellAInfo.rowSpan - 1,\r\n                            endColIndex: cellAInfo.colIndex + cellAInfo.colSpan - 1\r\n                        };\r\n                    }\r\n                    var cellBInfo = me.getCellInfo(cellB);\r\n                    // 计算TableRange的四个边\r\n                    var beginRowIndex = Math.min(cellAInfo.rowIndex, cellBInfo.rowIndex),\r\n                        beginColIndex = Math.min(cellAInfo.colIndex, cellBInfo.colIndex),\r\n                        endRowIndex = Math.max(cellAInfo.rowIndex + cellAInfo.rowSpan - 1, cellBInfo.rowIndex + cellBInfo.rowSpan - 1),\r\n                        endColIndex = Math.max(cellAInfo.colIndex + cellAInfo.colSpan - 1, cellBInfo.colIndex + cellBInfo.colSpan - 1);\r\n\r\n                    return checkRange(beginRowIndex, beginColIndex, endRowIndex, endColIndex);\r\n                } catch (e) {\r\n                    //throw e;\r\n                }\r\n            },\r\n            /**\r\n             * 依据cellsRange获取对应的单元格集合\r\n             */\r\n            getCells: function(range) {\r\n                //每次获取cells之前必须先清除上次的选择，否则会对后续获取操作造成影响\r\n                this.clearSelected();\r\n                var beginRowIndex = range.beginRowIndex,\r\n                    beginColIndex = range.beginColIndex,\r\n                    endRowIndex = range.endRowIndex,\r\n                    endColIndex = range.endColIndex,\r\n                    cellInfo, rowIndex, colIndex, tdHash = {},\r\n                    returnTds = [];\r\n                for (var i = beginRowIndex; i <= endRowIndex; i++) {\r\n                    for (var j = beginColIndex; j <= endColIndex; j++) {\r\n                        cellInfo = this.indexTable[i][j];\r\n                        rowIndex = cellInfo.rowIndex;\r\n                        colIndex = cellInfo.colIndex;\r\n                        // 如果Cells里已经包含了此Cell则跳过\r\n                        var key = rowIndex + '|' + colIndex;\r\n                        if (tdHash[key]) continue;\r\n                        tdHash[key] = 1;\r\n                        if (rowIndex < i || colIndex < j || rowIndex + cellInfo.rowSpan - 1 > endRowIndex || colIndex + cellInfo.colSpan - 1 > endColIndex) {\r\n                            return null;\r\n                        }\r\n                        returnTds.push(this.getCell(rowIndex, cellInfo.cellIndex));\r\n                    }\r\n                }\r\n                return returnTds;\r\n            },\r\n            /**\r\n             * 清理已经选中的单元格\r\n             */\r\n            clearSelected: function() {\r\n                UETable.removeSelectedClass(this.selectedTds);\r\n                this.selectedTds = [];\r\n                this.cellsRange = {};\r\n            },\r\n            /**\r\n             * 根据range设置已经选中的单元格\r\n             */\r\n            setSelected: function(range) {\r\n                var cells = this.getCells(range);\r\n                UETable.addSelectedClass(cells);\r\n                this.selectedTds = cells;\r\n                this.cellsRange = range;\r\n            },\r\n            isFullRow: function() {\r\n                var range = this.cellsRange;\r\n                return (range.endColIndex - range.beginColIndex + 1) == this.colsNum;\r\n            },\r\n            isFullCol: function() {\r\n                var range = this.cellsRange,\r\n                    table = this.table,\r\n                    ths = table.getElementsByTagName(\"th\"),\r\n                    rows = range.endRowIndex - range.beginRowIndex + 1;\r\n                return !ths.length ? rows == this.rowsNum : rows == this.rowsNum || (rows == this.rowsNum - 1);\r\n\r\n            },\r\n            /**\r\n             * 获取视觉上的前置单元格，默认是左边，top传入时\r\n             * @param cell\r\n             * @param top\r\n             */\r\n            getNextCell: function(cell, bottom, ignoreRange) {\r\n                try {\r\n                    var cellInfo = this.getCellInfo(cell),\r\n                        nextRowIndex, nextColIndex;\r\n                    var len = this.selectedTds.length && !ignoreRange,\r\n                        range = this.cellsRange;\r\n                    //末行或者末列没有后置单元格\r\n                    if ((!bottom && (cellInfo.rowIndex == 0)) || (bottom && (!len ? (cellInfo.rowIndex + cellInfo.rowSpan > this.rowsNum - 1) : (range.endRowIndex == this.rowsNum - 1)))) return null;\r\n\r\n                    nextRowIndex = !bottom ? (!len ? cellInfo.rowIndex - 1 : range.beginRowIndex - 1) :\r\n                        (!len ? (cellInfo.rowIndex + cellInfo.rowSpan) : range.endRowIndex + 1);\r\n                    nextColIndex = !len ? cellInfo.colIndex : range.beginColIndex;\r\n                    return this.getCell(this.indexTable[nextRowIndex][nextColIndex].rowIndex, this.indexTable[nextRowIndex][nextColIndex].cellIndex);\r\n                } catch (e) {\r\n                    showError(e);\r\n                }\r\n            },\r\n            getPreviewCell: function(cell, top) {\r\n                try {\r\n                    var cellInfo = this.getCellInfo(cell),\r\n                        previewRowIndex, previewColIndex;\r\n                    var len = this.selectedTds.length,\r\n                        range = this.cellsRange;\r\n                    //首行或者首列没有前置单元格\r\n                    if ((!top && (!len ? !cellInfo.colIndex : !range.beginColIndex)) || (top && (!len ? (cellInfo.rowIndex > (this.colsNum - 1)) : (range.endColIndex == this.colsNum - 1)))) return null;\r\n\r\n                    previewRowIndex = !top ? (!len ? cellInfo.rowIndex : range.beginRowIndex) :\r\n                        (!len ? (cellInfo.rowIndex < 1 ? 0 : (cellInfo.rowIndex - 1)) : range.beginRowIndex);\r\n                    previewColIndex = !top ? (!len ? (cellInfo.colIndex < 1 ? 0 : (cellInfo.colIndex - 1)) : range.beginColIndex - 1) :\r\n                        (!len ? cellInfo.colIndex : range.endColIndex + 1);\r\n                    return this.getCell(this.indexTable[previewRowIndex][previewColIndex].rowIndex, this.indexTable[previewRowIndex][previewColIndex].cellIndex);\r\n                } catch (e) {\r\n                    showError(e);\r\n                }\r\n            },\r\n            /**\r\n             * 移动单元格中的内容\r\n             */\r\n            moveContent: function(cellTo, cellFrom) {\r\n                if (UETable.isEmptyBlock(cellFrom)) return;\r\n                if (UETable.isEmptyBlock(cellTo)) {\r\n                    cellTo.innerHTML = cellFrom.innerHTML;\r\n                    return;\r\n                }\r\n                var child = cellTo.lastChild;\r\n                if (child.nodeType == 3 || !dtd.$block[child.tagName]) {\r\n                    cellTo.appendChild(cellTo.ownerDocument.createElement('br'))\r\n                }\r\n                while (child = cellFrom.firstChild) {\r\n                    cellTo.appendChild(child);\r\n                }\r\n            },\r\n            /**\r\n             * 向右合并单元格\r\n             */\r\n            mergeRight: function(cell) {\r\n                var cellInfo = this.getCellInfo(cell),\r\n                    rightColIndex = cellInfo.colIndex + cellInfo.colSpan,\r\n                    rightCellInfo = this.indexTable[cellInfo.rowIndex][rightColIndex],\r\n                    rightCell = this.getCell(rightCellInfo.rowIndex, rightCellInfo.cellIndex);\r\n                //合并\r\n                cell.colSpan = cellInfo.colSpan + rightCellInfo.colSpan;\r\n                //被合并的单元格不应存在宽度属性\r\n                cell.removeAttribute(\"width\");\r\n                //移动内容\r\n                this.moveContent(cell, rightCell);\r\n                //删掉被合并的Cell\r\n                this.deleteCell(rightCell, rightCellInfo.rowIndex);\r\n                this.update();\r\n            },\r\n            /**\r\n             * 向下合并单元格\r\n             */\r\n            mergeDown: function(cell) {\r\n                var cellInfo = this.getCellInfo(cell),\r\n                    downRowIndex = cellInfo.rowIndex + cellInfo.rowSpan,\r\n                    downCellInfo = this.indexTable[downRowIndex][cellInfo.colIndex],\r\n                    downCell = this.getCell(downCellInfo.rowIndex, downCellInfo.cellIndex);\r\n                cell.rowSpan = cellInfo.rowSpan + downCellInfo.rowSpan;\r\n                cell.removeAttribute(\"height\");\r\n                this.moveContent(cell, downCell);\r\n                this.deleteCell(downCell, downCellInfo.rowIndex);\r\n                this.update();\r\n            },\r\n            /**\r\n             * 合并整个range中的内容\r\n             */\r\n            mergeRange: function() {\r\n                //由于合并操作可以在任意时刻进行，所以无法通过鼠标位置等信息实时生成range，只能通过缓存实例中的cellsRange对象来访问\r\n                var range = this.cellsRange,\r\n                    leftTopCell = this.getCell(range.beginRowIndex, this.indexTable[range.beginRowIndex][range.beginColIndex].cellIndex);\r\n\r\n                if (leftTopCell.tagName == \"TH\" && range.endRowIndex !== range.beginRowIndex) {\r\n                    var index = this.indexTable,\r\n                        info = this.getCellInfo(leftTopCell);\r\n                    leftTopCell = this.getCell(1, index[1][info.colIndex].cellIndex);\r\n                    range = this.getCellsRange(leftTopCell, this.getCell(index[this.rowsNum - 1][info.colIndex].rowIndex, index[this.rowsNum - 1][info.colIndex].cellIndex));\r\n                }\r\n\r\n                // 删除剩余的Cells\r\n                var cells = this.getCells(range);\r\n                for (var i = 0, ci; ci = cells[i++];) {\r\n                    if (ci !== leftTopCell) {\r\n                        this.moveContent(leftTopCell, ci);\r\n                        this.deleteCell(ci);\r\n                    }\r\n                }\r\n                // 修改左上角Cell的rowSpan和colSpan，并调整宽度属性设置\r\n                leftTopCell.rowSpan = range.endRowIndex - range.beginRowIndex + 1;\r\n                leftTopCell.rowSpan > 1 && leftTopCell.removeAttribute(\"height\");\r\n                leftTopCell.colSpan = range.endColIndex - range.beginColIndex + 1;\r\n                leftTopCell.colSpan > 1 && leftTopCell.removeAttribute(\"width\");\r\n                if (leftTopCell.rowSpan == this.rowsNum && leftTopCell.colSpan != 1) {\r\n                    leftTopCell.colSpan = 1;\r\n                }\r\n\r\n                if (leftTopCell.colSpan == this.colsNum && leftTopCell.rowSpan != 1) {\r\n                    var rowIndex = leftTopCell.parentNode.rowIndex;\r\n                    //解决IE下的表格操作问题\r\n                    if (this.table.deleteRow) {\r\n                        for (var i = rowIndex + 1, curIndex = rowIndex + 1, len = leftTopCell.rowSpan; i < len; i++) {\r\n                            this.table.deleteRow(curIndex);\r\n                        }\r\n                    } else {\r\n                        for (var i = 0, len = leftTopCell.rowSpan - 1; i < len; i++) {\r\n                            var row = this.table.rows[rowIndex + 1];\r\n                            row.parentNode.removeChild(row);\r\n                        }\r\n                    }\r\n                    leftTopCell.rowSpan = 1;\r\n                }\r\n                this.update();\r\n            },\r\n            /**\r\n             * 插入一行单元格\r\n             */\r\n            insertRow: function(rowIndex, sourceCell) {\r\n                var numCols = this.colsNum,\r\n                    table = this.table,\r\n                    row = table.insertRow(rowIndex),\r\n                    cell,\r\n                    isInsertTitle = typeof sourceCell == 'string' && sourceCell.toUpperCase() == 'TH';\r\n\r\n                function replaceTdToTh(colIndex, cell, tableRow) {\r\n                    if (colIndex == 0) {\r\n                        var tr = tableRow.nextSibling || tableRow.previousSibling,\r\n                            th = tr.cells[colIndex];\r\n                        if (th.tagName == 'TH') {\r\n                            th = cell.ownerDocument.createElement(\"th\");\r\n                            th.appendChild(cell.firstChild);\r\n                            tableRow.insertBefore(th, cell);\r\n                            domUtils.remove(cell)\r\n                        }\r\n                    } else {\r\n                        if (cell.tagName == 'TH') {\r\n                            var td = cell.ownerDocument.createElement(\"td\");\r\n                            td.appendChild(cell.firstChild);\r\n                            tableRow.insertBefore(td, cell);\r\n                            domUtils.remove(cell)\r\n                        }\r\n                    }\r\n                }\r\n\r\n                //首行直接插入,无需考虑部分单元格被rowspan的情况\r\n                if (rowIndex == 0 || rowIndex == this.rowsNum) {\r\n                    for (var colIndex = 0; colIndex < numCols; colIndex++) {\r\n                        cell = this.cloneCell(sourceCell, true);\r\n                        this.setCellContent(cell);\r\n                        cell.getAttribute('vAlign') && cell.setAttribute('vAlign', cell.getAttribute('vAlign'));\r\n                        row.appendChild(cell);\r\n                        if (!isInsertTitle) replaceTdToTh(colIndex, cell, row);\r\n                    }\r\n                } else {\r\n                    var infoRow = this.indexTable[rowIndex],\r\n                        cellIndex = 0;\r\n                    for (colIndex = 0; colIndex < numCols; colIndex++) {\r\n                        var cellInfo = infoRow[colIndex];\r\n                        //如果存在某个单元格的rowspan穿过待插入行的位置，则修改该单元格的rowspan即可，无需插入单元格\r\n                        if (cellInfo.rowIndex < rowIndex) {\r\n                            cell = this.getCell(cellInfo.rowIndex, cellInfo.cellIndex);\r\n                            cell.rowSpan = cellInfo.rowSpan + 1;\r\n                        } else {\r\n                            cell = this.cloneCell(sourceCell, true);\r\n                            this.setCellContent(cell);\r\n                            row.appendChild(cell);\r\n                        }\r\n                        if (!isInsertTitle) replaceTdToTh(colIndex, cell, row);\r\n                    }\r\n                }\r\n                //框选时插入不触发contentchange，需要手动更新索引。\r\n                this.update();\r\n                return row;\r\n            },\r\n            /**\r\n             * 删除一行单元格\r\n             * @param rowIndex\r\n             */\r\n            deleteRow: function(rowIndex) {\r\n                var row = this.table.rows[rowIndex],\r\n                    infoRow = this.indexTable[rowIndex],\r\n                    colsNum = this.colsNum,\r\n                    count = 0; //处理计数\r\n                for (var colIndex = 0; colIndex < colsNum;) {\r\n                    var cellInfo = infoRow[colIndex],\r\n                        cell = this.getCell(cellInfo.rowIndex, cellInfo.cellIndex);\r\n                    if (cell.rowSpan > 1) {\r\n                        if (cellInfo.rowIndex == rowIndex) {\r\n                            var clone = cell.cloneNode(true);\r\n                            clone.rowSpan = cell.rowSpan - 1;\r\n                            clone.innerHTML = \"\";\r\n                            cell.rowSpan = 1;\r\n                            var nextRowIndex = rowIndex + 1,\r\n                                nextRow = this.table.rows[nextRowIndex],\r\n                                insertCellIndex,\r\n                                preMerged = this.getPreviewMergedCellsNum(nextRowIndex, colIndex) - count;\r\n                            if (preMerged < colIndex) {\r\n                                insertCellIndex = colIndex - preMerged - 1;\r\n                                //nextRow.insertCell(insertCellIndex);\r\n                                domUtils.insertAfter(nextRow.cells[insertCellIndex], clone);\r\n                            } else {\r\n                                if (nextRow.cells.length) nextRow.insertBefore(clone, nextRow.cells[0])\r\n                            }\r\n                            count += 1;\r\n                            //cell.parentNode.removeChild(cell);\r\n                        }\r\n                    }\r\n                    colIndex += cell.colSpan || 1;\r\n                }\r\n                var deleteTds = [],\r\n                    cacheMap = {};\r\n                for (colIndex = 0; colIndex < colsNum; colIndex++) {\r\n                    var tmpRowIndex = infoRow[colIndex].rowIndex,\r\n                        tmpCellIndex = infoRow[colIndex].cellIndex,\r\n                        key = tmpRowIndex + \"_\" + tmpCellIndex;\r\n                    if (cacheMap[key]) continue;\r\n                    cacheMap[key] = 1;\r\n                    cell = this.getCell(tmpRowIndex, tmpCellIndex);\r\n                    deleteTds.push(cell);\r\n                }\r\n                var mergeTds = [];\r\n                utils.each(deleteTds, function(td) {\r\n                    if (td.rowSpan == 1) {\r\n                        td.parentNode.removeChild(td);\r\n                    } else {\r\n                        mergeTds.push(td);\r\n                    }\r\n                });\r\n                utils.each(mergeTds, function(td) {\r\n                    td.rowSpan--;\r\n                });\r\n                row.parentNode.removeChild(row);\r\n                //浏览器方法本身存在bug,采用自定义方法删除\r\n                //this.table.deleteRow(rowIndex);\r\n                this.update();\r\n            },\r\n            insertCol: function(colIndex, sourceCell, defaultValue) {\r\n                var rowsNum = this.rowsNum,\r\n                    rowIndex = 0,\r\n                    tableRow, cell,\r\n                    backWidth = parseInt((this.table.offsetWidth - (this.colsNum + 1) * 20 - (this.colsNum + 1)) / (this.colsNum + 1), 10),\r\n                    isInsertTitleCol = typeof sourceCell == 'string' && sourceCell.toUpperCase() == 'TH';\r\n\r\n                function replaceTdToTh(rowIndex, cell, tableRow) {\r\n                    if (rowIndex == 0) {\r\n                        var th = cell.nextSibling || cell.previousSibling;\r\n                        if (th.tagName == 'TH') {\r\n                            th = cell.ownerDocument.createElement(\"th\");\r\n                            th.appendChild(cell.firstChild);\r\n                            tableRow.insertBefore(th, cell);\r\n                            domUtils.remove(cell)\r\n                        }\r\n                    } else {\r\n                        if (cell.tagName == 'TH') {\r\n                            var td = cell.ownerDocument.createElement(\"td\");\r\n                            td.appendChild(cell.firstChild);\r\n                            tableRow.insertBefore(td, cell);\r\n                            domUtils.remove(cell)\r\n                        }\r\n                    }\r\n                }\r\n\r\n                var preCell;\r\n                if (colIndex == 0 || colIndex == this.colsNum) {\r\n                    for (; rowIndex < rowsNum; rowIndex++) {\r\n                        tableRow = this.table.rows[rowIndex];\r\n                        preCell = tableRow.cells[colIndex == 0 ? colIndex : tableRow.cells.length];\r\n                        cell = this.cloneCell(sourceCell, true); //tableRow.insertCell(colIndex == 0 ? colIndex : tableRow.cells.length);\r\n                        this.setCellContent(cell);\r\n                        cell.setAttribute('vAlign', cell.getAttribute('vAlign'));\r\n                        preCell && cell.setAttribute('width', preCell.getAttribute('width'));\r\n                        if (!colIndex) {\r\n                            tableRow.insertBefore(cell, tableRow.cells[0]);\r\n                        } else {\r\n                            domUtils.insertAfter(tableRow.cells[tableRow.cells.length - 1], cell);\r\n                        }\r\n                        if (!isInsertTitleCol) replaceTdToTh(rowIndex, cell, tableRow)\r\n                    }\r\n                } else {\r\n                    for (; rowIndex < rowsNum; rowIndex++) {\r\n                        var cellInfo = this.indexTable[rowIndex][colIndex];\r\n                        if (cellInfo.colIndex < colIndex) {\r\n                            cell = this.getCell(cellInfo.rowIndex, cellInfo.cellIndex);\r\n                            cell.colSpan = cellInfo.colSpan + 1;\r\n                        } else {\r\n                            tableRow = this.table.rows[rowIndex];\r\n                            preCell = tableRow.cells[cellInfo.cellIndex];\r\n\r\n                            cell = this.cloneCell(sourceCell, true); //tableRow.insertCell(cellInfo.cellIndex);\r\n                            this.setCellContent(cell);\r\n                            cell.setAttribute('vAlign', cell.getAttribute('vAlign'));\r\n                            preCell && cell.setAttribute('width', preCell.getAttribute('width'));\r\n                            //防止IE下报错\r\n                            preCell ? tableRow.insertBefore(cell, preCell) : tableRow.appendChild(cell);\r\n                        }\r\n                        if (!isInsertTitleCol) replaceTdToTh(rowIndex, cell, tableRow);\r\n                    }\r\n                }\r\n                //框选时插入不触发contentchange，需要手动更新索引\r\n                this.update();\r\n                this.updateWidth(backWidth, defaultValue || { tdPadding: 10, tdBorder: 1 });\r\n            },\r\n            updateWidth: function(width, defaultValue) {\r\n                var table = this.table,\r\n                    tmpWidth = UETable.getWidth(table) - defaultValue.tdPadding * 2 - defaultValue.tdBorder + width;\r\n                if (tmpWidth < table.ownerDocument.body.offsetWidth) {\r\n                    table.setAttribute(\"width\", tmpWidth);\r\n                    return;\r\n                }\r\n                var tds = domUtils.getElementsByTagName(this.table, \"td th\");\r\n                utils.each(tds, function(td) {\r\n                    td.setAttribute(\"width\", width);\r\n                })\r\n            },\r\n            deleteCol: function(colIndex) {\r\n                var indexTable = this.indexTable,\r\n                    tableRows = this.table.rows,\r\n                    backTableWidth = this.table.getAttribute(\"width\"),\r\n                    backTdWidth = 0,\r\n                    rowsNum = this.rowsNum,\r\n                    cacheMap = {};\r\n                for (var rowIndex = 0; rowIndex < rowsNum;) {\r\n                    var infoRow = indexTable[rowIndex],\r\n                        cellInfo = infoRow[colIndex],\r\n                        key = cellInfo.rowIndex + '_' + cellInfo.colIndex;\r\n                    // 跳过已经处理过的Cell\r\n                    if (cacheMap[key]) continue;\r\n                    cacheMap[key] = 1;\r\n                    var cell = this.getCell(cellInfo.rowIndex, cellInfo.cellIndex);\r\n                    if (!backTdWidth) backTdWidth = cell && parseInt(cell.offsetWidth / cell.colSpan, 10).toFixed(0);\r\n                    // 如果Cell的colSpan大于1, 就修改colSpan, 否则就删掉这个Cell\r\n                    if (cell.colSpan > 1) {\r\n                        cell.colSpan--;\r\n                    } else {\r\n                        tableRows[rowIndex].deleteCell(cellInfo.cellIndex);\r\n                    }\r\n                    rowIndex += cellInfo.rowSpan || 1;\r\n                }\r\n                this.table.setAttribute(\"width\", backTableWidth - backTdWidth);\r\n                this.update();\r\n            },\r\n            splitToCells: function(cell) {\r\n                var me = this,\r\n                    cells = this.splitToRows(cell);\r\n                utils.each(cells, function(cell) {\r\n                    me.splitToCols(cell);\r\n                })\r\n            },\r\n            splitToRows: function(cell) {\r\n                var cellInfo = this.getCellInfo(cell),\r\n                    rowIndex = cellInfo.rowIndex,\r\n                    colIndex = cellInfo.colIndex,\r\n                    results = [];\r\n                // 修改Cell的rowSpan\r\n                cell.rowSpan = 1;\r\n                results.push(cell);\r\n                // 补齐单元格\r\n                for (var i = rowIndex, endRow = rowIndex + cellInfo.rowSpan; i < endRow; i++) {\r\n                    if (i == rowIndex) continue;\r\n                    var tableRow = this.table.rows[i],\r\n                        tmpCell = tableRow.insertCell(colIndex - this.getPreviewMergedCellsNum(i, colIndex));\r\n                    tmpCell.colSpan = cellInfo.colSpan;\r\n                    this.setCellContent(tmpCell);\r\n                    tmpCell.setAttribute('vAlign', cell.getAttribute('vAlign'));\r\n                    tmpCell.setAttribute('align', cell.getAttribute('align'));\r\n                    if (cell.style.cssText) {\r\n                        tmpCell.style.cssText = cell.style.cssText;\r\n                    }\r\n                    results.push(tmpCell);\r\n                }\r\n                this.update();\r\n                return results;\r\n            },\r\n            getPreviewMergedCellsNum: function(rowIndex, colIndex) {\r\n                var indexRow = this.indexTable[rowIndex],\r\n                    num = 0;\r\n                for (var i = 0; i < colIndex;) {\r\n                    var colSpan = indexRow[i].colSpan,\r\n                        tmpRowIndex = indexRow[i].rowIndex;\r\n                    num += (colSpan - (tmpRowIndex == rowIndex ? 1 : 0));\r\n                    i += colSpan;\r\n                }\r\n                return num;\r\n            },\r\n            splitToCols: function(cell) {\r\n                var backWidth = (cell.offsetWidth / cell.colSpan - 22).toFixed(0),\r\n\r\n                    cellInfo = this.getCellInfo(cell),\r\n                    rowIndex = cellInfo.rowIndex,\r\n                    colIndex = cellInfo.colIndex,\r\n                    results = [];\r\n                // 修改Cell的rowSpan\r\n                cell.colSpan = 1;\r\n                cell.setAttribute(\"width\", backWidth);\r\n                results.push(cell);\r\n                // 补齐单元格\r\n                for (var j = colIndex, endCol = colIndex + cellInfo.colSpan; j < endCol; j++) {\r\n                    if (j == colIndex) continue;\r\n                    var tableRow = this.table.rows[rowIndex],\r\n                        tmpCell = tableRow.insertCell(this.indexTable[rowIndex][j].cellIndex + 1);\r\n                    tmpCell.rowSpan = cellInfo.rowSpan;\r\n                    this.setCellContent(tmpCell);\r\n                    tmpCell.setAttribute('vAlign', cell.getAttribute('vAlign'));\r\n                    tmpCell.setAttribute('align', cell.getAttribute('align'));\r\n                    tmpCell.setAttribute('width', backWidth);\r\n                    if (cell.style.cssText) {\r\n                        tmpCell.style.cssText = cell.style.cssText;\r\n                    }\r\n                    //处理th的情况\r\n                    if (cell.tagName == 'TH') {\r\n                        var th = cell.ownerDocument.createElement('th');\r\n                        th.appendChild(tmpCell.firstChild);\r\n                        th.setAttribute('vAlign', cell.getAttribute('vAlign'));\r\n                        th.rowSpan = tmpCell.rowSpan;\r\n                        tableRow.insertBefore(th, tmpCell);\r\n                        domUtils.remove(tmpCell);\r\n                    }\r\n                    results.push(tmpCell);\r\n                }\r\n                this.update();\r\n                return results;\r\n            },\r\n            isLastCell: function(cell, rowsNum, colsNum) {\r\n                rowsNum = rowsNum || this.rowsNum;\r\n                colsNum = colsNum || this.colsNum;\r\n                var cellInfo = this.getCellInfo(cell);\r\n                return ((cellInfo.rowIndex + cellInfo.rowSpan) == rowsNum) &&\r\n                    ((cellInfo.colIndex + cellInfo.colSpan) == colsNum);\r\n            },\r\n            getLastCell: function(cells) {\r\n                cells = cells || this.table.getElementsByTagName(\"td\");\r\n                var firstInfo = this.getCellInfo(cells[0]);\r\n                var me = this,\r\n                    last = cells[0],\r\n                    tr = last.parentNode,\r\n                    cellsNum = 0,\r\n                    cols = 0,\r\n                    rows;\r\n                utils.each(cells, function(cell) {\r\n                    if (cell.parentNode == tr) cols += cell.colSpan || 1;\r\n                    cellsNum += cell.rowSpan * cell.colSpan || 1;\r\n                });\r\n                rows = cellsNum / cols;\r\n                utils.each(cells, function(cell) {\r\n                    if (me.isLastCell(cell, rows, cols)) {\r\n                        last = cell;\r\n                        return false;\r\n                    }\r\n                });\r\n                return last;\r\n\r\n            },\r\n            selectRow: function(rowIndex) {\r\n                var indexRow = this.indexTable[rowIndex],\r\n                    start = this.getCell(indexRow[0].rowIndex, indexRow[0].cellIndex),\r\n                    end = this.getCell(indexRow[this.colsNum - 1].rowIndex, indexRow[this.colsNum - 1].cellIndex),\r\n                    range = this.getCellsRange(start, end);\r\n                this.setSelected(range);\r\n            },\r\n            selectTable: function() {\r\n                var tds = this.table.getElementsByTagName(\"td\"),\r\n                    range = this.getCellsRange(tds[0], tds[tds.length - 1]);\r\n                this.setSelected(range);\r\n            },\r\n            setBackground: function(cells, value) {\r\n                if (typeof value === \"string\") {\r\n                    utils.each(cells, function(cell) {\r\n                        cell.style.backgroundColor = value;\r\n                    })\r\n                } else if (typeof value === \"object\") {\r\n                    value = utils.extend({\r\n                        repeat: true,\r\n                        colorList: [\"#ddd\", \"#fff\"]\r\n                    }, value);\r\n                    var rowIndex = this.getCellInfo(cells[0]).rowIndex,\r\n                        count = 0,\r\n                        colors = value.colorList,\r\n                        getColor = function(list, index, repeat) {\r\n                            return list[index] ? list[index] : repeat ? list[index % list.length] : \"\";\r\n                        };\r\n                    for (var i = 0, cell; cell = cells[i++];) {\r\n                        var cellInfo = this.getCellInfo(cell);\r\n                        cell.style.backgroundColor = getColor(colors, ((rowIndex + count) == cellInfo.rowIndex) ? count : ++count, value.repeat);\r\n                    }\r\n                }\r\n            },\r\n            removeBackground: function(cells) {\r\n                utils.each(cells, function(cell) {\r\n                    cell.style.backgroundColor = \"\";\r\n                })\r\n            }\r\n\r\n\r\n        };\r\n\r\n        function showError(e) {}\r\n    })();\r\n\r\n    // plugins/table.cmds.js\r\n    /**\r\n     * Created with JetBrains PhpStorm.\r\n     * User: taoqili\r\n     * Date: 13-2-20\r\n     * Time: 下午6:25\r\n     * To change this template use File | Settings | File Templates.\r\n     */\r\n    ;\r\n    (function() {\r\n        var UT = UE.UETable,\r\n            getTableItemsByRange = function(editor) {\r\n                return UT.getTableItemsByRange(editor);\r\n            },\r\n            getUETableBySelected = function(editor) {\r\n                return UT.getUETableBySelected(editor)\r\n            },\r\n            getDefaultValue = function(editor, table) {\r\n                return UT.getDefaultValue(editor, table);\r\n            },\r\n            getUETable = function(tdOrTable) {\r\n                return UT.getUETable(tdOrTable);\r\n            };\r\n\r\n\r\n        UE.commands['inserttable'] = {\r\n            queryCommandState: function() {\r\n                return getTableItemsByRange(this).table ? -1 : 0;\r\n            },\r\n            execCommand: function(cmd, opt) {\r\n                function createTable(opt, tdWidth) {\r\n                    var html = [],\r\n                        rowsNum = opt.numRows,\r\n                        colsNum = opt.numCols;\r\n                    for (var r = 0; r < rowsNum; r++) {\r\n                        html.push('<tr' + (r == 0 ? ' class=\"firstRow\"' : '') + '>');\r\n                        for (var c = 0; c < colsNum; c++) {\r\n                            html.push('<td width=\"' + tdWidth + '\"  vAlign=\"' + opt.tdvalign + '\" >' + (browser.ie && browser.version < 11 ? domUtils.fillChar : '<br/>') + '</td>')\r\n                        }\r\n                        html.push('</tr>')\r\n                    }\r\n                    //禁止指定table-width\r\n                    return '<table><tbody>' + html.join('') + '</tbody></table>'\r\n                }\r\n\r\n                if (!opt) {\r\n                    opt = utils.extend({}, {\r\n                        numCols: this.options.defaultCols,\r\n                        numRows: this.options.defaultRows,\r\n                        tdvalign: this.options.tdvalign\r\n                    })\r\n                }\r\n                var me = this;\r\n                var range = this.selection.getRange(),\r\n                    start = range.startContainer,\r\n                    firstParentBlock = domUtils.findParent(start, function(node) {\r\n                        return domUtils.isBlockElm(node);\r\n                    }, true) || me.body;\r\n\r\n                var defaultValue = getDefaultValue(me),\r\n                    tableWidth = firstParentBlock.offsetWidth,\r\n                    tdWidth = Math.floor(tableWidth / opt.numCols - defaultValue.tdPadding * 2 - defaultValue.tdBorder);\r\n\r\n                //todo其他属性\r\n                !opt.tdvalign && (opt.tdvalign = me.options.tdvalign);\r\n                me.execCommand(\"inserthtml\", createTable(opt, tdWidth));\r\n            }\r\n        };\r\n\r\n        UE.commands['insertparagraphbeforetable'] = {\r\n            queryCommandState: function() {\r\n                return getTableItemsByRange(this).cell ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    var p = this.document.createElement(\"p\");\r\n                    p.innerHTML = browser.ie ? '&nbsp;' : '<br />';\r\n                    table.parentNode.insertBefore(p, table);\r\n                    this.selection.getRange().setStart(p, 0).setCursor();\r\n                }\r\n            }\r\n        };\r\n\r\n        UE.commands['deletetable'] = {\r\n            queryCommandState: function() {\r\n                var rng = this.selection.getRange();\r\n                return domUtils.findParentByTagName(rng.startContainer, 'table', true) ? 0 : -1;\r\n            },\r\n            execCommand: function(cmd, table) {\r\n                var rng = this.selection.getRange();\r\n                table = table || domUtils.findParentByTagName(rng.startContainer, 'table', true);\r\n                if (table) {\r\n                    var next = table.nextSibling;\r\n                    if (!next) {\r\n                        next = domUtils.createElement(this.document, 'p', {\r\n                            'innerHTML': browser.ie ? domUtils.fillChar : '<br/>'\r\n                        });\r\n                        table.parentNode.insertBefore(next, table);\r\n                    }\r\n                    domUtils.remove(table);\r\n                    rng = this.selection.getRange();\r\n                    if (next.nodeType == 3) {\r\n                        rng.setStartBefore(next)\r\n                    } else {\r\n                        rng.setStart(next, 0)\r\n                    }\r\n                    rng.setCursor(false, true)\r\n                    this.fireEvent(\"tablehasdeleted\")\r\n\r\n                }\r\n\r\n            }\r\n        };\r\n        UE.commands['cellalign'] = {\r\n            queryCommandState: function() {\r\n                return getSelectedArr(this).length ? 0 : -1\r\n            },\r\n            execCommand: function(cmd, align) {\r\n                var selectedTds = getSelectedArr(this);\r\n                if (selectedTds.length) {\r\n                    for (var i = 0, ci; ci = selectedTds[i++];) {\r\n                        ci.setAttribute('align', align);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        UE.commands['cellvalign'] = {\r\n            queryCommandState: function() {\r\n                return getSelectedArr(this).length ? 0 : -1;\r\n            },\r\n            execCommand: function(cmd, valign) {\r\n                var selectedTds = getSelectedArr(this);\r\n                if (selectedTds.length) {\r\n                    for (var i = 0, ci; ci = selectedTds[i++];) {\r\n                        ci.setAttribute('vAlign', valign);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        UE.commands['insertcaption'] = {\r\n            queryCommandState: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    return table.getElementsByTagName('caption').length == 0 ? 1 : -1;\r\n                }\r\n                return -1;\r\n            },\r\n            execCommand: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    var caption = this.document.createElement('caption');\r\n                    caption.innerHTML = browser.ie ? domUtils.fillChar : '<br/>';\r\n                    table.insertBefore(caption, table.firstChild);\r\n                    var range = this.selection.getRange();\r\n                    range.setStart(caption, 0).setCursor();\r\n                }\r\n\r\n            }\r\n        };\r\n        UE.commands['deletecaption'] = {\r\n            queryCommandState: function() {\r\n                var rng = this.selection.getRange(),\r\n                    table = domUtils.findParentByTagName(rng.startContainer, 'table');\r\n                if (table) {\r\n                    return table.getElementsByTagName('caption').length == 0 ? -1 : 1;\r\n                }\r\n                return -1;\r\n            },\r\n            execCommand: function() {\r\n                var rng = this.selection.getRange(),\r\n                    table = domUtils.findParentByTagName(rng.startContainer, 'table');\r\n                if (table) {\r\n                    domUtils.remove(table.getElementsByTagName('caption')[0]);\r\n                    var range = this.selection.getRange();\r\n                    range.setStart(table.rows[0].cells[0], 0).setCursor();\r\n                }\r\n\r\n            }\r\n        };\r\n        UE.commands['inserttitle'] = {\r\n            queryCommandState: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    var firstRow = table.rows[0];\r\n                    return firstRow.cells[firstRow.cells.length - 1].tagName.toLowerCase() != 'th' ? 0 : -1\r\n                }\r\n                return -1;\r\n            },\r\n            execCommand: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    getUETable(table).insertRow(0, 'th');\r\n                }\r\n                var th = table.getElementsByTagName('th')[0];\r\n                this.selection.getRange().setStart(th, 0).setCursor(false, true);\r\n            }\r\n        };\r\n        UE.commands['deletetitle'] = {\r\n            queryCommandState: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    var firstRow = table.rows[0];\r\n                    return firstRow.cells[firstRow.cells.length - 1].tagName.toLowerCase() == 'th' ? 0 : -1\r\n                }\r\n                return -1;\r\n            },\r\n            execCommand: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    domUtils.remove(table.rows[0])\r\n                }\r\n                var td = table.getElementsByTagName('td')[0];\r\n                this.selection.getRange().setStart(td, 0).setCursor(false, true);\r\n            }\r\n        };\r\n        UE.commands['inserttitlecol'] = {\r\n            queryCommandState: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    var lastRow = table.rows[table.rows.length - 1];\r\n                    return lastRow.getElementsByTagName('th').length ? -1 : 0;\r\n                }\r\n                return -1;\r\n            },\r\n            execCommand: function(cmd) {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    getUETable(table).insertCol(0, 'th');\r\n                }\r\n                resetTdWidth(table, this);\r\n                var th = table.getElementsByTagName('th')[0];\r\n                this.selection.getRange().setStart(th, 0).setCursor(false, true);\r\n            }\r\n        };\r\n        UE.commands['deletetitlecol'] = {\r\n            queryCommandState: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    var lastRow = table.rows[table.rows.length - 1];\r\n                    return lastRow.getElementsByTagName('th').length ? 0 : -1;\r\n                }\r\n                return -1;\r\n            },\r\n            execCommand: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table) {\r\n                    for (var i = 0; i < table.rows.length; i++) {\r\n                        domUtils.remove(table.rows[i].children[0])\r\n                    }\r\n                }\r\n                resetTdWidth(table, this);\r\n                var td = table.getElementsByTagName('td')[0];\r\n                this.selection.getRange().setStart(td, 0).setCursor(false, true);\r\n            }\r\n        };\r\n\r\n        UE.commands[\"mergeright\"] = {\r\n            queryCommandState: function(cmd) {\r\n                var tableItems = getTableItemsByRange(this),\r\n                    table = tableItems.table,\r\n                    cell = tableItems.cell;\r\n\r\n                if (!table || !cell) return -1;\r\n                var ut = getUETable(table);\r\n                if (ut.selectedTds.length) return -1;\r\n\r\n                var cellInfo = ut.getCellInfo(cell),\r\n                    rightColIndex = cellInfo.colIndex + cellInfo.colSpan;\r\n                if (rightColIndex >= ut.colsNum) return -1; // 如果处于最右边则不能向右合并\r\n\r\n                var rightCellInfo = ut.indexTable[cellInfo.rowIndex][rightColIndex],\r\n                    rightCell = table.rows[rightCellInfo.rowIndex].cells[rightCellInfo.cellIndex];\r\n                if (!rightCell || cell.tagName != rightCell.tagName) return -1; // TH和TD不能相互合并\r\n\r\n                // 当且仅当两个Cell的开始列号和结束列号一致时能进行合并\r\n                return (rightCellInfo.rowIndex == cellInfo.rowIndex && rightCellInfo.rowSpan == cellInfo.rowSpan) ? 0 : -1;\r\n            },\r\n            execCommand: function(cmd) {\r\n                var rng = this.selection.getRange(),\r\n                    bk = rng.createBookmark(true);\r\n                var cell = getTableItemsByRange(this).cell,\r\n                    ut = getUETable(cell);\r\n                ut.mergeRight(cell);\r\n                rng.moveToBookmark(bk).select();\r\n            }\r\n        };\r\n        UE.commands[\"mergedown\"] = {\r\n            queryCommandState: function(cmd) {\r\n                var tableItems = getTableItemsByRange(this),\r\n                    table = tableItems.table,\r\n                    cell = tableItems.cell;\r\n\r\n                if (!table || !cell) return -1;\r\n                var ut = getUETable(table);\r\n                if (ut.selectedTds.length) return -1;\r\n\r\n                var cellInfo = ut.getCellInfo(cell),\r\n                    downRowIndex = cellInfo.rowIndex + cellInfo.rowSpan;\r\n                if (downRowIndex >= ut.rowsNum) return -1; // 如果处于最下边则不能向下合并\r\n\r\n                var downCellInfo = ut.indexTable[downRowIndex][cellInfo.colIndex],\r\n                    downCell = table.rows[downCellInfo.rowIndex].cells[downCellInfo.cellIndex];\r\n                if (!downCell || cell.tagName != downCell.tagName) return -1; // TH和TD不能相互合并\r\n\r\n                // 当且仅当两个Cell的开始列号和结束列号一致时能进行合并\r\n                return (downCellInfo.colIndex == cellInfo.colIndex && downCellInfo.colSpan == cellInfo.colSpan) ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var rng = this.selection.getRange(),\r\n                    bk = rng.createBookmark(true);\r\n                var cell = getTableItemsByRange(this).cell,\r\n                    ut = getUETable(cell);\r\n                ut.mergeDown(cell);\r\n                rng.moveToBookmark(bk).select();\r\n            }\r\n        };\r\n        UE.commands[\"mergecells\"] = {\r\n            queryCommandState: function() {\r\n                return getUETableBySelected(this) ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var ut = getUETableBySelected(this);\r\n                if (ut && ut.selectedTds.length) {\r\n                    var cell = ut.selectedTds[0];\r\n                    ut.mergeRange();\r\n                    var rng = this.selection.getRange();\r\n                    if (domUtils.isEmptyBlock(cell)) {\r\n                        rng.setStart(cell, 0).collapse(true)\r\n                    } else {\r\n                        rng.selectNodeContents(cell)\r\n                    }\r\n                    rng.select();\r\n                }\r\n\r\n\r\n            }\r\n        };\r\n        UE.commands[\"insertrow\"] = {\r\n            queryCommandState: function() {\r\n                var tableItems = getTableItemsByRange(this),\r\n                    cell = tableItems.cell;\r\n                return cell && (cell.tagName == \"TD\" || (cell.tagName == 'TH' && tableItems.tr !== tableItems.table.rows[0])) &&\r\n                    getUETable(tableItems.table).rowsNum < this.options.maxRowNum ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var rng = this.selection.getRange(),\r\n                    bk = rng.createBookmark(true);\r\n                var tableItems = getTableItemsByRange(this),\r\n                    cell = tableItems.cell,\r\n                    table = tableItems.table,\r\n                    ut = getUETable(table),\r\n                    cellInfo = ut.getCellInfo(cell);\r\n                //ut.insertRow(!ut.selectedTds.length ? cellInfo.rowIndex:ut.cellsRange.beginRowIndex,'');\r\n                if (!ut.selectedTds.length) {\r\n                    ut.insertRow(cellInfo.rowIndex, cell);\r\n                } else {\r\n                    var range = ut.cellsRange;\r\n                    for (var i = 0, len = range.endRowIndex - range.beginRowIndex + 1; i < len; i++) {\r\n                        ut.insertRow(range.beginRowIndex, cell);\r\n                    }\r\n                }\r\n                rng.moveToBookmark(bk).select();\r\n                if (table.getAttribute(\"interlaced\") === \"enabled\") this.fireEvent(\"interlacetable\", table);\r\n            }\r\n        };\r\n        //后插入行\r\n        UE.commands[\"insertrownext\"] = {\r\n            queryCommandState: function() {\r\n                var tableItems = getTableItemsByRange(this),\r\n                    cell = tableItems.cell;\r\n                return cell && (cell.tagName == \"TD\") && getUETable(tableItems.table).rowsNum < this.options.maxRowNum ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var rng = this.selection.getRange(),\r\n                    bk = rng.createBookmark(true);\r\n                var tableItems = getTableItemsByRange(this),\r\n                    cell = tableItems.cell,\r\n                    table = tableItems.table,\r\n                    ut = getUETable(table),\r\n                    cellInfo = ut.getCellInfo(cell);\r\n                //ut.insertRow(!ut.selectedTds.length? cellInfo.rowIndex + cellInfo.rowSpan : ut.cellsRange.endRowIndex + 1,'');\r\n                if (!ut.selectedTds.length) {\r\n                    ut.insertRow(cellInfo.rowIndex + cellInfo.rowSpan, cell);\r\n                } else {\r\n                    var range = ut.cellsRange;\r\n                    for (var i = 0, len = range.endRowIndex - range.beginRowIndex + 1; i < len; i++) {\r\n                        ut.insertRow(range.endRowIndex + 1, cell);\r\n                    }\r\n                }\r\n                rng.moveToBookmark(bk).select();\r\n                if (table.getAttribute(\"interlaced\") === \"enabled\") this.fireEvent(\"interlacetable\", table);\r\n            }\r\n        };\r\n        UE.commands[\"deleterow\"] = {\r\n            queryCommandState: function() {\r\n                var tableItems = getTableItemsByRange(this);\r\n                return tableItems.cell ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var cell = getTableItemsByRange(this).cell,\r\n                    ut = getUETable(cell),\r\n                    cellsRange = ut.cellsRange,\r\n                    cellInfo = ut.getCellInfo(cell),\r\n                    preCell = ut.getVSideCell(cell),\r\n                    nextCell = ut.getVSideCell(cell, true),\r\n                    rng = this.selection.getRange();\r\n                if (utils.isEmptyObject(cellsRange)) {\r\n                    ut.deleteRow(cellInfo.rowIndex);\r\n                } else {\r\n                    for (var i = cellsRange.beginRowIndex; i < cellsRange.endRowIndex + 1; i++) {\r\n                        ut.deleteRow(cellsRange.beginRowIndex);\r\n                    }\r\n                }\r\n                var table = ut.table;\r\n                if (!table.getElementsByTagName('td').length) {\r\n                    var nextSibling = table.nextSibling;\r\n                    domUtils.remove(table);\r\n                    if (nextSibling) {\r\n                        rng.setStart(nextSibling, 0).setCursor(false, true);\r\n                    }\r\n                } else {\r\n                    if (cellInfo.rowSpan == 1 || cellInfo.rowSpan == cellsRange.endRowIndex - cellsRange.beginRowIndex + 1) {\r\n                        if (nextCell || preCell) rng.selectNodeContents(nextCell || preCell).setCursor(false, true);\r\n                    } else {\r\n                        var newCell = ut.getCell(cellInfo.rowIndex, ut.indexTable[cellInfo.rowIndex][cellInfo.colIndex].cellIndex);\r\n                        if (newCell) rng.selectNodeContents(newCell).setCursor(false, true);\r\n                    }\r\n                }\r\n                if (table.getAttribute(\"interlaced\") === \"enabled\") this.fireEvent(\"interlacetable\", table);\r\n            }\r\n        };\r\n        UE.commands[\"insertcol\"] = {\r\n            queryCommandState: function(cmd) {\r\n                var tableItems = getTableItemsByRange(this),\r\n                    cell = tableItems.cell;\r\n                return cell && (cell.tagName == \"TD\" || (cell.tagName == 'TH' && cell !== tableItems.tr.cells[0])) &&\r\n                    getUETable(tableItems.table).colsNum < this.options.maxColNum ? 0 : -1;\r\n            },\r\n            execCommand: function(cmd) {\r\n                var rng = this.selection.getRange(),\r\n                    bk = rng.createBookmark(true);\r\n                if (this.queryCommandState(cmd) == -1) return;\r\n                var cell = getTableItemsByRange(this).cell,\r\n                    ut = getUETable(cell),\r\n                    cellInfo = ut.getCellInfo(cell);\r\n\r\n                //ut.insertCol(!ut.selectedTds.length ? cellInfo.colIndex:ut.cellsRange.beginColIndex);\r\n                if (!ut.selectedTds.length) {\r\n                    ut.insertCol(cellInfo.colIndex, cell);\r\n                } else {\r\n                    var range = ut.cellsRange;\r\n                    for (var i = 0, len = range.endColIndex - range.beginColIndex + 1; i < len; i++) {\r\n                        ut.insertCol(range.beginColIndex, cell);\r\n                    }\r\n                }\r\n                rng.moveToBookmark(bk).select(true);\r\n            }\r\n        };\r\n        UE.commands[\"insertcolnext\"] = {\r\n            queryCommandState: function() {\r\n                var tableItems = getTableItemsByRange(this),\r\n                    cell = tableItems.cell;\r\n                return cell && getUETable(tableItems.table).colsNum < this.options.maxColNum ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var rng = this.selection.getRange(),\r\n                    bk = rng.createBookmark(true);\r\n                var cell = getTableItemsByRange(this).cell,\r\n                    ut = getUETable(cell),\r\n                    cellInfo = ut.getCellInfo(cell);\r\n                //ut.insertCol(!ut.selectedTds.length ? cellInfo.colIndex + cellInfo.colSpan:ut.cellsRange.endColIndex +1);\r\n                if (!ut.selectedTds.length) {\r\n                    ut.insertCol(cellInfo.colIndex + cellInfo.colSpan, cell);\r\n                } else {\r\n                    var range = ut.cellsRange;\r\n                    for (var i = 0, len = range.endColIndex - range.beginColIndex + 1; i < len; i++) {\r\n                        ut.insertCol(range.endColIndex + 1, cell);\r\n                    }\r\n                }\r\n                rng.moveToBookmark(bk).select();\r\n            }\r\n        };\r\n\r\n        UE.commands[\"deletecol\"] = {\r\n            queryCommandState: function() {\r\n                var tableItems = getTableItemsByRange(this);\r\n                return tableItems.cell ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var cell = getTableItemsByRange(this).cell,\r\n                    ut = getUETable(cell),\r\n                    range = ut.cellsRange,\r\n                    cellInfo = ut.getCellInfo(cell),\r\n                    preCell = ut.getHSideCell(cell),\r\n                    nextCell = ut.getHSideCell(cell, true);\r\n                if (utils.isEmptyObject(range)) {\r\n                    ut.deleteCol(cellInfo.colIndex);\r\n                } else {\r\n                    for (var i = range.beginColIndex; i < range.endColIndex + 1; i++) {\r\n                        ut.deleteCol(range.beginColIndex);\r\n                    }\r\n                }\r\n                var table = ut.table,\r\n                    rng = this.selection.getRange();\r\n\r\n                if (!table.getElementsByTagName('td').length) {\r\n                    var nextSibling = table.nextSibling;\r\n                    domUtils.remove(table);\r\n                    if (nextSibling) {\r\n                        rng.setStart(nextSibling, 0).setCursor(false, true);\r\n                    }\r\n                } else {\r\n                    if (domUtils.inDoc(cell, this.document)) {\r\n                        rng.setStart(cell, 0).setCursor(false, true);\r\n                    } else {\r\n                        if (nextCell && domUtils.inDoc(nextCell, this.document)) {\r\n                            rng.selectNodeContents(nextCell).setCursor(false, true);\r\n                        } else {\r\n                            if (preCell && domUtils.inDoc(preCell, this.document)) {\r\n                                rng.selectNodeContents(preCell).setCursor(true, true);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        UE.commands[\"splittocells\"] = {\r\n            queryCommandState: function() {\r\n                var tableItems = getTableItemsByRange(this),\r\n                    cell = tableItems.cell;\r\n                if (!cell) return -1;\r\n                var ut = getUETable(tableItems.table);\r\n                if (ut.selectedTds.length > 0) return -1;\r\n                return cell && (cell.colSpan > 1 || cell.rowSpan > 1) ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var rng = this.selection.getRange(),\r\n                    bk = rng.createBookmark(true);\r\n                var cell = getTableItemsByRange(this).cell,\r\n                    ut = getUETable(cell);\r\n                ut.splitToCells(cell);\r\n                rng.moveToBookmark(bk).select();\r\n            }\r\n        };\r\n        UE.commands[\"splittorows\"] = {\r\n            queryCommandState: function() {\r\n                var tableItems = getTableItemsByRange(this),\r\n                    cell = tableItems.cell;\r\n                if (!cell) return -1;\r\n                var ut = getUETable(tableItems.table);\r\n                if (ut.selectedTds.length > 0) return -1;\r\n                return cell && cell.rowSpan > 1 ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var rng = this.selection.getRange(),\r\n                    bk = rng.createBookmark(true);\r\n                var cell = getTableItemsByRange(this).cell,\r\n                    ut = getUETable(cell);\r\n                ut.splitToRows(cell);\r\n                rng.moveToBookmark(bk).select();\r\n            }\r\n        };\r\n        UE.commands[\"splittocols\"] = {\r\n            queryCommandState: function() {\r\n                var tableItems = getTableItemsByRange(this),\r\n                    cell = tableItems.cell;\r\n                if (!cell) return -1;\r\n                var ut = getUETable(tableItems.table);\r\n                if (ut.selectedTds.length > 0) return -1;\r\n                return cell && cell.colSpan > 1 ? 0 : -1;\r\n            },\r\n            execCommand: function() {\r\n                var rng = this.selection.getRange(),\r\n                    bk = rng.createBookmark(true);\r\n                var cell = getTableItemsByRange(this).cell,\r\n                    ut = getUETable(cell);\r\n                ut.splitToCols(cell);\r\n                rng.moveToBookmark(bk).select();\r\n\r\n            }\r\n        };\r\n\r\n        UE.commands[\"adaptbytext\"] =\r\n            UE.commands[\"adaptbywindow\"] = {\r\n                queryCommandState: function() {\r\n                    return getTableItemsByRange(this).table ? 0 : -1\r\n                },\r\n                execCommand: function(cmd) {\r\n                    var tableItems = getTableItemsByRange(this),\r\n                        table = tableItems.table;\r\n                    if (table) {\r\n                        if (cmd == 'adaptbywindow') {\r\n                            resetTdWidth(table, this);\r\n                        } else {\r\n                            var cells = domUtils.getElementsByTagName(table, \"td th\");\r\n                            utils.each(cells, function(cell) {\r\n                                cell.removeAttribute(\"width\");\r\n                            });\r\n                            table.removeAttribute(\"width\");\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n\r\n        //平均分配各列\r\n        UE.commands['averagedistributecol'] = {\r\n            queryCommandState: function() {\r\n                var ut = getUETableBySelected(this);\r\n                if (!ut) return -1;\r\n                return ut.isFullRow() || ut.isFullCol() ? 0 : -1;\r\n            },\r\n            execCommand: function(cmd) {\r\n                var me = this,\r\n                    ut = getUETableBySelected(me);\r\n\r\n                function getAverageWidth() {\r\n                    var tb = ut.table,\r\n                        averageWidth, sumWidth = 0,\r\n                        colsNum = 0,\r\n                        tbAttr = getDefaultValue(me, tb);\r\n\r\n                    if (ut.isFullRow()) {\r\n                        sumWidth = tb.offsetWidth;\r\n                        colsNum = ut.colsNum;\r\n                    } else {\r\n                        var begin = ut.cellsRange.beginColIndex,\r\n                            end = ut.cellsRange.endColIndex,\r\n                            node;\r\n                        for (var i = begin; i <= end;) {\r\n                            node = ut.selectedTds[i];\r\n                            sumWidth += node.offsetWidth;\r\n                            i += node.colSpan;\r\n                            colsNum += 1;\r\n                        }\r\n                    }\r\n                    averageWidth = Math.ceil(sumWidth / colsNum) - tbAttr.tdBorder * 2 - tbAttr.tdPadding * 2;\r\n                    return averageWidth;\r\n                }\r\n\r\n                function setAverageWidth(averageWidth) {\r\n                    utils.each(domUtils.getElementsByTagName(ut.table, \"th\"), function(node) {\r\n                        node.setAttribute(\"width\", \"\");\r\n                    });\r\n                    var cells = ut.isFullRow() ? domUtils.getElementsByTagName(ut.table, \"td\") : ut.selectedTds;\r\n\r\n                    utils.each(cells, function(node) {\r\n                        if (node.colSpan == 1) {\r\n                            node.setAttribute(\"width\", averageWidth);\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (ut && ut.selectedTds.length) {\r\n                    setAverageWidth(getAverageWidth());\r\n                }\r\n            }\r\n        };\r\n        //平均分配各行\r\n        UE.commands['averagedistributerow'] = {\r\n            queryCommandState: function() {\r\n                var ut = getUETableBySelected(this);\r\n                if (!ut) return -1;\r\n                if (ut.selectedTds && /th/ig.test(ut.selectedTds[0].tagName)) return -1;\r\n                return ut.isFullRow() || ut.isFullCol() ? 0 : -1;\r\n            },\r\n            execCommand: function(cmd) {\r\n                var me = this,\r\n                    ut = getUETableBySelected(me);\r\n\r\n                function getAverageHeight() {\r\n                    var averageHeight, rowNum, sumHeight = 0,\r\n                        tb = ut.table,\r\n                        tbAttr = getDefaultValue(me, tb),\r\n                        tdpadding = parseInt(domUtils.getComputedStyle(tb.getElementsByTagName('td')[0], \"padding-top\"));\r\n\r\n                    if (ut.isFullCol()) {\r\n                        var captionArr = domUtils.getElementsByTagName(tb, \"caption\"),\r\n                            thArr = domUtils.getElementsByTagName(tb, \"th\"),\r\n                            captionHeight, thHeight;\r\n\r\n                        if (captionArr.length > 0) {\r\n                            captionHeight = captionArr[0].offsetHeight;\r\n                        }\r\n                        if (thArr.length > 0) {\r\n                            thHeight = thArr[0].offsetHeight;\r\n                        }\r\n\r\n                        sumHeight = tb.offsetHeight - (captionHeight || 0) - (thHeight || 0);\r\n                        rowNum = thArr.length == 0 ? ut.rowsNum : (ut.rowsNum - 1);\r\n                    } else {\r\n                        var begin = ut.cellsRange.beginRowIndex,\r\n                            end = ut.cellsRange.endRowIndex,\r\n                            count = 0,\r\n                            trs = domUtils.getElementsByTagName(tb, \"tr\");\r\n                        for (var i = begin; i <= end; i++) {\r\n                            sumHeight += trs[i].offsetHeight;\r\n                            count += 1;\r\n                        }\r\n                        rowNum = count;\r\n                    }\r\n                    //ie8下是混杂模式\r\n                    if (browser.ie && browser.version < 9) {\r\n                        averageHeight = Math.ceil(sumHeight / rowNum);\r\n                    } else {\r\n                        averageHeight = Math.ceil(sumHeight / rowNum) - tbAttr.tdBorder * 2 - tdpadding * 2;\r\n                    }\r\n                    return averageHeight;\r\n                }\r\n\r\n                function setAverageHeight(averageHeight) {\r\n                    var cells = ut.isFullCol() ? domUtils.getElementsByTagName(ut.table, \"td\") : ut.selectedTds;\r\n                    utils.each(cells, function(node) {\r\n                        if (node.rowSpan == 1) {\r\n                            node.setAttribute(\"height\", averageHeight);\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (ut && ut.selectedTds.length) {\r\n                    setAverageHeight(getAverageHeight());\r\n                }\r\n            }\r\n        };\r\n\r\n        //单元格对齐方式\r\n        UE.commands['cellalignment'] = {\r\n            queryCommandState: function() {\r\n                return getTableItemsByRange(this).table ? 0 : -1\r\n            },\r\n            execCommand: function(cmd, data) {\r\n                var me = this,\r\n                    ut = getUETableBySelected(me);\r\n\r\n                if (!ut) {\r\n                    var start = me.selection.getStart(),\r\n                        cell = start && domUtils.findParentByTagName(start, [\"td\", \"th\", \"caption\"], true);\r\n                    if (!/caption/ig.test(cell.tagName)) {\r\n                        domUtils.setAttributes(cell, data);\r\n                    } else {\r\n                        cell.style.textAlign = data.align;\r\n                        cell.style.verticalAlign = data.vAlign;\r\n                    }\r\n                    me.selection.getRange().setCursor(true);\r\n                } else {\r\n                    utils.each(ut.selectedTds, function(cell) {\r\n                        domUtils.setAttributes(cell, data);\r\n                    });\r\n                }\r\n            },\r\n            /**\r\n             * 查询当前点击的单元格的对齐状态， 如果当前已经选择了多个单元格， 则会返回所有单元格经过统一协调过后的状态\r\n             * @see UE.UETable.getTableCellAlignState\r\n             */\r\n            queryCommandValue: function(cmd) {\r\n\r\n                var activeMenuCell = getTableItemsByRange(this).cell;\r\n\r\n                if (!activeMenuCell) {\r\n                    activeMenuCell = getSelectedArr(this)[0];\r\n                }\r\n\r\n                if (!activeMenuCell) {\r\n\r\n                    return null;\r\n\r\n                } else {\r\n\r\n                    //获取同时选中的其他单元格\r\n                    var cells = UE.UETable.getUETable(activeMenuCell).selectedTds;\r\n\r\n                    !cells.length && (cells = activeMenuCell);\r\n\r\n                    return UE.UETable.getTableCellAlignState(cells);\r\n\r\n                }\r\n\r\n            }\r\n        };\r\n        //表格对齐方式\r\n        UE.commands['tablealignment'] = {\r\n            queryCommandState: function() {\r\n                if (browser.ie && browser.version < 8) {\r\n                    return -1;\r\n                }\r\n                return getTableItemsByRange(this).table ? 0 : -1\r\n            },\r\n            execCommand: function(cmd, value) {\r\n                var me = this,\r\n                    start = me.selection.getStart(),\r\n                    table = start && domUtils.findParentByTagName(start, [\"table\"], true);\r\n\r\n                if (table) {\r\n                    table.setAttribute(\"align\", value);\r\n                }\r\n            }\r\n        };\r\n\r\n        //表格属性\r\n        UE.commands['edittable'] = {\r\n            queryCommandState: function() {\r\n                return getTableItemsByRange(this).table ? 0 : -1\r\n            },\r\n            execCommand: function(cmd, color) {\r\n                var rng = this.selection.getRange(),\r\n                    table = domUtils.findParentByTagName(rng.startContainer, 'table');\r\n                if (table) {\r\n                    var arr = domUtils.getElementsByTagName(table, \"td\").concat(\r\n                        domUtils.getElementsByTagName(table, \"th\"),\r\n                        domUtils.getElementsByTagName(table, \"caption\")\r\n                    );\r\n                    utils.each(arr, function(node) {\r\n                        node.style.borderColor = color;\r\n                    });\r\n                }\r\n            }\r\n        };\r\n        //单元格属性\r\n        UE.commands['edittd'] = {\r\n            queryCommandState: function() {\r\n                return getTableItemsByRange(this).table ? 0 : -1\r\n            },\r\n            execCommand: function(cmd, bkColor) {\r\n                var me = this,\r\n                    ut = getUETableBySelected(me);\r\n\r\n                if (!ut) {\r\n                    var start = me.selection.getStart(),\r\n                        cell = start && domUtils.findParentByTagName(start, [\"td\", \"th\", \"caption\"], true);\r\n                    if (cell) {\r\n                        cell.style.backgroundColor = bkColor;\r\n                    }\r\n                } else {\r\n                    utils.each(ut.selectedTds, function(cell) {\r\n                        cell.style.backgroundColor = bkColor;\r\n                    });\r\n                }\r\n            }\r\n        };\r\n\r\n        UE.commands[\"settablebackground\"] = {\r\n            queryCommandState: function() {\r\n                return getSelectedArr(this).length > 1 ? 0 : -1;\r\n            },\r\n            execCommand: function(cmd, value) {\r\n                var cells, ut;\r\n                cells = getSelectedArr(this);\r\n                ut = getUETable(cells[0]);\r\n                ut.setBackground(cells, value);\r\n            }\r\n        };\r\n\r\n        UE.commands[\"cleartablebackground\"] = {\r\n            queryCommandState: function() {\r\n                var cells = getSelectedArr(this);\r\n                if (!cells.length) return -1;\r\n                for (var i = 0, cell; cell = cells[i++];) {\r\n                    if (cell.style.backgroundColor !== \"\") return 0;\r\n                }\r\n                return -1;\r\n            },\r\n            execCommand: function() {\r\n                var cells = getSelectedArr(this),\r\n                    ut = getUETable(cells[0]);\r\n                ut.removeBackground(cells);\r\n            }\r\n        };\r\n\r\n        UE.commands[\"interlacetable\"] = UE.commands[\"uninterlacetable\"] = {\r\n            queryCommandState: function(cmd) {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (!table) return -1;\r\n                var interlaced = table.getAttribute(\"interlaced\");\r\n                if (cmd == \"interlacetable\") {\r\n                    //TODO 待定\r\n                    //是否需要待定，如果设置，则命令只能单次执行成功，但反射具备toggle效果；否则可以覆盖前次命令，但反射将不存在toggle效果\r\n                    return (interlaced === \"enabled\") ? -1 : 0;\r\n                } else {\r\n                    return (!interlaced || interlaced === \"disabled\") ? -1 : 0;\r\n                }\r\n            },\r\n            execCommand: function(cmd, classList) {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (cmd == \"interlacetable\") {\r\n                    table.setAttribute(\"interlaced\", \"enabled\");\r\n                    this.fireEvent(\"interlacetable\", table, classList);\r\n                } else {\r\n                    table.setAttribute(\"interlaced\", \"disabled\");\r\n                    this.fireEvent(\"uninterlacetable\", table);\r\n                }\r\n            }\r\n        };\r\n        UE.commands[\"setbordervisible\"] = {\r\n            queryCommandState: function(cmd) {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (!table) return -1;\r\n                return 0;\r\n            },\r\n            execCommand: function() {\r\n                var table = getTableItemsByRange(this).table;\r\n                utils.each(domUtils.getElementsByTagName(table, 'td'), function(td) {\r\n                    td.style.borderWidth = '1px';\r\n                    td.style.borderStyle = 'solid';\r\n                })\r\n            }\r\n        };\r\n\r\n        function resetTdWidth(table, editor) {\r\n            var tds = domUtils.getElementsByTagName(table, 'td th');\r\n            utils.each(tds, function(td) {\r\n                td.removeAttribute(\"width\");\r\n            });\r\n            table.setAttribute('width', getTableWidth(editor, true, getDefaultValue(editor, table)));\r\n            var tdsWidths = [];\r\n            setTimeout(function() {\r\n                utils.each(tds, function(td) {\r\n                    (td.colSpan == 1) && tdsWidths.push(td.offsetWidth)\r\n                })\r\n                utils.each(tds, function(td, i) {\r\n                    (td.colSpan == 1) && td.setAttribute(\"width\", tdsWidths[i] + \"\");\r\n                })\r\n            }, 0);\r\n        }\r\n\r\n        function getTableWidth(editor, needIEHack, defaultValue) {\r\n            var body = editor.body;\r\n            return body.offsetWidth - (needIEHack ? parseInt(domUtils.getComputedStyle(body, 'margin-left'), 10) * 2 : 0) - defaultValue.tableBorder * 2 - (editor.options.offsetWidth || 0);\r\n        }\r\n\r\n        function getSelectedArr(editor) {\r\n            var cell = getTableItemsByRange(editor).cell;\r\n            if (cell) {\r\n                var ut = getUETable(cell);\r\n                return ut.selectedTds.length ? ut.selectedTds : [cell];\r\n            } else {\r\n                return [];\r\n            }\r\n        }\r\n    })();\r\n\r\n\r\n    // plugins/table.action.js\r\n    /**\r\n     * Created with JetBrains PhpStorm.\r\n     * User: taoqili\r\n     * Date: 12-10-12\r\n     * Time: 上午10:05\r\n     * To change this template use File | Settings | File Templates.\r\n     */\r\n    UE.plugins['table'] = function() {\r\n        var me = this,\r\n            tabTimer = null,\r\n            //拖动计时器\r\n            tableDragTimer = null,\r\n            //双击计时器\r\n            tableResizeTimer = null,\r\n            //单元格最小宽度\r\n            cellMinWidth = 5,\r\n            isInResizeBuffer = false,\r\n            //单元格边框大小\r\n            cellBorderWidth = 5,\r\n            //鼠标偏移距离\r\n            offsetOfTableCell = 10,\r\n            //记录在有限时间内的点击状态， 共有3个取值， 0, 1, 2。 0代表未初始化， 1代表单击了1次，2代表2次\r\n            singleClickState = 0,\r\n            userActionStatus = null,\r\n            //双击允许的时间范围\r\n            dblclickTime = 360,\r\n            UT = UE.UETable,\r\n            getUETable = function(tdOrTable) {\r\n                return UT.getUETable(tdOrTable);\r\n            },\r\n            getUETableBySelected = function(editor) {\r\n                return UT.getUETableBySelected(editor);\r\n            },\r\n            getDefaultValue = function(editor, table) {\r\n                return UT.getDefaultValue(editor, table);\r\n            },\r\n            removeSelectedClass = function(cells) {\r\n                return UT.removeSelectedClass(cells);\r\n            };\r\n\r\n        function showError(e) {\r\n            //        throw e;\r\n        }\r\n        me.ready(function() {\r\n            var me = this;\r\n            var orgGetText = me.selection.getText;\r\n            me.selection.getText = function() {\r\n                var table = getUETableBySelected(me);\r\n                if (table) {\r\n                    var str = '';\r\n                    utils.each(table.selectedTds, function(td) {\r\n                        str += td[browser.ie ? 'innerText' : 'textContent'];\r\n                    })\r\n                    return str;\r\n                } else {\r\n                    return orgGetText.call(me.selection)\r\n                }\r\n\r\n            }\r\n        })\r\n\r\n        //处理拖动及框选相关方法\r\n        var startTd = null, //鼠标按下时的锚点td\r\n            currentTd = null, //当前鼠标经过时的td\r\n            onDrag = \"\", //指示当前拖动状态，其值可为\"\",\"h\",\"v\" ,分别表示未拖动状态，横向拖动状态，纵向拖动状态，用于鼠标移动过程中的判断\r\n            onBorder = false, //检测鼠标按下时是否处在单元格边缘位置\r\n            dragButton = null,\r\n            dragOver = false,\r\n            dragLine = null, //模拟的拖动线\r\n            dragTd = null; //发生拖动的目标td\r\n\r\n        var mousedown = false,\r\n            //todo 判断混乱模式\r\n            needIEHack = true;\r\n\r\n        me.setOpt({\r\n            'maxColNum': 20,\r\n            'maxRowNum': 100,\r\n            'defaultCols': 5,\r\n            'defaultRows': 5,\r\n            'tdvalign': 'top',\r\n            'cursorpath': me.options.UEDITOR_HOME_URL + \"themes/default/images/cursor_\",\r\n            'tableDragable': false,\r\n            'classList': [\"ue-table-interlace-color-single\", \"ue-table-interlace-color-double\"]\r\n        });\r\n        me.getUETable = getUETable;\r\n        var commands = {\r\n            'deletetable': 1,\r\n            'inserttable': 1,\r\n            'cellvalign': 1,\r\n            'insertcaption': 1,\r\n            'deletecaption': 1,\r\n            'inserttitle': 1,\r\n            'deletetitle': 1,\r\n            \"mergeright\": 1,\r\n            \"mergedown\": 1,\r\n            \"mergecells\": 1,\r\n            \"insertrow\": 1,\r\n            \"insertrownext\": 1,\r\n            \"deleterow\": 1,\r\n            \"insertcol\": 1,\r\n            \"insertcolnext\": 1,\r\n            \"deletecol\": 1,\r\n            \"splittocells\": 1,\r\n            \"splittorows\": 1,\r\n            \"splittocols\": 1,\r\n            \"adaptbytext\": 1,\r\n            \"adaptbywindow\": 1,\r\n            \"adaptbycustomer\": 1,\r\n            \"insertparagraph\": 1,\r\n            \"insertparagraphbeforetable\": 1,\r\n            \"averagedistributecol\": 1,\r\n            \"averagedistributerow\": 1\r\n        };\r\n        me.ready(function() {\r\n            utils.cssRule('table',\r\n                //选中的td上的样式\r\n                '.selectTdClass{background-color:#edf5fa !important}' +\r\n                'table.noBorderTable td,table.noBorderTable th,table.noBorderTable caption{border:1px dashed #ddd !important}' +\r\n                //插入的表格的默认样式\r\n                'table{margin-bottom:10px;border-collapse:collapse;display:table;}' +\r\n                'td,th{padding: 5px 10px;border: 1px solid #DDD;}' +\r\n                'caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}' +\r\n                'th{border-top:1px solid #BBB;background-color:#F7F7F7;}' +\r\n                'table tr.firstRow th{border-top-width:2px;}' +\r\n                '.ue-table-interlace-color-single{ background-color: #fcfcfc; } .ue-table-interlace-color-double{ background-color: #f7faff; }' +\r\n                'td p{margin:0;padding:0;}', me.document);\r\n\r\n            var tableCopyList, isFullCol, isFullRow;\r\n            //注册del/backspace事件\r\n            me.addListener('keydown', function(cmd, evt) {\r\n                var me = this;\r\n                var keyCode = evt.keyCode || evt.which;\r\n\r\n                if (keyCode == 8) {\r\n\r\n                    var ut = getUETableBySelected(me);\r\n                    if (ut && ut.selectedTds.length) {\r\n\r\n                        if (ut.isFullCol()) {\r\n                            me.execCommand('deletecol')\r\n                        } else if (ut.isFullRow()) {\r\n                            me.execCommand('deleterow')\r\n                        } else {\r\n                            me.fireEvent('delcells');\r\n                        }\r\n                        domUtils.preventDefault(evt);\r\n                    }\r\n\r\n                    var caption = domUtils.findParentByTagName(me.selection.getStart(), 'caption', true),\r\n                        range = me.selection.getRange();\r\n                    if (range.collapsed && caption && isEmptyBlock(caption)) {\r\n                        me.fireEvent('saveScene');\r\n                        var table = caption.parentNode;\r\n                        domUtils.remove(caption);\r\n                        if (table) {\r\n                            range.setStart(table.rows[0].cells[0], 0).setCursor(false, true);\r\n                        }\r\n                        me.fireEvent('saveScene');\r\n                    }\r\n\r\n                }\r\n\r\n                if (keyCode == 46) {\r\n\r\n                    ut = getUETableBySelected(me);\r\n                    if (ut) {\r\n                        me.fireEvent('saveScene');\r\n                        for (var i = 0, ci; ci = ut.selectedTds[i++];) {\r\n                            domUtils.fillNode(me.document, ci)\r\n                        }\r\n                        me.fireEvent('saveScene');\r\n                        domUtils.preventDefault(evt);\r\n\r\n                    }\r\n\r\n                }\r\n                if (keyCode == 13) {\r\n\r\n                    var rng = me.selection.getRange(),\r\n                        caption = domUtils.findParentByTagName(rng.startContainer, 'caption', true);\r\n                    if (caption) {\r\n                        var table = domUtils.findParentByTagName(caption, 'table');\r\n                        if (!rng.collapsed) {\r\n\r\n                            rng.deleteContents();\r\n                            me.fireEvent('saveScene');\r\n                        } else {\r\n                            if (caption) {\r\n                                rng.setStart(table.rows[0].cells[0], 0).setCursor(false, true);\r\n                            }\r\n                        }\r\n                        domUtils.preventDefault(evt);\r\n                        return;\r\n                    }\r\n                    if (rng.collapsed) {\r\n                        var table = domUtils.findParentByTagName(rng.startContainer, 'table');\r\n                        if (table) {\r\n                            var cell = table.rows[0].cells[0],\r\n                                start = domUtils.findParentByTagName(me.selection.getStart(), ['td', 'th'], true),\r\n                                preNode = table.previousSibling;\r\n                            if (cell === start && (!preNode || preNode.nodeType == 1 && preNode.tagName == 'TABLE') && domUtils.isStartInblock(rng)) {\r\n                                var first = domUtils.findParent(me.selection.getStart(), function(n) { return domUtils.isBlockElm(n) }, true);\r\n                                if (first && (/t(h|d)/i.test(first.tagName) || first === start.firstChild)) {\r\n                                    me.execCommand('insertparagraphbeforetable');\r\n                                    domUtils.preventDefault(evt);\r\n                                }\r\n\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if ((evt.ctrlKey || evt.metaKey) && evt.keyCode == '67') {\r\n                    tableCopyList = null;\r\n                    var ut = getUETableBySelected(me);\r\n                    if (ut) {\r\n                        var tds = ut.selectedTds;\r\n                        isFullCol = ut.isFullCol();\r\n                        isFullRow = ut.isFullRow();\r\n                        tableCopyList = [\r\n                            [ut.cloneCell(tds[0], null, true)]\r\n                        ];\r\n                        for (var i = 1, ci; ci = tds[i]; i++) {\r\n                            if (ci.parentNode !== tds[i - 1].parentNode) {\r\n                                tableCopyList.push([ut.cloneCell(ci, null, true)]);\r\n                            } else {\r\n                                tableCopyList[tableCopyList.length - 1].push(ut.cloneCell(ci, null, true));\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            me.addListener(\"tablehasdeleted\", function() {\r\n                toggleDraggableState(this, false, \"\", null);\r\n                if (dragButton) domUtils.remove(dragButton);\r\n            });\r\n\r\n            me.addListener('beforepaste', function(cmd, html) {\r\n                var me = this;\r\n                var rng = me.selection.getRange();\r\n                if (domUtils.findParentByTagName(rng.startContainer, 'caption', true)) {\r\n                    var div = me.document.createElement(\"div\");\r\n                    div.innerHTML = html.html;\r\n                    //trace:3729\r\n                    html.html = div[browser.ie9below ? 'innerText' : 'textContent'];\r\n                    return;\r\n                }\r\n                var table = getUETableBySelected(me);\r\n                if (tableCopyList) {\r\n                    me.fireEvent('saveScene');\r\n                    var rng = me.selection.getRange();\r\n                    var td = domUtils.findParentByTagName(rng.startContainer, ['td', 'th'], true),\r\n                        tmpNode, preNode;\r\n                    if (td) {\r\n                        var ut = getUETable(td);\r\n                        if (isFullRow) {\r\n                            var rowIndex = ut.getCellInfo(td).rowIndex;\r\n                            if (td.tagName == 'TH') {\r\n                                rowIndex++;\r\n                            }\r\n                            for (var i = 0, ci; ci = tableCopyList[i++];) {\r\n                                var tr = ut.insertRow(rowIndex++, \"td\");\r\n                                for (var j = 0, cj; cj = ci[j]; j++) {\r\n                                    var cell = tr.cells[j];\r\n                                    if (!cell) {\r\n                                        cell = tr.insertCell(j)\r\n                                    }\r\n                                    cell.innerHTML = cj.innerHTML;\r\n                                    cj.getAttribute('width') && cell.setAttribute('width', cj.getAttribute('width'));\r\n                                    cj.getAttribute('vAlign') && cell.setAttribute('vAlign', cj.getAttribute('vAlign'));\r\n                                    cj.getAttribute('align') && cell.setAttribute('align', cj.getAttribute('align'));\r\n                                    cj.style.cssText && (cell.style.cssText = cj.style.cssText)\r\n                                }\r\n                                for (var j = 0, cj; cj = tr.cells[j]; j++) {\r\n                                    if (!ci[j])\r\n                                        break;\r\n                                    cj.innerHTML = ci[j].innerHTML;\r\n                                    ci[j].getAttribute('width') && cj.setAttribute('width', ci[j].getAttribute('width'));\r\n                                    ci[j].getAttribute('vAlign') && cj.setAttribute('vAlign', ci[j].getAttribute('vAlign'));\r\n                                    ci[j].getAttribute('align') && cj.setAttribute('align', ci[j].getAttribute('align'));\r\n                                    ci[j].style.cssText && (cj.style.cssText = ci[j].style.cssText)\r\n                                }\r\n                            }\r\n                        } else {\r\n                            if (isFullCol) {\r\n                                cellInfo = ut.getCellInfo(td);\r\n                                var maxColNum = 0;\r\n                                for (var j = 0, ci = tableCopyList[0], cj; cj = ci[j++];) {\r\n                                    maxColNum += cj.colSpan || 1;\r\n                                }\r\n                                me.__hasEnterExecCommand = true;\r\n                                for (i = 0; i < maxColNum; i++) {\r\n                                    me.execCommand('insertcol');\r\n                                }\r\n                                me.__hasEnterExecCommand = false;\r\n                                td = ut.table.rows[0].cells[cellInfo.cellIndex];\r\n                                if (td.tagName == 'TH') {\r\n                                    td = ut.table.rows[1].cells[cellInfo.cellIndex];\r\n                                }\r\n                            }\r\n                            for (var i = 0, ci; ci = tableCopyList[i++];) {\r\n                                tmpNode = td;\r\n                                for (var j = 0, cj; cj = ci[j++];) {\r\n                                    if (td) {\r\n                                        td.innerHTML = cj.innerHTML;\r\n                                        //todo 定制处理\r\n                                        cj.getAttribute('width') && td.setAttribute('width', cj.getAttribute('width'));\r\n                                        cj.getAttribute('vAlign') && td.setAttribute('vAlign', cj.getAttribute('vAlign'));\r\n                                        cj.getAttribute('align') && td.setAttribute('align', cj.getAttribute('align'));\r\n                                        cj.style.cssText && (td.style.cssText = cj.style.cssText);\r\n                                        preNode = td;\r\n                                        td = td.nextSibling;\r\n                                    } else {\r\n                                        var cloneTd = cj.cloneNode(true);\r\n                                        domUtils.removeAttributes(cloneTd, ['class', 'rowSpan', 'colSpan']);\r\n\r\n                                        preNode.parentNode.appendChild(cloneTd)\r\n                                    }\r\n                                }\r\n                                td = ut.getNextCell(tmpNode, true, true);\r\n                                if (!tableCopyList[i])\r\n                                    break;\r\n                                if (!td) {\r\n                                    var cellInfo = ut.getCellInfo(tmpNode);\r\n                                    ut.table.insertRow(ut.table.rows.length);\r\n                                    ut.update();\r\n                                    td = ut.getVSideCell(tmpNode, true);\r\n                                }\r\n                            }\r\n                        }\r\n                        ut.update();\r\n                    } else {\r\n                        table = me.document.createElement('table');\r\n                        for (var i = 0, ci; ci = tableCopyList[i++];) {\r\n                            var tr = table.insertRow(table.rows.length);\r\n                            for (var j = 0, cj; cj = ci[j++];) {\r\n                                cloneTd = UT.cloneCell(cj, null, true);\r\n                                domUtils.removeAttributes(cloneTd, ['class']);\r\n                                tr.appendChild(cloneTd)\r\n                            }\r\n                            if (j == 2 && cloneTd.rowSpan > 1) {\r\n                                cloneTd.rowSpan = 1;\r\n                            }\r\n                        }\r\n\r\n                        var defaultValue = getDefaultValue(me),\r\n                            width = me.body.offsetWidth -\r\n                            (needIEHack ? parseInt(domUtils.getComputedStyle(me.body, 'margin-left'), 10) * 2 : 0) - defaultValue.tableBorder * 2 - (me.options.offsetWidth || 0);\r\n                        me.execCommand('insertHTML', '<table  ' +\r\n                            (isFullCol && isFullRow ? 'width=\"' + width + '\"' : '') +\r\n                            '>' + table.innerHTML.replace(/>\\s*</g, '><').replace(/\\bth\\b/gi, \"td\") + '</table>')\r\n                    }\r\n                    me.fireEvent('contentchange');\r\n                    me.fireEvent('saveScene');\r\n                    html.html = '';\r\n                    return true;\r\n                } else {\r\n                    var div = me.document.createElement(\"div\"),\r\n                        tables;\r\n                    div.innerHTML = html.html;\r\n                    tables = div.getElementsByTagName(\"table\");\r\n                    if (domUtils.findParentByTagName(me.selection.getStart(), 'table')) {\r\n                        utils.each(tables, function(t) {\r\n                            domUtils.remove(t)\r\n                        });\r\n                        if (domUtils.findParentByTagName(me.selection.getStart(), 'caption', true)) {\r\n                            div.innerHTML = div[browser.ie ? 'innerText' : 'textContent'];\r\n                        }\r\n                    } else {\r\n                        utils.each(tables, function(table) {\r\n                            removeStyleSize(table, true);\r\n                            domUtils.removeAttributes(table, ['style', 'border']);\r\n                            utils.each(domUtils.getElementsByTagName(table, \"td\"), function(td) {\r\n                                if (isEmptyBlock(td)) {\r\n                                    domUtils.fillNode(me.document, td);\r\n                                }\r\n                                removeStyleSize(td, true);\r\n                                //                            domUtils.removeAttributes(td, ['style'])\r\n                            });\r\n                        });\r\n                    }\r\n                    html.html = div.innerHTML;\r\n                }\r\n            });\r\n\r\n            me.addListener('afterpaste', function() {\r\n                utils.each(domUtils.getElementsByTagName(me.body, \"table\"), function(table) {\r\n                    if (table.offsetWidth > me.body.offsetWidth) {\r\n                        var defaultValue = getDefaultValue(me, table);\r\n                        table.style.width = me.body.offsetWidth - (needIEHack ? parseInt(domUtils.getComputedStyle(me.body, 'margin-left'), 10) * 2 : 0) - defaultValue.tableBorder * 2 - (me.options.offsetWidth || 0) + 'px'\r\n                    }\r\n                })\r\n            });\r\n            me.addListener('blur', function() {\r\n                tableCopyList = null;\r\n            });\r\n            var timer;\r\n            me.addListener('keydown', function() {\r\n                clearTimeout(timer);\r\n                timer = setTimeout(function() {\r\n                    var rng = me.selection.getRange(),\r\n                        cell = domUtils.findParentByTagName(rng.startContainer, ['th', 'td'], true);\r\n                    if (cell) {\r\n                        var table = cell.parentNode.parentNode.parentNode;\r\n                        if (table.offsetWidth > table.getAttribute(\"width\")) {\r\n                            cell.style.wordBreak = \"break-all\";\r\n                        }\r\n                    }\r\n\r\n                }, 100);\r\n            });\r\n            me.addListener(\"selectionchange\", function() {\r\n                toggleDraggableState(me, false, \"\", null);\r\n            });\r\n\r\n\r\n            //内容变化时触发索引更新\r\n            //todo 可否考虑标记检测，如果不涉及表格的变化就不进行索引重建和更新\r\n            me.addListener(\"contentchange\", function() {\r\n                var me = this;\r\n                //尽可能排除一些不需要更新的状况\r\n                hideDragLine(me);\r\n                if (getUETableBySelected(me)) return;\r\n                var rng = me.selection.getRange();\r\n                var start = rng.startContainer;\r\n                start = domUtils.findParentByTagName(start, ['td', 'th'], true);\r\n                utils.each(domUtils.getElementsByTagName(me.document, 'table'), function(table) {\r\n                    if (me.fireEvent(\"excludetable\", table) === true) return;\r\n                    table.ueTable = new UT(table);\r\n                    //trace:3742\r\n                    //                utils.each(domUtils.getElementsByTagName(me.document, 'td'), function (td) {\r\n                    //\r\n                    //                    if (domUtils.isEmptyBlock(td) && td !== start) {\r\n                    //                        domUtils.fillNode(me.document, td);\r\n                    //                        if (browser.ie && browser.version == 6) {\r\n                    //                            td.innerHTML = '&nbsp;'\r\n                    //                        }\r\n                    //                    }\r\n                    //                });\r\n                    //                utils.each(domUtils.getElementsByTagName(me.document, 'th'), function (th) {\r\n                    //                    if (domUtils.isEmptyBlock(th) && th !== start) {\r\n                    //                        domUtils.fillNode(me.document, th);\r\n                    //                        if (browser.ie && browser.version == 6) {\r\n                    //                            th.innerHTML = '&nbsp;'\r\n                    //                        }\r\n                    //                    }\r\n                    //                });\r\n                    table.onmouseover = function() {\r\n                        me.fireEvent('tablemouseover', table);\r\n                    };\r\n                    table.onmousemove = function() {\r\n                        me.fireEvent('tablemousemove', table);\r\n                        me.options.tableDragable && toggleDragButton(true, this, me);\r\n                        utils.defer(function() {\r\n                            me.fireEvent('contentchange', 50)\r\n                        }, true)\r\n                    };\r\n                    table.onmouseout = function() {\r\n                        me.fireEvent('tablemouseout', table);\r\n                        toggleDraggableState(me, false, \"\", null);\r\n                        hideDragLine(me);\r\n                    };\r\n                    table.onclick = function(evt) {\r\n                        evt = me.window.event || evt;\r\n                        var target = getParentTdOrTh(evt.target || evt.srcElement);\r\n                        if (!target) return;\r\n                        var ut = getUETable(target),\r\n                            table = ut.table,\r\n                            cellInfo = ut.getCellInfo(target),\r\n                            cellsRange,\r\n                            rng = me.selection.getRange();\r\n                        //                    if (\"topLeft\" == inPosition(table, mouseCoords(evt))) {\r\n                        //                        cellsRange = ut.getCellsRange(ut.table.rows[0].cells[0], ut.getLastCell());\r\n                        //                        ut.setSelected(cellsRange);\r\n                        //                        return;\r\n                        //                    }\r\n                        //                    if (\"bottomRight\" == inPosition(table, mouseCoords(evt))) {\r\n                        //\r\n                        //                        return;\r\n                        //                    }\r\n                        if (inTableSide(table, target, evt, true)) {\r\n                            var endTdCol = ut.getCell(ut.indexTable[ut.rowsNum - 1][cellInfo.colIndex].rowIndex, ut.indexTable[ut.rowsNum - 1][cellInfo.colIndex].cellIndex);\r\n                            if (evt.shiftKey && ut.selectedTds.length) {\r\n                                if (ut.selectedTds[0] !== endTdCol) {\r\n                                    cellsRange = ut.getCellsRange(ut.selectedTds[0], endTdCol);\r\n                                    ut.setSelected(cellsRange);\r\n                                } else {\r\n                                    rng && rng.selectNodeContents(endTdCol).select();\r\n                                }\r\n                            } else {\r\n                                if (target !== endTdCol) {\r\n                                    cellsRange = ut.getCellsRange(target, endTdCol);\r\n                                    ut.setSelected(cellsRange);\r\n                                } else {\r\n                                    rng && rng.selectNodeContents(endTdCol).select();\r\n                                }\r\n                            }\r\n                            return;\r\n                        }\r\n                        if (inTableSide(table, target, evt)) {\r\n                            var endTdRow = ut.getCell(ut.indexTable[cellInfo.rowIndex][ut.colsNum - 1].rowIndex, ut.indexTable[cellInfo.rowIndex][ut.colsNum - 1].cellIndex);\r\n                            if (evt.shiftKey && ut.selectedTds.length) {\r\n                                if (ut.selectedTds[0] !== endTdRow) {\r\n                                    cellsRange = ut.getCellsRange(ut.selectedTds[0], endTdRow);\r\n                                    ut.setSelected(cellsRange);\r\n                                } else {\r\n                                    rng && rng.selectNodeContents(endTdRow).select();\r\n                                }\r\n                            } else {\r\n                                if (target !== endTdRow) {\r\n                                    cellsRange = ut.getCellsRange(target, endTdRow);\r\n                                    ut.setSelected(cellsRange);\r\n                                } else {\r\n                                    rng && rng.selectNodeContents(endTdRow).select();\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                });\r\n\r\n                switchBorderColor(me, true);\r\n            });\r\n\r\n            domUtils.on(me.document, \"mousemove\", mouseMoveEvent);\r\n\r\n            domUtils.on(me.document, \"mouseout\", function(evt) {\r\n                var target = evt.target || evt.srcElement;\r\n                if (target.tagName == \"TABLE\") {\r\n                    toggleDraggableState(me, false, \"\", null);\r\n                }\r\n            });\r\n            /**\r\n             * 表格隔行变色\r\n             */\r\n            me.addListener(\"interlacetable\", function(type, table, classList) {\r\n                if (!table) return;\r\n                var me = this,\r\n                    rows = table.rows,\r\n                    len = rows.length,\r\n                    getClass = function(list, index, repeat) {\r\n                        return list[index] ? list[index] : repeat ? list[index % list.length] : \"\";\r\n                    };\r\n                for (var i = 0; i < len; i++) {\r\n                    rows[i].className = getClass(classList || me.options.classList, i, true);\r\n                }\r\n            });\r\n            me.addListener(\"uninterlacetable\", function(type, table) {\r\n                if (!table) return;\r\n                var me = this,\r\n                    rows = table.rows,\r\n                    classList = me.options.classList,\r\n                    len = rows.length;\r\n                for (var i = 0; i < len; i++) {\r\n                    domUtils.removeClasses(rows[i], classList);\r\n                }\r\n            });\r\n\r\n            me.addListener(\"mousedown\", mouseDownEvent);\r\n            me.addListener(\"mouseup\", mouseUpEvent);\r\n            //拖动的时候触发mouseup\r\n            domUtils.on(me.body, 'dragstart', function(evt) {\r\n                mouseUpEvent.call(me, 'dragstart', evt);\r\n            });\r\n            me.addOutputRule(function(root) {\r\n                utils.each(root.getNodesByTagName('div'), function(n) {\r\n                    if (n.getAttr('id') == 'ue_tableDragLine') {\r\n                        n.parentNode.removeChild(n);\r\n                    }\r\n                });\r\n            });\r\n\r\n            var currentRowIndex = 0;\r\n            me.addListener(\"mousedown\", function() {\r\n                currentRowIndex = 0;\r\n            });\r\n            me.addListener('tabkeydown', function() {\r\n                var range = this.selection.getRange(),\r\n                    common = range.getCommonAncestor(true, true),\r\n                    table = domUtils.findParentByTagName(common, 'table');\r\n                if (table) {\r\n                    if (domUtils.findParentByTagName(common, 'caption', true)) {\r\n                        var cell = domUtils.getElementsByTagName(table, 'th td');\r\n                        if (cell && cell.length) {\r\n                            range.setStart(cell[0], 0).setCursor(false, true)\r\n                        }\r\n                    } else {\r\n                        var cell = domUtils.findParentByTagName(common, ['td', 'th'], true),\r\n                            ua = getUETable(cell);\r\n                        currentRowIndex = cell.rowSpan > 1 ? currentRowIndex : ua.getCellInfo(cell).rowIndex;\r\n                        var nextCell = ua.getTabNextCell(cell, currentRowIndex);\r\n                        if (nextCell) {\r\n                            if (isEmptyBlock(nextCell)) {\r\n                                range.setStart(nextCell, 0).setCursor(false, true)\r\n                            } else {\r\n                                range.selectNodeContents(nextCell).select()\r\n                            }\r\n                        } else {\r\n                            me.fireEvent('saveScene');\r\n                            me.__hasEnterExecCommand = true;\r\n                            this.execCommand('insertrownext');\r\n                            me.__hasEnterExecCommand = false;\r\n                            range = this.selection.getRange();\r\n                            range.setStart(table.rows[table.rows.length - 1].cells[0], 0).setCursor();\r\n                            me.fireEvent('saveScene');\r\n                        }\r\n                    }\r\n                    return true;\r\n                }\r\n\r\n            });\r\n            browser.ie && me.addListener('selectionchange', function() {\r\n                toggleDraggableState(this, false, \"\", null);\r\n            });\r\n            me.addListener(\"keydown\", function(type, evt) {\r\n                var me = this;\r\n                //处理在表格的最后一个输入tab产生新的表格\r\n                var keyCode = evt.keyCode || evt.which;\r\n                if (keyCode == 8 || keyCode == 46) {\r\n                    return;\r\n                }\r\n                var notCtrlKey = !evt.ctrlKey && !evt.metaKey && !evt.shiftKey && !evt.altKey;\r\n                notCtrlKey && removeSelectedClass(domUtils.getElementsByTagName(me.body, \"td\"));\r\n                var ut = getUETableBySelected(me);\r\n                if (!ut) return;\r\n                notCtrlKey && ut.clearSelected();\r\n            });\r\n\r\n            me.addListener(\"beforegetcontent\", function() {\r\n                switchBorderColor(this, false);\r\n                browser.ie && utils.each(this.document.getElementsByTagName('caption'), function(ci) {\r\n                    if (domUtils.isEmptyNode(ci)) {\r\n                        ci.innerHTML = '&nbsp;'\r\n                    }\r\n                });\r\n            });\r\n            me.addListener(\"aftergetcontent\", function() {\r\n                switchBorderColor(this, true);\r\n            });\r\n            me.addListener(\"getAllHtml\", function() {\r\n                removeSelectedClass(me.document.getElementsByTagName(\"td\"));\r\n            });\r\n            //修正全屏状态下插入的表格宽度在非全屏状态下撑开编辑器的情况\r\n            me.addListener(\"fullscreenchanged\", function(type, fullscreen) {\r\n                if (!fullscreen) {\r\n                    var ratio = this.body.offsetWidth / document.body.offsetWidth,\r\n                        tables = domUtils.getElementsByTagName(this.body, \"table\");\r\n                    utils.each(tables, function(table) {\r\n                        if (table.offsetWidth < me.body.offsetWidth) return false;\r\n                        var tds = domUtils.getElementsByTagName(table, \"td\"),\r\n                            backWidths = [];\r\n                        utils.each(tds, function(td) {\r\n                            backWidths.push(td.offsetWidth);\r\n                        });\r\n                        for (var i = 0, td; td = tds[i]; i++) {\r\n                            td.setAttribute(\"width\", Math.floor(backWidths[i] * ratio));\r\n                        }\r\n                        table.setAttribute(\"width\", Math.floor(getTableWidth(me, needIEHack, getDefaultValue(me))))\r\n                    });\r\n                }\r\n            });\r\n\r\n            //重写execCommand命令，用于处理框选时的处理\r\n            var oldExecCommand = me.execCommand;\r\n            me.execCommand = function(cmd, datatat) {\r\n\r\n                var me = this,\r\n                    args = arguments;\r\n\r\n                cmd = cmd.toLowerCase();\r\n                var ut = getUETableBySelected(me),\r\n                    tds,\r\n                    range = new dom.Range(me.document),\r\n                    cmdFun = me.commands[cmd] || UE.commands[cmd],\r\n                    result;\r\n                if (!cmdFun) return;\r\n                if (ut && !commands[cmd] && !cmdFun.notNeedUndo && !me.__hasEnterExecCommand) {\r\n                    me.__hasEnterExecCommand = true;\r\n                    me.fireEvent(\"beforeexeccommand\", cmd);\r\n                    tds = ut.selectedTds;\r\n                    var lastState = -2,\r\n                        lastValue = -2,\r\n                        value, state;\r\n                    for (var i = 0, td; td = tds[i]; i++) {\r\n                        if (isEmptyBlock(td)) {\r\n                            range.setStart(td, 0).setCursor(false, true)\r\n                        } else {\r\n                            range.selectNode(td).select(true);\r\n                        }\r\n                        state = me.queryCommandState(cmd);\r\n                        value = me.queryCommandValue(cmd);\r\n                        if (state != -1) {\r\n                            if (lastState !== state || lastValue !== value) {\r\n                                me._ignoreContentChange = true;\r\n                                result = oldExecCommand.apply(me, arguments);\r\n                                me._ignoreContentChange = false;\r\n\r\n                            }\r\n                            lastState = me.queryCommandState(cmd);\r\n                            lastValue = me.queryCommandValue(cmd);\r\n                            if (domUtils.isEmptyBlock(td)) {\r\n                                domUtils.fillNode(me.document, td)\r\n                            }\r\n                        }\r\n                    }\r\n                    range.setStart(tds[0], 0).shrinkBoundary(true).setCursor(false, true);\r\n                    me.fireEvent('contentchange');\r\n                    me.fireEvent(\"afterexeccommand\", cmd);\r\n                    me.__hasEnterExecCommand = false;\r\n                    me._selectionChange();\r\n                } else {\r\n                    result = oldExecCommand.apply(me, arguments);\r\n                }\r\n                return result;\r\n            };\r\n\r\n\r\n        });\r\n        /**\r\n         * 删除obj的宽高style，改成属性宽高\r\n         * @param obj\r\n         * @param replaceToProperty\r\n         */\r\n        function removeStyleSize(obj, replaceToProperty) {\r\n            removeStyle(obj, \"width\", true);\r\n            removeStyle(obj, \"height\", true);\r\n        }\r\n\r\n        function removeStyle(obj, styleName, replaceToProperty) {\r\n            if (obj.style[styleName]) {\r\n                replaceToProperty && obj.setAttribute(styleName, parseInt(obj.style[styleName], 10));\r\n                obj.style[styleName] = \"\";\r\n            }\r\n        }\r\n\r\n        function getParentTdOrTh(ele) {\r\n            if (ele.tagName == \"TD\" || ele.tagName == \"TH\") return ele;\r\n            var td;\r\n            if (td = domUtils.findParentByTagName(ele, \"td\", true) || domUtils.findParentByTagName(ele, \"th\", true)) return td;\r\n            return null;\r\n        }\r\n\r\n        function isEmptyBlock(node) {\r\n            var reg = new RegExp(domUtils.fillChar, 'g');\r\n            if (node[browser.ie ? 'innerText' : 'textContent'].replace(/^\\s*$/, '').replace(reg, '').length > 0) {\r\n                return 0;\r\n            }\r\n            for (var n in dtd.$isNotEmpty) {\r\n                if (node.getElementsByTagName(n).length) {\r\n                    return 0;\r\n                }\r\n            }\r\n            return 1;\r\n        }\r\n\r\n\r\n        function mouseCoords(evt) {\r\n            if (evt.pageX || evt.pageY) {\r\n                return { x: evt.pageX, y: evt.pageY };\r\n            }\r\n            return {\r\n                x: evt.clientX + me.document.body.scrollLeft - me.document.body.clientLeft,\r\n                y: evt.clientY + me.document.body.scrollTop - me.document.body.clientTop\r\n            };\r\n        }\r\n\r\n        function mouseMoveEvent(evt) {\r\n\r\n            if (isEditorDisabled()) {\r\n                return;\r\n            }\r\n\r\n            try {\r\n\r\n                //普通状态下鼠标移动\r\n                var target = getParentTdOrTh(evt.target || evt.srcElement),\r\n                    pos;\r\n\r\n                //区分用户的行为是拖动还是双击\r\n                if (isInResizeBuffer) {\r\n\r\n                    me.body.style.webkitUserSelect = 'none';\r\n\r\n                    if (Math.abs(userActionStatus.x - evt.clientX) > offsetOfTableCell || Math.abs(userActionStatus.y - evt.clientY) > offsetOfTableCell) {\r\n                        clearTableDragTimer();\r\n                        isInResizeBuffer = false;\r\n                        singleClickState = 0;\r\n                        //drag action\r\n                        tableBorderDrag(evt);\r\n                    }\r\n                }\r\n\r\n                //修改单元格大小时的鼠标移动\r\n                if (onDrag && dragTd) {\r\n                    singleClickState = 0;\r\n                    me.body.style.webkitUserSelect = 'none';\r\n                    me.selection.getNative()[browser.ie9below ? 'empty' : 'removeAllRanges']();\r\n                    pos = mouseCoords(evt);\r\n                    toggleDraggableState(me, true, onDrag, pos, target);\r\n                    if (onDrag == \"h\") {\r\n                        dragLine.style.left = getPermissionX(dragTd, evt) + \"px\";\r\n                    } else if (onDrag == \"v\") {\r\n                        dragLine.style.top = getPermissionY(dragTd, evt) + \"px\";\r\n                    }\r\n                    return;\r\n                }\r\n                //当鼠标处于table上时，修改移动过程中的光标状态\r\n                if (target) {\r\n                    //针对使用table作为容器的组件不触发拖拽效果\r\n                    if (me.fireEvent('excludetable', target) === true)\r\n                        return;\r\n                    pos = mouseCoords(evt);\r\n                    var state = getRelation(target, pos),\r\n                        table = domUtils.findParentByTagName(target, \"table\", true);\r\n\r\n                    if (inTableSide(table, target, evt, true)) {\r\n                        if (me.fireEvent(\"excludetable\", table) === true) return;\r\n                        me.body.style.cursor = \"url(\" + me.options.cursorpath + \"h.png),pointer\";\r\n                    } else if (inTableSide(table, target, evt)) {\r\n                        if (me.fireEvent(\"excludetable\", table) === true) return;\r\n                        me.body.style.cursor = \"url(\" + me.options.cursorpath + \"v.png),pointer\";\r\n                    } else {\r\n                        me.body.style.cursor = \"text\";\r\n                        var curCell = target;\r\n                        if (/\\d/.test(state)) {\r\n                            state = state.replace(/\\d/, '');\r\n                            target = getUETable(target).getPreviewCell(target, state == \"v\");\r\n                        }\r\n                        //位于第一行的顶部或者第一列的左边时不可拖动\r\n                        toggleDraggableState(me, target ? !!state : false, target ? state : '', pos, target);\r\n\r\n                    }\r\n                } else {\r\n                    toggleDragButton(false, table, me);\r\n                }\r\n\r\n            } catch (e) {\r\n                showError(e);\r\n            }\r\n        }\r\n\r\n        var dragButtonTimer;\r\n\r\n        function toggleDragButton(show, table, editor) {\r\n            if (!show) {\r\n                if (dragOver) return;\r\n                dragButtonTimer = setTimeout(function() {\r\n                    !dragOver && dragButton && dragButton.parentNode && dragButton.parentNode.removeChild(dragButton);\r\n                }, 2000);\r\n            } else {\r\n                createDragButton(table, editor);\r\n            }\r\n        }\r\n\r\n        function createDragButton(table, editor) {\r\n            var pos = domUtils.getXY(table),\r\n                doc = table.ownerDocument;\r\n            if (dragButton && dragButton.parentNode) return dragButton;\r\n            dragButton = doc.createElement(\"div\");\r\n            dragButton.contentEditable = false;\r\n            dragButton.innerHTML = \"\";\r\n            dragButton.style.cssText = \"width:15px;height:15px;background-image:url(\" + editor.options.UEDITOR_HOME_URL + \"dialogs/table/dragicon.png);position: absolute;cursor:move;top:\" + (pos.y - 15) + \"px;left:\" + (pos.x) + \"px;\";\r\n            domUtils.unSelectable(dragButton);\r\n            dragButton.onmouseover = function(evt) {\r\n                dragOver = true;\r\n            };\r\n            dragButton.onmouseout = function(evt) {\r\n                dragOver = false;\r\n            };\r\n            domUtils.on(dragButton, 'click', function(type, evt) {\r\n                doClick(evt, this);\r\n            });\r\n            domUtils.on(dragButton, 'dblclick', function(type, evt) {\r\n                doDblClick(evt);\r\n            });\r\n            domUtils.on(dragButton, 'dragstart', function(type, evt) {\r\n                domUtils.preventDefault(evt);\r\n            });\r\n            var timer;\r\n\r\n            function doClick(evt, button) {\r\n                // 部分浏览器下需要清理\r\n                clearTimeout(timer);\r\n                timer = setTimeout(function() {\r\n                    editor.fireEvent(\"tableClicked\", table, button);\r\n                }, 300);\r\n            }\r\n\r\n            function doDblClick(evt) {\r\n                clearTimeout(timer);\r\n                var ut = getUETable(table),\r\n                    start = table.rows[0].cells[0],\r\n                    end = ut.getLastCell(),\r\n                    range = ut.getCellsRange(start, end);\r\n                editor.selection.getRange().setStart(start, 0).setCursor(false, true);\r\n                ut.setSelected(range);\r\n            }\r\n\r\n            doc.body.appendChild(dragButton);\r\n        }\r\n\r\n\r\n        //    function inPosition(table, pos) {\r\n        //        var tablePos = domUtils.getXY(table),\r\n        //            width = table.offsetWidth,\r\n        //            height = table.offsetHeight;\r\n        //        if (pos.x - tablePos.x < 5 && pos.y - tablePos.y < 5) {\r\n        //            return \"topLeft\";\r\n        //        } else if (tablePos.x + width - pos.x < 5 && tablePos.y + height - pos.y < 5) {\r\n        //            return \"bottomRight\";\r\n        //        }\r\n        //    }\r\n\r\n        function inTableSide(table, cell, evt, top) {\r\n            var pos = mouseCoords(evt),\r\n                state = getRelation(cell, pos);\r\n\r\n            if (top) {\r\n                var caption = table.getElementsByTagName(\"caption\")[0],\r\n                    capHeight = caption ? caption.offsetHeight : 0;\r\n                return (state == \"v1\") && ((pos.y - domUtils.getXY(table).y - capHeight) < 8);\r\n            } else {\r\n                return (state == \"h1\") && ((pos.x - domUtils.getXY(table).x) < 8);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 获取拖动时允许的X轴坐标\r\n         * @param dragTd\r\n         * @param evt\r\n         */\r\n        function getPermissionX(dragTd, evt) {\r\n            var ut = getUETable(dragTd);\r\n            if (ut) {\r\n                var preTd = ut.getSameEndPosCells(dragTd, \"x\")[0],\r\n                    nextTd = ut.getSameStartPosXCells(dragTd)[0],\r\n                    mouseX = mouseCoords(evt).x,\r\n                    left = (preTd ? domUtils.getXY(preTd).x : domUtils.getXY(ut.table).x) + 20,\r\n                    right = nextTd ? domUtils.getXY(nextTd).x + nextTd.offsetWidth - 20 : (me.body.offsetWidth + 5 || parseInt(domUtils.getComputedStyle(me.body, \"width\"), 10));\r\n\r\n                left += cellMinWidth;\r\n                right -= cellMinWidth;\r\n\r\n                return mouseX < left ? left : mouseX > right ? right : mouseX;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 获取拖动时允许的Y轴坐标\r\n         */\r\n        function getPermissionY(dragTd, evt) {\r\n            try {\r\n                var top = domUtils.getXY(dragTd).y,\r\n                    mousePosY = mouseCoords(evt).y;\r\n                return mousePosY < top ? top : mousePosY;\r\n            } catch (e) {\r\n                showError(e);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 移动状态切换\r\n         */\r\n        function toggleDraggableState(editor, draggable, dir, mousePos, cell) {\r\n            try {\r\n                editor.body.style.cursor = dir == \"h\" ? \"col-resize\" : dir == \"v\" ? \"row-resize\" : \"text\";\r\n                if (browser.ie) {\r\n                    if (dir && !mousedown && !getUETableBySelected(editor)) {\r\n                        getDragLine(editor, editor.document);\r\n                        showDragLineAt(dir, cell);\r\n                    } else {\r\n                        hideDragLine(editor)\r\n                    }\r\n                }\r\n                onBorder = draggable;\r\n            } catch (e) {\r\n                showError(e);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 获取与UETable相关的resize line\r\n         * @param uetable UETable对象\r\n         */\r\n        function getResizeLineByUETable() {\r\n\r\n            var lineId = '_UETableResizeLine',\r\n                line = this.document.getElementById(lineId);\r\n\r\n            if (!line) {\r\n                line = this.document.createElement(\"div\");\r\n                line.id = lineId;\r\n                line.contnetEditable = false;\r\n                line.setAttribute(\"unselectable\", \"on\");\r\n\r\n                var styles = {\r\n                    width: 2 * cellBorderWidth + 1 + 'px',\r\n                    position: 'absolute',\r\n                    'z-index': 100000,\r\n                    cursor: 'col-resize',\r\n                    background: 'red',\r\n                    display: 'none'\r\n                };\r\n\r\n                //切换状态\r\n                line.onmouseout = function() {\r\n                    this.style.display = 'none';\r\n                };\r\n\r\n                utils.extend(line.style, styles);\r\n\r\n                this.document.body.appendChild(line);\r\n\r\n            }\r\n\r\n            return line;\r\n\r\n        }\r\n\r\n        /**\r\n         * 更新resize-line\r\n         */\r\n        function updateResizeLine(cell, uetable) {\r\n\r\n            var line = getResizeLineByUETable.call(this),\r\n                table = uetable.table,\r\n                styles = {\r\n                    top: domUtils.getXY(table).y + 'px',\r\n                    left: domUtils.getXY(cell).x + cell.offsetWidth - cellBorderWidth + 'px',\r\n                    display: 'block',\r\n                    height: table.offsetHeight + 'px'\r\n                };\r\n\r\n            utils.extend(line.style, styles);\r\n\r\n        }\r\n\r\n        /**\r\n         * 显示resize-line\r\n         */\r\n        function showResizeLine(cell) {\r\n\r\n            var uetable = getUETable(cell);\r\n\r\n            updateResizeLine.call(this, cell, uetable);\r\n\r\n        }\r\n\r\n        /**\r\n         * 获取鼠标与当前单元格的相对位置\r\n         * @param ele\r\n         * @param mousePos\r\n         */\r\n        function getRelation(ele, mousePos) {\r\n            var elePos = domUtils.getXY(ele);\r\n\r\n            if (!elePos) {\r\n                return '';\r\n            }\r\n\r\n            if (elePos.x + ele.offsetWidth - mousePos.x < cellBorderWidth) {\r\n                return \"h\";\r\n            }\r\n            if (mousePos.x - elePos.x < cellBorderWidth) {\r\n                return 'h1'\r\n            }\r\n            if (elePos.y + ele.offsetHeight - mousePos.y < cellBorderWidth) {\r\n                return \"v\";\r\n            }\r\n            if (mousePos.y - elePos.y < cellBorderWidth) {\r\n                return 'v1'\r\n            }\r\n            return '';\r\n        }\r\n\r\n        function mouseDownEvent(type, evt) {\r\n\r\n            if (isEditorDisabled()) {\r\n                return;\r\n            }\r\n\r\n            userActionStatus = {\r\n                x: evt.clientX,\r\n                y: evt.clientY\r\n            };\r\n\r\n            //右键菜单单独处理\r\n            if (evt.button == 2) {\r\n                var ut = getUETableBySelected(me),\r\n                    flag = false;\r\n\r\n                if (ut) {\r\n                    var td = getTargetTd(me, evt);\r\n                    utils.each(ut.selectedTds, function(ti) {\r\n                        if (ti === td) {\r\n                            flag = true;\r\n                        }\r\n                    });\r\n                    if (!flag) {\r\n                        removeSelectedClass(domUtils.getElementsByTagName(me.body, \"th td\"));\r\n                        ut.clearSelected()\r\n                    } else {\r\n                        td = ut.selectedTds[0];\r\n                        setTimeout(function() {\r\n                            me.selection.getRange().setStart(td, 0).setCursor(false, true);\r\n                        }, 0);\r\n\r\n                    }\r\n                }\r\n            } else {\r\n                tableClickHander(evt);\r\n            }\r\n\r\n        }\r\n\r\n        //清除表格的计时器\r\n        function clearTableTimer() {\r\n            tabTimer && clearTimeout(tabTimer);\r\n            tabTimer = null;\r\n        }\r\n\r\n        //双击收缩\r\n        function tableDbclickHandler(evt) {\r\n            singleClickState = 0;\r\n            evt = evt || me.window.event;\r\n            var target = getParentTdOrTh(evt.target || evt.srcElement);\r\n            if (target) {\r\n                var h;\r\n                if (h = getRelation(target, mouseCoords(evt))) {\r\n\r\n                    hideDragLine(me);\r\n\r\n                    if (h == 'h1') {\r\n                        h = 'h';\r\n                        if (inTableSide(domUtils.findParentByTagName(target, \"table\"), target, evt)) {\r\n                            me.execCommand('adaptbywindow');\r\n                        } else {\r\n                            target = getUETable(target).getPreviewCell(target);\r\n                            if (target) {\r\n                                var rng = me.selection.getRange();\r\n                                rng.selectNodeContents(target).setCursor(true, true)\r\n                            }\r\n                        }\r\n                    }\r\n                    if (h == 'h') {\r\n                        var ut = getUETable(target),\r\n                            table = ut.table,\r\n                            cells = getCellsByMoveBorder(target, table, true);\r\n\r\n                        cells = extractArray(cells, 'left');\r\n\r\n                        ut.width = ut.offsetWidth;\r\n\r\n                        var oldWidth = [],\r\n                            newWidth = [];\r\n\r\n                        utils.each(cells, function(cell) {\r\n\r\n                            oldWidth.push(cell.offsetWidth);\r\n\r\n                        });\r\n\r\n                        utils.each(cells, function(cell) {\r\n\r\n                            cell.removeAttribute(\"width\");\r\n\r\n                        });\r\n\r\n                        window.setTimeout(function() {\r\n\r\n                            //是否允许改变\r\n                            var changeable = true;\r\n\r\n                            utils.each(cells, function(cell, index) {\r\n\r\n                                var width = cell.offsetWidth;\r\n\r\n                                if (width > oldWidth[index]) {\r\n                                    changeable = false;\r\n                                    return false;\r\n                                }\r\n\r\n                                newWidth.push(width);\r\n\r\n                            });\r\n\r\n                            var change = changeable ? newWidth : oldWidth;\r\n\r\n                            utils.each(cells, function(cell, index) {\r\n\r\n                                cell.width = change[index] - getTabcellSpace();\r\n\r\n                            });\r\n\r\n\r\n                        }, 0);\r\n\r\n                        //                    minWidth -= cellMinWidth;\r\n                        //\r\n                        //                    table.removeAttribute(\"width\");\r\n                        //                    utils.each(cells, function (cell) {\r\n                        //                        cell.style.width = \"\";\r\n                        //                        cell.width -= minWidth;\r\n                        //                    });\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        function tableClickHander(evt) {\r\n\r\n            removeSelectedClass(domUtils.getElementsByTagName(me.body, \"td th\"));\r\n            //trace:3113\r\n            //选中单元格，点击table外部，不会清掉table上挂的ueTable,会引起getUETableBySelected方法返回值\r\n            utils.each(me.document.getElementsByTagName('table'), function(t) {\r\n                t.ueTable = null;\r\n            });\r\n            startTd = getTargetTd(me, evt);\r\n            if (!startTd) return;\r\n            var table = domUtils.findParentByTagName(startTd, \"table\", true);\r\n            ut = getUETable(table);\r\n            ut && ut.clearSelected();\r\n\r\n            //判断当前鼠标状态\r\n            if (!onBorder) {\r\n                me.document.body.style.webkitUserSelect = '';\r\n                mousedown = true;\r\n                me.addListener('mouseover', mouseOverEvent);\r\n            } else {\r\n                //边框上的动作处理\r\n                borderActionHandler(evt);\r\n            }\r\n\r\n\r\n        }\r\n\r\n        //处理表格边框上的动作, 这里做延时处理，避免两种动作互相影响\r\n        function borderActionHandler(evt) {\r\n\r\n            if (browser.ie) {\r\n                evt = reconstruct(evt);\r\n            }\r\n\r\n            clearTableDragTimer();\r\n\r\n            //是否正在等待resize的缓冲中\r\n            isInResizeBuffer = true;\r\n\r\n            tableDragTimer = setTimeout(function() {\r\n                tableBorderDrag(evt);\r\n            }, dblclickTime);\r\n\r\n        }\r\n\r\n        function extractArray(originArr, key) {\r\n\r\n            var result = [],\r\n                tmp = null;\r\n\r\n            for (var i = 0, len = originArr.length; i < len; i++) {\r\n\r\n                tmp = originArr[i][key];\r\n\r\n                if (tmp) {\r\n                    result.push(tmp);\r\n                }\r\n\r\n            }\r\n\r\n            return result;\r\n\r\n        }\r\n\r\n        function clearTableDragTimer() {\r\n            tableDragTimer && clearTimeout(tableDragTimer);\r\n            tableDragTimer = null;\r\n        }\r\n\r\n        function reconstruct(obj) {\r\n\r\n            var attrs = ['pageX', 'pageY', 'clientX', 'clientY', 'srcElement', 'target'],\r\n                newObj = {};\r\n\r\n            if (obj) {\r\n\r\n                for (var i = 0, key, val; key = attrs[i]; i++) {\r\n                    val = obj[key];\r\n                    val && (newObj[key] = val);\r\n                }\r\n\r\n            }\r\n\r\n            return newObj;\r\n\r\n        }\r\n\r\n        //边框拖动\r\n        function tableBorderDrag(evt) {\r\n\r\n            isInResizeBuffer = false;\r\n\r\n            startTd = evt.target || evt.srcElement;\r\n            if (!startTd) return;\r\n            var state = getRelation(startTd, mouseCoords(evt));\r\n            if (/\\d/.test(state)) {\r\n                state = state.replace(/\\d/, '');\r\n                startTd = getUETable(startTd).getPreviewCell(startTd, state == 'v');\r\n            }\r\n            hideDragLine(me);\r\n            getDragLine(me, me.document);\r\n            me.fireEvent('saveScene');\r\n            showDragLineAt(state, startTd);\r\n            mousedown = true;\r\n            //拖动开始\r\n            onDrag = state;\r\n            dragTd = startTd;\r\n        }\r\n\r\n        function mouseUpEvent(type, evt) {\r\n\r\n            if (isEditorDisabled()) {\r\n                return;\r\n            }\r\n\r\n            clearTableDragTimer();\r\n\r\n            isInResizeBuffer = false;\r\n\r\n            if (onBorder) {\r\n                singleClickState = ++singleClickState % 3;\r\n\r\n                userActionStatus = {\r\n                    x: evt.clientX,\r\n                    y: evt.clientY\r\n                };\r\n\r\n                tableResizeTimer = setTimeout(function() {\r\n                    singleClickState > 0 && singleClickState--;\r\n                }, dblclickTime);\r\n\r\n                if (singleClickState === 2) {\r\n\r\n                    singleClickState = 0;\r\n                    tableDbclickHandler(evt);\r\n                    return;\r\n\r\n                }\r\n\r\n            }\r\n\r\n            if (evt.button == 2) return;\r\n            var me = this;\r\n            //清除表格上原生跨选问题\r\n            var range = me.selection.getRange(),\r\n                start = domUtils.findParentByTagName(range.startContainer, 'table', true),\r\n                end = domUtils.findParentByTagName(range.endContainer, 'table', true);\r\n\r\n            if (start || end) {\r\n                if (start === end) {\r\n                    start = domUtils.findParentByTagName(range.startContainer, ['td', 'th', 'caption'], true);\r\n                    end = domUtils.findParentByTagName(range.endContainer, ['td', 'th', 'caption'], true);\r\n                    if (start !== end) {\r\n                        me.selection.clearRange()\r\n                    }\r\n                } else {\r\n                    me.selection.clearRange()\r\n                }\r\n            }\r\n            mousedown = false;\r\n            me.document.body.style.webkitUserSelect = '';\r\n            //拖拽状态下的mouseUP\r\n            if (onDrag && dragTd) {\r\n\r\n                me.selection.getNative()[browser.ie9below ? 'empty' : 'removeAllRanges']();\r\n\r\n                singleClickState = 0;\r\n                dragLine = me.document.getElementById('ue_tableDragLine');\r\n\r\n                // trace 3973\r\n                if (dragLine) {\r\n                    var dragTdPos = domUtils.getXY(dragTd),\r\n                        dragLinePos = domUtils.getXY(dragLine);\r\n\r\n                    switch (onDrag) {\r\n                        case \"h\":\r\n                            changeColWidth(dragTd, dragLinePos.x - dragTdPos.x);\r\n                            break;\r\n                        case \"v\":\r\n                            changeRowHeight(dragTd, dragLinePos.y - dragTdPos.y - dragTd.offsetHeight);\r\n                            break;\r\n                        default:\r\n                    }\r\n                    onDrag = \"\";\r\n                    dragTd = null;\r\n\r\n                    hideDragLine(me);\r\n                    me.fireEvent('saveScene');\r\n                    return;\r\n                }\r\n            }\r\n            //正常状态下的mouseup\r\n            if (!startTd) {\r\n                var target = domUtils.findParentByTagName(evt.target || evt.srcElement, \"td\", true);\r\n                if (!target) target = domUtils.findParentByTagName(evt.target || evt.srcElement, \"th\", true);\r\n                if (target && (target.tagName == \"TD\" || target.tagName == \"TH\")) {\r\n                    if (me.fireEvent(\"excludetable\", target) === true) return;\r\n                    range = new dom.Range(me.document);\r\n                    range.setStart(target, 0).setCursor(false, true);\r\n                }\r\n            } else {\r\n                var ut = getUETable(startTd),\r\n                    cell = ut ? ut.selectedTds[0] : null;\r\n                if (cell) {\r\n                    range = new dom.Range(me.document);\r\n                    if (domUtils.isEmptyBlock(cell)) {\r\n                        range.setStart(cell, 0).setCursor(false, true);\r\n                    } else {\r\n                        range.selectNodeContents(cell).shrinkBoundary().setCursor(false, true);\r\n                    }\r\n                } else {\r\n                    range = me.selection.getRange().shrinkBoundary();\r\n                    if (!range.collapsed) {\r\n                        var start = domUtils.findParentByTagName(range.startContainer, ['td', 'th'], true),\r\n                            end = domUtils.findParentByTagName(range.endContainer, ['td', 'th'], true);\r\n                        //在table里边的不能清除\r\n                        if (start && !end || !start && end || start && end && start !== end) {\r\n                            range.setCursor(false, true);\r\n                        }\r\n                    }\r\n                }\r\n                startTd = null;\r\n                me.removeListener('mouseover', mouseOverEvent);\r\n            }\r\n            me._selectionChange(250, evt);\r\n        }\r\n\r\n        function mouseOverEvent(type, evt) {\r\n\r\n            if (isEditorDisabled()) {\r\n                return;\r\n            }\r\n\r\n            var me = this,\r\n                tar = evt.target || evt.srcElement;\r\n            currentTd = domUtils.findParentByTagName(tar, \"td\", true) || domUtils.findParentByTagName(tar, \"th\", true);\r\n            //需要判断两个TD是否位于同一个表格内\r\n            if (startTd && currentTd &&\r\n                ((startTd.tagName == \"TD\" && currentTd.tagName == \"TD\") || (startTd.tagName == \"TH\" && currentTd.tagName == \"TH\")) &&\r\n                domUtils.findParentByTagName(startTd, 'table') == domUtils.findParentByTagName(currentTd, 'table')) {\r\n                var ut = getUETable(currentTd);\r\n                if (startTd != currentTd) {\r\n                    me.document.body.style.webkitUserSelect = 'none';\r\n                    me.selection.getNative()[browser.ie9below ? 'empty' : 'removeAllRanges']();\r\n                    var range = ut.getCellsRange(startTd, currentTd);\r\n                    ut.setSelected(range);\r\n                } else {\r\n                    me.document.body.style.webkitUserSelect = '';\r\n                    ut.clearSelected();\r\n                }\r\n\r\n            }\r\n            evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\r\n        }\r\n\r\n        function setCellHeight(cell, height, backHeight) {\r\n            var lineHight = parseInt(domUtils.getComputedStyle(cell, \"line-height\"), 10),\r\n                tmpHeight = backHeight + height;\r\n            height = tmpHeight < lineHight ? lineHight : tmpHeight;\r\n            if (cell.style.height) cell.style.height = \"\";\r\n            cell.rowSpan == 1 ? cell.setAttribute(\"height\", height) : (cell.removeAttribute && cell.removeAttribute(\"height\"));\r\n        }\r\n\r\n        function getWidth(cell) {\r\n            if (!cell) return 0;\r\n            return parseInt(domUtils.getComputedStyle(cell, \"width\"), 10);\r\n        }\r\n\r\n        function changeColWidth(cell, changeValue) {\r\n\r\n            var ut = getUETable(cell);\r\n            if (ut) {\r\n\r\n                //根据当前移动的边框获取相关的单元格\r\n                var table = ut.table,\r\n                    cells = getCellsByMoveBorder(cell, table);\r\n\r\n                table.style.width = \"\";\r\n                table.removeAttribute(\"width\");\r\n\r\n                //修正改变量\r\n                changeValue = correctChangeValue(changeValue, cell, cells);\r\n\r\n                if (cell.nextSibling) {\r\n\r\n                    var i = 0;\r\n\r\n                    utils.each(cells, function(cellGroup) {\r\n\r\n                        cellGroup.left.width = (+cellGroup.left.width) + changeValue;\r\n                        cellGroup.right && (cellGroup.right.width = (+cellGroup.right.width) - changeValue);\r\n\r\n                    });\r\n\r\n                } else {\r\n\r\n                    utils.each(cells, function(cellGroup) {\r\n                        cellGroup.left.width -= -changeValue;\r\n                    });\r\n\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        function isEditorDisabled() {\r\n            return me.body.contentEditable === \"false\";\r\n        }\r\n\r\n        function changeRowHeight(td, changeValue) {\r\n            if (Math.abs(changeValue) < 10) return;\r\n            var ut = getUETable(td);\r\n            if (ut) {\r\n                var cells = ut.getSameEndPosCells(td, \"y\"),\r\n                    //备份需要连带变化的td的原始高度，否则后期无法获取正确的值\r\n                    backHeight = cells[0] ? cells[0].offsetHeight : 0;\r\n                for (var i = 0, cell; cell = cells[i++];) {\r\n                    setCellHeight(cell, changeValue, backHeight);\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        /**\r\n         * 获取调整单元格大小的相关单元格\r\n         * @isContainMergeCell 返回的结果中是否包含发生合并后的单元格\r\n         */\r\n        function getCellsByMoveBorder(cell, table, isContainMergeCell) {\r\n\r\n            if (!table) {\r\n                table = domUtils.findParentByTagName(cell, 'table');\r\n            }\r\n\r\n            if (!table) {\r\n                return null;\r\n            }\r\n\r\n            //获取到该单元格所在行的序列号\r\n            var index = domUtils.getNodeIndex(cell),\r\n                temp = cell,\r\n                rows = table.rows,\r\n                colIndex = 0;\r\n\r\n            while (temp) {\r\n                //获取到当前单元格在未发生单元格合并时的序列\r\n                if (temp.nodeType === 1) {\r\n                    colIndex += (temp.colSpan || 1);\r\n                }\r\n                temp = temp.previousSibling;\r\n            }\r\n\r\n            temp = null;\r\n\r\n            //记录想关的单元格\r\n            var borderCells = [];\r\n\r\n            utils.each(rows, function(tabRow) {\r\n\r\n                var cells = tabRow.cells,\r\n                    currIndex = 0;\r\n\r\n                utils.each(cells, function(tabCell) {\r\n\r\n                    currIndex += (tabCell.colSpan || 1);\r\n\r\n                    if (currIndex === colIndex) {\r\n\r\n                        borderCells.push({\r\n                            left: tabCell,\r\n                            right: tabCell.nextSibling || null\r\n                        });\r\n\r\n                        return false;\r\n\r\n                    } else if (currIndex > colIndex) {\r\n\r\n                        if (isContainMergeCell) {\r\n                            borderCells.push({\r\n                                left: tabCell\r\n                            });\r\n                        }\r\n\r\n                        return false;\r\n                    }\r\n\r\n\r\n                });\r\n\r\n            });\r\n\r\n            return borderCells;\r\n\r\n        }\r\n\r\n\r\n        /**\r\n         * 通过给定的单元格集合获取最小的单元格width\r\n         */\r\n        function getMinWidthByTableCells(cells) {\r\n\r\n            var minWidth = Number.MAX_VALUE;\r\n\r\n            for (var i = 0, curCell; curCell = cells[i]; i++) {\r\n\r\n                minWidth = Math.min(minWidth, curCell.width || getTableCellWidth(curCell));\r\n\r\n            }\r\n\r\n            return minWidth;\r\n\r\n        }\r\n\r\n        function correctChangeValue(changeValue, relatedCell, cells) {\r\n\r\n            //为单元格的paading预留空间\r\n            changeValue -= getTabcellSpace();\r\n\r\n            if (changeValue < 0) {\r\n                return 0;\r\n            }\r\n\r\n            changeValue -= getTableCellWidth(relatedCell);\r\n\r\n            //确定方向\r\n            var direction = changeValue < 0 ? 'left' : 'right';\r\n\r\n            changeValue = Math.abs(changeValue);\r\n\r\n            //只关心非最后一个单元格就可以\r\n            utils.each(cells, function(cellGroup) {\r\n\r\n                var curCell = cellGroup[direction];\r\n\r\n                //为单元格保留最小空间\r\n                if (curCell) {\r\n                    changeValue = Math.min(changeValue, getTableCellWidth(curCell) - cellMinWidth);\r\n                }\r\n\r\n\r\n            });\r\n\r\n\r\n            //修正越界\r\n            changeValue = changeValue < 0 ? 0 : changeValue;\r\n\r\n            return direction === 'left' ? -changeValue : changeValue;\r\n\r\n        }\r\n\r\n        function getTableCellWidth(cell) {\r\n\r\n            var width = 0,\r\n                //偏移纠正量\r\n                offset = 0,\r\n                width = cell.offsetWidth - getTabcellSpace();\r\n\r\n            //最后一个节点纠正一下\r\n            if (!cell.nextSibling) {\r\n\r\n                width -= getTableCellOffset(cell);\r\n\r\n            }\r\n\r\n            width = width < 0 ? 0 : width;\r\n\r\n            try {\r\n                cell.width = width;\r\n            } catch (e) {}\r\n\r\n            return width;\r\n\r\n        }\r\n\r\n        /**\r\n         * 获取单元格所在表格的最末单元格的偏移量\r\n         */\r\n        function getTableCellOffset(cell) {\r\n\r\n            tab = domUtils.findParentByTagName(cell, \"table\", false);\r\n\r\n            if (tab.offsetVal === undefined) {\r\n\r\n                var prev = cell.previousSibling;\r\n\r\n                if (prev) {\r\n\r\n                    //最后一个单元格和前一个单元格的width diff结果 如果恰好为一个border width， 则条件成立\r\n                    tab.offsetVal = cell.offsetWidth - prev.offsetWidth === UT.borderWidth ? UT.borderWidth : 0;\r\n\r\n                } else {\r\n                    tab.offsetVal = 0;\r\n                }\r\n\r\n            }\r\n\r\n            return tab.offsetVal;\r\n\r\n        }\r\n\r\n        function getTabcellSpace() {\r\n\r\n            if (UT.tabcellSpace === undefined) {\r\n\r\n                var cell = null,\r\n                    tab = me.document.createElement(\"table\"),\r\n                    tbody = me.document.createElement(\"tbody\"),\r\n                    trow = me.document.createElement(\"tr\"),\r\n                    tabcell = me.document.createElement(\"td\"),\r\n                    mirror = null;\r\n\r\n                tabcell.style.cssText = 'border: 0;';\r\n                tabcell.width = 1;\r\n\r\n                trow.appendChild(tabcell);\r\n                trow.appendChild(mirror = tabcell.cloneNode(false));\r\n\r\n                tbody.appendChild(trow);\r\n\r\n                tab.appendChild(tbody);\r\n\r\n                tab.style.cssText = \"visibility: hidden;\";\r\n\r\n                me.body.appendChild(tab);\r\n\r\n                UT.paddingSpace = tabcell.offsetWidth - 1;\r\n\r\n                var tmpTabWidth = tab.offsetWidth;\r\n\r\n                tabcell.style.cssText = '';\r\n                mirror.style.cssText = '';\r\n\r\n                UT.borderWidth = (tab.offsetWidth - tmpTabWidth) / 3;\r\n\r\n                UT.tabcellSpace = UT.paddingSpace + UT.borderWidth;\r\n\r\n                me.body.removeChild(tab);\r\n\r\n            }\r\n\r\n            getTabcellSpace = function() { return UT.tabcellSpace; };\r\n\r\n            return UT.tabcellSpace;\r\n\r\n        }\r\n\r\n        function getDragLine(editor, doc) {\r\n            if (mousedown) return;\r\n            dragLine = editor.document.createElement(\"div\");\r\n            domUtils.setAttributes(dragLine, {\r\n                id: \"ue_tableDragLine\",\r\n                unselectable: 'on',\r\n                contenteditable: false,\r\n                'onresizestart': 'return false',\r\n                'ondragstart': 'return false',\r\n                'onselectstart': 'return false',\r\n                style: \"background-color:blue;position:absolute;padding:0;margin:0;background-image:none;border:0px none;opacity:0;filter:alpha(opacity=0)\"\r\n            });\r\n            editor.body.appendChild(dragLine);\r\n        }\r\n\r\n        function hideDragLine(editor) {\r\n            if (mousedown) return;\r\n            var line;\r\n            while (line = editor.document.getElementById('ue_tableDragLine')) {\r\n                domUtils.remove(line)\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 依据state（v|h）在cell位置显示横线\r\n         * @param state\r\n         * @param cell\r\n         */\r\n        function showDragLineAt(state, cell) {\r\n            if (!cell) return;\r\n            var table = domUtils.findParentByTagName(cell, \"table\"),\r\n                caption = table.getElementsByTagName('caption'),\r\n                width = table.offsetWidth,\r\n                height = table.offsetHeight - (caption.length > 0 ? caption[0].offsetHeight : 0),\r\n                tablePos = domUtils.getXY(table),\r\n                cellPos = domUtils.getXY(cell),\r\n                css;\r\n            switch (state) {\r\n                case \"h\":\r\n                    css = 'height:' + height + 'px;top:' + (tablePos.y + (caption.length > 0 ? caption[0].offsetHeight : 0)) + 'px;left:' + (cellPos.x + cell.offsetWidth);\r\n                    dragLine.style.cssText = css + 'px;position: absolute;display:block;background-color:blue;width:1px;border:0; color:blue;opacity:.3;filter:alpha(opacity=30)';\r\n                    break;\r\n                case \"v\":\r\n                    css = 'width:' + width + 'px;left:' + tablePos.x + 'px;top:' + (cellPos.y + cell.offsetHeight);\r\n                    //必须加上border:0和color:blue，否则低版ie不支持背景色显示\r\n                    dragLine.style.cssText = css + 'px;overflow:hidden;position: absolute;display:block;background-color:blue;height:1px;border:0;color:blue;opacity:.2;filter:alpha(opacity=20)';\r\n                    break;\r\n                default:\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 当表格边框颜色为白色时设置为虚线,true为添加虚线\r\n         * @param editor\r\n         * @param flag\r\n         */\r\n        function switchBorderColor(editor, flag) {\r\n            var tableArr = domUtils.getElementsByTagName(editor.body, \"table\"),\r\n                color;\r\n            for (var i = 0, node; node = tableArr[i++];) {\r\n                var td = domUtils.getElementsByTagName(node, \"td\");\r\n                if (td[0]) {\r\n                    if (flag) {\r\n                        color = (td[0].style.borderColor).replace(/\\s/g, \"\");\r\n                        if (/(#ffffff)|(rgb\\(255,255,255\\))/ig.test(color))\r\n                            domUtils.addClass(node, \"noBorderTable\")\r\n                    } else {\r\n                        domUtils.removeClasses(node, \"noBorderTable\")\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        function getTableWidth(editor, needIEHack, defaultValue) {\r\n            var body = editor.body;\r\n            return body.offsetWidth - (needIEHack ? parseInt(domUtils.getComputedStyle(body, 'margin-left'), 10) * 2 : 0) - defaultValue.tableBorder * 2 - (editor.options.offsetWidth || 0);\r\n        }\r\n\r\n        /**\r\n         * 获取当前拖动的单元格\r\n         */\r\n        function getTargetTd(editor, evt) {\r\n\r\n            var target = domUtils.findParentByTagName(evt.target || evt.srcElement, [\"td\", \"th\"], true),\r\n                dir = null;\r\n\r\n            if (!target) {\r\n                return null;\r\n            }\r\n\r\n            dir = getRelation(target, mouseCoords(evt));\r\n\r\n            //如果有前一个节点， 需要做一个修正， 否则可能会得到一个错误的td\r\n\r\n            if (!target) {\r\n                return null;\r\n            }\r\n\r\n            if (dir === 'h1' && target.previousSibling) {\r\n\r\n                var position = domUtils.getXY(target),\r\n                    cellWidth = target.offsetWidth;\r\n\r\n                if (Math.abs(position.x + cellWidth - evt.clientX) > cellWidth / 3) {\r\n                    target = target.previousSibling;\r\n                }\r\n\r\n            } else if (dir === 'v1' && target.parentNode.previousSibling) {\r\n\r\n                var position = domUtils.getXY(target),\r\n                    cellHeight = target.offsetHeight;\r\n\r\n                if (Math.abs(position.y + cellHeight - evt.clientY) > cellHeight / 3) {\r\n                    target = target.parentNode.previousSibling.firstChild;\r\n                }\r\n\r\n            }\r\n\r\n\r\n            //排除了非td内部以及用于代码高亮部分的td\r\n            return target && !(editor.fireEvent(\"excludetable\", target) === true) ? target : null;\r\n        }\r\n\r\n    };\r\n\r\n\r\n    // plugins/table.sort.js\r\n    /**\r\n     * Created with JetBrains PhpStorm.\r\n     * User: Jinqn\r\n     * Date: 13-10-12\r\n     * Time: 上午10:20\r\n     * To change this template use File | Settings | File Templates.\r\n     */\r\n\r\n    UE.UETable.prototype.sortTable = function(sortByCellIndex, compareFn) {\r\n        var table = this.table,\r\n            rows = table.rows,\r\n            trArray = [],\r\n            flag = rows[0].cells[0].tagName === \"TH\",\r\n            lastRowIndex = 0;\r\n        if (this.selectedTds.length) {\r\n            var range = this.cellsRange,\r\n                len = range.endRowIndex + 1;\r\n            for (var i = range.beginRowIndex; i < len; i++) {\r\n                trArray[i] = rows[i];\r\n            }\r\n            trArray.splice(0, range.beginRowIndex);\r\n            lastRowIndex = (range.endRowIndex + 1) === this.rowsNum ? 0 : range.endRowIndex + 1;\r\n        } else {\r\n            for (var i = 0, len = rows.length; i < len; i++) {\r\n                trArray[i] = rows[i];\r\n            }\r\n        }\r\n\r\n        var Fn = {\r\n            'reversecurrent': function(td1, td2) {\r\n                return 1;\r\n            },\r\n            'orderbyasc': function(td1, td2) {\r\n                var value1 = td1.innerText || td1.textContent,\r\n                    value2 = td2.innerText || td2.textContent;\r\n                return value1.localeCompare(value2);\r\n            },\r\n            'reversebyasc': function(td1, td2) {\r\n                var value1 = td1.innerHTML,\r\n                    value2 = td2.innerHTML;\r\n                return value2.localeCompare(value1);\r\n            },\r\n            'orderbynum': function(td1, td2) {\r\n                var value1 = td1[browser.ie ? 'innerText' : 'textContent'].match(/\\d+/),\r\n                    value2 = td2[browser.ie ? 'innerText' : 'textContent'].match(/\\d+/);\r\n                if (value1) value1 = +value1[0];\r\n                if (value2) value2 = +value2[0];\r\n                return (value1 || 0) - (value2 || 0);\r\n            },\r\n            'reversebynum': function(td1, td2) {\r\n                var value1 = td1[browser.ie ? 'innerText' : 'textContent'].match(/\\d+/),\r\n                    value2 = td2[browser.ie ? 'innerText' : 'textContent'].match(/\\d+/);\r\n                if (value1) value1 = +value1[0];\r\n                if (value2) value2 = +value2[0];\r\n                return (value2 || 0) - (value1 || 0);\r\n            }\r\n        };\r\n\r\n        //对表格设置排序的标记data-sort-type\r\n        table.setAttribute('data-sort-type', compareFn && typeof compareFn === \"string\" && Fn[compareFn] ? compareFn : '');\r\n\r\n        //th不参与排序\r\n        flag && trArray.splice(0, 1);\r\n        trArray = utils.sort(trArray, function(tr1, tr2) {\r\n            var result;\r\n            if (compareFn && typeof compareFn === \"function\") {\r\n                result = compareFn.call(this, tr1.cells[sortByCellIndex], tr2.cells[sortByCellIndex]);\r\n            } else if (compareFn && typeof compareFn === \"number\") {\r\n                result = 1;\r\n            } else if (compareFn && typeof compareFn === \"string\" && Fn[compareFn]) {\r\n                result = Fn[compareFn].call(this, tr1.cells[sortByCellIndex], tr2.cells[sortByCellIndex]);\r\n            } else {\r\n                result = Fn['orderbyasc'].call(this, tr1.cells[sortByCellIndex], tr2.cells[sortByCellIndex]);\r\n            }\r\n            return result;\r\n        });\r\n        var fragment = table.ownerDocument.createDocumentFragment();\r\n        for (var j = 0, len = trArray.length; j < len; j++) {\r\n            fragment.appendChild(trArray[j]);\r\n        }\r\n        var tbody = table.getElementsByTagName(\"tbody\")[0];\r\n        if (!lastRowIndex) {\r\n            tbody.appendChild(fragment);\r\n        } else {\r\n            tbody.insertBefore(fragment, rows[lastRowIndex - range.endRowIndex + range.beginRowIndex - 1])\r\n        }\r\n    };\r\n\r\n    UE.plugins['tablesort'] = function() {\r\n        var me = this,\r\n            UT = UE.UETable,\r\n            getUETable = function(tdOrTable) {\r\n                return UT.getUETable(tdOrTable);\r\n            },\r\n            getTableItemsByRange = function(editor) {\r\n                return UT.getTableItemsByRange(editor);\r\n            };\r\n\r\n\r\n        me.ready(function() {\r\n            //添加表格可排序的样式\r\n            utils.cssRule('tablesort',\r\n                'table.sortEnabled tr.firstRow th,table.sortEnabled tr.firstRow td{padding-right:20px;background-repeat: no-repeat;background-position: center right;' +\r\n                '   background-image:url(' + me.options.themePath + me.options.theme + '/images/sortable.png);}',\r\n                me.document);\r\n\r\n            //做单元格合并操作时,清除可排序标识\r\n            me.addListener(\"afterexeccommand\", function(type, cmd) {\r\n                if (cmd == 'mergeright' || cmd == 'mergedown' || cmd == 'mergecells') {\r\n                    this.execCommand('disablesort');\r\n                }\r\n            });\r\n        });\r\n\r\n\r\n\r\n        //表格排序\r\n        UE.commands['sorttable'] = {\r\n            queryCommandState: function() {\r\n                var me = this,\r\n                    tableItems = getTableItemsByRange(me);\r\n                if (!tableItems.cell) return -1;\r\n                var table = tableItems.table,\r\n                    cells = table.getElementsByTagName(\"td\");\r\n                for (var i = 0, cell; cell = cells[i++];) {\r\n                    if (cell.rowSpan != 1 || cell.colSpan != 1) return -1;\r\n                }\r\n                return 0;\r\n            },\r\n            execCommand: function(cmd, fn) {\r\n                var me = this,\r\n                    range = me.selection.getRange(),\r\n                    bk = range.createBookmark(true),\r\n                    tableItems = getTableItemsByRange(me),\r\n                    cell = tableItems.cell,\r\n                    ut = getUETable(tableItems.table),\r\n                    cellInfo = ut.getCellInfo(cell);\r\n                ut.sortTable(cellInfo.cellIndex, fn);\r\n                range.moveToBookmark(bk);\r\n                try {\r\n                    range.select();\r\n                } catch (e) {}\r\n            }\r\n        };\r\n\r\n        //设置表格可排序,清除表格可排序\r\n        UE.commands[\"enablesort\"] = UE.commands[\"disablesort\"] = {\r\n            queryCommandState: function(cmd) {\r\n                var table = getTableItemsByRange(this).table;\r\n                if (table && cmd == 'enablesort') {\r\n                    var cells = domUtils.getElementsByTagName(table, 'th td');\r\n                    for (var i = 0; i < cells.length; i++) {\r\n                        if (cells[i].getAttribute('colspan') > 1 || cells[i].getAttribute('rowspan') > 1) return -1;\r\n                    }\r\n                }\r\n\r\n                return !table ? -1 : cmd == 'enablesort' ^ table.getAttribute('data-sort') != 'sortEnabled' ? -1 : 0;\r\n            },\r\n            execCommand: function(cmd) {\r\n                var table = getTableItemsByRange(this).table;\r\n                table.setAttribute(\"data-sort\", cmd == \"enablesort\" ? \"sortEnabled\" : \"sortDisabled\");\r\n                cmd == \"enablesort\" ? domUtils.addClass(table, \"sortEnabled\") : domUtils.removeClasses(table, \"sortEnabled\");\r\n            }\r\n        };\r\n    };\r\n\r\n\r\n    // plugins/contextmenu.js\r\n    ///import core\r\n    ///commands 右键菜单\r\n    ///commandsName  ContextMenu\r\n    ///commandsTitle  右键菜单\r\n    /**\r\n     * 右键菜单\r\n     * @function\r\n     * @name baidu.editor.plugins.contextmenu\r\n     * @author zhanyi\r\n     */\r\n\r\n    UE.plugins['contextmenu'] = function() {\r\n        var me = this;\r\n        me.setOpt('enableContextMenu', true);\r\n        if (me.getOpt('enableContextMenu') === false) {\r\n            return;\r\n        }\r\n        var lang = me.getLang(\"contextMenu\"),\r\n            menu,\r\n            items = me.options.contextMenu || [\r\n                { label: lang['selectall'], cmdName: 'selectall' },\r\n                {\r\n                    label: lang.cleardoc,\r\n                    cmdName: 'cleardoc',\r\n                    exec: function() {\r\n                        if (confirm(lang.confirmclear)) {\r\n                            this.execCommand('cleardoc');\r\n                        }\r\n                    }\r\n                },\r\n                '-',\r\n                {\r\n                    label: lang.unlink,\r\n                    cmdName: 'unlink'\r\n                },\r\n                '-',\r\n                {\r\n                    group: lang.paragraph,\r\n                    icon: 'justifyjustify',\r\n                    subMenu: [{\r\n                            label: lang.justifyleft,\r\n                            cmdName: 'justify',\r\n                            value: 'left'\r\n                        },\r\n                        {\r\n                            label: lang.justifyright,\r\n                            cmdName: 'justify',\r\n                            value: 'right'\r\n                        },\r\n                        {\r\n                            label: lang.justifycenter,\r\n                            cmdName: 'justify',\r\n                            value: 'center'\r\n                        },\r\n                        {\r\n                            label: lang.justifyjustify,\r\n                            cmdName: 'justify',\r\n                            value: 'justify'\r\n                        }\r\n                    ]\r\n                },\r\n                '-',\r\n                {\r\n                    group: lang.table,\r\n                    icon: 'table',\r\n                    subMenu: [{\r\n                            label: lang.inserttable,\r\n                            cmdName: 'inserttable'\r\n                        },\r\n                        {\r\n                            label: lang.deletetable,\r\n                            cmdName: 'deletetable'\r\n                        },\r\n                        '-',\r\n                        {\r\n                            label: lang.deleterow,\r\n                            cmdName: 'deleterow'\r\n                        },\r\n                        {\r\n                            label: lang.deletecol,\r\n                            cmdName: 'deletecol'\r\n                        },\r\n                        {\r\n                            label: lang.insertcol,\r\n                            cmdName: 'insertcol'\r\n                        },\r\n                        {\r\n                            label: lang.insertcolnext,\r\n                            cmdName: 'insertcolnext'\r\n                        },\r\n                        {\r\n                            label: lang.insertrow,\r\n                            cmdName: 'insertrow'\r\n                        },\r\n                        {\r\n                            label: lang.insertrownext,\r\n                            cmdName: 'insertrownext'\r\n                        },\r\n                        '-',\r\n                        {\r\n                            label: lang.insertcaption,\r\n                            cmdName: 'insertcaption'\r\n                        },\r\n                        {\r\n                            label: lang.deletecaption,\r\n                            cmdName: 'deletecaption'\r\n                        },\r\n                        {\r\n                            label: lang.inserttitle,\r\n                            cmdName: 'inserttitle'\r\n                        },\r\n                        {\r\n                            label: lang.deletetitle,\r\n                            cmdName: 'deletetitle'\r\n                        },\r\n                        {\r\n                            label: lang.inserttitlecol,\r\n                            cmdName: 'inserttitlecol'\r\n                        },\r\n                        {\r\n                            label: lang.deletetitlecol,\r\n                            cmdName: 'deletetitlecol'\r\n                        },\r\n                        '-',\r\n                        {\r\n                            label: lang.mergecells,\r\n                            cmdName: 'mergecells'\r\n                        },\r\n                        {\r\n                            label: lang.mergeright,\r\n                            cmdName: 'mergeright'\r\n                        },\r\n                        {\r\n                            label: lang.mergedown,\r\n                            cmdName: 'mergedown'\r\n                        },\r\n                        '-',\r\n                        {\r\n                            label: lang.splittorows,\r\n                            cmdName: 'splittorows'\r\n                        },\r\n                        {\r\n                            label: lang.splittocols,\r\n                            cmdName: 'splittocols'\r\n                        },\r\n                        {\r\n                            label: lang.splittocells,\r\n                            cmdName: 'splittocells'\r\n                        },\r\n                        '-',\r\n                        {\r\n                            label: lang.averageDiseRow,\r\n                            cmdName: 'averagedistributerow'\r\n                        },\r\n                        {\r\n                            label: lang.averageDisCol,\r\n                            cmdName: 'averagedistributecol'\r\n                        },\r\n                        '-',\r\n                        {\r\n                            label: lang.edittd,\r\n                            cmdName: 'edittd',\r\n                            exec: function() {\r\n                                if (UE.ui['edittd']) {\r\n                                    new UE.ui['edittd'](this);\r\n                                }\r\n                                this.getDialog('edittd').open();\r\n                            }\r\n                        },\r\n                        {\r\n                            label: lang.edittable,\r\n                            cmdName: 'edittable',\r\n                            exec: function() {\r\n                                if (UE.ui['edittable']) {\r\n                                    new UE.ui['edittable'](this);\r\n                                }\r\n                                this.getDialog('edittable').open();\r\n                            }\r\n                        },\r\n                        {\r\n                            label: lang.setbordervisible,\r\n                            cmdName: 'setbordervisible'\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    group: lang.tablesort,\r\n                    icon: 'tablesort',\r\n                    subMenu: [{\r\n                            label: lang.enablesort,\r\n                            cmdName: 'enablesort'\r\n                        },\r\n                        {\r\n                            label: lang.disablesort,\r\n                            cmdName: 'disablesort'\r\n                        },\r\n                        '-',\r\n                        {\r\n                            label: lang.reversecurrent,\r\n                            cmdName: 'sorttable',\r\n                            value: 'reversecurrent'\r\n                        },\r\n                        {\r\n                            label: lang.orderbyasc,\r\n                            cmdName: 'sorttable',\r\n                            value: 'orderbyasc'\r\n                        },\r\n                        {\r\n                            label: lang.reversebyasc,\r\n                            cmdName: 'sorttable',\r\n                            value: 'reversebyasc'\r\n                        },\r\n                        {\r\n                            label: lang.orderbynum,\r\n                            cmdName: 'sorttable',\r\n                            value: 'orderbynum'\r\n                        },\r\n                        {\r\n                            label: lang.reversebynum,\r\n                            cmdName: 'sorttable',\r\n                            value: 'reversebynum'\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    group: lang.borderbk,\r\n                    icon: 'borderBack',\r\n                    subMenu: [{\r\n                            label: lang.setcolor,\r\n                            cmdName: \"interlacetable\",\r\n                            exec: function() {\r\n                                this.execCommand(\"interlacetable\");\r\n                            }\r\n                        },\r\n                        {\r\n                            label: lang.unsetcolor,\r\n                            cmdName: \"uninterlacetable\",\r\n                            exec: function() {\r\n                                this.execCommand(\"uninterlacetable\");\r\n                            }\r\n                        },\r\n                        {\r\n                            label: lang.setbackground,\r\n                            cmdName: \"settablebackground\",\r\n                            exec: function() {\r\n                                this.execCommand(\"settablebackground\", { repeat: true, colorList: [\"#bbb\", \"#ccc\"] });\r\n                            }\r\n                        },\r\n                        {\r\n                            label: lang.unsetbackground,\r\n                            cmdName: \"cleartablebackground\",\r\n                            exec: function() {\r\n                                this.execCommand(\"cleartablebackground\");\r\n                            }\r\n                        },\r\n                        {\r\n                            label: lang.redandblue,\r\n                            cmdName: \"settablebackground\",\r\n                            exec: function() {\r\n                                this.execCommand(\"settablebackground\", { repeat: true, colorList: [\"red\", \"blue\"] });\r\n                            }\r\n                        },\r\n                        {\r\n                            label: lang.threecolorgradient,\r\n                            cmdName: \"settablebackground\",\r\n                            exec: function() {\r\n                                this.execCommand(\"settablebackground\", { repeat: true, colorList: [\"#aaa\", \"#bbb\", \"#ccc\"] });\r\n                            }\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    group: lang.aligntd,\r\n                    icon: 'aligntd',\r\n                    subMenu: [{\r\n                            cmdName: 'cellalignment',\r\n                            value: { align: 'left', vAlign: 'top' }\r\n                        },\r\n                        {\r\n                            cmdName: 'cellalignment',\r\n                            value: { align: 'center', vAlign: 'top' }\r\n                        },\r\n                        {\r\n                            cmdName: 'cellalignment',\r\n                            value: { align: 'right', vAlign: 'top' }\r\n                        },\r\n                        {\r\n                            cmdName: 'cellalignment',\r\n                            value: { align: 'left', vAlign: 'middle' }\r\n                        },\r\n                        {\r\n                            cmdName: 'cellalignment',\r\n                            value: { align: 'center', vAlign: 'middle' }\r\n                        },\r\n                        {\r\n                            cmdName: 'cellalignment',\r\n                            value: { align: 'right', vAlign: 'middle' }\r\n                        },\r\n                        {\r\n                            cmdName: 'cellalignment',\r\n                            value: { align: 'left', vAlign: 'bottom' }\r\n                        },\r\n                        {\r\n                            cmdName: 'cellalignment',\r\n                            value: { align: 'center', vAlign: 'bottom' }\r\n                        },\r\n                        {\r\n                            cmdName: 'cellalignment',\r\n                            value: { align: 'right', vAlign: 'bottom' }\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    group: lang.aligntable,\r\n                    icon: 'aligntable',\r\n                    subMenu: [{\r\n                            cmdName: 'tablealignment',\r\n                            className: 'left',\r\n                            label: lang.tableleft,\r\n                            value: \"left\"\r\n                        },\r\n                        {\r\n                            cmdName: 'tablealignment',\r\n                            className: 'center',\r\n                            label: lang.tablecenter,\r\n                            value: \"center\"\r\n                        },\r\n                        {\r\n                            cmdName: 'tablealignment',\r\n                            className: 'right',\r\n                            label: lang.tableright,\r\n                            value: \"right\"\r\n                        }\r\n                    ]\r\n                },\r\n                '-',\r\n                {\r\n                    label: lang.insertparagraphbefore,\r\n                    cmdName: 'insertparagraph',\r\n                    value: true\r\n                },\r\n                {\r\n                    label: lang.insertparagraphafter,\r\n                    cmdName: 'insertparagraph'\r\n                },\r\n                {\r\n                    label: lang['copy'],\r\n                    cmdName: 'copy'\r\n                },\r\n                {\r\n                    label: lang['paste'],\r\n                    cmdName: 'paste'\r\n                }\r\n            ];\r\n        if (!items.length) {\r\n            return;\r\n        }\r\n        var uiUtils = UE.ui.uiUtils;\r\n\r\n        me.addListener('contextmenu', function(type, evt) {\r\n\r\n            var offset = uiUtils.getViewportOffsetByEvent(evt);\r\n            me.fireEvent('beforeselectionchange');\r\n            if (menu) {\r\n                menu.destroy();\r\n            }\r\n            for (var i = 0, ti, contextItems = []; ti = items[i]; i++) {\r\n                var last;\r\n                (function(item) {\r\n                    if (item == '-') {\r\n                        if ((last = contextItems[contextItems.length - 1]) && last !== '-') {\r\n                            contextItems.push('-');\r\n                        }\r\n                    } else if (item.hasOwnProperty(\"group\")) {\r\n                        for (var j = 0, cj, subMenu = []; cj = item.subMenu[j]; j++) {\r\n                            (function(subItem) {\r\n                                if (subItem == '-') {\r\n                                    if ((last = subMenu[subMenu.length - 1]) && last !== '-') {\r\n                                        subMenu.push('-');\r\n                                    } else {\r\n                                        subMenu.splice(subMenu.length - 1);\r\n                                    }\r\n                                } else {\r\n                                    if ((me.commands[subItem.cmdName] || UE.commands[subItem.cmdName] || subItem.query) &&\r\n                                        (subItem.query ? subItem.query() : me.queryCommandState(subItem.cmdName)) > -1) {\r\n                                        subMenu.push({\r\n                                            'label': subItem.label || me.getLang(\"contextMenu.\" + subItem.cmdName + (subItem.value || '')) || \"\",\r\n                                            'className': 'edui-for-' + subItem.cmdName + (subItem.className ? (' edui-for-' + subItem.cmdName + '-' + subItem.className) : ''),\r\n                                            onclick: subItem.exec ? function() {\r\n                                                subItem.exec.call(me);\r\n                                            } : function() {\r\n                                                me.execCommand(subItem.cmdName, subItem.value);\r\n                                            }\r\n                                        });\r\n                                    }\r\n                                }\r\n                            })(cj);\r\n                        }\r\n                        if (subMenu.length) {\r\n                            function getLabel() {\r\n                                switch (item.icon) {\r\n                                    case \"table\":\r\n                                        return me.getLang(\"contextMenu.table\");\r\n                                    case \"justifyjustify\":\r\n                                        return me.getLang(\"contextMenu.paragraph\");\r\n                                    case \"aligntd\":\r\n                                        return me.getLang(\"contextMenu.aligntd\");\r\n                                    case \"aligntable\":\r\n                                        return me.getLang(\"contextMenu.aligntable\");\r\n                                    case \"tablesort\":\r\n                                        return lang.tablesort;\r\n                                    case \"borderBack\":\r\n                                        return lang.borderbk;\r\n                                    default:\r\n                                        return '';\r\n                                }\r\n                            }\r\n                            contextItems.push({\r\n                                //todo 修正成自动获取方式\r\n                                'label': getLabel(),\r\n                                className: 'edui-for-' + item.icon,\r\n                                'subMenu': {\r\n                                    items: subMenu,\r\n                                    editor: me\r\n                                }\r\n                            });\r\n                        }\r\n\r\n                    } else {\r\n                        //有可能commmand没有加载右键不能出来，或者没有command也想能展示出来添加query方法\r\n                        if ((me.commands[item.cmdName] || UE.commands[item.cmdName] || item.query) &&\r\n                            (item.query ? item.query.call(me) : me.queryCommandState(item.cmdName)) > -1) {\r\n\r\n                            contextItems.push({\r\n                                'label': item.label || me.getLang(\"contextMenu.\" + item.cmdName),\r\n                                className: 'edui-for-' + (item.icon ? item.icon : item.cmdName + (item.value || '')),\r\n                                onclick: item.exec ? function() {\r\n                                    item.exec.call(me);\r\n                                } : function() {\r\n                                    me.execCommand(item.cmdName, item.value);\r\n                                }\r\n                            });\r\n                        }\r\n\r\n                    }\r\n\r\n                })(ti);\r\n            }\r\n            if (contextItems[contextItems.length - 1] == '-') {\r\n                contextItems.pop();\r\n            }\r\n\r\n            menu = new UE.ui.Menu({\r\n                items: contextItems,\r\n                className: \"edui-contextmenu\",\r\n                editor: me\r\n            });\r\n            menu.render();\r\n            menu.showAt(offset);\r\n\r\n            me.fireEvent(\"aftershowcontextmenu\", menu);\r\n\r\n            domUtils.preventDefault(evt);\r\n            if (browser.ie) {\r\n                var ieRange;\r\n                try {\r\n                    ieRange = me.selection.getNative().createRange();\r\n                } catch (e) {\r\n                    return;\r\n                }\r\n                if (ieRange.item) {\r\n                    var range = new dom.Range(me.document);\r\n                    range.selectNode(ieRange.item(0)).select(true, true);\r\n                }\r\n            }\r\n        });\r\n\r\n        // 添加复制的flash按钮\r\n        me.addListener('aftershowcontextmenu', function(type, menu) {\r\n            if (me.zeroclipboard) {\r\n                var items = menu.items;\r\n                for (var key in items) {\r\n                    if (items[key].className == 'edui-for-copy') {\r\n                        me.zeroclipboard.clip(items[key].getDom());\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n\r\n    // plugins/shortcutmenu.js\r\n    ///import core\r\n    ///commands       弹出菜单\r\n    // commandsName  popupmenu\r\n    ///commandsTitle  弹出菜单\r\n    /**\r\n     * 弹出菜单\r\n     * @function\r\n     * @name baidu.editor.plugins.popupmenu\r\n     * @author xuheng\r\n     */\r\n\r\n    UE.plugins['shortcutmenu'] = function() {\r\n        var me = this,\r\n            menu,\r\n            items = me.options.shortcutMenu || [];\r\n\r\n        if (!items.length) {\r\n            return;\r\n        }\r\n\r\n        me.addListener('contextmenu mouseup', function(type, e) {\r\n            var me = this,\r\n                customEvt = {\r\n                    type: type,\r\n                    target: e.target || e.srcElement,\r\n                    screenX: e.screenX,\r\n                    screenY: e.screenY,\r\n                    clientX: e.clientX,\r\n                    clientY: e.clientY\r\n                };\r\n\r\n            setTimeout(function() {\r\n                var rng = me.selection.getRange();\r\n                if (rng.collapsed === false || type == \"contextmenu\") {\r\n\r\n                    if (!menu) {\r\n                        menu = new baidu.editor.ui.ShortCutMenu({\r\n                            editor: me,\r\n                            items: items,\r\n                            theme: me.options.theme,\r\n                            className: 'edui-shortcutmenu'\r\n                        });\r\n\r\n                        menu.render();\r\n                        me.fireEvent(\"afterrendershortcutmenu\", menu);\r\n                    }\r\n\r\n                    menu.show(customEvt, !!UE.plugins['contextmenu']);\r\n                }\r\n            });\r\n\r\n            if (type == 'contextmenu') {\r\n                domUtils.preventDefault(e);\r\n                if (browser.ie9below) {\r\n                    var ieRange;\r\n                    try {\r\n                        ieRange = me.selection.getNative().createRange();\r\n                    } catch (e) {\r\n                        return;\r\n                    }\r\n                    if (ieRange.item) {\r\n                        var range = new dom.Range(me.document);\r\n                        range.selectNode(ieRange.item(0)).select(true, true);\r\n\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        me.addListener('keydown', function(type) {\r\n            if (type == \"keydown\") {\r\n                menu && !menu.isHidden && menu.hide();\r\n            }\r\n\r\n        });\r\n\r\n    };\r\n\r\n\r\n\r\n\r\n    // plugins/basestyle.js\r\n    /**\r\n     * B、I、sub、super命令支持\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    UE.plugins['basestyle'] = function() {\r\n\r\n        /**\r\n         * 字体加粗\r\n         * @command bold\r\n         * @param { String } cmd 命令字符串\r\n         * @remind 对已加粗的文本内容执行该命令， 将取消加粗\r\n         * @method execCommand\r\n         * @example\r\n         * ```javascript\r\n         * //editor是编辑器实例\r\n         * //对当前选中的文本内容执行加粗操作\r\n         * //第一次执行， 文本内容加粗\r\n         * editor.execCommand( 'bold' );\r\n         *\r\n         * //第二次执行， 文本内容取消加粗\r\n         * editor.execCommand( 'bold' );\r\n         * ```\r\n         */\r\n\r\n\r\n        /**\r\n         * 字体倾斜\r\n         * @command italic\r\n         * @method execCommand\r\n         * @param { String } cmd 命令字符串\r\n         * @remind 对已倾斜的文本内容执行该命令， 将取消倾斜\r\n         * @example\r\n         * ```javascript\r\n         * //editor是编辑器实例\r\n         * //对当前选中的文本内容执行斜体操作\r\n         * //第一次操作， 文本内容将变成斜体\r\n         * editor.execCommand( 'italic' );\r\n         *\r\n         * //再次对同一文本内容执行， 则文本内容将恢复正常\r\n         * editor.execCommand( 'italic' );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 下标文本，与“superscript”命令互斥\r\n         * @command subscript\r\n         * @method execCommand\r\n         * @remind  把选中的文本内容切换成下标文本， 如果当前选中的文本已经是下标， 则该操作会把文本内容还原成正常文本\r\n         * @param { String } cmd 命令字符串\r\n         * @example\r\n         * ```javascript\r\n         * //editor是编辑器实例\r\n         * //对当前选中的文本内容执行下标操作\r\n         * //第一次操作， 文本内容将变成下标文本\r\n         * editor.execCommand( 'subscript' );\r\n         *\r\n         * //再次对同一文本内容执行， 则文本内容将恢复正常\r\n         * editor.execCommand( 'subscript' );\r\n         * ```\r\n         */\r\n\r\n        /**\r\n         * 上标文本，与“subscript”命令互斥\r\n         * @command superscript\r\n         * @method execCommand\r\n         * @remind 把选中的文本内容切换成上标文本， 如果当前选中的文本已经是上标， 则该操作会把文本内容还原成正常文本\r\n         * @param { String } cmd 命令字符串\r\n         * @example\r\n         * ```javascript\r\n         * //editor是编辑器实例\r\n         * //对当前选中的文本内容执行上标操作\r\n         * //第一次操作， 文本内容将变成上标文本\r\n         * editor.execCommand( 'superscript' );\r\n         *\r\n         * //再次对同一文本内容执行， 则文本内容将恢复正常\r\n         * editor.execCommand( 'superscript' );\r\n         * ```\r\n         */\r\n        var basestyles = {\r\n                'bold': ['strong', 'b'],\r\n                'italic': ['em', 'i'],\r\n                'subscript': ['sub'],\r\n                'superscript': ['sup']\r\n            },\r\n            getObj = function(editor, tagNames) {\r\n                return domUtils.filterNodeList(editor.selection.getStartElementPath(), tagNames);\r\n            },\r\n            me = this;\r\n        //添加快捷键\r\n        me.addshortcutkey({\r\n            \"Bold\": \"ctrl+66\", //^B\r\n            \"Italic\": \"ctrl+73\", //^I\r\n            \"Underline\": \"ctrl+85\" //^U\r\n        });\r\n        me.addInputRule(function(root) {\r\n            utils.each(root.getNodesByTagName('b i'), function(node) {\r\n                switch (node.tagName) {\r\n                    case 'b':\r\n                        node.tagName = 'strong';\r\n                        break;\r\n                    case 'i':\r\n                        node.tagName = 'em';\r\n                }\r\n            });\r\n        });\r\n        for (var style in basestyles) {\r\n            (function(cmd, tagNames) {\r\n                me.commands[cmd] = {\r\n                    execCommand: function(cmdName) {\r\n                        var range = me.selection.getRange(),\r\n                            obj = getObj(this, tagNames);\r\n                        if (range.collapsed) {\r\n                            if (obj) {\r\n                                var tmpText = me.document.createTextNode('');\r\n                                range.insertNode(tmpText).removeInlineStyle(tagNames);\r\n                                range.setStartBefore(tmpText);\r\n                                domUtils.remove(tmpText);\r\n                            } else {\r\n                                var tmpNode = range.document.createElement(tagNames[0]);\r\n                                if (cmdName == 'superscript' || cmdName == 'subscript') {\r\n                                    tmpText = me.document.createTextNode('');\r\n                                    range.insertNode(tmpText)\r\n                                        .removeInlineStyle(['sub', 'sup'])\r\n                                        .setStartBefore(tmpText)\r\n                                        .collapse(true);\r\n                                }\r\n                                range.insertNode(tmpNode).setStart(tmpNode, 0);\r\n                            }\r\n                            range.collapse(true);\r\n                        } else {\r\n                            if (cmdName == 'superscript' || cmdName == 'subscript') {\r\n                                if (!obj || obj.tagName.toLowerCase() != cmdName) {\r\n                                    range.removeInlineStyle(['sub', 'sup']);\r\n                                }\r\n                            }\r\n                            obj ? range.removeInlineStyle(tagNames) : range.applyInlineStyle(tagNames[0]);\r\n                        }\r\n                        range.select();\r\n                    },\r\n                    queryCommandState: function() {\r\n                        return getObj(this, tagNames) ? 1 : 0;\r\n                    }\r\n                };\r\n            })(style, basestyles[style]);\r\n        }\r\n    };\r\n\r\n\r\n\r\n    // plugins/elementpath.js\r\n    /**\r\n     * 选取路径命令\r\n     * @file\r\n     */\r\n    UE.plugins['elementpath'] = function() {\r\n        var currentLevel,\r\n            tagNames,\r\n            me = this;\r\n        me.setOpt('elementPathEnabled', true);\r\n        if (!me.options.elementPathEnabled) {\r\n            return;\r\n        }\r\n        me.commands['elementpath'] = {\r\n            execCommand: function(cmdName, level) {\r\n                var start = tagNames[level],\r\n                    range = me.selection.getRange();\r\n                currentLevel = level * 1;\r\n                range.selectNode(start).select();\r\n            },\r\n            queryCommandValue: function() {\r\n                //产生一个副本，不能修改原来的startElementPath;\r\n                var parents = [].concat(this.selection.getStartElementPath()).reverse(),\r\n                    names = [];\r\n                tagNames = parents;\r\n                for (var i = 0, ci; ci = parents[i]; i++) {\r\n                    if (ci.nodeType == 3) {\r\n                        continue;\r\n                    }\r\n                    var name = ci.tagName.toLowerCase();\r\n                    if (name == 'img' && ci.getAttribute('anchorname')) {\r\n                        name = 'anchor';\r\n                    }\r\n                    names[i] = name;\r\n                    if (currentLevel == i) {\r\n                        currentLevel = -1;\r\n                        break;\r\n                    }\r\n                }\r\n                return names;\r\n            }\r\n        };\r\n    };\r\n\r\n\r\n\r\n    // plugins/formatmatch.js\r\n    /**\r\n     * 格式刷，只格式inline的\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 格式刷\r\n     * @command formatmatch\r\n     * @method execCommand\r\n     * @remind 该操作不能复制段落格式\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * //editor是编辑器实例\r\n     * //获取格式刷\r\n     * editor.execCommand( 'formatmatch' );\r\n     * ```\r\n     */\r\n    UE.plugins['formatmatch'] = function() {\r\n\r\n        var me = this,\r\n            list = [],\r\n            img,\r\n            flag = 0;\r\n\r\n        me.addListener('reset', function() {\r\n            list = [];\r\n            flag = 0;\r\n        });\r\n\r\n        function addList(type, evt) {\r\n\r\n            if (browser.webkit) {\r\n                var target = evt.target.tagName == 'IMG' ? evt.target : null;\r\n            }\r\n\r\n            function addFormat(range) {\r\n\r\n                if (text) {\r\n                    range.selectNode(text);\r\n                }\r\n                return range.applyInlineStyle(list[list.length - 1].tagName, null, list);\r\n\r\n            }\r\n\r\n            me.undoManger && me.undoManger.save();\r\n\r\n            var range = me.selection.getRange(),\r\n                imgT = target || range.getClosedNode();\r\n            if (img && imgT && imgT.tagName == 'IMG') {\r\n                //trace:964\r\n\r\n                imgT.style.cssText += ';float:' + (img.style.cssFloat || img.style.styleFloat || 'none') + ';display:' + (img.style.display || 'inline');\r\n\r\n                img = null;\r\n            } else {\r\n                if (!img) {\r\n                    var collapsed = range.collapsed;\r\n                    if (collapsed) {\r\n                        var text = me.document.createTextNode('match');\r\n                        range.insertNode(text).select();\r\n\r\n\r\n                    }\r\n                    me.__hasEnterExecCommand = true;\r\n                    //不能把block上的属性干掉\r\n                    //trace:1553\r\n                    var removeFormatAttributes = me.options.removeFormatAttributes;\r\n                    me.options.removeFormatAttributes = '';\r\n                    me.execCommand('removeformat');\r\n                    me.options.removeFormatAttributes = removeFormatAttributes;\r\n                    me.__hasEnterExecCommand = false;\r\n                    //trace:969\r\n                    range = me.selection.getRange();\r\n                    if (list.length) {\r\n                        addFormat(range);\r\n                    }\r\n                    if (text) {\r\n                        range.setStartBefore(text).collapse(true);\r\n\r\n                    }\r\n                    range.select();\r\n                    text && domUtils.remove(text);\r\n                }\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n            me.undoManger && me.undoManger.save();\r\n            me.removeListener('mouseup', addList);\r\n            flag = 0;\r\n        }\r\n\r\n        me.commands['formatmatch'] = {\r\n            execCommand: function(cmdName) {\r\n\r\n                if (flag) {\r\n                    flag = 0;\r\n                    list = [];\r\n                    me.removeListener('mouseup', addList);\r\n                    return;\r\n                }\r\n\r\n\r\n\r\n                var range = me.selection.getRange();\r\n                img = range.getClosedNode();\r\n                if (!img || img.tagName != 'IMG') {\r\n                    range.collapse(true).shrinkBoundary();\r\n                    var start = range.startContainer;\r\n                    list = domUtils.findParents(start, true, function(node) {\r\n                        return !domUtils.isBlockElm(node) && node.nodeType == 1;\r\n                    });\r\n                    //a不能加入格式刷, 并且克隆节点\r\n                    for (var i = 0, ci; ci = list[i]; i++) {\r\n                        if (ci.tagName == 'A') {\r\n                            list.splice(i, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n                me.addListener('mouseup', addList);\r\n                flag = 1;\r\n\r\n\r\n            },\r\n            queryCommandState: function() {\r\n                return flag;\r\n            },\r\n            notNeedUndo: 1\r\n        };\r\n    };\r\n\r\n\r\n\r\n    // plugins/searchreplace.js\r\n    ///import core\r\n    ///commands 查找替换\r\n    ///commandsName  SearchReplace\r\n    ///commandsTitle  查询替换\r\n    ///commandsDialog  dialogs\\searchreplace\r\n    /**\r\n     * @description 查找替换\r\n     * @author zhanyi\r\n     */\r\n\r\n    UE.plugin.register('searchreplace', function() {\r\n        var me = this;\r\n\r\n        var _blockElm = { 'table': 1, 'tbody': 1, 'tr': 1, 'ol': 1, 'ul': 1 };\r\n\r\n        function findTextInString(textContent, opt, currentIndex) {\r\n            var str = opt.searchStr;\r\n            if (opt.dir == -1) {\r\n                textContent = textContent.split('').reverse().join('');\r\n                str = str.split('').reverse().join('');\r\n                currentIndex = textContent.length - currentIndex;\r\n\r\n            }\r\n            var reg = new RegExp(str, 'g' + (opt.casesensitive ? '' : 'i')),\r\n                match;\r\n\r\n            while (match = reg.exec(textContent)) {\r\n                if (match.index >= currentIndex) {\r\n                    return opt.dir == -1 ? textContent.length - match.index - opt.searchStr.length : match.index;\r\n                }\r\n            }\r\n            return -1\r\n        }\r\n\r\n        function findTextBlockElm(node, currentIndex, opt) {\r\n            var textContent, index, methodName = opt.all || opt.dir == 1 ? 'getNextDomNode' : 'getPreDomNode';\r\n            if (domUtils.isBody(node)) {\r\n                node = node.firstChild;\r\n            }\r\n            var first = 1;\r\n            while (node) {\r\n                textContent = node.nodeType == 3 ? node.nodeValue : node[browser.ie ? 'innerText' : 'textContent'];\r\n                index = findTextInString(textContent, opt, currentIndex);\r\n                first = 0;\r\n                if (index != -1) {\r\n                    return {\r\n                        'node': node,\r\n                        'index': index\r\n                    }\r\n                }\r\n                node = domUtils[methodName](node);\r\n                while (node && _blockElm[node.nodeName.toLowerCase()]) {\r\n                    node = domUtils[methodName](node, true);\r\n                }\r\n                if (node) {\r\n                    currentIndex = opt.dir == -1 ? (node.nodeType == 3 ? node.nodeValue : node[browser.ie ? 'innerText' : 'textContent']).length : 0;\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        function findNTextInBlockElm(node, index, str) {\r\n            var currentIndex = 0,\r\n                currentNode = node.firstChild,\r\n                currentNodeLength = 0,\r\n                result;\r\n            while (currentNode) {\r\n                if (currentNode.nodeType == 3) {\r\n                    currentNodeLength = currentNode.nodeValue.replace(/(^[\\t\\r\\n]+)|([\\t\\r\\n]+$)/, '').length;\r\n                    currentIndex += currentNodeLength;\r\n                    if (currentIndex >= index) {\r\n                        return {\r\n                            'node': currentNode,\r\n                            'index': currentNodeLength - (currentIndex - index)\r\n                        }\r\n                    }\r\n                } else if (!dtd.$empty[currentNode.tagName]) {\r\n                    currentNodeLength = currentNode[browser.ie ? 'innerText' : 'textContent'].replace(/(^[\\t\\r\\n]+)|([\\t\\r\\n]+$)/, '').length\r\n                    currentIndex += currentNodeLength;\r\n                    if (currentIndex >= index) {\r\n                        result = findNTextInBlockElm(currentNode, currentNodeLength - (currentIndex - index), str);\r\n                        if (result) {\r\n                            return result;\r\n                        }\r\n                    }\r\n                }\r\n                currentNode = domUtils.getNextDomNode(currentNode);\r\n\r\n            }\r\n        }\r\n\r\n        function searchReplace(me, opt) {\r\n\r\n            var rng = me.selection.getRange(),\r\n                startBlockNode,\r\n                searchStr = opt.searchStr,\r\n                span = me.document.createElement('span');\r\n            span.innerHTML = '$$ueditor_searchreplace_key$$';\r\n\r\n            rng.shrinkBoundary(true);\r\n\r\n            //判断是不是第一次选中\r\n            if (!rng.collapsed) {\r\n                rng.select();\r\n                var rngText = me.selection.getText();\r\n                if (new RegExp('^' + opt.searchStr + '$', (opt.casesensitive ? '' : 'i')).test(rngText)) {\r\n                    if (opt.replaceStr != undefined) {\r\n                        replaceText(rng, opt.replaceStr);\r\n                        rng.select();\r\n                        return true;\r\n                    } else {\r\n                        rng.collapse(opt.dir == -1)\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n\r\n            rng.insertNode(span);\r\n            rng.enlargeToBlockElm(true);\r\n            startBlockNode = rng.startContainer;\r\n            var currentIndex = startBlockNode[browser.ie ? 'innerText' : 'textContent'].indexOf('$$ueditor_searchreplace_key$$');\r\n            rng.setStartBefore(span);\r\n            domUtils.remove(span);\r\n            var result = findTextBlockElm(startBlockNode, currentIndex, opt);\r\n            if (result) {\r\n                var rngStart = findNTextInBlockElm(result.node, result.index, searchStr);\r\n                var rngEnd = findNTextInBlockElm(result.node, result.index + searchStr.length, searchStr);\r\n                rng.setStart(rngStart.node, rngStart.index).setEnd(rngEnd.node, rngEnd.index);\r\n\r\n                if (opt.replaceStr !== undefined) {\r\n                    replaceText(rng, opt.replaceStr)\r\n                }\r\n                rng.select();\r\n                return true;\r\n            } else {\r\n                rng.setCursor()\r\n            }\r\n\r\n        }\r\n\r\n        function replaceText(rng, str) {\r\n\r\n            str = me.document.createTextNode(str);\r\n            rng.deleteContents().insertNode(str);\r\n\r\n        }\r\n        return {\r\n            commands: {\r\n                'searchreplace': {\r\n                    execCommand: function(cmdName, opt) {\r\n                        utils.extend(opt, {\r\n                            all: false,\r\n                            casesensitive: false,\r\n                            dir: 1\r\n                        }, true);\r\n                        var num = 0;\r\n                        if (opt.all) {\r\n\r\n                            var rng = me.selection.getRange(),\r\n                                first = me.body.firstChild;\r\n                            if (first && first.nodeType == 1) {\r\n                                rng.setStart(first, 0);\r\n                                rng.shrinkBoundary(true);\r\n                            } else if (first.nodeType == 3) {\r\n                                rng.setStartBefore(first)\r\n                            }\r\n                            rng.collapse(true).select(true);\r\n                            if (opt.replaceStr !== undefined) {\r\n                                me.fireEvent('saveScene');\r\n                            }\r\n                            while (searchReplace(this, opt)) {\r\n                                num++;\r\n                            }\r\n                            if (num) {\r\n                                me.fireEvent('saveScene');\r\n                            }\r\n                        } else {\r\n                            if (opt.replaceStr !== undefined) {\r\n                                me.fireEvent('saveScene');\r\n                            }\r\n                            if (searchReplace(this, opt)) {\r\n                                num++\r\n                            }\r\n                            if (num) {\r\n                                me.fireEvent('saveScene');\r\n                            }\r\n\r\n                        }\r\n\r\n                        return num;\r\n                    },\r\n                    notNeedUndo: 1\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    // plugins/customstyle.js\r\n    /**\r\n     * 自定义样式\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n    /**\r\n     * 根据config配置文件里“customstyle”选项的值对匹配的标签执行样式替换。\r\n     * @command customstyle\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * editor.execCommand( 'customstyle' );\r\n     * ```\r\n     */\r\n    UE.plugins['customstyle'] = function() {\r\n        var me = this;\r\n        me.setOpt({\r\n            'customstyle': [\r\n                { tag: 'h1', name: 'tc', style: 'font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;' },\r\n                { tag: 'h1', name: 'tl', style: 'font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:left;margin:0 0 10px 0;' },\r\n                { tag: 'span', name: 'im', style: 'font-size:16px;font-style:italic;font-weight:bold;line-height:18px;' },\r\n                { tag: 'span', name: 'hi', style: 'font-size:16px;font-style:italic;font-weight:bold;color:rgb(51, 153, 204);line-height:18px;' }\r\n            ]\r\n        });\r\n        me.commands['customstyle'] = {\r\n            execCommand: function(cmdName, obj) {\r\n                var me = this,\r\n                    tagName = obj.tag,\r\n                    node = domUtils.findParent(me.selection.getStart(), function(node) {\r\n                        return node.getAttribute('label');\r\n                    }, true),\r\n                    range, bk, tmpObj = {};\r\n                for (var p in obj) {\r\n                    if (obj[p] !== undefined)\r\n                        tmpObj[p] = obj[p];\r\n                }\r\n                delete tmpObj.tag;\r\n                if (node && node.getAttribute('label') == obj.label) {\r\n                    range = this.selection.getRange();\r\n                    bk = range.createBookmark();\r\n                    if (range.collapsed) {\r\n                        //trace:1732 删掉自定义标签，要有p来回填站位\r\n                        if (dtd.$block[node.tagName]) {\r\n                            var fillNode = me.document.createElement('p');\r\n                            domUtils.moveChild(node, fillNode);\r\n                            node.parentNode.insertBefore(fillNode, node);\r\n                            domUtils.remove(node);\r\n                        } else {\r\n                            domUtils.remove(node, true);\r\n                        }\r\n\r\n                    } else {\r\n\r\n                        var common = domUtils.getCommonAncestor(bk.start, bk.end),\r\n                            nodes = domUtils.getElementsByTagName(common, tagName);\r\n                        if (new RegExp(tagName, 'i').test(common.tagName)) {\r\n                            nodes.push(common);\r\n                        }\r\n                        for (var i = 0, ni; ni = nodes[i++];) {\r\n                            if (ni.getAttribute('label') == obj.label) {\r\n                                var ps = domUtils.getPosition(ni, bk.start),\r\n                                    pe = domUtils.getPosition(ni, bk.end);\r\n                                if ((ps & domUtils.POSITION_FOLLOWING || ps & domUtils.POSITION_CONTAINS) &&\r\n                                    (pe & domUtils.POSITION_PRECEDING || pe & domUtils.POSITION_CONTAINS)\r\n                                )\r\n                                    if (dtd.$block[tagName]) {\r\n                                        var fillNode = me.document.createElement('p');\r\n                                        domUtils.moveChild(ni, fillNode);\r\n                                        ni.parentNode.insertBefore(fillNode, ni);\r\n                                    }\r\n                                domUtils.remove(ni, true);\r\n                            }\r\n                        }\r\n                        node = domUtils.findParent(common, function(node) {\r\n                            return node.getAttribute('label') == obj.label;\r\n                        }, true);\r\n                        if (node) {\r\n\r\n                            domUtils.remove(node, true);\r\n\r\n                        }\r\n\r\n                    }\r\n                    range.moveToBookmark(bk).select();\r\n                } else {\r\n                    if (dtd.$block[tagName]) {\r\n                        this.execCommand('paragraph', tagName, tmpObj, 'customstyle');\r\n                        range = me.selection.getRange();\r\n                        if (!range.collapsed) {\r\n                            range.collapse();\r\n                            node = domUtils.findParent(me.selection.getStart(), function(node) {\r\n                                return node.getAttribute('label') == obj.label;\r\n                            }, true);\r\n                            var pNode = me.document.createElement('p');\r\n                            domUtils.insertAfter(node, pNode);\r\n                            domUtils.fillNode(me.document, pNode);\r\n                            range.setStart(pNode, 0).setCursor();\r\n                        }\r\n                    } else {\r\n\r\n                        range = me.selection.getRange();\r\n                        if (range.collapsed) {\r\n                            node = me.document.createElement(tagName);\r\n                            domUtils.setAttributes(node, tmpObj);\r\n                            range.insertNode(node).setStart(node, 0).setCursor();\r\n\r\n                            return;\r\n                        }\r\n\r\n                        bk = range.createBookmark();\r\n                        range.applyInlineStyle(tagName, tmpObj).moveToBookmark(bk).select();\r\n                    }\r\n                }\r\n\r\n            },\r\n            queryCommandValue: function() {\r\n                var parent = domUtils.filterNodeList(\r\n                    this.selection.getStartElementPath(),\r\n                    function(node) { return node.getAttribute('label') }\r\n                );\r\n                return parent ? parent.getAttribute('label') : '';\r\n            }\r\n        };\r\n        //当去掉customstyle是，如果是块元素，用p代替\r\n        me.addListener('keyup', function(type, evt) {\r\n            var keyCode = evt.keyCode || evt.which;\r\n\r\n            if (keyCode == 32 || keyCode == 13) {\r\n                var range = me.selection.getRange();\r\n                if (range.collapsed) {\r\n                    var node = domUtils.findParent(me.selection.getStart(), function(node) {\r\n                        return node.getAttribute('label');\r\n                    }, true);\r\n                    if (node && dtd.$block[node.tagName] && domUtils.isEmptyNode(node)) {\r\n                        var p = me.document.createElement('p');\r\n                        domUtils.insertAfter(node, p);\r\n                        domUtils.fillNode(me.document, p);\r\n                        domUtils.remove(node);\r\n                        range.setStart(p, 0).setCursor();\r\n\r\n\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    // plugins/catchremoteimage.js\r\n    ///import core\r\n    ///commands 远程图片抓取\r\n    ///commandsName  catchRemoteImage,catchremoteimageenable\r\n    ///commandsTitle  远程图片抓取\r\n    /**\r\n     * 远程图片抓取,当开启本插件时所有不符合本地域名的图片都将被抓取成为本地服务器上的图片\r\n     */\r\n    UE.plugins['catchremoteimage'] = function() {\r\n        var me = this,\r\n            ajax = UE.ajax;\r\n\r\n        /* 设置默认值 */\r\n        if (me.options.catchRemoteImageEnable === false) return;\r\n        me.setOpt({\r\n            catchRemoteImageEnable: false\r\n        });\r\n\r\n        me.addListener(\"afterpaste\", function() {\r\n            me.fireEvent(\"catchRemoteImage\");\r\n        });\r\n\r\n        me.addListener(\"catchRemoteImage\", function() {\r\n\r\n            var catcherLocalDomain = me.getOpt('catcherLocalDomain'),\r\n                catcherActionUrl = me.getActionUrl(me.getOpt('catcherActionName')),\r\n                catcherUrlPrefix = me.getOpt('catcherUrlPrefix'),\r\n                catcherFieldName = me.getOpt('catcherFieldName');\r\n\r\n            var remoteImages = [],\r\n                imgs = domUtils.getElementsByTagName(me.document, \"img\"),\r\n                test = function(src, urls) {\r\n                    if (src.indexOf(location.host) != -1 || /(^\\.)|(^\\/)/.test(src)) {\r\n                        return true;\r\n                    }\r\n                    if (urls) {\r\n                        for (var j = 0, url; url = urls[j++];) {\r\n                            if (src.indexOf(url) !== -1) {\r\n                                return true;\r\n                            }\r\n                        }\r\n                    }\r\n                    return false;\r\n                };\r\n\r\n            for (var i = 0, ci; ci = imgs[i++];) {\r\n                if (ci.getAttribute(\"word_img\")) {\r\n                    continue;\r\n                }\r\n                var src = ci.getAttribute(\"_src\") || ci.src || \"\";\r\n                if (/^(https?|ftp):/i.test(src) && !test(src, catcherLocalDomain)) {\r\n                    remoteImages.push(src);\r\n                }\r\n            }\r\n\r\n            if (remoteImages.length) {\r\n                catchremoteimage(remoteImages, {\r\n                    //成功抓取\r\n                    success: function(r) {\r\n                        try {\r\n                            var info = r.state !== undefined ? r : eval(\"(\" + r.responseText + \")\");\r\n                        } catch (e) {\r\n                            return;\r\n                        }\r\n\r\n                        /* 获取源路径和新路径 */\r\n                        var i, j, ci, cj, oldSrc, newSrc, list = info.list;\r\n\r\n                        for (i = 0; ci = imgs[i++];) {\r\n                            oldSrc = ci.getAttribute(\"_src\") || ci.src || \"\";\r\n                            for (j = 0; cj = list[j++];) {\r\n                                if (oldSrc == cj.source && cj.state == \"SUCCESS\") { //抓取失败时不做替换处理\r\n                                    newSrc = catcherUrlPrefix + cj.url;\r\n                                    domUtils.setAttributes(ci, {\r\n                                        \"src\": newSrc,\r\n                                        \"_src\": newSrc\r\n                                    });\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        me.fireEvent('catchremotesuccess')\r\n                    },\r\n                    //回调失败，本次请求超时\r\n                    error: function() {\r\n                        me.fireEvent(\"catchremoteerror\");\r\n                    }\r\n                });\r\n            }\r\n\r\n            function catchremoteimage(imgs, callbacks) {\r\n                var params = utils.serializeParam(me.queryCommandValue('serverparam')) || '',\r\n                    url = utils.formatUrl(catcherActionUrl + (catcherActionUrl.indexOf('?') == -1 ? '?' : '&') + params),\r\n                    isJsonp = utils.isCrossDomainUrl(url),\r\n                    opt = {\r\n                        'method': 'POST',\r\n                        'dataType': isJsonp ? 'jsonp' : '',\r\n                        'timeout': 60000, //单位：毫秒，回调请求超时设置。目标用户如果网速不是很快的话此处建议设置一个较大的数值\r\n                        'onsuccess': callbacks[\"success\"],\r\n                        'onerror': callbacks[\"error\"]\r\n                    };\r\n                opt[catcherFieldName] = imgs;\r\n                ajax.request(url, opt);\r\n            }\r\n\r\n        });\r\n    };\r\n\r\n    // plugins/snapscreen.js\r\n    /**\r\n     * 截屏插件，为UEditor提供插入支持\r\n     * @file\r\n     * @since 1.4.2\r\n     */\r\n    UE.plugin.register('snapscreen', function() {\r\n\r\n        var me = this;\r\n        var snapplugin;\r\n\r\n        function getLocation(url) {\r\n            var search,\r\n                a = document.createElement('a'),\r\n                params = utils.serializeParam(me.queryCommandValue('serverparam')) || '';\r\n\r\n            a.href = url;\r\n            if (browser.ie) {\r\n                a.href = a.href;\r\n            }\r\n\r\n\r\n            search = a.search;\r\n            if (params) {\r\n                search = search + (search.indexOf('?') == -1 ? '?' : '&') + params;\r\n                search = search.replace(/[&]+/ig, '&');\r\n            }\r\n            return {\r\n                'port': a.port,\r\n                'hostname': a.hostname,\r\n                'path': a.pathname + search || +a.hash\r\n            }\r\n        }\r\n\r\n        return {\r\n            commands: {\r\n                /**\r\n                 * 字体背景颜色\r\n                 * @command snapscreen\r\n                 * @method execCommand\r\n                 * @param { String } cmd 命令字符串\r\n                 * @example\r\n                 * ```javascript\r\n                 * editor.execCommand('snapscreen');\r\n                 * ```\r\n                 */\r\n                'snapscreen': {\r\n                    execCommand: function(cmd) {\r\n                        var url, local, res;\r\n                        var lang = me.getLang(\"snapScreen_plugin\");\r\n\r\n                        if (!snapplugin) {\r\n                            var container = me.container;\r\n                            var doc = me.container.ownerDocument || me.container.document;\r\n                            snapplugin = doc.createElement(\"object\");\r\n                            try { snapplugin.type = \"application/x-pluginbaidusnap\"; } catch (e) {\r\n                                return;\r\n                            }\r\n                            snapplugin.style.cssText = \"position:absolute;left:-9999px;width:0;height:0;\";\r\n                            snapplugin.setAttribute(\"width\", \"0\");\r\n                            snapplugin.setAttribute(\"height\", \"0\");\r\n                            container.appendChild(snapplugin);\r\n                        }\r\n\r\n                        function onSuccess(rs) {\r\n                            try {\r\n                                rs = eval(\"(\" + rs + \")\");\r\n                                if (rs.state == 'SUCCESS') {\r\n                                    var opt = me.options;\r\n                                    me.execCommand('insertimage', {\r\n                                        src: opt.snapscreenUrlPrefix + rs.url,\r\n                                        _src: opt.snapscreenUrlPrefix + rs.url,\r\n                                        alt: rs.title || '',\r\n                                        floatStyle: opt.snapscreenImgAlign\r\n                                    });\r\n                                } else {\r\n                                    alert(rs.state);\r\n                                }\r\n                            } catch (e) {\r\n                                alert(lang.callBackErrorMsg);\r\n                            }\r\n                        }\r\n                        url = me.getActionUrl(me.getOpt('snapscreenActionName'));\r\n                        local = getLocation(url);\r\n                        setTimeout(function() {\r\n                            try {\r\n                                res = snapplugin.saveSnapshot(local.hostname, local.path, local.port);\r\n                            } catch (e) {\r\n                                me.ui._dialogs['snapscreenDialog'].open();\r\n                                return;\r\n                            }\r\n\r\n                            onSuccess(res);\r\n                        }, 50);\r\n                    },\r\n                    queryCommandState: function() {\r\n                        return (navigator.userAgent.indexOf(\"Windows\", 0) != -1) ? 0 : -1;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n    // plugins/insertparagraph.js\r\n    /**\r\n     * 插入段落\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n\r\n    /**\r\n     * 插入段落\r\n     * @command insertparagraph\r\n     * @method execCommand\r\n     * @param { String } cmd 命令字符串\r\n     * @example\r\n     * ```javascript\r\n     * //editor是编辑器实例\r\n     * editor.execCommand( 'insertparagraph' );\r\n     * ```\r\n     */\r\n\r\n    UE.commands['insertparagraph'] = {\r\n        execCommand: function(cmdName, front) {\r\n            var me = this,\r\n                range = me.selection.getRange(),\r\n                start = range.startContainer,\r\n                tmpNode;\r\n            while (start) {\r\n                if (domUtils.isBody(start)) {\r\n                    break;\r\n                }\r\n                tmpNode = start;\r\n                start = start.parentNode;\r\n            }\r\n            if (tmpNode) {\r\n                var p = me.document.createElement('p');\r\n                if (front) {\r\n                    tmpNode.parentNode.insertBefore(p, tmpNode)\r\n                } else {\r\n                    tmpNode.parentNode.insertBefore(p, tmpNode.nextSibling)\r\n                }\r\n                domUtils.fillNode(me.document, p);\r\n                range.setStart(p, 0).setCursor(false, true);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n\r\n    // plugins/webapp.js\r\n    /**\r\n     * 百度应用\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n\r\n\r\n    /**\r\n     * 插入百度应用\r\n     * @command webapp\r\n     * @method execCommand\r\n     * @remind 需要百度APPKey\r\n     * @remind 百度应用主页： <a href=\"http://app.baidu.com/\" target=\"_blank\">http://app.baidu.com/</a>\r\n     * @param { Object } appOptions 应用所需的参数项， 支持的key有： title=>应用标题， width=>应用容器宽度，\r\n     * height=>应用容器高度，logo=>应用logo，url=>应用地址\r\n     * @example\r\n     * ```javascript\r\n     * //editor是编辑器实例\r\n     * //在编辑器里插入一个“植物大战僵尸”的APP\r\n     * editor.execCommand( 'webapp' , {\r\n     *     title: '植物大战僵尸',\r\n     *     width: 560,\r\n     *     height: 465,\r\n     *     logo: '应用展示的图片',\r\n     *     url: '百度应用的地址'\r\n     * } );\r\n     * ```\r\n     */\r\n\r\n    //UE.plugins['webapp'] = function () {\r\n    //    var me = this;\r\n    //    function createInsertStr( obj, toIframe, addParagraph ) {\r\n    //        return !toIframe ?\r\n    //                (addParagraph ? '<p>' : '') + '<img title=\"'+obj.title+'\" width=\"' + obj.width + '\" height=\"' + obj.height + '\"' +\r\n    //                        ' src=\"' + me.options.UEDITOR_HOME_URL + 'themes/default/images/spacer.gif\" style=\"background:url(' + obj.logo+') no-repeat center center; border:1px solid gray;\" class=\"edui-faked-webapp\" _url=\"' + obj.url + '\" />' +\r\n    //                        (addParagraph ? '</p>' : '')\r\n    //                :\r\n    //                '<iframe class=\"edui-faked-webapp\" title=\"'+obj.title+'\" width=\"' + obj.width + '\" height=\"' + obj.height + '\"  scrolling=\"no\" frameborder=\"0\" src=\"' + obj.url + '\" logo_url = '+obj.logo+'></iframe>';\r\n    //    }\r\n    //\r\n    //    function switchImgAndIframe( img2frame ) {\r\n    //        var tmpdiv,\r\n    //                nodes = domUtils.getElementsByTagName( me.document, !img2frame ? \"iframe\" : \"img\" );\r\n    //        for ( var i = 0, node; node = nodes[i++]; ) {\r\n    //            if ( node.className != \"edui-faked-webapp\" ){\r\n    //                continue;\r\n    //            }\r\n    //            tmpdiv = me.document.createElement( \"div\" );\r\n    //            tmpdiv.innerHTML = createInsertStr( img2frame ? {url:node.getAttribute( \"_url\" ), width:node.width, height:node.height,title:node.title,logo:node.style.backgroundImage.replace(\"url(\",\"\").replace(\")\",\"\")} : {url:node.getAttribute( \"src\", 2 ),title:node.title, width:node.width, height:node.height,logo:node.getAttribute(\"logo_url\")}, img2frame ? true : false,false );\r\n    //            node.parentNode.replaceChild( tmpdiv.firstChild, node );\r\n    //        }\r\n    //    }\r\n    //\r\n    //    me.addListener( \"beforegetcontent\", function () {\r\n    //        switchImgAndIframe( true );\r\n    //    } );\r\n    //    me.addListener( 'aftersetcontent', function () {\r\n    //        switchImgAndIframe( false );\r\n    //    } );\r\n    //    me.addListener( 'aftergetcontent', function ( cmdName ) {\r\n    //        if ( cmdName == 'aftergetcontent' && me.queryCommandState( 'source' ) ){\r\n    //            return;\r\n    //        }\r\n    //        switchImgAndIframe( false );\r\n    //    } );\r\n    //\r\n    //    me.commands['webapp'] = {\r\n    //        execCommand:function ( cmd, obj ) {\r\n    //            me.execCommand( \"inserthtml\", createInsertStr( obj, false,true ) );\r\n    //        }\r\n    //    };\r\n    //};\r\n\r\n    UE.plugin.register('webapp', function() {\r\n        var me = this;\r\n\r\n        function createInsertStr(obj, toEmbed) {\r\n            return !toEmbed ?\r\n                '<img title=\"' + obj.title + '\" width=\"' + obj.width + '\" height=\"' + obj.height + '\"' +\r\n                ' src=\"' + me.options.UEDITOR_HOME_URL + 'themes/default/images/spacer.gif\" _logo_url=\"' + obj.logo + '\" style=\"background:url(' + obj.logo +\r\n                ') no-repeat center center; border:1px solid gray;\" class=\"edui-faked-webapp\" _url=\"' + obj.url + '\" ' +\r\n                (obj.align && !obj.cssfloat ? 'align=\"' + obj.align + '\"' : '') +\r\n                (obj.cssfloat ? 'style=\"float:' + obj.cssfloat + '\"' : '') +\r\n                '/>' :\r\n                '<iframe class=\"edui-faked-webapp\" title=\"' + obj.title + '\" ' +\r\n                (obj.align && !obj.cssfloat ? 'align=\"' + obj.align + '\"' : '') +\r\n                (obj.cssfloat ? 'style=\"float:' + obj.cssfloat + '\"' : '') +\r\n                'width=\"' + obj.width + '\" height=\"' + obj.height + '\"  scrolling=\"no\" frameborder=\"0\" src=\"' + obj.url + '\" logo_url = \"' + obj.logo + '\"></iframe>'\r\n\r\n        }\r\n        return {\r\n            outputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('img'), function(node) {\r\n                    var html;\r\n                    if (node.getAttr('class') == 'edui-faked-webapp') {\r\n                        html = createInsertStr({\r\n                            title: node.getAttr('title'),\r\n                            'width': node.getAttr('width'),\r\n                            'height': node.getAttr('height'),\r\n                            'align': node.getAttr('align'),\r\n                            'cssfloat': node.getStyle('float'),\r\n                            'url': node.getAttr(\"_url\"),\r\n                            'logo': node.getAttr('_logo_url')\r\n                        }, true);\r\n                        var embed = UE.uNode.createElement(html);\r\n                        node.parentNode.replaceChild(embed, node);\r\n                    }\r\n                })\r\n            },\r\n            inputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('iframe'), function(node) {\r\n                    if (node.getAttr('class') == 'edui-faked-webapp') {\r\n                        var img = UE.uNode.createElement(createInsertStr({\r\n                            title: node.getAttr('title'),\r\n                            'width': node.getAttr('width'),\r\n                            'height': node.getAttr('height'),\r\n                            'align': node.getAttr('align'),\r\n                            'cssfloat': node.getStyle('float'),\r\n                            'url': node.getAttr(\"src\"),\r\n                            'logo': node.getAttr('logo_url')\r\n                        }));\r\n                        node.parentNode.replaceChild(img, node);\r\n                    }\r\n                })\r\n\r\n            },\r\n            commands: {\r\n                /**\r\n                 * 插入百度应用\r\n                 * @command webapp\r\n                 * @method execCommand\r\n                 * @remind 需要百度APPKey\r\n                 * @remind 百度应用主页： <a href=\"http://app.baidu.com/\" target=\"_blank\">http://app.baidu.com/</a>\r\n                 * @param { Object } appOptions 应用所需的参数项， 支持的key有： title=>应用标题， width=>应用容器宽度，\r\n                 * height=>应用容器高度，logo=>应用logo，url=>应用地址\r\n                 * @example\r\n                 * ```javascript\r\n                 * //editor是编辑器实例\r\n                 * //在编辑器里插入一个“植物大战僵尸”的APP\r\n                 * editor.execCommand( 'webapp' , {\r\n                 *     title: '植物大战僵尸',\r\n                 *     width: 560,\r\n                 *     height: 465,\r\n                 *     logo: '应用展示的图片',\r\n                 *     url: '百度应用的地址'\r\n                 * } );\r\n                 * ```\r\n                 */\r\n                'webapp': {\r\n                    execCommand: function(cmd, obj) {\r\n\r\n                        var me = this,\r\n                            str = createInsertStr(utils.extend(obj, {\r\n                                align: 'none'\r\n                            }), false);\r\n                        me.execCommand(\"inserthtml\", str);\r\n                    },\r\n                    queryCommandState: function() {\r\n                        var me = this,\r\n                            img = me.selection.getRange().getClosedNode(),\r\n                            flag = img && (img.className == \"edui-faked-webapp\");\r\n                        return flag ? 1 : 0;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    // plugins/template.js\r\n    ///import core\r\n    ///import plugins\\inserthtml.js\r\n    ///import plugins\\cleardoc.js\r\n    ///commands 模板\r\n    ///commandsName  template\r\n    ///commandsTitle  模板\r\n    ///commandsDialog  dialogs\\template\r\n    UE.plugins['template'] = function() {\r\n        UE.commands['template'] = {\r\n            execCommand: function(cmd, obj) {\r\n                obj.html && this.execCommand(\"inserthtml\", obj.html);\r\n            }\r\n        };\r\n        this.addListener(\"click\", function(type, evt) {\r\n            var el = evt.target || evt.srcElement,\r\n                range = this.selection.getRange();\r\n            var tnode = domUtils.findParent(el, function(node) {\r\n                if (node.className && domUtils.hasClass(node, \"ue_t\")) {\r\n                    return node;\r\n                }\r\n            }, true);\r\n            tnode && range.selectNode(tnode).shrinkBoundary().select();\r\n        });\r\n        this.addListener(\"keydown\", function(type, evt) {\r\n            var range = this.selection.getRange();\r\n            if (!range.collapsed) {\r\n                if (!evt.ctrlKey && !evt.metaKey && !evt.shiftKey && !evt.altKey) {\r\n                    var tnode = domUtils.findParent(range.startContainer, function(node) {\r\n                        if (node.className && domUtils.hasClass(node, \"ue_t\")) {\r\n                            return node;\r\n                        }\r\n                    }, true);\r\n                    if (tnode) {\r\n                        domUtils.removeClasses(tnode, [\"ue_t\"]);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    // plugins/music.js\r\n    /**\r\n     * 插入音乐命令\r\n     * @file\r\n     */\r\n    UE.plugin.register('music', function() {\r\n        var me = this;\r\n\r\n        function creatInsertStr(url, width, height, align, cssfloat, toEmbed) {\r\n            return !toEmbed ?\r\n                '<img ' +\r\n                (align && !cssfloat ? 'align=\"' + align + '\"' : '') +\r\n                (cssfloat ? 'style=\"float:' + cssfloat + '\"' : '') +\r\n                ' width=\"' + width + '\" height=\"' + height + '\" _url=\"' + url + '\" class=\"edui-faked-music\"' +\r\n                ' src=\"' + me.options.langPath + me.options.lang + '/images/music.png\" />' :\r\n                '<embed type=\"application/x-shockwave-flash\" class=\"edui-faked-music\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\"' +\r\n                ' src=\"' + url + '\" width=\"' + width + '\" height=\"' + height + '\" ' + (align && !cssfloat ? 'align=\"' + align + '\"' : '') +\r\n                (cssfloat ? 'style=\"float:' + cssfloat + '\"' : '') +\r\n                ' wmode=\"transparent\" play=\"true\" loop=\"false\" menu=\"false\" allowscriptaccess=\"never\" allowfullscreen=\"true\" >';\r\n        }\r\n        return {\r\n            outputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('img'), function(node) {\r\n                    var html;\r\n                    if (node.getAttr('class') == 'edui-faked-music') {\r\n                        var cssfloat = node.getStyle('float');\r\n                        var align = node.getAttr('align');\r\n                        html = creatInsertStr(node.getAttr(\"_url\"), node.getAttr('width'), node.getAttr('height'), align, cssfloat, true);\r\n                        var embed = UE.uNode.createElement(html);\r\n                        node.parentNode.replaceChild(embed, node);\r\n                    }\r\n                })\r\n            },\r\n            inputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('embed'), function(node) {\r\n                    if (node.getAttr('class') == 'edui-faked-music') {\r\n                        var cssfloat = node.getStyle('float');\r\n                        var align = node.getAttr('align');\r\n                        html = creatInsertStr(node.getAttr(\"src\"), node.getAttr('width'), node.getAttr('height'), align, cssfloat, false);\r\n                        var img = UE.uNode.createElement(html);\r\n                        node.parentNode.replaceChild(img, node);\r\n                    }\r\n                })\r\n\r\n            },\r\n            commands: {\r\n                /**\r\n                 * 插入音乐\r\n                 * @command music\r\n                 * @method execCommand\r\n                 * @param { Object } musicOptions 插入音乐的参数项， 支持的key有： url=>音乐地址；\r\n                 * width=>音乐容器宽度；height=>音乐容器高度；align=>音乐文件的对齐方式， 可选值有: left, center, right, none\r\n                 * @example\r\n                 * ```javascript\r\n                 * //editor是编辑器实例\r\n                 * //在编辑器里插入一个“植物大战僵尸”的APP\r\n                 * editor.execCommand( 'music' , {\r\n                 *     width: 400,\r\n                 *     height: 95,\r\n                 *     align: \"center\",\r\n                 *     url: \"音乐地址\"\r\n                 * } );\r\n                 * ```\r\n                 */\r\n                'music': {\r\n                    execCommand: function(cmd, musicObj) {\r\n                        var me = this,\r\n                            str = creatInsertStr(musicObj.url, musicObj.width || 400, musicObj.height || 95, \"none\", false);\r\n                        me.execCommand(\"inserthtml\", str);\r\n                    },\r\n                    queryCommandState: function() {\r\n                        var me = this,\r\n                            img = me.selection.getRange().getClosedNode(),\r\n                            flag = img && (img.className == \"edui-faked-music\");\r\n                        return flag ? 1 : 0;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    // plugins/autoupload.js\r\n    /**\r\n     * @description\r\n     * 1.拖放文件到编辑区域，自动上传并插入到选区\r\n     * 2.插入粘贴板的图片，自动上传并插入到选区\r\n     * @author Jinqn\r\n     * @date 2013-10-14\r\n     */\r\n    UE.plugin.register('autoupload', function() {\r\n\r\n        function sendAndInsertFile(file, editor) {\r\n            var me = editor;\r\n            //模拟数据\r\n            var fieldName, urlPrefix, maxSize, allowFiles, actionUrl,\r\n                loadingHtml, errorHandler, successHandler,\r\n                filetype = /image\\/\\w+/i.test(file.type) ? 'image' : 'file',\r\n                loadingId = 'loading_' + (+new Date()).toString(36);\r\n\r\n            fieldName = me.getOpt(filetype + 'FieldName');\r\n            urlPrefix = me.getOpt(filetype + 'UrlPrefix');\r\n            maxSize = me.getOpt(filetype + 'MaxSize');\r\n            allowFiles = me.getOpt(filetype + 'AllowFiles');\r\n            actionUrl = me.getActionUrl(me.getOpt(filetype + 'ActionName'));\r\n            errorHandler = function(title) {\r\n                var loader = me.document.getElementById(loadingId);\r\n                loader && domUtils.remove(loader);\r\n                me.fireEvent('showmessage', {\r\n                    'id': loadingId,\r\n                    'content': title,\r\n                    'type': 'error',\r\n                    'timeout': 4000\r\n                });\r\n            };\r\n\r\n            if (filetype == 'image') {\r\n                loadingHtml = '<img class=\"loadingclass\" id=\"' + loadingId + '\" src=\"' +\r\n                    me.options.themePath + me.options.theme +\r\n                    '/images/spacer.gif\" title=\"' + (me.getLang('autoupload.loading') || '') + '\" >';\r\n                successHandler = function(data) {\r\n                    var link = urlPrefix + data.url,\r\n                        loader = me.document.getElementById(loadingId);\r\n                    if (loader) {\r\n                        loader.setAttribute('src', link);\r\n                        loader.setAttribute('_src', link);\r\n                        loader.setAttribute('title', data.title || '');\r\n                        loader.setAttribute('alt', data.original || '');\r\n                        loader.removeAttribute('id');\r\n                        domUtils.removeClasses(loader, 'loadingclass');\r\n                    }\r\n                };\r\n            } else {\r\n                loadingHtml = '<p>' +\r\n                    '<img class=\"loadingclass\" id=\"' + loadingId + '\" src=\"' +\r\n                    me.options.themePath + me.options.theme +\r\n                    '/images/spacer.gif\" title=\"' + (me.getLang('autoupload.loading') || '') + '\" >' +\r\n                    '</p>';\r\n                successHandler = function(data) {\r\n                    var link = urlPrefix + data.url,\r\n                        loader = me.document.getElementById(loadingId);\r\n\r\n                    var rng = me.selection.getRange(),\r\n                        bk = rng.createBookmark();\r\n                    rng.selectNode(loader).select();\r\n                    me.execCommand('insertfile', { 'url': link });\r\n                    rng.moveToBookmark(bk).select();\r\n                };\r\n            }\r\n\r\n            /* 插入loading的占位符 */\r\n            me.execCommand('inserthtml', loadingHtml);\r\n\r\n            /* 判断后端配置是否没有加载成功 */\r\n            if (!me.getOpt(filetype + 'ActionName')) {\r\n                errorHandler(me.getLang('autoupload.errorLoadConfig'));\r\n                return;\r\n            }\r\n            /* 判断文件大小是否超出限制 */\r\n            if (file.size > maxSize) {\r\n                errorHandler(me.getLang('autoupload.exceedSizeError'));\r\n                return;\r\n            }\r\n            /* 判断文件格式是否超出允许 */\r\n            var fileext = file.name ? file.name.substr(file.name.lastIndexOf('.')) : '';\r\n            if ((fileext && filetype != 'image') || (allowFiles && (allowFiles.join('') + '.').indexOf(fileext.toLowerCase() + '.') == -1)) {\r\n                errorHandler(me.getLang('autoupload.exceedTypeError'));\r\n                return;\r\n            }\r\n\r\n            /* 创建Ajax并提交 */\r\n            var xhr = new XMLHttpRequest(),\r\n                fd = new FormData(),\r\n                params = utils.serializeParam(me.queryCommandValue('serverparam')) || '',\r\n                url = utils.formatUrl(actionUrl + (actionUrl.indexOf('?') == -1 ? '?' : '&') + params);\r\n\r\n            fd.append(fieldName, file, file.name || ('blob.' + file.type.substr('image/'.length)));\r\n            fd.append('type', 'ajax');\r\n            xhr.open(\"post\", url, true);\r\n            xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\r\n            xhr.addEventListener('load', function(e) {\r\n                try {\r\n                    var json = (new Function(\"return \" + utils.trim(e.target.response)))();\r\n                    if (json.state == 'SUCCESS' && json.url) {\r\n                        successHandler(json);\r\n                    } else {\r\n                        errorHandler(json.state);\r\n                    }\r\n                } catch (er) {\r\n                    errorHandler(me.getLang('autoupload.loadError'));\r\n                }\r\n            });\r\n            xhr.send(fd);\r\n        }\r\n\r\n        function getPasteImage(e) {\r\n            return e.clipboardData && e.clipboardData.items && e.clipboardData.items.length == 1 && /^image\\//.test(e.clipboardData.items[0].type) ? e.clipboardData.items : null;\r\n        }\r\n\r\n        function getDropImage(e) {\r\n            return e.dataTransfer && e.dataTransfer.files ? e.dataTransfer.files : null;\r\n        }\r\n\r\n        return {\r\n            outputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('img'), function(n) {\r\n                    if (/\\b(loaderrorclass)|(bloaderrorclass)\\b/.test(n.getAttr('class'))) {\r\n                        n.parentNode.removeChild(n);\r\n                    }\r\n                });\r\n                utils.each(root.getNodesByTagName('p'), function(n) {\r\n                    if (/\\bloadpara\\b/.test(n.getAttr('class'))) {\r\n                        n.parentNode.removeChild(n);\r\n                    }\r\n                });\r\n            },\r\n            bindEvents: {\r\n                //插入粘贴板的图片，拖放插入图片\r\n                'ready': function(e) {\r\n                    var me = this;\r\n                    if (window.FormData && window.FileReader) {\r\n                        domUtils.on(me.body, 'paste drop', function(e) {\r\n                            var hasImg = false,\r\n                                items;\r\n                            //获取粘贴板文件列表或者拖放文件列表\r\n                            items = e.type == 'paste' ? getPasteImage(e) : getDropImage(e);\r\n                            if (items) {\r\n                                var len = items.length,\r\n                                    file;\r\n                                while (len--) {\r\n                                    file = items[len];\r\n                                    if (file.getAsFile) file = file.getAsFile();\r\n                                    if (file && file.size > 0) {\r\n                                        sendAndInsertFile(file, me);\r\n                                        hasImg = true;\r\n                                    }\r\n                                }\r\n                                hasImg && e.preventDefault();\r\n                            }\r\n\r\n                        });\r\n                        //取消拖放图片时出现的文字光标位置提示\r\n                        domUtils.on(me.body, 'dragover', function(e) {\r\n                            if (e.dataTransfer.types[0] == 'Files') {\r\n                                e.preventDefault();\r\n                            }\r\n                        });\r\n\r\n                        //设置loading的样式\r\n                        utils.cssRule('loading',\r\n                            '.loadingclass{display:inline-block;cursor:default;background: url(\\'' +\r\n                            this.options.themePath +\r\n                            this.options.theme + '/images/loading.gif\\') no-repeat center center transparent;border:1px solid #cccccc;margin-left:1px;height: 22px;width: 22px;}\\n' +\r\n                            '.loaderrorclass{display:inline-block;cursor:default;background: url(\\'' +\r\n                            this.options.themePath +\r\n                            this.options.theme + '/images/loaderror.png\\') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;' +\r\n                            '}',\r\n                            this.document);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    // plugins/autosave.js\r\n    UE.plugin.register('autosave', function() {\r\n\r\n        var me = this,\r\n            //无限循环保护\r\n            lastSaveTime = new Date(),\r\n            //最小保存间隔时间\r\n            MIN_TIME = 20,\r\n            //auto save key\r\n            saveKey = null;\r\n\r\n        function save(editor) {\r\n\r\n            var saveData;\r\n\r\n            if (new Date() - lastSaveTime < MIN_TIME) {\r\n                return;\r\n            }\r\n\r\n            if (!editor.hasContents()) {\r\n                //这里不能调用命令来删除， 会造成事件死循环\r\n                saveKey && me.removePreferences(saveKey);\r\n                return;\r\n            }\r\n\r\n            lastSaveTime = new Date();\r\n\r\n            editor._saveFlag = null;\r\n\r\n            saveData = me.body.innerHTML;\r\n\r\n            if (editor.fireEvent(\"beforeautosave\", {\r\n                    content: saveData\r\n                }) === false) {\r\n                return;\r\n            }\r\n\r\n            me.setPreferences(saveKey, saveData);\r\n\r\n            editor.fireEvent(\"afterautosave\", {\r\n                content: saveData\r\n            });\r\n\r\n        }\r\n\r\n        return {\r\n            defaultOptions: {\r\n                //默认间隔时间\r\n                saveInterval: 500\r\n            },\r\n            bindEvents: {\r\n                'ready': function() {\r\n\r\n                    var _suffix = \"-drafts-data\",\r\n                        key = null;\r\n\r\n                    if (me.key) {\r\n                        key = me.key + _suffix;\r\n                    } else {\r\n                        key = (me.container.parentNode.id || 'ue-common') + _suffix;\r\n                    }\r\n\r\n                    //页面地址+编辑器ID 保持唯一\r\n                    saveKey = (location.protocol + location.host + location.pathname).replace(/[.:\\/]/g, '_') + key;\r\n\r\n                },\r\n\r\n                'contentchange': function() {\r\n\r\n                    if (!saveKey) {\r\n                        return;\r\n                    }\r\n\r\n                    if (me._saveFlag) {\r\n                        window.clearTimeout(me._saveFlag);\r\n                    }\r\n\r\n                    if (me.options.saveInterval > 0) {\r\n\r\n                        me._saveFlag = window.setTimeout(function() {\r\n\r\n                            save(me);\r\n\r\n                        }, me.options.saveInterval);\r\n\r\n                    } else {\r\n\r\n                        save(me);\r\n\r\n                    }\r\n\r\n\r\n                }\r\n            },\r\n            commands: {\r\n                'clearlocaldata': {\r\n                    execCommand: function(cmd, name) {\r\n                        if (saveKey && me.getPreferences(saveKey)) {\r\n                            me.removePreferences(saveKey)\r\n                        }\r\n                    },\r\n                    notNeedUndo: true,\r\n                    ignoreContentChange: true\r\n                },\r\n\r\n                'getlocaldata': {\r\n                    execCommand: function(cmd, name) {\r\n                        return saveKey ? me.getPreferences(saveKey) || '' : '';\r\n                    },\r\n                    notNeedUndo: true,\r\n                    ignoreContentChange: true\r\n                },\r\n\r\n                'drafts': {\r\n                    execCommand: function(cmd, name) {\r\n                        if (saveKey) {\r\n                            me.body.innerHTML = me.getPreferences(saveKey) || '<p>' + domUtils.fillHtml + '</p>';\r\n                            me.focus(true);\r\n                        }\r\n                    },\r\n                    queryCommandState: function() {\r\n                        return saveKey ? (me.getPreferences(saveKey) === null ? -1 : 0) : -1;\r\n                    },\r\n                    notNeedUndo: true,\r\n                    ignoreContentChange: true\r\n                }\r\n            }\r\n        }\r\n\r\n    });\r\n\r\n    // plugins/charts.js\r\n    UE.plugin.register('charts', function() {\r\n\r\n        var me = this;\r\n\r\n        return {\r\n            bindEvents: {\r\n                'chartserror': function() {}\r\n            },\r\n            commands: {\r\n                'charts': {\r\n                    execCommand: function(cmd, data) {\r\n\r\n                        var tableNode = domUtils.findParentByTagName(this.selection.getRange().startContainer, 'table', true),\r\n                            flagText = [],\r\n                            config = {};\r\n\r\n                        if (!tableNode) {\r\n                            return false;\r\n                        }\r\n\r\n                        if (!validData(tableNode)) {\r\n                            me.fireEvent(\"chartserror\");\r\n                            return false;\r\n                        }\r\n\r\n                        config.title = data.title || '';\r\n                        config.subTitle = data.subTitle || '';\r\n                        config.xTitle = data.xTitle || '';\r\n                        config.yTitle = data.yTitle || '';\r\n                        config.suffix = data.suffix || '';\r\n                        config.tip = data.tip || '';\r\n                        //数据对齐方式\r\n                        config.dataFormat = data.tableDataFormat || '';\r\n                        //图表类型\r\n                        config.chartType = data.chartType || 0;\r\n\r\n                        for (var key in config) {\r\n\r\n                            if (!config.hasOwnProperty(key)) {\r\n                                continue;\r\n                            }\r\n\r\n                            flagText.push(key + \":\" + config[key]);\r\n\r\n                        }\r\n\r\n                        tableNode.setAttribute(\"data-chart\", flagText.join(\";\"));\r\n                        domUtils.addClass(tableNode, \"edui-charts-table\");\r\n\r\n\r\n\r\n                    },\r\n                    queryCommandState: function(cmd, name) {\r\n\r\n                        var tableNode = domUtils.findParentByTagName(this.selection.getRange().startContainer, 'table', true);\r\n                        return tableNode && validData(tableNode) ? 0 : -1;\r\n\r\n                    }\r\n                }\r\n            },\r\n            inputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('table'), function(tableNode) {\r\n\r\n                    if (tableNode.getAttr(\"data-chart\") !== undefined) {\r\n                        tableNode.setAttr(\"style\");\r\n                    }\r\n\r\n                })\r\n\r\n            },\r\n            outputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('table'), function(tableNode) {\r\n\r\n                    if (tableNode.getAttr(\"data-chart\") !== undefined) {\r\n                        tableNode.setAttr(\"style\", \"display: none;\");\r\n                    }\r\n\r\n                })\r\n\r\n            }\r\n        }\r\n\r\n        function validData(table) {\r\n\r\n            var firstRows = null,\r\n                cellCount = 0;\r\n\r\n            //行数不够\r\n            if (table.rows.length < 2) {\r\n                return false;\r\n            }\r\n\r\n            //列数不够\r\n            if (table.rows[0].cells.length < 2) {\r\n                return false;\r\n            }\r\n\r\n            //第一行所有cell必须是th\r\n            firstRows = table.rows[0].cells;\r\n            cellCount = firstRows.length;\r\n\r\n            for (var i = 0, cell; cell = firstRows[i]; i++) {\r\n\r\n                if (cell.tagName.toLowerCase() !== 'th') {\r\n                    return false;\r\n                }\r\n\r\n            }\r\n\r\n            for (var i = 1, row; row = table.rows[i]; i++) {\r\n\r\n                //每行单元格数不匹配， 返回false\r\n                if (row.cells.length != cellCount) {\r\n                    return false;\r\n                }\r\n\r\n                //第一列不是th也返回false\r\n                if (row.cells[0].tagName.toLowerCase() !== 'th') {\r\n                    return false;\r\n                }\r\n\r\n                for (var j = 1, cell; cell = row.cells[j]; j++) {\r\n\r\n                    var value = utils.trim((cell.innerText || cell.textContent || ''));\r\n\r\n                    value = value.replace(new RegExp(UE.dom.domUtils.fillChar, 'g'), '').replace(/^\\s+|\\s+$/g, '');\r\n\r\n                    //必须是数字\r\n                    if (!/^\\d*\\.?\\d+$/.test(value)) {\r\n                        return false;\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            return true;\r\n\r\n        }\r\n\r\n    });\r\n\r\n    // plugins/section.js\r\n    /**\r\n     * 目录大纲支持插件\r\n     * @file\r\n     * @since 1.3.0\r\n     */\r\n    UE.plugin.register('section', function() {\r\n        /* 目录节点对象 */\r\n        function Section(option) {\r\n            this.tag = '';\r\n            this.level = -1,\r\n                this.dom = null;\r\n            this.nextSection = null;\r\n            this.previousSection = null;\r\n            this.parentSection = null;\r\n            this.startAddress = [];\r\n            this.endAddress = [];\r\n            this.children = [];\r\n        }\r\n\r\n        function getSection(option) {\r\n            var section = new Section();\r\n            return utils.extend(section, option);\r\n        }\r\n\r\n        function getNodeFromAddress(startAddress, root) {\r\n            var current = root;\r\n            for (var i = 0; i < startAddress.length; i++) {\r\n                if (!current.childNodes) return null;\r\n                current = current.childNodes[startAddress[i]];\r\n            }\r\n            return current;\r\n        }\r\n\r\n        var me = this;\r\n\r\n        return {\r\n            bindMultiEvents: {\r\n                type: 'aftersetcontent afterscencerestore',\r\n                handler: function() {\r\n                    me.fireEvent('updateSections');\r\n                }\r\n            },\r\n            bindEvents: {\r\n                /* 初始化、拖拽、粘贴、执行setcontent之后 */\r\n                'ready': function() {\r\n                    me.fireEvent('updateSections');\r\n                    domUtils.on(me.body, 'drop paste', function() {\r\n                        me.fireEvent('updateSections');\r\n                    });\r\n                },\r\n                /* 执行paragraph命令之后 */\r\n                'afterexeccommand': function(type, cmd) {\r\n                    if (cmd == 'paragraph') {\r\n                        me.fireEvent('updateSections');\r\n                    }\r\n                },\r\n                /* 部分键盘操作，触发updateSections事件 */\r\n                'keyup': function(type, e) {\r\n                    var me = this,\r\n                        range = me.selection.getRange();\r\n                    if (range.collapsed != true) {\r\n                        me.fireEvent('updateSections');\r\n                    } else {\r\n                        var keyCode = e.keyCode || e.which;\r\n                        if (keyCode == 13 || keyCode == 8 || keyCode == 46) {\r\n                            me.fireEvent('updateSections');\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            commands: {\r\n                'getsections': {\r\n                    execCommand: function(cmd, levels) {\r\n                        var levelFn = levels || ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\r\n\r\n                        for (var i = 0; i < levelFn.length; i++) {\r\n                            if (typeof levelFn[i] == 'string') {\r\n                                levelFn[i] = function(fn) {\r\n                                    return function(node) {\r\n                                        return node.tagName == fn.toUpperCase()\r\n                                    };\r\n                                }(levelFn[i]);\r\n                            } else if (typeof levelFn[i] != 'function') {\r\n                                levelFn[i] = function(node) {\r\n                                    return null;\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        function getSectionLevel(node) {\r\n                            for (var i = 0; i < levelFn.length; i++) {\r\n                                if (levelFn[i](node)) return i;\r\n                            }\r\n                            return -1;\r\n                        }\r\n\r\n                        var me = this,\r\n                            Directory = getSection({ 'level': -1, 'title': 'root' }),\r\n                            previous = Directory;\r\n\r\n                        function traversal(node, Directory) {\r\n                            var level,\r\n                                tmpSection = null,\r\n                                parent,\r\n                                child,\r\n                                children = node.childNodes;\r\n                            for (var i = 0, len = children.length; i < len; i++) {\r\n                                child = children[i];\r\n                                level = getSectionLevel(child);\r\n                                if (level >= 0) {\r\n                                    var address = me.selection.getRange().selectNode(child).createAddress(true).startAddress,\r\n                                        current = getSection({\r\n                                            'tag': child.tagName,\r\n                                            'title': child.innerText || child.textContent || '',\r\n                                            'level': level,\r\n                                            'dom': child,\r\n                                            'startAddress': utils.clone(address, []),\r\n                                            'endAddress': utils.clone(address, []),\r\n                                            'children': []\r\n                                        });\r\n                                    previous.nextSection = current;\r\n                                    current.previousSection = previous;\r\n                                    parent = previous;\r\n                                    while (level <= parent.level) {\r\n                                        parent = parent.parentSection;\r\n                                    }\r\n                                    current.parentSection = parent;\r\n                                    parent.children.push(current);\r\n                                    tmpSection = previous = current;\r\n                                } else {\r\n                                    child.nodeType === 1 && traversal(child, Directory);\r\n                                    tmpSection && tmpSection.endAddress[tmpSection.endAddress.length - 1]++;\r\n                                }\r\n                            }\r\n                        }\r\n                        traversal(me.body, Directory);\r\n                        return Directory;\r\n                    },\r\n                    notNeedUndo: true\r\n                },\r\n                'movesection': {\r\n                    execCommand: function(cmd, sourceSection, targetSection, isAfter) {\r\n\r\n                        var me = this,\r\n                            targetAddress,\r\n                            target;\r\n\r\n                        if (!sourceSection || !targetSection || targetSection.level == -1) return;\r\n\r\n                        targetAddress = isAfter ? targetSection.endAddress : targetSection.startAddress;\r\n                        target = getNodeFromAddress(targetAddress, me.body);\r\n\r\n                        /* 判断目标地址是否被源章节包含 */\r\n                        if (!targetAddress || !target || isContainsAddress(sourceSection.startAddress, sourceSection.endAddress, targetAddress)) return;\r\n\r\n                        var startNode = getNodeFromAddress(sourceSection.startAddress, me.body),\r\n                            endNode = getNodeFromAddress(sourceSection.endAddress, me.body),\r\n                            current,\r\n                            nextNode;\r\n\r\n                        if (isAfter) {\r\n                            current = endNode;\r\n                            while (current && !(domUtils.getPosition(startNode, current) & domUtils.POSITION_FOLLOWING)) {\r\n                                nextNode = current.previousSibling;\r\n                                domUtils.insertAfter(target, current);\r\n                                if (current == startNode) break;\r\n                                current = nextNode;\r\n                            }\r\n                        } else {\r\n                            current = startNode;\r\n                            while (current && !(domUtils.getPosition(current, endNode) & domUtils.POSITION_FOLLOWING)) {\r\n                                nextNode = current.nextSibling;\r\n                                target.parentNode.insertBefore(current, target);\r\n                                if (current == endNode) break;\r\n                                current = nextNode;\r\n                            }\r\n                        }\r\n\r\n                        me.fireEvent('updateSections');\r\n\r\n                        /* 获取地址的包含关系 */\r\n                        function isContainsAddress(startAddress, endAddress, addressTarget) {\r\n                            var isAfterStartAddress = false,\r\n                                isBeforeEndAddress = false;\r\n                            for (var i = 0; i < startAddress.length; i++) {\r\n                                if (i >= addressTarget.length) break;\r\n                                if (addressTarget[i] > startAddress[i]) {\r\n                                    isAfterStartAddress = true;\r\n                                    break;\r\n                                } else if (addressTarget[i] < startAddress[i]) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                            for (var i = 0; i < endAddress.length; i++) {\r\n                                if (i >= addressTarget.length) break;\r\n                                if (addressTarget[i] < startAddress[i]) {\r\n                                    isBeforeEndAddress = true;\r\n                                    break;\r\n                                } else if (addressTarget[i] > startAddress[i]) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                            return isAfterStartAddress && isBeforeEndAddress;\r\n                        }\r\n                    }\r\n                },\r\n                'deletesection': {\r\n                    execCommand: function(cmd, section, keepChildren) {\r\n                        var me = this;\r\n\r\n                        if (!section) return;\r\n\r\n                        function getNodeFromAddress(startAddress) {\r\n                            var current = me.body;\r\n                            for (var i = 0; i < startAddress.length; i++) {\r\n                                if (!current.childNodes) return null;\r\n                                current = current.childNodes[startAddress[i]];\r\n                            }\r\n                            return current;\r\n                        }\r\n\r\n                        var startNode = getNodeFromAddress(section.startAddress),\r\n                            endNode = getNodeFromAddress(section.endAddress),\r\n                            current = startNode,\r\n                            nextNode;\r\n\r\n                        if (!keepChildren) {\r\n                            while (current && domUtils.inDoc(endNode, me.document) && !(domUtils.getPosition(current, endNode) & domUtils.POSITION_FOLLOWING)) {\r\n                                nextNode = current.nextSibling;\r\n                                domUtils.remove(current);\r\n                                current = nextNode;\r\n                            }\r\n                        } else {\r\n                            domUtils.remove(current);\r\n                        }\r\n\r\n                        me.fireEvent('updateSections');\r\n                    }\r\n                },\r\n                'selectsection': {\r\n                    execCommand: function(cmd, section) {\r\n                        if (!section && !section.dom) return false;\r\n                        var me = this,\r\n                            range = me.selection.getRange(),\r\n                            address = {\r\n                                'startAddress': utils.clone(section.startAddress, []),\r\n                                'endAddress': utils.clone(section.endAddress, [])\r\n                            };\r\n                        address.endAddress[address.endAddress.length - 1]++;\r\n                        range.moveToAddress(address).select().scrollToView();\r\n                        return true;\r\n                    },\r\n                    notNeedUndo: true\r\n                },\r\n                'scrolltosection': {\r\n                    execCommand: function(cmd, section) {\r\n                        if (!section && !section.dom) return false;\r\n                        var me = this,\r\n                            range = me.selection.getRange(),\r\n                            address = {\r\n                                'startAddress': section.startAddress,\r\n                                'endAddress': section.endAddress\r\n                            };\r\n                        address.endAddress[address.endAddress.length - 1]++;\r\n                        range.moveToAddress(address).scrollToView();\r\n                        return true;\r\n                    },\r\n                    notNeedUndo: true\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    // plugins/simpleupload.js\r\n    /**\r\n     * @description\r\n     * 简单上传:点击按钮,直接选择文件上传\r\n     * @author Jinqn\r\n     * @date 2014-03-31\r\n     */\r\n    UE.plugin.register('simpleupload', function() {\r\n        var me = this,\r\n            isLoaded = false,\r\n            containerBtn;\r\n\r\n        function initUploadBtn() {\r\n            var w = containerBtn.offsetWidth || 20,\r\n                h = containerBtn.offsetHeight || 20,\r\n                btnIframe = document.createElement('iframe'),\r\n                btnStyle = 'display:block;width:' + w + 'px;height:' + h + 'px;overflow:hidden;border:0;margin:0;padding:0;position:absolute;top:0;left:0;filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity: 0;opacity: 0;cursor:pointer;';\r\n\r\n            domUtils.on(btnIframe, 'load', function() {\r\n\r\n                var timestrap = (+new Date()).toString(36),\r\n                    wrapper,\r\n                    btnIframeDoc,\r\n                    btnIframeBody;\r\n\r\n                btnIframeDoc = (btnIframe.contentDocument || btnIframe.contentWindow.document);\r\n                btnIframeBody = btnIframeDoc.body;\r\n                wrapper = btnIframeDoc.createElement('div');\r\n\r\n                wrapper.innerHTML = '<form id=\"edui_form_' + timestrap + '\" target=\"edui_iframe_' + timestrap + '\" method=\"POST\" enctype=\"multipart/form-data\" action=\"' + me.getOpt('serverUrl') + '\" ' +\r\n                    'style=\"' + btnStyle + '\">' +\r\n                    '<input id=\"edui_input_' + timestrap + '\" type=\"file\" accept=\"image/*\" name=\"' + me.options.imageFieldName + '\" ' +\r\n                    'style=\"' + btnStyle + '\">' +\r\n                    '</form>' +\r\n                    '<iframe id=\"edui_iframe_' + timestrap + '\" name=\"edui_iframe_' + timestrap + '\" style=\"display:none;width:0;height:0;border:0;margin:0;padding:0;position:absolute;\"></iframe>';\r\n\r\n                wrapper.className = 'edui-' + me.options.theme;\r\n                wrapper.id = me.ui.id + '_iframeupload';\r\n                btnIframeBody.style.cssText = btnStyle;\r\n                btnIframeBody.style.width = w + 'px';\r\n                btnIframeBody.style.height = h + 'px';\r\n                btnIframeBody.appendChild(wrapper);\r\n\r\n                if (btnIframeBody.parentNode) {\r\n                    btnIframeBody.parentNode.style.width = w + 'px';\r\n                    btnIframeBody.parentNode.style.height = w + 'px';\r\n                }\r\n\r\n                var form = btnIframeDoc.getElementById('edui_form_' + timestrap);\r\n                var input = btnIframeDoc.getElementById('edui_input_' + timestrap);\r\n                var iframe = btnIframeDoc.getElementById('edui_iframe_' + timestrap);\r\n\r\n                domUtils.on(input, 'change', function() {\r\n                    if (!input.value) return;\r\n                    var loadingId = 'loading_' + (+new Date()).toString(36);\r\n                    var params = utils.serializeParam(me.queryCommandValue('serverparam')) || '';\r\n\r\n                    var imageActionUrl = me.getActionUrl(me.getOpt('imageActionName'));\r\n                    var allowFiles = me.getOpt('imageAllowFiles');\r\n\r\n                    me.focus();\r\n                    me.execCommand('inserthtml', '<img class=\"loadingclass\" id=\"' + loadingId + '\" src=\"' + me.options.themePath + me.options.theme + '/images/spacer.gif\" title=\"' + (me.getLang('simpleupload.loading') || '') + '\" >');\r\n\r\n                    function callback() {\r\n                        try {\r\n                            var link, json, loader,\r\n                                body = (iframe.contentDocument || iframe.contentWindow.document).body,\r\n                                result = body.innerText || body.textContent || '';\r\n                            json = (new Function(\"return \" + result))();\r\n                            link = me.options.imageUrlPrefix + json.url;\r\n                            if (json.state == 'SUCCESS' && json.url) {\r\n                                loader = me.document.getElementById(loadingId);\r\n                                loader.setAttribute('src', link);\r\n                                loader.setAttribute('_src', link);\r\n                                loader.setAttribute('title', json.title || '');\r\n                                loader.setAttribute('alt', json.original || '');\r\n                                loader.removeAttribute('id');\r\n                                domUtils.removeClasses(loader, 'loadingclass');\r\n                            } else {\r\n                                showErrorLoader && showErrorLoader(json.state);\r\n                            }\r\n                        } catch (er) {\r\n                            showErrorLoader && showErrorLoader(me.getLang('simpleupload.loadError'));\r\n                        }\r\n                        form.reset();\r\n                        domUtils.un(iframe, 'load', callback);\r\n                    }\r\n\r\n                    function showErrorLoader(title) {\r\n                        if (loadingId) {\r\n                            var loader = me.document.getElementById(loadingId);\r\n                            loader && domUtils.remove(loader);\r\n                            me.fireEvent('showmessage', {\r\n                                'id': loadingId,\r\n                                'content': title,\r\n                                'type': 'error',\r\n                                'timeout': 4000\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                    /* 判断后端配置是否没有加载成功 */\r\n                    if (!me.getOpt('imageActionName')) {\r\n                        errorHandler(me.getLang('autoupload.errorLoadConfig'));\r\n                        return;\r\n                    }\r\n                    // 判断文件格式是否错误\r\n                    var filename = input.value,\r\n                        fileext = filename ? filename.substr(filename.lastIndexOf('.')) : '';\r\n                    if (!fileext || (allowFiles && (allowFiles.join('') + '.').indexOf(fileext.toLowerCase() + '.') == -1)) {\r\n                        showErrorLoader(me.getLang('simpleupload.exceedTypeError'));\r\n                        return;\r\n                    }\r\n\r\n                    domUtils.on(iframe, 'load', callback);\r\n                    form.action = utils.formatUrl(imageActionUrl + (imageActionUrl.indexOf('?') == -1 ? '?' : '&') + params);\r\n                    form.submit();\r\n                });\r\n\r\n                var stateTimer;\r\n                me.addListener('selectionchange', function() {\r\n                    clearTimeout(stateTimer);\r\n                    stateTimer = setTimeout(function() {\r\n                        var state = me.queryCommandState('simpleupload');\r\n                        if (state == -1) {\r\n                            input.disabled = 'disabled';\r\n                        } else {\r\n                            input.disabled = false;\r\n                        }\r\n                    }, 400);\r\n                });\r\n                isLoaded = true;\r\n            });\r\n\r\n            btnIframe.style.cssText = btnStyle;\r\n            containerBtn.appendChild(btnIframe);\r\n        }\r\n\r\n        return {\r\n            bindEvents: {\r\n                'ready': function() {\r\n                    //设置loading的样式\r\n                    utils.cssRule('loading',\r\n                        '.loadingclass{display:inline-block;cursor:default;background: url(\\'' +\r\n                        this.options.themePath +\r\n                        this.options.theme + '/images/loading.gif\\') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}\\n' +\r\n                        '.loaderrorclass{display:inline-block;cursor:default;background: url(\\'' +\r\n                        this.options.themePath +\r\n                        this.options.theme + '/images/loaderror.png\\') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;' +\r\n                        '}',\r\n                        this.document);\r\n                },\r\n                /* 初始化简单上传按钮 */\r\n                'simpleuploadbtnready': function(type, container) {\r\n                    containerBtn = container;\r\n                    me.afterConfigReady(initUploadBtn);\r\n                }\r\n            },\r\n            outputRule: function(root) {\r\n                utils.each(root.getNodesByTagName('img'), function(n) {\r\n                    if (/\\b(loaderrorclass)|(bloaderrorclass)\\b/.test(n.getAttr('class'))) {\r\n                        n.parentNode.removeChild(n);\r\n                    }\r\n                });\r\n            },\r\n            commands: {\r\n                'simpleupload': {\r\n                    queryCommandState: function() {\r\n                        return isLoaded ? 0 : -1;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    // plugins/serverparam.js\r\n    /**\r\n     * 服务器提交的额外参数列表设置插件\r\n     * @file\r\n     * @since 1.2.6.1\r\n     */\r\n    UE.plugin.register('serverparam', function() {\r\n\r\n        var me = this,\r\n            serverParam = {};\r\n\r\n        return {\r\n            commands: {\r\n                /**\r\n                 * 修改服务器提交的额外参数列表,清除所有项\r\n                 * @command serverparam\r\n                 * @method execCommand\r\n                 * @param { String } cmd 命令字符串\r\n                 * @example\r\n                 * ```javascript\r\n                 * editor.execCommand('serverparam');\r\n                 * editor.queryCommandValue('serverparam'); //返回空\r\n                 * ```\r\n                 */\r\n                /**\r\n                 * 修改服务器提交的额外参数列表,删除指定项\r\n                 * @command serverparam\r\n                 * @method execCommand\r\n                 * @param { String } cmd 命令字符串\r\n                 * @param { String } key 要清除的属性\r\n                 * @example\r\n                 * ```javascript\r\n                 * editor.execCommand('serverparam', 'name'); //删除属性name\r\n                 * ```\r\n                 */\r\n                /**\r\n                 * 修改服务器提交的额外参数列表,使用键值添加项\r\n                 * @command serverparam\r\n                 * @method execCommand\r\n                 * @param { String } cmd 命令字符串\r\n                 * @param { String } key 要添加的属性\r\n                 * @param { String } value 要添加属性的值\r\n                 * @example\r\n                 * ```javascript\r\n                 * editor.execCommand('serverparam', 'name', 'hello');\r\n                 * editor.queryCommandValue('serverparam'); //返回对象 {'name': 'hello'}\r\n                 * ```\r\n                 */\r\n                /**\r\n                 * 修改服务器提交的额外参数列表,传入键值对对象添加多项\r\n                 * @command serverparam\r\n                 * @method execCommand\r\n                 * @param { String } cmd 命令字符串\r\n                 * @param { Object } key 传入的键值对对象\r\n                 * @example\r\n                 * ```javascript\r\n                 * editor.execCommand('serverparam', {'name': 'hello'});\r\n                 * editor.queryCommandValue('serverparam'); //返回对象 {'name': 'hello'}\r\n                 * ```\r\n                 */\r\n                /**\r\n                 * 修改服务器提交的额外参数列表,使用自定义函数添加多项\r\n                 * @command serverparam\r\n                 * @method execCommand\r\n                 * @param { String } cmd 命令字符串\r\n                 * @param { Function } key 自定义获取参数的函数\r\n                 * @example\r\n                 * ```javascript\r\n                 * editor.execCommand('serverparam', function(editor){\r\n                 *     return {'key': 'value'};\r\n                 * });\r\n                 * editor.queryCommandValue('serverparam'); //返回对象 {'key': 'value'}\r\n                 * ```\r\n                 */\r\n\r\n                /**\r\n                 * 获取服务器提交的额外参数列表\r\n                 * @command serverparam\r\n                 * @method queryCommandValue\r\n                 * @param { String } cmd 命令字符串\r\n                 * @example\r\n                 * ```javascript\r\n                 * editor.queryCommandValue( 'serverparam' ); //返回对象 {'key': 'value'}\r\n                 * ```\r\n                 */\r\n                'serverparam': {\r\n                    execCommand: function(cmd, key, value) {\r\n                        if (key === undefined || key === null) { //不传参数,清空列表\r\n                            serverParam = {};\r\n                        } else if (utils.isString(key)) { //传入键值\r\n                            if (value === undefined || value === null) {\r\n                                delete serverParam[key];\r\n                            } else {\r\n                                serverParam[key] = value;\r\n                            }\r\n                        } else if (utils.isObject(key)) { //传入对象,覆盖列表项\r\n                            utils.extend(serverParam, key, true);\r\n                        } else if (utils.isFunction(key)) { //传入函数,添加列表项\r\n                            utils.extend(serverParam, key(), true);\r\n                        }\r\n                    },\r\n                    queryCommandValue: function() {\r\n                        return serverParam || {};\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n    // plugins/insertfile.js\r\n    /**\r\n     * 插入附件\r\n     */\r\n    UE.plugin.register('insertfile', function() {\r\n\r\n        var me = this;\r\n\r\n        function getFileIcon(url) {\r\n            var ext = url.substr(url.lastIndexOf('.') + 1).toLowerCase(),\r\n                maps = {\r\n                    \"rar\": \"icon_rar.gif\",\r\n                    \"zip\": \"icon_rar.gif\",\r\n                    \"tar\": \"icon_rar.gif\",\r\n                    \"gz\": \"icon_rar.gif\",\r\n                    \"bz2\": \"icon_rar.gif\",\r\n                    \"doc\": \"icon_doc.gif\",\r\n                    \"docx\": \"icon_doc.gif\",\r\n                    \"pdf\": \"icon_pdf.gif\",\r\n                    \"mp3\": \"icon_mp3.gif\",\r\n                    \"xls\": \"icon_xls.gif\",\r\n                    \"chm\": \"icon_chm.gif\",\r\n                    \"ppt\": \"icon_ppt.gif\",\r\n                    \"pptx\": \"icon_ppt.gif\",\r\n                    \"avi\": \"icon_mv.gif\",\r\n                    \"rmvb\": \"icon_mv.gif\",\r\n                    \"wmv\": \"icon_mv.gif\",\r\n                    \"flv\": \"icon_mv.gif\",\r\n                    \"swf\": \"icon_mv.gif\",\r\n                    \"rm\": \"icon_mv.gif\",\r\n                    \"exe\": \"icon_exe.gif\",\r\n                    \"psd\": \"icon_psd.gif\",\r\n                    \"txt\": \"icon_txt.gif\",\r\n                    \"jpg\": \"icon_jpg.gif\",\r\n                    \"png\": \"icon_jpg.gif\",\r\n                    \"jpeg\": \"icon_jpg.gif\",\r\n                    \"gif\": \"icon_jpg.gif\",\r\n                    \"ico\": \"icon_jpg.gif\",\r\n                    \"bmp\": \"icon_jpg.gif\"\r\n                };\r\n            return maps[ext] ? maps[ext] : maps['txt'];\r\n        }\r\n\r\n        return {\r\n            commands: {\r\n                'insertfile': {\r\n                    execCommand: function(command, filelist) {\r\n                        filelist = utils.isArray(filelist) ? filelist : [filelist];\r\n\r\n                        var i, item, icon, title,\r\n                            html = '',\r\n                            URL = me.getOpt('UEDITOR_HOME_URL'),\r\n                            iconDir = URL + (URL.substr(URL.length - 1) == '/' ? '' : '/') + 'dialogs/attachment/fileTypeImages/';\r\n                        for (i = 0; i < filelist.length; i++) {\r\n                            item = filelist[i];\r\n                            icon = iconDir + getFileIcon(item.url);\r\n                            title = item.title || item.url.substr(item.url.lastIndexOf('/') + 1);\r\n                            html += '<p style=\"line-height: 16px;\">' +\r\n                                '<img style=\"vertical-align: middle; margin-right: 2px;\" src=\"' + icon + '\" _src=\"' + icon + '\" />' +\r\n                                '<a style=\"font-size:12px; color:#0066cc;\" href=\"' + item.url + '\" title=\"' + title + '\">' + title + '</a>' +\r\n                                '</p>';\r\n                        }\r\n                        me.execCommand('insertHtml', html);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n\r\n\r\n    // plugins/xssFilter.js\r\n    /**\r\n     * @file xssFilter.js\r\n     * @desc xss过滤器\r\n     * @author robbenmu\r\n     */\r\n\r\n    UE.plugins.xssFilter = function() {\r\n\r\n        var config = UEDITOR_CONFIG;\r\n        var whitList = config.whitList;\r\n\r\n        function filter(node) {\r\n\r\n            var tagName = node.tagName;\r\n            var attrs = node.attrs;\r\n\r\n            if (!whitList.hasOwnProperty(tagName)) {\r\n                node.parentNode.removeChild(node);\r\n                return false;\r\n            }\r\n\r\n            UE.utils.each(attrs, function(val, key) {\r\n\r\n                if (whitList[tagName].indexOf(key) === -1) {\r\n                    node.setAttr(key);\r\n                }\r\n            });\r\n        }\r\n\r\n        // 添加inserthtml\\paste等操作用的过滤规则\r\n        if (whitList && config.xssFilterRules) {\r\n            this.options.filterRules = function() {\r\n\r\n                var result = {};\r\n\r\n                UE.utils.each(whitList, function(val, key) {\r\n                    result[key] = function(node) {\r\n                        return filter(node);\r\n                    };\r\n                });\r\n\r\n                return result;\r\n            }();\r\n        }\r\n\r\n        var tagList = [];\r\n\r\n        UE.utils.each(whitList, function(val, key) {\r\n            tagList.push(key);\r\n        });\r\n\r\n        // 添加input过滤规则\r\n        //\r\n        if (whitList && config.inputXssFilter) {\r\n            this.addInputRule(function(root) {\r\n\r\n                root.traversal(function(node) {\r\n                    if (node.type !== 'element') {\r\n                        return false;\r\n                    }\r\n                    filter(node);\r\n                });\r\n            });\r\n        }\r\n        // 添加output过滤规则\r\n        //\r\n        if (whitList && config.outputXssFilter) {\r\n            this.addOutputRule(function(root) {\r\n\r\n                root.traversal(function(node) {\r\n                    if (node.type !== 'element') {\r\n                        return false;\r\n                    }\r\n                    filter(node);\r\n                });\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n\r\n    // ui/ui.js\r\n    var baidu = baidu || {};\r\n    baidu.editor = baidu.editor || {};\r\n    UE.ui = baidu.editor.ui = {};\r\n\r\n    // ui/uiutils.js\r\n    (function() {\r\n        var browser = baidu.editor.browser,\r\n            domUtils = baidu.editor.dom.domUtils;\r\n\r\n        var magic = '$EDITORUI';\r\n        var root = window[magic] = {};\r\n        var uidMagic = 'ID' + magic;\r\n        var uidCount = 0;\r\n\r\n        var uiUtils = baidu.editor.ui.uiUtils = {\r\n            uid: function(obj) {\r\n                return (obj ? obj[uidMagic] || (obj[uidMagic] = ++uidCount) : ++uidCount);\r\n            },\r\n            hook: function(fn, callback) {\r\n                var dg;\r\n                if (fn && fn._callbacks) {\r\n                    dg = fn;\r\n                } else {\r\n                    dg = function() {\r\n                        var q;\r\n                        if (fn) {\r\n                            q = fn.apply(this, arguments);\r\n                        }\r\n                        var callbacks = dg._callbacks;\r\n                        var k = callbacks.length;\r\n                        while (k--) {\r\n                            var r = callbacks[k].apply(this, arguments);\r\n                            if (q === undefined) {\r\n                                q = r;\r\n                            }\r\n                        }\r\n                        return q;\r\n                    };\r\n                    dg._callbacks = [];\r\n                }\r\n                dg._callbacks.push(callback);\r\n                return dg;\r\n            },\r\n            createElementByHtml: function(html) {\r\n                var el = document.createElement('div');\r\n                el.innerHTML = html;\r\n                el = el.firstChild;\r\n                el.parentNode.removeChild(el);\r\n                return el;\r\n            },\r\n            getViewportElement: function() {\r\n                return (browser.ie && browser.quirks) ?\r\n                    document.body : document.documentElement;\r\n            },\r\n            getClientRect: function(element) {\r\n                var bcr;\r\n                //trace  IE6下在控制编辑器显隐时可能会报错，catch一下\r\n                try {\r\n                    bcr = element.getBoundingClientRect();\r\n                } catch (e) {\r\n                    bcr = { left: 0, top: 0, height: 0, width: 0 }\r\n                }\r\n                var rect = {\r\n                    left: Math.round(bcr.left),\r\n                    top: Math.round(bcr.top),\r\n                    height: Math.round(bcr.bottom - bcr.top),\r\n                    width: Math.round(bcr.right - bcr.left)\r\n                };\r\n                var doc;\r\n                while ((doc = element.ownerDocument) !== document &&\r\n                    (element = domUtils.getWindow(doc).frameElement)) {\r\n                    bcr = element.getBoundingClientRect();\r\n                    rect.left += bcr.left;\r\n                    rect.top += bcr.top;\r\n                }\r\n                rect.bottom = rect.top + rect.height;\r\n                rect.right = rect.left + rect.width;\r\n                return rect;\r\n            },\r\n            getViewportRect: function() {\r\n                var viewportEl = uiUtils.getViewportElement();\r\n                var width = (window.innerWidth || viewportEl.clientWidth) | 0;\r\n                var height = (window.innerHeight || viewportEl.clientHeight) | 0;\r\n                return {\r\n                    left: 0,\r\n                    top: 0,\r\n                    height: height,\r\n                    width: width,\r\n                    bottom: height,\r\n                    right: width\r\n                };\r\n            },\r\n            setViewportOffset: function(element, offset) {\r\n                var rect;\r\n                var fixedLayer = uiUtils.getFixedLayer();\r\n                if (element.parentNode === fixedLayer) {\r\n                    element.style.left = offset.left + 'px';\r\n                    element.style.top = offset.top + 'px';\r\n                } else {\r\n                    domUtils.setViewportOffset(element, offset);\r\n                }\r\n            },\r\n            getEventOffset: function(evt) {\r\n                var el = evt.target || evt.srcElement;\r\n                var rect = uiUtils.getClientRect(el);\r\n                var offset = uiUtils.getViewportOffsetByEvent(evt);\r\n                return {\r\n                    left: offset.left - rect.left,\r\n                    top: offset.top - rect.top\r\n                };\r\n            },\r\n            getViewportOffsetByEvent: function(evt) {\r\n                var el = evt.target || evt.srcElement;\r\n                var frameEl = domUtils.getWindow(el).frameElement;\r\n                var offset = {\r\n                    left: evt.clientX,\r\n                    top: evt.clientY\r\n                };\r\n                if (frameEl && el.ownerDocument !== document) {\r\n                    var rect = uiUtils.getClientRect(frameEl);\r\n                    offset.left += rect.left;\r\n                    offset.top += rect.top;\r\n                }\r\n                return offset;\r\n            },\r\n            setGlobal: function(id, obj) {\r\n                root[id] = obj;\r\n                return magic + '[\"' + id + '\"]';\r\n            },\r\n            unsetGlobal: function(id) {\r\n                delete root[id];\r\n            },\r\n            copyAttributes: function(tgt, src) {\r\n                var attributes = src.attributes;\r\n                var k = attributes.length;\r\n                while (k--) {\r\n                    var attrNode = attributes[k];\r\n                    if (attrNode.nodeName != 'style' && attrNode.nodeName != 'class' && (!browser.ie || attrNode.specified)) {\r\n                        tgt.setAttribute(attrNode.nodeName, attrNode.nodeValue);\r\n                    }\r\n                }\r\n                if (src.className) {\r\n                    domUtils.addClass(tgt, src.className);\r\n                }\r\n                if (src.style.cssText) {\r\n                    tgt.style.cssText += ';' + src.style.cssText;\r\n                }\r\n            },\r\n            removeStyle: function(el, styleName) {\r\n                if (el.style.removeProperty) {\r\n                    el.style.removeProperty(styleName);\r\n                } else if (el.style.removeAttribute) {\r\n                    el.style.removeAttribute(styleName);\r\n                } else throw '';\r\n            },\r\n            contains: function(elA, elB) {\r\n                return elA && elB && (elA === elB ? false : (\r\n                    elA.contains ? elA.contains(elB) :\r\n                    elA.compareDocumentPosition(elB) & 16\r\n                ));\r\n            },\r\n            startDrag: function(evt, callbacks, doc) {\r\n                var doc = doc || document;\r\n                var startX = evt.clientX;\r\n                var startY = evt.clientY;\r\n\r\n                function handleMouseMove(evt) {\r\n                    var x = evt.clientX - startX;\r\n                    var y = evt.clientY - startY;\r\n                    callbacks.ondragmove(x, y, evt);\r\n                    if (evt.stopPropagation) {\r\n                        evt.stopPropagation();\r\n                    } else {\r\n                        evt.cancelBubble = true;\r\n                    }\r\n                }\r\n                if (doc.addEventListener) {\r\n                    function handleMouseUp(evt) {\r\n                        doc.removeEventListener('mousemove', handleMouseMove, true);\r\n                        doc.removeEventListener('mouseup', handleMouseUp, true);\r\n                        window.removeEventListener('mouseup', handleMouseUp, true);\r\n                        callbacks.ondragstop();\r\n                    }\r\n                    doc.addEventListener('mousemove', handleMouseMove, true);\r\n                    doc.addEventListener('mouseup', handleMouseUp, true);\r\n                    window.addEventListener('mouseup', handleMouseUp, true);\r\n\r\n                    evt.preventDefault();\r\n                } else {\r\n                    var elm = evt.srcElement;\r\n                    elm.setCapture();\r\n\r\n                    function releaseCaptrue() {\r\n                        elm.releaseCapture();\r\n                        elm.detachEvent('onmousemove', handleMouseMove);\r\n                        elm.detachEvent('onmouseup', releaseCaptrue);\r\n                        elm.detachEvent('onlosecaptrue', releaseCaptrue);\r\n                        callbacks.ondragstop();\r\n                    }\r\n                    elm.attachEvent('onmousemove', handleMouseMove);\r\n                    elm.attachEvent('onmouseup', releaseCaptrue);\r\n                    elm.attachEvent('onlosecaptrue', releaseCaptrue);\r\n                    evt.returnValue = false;\r\n                }\r\n                callbacks.ondragstart();\r\n            },\r\n            getFixedLayer: function() {\r\n                var layer = document.getElementById('edui_fixedlayer');\r\n                if (layer == null) {\r\n                    layer = document.createElement('div');\r\n                    layer.id = 'edui_fixedlayer';\r\n                    document.body.appendChild(layer);\r\n                    if (browser.ie && browser.version <= 8) {\r\n                        layer.style.position = 'absolute';\r\n                        bindFixedLayer();\r\n                        setTimeout(updateFixedOffset);\r\n                    } else {\r\n                        layer.style.position = 'fixed';\r\n                    }\r\n                    layer.style.left = '0';\r\n                    layer.style.top = '0';\r\n                    layer.style.width = '0';\r\n                    layer.style.height = '0';\r\n                }\r\n                return layer;\r\n            },\r\n            makeUnselectable: function(element) {\r\n                if (browser.opera || (browser.ie && browser.version < 9)) {\r\n                    element.unselectable = 'on';\r\n                    if (element.hasChildNodes()) {\r\n                        for (var i = 0; i < element.childNodes.length; i++) {\r\n                            if (element.childNodes[i].nodeType == 1) {\r\n                                uiUtils.makeUnselectable(element.childNodes[i]);\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (element.style.MozUserSelect !== undefined) {\r\n                        element.style.MozUserSelect = 'none';\r\n                    } else if (element.style.WebkitUserSelect !== undefined) {\r\n                        element.style.WebkitUserSelect = 'none';\r\n                    } else if (element.style.KhtmlUserSelect !== undefined) {\r\n                        element.style.KhtmlUserSelect = 'none';\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        function updateFixedOffset() {\r\n            var layer = document.getElementById('edui_fixedlayer');\r\n            uiUtils.setViewportOffset(layer, {\r\n                left: 0,\r\n                top: 0\r\n            });\r\n            //        layer.style.display = 'none';\r\n            //        layer.style.display = 'block';\r\n\r\n            //#trace: 1354\r\n            //        setTimeout(updateFixedOffset);\r\n        }\r\n\r\n        function bindFixedLayer(adjOffset) {\r\n            domUtils.on(window, 'scroll', updateFixedOffset);\r\n            domUtils.on(window, 'resize', baidu.editor.utils.defer(updateFixedOffset, 0, true));\r\n        }\r\n    })();\r\n\r\n\r\n    // ui/uibase.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            EventBase = baidu.editor.EventBase,\r\n            UIBase = baidu.editor.ui.UIBase = function() {};\r\n\r\n        UIBase.prototype = {\r\n            className: '',\r\n            uiName: '',\r\n            initOptions: function(options) {\r\n                var me = this;\r\n                for (var k in options) {\r\n                    me[k] = options[k];\r\n                }\r\n                this.id = this.id || 'edui' + uiUtils.uid();\r\n            },\r\n            initUIBase: function() {\r\n                this._globalKey = utils.unhtml(uiUtils.setGlobal(this.id, this));\r\n            },\r\n            render: function(holder) {\r\n                var html = this.renderHtml();\r\n                var el = uiUtils.createElementByHtml(html);\r\n\r\n                //by xuheng 给每个node添加class\r\n                var list = domUtils.getElementsByTagName(el, \"*\");\r\n                var theme = \"edui-\" + (this.theme || this.editor.options.theme);\r\n                var layer = document.getElementById('edui_fixedlayer');\r\n                for (var i = 0, node; node = list[i++];) {\r\n                    domUtils.addClass(node, theme);\r\n                }\r\n                domUtils.addClass(el, theme);\r\n                if (layer) {\r\n                    layer.className = \"\";\r\n                    domUtils.addClass(layer, theme);\r\n                }\r\n\r\n                var seatEl = this.getDom();\r\n                if (seatEl != null) {\r\n                    seatEl.parentNode.replaceChild(el, seatEl);\r\n                    uiUtils.copyAttributes(el, seatEl);\r\n                } else {\r\n                    if (typeof holder == 'string') {\r\n                        holder = document.getElementById(holder);\r\n                    }\r\n                    holder = holder || uiUtils.getFixedLayer();\r\n                    domUtils.addClass(holder, theme);\r\n                    holder.appendChild(el);\r\n                }\r\n                this.postRender();\r\n            },\r\n            getDom: function(name) {\r\n                if (!name) {\r\n                    return document.getElementById(this.id);\r\n                } else {\r\n                    return document.getElementById(this.id + '_' + name);\r\n                }\r\n            },\r\n            postRender: function() {\r\n                this.fireEvent('postrender');\r\n            },\r\n            getHtmlTpl: function() {\r\n                return '';\r\n            },\r\n            formatHtml: function(tpl) {\r\n                var prefix = 'edui-' + this.uiName;\r\n                return (tpl\r\n                    .replace(/##/g, this.id)\r\n                    .replace(/%%-/g, this.uiName ? prefix + '-' : '')\r\n                    .replace(/%%/g, (this.uiName ? prefix : '') + ' ' + this.className)\r\n                    .replace(/\\$\\$/g, this._globalKey));\r\n            },\r\n            renderHtml: function() {\r\n                return this.formatHtml(this.getHtmlTpl());\r\n            },\r\n            dispose: function() {\r\n                var box = this.getDom();\r\n                if (box) baidu.editor.dom.domUtils.remove(box);\r\n                uiUtils.unsetGlobal(this.id);\r\n            }\r\n        };\r\n        utils.inherits(UIBase, EventBase);\r\n    })();\r\n\r\n\r\n    // ui/separator.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            Separator = baidu.editor.ui.Separator = function(options) {\r\n                this.initOptions(options);\r\n                this.initSeparator();\r\n            };\r\n        Separator.prototype = {\r\n            uiName: 'separator',\r\n            initSeparator: function() {\r\n                this.initUIBase();\r\n            },\r\n            getHtmlTpl: function() {\r\n                return '<div id=\"##\" class=\"edui-box %%\"></div>';\r\n            }\r\n        };\r\n        utils.inherits(Separator, UIBase);\r\n\r\n    })();\r\n\r\n\r\n    // ui/mask.js\r\n    ///import core\r\n    ///import uicore\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            domUtils = baidu.editor.dom.domUtils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            uiUtils = baidu.editor.ui.uiUtils;\r\n\r\n        var Mask = baidu.editor.ui.Mask = function(options) {\r\n            this.initOptions(options);\r\n            this.initUIBase();\r\n        };\r\n        Mask.prototype = {\r\n            getHtmlTpl: function() {\r\n                return '<div id=\"##\" class=\"edui-mask %%\" onclick=\"return $$._onClick(event, this);\" onmousedown=\"return $$._onMouseDown(event, this);\"></div>';\r\n            },\r\n            postRender: function() {\r\n                var me = this;\r\n                domUtils.on(window, 'resize', function() {\r\n                    setTimeout(function() {\r\n                        if (!me.isHidden()) {\r\n                            me._fill();\r\n                        }\r\n                    });\r\n                });\r\n            },\r\n            show: function(zIndex) {\r\n                this._fill();\r\n                this.getDom().style.display = '';\r\n                this.getDom().style.zIndex = zIndex;\r\n            },\r\n            hide: function() {\r\n                this.getDom().style.display = 'none';\r\n                this.getDom().style.zIndex = '';\r\n            },\r\n            isHidden: function() {\r\n                return this.getDom().style.display == 'none';\r\n            },\r\n            _onMouseDown: function() {\r\n                return false;\r\n            },\r\n            _onClick: function(e, target) {\r\n                this.fireEvent('click', e, target);\r\n            },\r\n            _fill: function() {\r\n                var el = this.getDom();\r\n                var vpRect = uiUtils.getViewportRect();\r\n                el.style.width = vpRect.width + 'px';\r\n                el.style.height = vpRect.height + 'px';\r\n            }\r\n        };\r\n        utils.inherits(Mask, UIBase);\r\n    })();\r\n\r\n\r\n    // ui/popup.js\r\n    ///import core\r\n    ///import uicore\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            domUtils = baidu.editor.dom.domUtils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            Popup = baidu.editor.ui.Popup = function(options) {\r\n                this.initOptions(options);\r\n                this.initPopup();\r\n            };\r\n\r\n        var allPopups = [];\r\n\r\n        function closeAllPopup(evt, el) {\r\n            for (var i = 0; i < allPopups.length; i++) {\r\n                var pop = allPopups[i];\r\n                if (!pop.isHidden()) {\r\n                    if (pop.queryAutoHide(el) !== false) {\r\n                        if (evt && /scroll/ig.test(evt.type) && pop.className == \"edui-wordpastepop\") return;\r\n                        pop.hide();\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (allPopups.length)\r\n                pop.editor.fireEvent(\"afterhidepop\");\r\n        }\r\n\r\n        Popup.postHide = closeAllPopup;\r\n\r\n        var ANCHOR_CLASSES = ['edui-anchor-topleft', 'edui-anchor-topright',\r\n            'edui-anchor-bottomleft', 'edui-anchor-bottomright'\r\n        ];\r\n        Popup.prototype = {\r\n            SHADOW_RADIUS: 5,\r\n            content: null,\r\n            _hidden: false,\r\n            autoRender: true,\r\n            canSideLeft: true,\r\n            canSideUp: true,\r\n            initPopup: function() {\r\n                this.initUIBase();\r\n                allPopups.push(this);\r\n            },\r\n            getHtmlTpl: function() {\r\n                return '<div id=\"##\" class=\"edui-popup %%\" onmousedown=\"return false;\">' +\r\n                    ' <div id=\"##_body\" class=\"edui-popup-body\">' +\r\n                    ' <iframe style=\"position:absolute;z-index:-1;left:0;top:0;background-color: transparent;\" frameborder=\"0\" width=\"100%\" height=\"100%\" src=\"about:blank\"></iframe>' +\r\n                    ' <div class=\"edui-shadow\"></div>' +\r\n                    ' <div id=\"##_content\" class=\"edui-popup-content\">' +\r\n                    this.getContentHtmlTpl() +\r\n                    '  </div>' +\r\n                    ' </div>' +\r\n                    '</div>';\r\n            },\r\n            getContentHtmlTpl: function() {\r\n                if (this.content) {\r\n                    if (typeof this.content == 'string') {\r\n                        return this.content;\r\n                    }\r\n                    return this.content.renderHtml();\r\n                } else {\r\n                    return ''\r\n                }\r\n\r\n            },\r\n            _UIBase_postRender: UIBase.prototype.postRender,\r\n            postRender: function() {\r\n\r\n\r\n                if (this.content instanceof UIBase) {\r\n                    this.content.postRender();\r\n                }\r\n\r\n                //捕获鼠标滚轮\r\n                if (this.captureWheel && !this.captured) {\r\n\r\n                    this.captured = true;\r\n\r\n                    var winHeight = (document.documentElement.clientHeight || document.body.clientHeight) - 80,\r\n                        _height = this.getDom().offsetHeight,\r\n                        _top = uiUtils.getClientRect(this.combox.getDom()).top,\r\n                        content = this.getDom('content'),\r\n                        ifr = this.getDom('body').getElementsByTagName('iframe'),\r\n                        me = this;\r\n\r\n                    ifr.length && (ifr = ifr[0]);\r\n\r\n                    while (_top + _height > winHeight) {\r\n                        _height -= 30;\r\n                    }\r\n                    content.style.height = _height + 'px';\r\n                    //同步更改iframe高度\r\n                    ifr && (ifr.style.height = _height + 'px');\r\n\r\n                    //阻止在combox上的鼠标滚轮事件, 防止用户的正常操作被误解\r\n                    if (window.XMLHttpRequest) {\r\n\r\n                        domUtils.on(content, ('onmousewheel' in document.body) ? 'mousewheel' : 'DOMMouseScroll', function(e) {\r\n\r\n                            if (e.preventDefault) {\r\n                                e.preventDefault();\r\n                            } else {\r\n                                e.returnValue = false;\r\n                            }\r\n\r\n                            if (e.wheelDelta) {\r\n\r\n                                content.scrollTop -= (e.wheelDelta / 120) * 60;\r\n\r\n                            } else {\r\n\r\n                                content.scrollTop -= (e.detail / -3) * 60;\r\n\r\n                            }\r\n\r\n                        });\r\n\r\n                    } else {\r\n\r\n                        //ie6\r\n                        domUtils.on(this.getDom(), 'mousewheel', function(e) {\r\n\r\n                            e.returnValue = false;\r\n\r\n                            me.getDom('content').scrollTop -= (e.wheelDelta / 120) * 60;\r\n\r\n                        });\r\n\r\n                    }\r\n\r\n                }\r\n                this.fireEvent('postRenderAfter');\r\n                this.hide(true);\r\n                this._UIBase_postRender();\r\n            },\r\n            _doAutoRender: function() {\r\n                if (!this.getDom() && this.autoRender) {\r\n                    this.render();\r\n                }\r\n            },\r\n            mesureSize: function() {\r\n                var box = this.getDom('content');\r\n                return uiUtils.getClientRect(box);\r\n            },\r\n            fitSize: function() {\r\n                if (this.captureWheel && this.sized) {\r\n                    return this.__size;\r\n                }\r\n                this.sized = true;\r\n                var popBodyEl = this.getDom('body');\r\n                popBodyEl.style.width = '';\r\n                popBodyEl.style.height = '';\r\n                var size = this.mesureSize();\r\n                if (this.captureWheel) {\r\n                    popBodyEl.style.width = -(-20 - size.width) + 'px';\r\n                    var height = parseInt(this.getDom('content').style.height, 10);\r\n                    !window.isNaN(height) && (size.height = height);\r\n                } else {\r\n                    popBodyEl.style.width = size.width + 'px';\r\n                }\r\n                popBodyEl.style.height = size.height + 'px';\r\n                this.__size = size;\r\n                this.captureWheel && (this.getDom('content').style.overflow = 'auto');\r\n                return size;\r\n            },\r\n            showAnchor: function(element, hoz) {\r\n                this.showAnchorRect(uiUtils.getClientRect(element), hoz);\r\n            },\r\n            showAnchorRect: function(rect, hoz, adj) {\r\n                this._doAutoRender();\r\n                var vpRect = uiUtils.getViewportRect();\r\n                this.getDom().style.visibility = 'hidden';\r\n                this._show();\r\n                var popSize = this.fitSize();\r\n\r\n                var sideLeft, sideUp, left, top;\r\n                if (hoz) {\r\n                    sideLeft = this.canSideLeft && (rect.right + popSize.width > vpRect.right && rect.left > popSize.width);\r\n                    sideUp = this.canSideUp && (rect.top + popSize.height > vpRect.bottom && rect.bottom > popSize.height);\r\n                    left = (sideLeft ? rect.left - popSize.width : rect.right);\r\n                    top = (sideUp ? rect.bottom - popSize.height : rect.top);\r\n                } else {\r\n                    sideLeft = this.canSideLeft && (rect.right + popSize.width > vpRect.right && rect.left > popSize.width);\r\n                    sideUp = this.canSideUp && (rect.top + popSize.height > vpRect.bottom && rect.bottom > popSize.height);\r\n                    left = (sideLeft ? rect.right - popSize.width : rect.left);\r\n                    top = (sideUp ? rect.top - popSize.height : rect.bottom);\r\n                }\r\n\r\n                var popEl = this.getDom();\r\n                uiUtils.setViewportOffset(popEl, {\r\n                    left: left,\r\n                    top: top\r\n                });\r\n                domUtils.removeClasses(popEl, ANCHOR_CLASSES);\r\n                popEl.className += ' ' + ANCHOR_CLASSES[(sideUp ? 1 : 0) * 2 + (sideLeft ? 1 : 0)];\r\n                if (this.editor) {\r\n                    popEl.style.zIndex = this.editor.container.style.zIndex * 1 + 10;\r\n                    baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex = popEl.style.zIndex - 1;\r\n                }\r\n                this.getDom().style.visibility = 'visible';\r\n\r\n            },\r\n            showAt: function(offset) {\r\n                var left = offset.left;\r\n                var top = offset.top;\r\n                var rect = {\r\n                    left: left,\r\n                    top: top,\r\n                    right: left,\r\n                    bottom: top,\r\n                    height: 0,\r\n                    width: 0\r\n                };\r\n                this.showAnchorRect(rect, false, true);\r\n            },\r\n            _show: function() {\r\n                if (this._hidden) {\r\n                    var box = this.getDom();\r\n                    box.style.display = '';\r\n                    this._hidden = false;\r\n                    //                if (box.setActive) {\r\n                    //                    box.setActive();\r\n                    //                }\r\n                    this.fireEvent('show');\r\n                }\r\n            },\r\n            isHidden: function() {\r\n                return this._hidden;\r\n            },\r\n            show: function() {\r\n                this._doAutoRender();\r\n                this._show();\r\n            },\r\n            hide: function(notNofity) {\r\n                if (!this._hidden && this.getDom()) {\r\n                    this.getDom().style.display = 'none';\r\n                    this._hidden = true;\r\n                    if (!notNofity) {\r\n                        this.fireEvent('hide');\r\n                    }\r\n                }\r\n            },\r\n            queryAutoHide: function(el) {\r\n                return !el || !uiUtils.contains(this.getDom(), el);\r\n            }\r\n        };\r\n        utils.inherits(Popup, UIBase);\r\n\r\n        domUtils.on(document, 'mousedown', function(evt) {\r\n            var el = evt.target || evt.srcElement;\r\n            closeAllPopup(evt, el);\r\n        });\r\n        domUtils.on(window, 'scroll', function(evt, el) {\r\n            closeAllPopup(evt, el);\r\n        });\r\n\r\n    })();\r\n\r\n\r\n    // ui/colorpicker.js\r\n    ///import core\r\n    ///import uicore\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            ColorPicker = baidu.editor.ui.ColorPicker = function(options) {\r\n                this.initOptions(options);\r\n                this.noColorText = this.noColorText || this.editor.getLang(\"clearColor\");\r\n                this.initUIBase();\r\n            };\r\n\r\n        ColorPicker.prototype = {\r\n            getHtmlTpl: function() {\r\n                return genColorPicker(this.noColorText, this.editor);\r\n            },\r\n            _onTableClick: function(evt) {\r\n                var tgt = evt.target || evt.srcElement;\r\n                var color = tgt.getAttribute('data-color');\r\n                if (color) {\r\n                    this.fireEvent('pickcolor', color);\r\n                }\r\n            },\r\n            _onTableOver: function(evt) {\r\n                var tgt = evt.target || evt.srcElement;\r\n                var color = tgt.getAttribute('data-color');\r\n                if (color) {\r\n                    this.getDom('preview').style.backgroundColor = color;\r\n                }\r\n            },\r\n            _onTableOut: function() {\r\n                this.getDom('preview').style.backgroundColor = '';\r\n            },\r\n            _onPickNoColor: function() {\r\n                this.fireEvent('picknocolor');\r\n            }\r\n        };\r\n        utils.inherits(ColorPicker, UIBase);\r\n\r\n        var COLORS = (\r\n            'ffffff,000000,eeece1,1f497d,4f81bd,c0504d,9bbb59,8064a2,4bacc6,f79646,' +\r\n            'f2f2f2,7f7f7f,ddd9c3,c6d9f0,dbe5f1,f2dcdb,ebf1dd,e5e0ec,dbeef3,fdeada,' +\r\n            'd8d8d8,595959,c4bd97,8db3e2,b8cce4,e5b9b7,d7e3bc,ccc1d9,b7dde8,fbd5b5,' +\r\n            'bfbfbf,3f3f3f,938953,548dd4,95b3d7,d99694,c3d69b,b2a2c7,92cddc,fac08f,' +\r\n            'a5a5a5,262626,494429,17365d,366092,953734,76923c,5f497a,31859b,e36c09,' +\r\n            '7f7f7f,0c0c0c,1d1b10,0f243e,244061,632423,4f6128,3f3151,205867,974806,' +\r\n            'c00000,ff0000,ffc000,ffff00,92d050,00b050,00b0f0,0070c0,002060,7030a0,').split(',');\r\n\r\n        function genColorPicker(noColorText, editor) {\r\n            var html = '<div id=\"##\" class=\"edui-colorpicker %%\">' +\r\n                '<div class=\"edui-colorpicker-topbar edui-clearfix\">' +\r\n                '<div unselectable=\"on\" id=\"##_preview\" class=\"edui-colorpicker-preview\"></div>' +\r\n                '<div unselectable=\"on\" class=\"edui-colorpicker-nocolor\" onclick=\"$$._onPickNoColor(event, this);\">' + noColorText + '</div>' +\r\n                '</div>' +\r\n                '<table  class=\"edui-box\" style=\"border-collapse: collapse;\" onmouseover=\"$$._onTableOver(event, this);\" onmouseout=\"$$._onTableOut(event, this);\" onclick=\"return $$._onTableClick(event, this);\" cellspacing=\"0\" cellpadding=\"0\">' +\r\n                '<tr style=\"border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;padding-top: 2px\"><td colspan=\"10\">' + editor.getLang(\"themeColor\") + '</td> </tr>' +\r\n                '<tr class=\"edui-colorpicker-tablefirstrow\" >';\r\n            for (var i = 0; i < COLORS.length; i++) {\r\n                if (i && i % 10 === 0) {\r\n                    html += '</tr>' + (i == 60 ? '<tr style=\"border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;\"><td colspan=\"10\">' + editor.getLang(\"standardColor\") + '</td></tr>' : '') + '<tr' + (i == 60 ? ' class=\"edui-colorpicker-tablefirstrow\"' : '') + '>';\r\n                }\r\n                html += i < 70 ? '<td style=\"padding: 0 2px;\"><a hidefocus title=\"' + COLORS[i] + '\" onclick=\"return false;\" href=\"javascript:\" unselectable=\"on\" class=\"edui-box edui-colorpicker-colorcell\"' +\r\n                    ' data-color=\"#' + COLORS[i] + '\"' +\r\n                    ' style=\"background-color:#' + COLORS[i] + ';border:solid #ccc;' +\r\n                    (i < 10 || i >= 60 ? 'border-width:1px;' :\r\n                        i >= 10 && i < 20 ? 'border-width:1px 1px 0 1px;' :\r\n\r\n                        'border-width:0 1px 0 1px;') +\r\n                    '\"' +\r\n                    '></a></td>' : '';\r\n            }\r\n            html += '</tr></table></div>';\r\n            return html;\r\n        }\r\n    })();\r\n\r\n\r\n    // ui/tablepicker.js\r\n    ///import core\r\n    ///import uicore\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            UIBase = baidu.editor.ui.UIBase;\r\n\r\n        var TablePicker = baidu.editor.ui.TablePicker = function(options) {\r\n            this.initOptions(options);\r\n            this.initTablePicker();\r\n        };\r\n        TablePicker.prototype = {\r\n            defaultNumRows: 10,\r\n            defaultNumCols: 10,\r\n            maxNumRows: 20,\r\n            maxNumCols: 20,\r\n            numRows: 10,\r\n            numCols: 10,\r\n            lengthOfCellSide: 22,\r\n            initTablePicker: function() {\r\n                this.initUIBase();\r\n            },\r\n            getHtmlTpl: function() {\r\n                var me = this;\r\n                return '<div id=\"##\" class=\"edui-tablepicker %%\">' +\r\n                    '<div class=\"edui-tablepicker-body\">' +\r\n                    '<div class=\"edui-infoarea\">' +\r\n                    '<span id=\"##_label\" class=\"edui-label\"></span>' +\r\n                    '</div>' +\r\n                    '<div class=\"edui-pickarea\"' +\r\n                    ' onmousemove=\"$$._onMouseMove(event, this);\"' +\r\n                    ' onmouseover=\"$$._onMouseOver(event, this);\"' +\r\n                    ' onmouseout=\"$$._onMouseOut(event, this);\"' +\r\n                    ' onclick=\"$$._onClick(event, this);\"' +\r\n                    '>' +\r\n                    '<div id=\"##_overlay\" class=\"edui-overlay\"></div>' +\r\n                    '</div>' +\r\n                    '</div>' +\r\n                    '</div>';\r\n            },\r\n            _UIBase_render: UIBase.prototype.render,\r\n            render: function(holder) {\r\n                this._UIBase_render(holder);\r\n                this.getDom('label').innerHTML = '0' + this.editor.getLang(\"t_row\") + ' x 0' + this.editor.getLang(\"t_col\");\r\n            },\r\n            _track: function(numCols, numRows) {\r\n                var style = this.getDom('overlay').style;\r\n                var sideLen = this.lengthOfCellSide;\r\n                style.width = numCols * sideLen + 'px';\r\n                style.height = numRows * sideLen + 'px';\r\n                var label = this.getDom('label');\r\n                label.innerHTML = numCols + this.editor.getLang(\"t_col\") + ' x ' + numRows + this.editor.getLang(\"t_row\");\r\n                this.numCols = numCols;\r\n                this.numRows = numRows;\r\n            },\r\n            _onMouseOver: function(evt, el) {\r\n                var rel = evt.relatedTarget || evt.fromElement;\r\n                if (!uiUtils.contains(el, rel) && el !== rel) {\r\n                    this.getDom('label').innerHTML = '0' + this.editor.getLang(\"t_col\") + ' x 0' + this.editor.getLang(\"t_row\");\r\n                    this.getDom('overlay').style.visibility = '';\r\n                }\r\n            },\r\n            _onMouseOut: function(evt, el) {\r\n                var rel = evt.relatedTarget || evt.toElement;\r\n                if (!uiUtils.contains(el, rel) && el !== rel) {\r\n                    this.getDom('label').innerHTML = '0' + this.editor.getLang(\"t_col\") + ' x 0' + this.editor.getLang(\"t_row\");\r\n                    this.getDom('overlay').style.visibility = 'hidden';\r\n                }\r\n            },\r\n            _onMouseMove: function(evt, el) {\r\n                var style = this.getDom('overlay').style;\r\n                var offset = uiUtils.getEventOffset(evt);\r\n                var sideLen = this.lengthOfCellSide;\r\n                var numCols = Math.ceil(offset.left / sideLen);\r\n                var numRows = Math.ceil(offset.top / sideLen);\r\n                this._track(numCols, numRows);\r\n            },\r\n            _onClick: function() {\r\n                this.fireEvent('picktable', this.numCols, this.numRows);\r\n            }\r\n        };\r\n        utils.inherits(TablePicker, UIBase);\r\n    })();\r\n\r\n\r\n    // ui/stateful.js\r\n    (function() {\r\n        var browser = baidu.editor.browser,\r\n            domUtils = baidu.editor.dom.domUtils,\r\n            uiUtils = baidu.editor.ui.uiUtils;\r\n\r\n        var TPL_STATEFUL = 'onmousedown=\"$$.Stateful_onMouseDown(event, this);\"' +\r\n            ' onmouseup=\"$$.Stateful_onMouseUp(event, this);\"' +\r\n            (browser.ie ? (\r\n                    ' onmouseenter=\"$$.Stateful_onMouseEnter(event, this);\"' +\r\n                    ' onmouseleave=\"$$.Stateful_onMouseLeave(event, this);\"') :\r\n                (\r\n                    ' onmouseover=\"$$.Stateful_onMouseOver(event, this);\"' +\r\n                    ' onmouseout=\"$$.Stateful_onMouseOut(event, this);\"'));\r\n\r\n        baidu.editor.ui.Stateful = {\r\n            alwalysHoverable: false,\r\n            target: null, //目标元素和this指向dom不一样\r\n            Stateful_init: function() {\r\n                this._Stateful_dGetHtmlTpl = this.getHtmlTpl;\r\n                this.getHtmlTpl = this.Stateful_getHtmlTpl;\r\n            },\r\n            Stateful_getHtmlTpl: function() {\r\n                var tpl = this._Stateful_dGetHtmlTpl();\r\n                // 使用function避免$转义\r\n                return tpl.replace(/stateful/g, function() { return TPL_STATEFUL; });\r\n            },\r\n            Stateful_onMouseEnter: function(evt, el) {\r\n                this.target = el;\r\n                if (!this.isDisabled() || this.alwalysHoverable) {\r\n                    this.addState('hover');\r\n                    this.fireEvent('over');\r\n                }\r\n            },\r\n            Stateful_onMouseLeave: function(evt, el) {\r\n                if (!this.isDisabled() || this.alwalysHoverable) {\r\n                    this.removeState('hover');\r\n                    this.removeState('active');\r\n                    this.fireEvent('out');\r\n                }\r\n            },\r\n            Stateful_onMouseOver: function(evt, el) {\r\n                var rel = evt.relatedTarget;\r\n                if (!uiUtils.contains(el, rel) && el !== rel) {\r\n                    this.Stateful_onMouseEnter(evt, el);\r\n                }\r\n            },\r\n            Stateful_onMouseOut: function(evt, el) {\r\n                var rel = evt.relatedTarget;\r\n                if (!uiUtils.contains(el, rel) && el !== rel) {\r\n                    this.Stateful_onMouseLeave(evt, el);\r\n                }\r\n            },\r\n            Stateful_onMouseDown: function(evt, el) {\r\n                if (!this.isDisabled()) {\r\n                    this.addState('active');\r\n                }\r\n            },\r\n            Stateful_onMouseUp: function(evt, el) {\r\n                if (!this.isDisabled()) {\r\n                    this.removeState('active');\r\n                }\r\n            },\r\n            Stateful_postRender: function() {\r\n                if (this.disabled && !this.hasState('disabled')) {\r\n                    this.addState('disabled');\r\n                }\r\n            },\r\n            hasState: function(state) {\r\n                return domUtils.hasClass(this.getStateDom(), 'edui-state-' + state);\r\n            },\r\n            addState: function(state) {\r\n                if (!this.hasState(state)) {\r\n                    this.getStateDom().className += ' edui-state-' + state;\r\n                }\r\n            },\r\n            removeState: function(state) {\r\n                if (this.hasState(state)) {\r\n                    domUtils.removeClasses(this.getStateDom(), ['edui-state-' + state]);\r\n                }\r\n            },\r\n            getStateDom: function() {\r\n                return this.getDom('state');\r\n            },\r\n            isChecked: function() {\r\n                return this.hasState('checked');\r\n            },\r\n            setChecked: function(checked) {\r\n                if (!this.isDisabled() && checked) {\r\n                    this.addState('checked');\r\n                } else {\r\n                    this.removeState('checked');\r\n                }\r\n            },\r\n            isDisabled: function() {\r\n                return this.hasState('disabled');\r\n            },\r\n            setDisabled: function(disabled) {\r\n                if (disabled) {\r\n                    this.removeState('hover');\r\n                    this.removeState('checked');\r\n                    this.removeState('active');\r\n                    this.addState('disabled');\r\n                } else {\r\n                    this.removeState('disabled');\r\n                }\r\n            }\r\n        };\r\n    })();\r\n\r\n\r\n    // ui/button.js\r\n    ///import core\r\n    ///import uicore\r\n    ///import ui/stateful.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            Stateful = baidu.editor.ui.Stateful,\r\n            Button = baidu.editor.ui.Button = function(options) {\r\n                if (options.name) {\r\n                    var btnName = options.name;\r\n                    var cssRules = options.cssRules;\r\n                    if (!options.className) {\r\n                        options.className = 'edui-for-' + btnName;\r\n                    }\r\n                    options.cssRules = '.edui-default  .edui-for-' + btnName + ' .edui-icon {' + cssRules + '}'\r\n                }\r\n                this.initOptions(options);\r\n                this.initButton();\r\n            };\r\n        Button.prototype = {\r\n            uiName: 'button',\r\n            label: '',\r\n            title: '',\r\n            showIcon: true,\r\n            showText: true,\r\n            cssRules: '',\r\n            initButton: function() {\r\n                this.initUIBase();\r\n                this.Stateful_init();\r\n                if (this.cssRules) {\r\n                    utils.cssRule('edui-customize-' + this.name + '-style', this.cssRules);\r\n                }\r\n            },\r\n            getHtmlTpl: function() {\r\n                return '<div id=\"##\" class=\"edui-box %%\">' +\r\n                    '<div id=\"##_state\" stateful>' +\r\n                    '<div class=\"%%-wrap\"><div id=\"##_body\" unselectable=\"on\" ' + (this.title ? 'title=\"' + this.title + '\"' : '') +\r\n                    ' class=\"%%-body\" onmousedown=\"return $$._onMouseDown(event, this);\" onclick=\"return $$._onClick(event, this);\">' +\r\n                    (this.showIcon ? '<div class=\"edui-box edui-icon\"></div>' : '') +\r\n                    (this.showText ? '<div class=\"edui-box edui-label\">' + this.label + '</div>' : '') +\r\n                    '</div>' +\r\n                    '</div>' +\r\n                    '</div></div>';\r\n            },\r\n            postRender: function() {\r\n                this.Stateful_postRender();\r\n                this.setDisabled(this.disabled)\r\n            },\r\n            _onMouseDown: function(e) {\r\n                var target = e.target || e.srcElement,\r\n                    tagName = target && target.tagName && target.tagName.toLowerCase();\r\n                if (tagName == 'input' || tagName == 'object' || tagName == 'object') {\r\n                    return false;\r\n                }\r\n            },\r\n            _onClick: function() {\r\n                if (!this.isDisabled()) {\r\n                    this.fireEvent('click');\r\n                }\r\n            },\r\n            setTitle: function(text) {\r\n                var label = this.getDom('label');\r\n                label.innerHTML = text;\r\n            }\r\n        };\r\n        utils.inherits(Button, UIBase);\r\n        utils.extend(Button.prototype, Stateful);\r\n\r\n    })();\r\n\r\n\r\n    // ui/splitbutton.js\r\n    ///import core\r\n    ///import uicore\r\n    ///import ui/stateful.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            domUtils = baidu.editor.dom.domUtils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            Stateful = baidu.editor.ui.Stateful,\r\n            SplitButton = baidu.editor.ui.SplitButton = function(options) {\r\n                this.initOptions(options);\r\n                this.initSplitButton();\r\n            };\r\n        SplitButton.prototype = {\r\n            popup: null,\r\n            uiName: 'splitbutton',\r\n            title: '',\r\n            initSplitButton: function() {\r\n                this.initUIBase();\r\n                this.Stateful_init();\r\n                var me = this;\r\n                if (this.popup != null) {\r\n                    var popup = this.popup;\r\n                    this.popup = null;\r\n                    this.setPopup(popup);\r\n                }\r\n            },\r\n            _UIBase_postRender: UIBase.prototype.postRender,\r\n            postRender: function() {\r\n                this.Stateful_postRender();\r\n                this._UIBase_postRender();\r\n            },\r\n            setPopup: function(popup) {\r\n                if (this.popup === popup) return;\r\n                if (this.popup != null) {\r\n                    this.popup.dispose();\r\n                }\r\n                popup.addListener('show', utils.bind(this._onPopupShow, this));\r\n                popup.addListener('hide', utils.bind(this._onPopupHide, this));\r\n                popup.addListener('postrender', utils.bind(function() {\r\n                    popup.getDom('body').appendChild(\r\n                        uiUtils.createElementByHtml('<div id=\"' +\r\n                            this.popup.id + '_bordereraser\" class=\"edui-bordereraser edui-background\" style=\"width:' +\r\n                            (uiUtils.getClientRect(this.getDom()).width + 20) + 'px\"></div>')\r\n                    );\r\n                    popup.getDom().className += ' ' + this.className;\r\n                }, this));\r\n                this.popup = popup;\r\n            },\r\n            _onPopupShow: function() {\r\n                this.addState('opened');\r\n            },\r\n            _onPopupHide: function() {\r\n                this.removeState('opened');\r\n            },\r\n            getHtmlTpl: function() {\r\n                return '<div id=\"##\" class=\"edui-box %%\">' +\r\n                    '<div ' + (this.title ? 'title=\"' + this.title + '\"' : '') + ' id=\"##_state\" stateful><div class=\"%%-body\">' +\r\n                    '<div id=\"##_button_body\" class=\"edui-box edui-button-body\" onclick=\"$$._onButtonClick(event, this);\">' +\r\n                    '<div class=\"edui-box edui-icon\"></div>' +\r\n                    '</div>' +\r\n                    '<div class=\"edui-box edui-splitborder\"></div>' +\r\n                    '<div class=\"edui-box edui-arrow\" onclick=\"$$._onArrowClick();\"></div>' +\r\n                    '</div></div></div>';\r\n            },\r\n            showPopup: function() {\r\n                // 当popup往上弹出的时候，做特殊处理\r\n                var rect = uiUtils.getClientRect(this.getDom());\r\n                rect.top -= this.popup.SHADOW_RADIUS;\r\n                rect.height += this.popup.SHADOW_RADIUS;\r\n                this.popup.showAnchorRect(rect);\r\n            },\r\n            _onArrowClick: function(event, el) {\r\n                if (!this.isDisabled()) {\r\n                    this.showPopup();\r\n                }\r\n            },\r\n            _onButtonClick: function() {\r\n                if (!this.isDisabled()) {\r\n                    this.fireEvent('buttonclick');\r\n                }\r\n            }\r\n        };\r\n        utils.inherits(SplitButton, UIBase);\r\n        utils.extend(SplitButton.prototype, Stateful, true);\r\n\r\n    })();\r\n\r\n\r\n    // ui/colorbutton.js\r\n    ///import core\r\n    ///import uicore\r\n    ///import ui/colorpicker.js\r\n    ///import ui/popup.js\r\n    ///import ui/splitbutton.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            ColorPicker = baidu.editor.ui.ColorPicker,\r\n            Popup = baidu.editor.ui.Popup,\r\n            SplitButton = baidu.editor.ui.SplitButton,\r\n            ColorButton = baidu.editor.ui.ColorButton = function(options) {\r\n                this.initOptions(options);\r\n                this.initColorButton();\r\n            };\r\n        ColorButton.prototype = {\r\n            initColorButton: function() {\r\n                var me = this;\r\n                this.popup = new Popup({\r\n                    content: new ColorPicker({\r\n                        noColorText: me.editor.getLang(\"clearColor\"),\r\n                        editor: me.editor,\r\n                        onpickcolor: function(t, color) {\r\n                            me._onPickColor(color);\r\n                        },\r\n                        onpicknocolor: function(t, color) {\r\n                            me._onPickNoColor(color);\r\n                        }\r\n                    }),\r\n                    editor: me.editor\r\n                });\r\n                this.initSplitButton();\r\n            },\r\n            _SplitButton_postRender: SplitButton.prototype.postRender,\r\n            postRender: function() {\r\n                this._SplitButton_postRender();\r\n                this.getDom('button_body').appendChild(\r\n                    uiUtils.createElementByHtml('<div id=\"' + this.id + '_colorlump\" class=\"edui-colorlump\"></div>')\r\n                );\r\n                this.getDom().className += ' edui-colorbutton';\r\n            },\r\n            setColor: function(color) {\r\n                this.getDom('colorlump').style.backgroundColor = color;\r\n                this.color = color;\r\n            },\r\n            _onPickColor: function(color) {\r\n                if (this.fireEvent('pickcolor', color) !== false) {\r\n                    this.setColor(color);\r\n                    this.popup.hide();\r\n                }\r\n            },\r\n            _onPickNoColor: function(color) {\r\n                if (this.fireEvent('picknocolor') !== false) {\r\n                    this.popup.hide();\r\n                }\r\n            }\r\n        };\r\n        utils.inherits(ColorButton, SplitButton);\r\n\r\n    })();\r\n\r\n\r\n    // ui/tablebutton.js\r\n    ///import core\r\n    ///import uicore\r\n    ///import ui/popup.js\r\n    ///import ui/tablepicker.js\r\n    ///import ui/splitbutton.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            Popup = baidu.editor.ui.Popup,\r\n            TablePicker = baidu.editor.ui.TablePicker,\r\n            SplitButton = baidu.editor.ui.SplitButton,\r\n            TableButton = baidu.editor.ui.TableButton = function(options) {\r\n                this.initOptions(options);\r\n                this.initTableButton();\r\n            };\r\n        TableButton.prototype = {\r\n            initTableButton: function() {\r\n                var me = this;\r\n                this.popup = new Popup({\r\n                    content: new TablePicker({\r\n                        editor: me.editor,\r\n                        onpicktable: function(t, numCols, numRows) {\r\n                            me._onPickTable(numCols, numRows);\r\n                        }\r\n                    }),\r\n                    'editor': me.editor\r\n                });\r\n                this.initSplitButton();\r\n            },\r\n            _onPickTable: function(numCols, numRows) {\r\n                if (this.fireEvent('picktable', numCols, numRows) !== false) {\r\n                    this.popup.hide();\r\n                }\r\n            }\r\n        };\r\n        utils.inherits(TableButton, SplitButton);\r\n\r\n    })();\r\n\r\n\r\n    // ui/autotypesetpicker.js\r\n    ///import core\r\n    ///import uicore\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            UIBase = baidu.editor.ui.UIBase;\r\n\r\n        var AutoTypeSetPicker = baidu.editor.ui.AutoTypeSetPicker = function(options) {\r\n            this.initOptions(options);\r\n            this.initAutoTypeSetPicker();\r\n        };\r\n        AutoTypeSetPicker.prototype = {\r\n            initAutoTypeSetPicker: function() {\r\n                this.initUIBase();\r\n            },\r\n            getHtmlTpl: function() {\r\n                var me = this.editor,\r\n                    opt = me.options.autotypeset,\r\n                    lang = me.getLang(\"autoTypeSet\");\r\n\r\n                var textAlignInputName = 'textAlignValue' + me.uid,\r\n                    imageBlockInputName = 'imageBlockLineValue' + me.uid,\r\n                    symbolConverInputName = 'symbolConverValue' + me.uid;\r\n\r\n                return '<div id=\"##\" class=\"edui-autotypesetpicker %%\">' +\r\n                    '<div class=\"edui-autotypesetpicker-body\">' +\r\n                    '<table >' +\r\n                    '<tr><td nowrap><input type=\"checkbox\" name=\"mergeEmptyline\" ' + (opt[\"mergeEmptyline\"] ? \"checked\" : \"\") + '>' + lang.mergeLine + '</td><td colspan=\"2\"><input type=\"checkbox\" name=\"removeEmptyline\" ' + (opt[\"removeEmptyline\"] ? \"checked\" : \"\") + '>' + lang.delLine + '</td></tr>' +\r\n                    '<tr><td nowrap><input type=\"checkbox\" name=\"removeClass\" ' + (opt[\"removeClass\"] ? \"checked\" : \"\") + '>' + lang.removeFormat + '</td><td colspan=\"2\"><input type=\"checkbox\" name=\"indent\" ' + (opt[\"indent\"] ? \"checked\" : \"\") + '>' + lang.indent + '</td></tr>' +\r\n                    '<tr>' +\r\n                    '<td nowrap><input type=\"checkbox\" name=\"textAlign\" ' + (opt[\"textAlign\"] ? \"checked\" : \"\") + '>' + lang.alignment + '</td>' +\r\n                    '<td colspan=\"2\" id=\"' + textAlignInputName + '\">' +\r\n                    '<input type=\"radio\" name=\"' + textAlignInputName + '\" value=\"left\" ' + ((opt[\"textAlign\"] && opt[\"textAlign\"] == \"left\") ? \"checked\" : \"\") + '>' + me.getLang(\"justifyleft\") +\r\n                    '<input type=\"radio\" name=\"' + textAlignInputName + '\" value=\"center\" ' + ((opt[\"textAlign\"] && opt[\"textAlign\"] == \"center\") ? \"checked\" : \"\") + '>' + me.getLang(\"justifycenter\") +\r\n                    '<input type=\"radio\" name=\"' + textAlignInputName + '\" value=\"right\" ' + ((opt[\"textAlign\"] && opt[\"textAlign\"] == \"right\") ? \"checked\" : \"\") + '>' + me.getLang(\"justifyright\") +\r\n                    '</td>' +\r\n                    '</tr>' +\r\n                    '<tr>' +\r\n                    '<td nowrap><input type=\"checkbox\" name=\"imageBlockLine\" ' + (opt[\"imageBlockLine\"] ? \"checked\" : \"\") + '>' + lang.imageFloat + '</td>' +\r\n                    '<td nowrap id=\"' + imageBlockInputName + '\">' +\r\n                    '<input type=\"radio\" name=\"' + imageBlockInputName + '\" value=\"none\" ' + ((opt[\"imageBlockLine\"] && opt[\"imageBlockLine\"] == \"none\") ? \"checked\" : \"\") + '>' + me.getLang(\"default\") +\r\n                    '<input type=\"radio\" name=\"' + imageBlockInputName + '\" value=\"left\" ' + ((opt[\"imageBlockLine\"] && opt[\"imageBlockLine\"] == \"left\") ? \"checked\" : \"\") + '>' + me.getLang(\"justifyleft\") +\r\n                    '<input type=\"radio\" name=\"' + imageBlockInputName + '\" value=\"center\" ' + ((opt[\"imageBlockLine\"] && opt[\"imageBlockLine\"] == \"center\") ? \"checked\" : \"\") + '>' + me.getLang(\"justifycenter\") +\r\n                    '<input type=\"radio\" name=\"' + imageBlockInputName + '\" value=\"right\" ' + ((opt[\"imageBlockLine\"] && opt[\"imageBlockLine\"] == \"right\") ? \"checked\" : \"\") + '>' + me.getLang(\"justifyright\") +\r\n                    '</td>' +\r\n                    '</tr>' +\r\n                    '<tr><td nowrap><input type=\"checkbox\" name=\"clearFontSize\" ' + (opt[\"clearFontSize\"] ? \"checked\" : \"\") + '>' + lang.removeFontsize + '</td><td colspan=\"2\"><input type=\"checkbox\" name=\"clearFontFamily\" ' + (opt[\"clearFontFamily\"] ? \"checked\" : \"\") + '>' + lang.removeFontFamily + '</td></tr>' +\r\n                    '<tr><td nowrap colspan=\"3\"><input type=\"checkbox\" name=\"removeEmptyNode\" ' + (opt[\"removeEmptyNode\"] ? \"checked\" : \"\") + '>' + lang.removeHtml + '</td></tr>' +\r\n                    '<tr><td nowrap colspan=\"3\"><input type=\"checkbox\" name=\"pasteFilter\" ' + (opt[\"pasteFilter\"] ? \"checked\" : \"\") + '>' + lang.pasteFilter + '</td></tr>' +\r\n                    '<tr>' +\r\n                    '<td nowrap><input type=\"checkbox\" name=\"symbolConver\" ' + (opt[\"bdc2sb\"] || opt[\"tobdc\"] ? \"checked\" : \"\") + '>' + lang.symbol + '</td>' +\r\n                    '<td id=\"' + symbolConverInputName + '\">' +\r\n                    '<input type=\"radio\" name=\"bdc\" value=\"bdc2sb\" ' + (opt[\"bdc2sb\"] ? \"checked\" : \"\") + '>' + lang.bdc2sb +\r\n                    '<input type=\"radio\" name=\"bdc\" value=\"tobdc\" ' + (opt[\"tobdc\"] ? \"checked\" : \"\") + '>' + lang.tobdc + '' +\r\n                    '</td>' +\r\n                    '<td nowrap align=\"right\"><button >' + lang.run + '</button></td>' +\r\n                    '</tr>' +\r\n                    '</table>' +\r\n                    '</div>' +\r\n                    '</div>';\r\n\r\n\r\n            },\r\n            _UIBase_render: UIBase.prototype.render\r\n        };\r\n        utils.inherits(AutoTypeSetPicker, UIBase);\r\n    })();\r\n\r\n\r\n    // ui/autotypesetbutton.js\r\n    ///import core\r\n    ///import uicore\r\n    ///import ui/popup.js\r\n    ///import ui/autotypesetpicker.js\r\n    ///import ui/splitbutton.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            Popup = baidu.editor.ui.Popup,\r\n            AutoTypeSetPicker = baidu.editor.ui.AutoTypeSetPicker,\r\n            SplitButton = baidu.editor.ui.SplitButton,\r\n            AutoTypeSetButton = baidu.editor.ui.AutoTypeSetButton = function(options) {\r\n                this.initOptions(options);\r\n                this.initAutoTypeSetButton();\r\n            };\r\n\r\n        function getPara(me) {\r\n\r\n            var opt = {},\r\n                cont = me.getDom(),\r\n                editorId = me.editor.uid,\r\n                inputType = null,\r\n                attrName = null,\r\n                ipts = domUtils.getElementsByTagName(cont, \"input\");\r\n            for (var i = ipts.length - 1, ipt; ipt = ipts[i--];) {\r\n                inputType = ipt.getAttribute(\"type\");\r\n                if (inputType == \"checkbox\") {\r\n                    attrName = ipt.getAttribute(\"name\");\r\n                    opt[attrName] && delete opt[attrName];\r\n                    if (ipt.checked) {\r\n                        var attrValue = document.getElementById(attrName + \"Value\" + editorId);\r\n                        if (attrValue) {\r\n                            if (/input/ig.test(attrValue.tagName)) {\r\n                                opt[attrName] = attrValue.value;\r\n                            } else {\r\n                                var iptChilds = attrValue.getElementsByTagName(\"input\");\r\n                                for (var j = iptChilds.length - 1, iptchild; iptchild = iptChilds[j--];) {\r\n                                    if (iptchild.checked) {\r\n                                        opt[attrName] = iptchild.value;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            }\r\n                        } else {\r\n                            opt[attrName] = true;\r\n                        }\r\n                    } else {\r\n                        opt[attrName] = false;\r\n                    }\r\n                } else {\r\n                    opt[ipt.getAttribute(\"value\")] = ipt.checked;\r\n                }\r\n\r\n            }\r\n\r\n            var selects = domUtils.getElementsByTagName(cont, \"select\");\r\n            for (var i = 0, si; si = selects[i++];) {\r\n                var attr = si.getAttribute('name');\r\n                opt[attr] = opt[attr] ? si.value : '';\r\n            }\r\n\r\n            utils.extend(me.editor.options.autotypeset, opt);\r\n\r\n            me.editor.setPreferences('autotypeset', opt);\r\n        }\r\n\r\n        AutoTypeSetButton.prototype = {\r\n            initAutoTypeSetButton: function() {\r\n\r\n                var me = this;\r\n                this.popup = new Popup({\r\n                    //传入配置参数\r\n                    content: new AutoTypeSetPicker({ editor: me.editor }),\r\n                    'editor': me.editor,\r\n                    hide: function() {\r\n                        if (!this._hidden && this.getDom()) {\r\n                            getPara(this);\r\n                            this.getDom().style.display = 'none';\r\n                            this._hidden = true;\r\n                            this.fireEvent('hide');\r\n                        }\r\n                    }\r\n                });\r\n                var flag = 0;\r\n                this.popup.addListener('postRenderAfter', function() {\r\n                    var popupUI = this;\r\n                    if (flag) return;\r\n                    var cont = this.getDom(),\r\n                        btn = cont.getElementsByTagName('button')[0];\r\n\r\n                    btn.onclick = function() {\r\n                        getPara(popupUI);\r\n                        me.editor.execCommand('autotypeset');\r\n                        popupUI.hide()\r\n                    };\r\n\r\n                    domUtils.on(cont, 'click', function(e) {\r\n                        var target = e.target || e.srcElement,\r\n                            editorId = me.editor.uid;\r\n                        if (target && target.tagName == 'INPUT') {\r\n\r\n                            // 点击图片浮动的checkbox,去除对应的radio\r\n                            if (target.name == 'imageBlockLine' || target.name == 'textAlign' || target.name == 'symbolConver') {\r\n                                var checked = target.checked,\r\n                                    radioTd = document.getElementById(target.name + 'Value' + editorId),\r\n                                    radios = radioTd.getElementsByTagName('input'),\r\n                                    defalutSelect = {\r\n                                        'imageBlockLine': 'none',\r\n                                        'textAlign': 'left',\r\n                                        'symbolConver': 'tobdc'\r\n                                    };\r\n\r\n                                for (var i = 0; i < radios.length; i++) {\r\n                                    if (checked) {\r\n                                        if (radios[i].value == defalutSelect[target.name]) {\r\n                                            radios[i].checked = 'checked';\r\n                                        }\r\n                                    } else {\r\n                                        radios[i].checked = false;\r\n                                    }\r\n                                }\r\n                            }\r\n                            // 点击radio,选中对应的checkbox\r\n                            if (target.name == ('imageBlockLineValue' + editorId) || target.name == ('textAlignValue' + editorId) || target.name == 'bdc') {\r\n                                var checkboxs = target.parentNode.previousSibling.getElementsByTagName('input');\r\n                                checkboxs && (checkboxs[0].checked = true);\r\n                            }\r\n\r\n                            getPara(popupUI);\r\n                        }\r\n                    });\r\n\r\n                    flag = 1;\r\n                });\r\n                this.initSplitButton();\r\n            }\r\n        };\r\n        utils.inherits(AutoTypeSetButton, SplitButton);\r\n\r\n    })();\r\n\r\n\r\n    // ui/cellalignpicker.js\r\n    ///import core\r\n    ///import uicore\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            Popup = baidu.editor.ui.Popup,\r\n            Stateful = baidu.editor.ui.Stateful,\r\n            UIBase = baidu.editor.ui.UIBase;\r\n\r\n        /**\r\n         * 该参数将新增一个参数： selected， 参数类型为一个Object， 形如{ 'align': 'center', 'valign': 'top' }， 表示单元格的初始\r\n         * 对齐状态为： 竖直居上，水平居中; 其中 align的取值为：'center', 'left', 'right'; valign的取值为: 'top', 'middle', 'bottom'\r\n         * @update 2013/4/2 hancong03@baidu.com\r\n         */\r\n        var CellAlignPicker = baidu.editor.ui.CellAlignPicker = function(options) {\r\n            this.initOptions(options);\r\n            this.initSelected();\r\n            this.initCellAlignPicker();\r\n        };\r\n        CellAlignPicker.prototype = {\r\n            //初始化选中状态， 该方法将根据传递进来的参数获取到应该选中的对齐方式图标的索引\r\n            initSelected: function() {\r\n\r\n                var status = {\r\n\r\n                        valign: {\r\n                            top: 0,\r\n                            middle: 1,\r\n                            bottom: 2\r\n                        },\r\n                        align: {\r\n                            left: 0,\r\n                            center: 1,\r\n                            right: 2\r\n                        },\r\n                        count: 3\r\n\r\n                    },\r\n                    result = -1;\r\n\r\n                if (this.selected) {\r\n                    this.selectedIndex = status.valign[this.selected.valign] * status.count + status.align[this.selected.align];\r\n                }\r\n\r\n            },\r\n            initCellAlignPicker: function() {\r\n                this.initUIBase();\r\n                this.Stateful_init();\r\n            },\r\n            getHtmlTpl: function() {\r\n\r\n                var alignType = ['left', 'center', 'right'],\r\n                    COUNT = 9,\r\n                    tempClassName = null,\r\n                    tempIndex = -1,\r\n                    tmpl = [];\r\n\r\n\r\n                for (var i = 0; i < COUNT; i++) {\r\n\r\n                    tempClassName = this.selectedIndex === i ? ' class=\"edui-cellalign-selected\" ' : '';\r\n                    tempIndex = i % 3;\r\n\r\n                    tempIndex === 0 && tmpl.push('<tr>');\r\n\r\n                    tmpl.push('<td index=\"' + i + '\" ' + tempClassName + ' stateful><div class=\"edui-icon edui-' + alignType[tempIndex] + '\"></div></td>');\r\n\r\n                    tempIndex === 2 && tmpl.push('</tr>');\r\n\r\n                }\r\n\r\n                return '<div id=\"##\" class=\"edui-cellalignpicker %%\">' +\r\n                    '<div class=\"edui-cellalignpicker-body\">' +\r\n                    '<table onclick=\"$$._onClick(event);\">' +\r\n                    tmpl.join('') +\r\n                    '</table>' +\r\n                    '</div>' +\r\n                    '</div>';\r\n            },\r\n            getStateDom: function() {\r\n                return this.target;\r\n            },\r\n            _onClick: function(evt) {\r\n                var target = evt.target || evt.srcElement;\r\n                if (/icon/.test(target.className)) {\r\n                    this.items[target.parentNode.getAttribute(\"index\")].onclick();\r\n                    Popup.postHide(evt);\r\n                }\r\n            },\r\n            _UIBase_render: UIBase.prototype.render\r\n        };\r\n        utils.inherits(CellAlignPicker, UIBase);\r\n        utils.extend(CellAlignPicker.prototype, Stateful, true);\r\n    })();\r\n\r\n\r\n\r\n\r\n\r\n    // ui/pastepicker.js\r\n    ///import core\r\n    ///import uicore\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            Stateful = baidu.editor.ui.Stateful,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            UIBase = baidu.editor.ui.UIBase;\r\n\r\n        var PastePicker = baidu.editor.ui.PastePicker = function(options) {\r\n            this.initOptions(options);\r\n            this.initPastePicker();\r\n        };\r\n        PastePicker.prototype = {\r\n            initPastePicker: function() {\r\n                this.initUIBase();\r\n                this.Stateful_init();\r\n            },\r\n            getHtmlTpl: function() {\r\n                return '<div class=\"edui-pasteicon\" onclick=\"$$._onClick(this)\"></div>' +\r\n                    '<div class=\"edui-pastecontainer\">' +\r\n                    '<div class=\"edui-title\">' + this.editor.getLang(\"pasteOpt\") + '</div>' +\r\n                    '<div class=\"edui-button\">' +\r\n                    '<div title=\"' + this.editor.getLang(\"pasteSourceFormat\") + '\" onclick=\"$$.format(false)\" stateful>' +\r\n                    '<div class=\"edui-richtxticon\"></div></div>' +\r\n                    '<div title=\"' + this.editor.getLang(\"tagFormat\") + '\" onclick=\"$$.format(2)\" stateful>' +\r\n                    '<div class=\"edui-tagicon\"></div></div>' +\r\n                    '<div title=\"' + this.editor.getLang(\"pasteTextFormat\") + '\" onclick=\"$$.format(true)\" stateful>' +\r\n                    '<div class=\"edui-plaintxticon\"></div></div>' +\r\n                    '</div>' +\r\n                    '</div>' +\r\n                    '</div>'\r\n            },\r\n            getStateDom: function() {\r\n                return this.target;\r\n            },\r\n            format: function(param) {\r\n                this.editor.ui._isTransfer = true;\r\n                this.editor.fireEvent('pasteTransfer', param);\r\n            },\r\n            _onClick: function(cur) {\r\n                var node = domUtils.getNextDomNode(cur),\r\n                    screenHt = uiUtils.getViewportRect().height,\r\n                    subPop = uiUtils.getClientRect(node);\r\n\r\n                if ((subPop.top + subPop.height) > screenHt)\r\n                    node.style.top = (-subPop.height - cur.offsetHeight) + \"px\";\r\n                else\r\n                    node.style.top = \"\";\r\n\r\n                if (/hidden/ig.test(domUtils.getComputedStyle(node, \"visibility\"))) {\r\n                    node.style.visibility = \"visible\";\r\n                    domUtils.addClass(cur, \"edui-state-opened\");\r\n                } else {\r\n                    node.style.visibility = \"hidden\";\r\n                    domUtils.removeClasses(cur, \"edui-state-opened\")\r\n                }\r\n            },\r\n            _UIBase_render: UIBase.prototype.render\r\n        };\r\n        utils.inherits(PastePicker, UIBase);\r\n        utils.extend(PastePicker.prototype, Stateful, true);\r\n    })();\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // ui/toolbar.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            Toolbar = baidu.editor.ui.Toolbar = function(options) {\r\n                this.initOptions(options);\r\n                this.initToolbar();\r\n            };\r\n        Toolbar.prototype = {\r\n            items: null,\r\n            initToolbar: function() {\r\n                this.items = this.items || [];\r\n                this.initUIBase();\r\n            },\r\n            add: function(item, index) {\r\n                if (index === undefined) {\r\n                    this.items.push(item);\r\n                } else {\r\n                    this.items.splice(index, 0, item)\r\n                }\r\n\r\n            },\r\n            getHtmlTpl: function() {\r\n                var buff = [];\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    buff[i] = this.items[i].renderHtml();\r\n                }\r\n                return '<div id=\"##\" class=\"edui-toolbar %%\" onselectstart=\"return false;\" onmousedown=\"return $$._onMouseDown(event, this);\">' +\r\n                    buff.join('') +\r\n                    '</div>'\r\n            },\r\n            postRender: function() {\r\n                var box = this.getDom();\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    this.items[i].postRender();\r\n                }\r\n                uiUtils.makeUnselectable(box);\r\n            },\r\n            _onMouseDown: function(e) {\r\n                var target = e.target || e.srcElement,\r\n                    tagName = target && target.tagName && target.tagName.toLowerCase();\r\n                if (tagName == 'input' || tagName == 'object' || tagName == 'object') {\r\n                    return false;\r\n                }\r\n            }\r\n        };\r\n        utils.inherits(Toolbar, UIBase);\r\n\r\n    })();\r\n\r\n\r\n    // ui/menu.js\r\n    ///import core\r\n    ///import uicore\r\n    ///import ui\\popup.js\r\n    ///import ui\\stateful.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            domUtils = baidu.editor.dom.domUtils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            Popup = baidu.editor.ui.Popup,\r\n            Stateful = baidu.editor.ui.Stateful,\r\n            CellAlignPicker = baidu.editor.ui.CellAlignPicker,\r\n\r\n            Menu = baidu.editor.ui.Menu = function(options) {\r\n                this.initOptions(options);\r\n                this.initMenu();\r\n            };\r\n\r\n        var menuSeparator = {\r\n            renderHtml: function() {\r\n                return '<div class=\"edui-menuitem edui-menuseparator\"><div class=\"edui-menuseparator-inner\"></div></div>';\r\n            },\r\n            postRender: function() {},\r\n            queryAutoHide: function() {\r\n                return true;\r\n            }\r\n        };\r\n        Menu.prototype = {\r\n            items: null,\r\n            uiName: 'menu',\r\n            initMenu: function() {\r\n                this.items = this.items || [];\r\n                this.initPopup();\r\n                this.initItems();\r\n            },\r\n            initItems: function() {\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    var item = this.items[i];\r\n                    if (item == '-') {\r\n                        this.items[i] = this.getSeparator();\r\n                    } else if (!(item instanceof MenuItem)) {\r\n                        item.editor = this.editor;\r\n                        item.theme = this.editor.options.theme;\r\n                        this.items[i] = this.createItem(item);\r\n                    }\r\n                }\r\n            },\r\n            getSeparator: function() {\r\n                return menuSeparator;\r\n            },\r\n            createItem: function(item) {\r\n                //新增一个参数menu, 该参数存储了menuItem所对应的menu引用\r\n                item.menu = this;\r\n                return new MenuItem(item);\r\n            },\r\n            _Popup_getContentHtmlTpl: Popup.prototype.getContentHtmlTpl,\r\n            getContentHtmlTpl: function() {\r\n                if (this.items.length == 0) {\r\n                    return this._Popup_getContentHtmlTpl();\r\n                }\r\n                var buff = [];\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    var item = this.items[i];\r\n                    buff[i] = item.renderHtml();\r\n                }\r\n                return ('<div class=\"%%-body\">' + buff.join('') + '</div>');\r\n            },\r\n            _Popup_postRender: Popup.prototype.postRender,\r\n            postRender: function() {\r\n                var me = this;\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    var item = this.items[i];\r\n                    item.ownerMenu = this;\r\n                    item.postRender();\r\n                }\r\n                domUtils.on(this.getDom(), 'mouseover', function(evt) {\r\n                    evt = evt || event;\r\n                    var rel = evt.relatedTarget || evt.fromElement;\r\n                    var el = me.getDom();\r\n                    if (!uiUtils.contains(el, rel) && el !== rel) {\r\n                        me.fireEvent('over');\r\n                    }\r\n                });\r\n                this._Popup_postRender();\r\n            },\r\n            queryAutoHide: function(el) {\r\n                if (el) {\r\n                    if (uiUtils.contains(this.getDom(), el)) {\r\n                        return false;\r\n                    }\r\n                    for (var i = 0; i < this.items.length; i++) {\r\n                        var item = this.items[i];\r\n                        if (item.queryAutoHide(el) === false) {\r\n                            return false;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            clearItems: function() {\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    var item = this.items[i];\r\n                    clearTimeout(item._showingTimer);\r\n                    clearTimeout(item._closingTimer);\r\n                    if (item.subMenu) {\r\n                        item.subMenu.destroy();\r\n                    }\r\n                }\r\n                this.items = [];\r\n            },\r\n            destroy: function() {\r\n                if (this.getDom()) {\r\n                    domUtils.remove(this.getDom());\r\n                }\r\n                this.clearItems();\r\n            },\r\n            dispose: function() {\r\n                this.destroy();\r\n            }\r\n        };\r\n        utils.inherits(Menu, Popup);\r\n\r\n        /**\r\n         * @update 2013/04/03 hancong03 新增一个参数menu, 该参数存储了menuItem所对应的menu引用\r\n         * @type {Function}\r\n         */\r\n        var MenuItem = baidu.editor.ui.MenuItem = function(options) {\r\n            this.initOptions(options);\r\n            this.initUIBase();\r\n            this.Stateful_init();\r\n            if (this.subMenu && !(this.subMenu instanceof Menu)) {\r\n                if (options.className && options.className.indexOf(\"aligntd\") != -1) {\r\n                    var me = this;\r\n\r\n                    //获取单元格对齐初始状态\r\n                    this.subMenu.selected = this.editor.queryCommandValue('cellalignment');\r\n\r\n                    this.subMenu = new Popup({\r\n                        content: new CellAlignPicker(this.subMenu),\r\n                        parentMenu: me,\r\n                        editor: me.editor,\r\n                        destroy: function() {\r\n                            if (this.getDom()) {\r\n                                domUtils.remove(this.getDom());\r\n                            }\r\n                        }\r\n                    });\r\n                    this.subMenu.addListener(\"postRenderAfter\", function() {\r\n                        domUtils.on(this.getDom(), \"mouseover\", function() {\r\n                            me.addState('opened');\r\n                        });\r\n                    });\r\n                } else {\r\n                    this.subMenu = new Menu(this.subMenu);\r\n                }\r\n            }\r\n        };\r\n        MenuItem.prototype = {\r\n            label: '',\r\n            subMenu: null,\r\n            ownerMenu: null,\r\n            uiName: 'menuitem',\r\n            alwalysHoverable: true,\r\n            getHtmlTpl: function() {\r\n                return '<div id=\"##\" class=\"%%\" stateful onclick=\"$$._onClick(event, this);\">' +\r\n                    '<div class=\"%%-body\">' +\r\n                    this.renderLabelHtml() +\r\n                    '</div>' +\r\n                    '</div>';\r\n            },\r\n            postRender: function() {\r\n                var me = this;\r\n                this.addListener('over', function() {\r\n                    me.ownerMenu.fireEvent('submenuover', me);\r\n                    if (me.subMenu) {\r\n                        me.delayShowSubMenu();\r\n                    }\r\n                });\r\n                if (this.subMenu) {\r\n                    this.getDom().className += ' edui-hassubmenu';\r\n                    this.subMenu.render();\r\n                    this.addListener('out', function() {\r\n                        me.delayHideSubMenu();\r\n                    });\r\n                    this.subMenu.addListener('over', function() {\r\n                        clearTimeout(me._closingTimer);\r\n                        me._closingTimer = null;\r\n                        me.addState('opened');\r\n                    });\r\n                    this.ownerMenu.addListener('hide', function() {\r\n                        me.hideSubMenu();\r\n                    });\r\n                    this.ownerMenu.addListener('submenuover', function(t, subMenu) {\r\n                        if (subMenu !== me) {\r\n                            me.delayHideSubMenu();\r\n                        }\r\n                    });\r\n                    this.subMenu._bakQueryAutoHide = this.subMenu.queryAutoHide;\r\n                    this.subMenu.queryAutoHide = function(el) {\r\n                        if (el && uiUtils.contains(me.getDom(), el)) {\r\n                            return false;\r\n                        }\r\n                        return this._bakQueryAutoHide(el);\r\n                    };\r\n                }\r\n                this.getDom().style.tabIndex = '-1';\r\n                uiUtils.makeUnselectable(this.getDom());\r\n                this.Stateful_postRender();\r\n            },\r\n            delayShowSubMenu: function() {\r\n                var me = this;\r\n                if (!me.isDisabled()) {\r\n                    me.addState('opened');\r\n                    clearTimeout(me._showingTimer);\r\n                    clearTimeout(me._closingTimer);\r\n                    me._closingTimer = null;\r\n                    me._showingTimer = setTimeout(function() {\r\n                        me.showSubMenu();\r\n                    }, 250);\r\n                }\r\n            },\r\n            delayHideSubMenu: function() {\r\n                var me = this;\r\n                if (!me.isDisabled()) {\r\n                    me.removeState('opened');\r\n                    clearTimeout(me._showingTimer);\r\n                    if (!me._closingTimer) {\r\n                        me._closingTimer = setTimeout(function() {\r\n                            if (!me.hasState('opened')) {\r\n                                me.hideSubMenu();\r\n                            }\r\n                            me._closingTimer = null;\r\n                        }, 400);\r\n                    }\r\n                }\r\n            },\r\n            renderLabelHtml: function() {\r\n                return '<div class=\"edui-arrow\"></div>' +\r\n                    '<div class=\"edui-box edui-icon\"></div>' +\r\n                    '<div class=\"edui-box edui-label %%-label\">' + (this.label || '') + '</div>';\r\n            },\r\n            getStateDom: function() {\r\n                return this.getDom();\r\n            },\r\n            queryAutoHide: function(el) {\r\n                if (this.subMenu && this.hasState('opened')) {\r\n                    return this.subMenu.queryAutoHide(el);\r\n                }\r\n            },\r\n            _onClick: function(event, this_) {\r\n                if (this.hasState('disabled')) return;\r\n                if (this.fireEvent('click', event, this_) !== false) {\r\n                    if (this.subMenu) {\r\n                        this.showSubMenu();\r\n                    } else {\r\n                        Popup.postHide(event);\r\n                    }\r\n                }\r\n            },\r\n            showSubMenu: function() {\r\n                var rect = uiUtils.getClientRect(this.getDom());\r\n                rect.right -= 5;\r\n                rect.left += 2;\r\n                rect.width -= 7;\r\n                rect.top -= 4;\r\n                rect.bottom += 4;\r\n                rect.height += 8;\r\n                this.subMenu.showAnchorRect(rect, true, true);\r\n            },\r\n            hideSubMenu: function() {\r\n                this.subMenu.hide();\r\n            }\r\n        };\r\n        utils.inherits(MenuItem, UIBase);\r\n        utils.extend(MenuItem.prototype, Stateful, true);\r\n    })();\r\n\r\n\r\n    // ui/combox.js\r\n    ///import core\r\n    ///import uicore\r\n    ///import ui/menu.js\r\n    ///import ui/splitbutton.js\r\n    (function() {\r\n        // todo: menu和item提成通用list\r\n        var utils = baidu.editor.utils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            Menu = baidu.editor.ui.Menu,\r\n            SplitButton = baidu.editor.ui.SplitButton,\r\n            Combox = baidu.editor.ui.Combox = function(options) {\r\n                this.initOptions(options);\r\n                this.initCombox();\r\n            };\r\n        Combox.prototype = {\r\n            uiName: 'combox',\r\n            onbuttonclick: function() {\r\n                this.showPopup();\r\n            },\r\n            initCombox: function() {\r\n                var me = this;\r\n                this.items = this.items || [];\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    var item = this.items[i];\r\n                    item.uiName = 'listitem';\r\n                    item.index = i;\r\n                    item.onclick = function() {\r\n                        me.selectByIndex(this.index);\r\n                    };\r\n                }\r\n                this.popup = new Menu({\r\n                    items: this.items,\r\n                    uiName: 'list',\r\n                    editor: this.editor,\r\n                    captureWheel: true,\r\n                    combox: this\r\n                });\r\n\r\n                this.initSplitButton();\r\n            },\r\n            _SplitButton_postRender: SplitButton.prototype.postRender,\r\n            postRender: function() {\r\n                this._SplitButton_postRender();\r\n                this.setLabel(this.label || '');\r\n                this.setValue(this.initValue || '');\r\n            },\r\n            showPopup: function() {\r\n                var rect = uiUtils.getClientRect(this.getDom());\r\n                rect.top += 1;\r\n                rect.bottom -= 1;\r\n                rect.height -= 2;\r\n                this.popup.showAnchorRect(rect);\r\n            },\r\n            getValue: function() {\r\n                return this.value;\r\n            },\r\n            setValue: function(value) {\r\n                var index = this.indexByValue(value);\r\n                if (index != -1) {\r\n                    this.selectedIndex = index;\r\n                    this.setLabel(this.items[index].label);\r\n                    this.value = this.items[index].value;\r\n                } else {\r\n                    this.selectedIndex = -1;\r\n                    this.setLabel(this.getLabelForUnknowValue(value));\r\n                    this.value = value;\r\n                }\r\n            },\r\n            setLabel: function(label) {\r\n                this.getDom('button_body').innerHTML = label;\r\n                this.label = label;\r\n            },\r\n            getLabelForUnknowValue: function(value) {\r\n                return value;\r\n            },\r\n            indexByValue: function(value) {\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    if (value == this.items[i].value) {\r\n                        return i;\r\n                    }\r\n                }\r\n                return -1;\r\n            },\r\n            getItem: function(index) {\r\n                return this.items[index];\r\n            },\r\n            selectByIndex: function(index) {\r\n                if (index < this.items.length && this.fireEvent('select', index) !== false) {\r\n                    this.selectedIndex = index;\r\n                    this.value = this.items[index].value;\r\n                    this.setLabel(this.items[index].label);\r\n                }\r\n            }\r\n        };\r\n        utils.inherits(Combox, SplitButton);\r\n    })();\r\n\r\n\r\n    // ui/dialog.js\r\n    ///import core\r\n    ///import uicore\r\n    ///import ui/mask.js\r\n    ///import ui/button.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            domUtils = baidu.editor.dom.domUtils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            Mask = baidu.editor.ui.Mask,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            Button = baidu.editor.ui.Button,\r\n            Dialog = baidu.editor.ui.Dialog = function(options) {\r\n                if (options.name) {\r\n                    var name = options.name;\r\n                    var cssRules = options.cssRules;\r\n                    if (!options.className) {\r\n                        options.className = 'edui-for-' + name;\r\n                    }\r\n                    if (cssRules) {\r\n                        options.cssRules = '.edui-default .edui-for-' + name + ' .edui-dialog-content  {' + cssRules + '}'\r\n                    }\r\n                }\r\n                this.initOptions(utils.extend({\r\n                    autoReset: true,\r\n                    draggable: true,\r\n                    onok: function() {},\r\n                    oncancel: function() {},\r\n                    onclose: function(t, ok) {\r\n                        return ok ? this.onok() : this.oncancel();\r\n                    },\r\n                    //是否控制dialog中的scroll事件， 默认为不阻止\r\n                    holdScroll: false\r\n                }, options));\r\n                this.initDialog();\r\n            };\r\n        var modalMask;\r\n        var dragMask;\r\n        var activeDialog;\r\n        Dialog.prototype = {\r\n            draggable: false,\r\n            uiName: 'dialog',\r\n            initDialog: function() {\r\n                var me = this,\r\n                    theme = this.editor.options.theme;\r\n                if (this.cssRules) {\r\n                    utils.cssRule('edui-customize-' + this.name + '-style', this.cssRules);\r\n                }\r\n                this.initUIBase();\r\n                this.modalMask = (modalMask || (modalMask = new Mask({\r\n                    className: 'edui-dialog-modalmask',\r\n                    theme: theme,\r\n                    onclick: function() {\r\n                        activeDialog && activeDialog.close(false);\r\n                    }\r\n                })));\r\n                this.dragMask = (dragMask || (dragMask = new Mask({\r\n                    className: 'edui-dialog-dragmask',\r\n                    theme: theme\r\n                })));\r\n                this.closeButton = new Button({\r\n                    className: 'edui-dialog-closebutton',\r\n                    title: me.closeDialog,\r\n                    theme: theme,\r\n                    onclick: function() {\r\n                        me.close(false);\r\n                    }\r\n                });\r\n\r\n                this.fullscreen && this.initResizeEvent();\r\n\r\n                if (this.buttons) {\r\n                    for (var i = 0; i < this.buttons.length; i++) {\r\n                        if (!(this.buttons[i] instanceof Button)) {\r\n                            this.buttons[i] = new Button(utils.extend(this.buttons[i], {\r\n                                editor: this.editor\r\n                            }, true));\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            initResizeEvent: function() {\r\n\r\n                var me = this;\r\n\r\n                domUtils.on(window, \"resize\", function() {\r\n\r\n                    if (me._hidden || me._hidden === undefined) {\r\n                        return;\r\n                    }\r\n\r\n                    if (me.__resizeTimer) {\r\n                        window.clearTimeout(me.__resizeTimer);\r\n                    }\r\n\r\n                    me.__resizeTimer = window.setTimeout(function() {\r\n\r\n                        me.__resizeTimer = null;\r\n\r\n                        var dialogWrapNode = me.getDom(),\r\n                            contentNode = me.getDom('content'),\r\n                            wrapRect = UE.ui.uiUtils.getClientRect(dialogWrapNode),\r\n                            contentRect = UE.ui.uiUtils.getClientRect(contentNode),\r\n                            vpRect = uiUtils.getViewportRect();\r\n\r\n                        contentNode.style.width = (vpRect.width - wrapRect.width + contentRect.width) + \"px\";\r\n                        contentNode.style.height = (vpRect.height - wrapRect.height + contentRect.height) + \"px\";\r\n\r\n                        dialogWrapNode.style.width = vpRect.width + \"px\";\r\n                        dialogWrapNode.style.height = vpRect.height + \"px\";\r\n\r\n                        me.fireEvent(\"resize\");\r\n\r\n                    }, 100);\r\n\r\n                });\r\n\r\n            },\r\n            fitSize: function() {\r\n                var popBodyEl = this.getDom('body');\r\n                //            if (!(baidu.editor.browser.ie && baidu.editor.browser.version == 7)) {\r\n                //                uiUtils.removeStyle(popBodyEl, 'width');\r\n                //                uiUtils.removeStyle(popBodyEl, 'height');\r\n                //            }\r\n                var size = this.mesureSize();\r\n                popBodyEl.style.width = size.width + 'px';\r\n                popBodyEl.style.height = size.height + 'px';\r\n                return size;\r\n            },\r\n            safeSetOffset: function(offset) {\r\n                var me = this;\r\n                var el = me.getDom();\r\n                var vpRect = uiUtils.getViewportRect();\r\n                var rect = uiUtils.getClientRect(el);\r\n                var left = offset.left;\r\n                if (left + rect.width > vpRect.right) {\r\n                    left = vpRect.right - rect.width;\r\n                }\r\n                var top = offset.top;\r\n                if (top + rect.height > vpRect.bottom) {\r\n                    top = vpRect.bottom - rect.height;\r\n                }\r\n                el.style.left = Math.max(left, 0) + 'px';\r\n                el.style.top = Math.max(top, 0) + 'px';\r\n            },\r\n            showAtCenter: function() {\r\n\r\n                var vpRect = uiUtils.getViewportRect();\r\n\r\n                if (!this.fullscreen) {\r\n                    this.getDom().style.display = '';\r\n                    var popSize = this.fitSize();\r\n                    var titleHeight = this.getDom('titlebar').offsetHeight | 0;\r\n                    var left = vpRect.width / 2 - popSize.width / 2;\r\n                    var top = vpRect.height / 2 - (popSize.height - titleHeight) / 2 - titleHeight;\r\n                    var popEl = this.getDom();\r\n                    this.safeSetOffset({\r\n                        left: Math.max(left | 0, 0),\r\n                        top: Math.max(top | 0, 0)\r\n                    });\r\n                    if (!domUtils.hasClass(popEl, 'edui-state-centered')) {\r\n                        popEl.className += ' edui-state-centered';\r\n                    }\r\n                } else {\r\n                    var dialogWrapNode = this.getDom(),\r\n                        contentNode = this.getDom('content');\r\n\r\n                    dialogWrapNode.style.display = \"block\";\r\n\r\n                    var wrapRect = UE.ui.uiUtils.getClientRect(dialogWrapNode),\r\n                        contentRect = UE.ui.uiUtils.getClientRect(contentNode);\r\n                    dialogWrapNode.style.left = \"-100000px\";\r\n\r\n                    contentNode.style.width = (vpRect.width - wrapRect.width + contentRect.width) + \"px\";\r\n                    contentNode.style.height = (vpRect.height - wrapRect.height + contentRect.height) + \"px\";\r\n\r\n                    dialogWrapNode.style.width = vpRect.width + \"px\";\r\n                    dialogWrapNode.style.height = vpRect.height + \"px\";\r\n                    dialogWrapNode.style.left = 0;\r\n\r\n                    //保存环境的overflow值\r\n                    this._originalContext = {\r\n                        html: {\r\n                            overflowX: document.documentElement.style.overflowX,\r\n                            overflowY: document.documentElement.style.overflowY\r\n                        },\r\n                        body: {\r\n                            overflowX: document.body.style.overflowX,\r\n                            overflowY: document.body.style.overflowY\r\n                        }\r\n                    };\r\n\r\n                    document.documentElement.style.overflowX = 'hidden';\r\n                    document.documentElement.style.overflowY = 'hidden';\r\n                    document.body.style.overflowX = 'hidden';\r\n                    document.body.style.overflowY = 'hidden';\r\n\r\n                }\r\n\r\n                this._show();\r\n            },\r\n            getContentHtml: function() {\r\n                var contentHtml = '';\r\n                if (typeof this.content == 'string') {\r\n                    contentHtml = this.content;\r\n                } else if (this.iframeUrl) {\r\n                    contentHtml = '<span id=\"' + this.id + '_contmask\" class=\"dialogcontmask\"></span><iframe id=\"' + this.id +\r\n                        '_iframe\" class=\"%%-iframe\" height=\"100%\" width=\"100%\" frameborder=\"0\" src=\"' + this.iframeUrl + '\"></iframe>';\r\n                }\r\n                return contentHtml;\r\n            },\r\n            getHtmlTpl: function() {\r\n                var footHtml = '';\r\n\r\n                if (this.buttons) {\r\n                    var buff = [];\r\n                    for (var i = 0; i < this.buttons.length; i++) {\r\n                        buff[i] = this.buttons[i].renderHtml();\r\n                    }\r\n                    footHtml = '<div class=\"%%-foot\">' +\r\n                        '<div id=\"##_buttons\" class=\"%%-buttons\">' + buff.join('') + '</div>' +\r\n                        '</div>';\r\n                }\r\n\r\n                return '<div id=\"##\" class=\"%%\"><div ' + (!this.fullscreen ? 'class=\"%%\"' : 'class=\"%%-wrap edui-dialog-fullscreen-flag\"') + '><div id=\"##_body\" class=\"%%-body\">' +\r\n                    '<div class=\"%%-shadow\"></div>' +\r\n                    '<div id=\"##_titlebar\" class=\"%%-titlebar\">' +\r\n                    '<div class=\"%%-draghandle\" onmousedown=\"$$._onTitlebarMouseDown(event, this);\">' +\r\n                    '<span class=\"%%-caption\">' + (this.title || '') + '</span>' +\r\n                    '</div>' +\r\n                    this.closeButton.renderHtml() +\r\n                    '</div>' +\r\n                    '<div id=\"##_content\" class=\"%%-content\">' + (this.autoReset ? '' : this.getContentHtml()) + '</div>' +\r\n                    footHtml +\r\n                    '</div></div></div>';\r\n            },\r\n            postRender: function() {\r\n                // todo: 保持居中/记住上次关闭位置选项\r\n                if (!this.modalMask.getDom()) {\r\n                    this.modalMask.render();\r\n                    this.modalMask.hide();\r\n                }\r\n                if (!this.dragMask.getDom()) {\r\n                    this.dragMask.render();\r\n                    this.dragMask.hide();\r\n                }\r\n                var me = this;\r\n                this.addListener('show', function() {\r\n                    me.modalMask.show(this.getDom().style.zIndex - 2);\r\n                });\r\n                this.addListener('hide', function() {\r\n                    me.modalMask.hide();\r\n                });\r\n                if (this.buttons) {\r\n                    for (var i = 0; i < this.buttons.length; i++) {\r\n                        this.buttons[i].postRender();\r\n                    }\r\n                }\r\n                domUtils.on(window, 'resize', function() {\r\n                    setTimeout(function() {\r\n                        if (!me.isHidden()) {\r\n                            me.safeSetOffset(uiUtils.getClientRect(me.getDom()));\r\n                        }\r\n                    });\r\n                });\r\n\r\n                //hold住scroll事件，防止dialog的滚动影响页面\r\n                //            if( this.holdScroll ) {\r\n                //\r\n                //                if( !me.iframeUrl ) {\r\n                //                    domUtils.on( document.getElementById( me.id + \"_iframe\"), !browser.gecko ? \"mousewheel\" : \"DOMMouseScroll\", function(e){\r\n                //                        domUtils.preventDefault(e);\r\n                //                    } );\r\n                //                } else {\r\n                //                    me.addListener('dialogafterreset', function(){\r\n                //                        window.setTimeout(function(){\r\n                //                            var iframeWindow = document.getElementById( me.id + \"_iframe\").contentWindow;\r\n                //\r\n                //                            if( browser.ie ) {\r\n                //\r\n                //                                var timer = window.setInterval(function(){\r\n                //\r\n                //                                    if( iframeWindow.document && iframeWindow.document.body ) {\r\n                //                                        window.clearInterval( timer );\r\n                //                                        timer = null;\r\n                //                                        domUtils.on( iframeWindow.document.body, !browser.gecko ? \"mousewheel\" : \"DOMMouseScroll\", function(e){\r\n                //                                            domUtils.preventDefault(e);\r\n                //                                        } );\r\n                //                                    }\r\n                //\r\n                //                                }, 100);\r\n                //\r\n                //                            } else {\r\n                //                                domUtils.on( iframeWindow, !browser.gecko ? \"mousewheel\" : \"DOMMouseScroll\", function(e){\r\n                //                                    domUtils.preventDefault(e);\r\n                //                                } );\r\n                //                            }\r\n                //\r\n                //                        }, 1);\r\n                //                    });\r\n                //                }\r\n                //\r\n                //            }\r\n                this._hide();\r\n            },\r\n            mesureSize: function() {\r\n                var body = this.getDom('body');\r\n                var width = uiUtils.getClientRect(this.getDom('content')).width;\r\n                var dialogBodyStyle = body.style;\r\n                dialogBodyStyle.width = width;\r\n                return uiUtils.getClientRect(body);\r\n            },\r\n            _onTitlebarMouseDown: function(evt, el) {\r\n                if (this.draggable) {\r\n                    var rect;\r\n                    var vpRect = uiUtils.getViewportRect();\r\n                    var me = this;\r\n                    uiUtils.startDrag(evt, {\r\n                        ondragstart: function() {\r\n                            rect = uiUtils.getClientRect(me.getDom());\r\n                            me.getDom('contmask').style.visibility = 'visible';\r\n                            me.dragMask.show(me.getDom().style.zIndex - 1);\r\n                        },\r\n                        ondragmove: function(x, y) {\r\n                            var left = rect.left + x;\r\n                            var top = rect.top + y;\r\n                            me.safeSetOffset({\r\n                                left: left,\r\n                                top: top\r\n                            });\r\n                        },\r\n                        ondragstop: function() {\r\n                            me.getDom('contmask').style.visibility = 'hidden';\r\n                            domUtils.removeClasses(me.getDom(), ['edui-state-centered']);\r\n                            me.dragMask.hide();\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n            reset: function() {\r\n                this.getDom('content').innerHTML = this.getContentHtml();\r\n                this.fireEvent('dialogafterreset');\r\n            },\r\n            _show: function() {\r\n                if (this._hidden) {\r\n                    this.getDom().style.display = '';\r\n\r\n                    //要高过编辑器的zindxe\r\n                    this.editor.container.style.zIndex && (this.getDom().style.zIndex = this.editor.container.style.zIndex * 1 + 10);\r\n                    this._hidden = false;\r\n                    this.fireEvent('show');\r\n                    baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex = this.getDom().style.zIndex - 4;\r\n                }\r\n            },\r\n            isHidden: function() {\r\n                return this._hidden;\r\n            },\r\n            _hide: function() {\r\n                if (!this._hidden) {\r\n                    var wrapNode = this.getDom();\r\n                    wrapNode.style.display = 'none';\r\n                    wrapNode.style.zIndex = '';\r\n                    wrapNode.style.width = '';\r\n                    wrapNode.style.height = '';\r\n                    this._hidden = true;\r\n                    this.fireEvent('hide');\r\n                }\r\n            },\r\n            open: function() {\r\n                if (this.autoReset) {\r\n                    //有可能还没有渲染\r\n                    try {\r\n                        this.reset();\r\n                    } catch (e) {\r\n                        this.render();\r\n                        this.open()\r\n                    }\r\n                }\r\n                this.showAtCenter();\r\n                if (this.iframeUrl) {\r\n                    try {\r\n                        this.getDom('iframe').focus();\r\n                    } catch (ex) {}\r\n                }\r\n                activeDialog = this;\r\n            },\r\n            _onCloseButtonClick: function(evt, el) {\r\n                this.close(false);\r\n            },\r\n            close: function(ok) {\r\n                if (this.fireEvent('close', ok) !== false) {\r\n                    //还原环境\r\n                    if (this.fullscreen) {\r\n\r\n                        document.documentElement.style.overflowX = this._originalContext.html.overflowX;\r\n                        document.documentElement.style.overflowY = this._originalContext.html.overflowY;\r\n                        document.body.style.overflowX = this._originalContext.body.overflowX;\r\n                        document.body.style.overflowY = this._originalContext.body.overflowY;\r\n                        delete this._originalContext;\r\n\r\n                    }\r\n                    this._hide();\r\n\r\n                    //销毁content\r\n                    var content = this.getDom('content');\r\n                    var iframe = this.getDom('iframe');\r\n                    if (content && iframe) {\r\n                        var doc = iframe.contentDocument || iframe.contentWindow.document;\r\n                        doc && (doc.body.innerHTML = '');\r\n                        domUtils.remove(content);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        utils.inherits(Dialog, UIBase);\r\n    })();\r\n\r\n\r\n    // ui/menubutton.js\r\n    ///import core\r\n    ///import uicore\r\n    ///import ui/menu.js\r\n    ///import ui/splitbutton.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            Menu = baidu.editor.ui.Menu,\r\n            SplitButton = baidu.editor.ui.SplitButton,\r\n            MenuButton = baidu.editor.ui.MenuButton = function(options) {\r\n                this.initOptions(options);\r\n                this.initMenuButton();\r\n            };\r\n        MenuButton.prototype = {\r\n            initMenuButton: function() {\r\n                var me = this;\r\n                this.uiName = \"menubutton\";\r\n                this.popup = new Menu({\r\n                    items: me.items,\r\n                    className: me.className,\r\n                    editor: me.editor\r\n                });\r\n                this.popup.addListener('show', function() {\r\n                    var list = this;\r\n                    for (var i = 0; i < list.items.length; i++) {\r\n                        list.items[i].removeState('checked');\r\n                        if (list.items[i].value == me._value) {\r\n                            list.items[i].addState('checked');\r\n                            this.value = me._value;\r\n                        }\r\n                    }\r\n                });\r\n                this.initSplitButton();\r\n            },\r\n            setValue: function(value) {\r\n                this._value = value;\r\n            }\r\n\r\n        };\r\n        utils.inherits(MenuButton, SplitButton);\r\n    })();\r\n\r\n    // ui/multiMenu.js\r\n    ///import core\r\n    ///import uicore\r\n    ///commands 表情\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            Popup = baidu.editor.ui.Popup,\r\n            SplitButton = baidu.editor.ui.SplitButton,\r\n            MultiMenuPop = baidu.editor.ui.MultiMenuPop = function(options) {\r\n                this.initOptions(options);\r\n                this.initMultiMenu();\r\n            };\r\n\r\n        MultiMenuPop.prototype = {\r\n            initMultiMenu: function() {\r\n                var me = this;\r\n                this.popup = new Popup({\r\n                    content: '',\r\n                    editor: me.editor,\r\n                    iframe_rendered: false,\r\n                    onshow: function() {\r\n                            if (!this.iframe_rendered) {\r\n                                this.iframe_rendered = true;\r\n                                this.getDom('content').innerHTML = '<iframe id=\"' + me.id + '_iframe\" src=\"' + me.iframeUrl + '\" frameborder=\"0\"></iframe>';\r\n                                me.editor.container.style.zIndex && (this.getDom().style.zIndex = me.editor.container.style.zIndex * 1 + 1);\r\n                            }\r\n                        }\r\n                        // canSideUp:false,\r\n                        // canSideLeft:false\r\n                });\r\n                this.onbuttonclick = function() {\r\n                    this.showPopup();\r\n                };\r\n                this.initSplitButton();\r\n            }\r\n\r\n        };\r\n\r\n        utils.inherits(MultiMenuPop, SplitButton);\r\n    })();\r\n\r\n\r\n    // ui/shortcutmenu.js\r\n    (function() {\r\n        var UI = baidu.editor.ui,\r\n            UIBase = UI.UIBase,\r\n            uiUtils = UI.uiUtils,\r\n            utils = baidu.editor.utils,\r\n            domUtils = baidu.editor.dom.domUtils;\r\n\r\n        var allMenus = [], //存储所有快捷菜单\r\n            timeID,\r\n            isSubMenuShow = false; //是否有子pop显示\r\n\r\n        var ShortCutMenu = UI.ShortCutMenu = function(options) {\r\n            this.initOptions(options);\r\n            this.initShortCutMenu();\r\n        };\r\n\r\n        ShortCutMenu.postHide = hideAllMenu;\r\n\r\n        ShortCutMenu.prototype = {\r\n            isHidden: true,\r\n            SPACE: 5,\r\n            initShortCutMenu: function() {\r\n                this.items = this.items || [];\r\n                this.initUIBase();\r\n                this.initItems();\r\n                this.initEvent();\r\n                allMenus.push(this);\r\n            },\r\n            initEvent: function() {\r\n                var me = this,\r\n                    doc = me.editor.document;\r\n\r\n                domUtils.on(doc, \"mousemove\", function(e) {\r\n                    if (me.isHidden === false) {\r\n                        //有pop显示就不隐藏快捷菜单\r\n                        if (me.getSubMenuMark() || me.eventType == \"contextmenu\") return;\r\n\r\n\r\n                        var flag = true,\r\n                            el = me.getDom(),\r\n                            wt = el.offsetWidth,\r\n                            ht = el.offsetHeight,\r\n                            distanceX = wt / 2 + me.SPACE, //距离中心X标准\r\n                            distanceY = ht / 2, //距离中心Y标准\r\n                            x = Math.abs(e.screenX - me.left), //离中心距离横坐标\r\n                            y = Math.abs(e.screenY - me.top); //离中心距离纵坐标\r\n\r\n                        clearTimeout(timeID);\r\n                        timeID = setTimeout(function() {\r\n                            if (y > 0 && y < distanceY) {\r\n                                me.setOpacity(el, \"1\");\r\n                            } else if (y > distanceY && y < distanceY + 70) {\r\n                                me.setOpacity(el, \"0.5\");\r\n                                flag = false;\r\n                            } else if (y > distanceY + 70 && y < distanceY + 140) {\r\n                                me.hide();\r\n                            }\r\n\r\n                            if (flag && x > 0 && x < distanceX) {\r\n                                me.setOpacity(el, \"1\")\r\n                            } else if (x > distanceX && x < distanceX + 70) {\r\n                                me.setOpacity(el, \"0.5\")\r\n                            } else if (x > distanceX + 70 && x < distanceX + 140) {\r\n                                me.hide();\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n\r\n                //ie\\ff下 mouseout不准\r\n                if (browser.chrome) {\r\n                    domUtils.on(doc, \"mouseout\", function(e) {\r\n                        var relatedTgt = e.relatedTarget || e.toElement;\r\n\r\n                        if (relatedTgt == null || relatedTgt.tagName == \"HTML\") {\r\n                            me.hide();\r\n                        }\r\n                    });\r\n                }\r\n\r\n                me.editor.addListener(\"afterhidepop\", function() {\r\n                    if (!me.isHidden) {\r\n                        isSubMenuShow = true;\r\n                    }\r\n                });\r\n\r\n            },\r\n            initItems: function() {\r\n                if (utils.isArray(this.items)) {\r\n                    for (var i = 0, len = this.items.length; i < len; i++) {\r\n                        var item = this.items[i].toLowerCase();\r\n\r\n                        if (UI[item]) {\r\n                            this.items[i] = new UI[item](this.editor);\r\n                            this.items[i].className += \" edui-shortcutsubmenu \";\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            setOpacity: function(el, value) {\r\n                if (browser.ie && browser.version < 9) {\r\n                    el.style.filter = \"alpha(opacity = \" + parseFloat(value) * 100 + \");\"\r\n                } else {\r\n                    el.style.opacity = value;\r\n                }\r\n            },\r\n            getSubMenuMark: function() {\r\n                isSubMenuShow = false;\r\n                var layerEle = uiUtils.getFixedLayer();\r\n                var list = domUtils.getElementsByTagName(layerEle, \"div\", function(node) {\r\n                    return domUtils.hasClass(node, \"edui-shortcutsubmenu edui-popup\")\r\n                });\r\n\r\n                for (var i = 0, node; node = list[i++];) {\r\n                    if (node.style.display != \"none\") {\r\n                        isSubMenuShow = true;\r\n                    }\r\n                }\r\n                return isSubMenuShow;\r\n            },\r\n            show: function(e, hasContextmenu) {\r\n                var me = this,\r\n                    offset = {},\r\n                    el = this.getDom(),\r\n                    fixedlayer = uiUtils.getFixedLayer();\r\n\r\n                function setPos(offset) {\r\n                    if (offset.left < 0) {\r\n                        offset.left = 0;\r\n                    }\r\n                    if (offset.top < 0) {\r\n                        offset.top = 0;\r\n                    }\r\n                    el.style.cssText = \"position:absolute;left:\" + offset.left + \"px;top:\" + offset.top + \"px;\";\r\n                }\r\n\r\n                function setPosByCxtMenu(menu) {\r\n                    if (!menu.tagName) {\r\n                        menu = menu.getDom();\r\n                    }\r\n                    offset.left = parseInt(menu.style.left);\r\n                    offset.top = parseInt(menu.style.top);\r\n                    offset.top -= el.offsetHeight + 15;\r\n                    setPos(offset);\r\n                }\r\n\r\n\r\n                me.eventType = e.type;\r\n                el.style.cssText = \"display:block;left:-9999px\";\r\n\r\n                if (e.type == \"contextmenu\" && hasContextmenu) {\r\n                    var menu = domUtils.getElementsByTagName(fixedlayer, \"div\", \"edui-contextmenu\")[0];\r\n                    if (menu) {\r\n                        setPosByCxtMenu(menu)\r\n                    } else {\r\n                        me.editor.addListener(\"aftershowcontextmenu\", function(type, menu) {\r\n                            setPosByCxtMenu(menu);\r\n                        });\r\n                    }\r\n                } else {\r\n                    offset = uiUtils.getViewportOffsetByEvent(e);\r\n                    offset.top -= el.offsetHeight + me.SPACE;\r\n                    offset.left += me.SPACE + 20;\r\n                    setPos(offset);\r\n                    me.setOpacity(el, 0.2);\r\n                }\r\n\r\n\r\n                me.isHidden = false;\r\n                me.left = e.screenX + el.offsetWidth / 2 - me.SPACE;\r\n                me.top = e.screenY - (el.offsetHeight / 2) - me.SPACE;\r\n\r\n                if (me.editor) {\r\n                    el.style.zIndex = me.editor.container.style.zIndex * 1 + 10;\r\n                    fixedlayer.style.zIndex = el.style.zIndex - 1;\r\n                }\r\n            },\r\n            hide: function() {\r\n                if (this.getDom()) {\r\n                    this.getDom().style.display = \"none\";\r\n                }\r\n                this.isHidden = true;\r\n            },\r\n            postRender: function() {\r\n                if (utils.isArray(this.items)) {\r\n                    for (var i = 0, item; item = this.items[i++];) {\r\n                        item.postRender();\r\n                    }\r\n                }\r\n            },\r\n            getHtmlTpl: function() {\r\n                var buff;\r\n                if (utils.isArray(this.items)) {\r\n                    buff = [];\r\n                    for (var i = 0; i < this.items.length; i++) {\r\n                        buff[i] = this.items[i].renderHtml();\r\n                    }\r\n                    buff = buff.join(\"\");\r\n                } else {\r\n                    buff = this.items;\r\n                }\r\n\r\n                return '<div id=\"##\" class=\"%% edui-toolbar\" data-src=\"shortcutmenu\" onmousedown=\"return false;\" onselectstart=\"return false;\" >' +\r\n                    buff +\r\n                    '</div>';\r\n            }\r\n        };\r\n\r\n        utils.inherits(ShortCutMenu, UIBase);\r\n\r\n        function hideAllMenu(e) {\r\n            var tgt = e.target || e.srcElement,\r\n                cur = domUtils.findParent(tgt, function(node) {\r\n                    return domUtils.hasClass(node, \"edui-shortcutmenu\") || domUtils.hasClass(node, \"edui-popup\");\r\n                }, true);\r\n\r\n            if (!cur) {\r\n                for (var i = 0, menu; menu = allMenus[i++];) {\r\n                    menu.hide()\r\n                }\r\n            }\r\n        }\r\n\r\n        domUtils.on(document, 'mousedown', function(e) {\r\n            hideAllMenu(e);\r\n        });\r\n\r\n        domUtils.on(window, 'scroll', function(e) {\r\n            hideAllMenu(e);\r\n        });\r\n\r\n    })();\r\n\r\n\r\n    // ui/breakline.js\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            Breakline = baidu.editor.ui.Breakline = function(options) {\r\n                this.initOptions(options);\r\n                this.initSeparator();\r\n            };\r\n        Breakline.prototype = {\r\n            uiName: 'Breakline',\r\n            initSeparator: function() {\r\n                this.initUIBase();\r\n            },\r\n            getHtmlTpl: function() {\r\n                return '<br/>';\r\n            }\r\n        };\r\n        utils.inherits(Breakline, UIBase);\r\n\r\n    })();\r\n\r\n\r\n    // ui/message.js\r\n    ///import core\r\n    ///import uicore\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            domUtils = baidu.editor.dom.domUtils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            Message = baidu.editor.ui.Message = function(options) {\r\n                this.initOptions(options);\r\n                this.initMessage();\r\n            };\r\n\r\n        Message.prototype = {\r\n            initMessage: function() {\r\n                this.initUIBase();\r\n            },\r\n            getHtmlTpl: function() {\r\n                return '<div id=\"##\" class=\"edui-message %%\">' +\r\n                    ' <div id=\"##_closer\" class=\"edui-message-closer\">×</div>' +\r\n                    ' <div id=\"##_body\" class=\"edui-message-body edui-message-type-info\">' +\r\n                    ' <iframe style=\"position:absolute;z-index:-1;left:0;top:0;background-color: transparent;\" frameborder=\"0\" width=\"100%\" height=\"100%\" src=\"about:blank\"></iframe>' +\r\n                    ' <div class=\"edui-shadow\"></div>' +\r\n                    ' <div id=\"##_content\" class=\"edui-message-content\">' +\r\n                    '  </div>' +\r\n                    ' </div>' +\r\n                    '</div>';\r\n            },\r\n            reset: function(opt) {\r\n                var me = this;\r\n                if (!opt.keepshow) {\r\n                    clearTimeout(this.timer);\r\n                    me.timer = setTimeout(function() {\r\n                        me.hide();\r\n                    }, opt.timeout || 4000);\r\n                }\r\n\r\n                opt.content !== undefined && me.setContent(opt.content);\r\n                opt.type !== undefined && me.setType(opt.type);\r\n\r\n                me.show();\r\n            },\r\n            postRender: function() {\r\n                var me = this,\r\n                    closer = this.getDom('closer');\r\n                closer && domUtils.on(closer, 'click', function() {\r\n                    me.hide();\r\n                });\r\n            },\r\n            setContent: function(content) {\r\n                this.getDom('content').innerHTML = content;\r\n            },\r\n            setType: function(type) {\r\n                type = type || 'info';\r\n                var body = this.getDom('body');\r\n                body.className = body.className.replace(/edui-message-type-[\\w-]+/, 'edui-message-type-' + type);\r\n            },\r\n            getContent: function() {\r\n                return this.getDom('content').innerHTML;\r\n            },\r\n            getType: function() {\r\n                var arr = this.getDom('body').match(/edui-message-type-([\\w-]+)/);\r\n                return arr ? arr[1] : '';\r\n            },\r\n            show: function() {\r\n                this.getDom().style.display = 'block';\r\n            },\r\n            hide: function() {\r\n                var dom = this.getDom();\r\n                if (dom) {\r\n                    dom.style.display = 'none';\r\n                    dom.parentNode && dom.parentNode.removeChild(dom);\r\n                }\r\n            }\r\n        };\r\n\r\n        utils.inherits(Message, UIBase);\r\n\r\n    })();\r\n\r\n\r\n    // adapter/editorui.js\r\n    //ui跟编辑器的适配層\r\n    //那个按钮弹出是dialog，是下拉筐等都是在这个js中配置\r\n    //自己写的ui也要在这里配置，放到baidu.editor.ui下边，当编辑器实例化的时候会根据ueditor.config中的toolbars找到相应的进行实例化\r\n    (function() {\r\n        var utils = baidu.editor.utils;\r\n        var editorui = baidu.editor.ui;\r\n        var _Dialog = editorui.Dialog;\r\n        editorui.buttons = {};\r\n\r\n        editorui.Dialog = function(options) {\r\n            var dialog = new _Dialog(options);\r\n            dialog.addListener('hide', function() {\r\n\r\n                if (dialog.editor) {\r\n                    var editor = dialog.editor;\r\n                    try {\r\n                        if (browser.gecko) {\r\n                            var y = editor.window.scrollY,\r\n                                x = editor.window.scrollX;\r\n                            editor.body.focus();\r\n                            editor.window.scrollTo(x, y);\r\n                        } else {\r\n                            editor.focus();\r\n                        }\r\n\r\n\r\n                    } catch (ex) {}\r\n                }\r\n            });\r\n            return dialog;\r\n        };\r\n\r\n        var iframeUrlMap = {\r\n            'anchor': '~/dialogs/anchor/anchor.html',\r\n            'insertimage': '~/dialogs/image/image.html',\r\n            'link': '~/dialogs/link/link.html',\r\n            'spechars': '~/dialogs/spechars/spechars.html',\r\n            'searchreplace': '~/dialogs/searchreplace/searchreplace.html',\r\n            'map': '~/dialogs/map/map.html',\r\n            'gmap': '~/dialogs/gmap/gmap.html',\r\n            'insertvideo': '~/dialogs/video/video.html',\r\n            'help': '~/dialogs/help/help.html',\r\n            'preview': '~/dialogs/preview/preview.html',\r\n            'emotion': '~/dialogs/emotion/emotion.html',\r\n            'wordimage': '~/dialogs/wordimage/wordimage.html',\r\n            'attachment': '~/dialogs/attachment/attachment.html',\r\n            'insertframe': '~/dialogs/insertframe/insertframe.html',\r\n            'edittip': '~/dialogs/table/edittip.html',\r\n            'edittable': '~/dialogs/table/edittable.html',\r\n            'edittd': '~/dialogs/table/edittd.html',\r\n            'webapp': '~/dialogs/webapp/webapp.html',\r\n            'snapscreen': '~/dialogs/snapscreen/snapscreen.html',\r\n            'scrawl': '~/dialogs/scrawl/scrawl.html',\r\n            'music': '~/dialogs/music/music.html',\r\n            'template': '~/dialogs/template/template.html',\r\n            'background': '~/dialogs/background/background.html',\r\n            'charts': '~/dialogs/charts/charts.html'\r\n        };\r\n        //为工具栏添加按钮，以下都是统一的按钮触发命令，所以写在一起\r\n        var btnCmds = ['undo', 'redo', 'formatmatch',\r\n            'bold', 'italic', 'underline', 'fontborder', 'touppercase', 'tolowercase',\r\n            'strikethrough', 'subscript', 'superscript', 'source', 'indent', 'outdent',\r\n            'blockquote', 'pasteplain', 'pagebreak',\r\n            'selectall', 'print', 'horizontal', 'removeformat', 'time', 'date', 'unlink',\r\n            'insertparagraphbeforetable', 'insertrow', 'insertcol', 'mergeright', 'mergedown', 'deleterow',\r\n            'deletecol', 'splittorows', 'splittocols', 'splittocells', 'mergecells', 'deletetable', 'drafts'\r\n        ];\r\n\r\n        for (var i = 0, ci; ci = btnCmds[i++];) {\r\n            ci = ci.toLowerCase();\r\n            editorui[ci] = function(cmd) {\r\n                return function(editor) {\r\n                    var ui = new editorui.Button({\r\n                        className: 'edui-for-' + cmd,\r\n                        title: editor.options.labelMap[cmd] || editor.getLang(\"labelMap.\" + cmd) || '',\r\n                        onclick: function() {\r\n                            editor.execCommand(cmd);\r\n                        },\r\n                        theme: editor.options.theme,\r\n                        showText: false\r\n                    });\r\n                    editorui.buttons[cmd] = ui;\r\n                    editor.addListener('selectionchange', function(type, causeByUi, uiReady) {\r\n                        var state = editor.queryCommandState(cmd);\r\n                        if (state == -1) {\r\n                            ui.setDisabled(true);\r\n                            ui.setChecked(false);\r\n                        } else {\r\n                            if (!uiReady) {\r\n                                ui.setDisabled(false);\r\n                                ui.setChecked(state);\r\n                            }\r\n                        }\r\n                    });\r\n                    return ui;\r\n                };\r\n            }(ci);\r\n        }\r\n\r\n        //清除文档\r\n        editorui.cleardoc = function(editor) {\r\n            var ui = new editorui.Button({\r\n                className: 'edui-for-cleardoc',\r\n                title: editor.options.labelMap.cleardoc || editor.getLang(\"labelMap.cleardoc\") || '',\r\n                theme: editor.options.theme,\r\n                onclick: function() {\r\n                    if (confirm(editor.getLang(\"confirmClear\"))) {\r\n                        editor.execCommand('cleardoc');\r\n                    }\r\n                }\r\n            });\r\n            editorui.buttons[\"cleardoc\"] = ui;\r\n            editor.addListener('selectionchange', function() {\r\n                ui.setDisabled(editor.queryCommandState('cleardoc') == -1);\r\n            });\r\n            return ui;\r\n        };\r\n\r\n        //排版，图片排版，文字方向\r\n        var typeset = {\r\n            'justify': ['left', 'right', 'center', 'justify'],\r\n            'imagefloat': ['none', 'left', 'center', 'right'],\r\n            'directionality': ['ltr', 'rtl']\r\n        };\r\n\r\n        for (var p in typeset) {\r\n\r\n            (function(cmd, val) {\r\n                for (var i = 0, ci; ci = val[i++];) {\r\n                    (function(cmd2) {\r\n                        editorui[cmd.replace('float', '') + cmd2] = function(editor) {\r\n                            var ui = new editorui.Button({\r\n                                className: 'edui-for-' + cmd.replace('float', '') + cmd2,\r\n                                title: editor.options.labelMap[cmd.replace('float', '') + cmd2] || editor.getLang(\"labelMap.\" + cmd.replace('float', '') + cmd2) || '',\r\n                                theme: editor.options.theme,\r\n                                onclick: function() {\r\n                                    editor.execCommand(cmd, cmd2);\r\n                                }\r\n                            });\r\n                            editorui.buttons[cmd] = ui;\r\n                            editor.addListener('selectionchange', function(type, causeByUi, uiReady) {\r\n                                ui.setDisabled(editor.queryCommandState(cmd) == -1);\r\n                                ui.setChecked(editor.queryCommandValue(cmd) == cmd2 && !uiReady);\r\n                            });\r\n                            return ui;\r\n                        };\r\n                    })(ci)\r\n                }\r\n            })(p, typeset[p])\r\n        }\r\n\r\n        //字体颜色和背景颜色\r\n        for (var i = 0, ci; ci = ['backcolor', 'forecolor'][i++];) {\r\n            editorui[ci] = function(cmd) {\r\n                return function(editor) {\r\n                    var ui = new editorui.ColorButton({\r\n                        className: 'edui-for-' + cmd,\r\n                        color: 'default',\r\n                        title: editor.options.labelMap[cmd] || editor.getLang(\"labelMap.\" + cmd) || '',\r\n                        editor: editor,\r\n                        onpickcolor: function(t, color) {\r\n                            editor.execCommand(cmd, color);\r\n                        },\r\n                        onpicknocolor: function() {\r\n                            editor.execCommand(cmd, 'default');\r\n                            this.setColor('transparent');\r\n                            this.color = 'default';\r\n                        },\r\n                        onbuttonclick: function() {\r\n                            editor.execCommand(cmd, this.color);\r\n                        }\r\n                    });\r\n                    editorui.buttons[cmd] = ui;\r\n                    editor.addListener('selectionchange', function() {\r\n                        ui.setDisabled(editor.queryCommandState(cmd) == -1);\r\n                    });\r\n                    return ui;\r\n                };\r\n            }(ci);\r\n        }\r\n\r\n\r\n        var dialogBtns = {\r\n            noOk: ['searchreplace', 'help', 'spechars', 'webapp', 'preview'],\r\n            ok: ['attachment', 'anchor', 'link', 'insertimage', 'map', 'gmap', 'insertframe', 'wordimage',\r\n                'insertvideo', 'insertframe', 'edittip', 'edittable', 'edittd', 'scrawl', 'template', 'music', 'background', 'charts'\r\n            ]\r\n        };\r\n\r\n        for (var p in dialogBtns) {\r\n            (function(type, vals) {\r\n                for (var i = 0, ci; ci = vals[i++];) {\r\n                    //todo opera下存在问题\r\n                    if (browser.opera && ci === \"searchreplace\") {\r\n                        continue;\r\n                    }\r\n                    (function(cmd) {\r\n                        editorui[cmd] = function(editor, iframeUrl, title) {\r\n                            iframeUrl = iframeUrl || (editor.options.iframeUrlMap || {})[cmd] || iframeUrlMap[cmd];\r\n                            title = editor.options.labelMap[cmd] || editor.getLang(\"labelMap.\" + cmd) || '';\r\n\r\n                            var dialog;\r\n                            //没有iframeUrl不创建dialog\r\n                            if (iframeUrl) {\r\n                                dialog = new editorui.Dialog(utils.extend({\r\n                                    iframeUrl: editor.ui.mapUrl(iframeUrl),\r\n                                    editor: editor,\r\n                                    className: 'edui-for-' + cmd,\r\n                                    title: title,\r\n                                    holdScroll: cmd === 'insertimage',\r\n                                    fullscreen: /charts|preview/.test(cmd),\r\n                                    closeDialog: editor.getLang(\"closeDialog\")\r\n                                }, type == 'ok' ? {\r\n                                    buttons: [{\r\n                                            className: 'edui-okbutton',\r\n                                            label: editor.getLang(\"ok\"),\r\n                                            editor: editor,\r\n                                            onclick: function() {\r\n                                                dialog.close(true);\r\n                                            }\r\n                                        },\r\n                                        {\r\n                                            className: 'edui-cancelbutton',\r\n                                            label: editor.getLang(\"cancel\"),\r\n                                            editor: editor,\r\n                                            onclick: function() {\r\n                                                dialog.close(false);\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                } : {}));\r\n\r\n                                editor.ui._dialogs[cmd + \"Dialog\"] = dialog;\r\n                            }\r\n\r\n                            var ui = new editorui.Button({\r\n                                className: 'edui-for-' + cmd,\r\n                                title: title,\r\n                                onclick: function() {\r\n                                    if (dialog) {\r\n                                        switch (cmd) {\r\n                                            case \"wordimage\":\r\n                                                var images = editor.execCommand(\"wordimage\");\r\n                                                if (images && images.length) {\r\n                                                    dialog.render();\r\n                                                    dialog.open();\r\n                                                }\r\n                                                break;\r\n                                            case \"scrawl\":\r\n                                                if (editor.queryCommandState(\"scrawl\") != -1) {\r\n                                                    dialog.render();\r\n                                                    dialog.open();\r\n                                                }\r\n\r\n                                                break;\r\n                                            default:\r\n                                                dialog.render();\r\n                                                dialog.open();\r\n                                        }\r\n                                    }\r\n                                },\r\n                                theme: editor.options.theme,\r\n                                disabled: (cmd == 'scrawl' && editor.queryCommandState(\"scrawl\") == -1) || (cmd == 'charts')\r\n                            });\r\n                            editorui.buttons[cmd] = ui;\r\n                            editor.addListener('selectionchange', function() {\r\n                                //只存在于右键菜单而无工具栏按钮的ui不需要检测状态\r\n                                var unNeedCheckState = { 'edittable': 1 };\r\n                                if (cmd in unNeedCheckState) return;\r\n\r\n                                var state = editor.queryCommandState(cmd);\r\n                                if (ui.getDom()) {\r\n                                    ui.setDisabled(state == -1);\r\n                                    ui.setChecked(state);\r\n                                }\r\n\r\n                            });\r\n\r\n                            return ui;\r\n                        };\r\n                    })(ci.toLowerCase())\r\n                }\r\n            })(p, dialogBtns[p]);\r\n        }\r\n\r\n        editorui.snapscreen = function(editor, iframeUrl, title) {\r\n            title = editor.options.labelMap['snapscreen'] || editor.getLang(\"labelMap.snapscreen\") || '';\r\n            var ui = new editorui.Button({\r\n                className: 'edui-for-snapscreen',\r\n                title: title,\r\n                onclick: function() {\r\n                    editor.execCommand(\"snapscreen\");\r\n                },\r\n                theme: editor.options.theme\r\n\r\n            });\r\n            editorui.buttons['snapscreen'] = ui;\r\n            iframeUrl = iframeUrl || (editor.options.iframeUrlMap || {})[\"snapscreen\"] || iframeUrlMap[\"snapscreen\"];\r\n            if (iframeUrl) {\r\n                var dialog = new editorui.Dialog({\r\n                    iframeUrl: editor.ui.mapUrl(iframeUrl),\r\n                    editor: editor,\r\n                    className: 'edui-for-snapscreen',\r\n                    title: title,\r\n                    buttons: [{\r\n                            className: 'edui-okbutton',\r\n                            label: editor.getLang(\"ok\"),\r\n                            editor: editor,\r\n                            onclick: function() {\r\n                                dialog.close(true);\r\n                            }\r\n                        },\r\n                        {\r\n                            className: 'edui-cancelbutton',\r\n                            label: editor.getLang(\"cancel\"),\r\n                            editor: editor,\r\n                            onclick: function() {\r\n                                dialog.close(false);\r\n                            }\r\n                        }\r\n                    ]\r\n\r\n                });\r\n                dialog.render();\r\n                editor.ui._dialogs[\"snapscreenDialog\"] = dialog;\r\n            }\r\n            editor.addListener('selectionchange', function() {\r\n                ui.setDisabled(editor.queryCommandState('snapscreen') == -1);\r\n            });\r\n            return ui;\r\n        };\r\n\r\n        editorui.insertcode = function(editor, list, title) {\r\n            list = editor.options['insertcode'] || [];\r\n            title = editor.options.labelMap['insertcode'] || editor.getLang(\"labelMap.insertcode\") || '';\r\n            // if (!list.length) return;\r\n            var items = [];\r\n            utils.each(list, function(key, val) {\r\n                items.push({\r\n                    label: key,\r\n                    value: val,\r\n                    theme: editor.options.theme,\r\n                    renderLabelHtml: function() {\r\n                        return '<div class=\"edui-label %%-label\" >' + (this.label || '') + '</div>';\r\n                    }\r\n                });\r\n            });\r\n\r\n            var ui = new editorui.Combox({\r\n                editor: editor,\r\n                items: items,\r\n                onselect: function(t, index) {\r\n                    editor.execCommand('insertcode', this.items[index].value);\r\n                },\r\n                onbuttonclick: function() {\r\n                    this.showPopup();\r\n                },\r\n                title: title,\r\n                initValue: title,\r\n                className: 'edui-for-insertcode',\r\n                indexByValue: function(value) {\r\n                    if (value) {\r\n                        for (var i = 0, ci; ci = this.items[i]; i++) {\r\n                            if (ci.value.indexOf(value) != -1)\r\n                                return i;\r\n                        }\r\n                    }\r\n\r\n                    return -1;\r\n                }\r\n            });\r\n            editorui.buttons['insertcode'] = ui;\r\n            editor.addListener('selectionchange', function(type, causeByUi, uiReady) {\r\n                if (!uiReady) {\r\n                    var state = editor.queryCommandState('insertcode');\r\n                    if (state == -1) {\r\n                        ui.setDisabled(true);\r\n                    } else {\r\n                        ui.setDisabled(false);\r\n                        var value = editor.queryCommandValue('insertcode');\r\n                        if (!value) {\r\n                            ui.setValue(title);\r\n                            return;\r\n                        }\r\n                        //trace:1871 ie下从源码模式切换回来时，字体会带单引号，而且会有逗号\r\n                        value && (value = value.replace(/['\"]/g, '').split(',')[0]);\r\n                        ui.setValue(value);\r\n\r\n                    }\r\n                }\r\n\r\n            });\r\n            return ui;\r\n        };\r\n        editorui.fontfamily = function(editor, list, title) {\r\n\r\n            list = editor.options['fontfamily'] || [];\r\n            title = editor.options.labelMap['fontfamily'] || editor.getLang(\"labelMap.fontfamily\") || '';\r\n            if (!list.length) return;\r\n            for (var i = 0, ci, items = []; ci = list[i]; i++) {\r\n                var langLabel = editor.getLang('fontfamily')[ci.name] || \"\";\r\n                (function(key, val) {\r\n                    items.push({\r\n                        label: key,\r\n                        value: val,\r\n                        theme: editor.options.theme,\r\n                        renderLabelHtml: function() {\r\n                            return '<div class=\"edui-label %%-label\" style=\"font-family:' +\r\n                                utils.unhtml(this.value) + '\">' + (this.label || '') + '</div>';\r\n                        }\r\n                    });\r\n                })(ci.label || langLabel, ci.val)\r\n            }\r\n            var ui = new editorui.Combox({\r\n                editor: editor,\r\n                items: items,\r\n                onselect: function(t, index) {\r\n                    editor.execCommand('FontFamily', this.items[index].value);\r\n                },\r\n                onbuttonclick: function() {\r\n                    this.showPopup();\r\n                },\r\n                title: title,\r\n                initValue: title,\r\n                className: 'edui-for-fontfamily',\r\n                indexByValue: function(value) {\r\n                    if (value) {\r\n                        for (var i = 0, ci; ci = this.items[i]; i++) {\r\n                            if (ci.value.indexOf(value) != -1)\r\n                                return i;\r\n                        }\r\n                    }\r\n\r\n                    return -1;\r\n                }\r\n            });\r\n            editorui.buttons['fontfamily'] = ui;\r\n            editor.addListener('selectionchange', function(type, causeByUi, uiReady) {\r\n                if (!uiReady) {\r\n                    var state = editor.queryCommandState('FontFamily');\r\n                    if (state == -1) {\r\n                        ui.setDisabled(true);\r\n                    } else {\r\n                        ui.setDisabled(false);\r\n                        var value = editor.queryCommandValue('FontFamily');\r\n                        //trace:1871 ie下从源码模式切换回来时，字体会带单引号，而且会有逗号\r\n                        value && (value = value.replace(/['\"]/g, '').split(',')[0]);\r\n                        ui.setValue(value);\r\n\r\n                    }\r\n                }\r\n\r\n            });\r\n            return ui;\r\n        };\r\n\r\n        editorui.fontsize = function(editor, list, title) {\r\n            title = editor.options.labelMap['fontsize'] || editor.getLang(\"labelMap.fontsize\") || '';\r\n            list = list || editor.options['fontsize'] || [];\r\n            if (!list.length) return;\r\n            var items = [];\r\n            for (var i = 0; i < list.length; i++) {\r\n                var size = list[i] + 'px';\r\n                items.push({\r\n                    label: size,\r\n                    value: size,\r\n                    theme: editor.options.theme,\r\n                    renderLabelHtml: function() {\r\n                        return '<div class=\"edui-label %%-label\" style=\"line-height:1;font-size:' +\r\n                            this.value + '\">' + (this.label || '') + '</div>';\r\n                    }\r\n                });\r\n            }\r\n            var ui = new editorui.Combox({\r\n                editor: editor,\r\n                items: items,\r\n                title: title,\r\n                initValue: title,\r\n                onselect: function(t, index) {\r\n                    editor.execCommand('FontSize', this.items[index].value);\r\n                },\r\n                onbuttonclick: function() {\r\n                    this.showPopup();\r\n                },\r\n                className: 'edui-for-fontsize'\r\n            });\r\n            editorui.buttons['fontsize'] = ui;\r\n            editor.addListener('selectionchange', function(type, causeByUi, uiReady) {\r\n                if (!uiReady) {\r\n                    var state = editor.queryCommandState('FontSize');\r\n                    if (state == -1) {\r\n                        ui.setDisabled(true);\r\n                    } else {\r\n                        ui.setDisabled(false);\r\n                        ui.setValue(editor.queryCommandValue('FontSize'));\r\n                    }\r\n                }\r\n\r\n            });\r\n            return ui;\r\n        };\r\n\r\n        editorui.paragraph = function(editor, list, title) {\r\n            title = editor.options.labelMap['paragraph'] || editor.getLang(\"labelMap.paragraph\") || '';\r\n            list = editor.options['paragraph'] || [];\r\n            if (utils.isEmptyObject(list)) return;\r\n            var items = [];\r\n            for (var i in list) {\r\n                items.push({\r\n                    value: i,\r\n                    label: list[i] || editor.getLang(\"paragraph\")[i],\r\n                    theme: editor.options.theme,\r\n                    renderLabelHtml: function() {\r\n                        return '<div class=\"edui-label %%-label\"><span class=\"edui-for-' + this.value + '\">' + (this.label || '') + '</span></div>';\r\n                    }\r\n                })\r\n            }\r\n            var ui = new editorui.Combox({\r\n                editor: editor,\r\n                items: items,\r\n                title: title,\r\n                initValue: title,\r\n                className: 'edui-for-paragraph',\r\n                onselect: function(t, index) {\r\n                    editor.execCommand('Paragraph', this.items[index].value);\r\n                },\r\n                onbuttonclick: function() {\r\n                    this.showPopup();\r\n                }\r\n            });\r\n            editorui.buttons['paragraph'] = ui;\r\n            editor.addListener('selectionchange', function(type, causeByUi, uiReady) {\r\n                if (!uiReady) {\r\n                    var state = editor.queryCommandState('Paragraph');\r\n                    if (state == -1) {\r\n                        ui.setDisabled(true);\r\n                    } else {\r\n                        ui.setDisabled(false);\r\n                        var value = editor.queryCommandValue('Paragraph');\r\n                        var index = ui.indexByValue(value);\r\n                        if (index != -1) {\r\n                            ui.setValue(value);\r\n                        } else {\r\n                            ui.setValue(ui.initValue);\r\n                        }\r\n                    }\r\n                }\r\n\r\n            });\r\n            return ui;\r\n        };\r\n\r\n\r\n        //自定义标题\r\n        editorui.customstyle = function(editor) {\r\n            var list = editor.options['customstyle'] || [],\r\n                title = editor.options.labelMap['customstyle'] || editor.getLang(\"labelMap.customstyle\") || '';\r\n            if (!list.length) return;\r\n            var langCs = editor.getLang('customstyle');\r\n            for (var i = 0, items = [], t; t = list[i++];) {\r\n                (function(t) {\r\n                    var ck = {};\r\n                    ck.label = t.label ? t.label : langCs[t.name];\r\n                    ck.style = t.style;\r\n                    ck.className = t.className;\r\n                    ck.tag = t.tag;\r\n                    items.push({\r\n                        label: ck.label,\r\n                        value: ck,\r\n                        theme: editor.options.theme,\r\n                        renderLabelHtml: function() {\r\n                            return '<div class=\"edui-label %%-label\">' + '<' + ck.tag + ' ' + (ck.className ? ' class=\"' + ck.className + '\"' : \"\") +\r\n                                (ck.style ? ' style=\"' + ck.style + '\"' : \"\") + '>' + ck.label + \"<\\/\" + ck.tag + \">\" +\r\n                                '</div>';\r\n                        }\r\n                    });\r\n                })(t);\r\n            }\r\n\r\n            var ui = new editorui.Combox({\r\n                editor: editor,\r\n                items: items,\r\n                title: title,\r\n                initValue: title,\r\n                className: 'edui-for-customstyle',\r\n                onselect: function(t, index) {\r\n                    editor.execCommand('customstyle', this.items[index].value);\r\n                },\r\n                onbuttonclick: function() {\r\n                    this.showPopup();\r\n                },\r\n                indexByValue: function(value) {\r\n                    for (var i = 0, ti; ti = this.items[i++];) {\r\n                        if (ti.label == value) {\r\n                            return i - 1\r\n                        }\r\n                    }\r\n                    return -1;\r\n                }\r\n            });\r\n            editorui.buttons['customstyle'] = ui;\r\n            editor.addListener('selectionchange', function(type, causeByUi, uiReady) {\r\n                if (!uiReady) {\r\n                    var state = editor.queryCommandState('customstyle');\r\n                    if (state == -1) {\r\n                        ui.setDisabled(true);\r\n                    } else {\r\n                        ui.setDisabled(false);\r\n                        var value = editor.queryCommandValue('customstyle');\r\n                        var index = ui.indexByValue(value);\r\n                        if (index != -1) {\r\n                            ui.setValue(value);\r\n                        } else {\r\n                            ui.setValue(ui.initValue);\r\n                        }\r\n                    }\r\n                }\r\n\r\n            });\r\n            return ui;\r\n        };\r\n        editorui.inserttable = function(editor, iframeUrl, title) {\r\n            title = editor.options.labelMap['inserttable'] || editor.getLang(\"labelMap.inserttable\") || '';\r\n            var ui = new editorui.TableButton({\r\n                editor: editor,\r\n                title: title,\r\n                className: 'edui-for-inserttable',\r\n                onpicktable: function(t, numCols, numRows) {\r\n                    editor.execCommand('InsertTable', { numRows: numRows, numCols: numCols, border: 1 });\r\n                },\r\n                onbuttonclick: function() {\r\n                    this.showPopup();\r\n                }\r\n            });\r\n            editorui.buttons['inserttable'] = ui;\r\n            editor.addListener('selectionchange', function() {\r\n                ui.setDisabled(editor.queryCommandState('inserttable') == -1);\r\n            });\r\n            return ui;\r\n        };\r\n\r\n        editorui.lineheight = function(editor) {\r\n            var val = editor.options.lineheight || [];\r\n            if (!val.length) return;\r\n            for (var i = 0, ci, items = []; ci = val[i++];) {\r\n                items.push({\r\n                    //todo:写死了\r\n                    label: ci,\r\n                    value: ci,\r\n                    theme: editor.options.theme,\r\n                    onclick: function() {\r\n                        editor.execCommand(\"lineheight\", this.value);\r\n                    }\r\n                })\r\n            }\r\n            var ui = new editorui.MenuButton({\r\n                editor: editor,\r\n                className: 'edui-for-lineheight',\r\n                title: editor.options.labelMap['lineheight'] || editor.getLang(\"labelMap.lineheight\") || '',\r\n                items: items,\r\n                onbuttonclick: function() {\r\n                    var value = editor.queryCommandValue('LineHeight') || this.value;\r\n                    editor.execCommand(\"LineHeight\", value);\r\n                }\r\n            });\r\n            editorui.buttons['lineheight'] = ui;\r\n            editor.addListener('selectionchange', function() {\r\n                var state = editor.queryCommandState('LineHeight');\r\n                if (state == -1) {\r\n                    ui.setDisabled(true);\r\n                } else {\r\n                    ui.setDisabled(false);\r\n                    var value = editor.queryCommandValue('LineHeight');\r\n                    value && ui.setValue((value + '').replace(/cm/, ''));\r\n                    ui.setChecked(state)\r\n                }\r\n            });\r\n            return ui;\r\n        };\r\n\r\n        var rowspacings = ['top', 'bottom'];\r\n        for (var r = 0, ri; ri = rowspacings[r++];) {\r\n            (function(cmd) {\r\n                editorui['rowspacing' + cmd] = function(editor) {\r\n                    var val = editor.options['rowspacing' + cmd] || [];\r\n                    if (!val.length) return null;\r\n                    for (var i = 0, ci, items = []; ci = val[i++];) {\r\n                        items.push({\r\n                            label: ci,\r\n                            value: ci,\r\n                            theme: editor.options.theme,\r\n                            onclick: function() {\r\n                                editor.execCommand(\"rowspacing\", this.value, cmd);\r\n                            }\r\n                        })\r\n                    }\r\n                    var ui = new editorui.MenuButton({\r\n                        editor: editor,\r\n                        className: 'edui-for-rowspacing' + cmd,\r\n                        title: editor.options.labelMap['rowspacing' + cmd] || editor.getLang(\"labelMap.rowspacing\" + cmd) || '',\r\n                        items: items,\r\n                        onbuttonclick: function() {\r\n                            var value = editor.queryCommandValue('rowspacing', cmd) || this.value;\r\n                            editor.execCommand(\"rowspacing\", value, cmd);\r\n                        }\r\n                    });\r\n                    editorui.buttons[cmd] = ui;\r\n                    editor.addListener('selectionchange', function() {\r\n                        var state = editor.queryCommandState('rowspacing', cmd);\r\n                        if (state == -1) {\r\n                            ui.setDisabled(true);\r\n                        } else {\r\n                            ui.setDisabled(false);\r\n                            var value = editor.queryCommandValue('rowspacing', cmd);\r\n                            value && ui.setValue((value + '').replace(/%/, ''));\r\n                            ui.setChecked(state)\r\n                        }\r\n                    });\r\n                    return ui;\r\n                }\r\n            })(ri)\r\n        }\r\n        //有序，无序列表\r\n        var lists = ['insertorderedlist', 'insertunorderedlist'];\r\n        for (var l = 0, cl; cl = lists[l++];) {\r\n            (function(cmd) {\r\n                editorui[cmd] = function(editor) {\r\n                    var vals = editor.options[cmd],\r\n                        _onMenuClick = function() {\r\n                            editor.execCommand(cmd, this.value);\r\n                        },\r\n                        items = [];\r\n                    for (var i in vals) {\r\n                        items.push({\r\n                            label: vals[i] || editor.getLang()[cmd][i] || \"\",\r\n                            value: i,\r\n                            theme: editor.options.theme,\r\n                            onclick: _onMenuClick\r\n                        })\r\n                    }\r\n                    var ui = new editorui.MenuButton({\r\n                        editor: editor,\r\n                        className: 'edui-for-' + cmd,\r\n                        title: editor.getLang(\"labelMap.\" + cmd) || '',\r\n                        'items': items,\r\n                        onbuttonclick: function() {\r\n                            var value = editor.queryCommandValue(cmd) || this.value;\r\n                            editor.execCommand(cmd, value);\r\n                        }\r\n                    });\r\n                    editorui.buttons[cmd] = ui;\r\n                    editor.addListener('selectionchange', function() {\r\n                        var state = editor.queryCommandState(cmd);\r\n                        if (state == -1) {\r\n                            ui.setDisabled(true);\r\n                        } else {\r\n                            ui.setDisabled(false);\r\n                            var value = editor.queryCommandValue(cmd);\r\n                            ui.setValue(value);\r\n                            ui.setChecked(state)\r\n                        }\r\n                    });\r\n                    return ui;\r\n                };\r\n            })(cl)\r\n        }\r\n\r\n        editorui.fullscreen = function(editor, title) {\r\n            title = editor.options.labelMap['fullscreen'] || editor.getLang(\"labelMap.fullscreen\") || '';\r\n            var ui = new editorui.Button({\r\n                className: 'edui-for-fullscreen',\r\n                title: title,\r\n                theme: editor.options.theme,\r\n                onclick: function() {\r\n                    if (editor.ui) {\r\n                        editor.ui.setFullScreen(!editor.ui.isFullScreen());\r\n                    }\r\n                    this.setChecked(editor.ui.isFullScreen());\r\n                }\r\n            });\r\n            editorui.buttons['fullscreen'] = ui;\r\n            editor.addListener('selectionchange', function() {\r\n                var state = editor.queryCommandState('fullscreen');\r\n                ui.setDisabled(state == -1);\r\n                ui.setChecked(editor.ui.isFullScreen());\r\n            });\r\n            return ui;\r\n        };\r\n\r\n        // 表情\r\n        editorui[\"emotion\"] = function(editor, iframeUrl) {\r\n            var cmd = \"emotion\";\r\n            var ui = new editorui.MultiMenuPop({\r\n                title: editor.options.labelMap[cmd] || editor.getLang(\"labelMap.\" + cmd + \"\") || '',\r\n                editor: editor,\r\n                className: 'edui-for-' + cmd,\r\n                iframeUrl: editor.ui.mapUrl(iframeUrl || (editor.options.iframeUrlMap || {})[cmd] || iframeUrlMap[cmd])\r\n            });\r\n            editorui.buttons[cmd] = ui;\r\n\r\n            editor.addListener('selectionchange', function() {\r\n                ui.setDisabled(editor.queryCommandState(cmd) == -1)\r\n            });\r\n            return ui;\r\n        };\r\n\r\n        editorui.autotypeset = function(editor) {\r\n            var ui = new editorui.AutoTypeSetButton({\r\n                editor: editor,\r\n                title: editor.options.labelMap['autotypeset'] || editor.getLang(\"labelMap.autotypeset\") || '',\r\n                className: 'edui-for-autotypeset',\r\n                onbuttonclick: function() {\r\n                    editor.execCommand('autotypeset')\r\n                }\r\n            });\r\n            editorui.buttons['autotypeset'] = ui;\r\n            editor.addListener('selectionchange', function() {\r\n                ui.setDisabled(editor.queryCommandState('autotypeset') == -1);\r\n            });\r\n            return ui;\r\n        };\r\n\r\n        /* 简单上传插件 */\r\n        editorui[\"simpleupload\"] = function(editor) {\r\n            var name = 'simpleupload',\r\n                ui = new editorui.Button({\r\n                    className: 'edui-for-' + name,\r\n                    title: editor.options.labelMap[name] || editor.getLang(\"labelMap.\" + name) || '',\r\n                    onclick: function() {},\r\n                    theme: editor.options.theme,\r\n                    showText: false\r\n                });\r\n            editorui.buttons[name] = ui;\r\n            editor.addListener('ready', function() {\r\n                var b = ui.getDom('body'),\r\n                    iconSpan = b.children[0];\r\n                editor.fireEvent('simpleuploadbtnready', iconSpan);\r\n            });\r\n            editor.addListener('selectionchange', function(type, causeByUi, uiReady) {\r\n                var state = editor.queryCommandState(name);\r\n                if (state == -1) {\r\n                    ui.setDisabled(true);\r\n                    ui.setChecked(false);\r\n                } else {\r\n                    if (!uiReady) {\r\n                        ui.setDisabled(false);\r\n                        ui.setChecked(state);\r\n                    }\r\n                }\r\n            });\r\n            return ui;\r\n        };\r\n\r\n    })();\r\n\r\n\r\n    // adapter/editor.js\r\n    ///import core\r\n    ///commands 全屏\r\n    ///commandsName FullScreen\r\n    ///commandsTitle  全屏\r\n    (function() {\r\n        var utils = baidu.editor.utils,\r\n            uiUtils = baidu.editor.ui.uiUtils,\r\n            UIBase = baidu.editor.ui.UIBase,\r\n            domUtils = baidu.editor.dom.domUtils;\r\n        var nodeStack = [];\r\n\r\n        function EditorUI(options) {\r\n            this.initOptions(options);\r\n            this.initEditorUI();\r\n        }\r\n\r\n        EditorUI.prototype = {\r\n            uiName: 'editor',\r\n            initEditorUI: function() {\r\n                this.editor.ui = this;\r\n                this._dialogs = {};\r\n                this.initUIBase();\r\n                this._initToolbars();\r\n                var editor = this.editor,\r\n                    me = this;\r\n\r\n                editor.addListener('ready', function() {\r\n                    //提供getDialog方法\r\n                    editor.getDialog = function(name) {\r\n                        return editor.ui._dialogs[name + \"Dialog\"];\r\n                    };\r\n                    domUtils.on(editor.window, 'scroll', function(evt) {\r\n                        baidu.editor.ui.Popup.postHide(evt);\r\n                    });\r\n                    //提供编辑器实时宽高(全屏时宽高不变化)\r\n                    editor.ui._actualFrameWidth = editor.options.initialFrameWidth;\r\n\r\n                    UE.browser.ie && UE.browser.version === 6 && editor.container.ownerDocument.execCommand(\"BackgroundImageCache\", false, true);\r\n\r\n                    //display bottom-bar label based on config\r\n                    if (editor.options.elementPathEnabled) {\r\n                        editor.ui.getDom('elementpath').innerHTML = '<div class=\"edui-editor-breadcrumb\">' + editor.getLang(\"elementPathTip\") + ':</div>';\r\n                    }\r\n                    if (editor.options.wordCount) {\r\n                        function countFn() {\r\n                            setCount(editor, me);\r\n                            domUtils.un(editor.document, \"click\", arguments.callee);\r\n                        }\r\n                        domUtils.on(editor.document, \"click\", countFn);\r\n                        editor.ui.getDom('wordcount').innerHTML = editor.getLang(\"wordCountTip\");\r\n                    }\r\n                    editor.ui._scale();\r\n                    if (editor.options.scaleEnabled) {\r\n                        if (editor.autoHeightEnabled) {\r\n                            editor.disableAutoHeight();\r\n                        }\r\n                        me.enableScale();\r\n                    } else {\r\n                        me.disableScale();\r\n                    }\r\n                    if (!editor.options.elementPathEnabled && !editor.options.wordCount && !editor.options.scaleEnabled) {\r\n                        editor.ui.getDom('elementpath').style.display = \"none\";\r\n                        editor.ui.getDom('wordcount').style.display = \"none\";\r\n                        editor.ui.getDom('scale').style.display = \"none\";\r\n                    }\r\n\r\n                    if (!editor.selection.isFocus()) return;\r\n                    editor.fireEvent('selectionchange', false, true);\r\n\r\n\r\n                });\r\n\r\n                editor.addListener('mousedown', function(t, evt) {\r\n                    var el = evt.target || evt.srcElement;\r\n                    baidu.editor.ui.Popup.postHide(evt, el);\r\n                    baidu.editor.ui.ShortCutMenu.postHide(evt);\r\n\r\n                });\r\n                editor.addListener(\"delcells\", function() {\r\n                    if (UE.ui['edittip']) {\r\n                        new UE.ui['edittip'](editor);\r\n                    }\r\n                    editor.getDialog('edittip').open();\r\n                });\r\n\r\n                var pastePop, isPaste = false,\r\n                    timer;\r\n                editor.addListener(\"afterpaste\", function() {\r\n                    if (editor.queryCommandState('pasteplain'))\r\n                        return;\r\n                    if (baidu.editor.ui.PastePicker) {\r\n                        pastePop = new baidu.editor.ui.Popup({\r\n                            content: new baidu.editor.ui.PastePicker({ editor: editor }),\r\n                            editor: editor,\r\n                            className: 'edui-wordpastepop'\r\n                        });\r\n                        pastePop.render();\r\n                    }\r\n                    isPaste = true;\r\n                });\r\n\r\n                editor.addListener(\"afterinserthtml\", function() {\r\n                    clearTimeout(timer);\r\n                    timer = setTimeout(function() {\r\n                        if (pastePop && (isPaste || editor.ui._isTransfer)) {\r\n                            if (pastePop.isHidden()) {\r\n                                var span = domUtils.createElement(editor.document, 'span', {\r\n                                        'style': \"line-height:0px;\",\r\n                                        'innerHTML': '\\ufeff'\r\n                                    }),\r\n                                    range = editor.selection.getRange();\r\n                                range.insertNode(span);\r\n                                var tmp = getDomNode(span, 'firstChild', 'previousSibling');\r\n                                tmp && pastePop.showAnchor(tmp.nodeType == 3 ? tmp.parentNode : tmp);\r\n                                domUtils.remove(span);\r\n                            } else {\r\n                                pastePop.show();\r\n                            }\r\n                            delete editor.ui._isTransfer;\r\n                            isPaste = false;\r\n                        }\r\n                    }, 200)\r\n                });\r\n                editor.addListener('contextmenu', function(t, evt) {\r\n                    baidu.editor.ui.Popup.postHide(evt);\r\n                });\r\n                editor.addListener('keydown', function(t, evt) {\r\n                    if (pastePop) pastePop.dispose(evt);\r\n                    var keyCode = evt.keyCode || evt.which;\r\n                    if (evt.altKey && keyCode == 90) {\r\n                        UE.ui.buttons['fullscreen'].onclick();\r\n                    }\r\n                });\r\n                editor.addListener('wordcount', function(type) {\r\n                    setCount(this, me);\r\n                });\r\n\r\n                function setCount(editor, ui) {\r\n                    editor.setOpt({\r\n                        wordCount: true,\r\n                        maximumWords: 10000,\r\n                        wordCountMsg: editor.options.wordCountMsg || editor.getLang(\"wordCountMsg\"),\r\n                        wordOverFlowMsg: editor.options.wordOverFlowMsg || editor.getLang(\"wordOverFlowMsg\")\r\n                    });\r\n                    var opt = editor.options,\r\n                        max = opt.maximumWords,\r\n                        msg = opt.wordCountMsg,\r\n                        errMsg = opt.wordOverFlowMsg,\r\n                        countDom = ui.getDom('wordcount');\r\n                    if (!opt.wordCount) {\r\n                        return;\r\n                    }\r\n                    var count = editor.getContentLength(true);\r\n                    if (count > max) {\r\n                        countDom.innerHTML = errMsg;\r\n                        editor.fireEvent(\"wordcountoverflow\");\r\n                    } else {\r\n                        countDom.innerHTML = msg.replace(\"{#leave}\", max - count).replace(\"{#count}\", count);\r\n                    }\r\n                }\r\n\r\n                editor.addListener('selectionchange', function() {\r\n                    if (editor.options.elementPathEnabled) {\r\n                        me[(editor.queryCommandState('elementpath') == -1 ? 'dis' : 'en') + 'ableElementPath']()\r\n                    }\r\n                    if (editor.options.scaleEnabled) {\r\n                        me[(editor.queryCommandState('scale') == -1 ? 'dis' : 'en') + 'ableScale']();\r\n\r\n                    }\r\n                });\r\n                var popup = new baidu.editor.ui.Popup({\r\n                    editor: editor,\r\n                    content: '',\r\n                    className: 'edui-bubble',\r\n                    _onEditButtonClick: function() {\r\n                        this.hide();\r\n                        editor.ui._dialogs.linkDialog.open();\r\n                    },\r\n                    _onImgEditButtonClick: function(name) {\r\n                        this.hide();\r\n                        editor.ui._dialogs[name] && editor.ui._dialogs[name].open();\r\n\r\n                    },\r\n                    _onImgSetFloat: function(value) {\r\n                        this.hide();\r\n                        editor.execCommand(\"imagefloat\", value);\r\n\r\n                    },\r\n                    _setIframeAlign: function(value) {\r\n                        var frame = popup.anchorEl;\r\n                        var newFrame = frame.cloneNode(true);\r\n                        switch (value) {\r\n                            case -2:\r\n                                newFrame.setAttribute(\"align\", \"\");\r\n                                break;\r\n                            case -1:\r\n                                newFrame.setAttribute(\"align\", \"left\");\r\n                                break;\r\n                            case 1:\r\n                                newFrame.setAttribute(\"align\", \"right\");\r\n                                break;\r\n                        }\r\n                        frame.parentNode.insertBefore(newFrame, frame);\r\n                        domUtils.remove(frame);\r\n                        popup.anchorEl = newFrame;\r\n                        popup.showAnchor(popup.anchorEl);\r\n                    },\r\n                    _updateIframe: function() {\r\n                        var frame = editor._iframe = popup.anchorEl;\r\n                        if (domUtils.hasClass(frame, 'ueditor_baidumap')) {\r\n                            editor.selection.getRange().selectNode(frame).select();\r\n                            editor.ui._dialogs.mapDialog.open();\r\n                            popup.hide();\r\n                        } else {\r\n                            editor.ui._dialogs.insertframeDialog.open();\r\n                            popup.hide();\r\n                        }\r\n                    },\r\n                    _onRemoveButtonClick: function(cmdName) {\r\n                        editor.execCommand(cmdName);\r\n                        this.hide();\r\n                    },\r\n                    queryAutoHide: function(el) {\r\n                        if (el && el.ownerDocument == editor.document) {\r\n                            if (el.tagName.toLowerCase() == 'img' || domUtils.findParentByTagName(el, 'a', true)) {\r\n                                return el !== popup.anchorEl;\r\n                            }\r\n                        }\r\n                        return baidu.editor.ui.Popup.prototype.queryAutoHide.call(this, el);\r\n                    }\r\n                });\r\n                popup.render();\r\n                if (editor.options.imagePopup) {\r\n                    editor.addListener('mouseover', function(t, evt) {\r\n                        evt = evt || window.event;\r\n                        var el = evt.target || evt.srcElement;\r\n                        if (editor.ui._dialogs.insertframeDialog && /iframe/ig.test(el.tagName)) {\r\n                            var html = popup.formatHtml(\r\n                                '<nobr>' + editor.getLang(\"property\") + ': <span onclick=$$._setIframeAlign(-2) class=\"edui-clickable\">' + editor.getLang(\"default\") + '</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(-1) class=\"edui-clickable\">' + editor.getLang(\"justifyleft\") + '</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(1) class=\"edui-clickable\">' + editor.getLang(\"justifyright\") + '</span>&nbsp;&nbsp;' +\r\n                                ' <span onclick=\"$$._updateIframe( this);\" class=\"edui-clickable\">' + editor.getLang(\"modify\") + '</span></nobr>');\r\n                            if (html) {\r\n                                popup.getDom('content').innerHTML = html;\r\n                                popup.anchorEl = el;\r\n                                popup.showAnchor(popup.anchorEl);\r\n                            } else {\r\n                                popup.hide();\r\n                            }\r\n                        }\r\n                    });\r\n                    editor.addListener('selectionchange', function(t, causeByUi) {\r\n                        if (!causeByUi) return;\r\n                        var html = '',\r\n                            str = \"\",\r\n                            img = editor.selection.getRange().getClosedNode(),\r\n                            dialogs = editor.ui._dialogs;\r\n                        if (img && img.tagName == 'IMG') {\r\n                            var dialogName = 'insertimageDialog';\r\n                            if (img.className.indexOf(\"edui-faked-video\") != -1 || img.className.indexOf(\"edui-upload-video\") != -1) {\r\n                                dialogName = \"insertvideoDialog\"\r\n                            }\r\n                            if (img.className.indexOf(\"edui-faked-webapp\") != -1) {\r\n                                dialogName = \"webappDialog\"\r\n                            }\r\n                            if (img.src.indexOf(\"http://api.map.baidu.com\") != -1) {\r\n                                dialogName = \"mapDialog\"\r\n                            }\r\n                            if (img.className.indexOf(\"edui-faked-music\") != -1) {\r\n                                dialogName = \"musicDialog\"\r\n                            }\r\n                            if (img.src.indexOf(\"http://maps.google.com/maps/api/staticmap\") != -1) {\r\n                                dialogName = \"gmapDialog\"\r\n                            }\r\n                            if (img.getAttribute(\"anchorname\")) {\r\n                                dialogName = \"anchorDialog\";\r\n                                html = popup.formatHtml(\r\n                                    '<nobr>' + editor.getLang(\"property\") + ': <span onclick=$$._onImgEditButtonClick(\"anchorDialog\") class=\"edui-clickable\">' + editor.getLang(\"modify\") + '</span>&nbsp;&nbsp;' +\r\n                                    '<span onclick=$$._onRemoveButtonClick(\\'anchor\\') class=\"edui-clickable\">' + editor.getLang(\"delete\") + '</span></nobr>');\r\n                            }\r\n                            if (img.getAttribute(\"word_img\")) {\r\n                                //todo 放到dialog去做查询\r\n                                editor.word_img = [img.getAttribute(\"word_img\")];\r\n                                dialogName = \"wordimageDialog\"\r\n                            }\r\n                            if (domUtils.hasClass(img, 'loadingclass') || domUtils.hasClass(img, 'loaderrorclass')) {\r\n                                dialogName = \"\";\r\n                            }\r\n                            if (!dialogs[dialogName]) {\r\n                                return;\r\n                            }\r\n                            str = '<nobr>' + editor.getLang(\"property\") + ': ' +\r\n                                '<span onclick=$$._onImgSetFloat(\"none\") class=\"edui-clickable\">' + editor.getLang(\"default\") + '</span>&nbsp;&nbsp;' +\r\n                                '<span onclick=$$._onImgSetFloat(\"left\") class=\"edui-clickable\">' + editor.getLang(\"justifyleft\") + '</span>&nbsp;&nbsp;' +\r\n                                '<span onclick=$$._onImgSetFloat(\"right\") class=\"edui-clickable\">' + editor.getLang(\"justifyright\") + '</span>&nbsp;&nbsp;' +\r\n                                '<span onclick=$$._onImgSetFloat(\"center\") class=\"edui-clickable\">' + editor.getLang(\"justifycenter\") + '</span>&nbsp;&nbsp;' +\r\n                                '<span onclick=\"$$._onImgEditButtonClick(\\'' + dialogName + '\\');\" class=\"edui-clickable\">' + editor.getLang(\"modify\") + '</span></nobr>';\r\n\r\n                            !html && (html = popup.formatHtml(str))\r\n\r\n                        }\r\n                        if (editor.ui._dialogs.linkDialog) {\r\n                            var link = editor.queryCommandValue('link');\r\n                            var url;\r\n                            if (link && (url = (link.getAttribute('_href') || link.getAttribute('href', 2)))) {\r\n                                var txt = url;\r\n                                if (url.length > 30) {\r\n                                    txt = url.substring(0, 20) + \"...\";\r\n                                }\r\n                                if (html) {\r\n                                    html += '<div style=\"height:5px;\"></div>'\r\n                                }\r\n                                html += popup.formatHtml(\r\n                                    '<nobr>' + editor.getLang(\"anthorMsg\") + ': <a target=\"_blank\" href=\"' + url + '\" title=\"' + url + '\" >' + txt + '</a>' +\r\n                                    ' <span class=\"edui-clickable\" onclick=\"$$._onEditButtonClick();\">' + editor.getLang(\"modify\") + '</span>' +\r\n                                    ' <span class=\"edui-clickable\" onclick=\"$$._onRemoveButtonClick(\\'unlink\\');\"> ' + editor.getLang(\"clear\") + '</span></nobr>');\r\n                                popup.showAnchor(link);\r\n                            }\r\n                        }\r\n\r\n                        if (html) {\r\n                            popup.getDom('content').innerHTML = html;\r\n                            popup.anchorEl = img || link;\r\n                            popup.showAnchor(popup.anchorEl);\r\n                        } else {\r\n                            popup.hide();\r\n                        }\r\n                    });\r\n                }\r\n\r\n            },\r\n            _initToolbars: function() {\r\n                var editor = this.editor;\r\n                var toolbars = this.toolbars || [];\r\n                var toolbarUis = [];\r\n                for (var i = 0; i < toolbars.length; i++) {\r\n                    var toolbar = toolbars[i];\r\n                    var toolbarUi = new baidu.editor.ui.Toolbar({ theme: editor.options.theme });\r\n                    for (var j = 0; j < toolbar.length; j++) {\r\n                        var toolbarItem = toolbar[j];\r\n                        var toolbarItemUi = null;\r\n                        if (typeof toolbarItem == 'string') {\r\n                            toolbarItem = toolbarItem.toLowerCase();\r\n                            if (toolbarItem == '|') {\r\n                                toolbarItem = 'Separator';\r\n                            }\r\n                            if (toolbarItem == '||') {\r\n                                toolbarItem = 'Breakline';\r\n                            }\r\n                            if (baidu.editor.ui[toolbarItem]) {\r\n                                toolbarItemUi = new baidu.editor.ui[toolbarItem](editor);\r\n                            }\r\n\r\n                            //fullscreen这里单独处理一下，放到首行去\r\n                            if (toolbarItem == 'fullscreen') {\r\n                                if (toolbarUis && toolbarUis[0]) {\r\n                                    toolbarUis[0].items.splice(0, 0, toolbarItemUi);\r\n                                } else {\r\n                                    toolbarItemUi && toolbarUi.items.splice(0, 0, toolbarItemUi);\r\n                                }\r\n\r\n                                continue;\r\n\r\n\r\n                            }\r\n                        } else {\r\n                            toolbarItemUi = toolbarItem;\r\n                        }\r\n                        if (toolbarItemUi && toolbarItemUi.id) {\r\n\r\n                            toolbarUi.add(toolbarItemUi);\r\n                        }\r\n                    }\r\n                    toolbarUis[i] = toolbarUi;\r\n                }\r\n\r\n                //接受外部定制的UI\r\n\r\n                utils.each(UE._customizeUI, function(obj, key) {\r\n                    var itemUI, index;\r\n                    if (obj.id && obj.id != editor.key) {\r\n                        return false;\r\n                    }\r\n                    itemUI = obj.execFn.call(editor, editor, key);\r\n                    if (itemUI) {\r\n                        index = obj.index;\r\n                        if (index === undefined) {\r\n                            index = toolbarUi.items.length;\r\n                        }\r\n                        toolbarUi.add(itemUI, index)\r\n                    }\r\n                });\r\n\r\n                this.toolbars = toolbarUis;\r\n            },\r\n            getHtmlTpl: function() {\r\n                return '<div id=\"##\" class=\"%%\">' +\r\n                    '<div id=\"##_toolbarbox\" class=\"%%-toolbarbox\">' +\r\n                    (this.toolbars.length ?\r\n                        '<div id=\"##_toolbarboxouter\" class=\"%%-toolbarboxouter\"><div class=\"%%-toolbarboxinner\">' +\r\n                        this.renderToolbarBoxHtml() +\r\n                        '</div></div>' : '') +\r\n                    '<div id=\"##_toolbarmsg\" class=\"%%-toolbarmsg\" style=\"display:none;\">' +\r\n                    '<div id = \"##_upload_dialog\" class=\"%%-toolbarmsg-upload\" onclick=\"$$.showWordImageDialog();\">' + this.editor.getLang(\"clickToUpload\") + '</div>' +\r\n                    '<div class=\"%%-toolbarmsg-close\" onclick=\"$$.hideToolbarMsg();\">x</div>' +\r\n                    '<div id=\"##_toolbarmsg_label\" class=\"%%-toolbarmsg-label\"></div>' +\r\n                    '<div style=\"height:0;overflow:hidden;clear:both;\"></div>' +\r\n                    '</div>' +\r\n                    '<div id=\"##_message_holder\" class=\"%%-messageholder\"></div>' +\r\n                    '</div>' +\r\n                    '<div id=\"##_iframeholder\" class=\"%%-iframeholder\">' +\r\n                    '</div>' +\r\n                    //modify wdcount by matao\r\n                    '<div id=\"##_bottombar\" class=\"%%-bottomContainer\"><table><tr>' +\r\n                    '<td id=\"##_elementpath\" class=\"%%-bottombar\"></td>' +\r\n                    '<td id=\"##_wordcount\" class=\"%%-wordcount\"></td>' +\r\n                    '<td id=\"##_scale\" class=\"%%-scale\"><div class=\"%%-icon\"></div></td>' +\r\n                    '</tr></table></div>' +\r\n                    '<div id=\"##_scalelayer\"></div>' +\r\n                    '</div>';\r\n            },\r\n            showWordImageDialog: function() {\r\n                this._dialogs['wordimageDialog'].open();\r\n            },\r\n            renderToolbarBoxHtml: function() {\r\n                var buff = [];\r\n                for (var i = 0; i < this.toolbars.length; i++) {\r\n                    buff.push(this.toolbars[i].renderHtml());\r\n                }\r\n                return buff.join('');\r\n            },\r\n            setFullScreen: function(fullscreen) {\r\n\r\n                var editor = this.editor,\r\n                    container = editor.container.parentNode.parentNode;\r\n                if (this._fullscreen != fullscreen) {\r\n                    this._fullscreen = fullscreen;\r\n                    this.editor.fireEvent('beforefullscreenchange', fullscreen);\r\n                    if (baidu.editor.browser.gecko) {\r\n                        var bk = editor.selection.getRange().createBookmark();\r\n                    }\r\n                    if (fullscreen) {\r\n                        while (container.tagName != \"BODY\") {\r\n                            var position = baidu.editor.dom.domUtils.getComputedStyle(container, \"position\");\r\n                            nodeStack.push(position);\r\n                            container.style.position = \"static\";\r\n                            container = container.parentNode;\r\n                        }\r\n                        this._bakHtmlOverflow = document.documentElement.style.overflow;\r\n                        this._bakBodyOverflow = document.body.style.overflow;\r\n                        this._bakAutoHeight = this.editor.autoHeightEnabled;\r\n                        this._bakScrollTop = Math.max(document.documentElement.scrollTop, document.body.scrollTop);\r\n\r\n                        this._bakEditorContaninerWidth = editor.iframe.parentNode.offsetWidth;\r\n                        if (this._bakAutoHeight) {\r\n                            //当全屏时不能执行自动长高\r\n                            editor.autoHeightEnabled = false;\r\n                            this.editor.disableAutoHeight();\r\n                        }\r\n\r\n                        document.documentElement.style.overflow = 'hidden';\r\n                        //修复，滚动条不收起的问题\r\n\r\n                        window.scrollTo(0, window.scrollY);\r\n                        this._bakCssText = this.getDom().style.cssText;\r\n                        this._bakCssText1 = this.getDom('iframeholder').style.cssText;\r\n                        editor.iframe.parentNode.style.width = '';\r\n                        this._updateFullScreen();\r\n                    } else {\r\n                        while (container.tagName != \"BODY\") {\r\n                            container.style.position = nodeStack.shift();\r\n                            container = container.parentNode;\r\n                        }\r\n                        this.getDom().style.cssText = this._bakCssText;\r\n                        this.getDom('iframeholder').style.cssText = this._bakCssText1;\r\n                        if (this._bakAutoHeight) {\r\n                            editor.autoHeightEnabled = true;\r\n                            this.editor.enableAutoHeight();\r\n                        }\r\n\r\n                        document.documentElement.style.overflow = this._bakHtmlOverflow;\r\n                        document.body.style.overflow = this._bakBodyOverflow;\r\n                        editor.iframe.parentNode.style.width = this._bakEditorContaninerWidth + 'px';\r\n                        window.scrollTo(0, this._bakScrollTop);\r\n                    }\r\n                    if (browser.gecko && editor.body.contentEditable === 'true') {\r\n                        var input = document.createElement('input');\r\n                        document.body.appendChild(input);\r\n                        editor.body.contentEditable = false;\r\n                        setTimeout(function() {\r\n                            input.focus();\r\n                            setTimeout(function() {\r\n                                editor.body.contentEditable = true;\r\n                                editor.fireEvent('fullscreenchanged', fullscreen);\r\n                                editor.selection.getRange().moveToBookmark(bk).select(true);\r\n                                baidu.editor.dom.domUtils.remove(input);\r\n                                fullscreen && window.scroll(0, 0);\r\n                            }, 0)\r\n                        }, 0)\r\n                    }\r\n\r\n                    if (editor.body.contentEditable === 'true') {\r\n                        this.editor.fireEvent('fullscreenchanged', fullscreen);\r\n                        this.triggerLayout();\r\n                    }\r\n\r\n                }\r\n            },\r\n            _updateFullScreen: function() {\r\n                if (this._fullscreen) {\r\n                    var vpRect = uiUtils.getViewportRect();\r\n                    this.getDom().style.cssText = 'border:0;position:absolute;left:0;top:' + (this.editor.options.topOffset || 0) + 'px;width:' + vpRect.width + 'px;height:' + vpRect.height + 'px;z-index:' + (this.getDom().style.zIndex * 1 + 100);\r\n                    uiUtils.setViewportOffset(this.getDom(), { left: 0, top: this.editor.options.topOffset || 0 });\r\n                    this.editor.setHeight(vpRect.height - this.getDom('toolbarbox').offsetHeight - this.getDom('bottombar').offsetHeight - (this.editor.options.topOffset || 0), true);\r\n                    //不手动调一下，会导致全屏失效\r\n                    if (browser.gecko) {\r\n                        try {\r\n                            window.onresize();\r\n                        } catch (e) {\r\n\r\n                        }\r\n\r\n                    }\r\n                }\r\n            },\r\n            _updateElementPath: function() {\r\n                var bottom = this.getDom('elementpath'),\r\n                    list;\r\n                if (this.elementPathEnabled && (list = this.editor.queryCommandValue('elementpath'))) {\r\n\r\n                    var buff = [];\r\n                    for (var i = 0, ci; ci = list[i]; i++) {\r\n                        buff[i] = this.formatHtml('<span unselectable=\"on\" onclick=\"$$.editor.execCommand(&quot;elementpath&quot;, &quot;' + i + '&quot;);\">' + ci + '</span>');\r\n                    }\r\n                    bottom.innerHTML = '<div class=\"edui-editor-breadcrumb\" onmousedown=\"return false;\">' + this.editor.getLang(\"elementPathTip\") + ': ' + buff.join(' &gt; ') + '</div>';\r\n\r\n                } else {\r\n                    bottom.style.display = 'none'\r\n                }\r\n            },\r\n            disableElementPath: function() {\r\n                var bottom = this.getDom('elementpath');\r\n                bottom.innerHTML = '';\r\n                bottom.style.display = 'none';\r\n                this.elementPathEnabled = false;\r\n\r\n            },\r\n            enableElementPath: function() {\r\n                var bottom = this.getDom('elementpath');\r\n                bottom.style.display = '';\r\n                this.elementPathEnabled = true;\r\n                this._updateElementPath();\r\n            },\r\n            _scale: function() {\r\n                var doc = document,\r\n                    editor = this.editor,\r\n                    editorHolder = editor.container,\r\n                    editorDocument = editor.document,\r\n                    toolbarBox = this.getDom(\"toolbarbox\"),\r\n                    bottombar = this.getDom(\"bottombar\"),\r\n                    scale = this.getDom(\"scale\"),\r\n                    scalelayer = this.getDom(\"scalelayer\");\r\n\r\n                var isMouseMove = false,\r\n                    position = null,\r\n                    minEditorHeight = 0,\r\n                    minEditorWidth = editor.options.minFrameWidth,\r\n                    pageX = 0,\r\n                    pageY = 0,\r\n                    scaleWidth = 0,\r\n                    scaleHeight = 0;\r\n\r\n                function down() {\r\n                    position = domUtils.getXY(editorHolder);\r\n\r\n                    if (!minEditorHeight) {\r\n                        minEditorHeight = editor.options.minFrameHeight + toolbarBox.offsetHeight + bottombar.offsetHeight;\r\n                    }\r\n\r\n                    scalelayer.style.cssText = \"position:absolute;left:0;display:;top:0;background-color:#41ABFF;opacity:0.4;filter: Alpha(opacity=40);width:\" + editorHolder.offsetWidth + \"px;height:\" +\r\n                        editorHolder.offsetHeight + \"px;z-index:\" + (editor.options.zIndex + 1);\r\n\r\n                    domUtils.on(doc, \"mousemove\", move);\r\n                    domUtils.on(editorDocument, \"mouseup\", up);\r\n                    domUtils.on(doc, \"mouseup\", up);\r\n                }\r\n\r\n                var me = this;\r\n                //by xuheng 全屏时关掉缩放\r\n                this.editor.addListener('fullscreenchanged', function(e, fullScreen) {\r\n                    if (fullScreen) {\r\n                        me.disableScale();\r\n\r\n                    } else {\r\n                        if (me.editor.options.scaleEnabled) {\r\n                            me.enableScale();\r\n                            var tmpNode = me.editor.document.createElement('span');\r\n                            me.editor.body.appendChild(tmpNode);\r\n                            me.editor.body.style.height = Math.max(domUtils.getXY(tmpNode).y, me.editor.iframe.offsetHeight - 20) + 'px';\r\n                            domUtils.remove(tmpNode)\r\n                        }\r\n                    }\r\n                });\r\n\r\n                function move(event) {\r\n                    clearSelection();\r\n                    var e = event || window.event;\r\n                    pageX = e.pageX || (doc.documentElement.scrollLeft + e.clientX);\r\n                    pageY = e.pageY || (doc.documentElement.scrollTop + e.clientY);\r\n                    scaleWidth = pageX - position.x;\r\n                    scaleHeight = pageY - position.y;\r\n\r\n                    if (scaleWidth >= minEditorWidth) {\r\n                        isMouseMove = true;\r\n                        scalelayer.style.width = scaleWidth + 'px';\r\n                    }\r\n                    if (scaleHeight >= minEditorHeight) {\r\n                        isMouseMove = true;\r\n                        scalelayer.style.height = scaleHeight + \"px\";\r\n                    }\r\n                }\r\n\r\n                function up() {\r\n                    if (isMouseMove) {\r\n                        isMouseMove = false;\r\n                        editor.ui._actualFrameWidth = scalelayer.offsetWidth - 2;\r\n                        editorHolder.style.width = editor.ui._actualFrameWidth + 'px';\r\n\r\n                        editor.setHeight(scalelayer.offsetHeight - bottombar.offsetHeight - toolbarBox.offsetHeight - 2, true);\r\n                    }\r\n                    if (scalelayer) {\r\n                        scalelayer.style.display = \"none\";\r\n                    }\r\n                    clearSelection();\r\n                    domUtils.un(doc, \"mousemove\", move);\r\n                    domUtils.un(editorDocument, \"mouseup\", up);\r\n                    domUtils.un(doc, \"mouseup\", up);\r\n                }\r\n\r\n                function clearSelection() {\r\n                    if (browser.ie)\r\n                        doc.selection.clear();\r\n                    else\r\n                        window.getSelection().removeAllRanges();\r\n                }\r\n\r\n                this.enableScale = function() {\r\n                    //trace:2868\r\n                    if (editor.queryCommandState(\"source\") == 1) return;\r\n                    scale.style.display = \"\";\r\n                    this.scaleEnabled = true;\r\n                    domUtils.on(scale, \"mousedown\", down);\r\n                };\r\n                this.disableScale = function() {\r\n                    scale.style.display = \"none\";\r\n                    this.scaleEnabled = false;\r\n                    domUtils.un(scale, \"mousedown\", down);\r\n                };\r\n            },\r\n            isFullScreen: function() {\r\n                return this._fullscreen;\r\n            },\r\n            postRender: function() {\r\n                UIBase.prototype.postRender.call(this);\r\n                for (var i = 0; i < this.toolbars.length; i++) {\r\n                    this.toolbars[i].postRender();\r\n                }\r\n                var me = this;\r\n                var timerId,\r\n                    domUtils = baidu.editor.dom.domUtils,\r\n                    updateFullScreenTime = function() {\r\n                        clearTimeout(timerId);\r\n                        timerId = setTimeout(function() {\r\n                            me._updateFullScreen();\r\n                        });\r\n                    };\r\n                domUtils.on(window, 'resize', updateFullScreenTime);\r\n\r\n                me.addListener('destroy', function() {\r\n                    domUtils.un(window, 'resize', updateFullScreenTime);\r\n                    clearTimeout(timerId);\r\n                })\r\n            },\r\n            showToolbarMsg: function(msg, flag) {\r\n                this.getDom('toolbarmsg_label').innerHTML = msg;\r\n                this.getDom('toolbarmsg').style.display = '';\r\n                //\r\n                if (!flag) {\r\n                    var w = this.getDom('upload_dialog');\r\n                    w.style.display = 'none';\r\n                }\r\n            },\r\n            hideToolbarMsg: function() {\r\n                this.getDom('toolbarmsg').style.display = 'none';\r\n            },\r\n            mapUrl: function(url) {\r\n                return url ? url.replace('~/', this.editor.options.UEDITOR_HOME_URL || '') : ''\r\n            },\r\n            triggerLayout: function() {\r\n                var dom = this.getDom();\r\n                if (dom.style.zoom == '1') {\r\n                    dom.style.zoom = '100%';\r\n                } else {\r\n                    dom.style.zoom = '1';\r\n                }\r\n            }\r\n        };\r\n        utils.inherits(EditorUI, baidu.editor.ui.UIBase);\r\n\r\n\r\n        var instances = {};\r\n\r\n\r\n        UE.ui.Editor = function(options) {\r\n            var editor = new UE.Editor(options);\r\n            editor.options.editor = editor;\r\n            utils.loadFile(document, {\r\n                href: editor.options.themePath + editor.options.theme + \"/css/ueditor.css\",\r\n                tag: \"link\",\r\n                type: \"text/css\",\r\n                rel: \"stylesheet\"\r\n            });\r\n\r\n            var oldRender = editor.render;\r\n            editor.render = function(holder) {\r\n                if (holder.constructor === String) {\r\n                    editor.key = holder;\r\n                    instances[holder] = editor;\r\n                }\r\n                utils.domReady(function() {\r\n                    editor.langIsReady ? renderUI() : editor.addListener(\"langReady\", renderUI);\r\n\r\n                    function renderUI() {\r\n                        editor.setOpt({\r\n                            labelMap: editor.options.labelMap || editor.getLang('labelMap')\r\n                        });\r\n                        new EditorUI(editor.options);\r\n                        if (holder) {\r\n                            if (holder.constructor === String) {\r\n                                holder = document.getElementById(holder);\r\n                            }\r\n                            holder && holder.getAttribute('name') && (editor.options.textarea = holder.getAttribute('name'));\r\n                            if (holder && /script|textarea/ig.test(holder.tagName)) {\r\n                                var newDiv = document.createElement('div');\r\n                                holder.parentNode.insertBefore(newDiv, holder);\r\n                                var cont = holder.value || holder.innerHTML;\r\n                                editor.options.initialContent = /^[\\t\\r\\n ]*$/.test(cont) ? editor.options.initialContent :\r\n                                    cont.replace(/>[\\n\\r\\t]+([ ]{4})+/g, '>')\r\n                                    .replace(/[\\n\\r\\t]+([ ]{4})+</g, '<')\r\n                                    .replace(/>[\\n\\r\\t]+</g, '><');\r\n                                holder.className && (newDiv.className = holder.className);\r\n                                holder.style.cssText && (newDiv.style.cssText = holder.style.cssText);\r\n                                if (/textarea/i.test(holder.tagName)) {\r\n                                    editor.textarea = holder;\r\n                                    editor.textarea.style.display = 'none';\r\n\r\n\r\n                                } else {\r\n                                    holder.parentNode.removeChild(holder);\r\n\r\n\r\n                                }\r\n                                if (holder.id) {\r\n                                    newDiv.id = holder.id;\r\n                                    domUtils.removeAttributes(holder, 'id');\r\n                                }\r\n                                holder = newDiv;\r\n                                holder.innerHTML = '';\r\n                            }\r\n\r\n                        }\r\n                        domUtils.addClass(holder, \"edui-\" + editor.options.theme);\r\n                        editor.ui.render(holder);\r\n                        var opt = editor.options;\r\n                        //给实例添加一个编辑器的容器引用\r\n                        editor.container = editor.ui.getDom();\r\n                        var parents = domUtils.findParents(holder, true);\r\n                        var displays = [];\r\n                        for (var i = 0, ci; ci = parents[i]; i++) {\r\n                            displays[i] = ci.style.display;\r\n                            ci.style.display = 'block'\r\n                        }\r\n                        if (opt.initialFrameWidth) {\r\n                            opt.minFrameWidth = opt.initialFrameWidth;\r\n                        } else {\r\n                            opt.minFrameWidth = opt.initialFrameWidth = holder.offsetWidth;\r\n                            var styleWidth = holder.style.width;\r\n                            if (/%$/.test(styleWidth)) {\r\n                                opt.initialFrameWidth = styleWidth;\r\n                            }\r\n                        }\r\n                        if (opt.initialFrameHeight) {\r\n                            opt.minFrameHeight = opt.initialFrameHeight;\r\n                        } else {\r\n                            opt.initialFrameHeight = opt.minFrameHeight = holder.offsetHeight;\r\n                        }\r\n                        for (var i = 0, ci; ci = parents[i]; i++) {\r\n                            ci.style.display = displays[i]\r\n                        }\r\n                        //编辑器最外容器设置了高度，会导致，编辑器不占位\r\n                        //todo 先去掉，没有找到原因\r\n                        if (holder.style.height) {\r\n                            holder.style.height = ''\r\n                        }\r\n                        editor.container.style.width = opt.initialFrameWidth + (/%$/.test(opt.initialFrameWidth) ? '' : 'px');\r\n                        editor.container.style.zIndex = opt.zIndex;\r\n                        oldRender.call(editor, editor.ui.getDom('iframeholder'));\r\n                        editor.fireEvent(\"afteruiready\");\r\n                    }\r\n                })\r\n            };\r\n            return editor;\r\n        };\r\n\r\n\r\n        /**\r\n         * @file\r\n         * @name UE\r\n         * @short UE\r\n         * @desc UEditor的顶部命名空间\r\n         */\r\n        /**\r\n         * @name getEditor\r\n         * @since 1.2.4+\r\n         * @grammar UE.getEditor(id,[opt])  =>  Editor实例\r\n         * @desc 提供一个全局的方法得到编辑器实例\r\n         *\r\n         * * ''id''  放置编辑器的容器id, 如果容器下的编辑器已经存在，就直接返回\r\n         * * ''opt'' 编辑器的可选参数\r\n         * @example\r\n         *  UE.getEditor('containerId',{onready:function(){//创建一个编辑器实例\r\n         *      this.setContent('hello')\r\n         *  }});\r\n         *  UE.getEditor('containerId'); //返回刚创建的实例\r\n         *\r\n         */\r\n        UE.getEditor = function(id, opt) {\r\n            var editor = instances[id];\r\n            if (!editor) {\r\n                editor = instances[id] = new UE.ui.Editor(opt);\r\n                editor.render(id);\r\n            }\r\n            return editor;\r\n        };\r\n\r\n\r\n        UE.delEditor = function(id) {\r\n            var editor;\r\n            if (editor = instances[id]) {\r\n                editor.key && editor.destroy();\r\n                delete instances[id]\r\n            }\r\n        };\r\n\r\n        UE.registerUI = function(uiName, fn, index, editorId) {\r\n            utils.each(uiName.split(/\\s+/), function(name) {\r\n                UE._customizeUI[name] = {\r\n                    id: editorId,\r\n                    execFn: fn,\r\n                    index: index\r\n                };\r\n            })\r\n\r\n        }\r\n\r\n    })();\r\n\r\n    // adapter/message.js\r\n    UE.registerUI('message', function(editor) {\r\n\r\n        var editorui = baidu.editor.ui;\r\n        var Message = editorui.Message;\r\n        var holder;\r\n        var _messageItems = [];\r\n        var me = editor;\r\n\r\n        me.addListener('ready', function() {\r\n            holder = document.getElementById(me.ui.id + '_message_holder');\r\n            updateHolderPos();\r\n            setTimeout(function() {\r\n                updateHolderPos();\r\n            }, 500);\r\n        });\r\n\r\n        me.addListener('showmessage', function(type, opt) {\r\n            opt = utils.isString(opt) ? {\r\n                'content': opt\r\n            } : opt;\r\n            var message = new Message({\r\n                    'timeout': opt.timeout,\r\n                    'type': opt.type,\r\n                    'content': opt.content,\r\n                    'keepshow': opt.keepshow,\r\n                    'editor': me\r\n                }),\r\n                mid = opt.id || ('msg_' + (+new Date()).toString(36));\r\n            message.render(holder);\r\n            _messageItems[mid] = message;\r\n            message.reset(opt);\r\n            updateHolderPos();\r\n            return mid;\r\n        });\r\n\r\n        me.addListener('updatemessage', function(type, id, opt) {\r\n            opt = utils.isString(opt) ? {\r\n                'content': opt\r\n            } : opt;\r\n            var message = _messageItems[id];\r\n            message.render(holder);\r\n            message && message.reset(opt);\r\n        });\r\n\r\n        me.addListener('hidemessage', function(type, id) {\r\n            var message = _messageItems[id];\r\n            message && message.hide();\r\n        });\r\n\r\n        function updateHolderPos() {\r\n            var toolbarbox = me.ui.getDom('toolbarbox');\r\n            if (toolbarbox) {\r\n                holder.style.top = toolbarbox.offsetHeight + 3 + 'px';\r\n            }\r\n            holder.style.zIndex = Math.max(me.options.zIndex, me.iframe.style.zIndex) + 1;\r\n        }\r\n\r\n    });\r\n\r\n\r\n    // adapter/autosave.js\r\n    UE.registerUI('autosave', function(editor) {\r\n        var timer = null,\r\n            uid = null;\r\n        editor.on('afterautosave', function() {\r\n            clearTimeout(timer);\r\n\r\n            timer = setTimeout(function() {\r\n                if (uid) {\r\n                    editor.trigger('hidemessage', uid);\r\n                }\r\n                uid = editor.trigger('showmessage', {\r\n                    content: editor.getLang('autosave.success'),\r\n                    timeout: 2000\r\n                });\r\n\r\n            }, 2000)\r\n        })\r\n\r\n    });\r\n\r\n\r\n\r\n})();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/scripts/utf8-jsp/ueditor.all.js\n// module id = GvJL\n// module chunks = 57","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6173fac4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./tree.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./tree.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6173fac4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./tree.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6173fac4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/base/tree.vue\n// module id = HZMF\n// module chunks = 57","/*\n* @Author: sunlandong\n* @Date:   2017-03-11 12:06:55\n* @Last Modified by:   sunlandong\n* @Last Modified time: 2017-03-11 16:36:56\n*/\nimport MSDataTransfer from './dataTranslate.js'\nexport default {\n\tMSDataTransfer\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/dataTranslate/index.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport app from './app'\r\nimport store from './store'\r\nimport getters from './getters'\r\nimport targetConstant from './targetConstant'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  modules: {\r\n    app,\r\n    targetConstant,\r\n    store\r\n  },\r\n  getters\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import axios from 'axios'\r\nimport Vue from './vueutil'\r\nimport vm from \"../main.js\";\r\nimport {\r\n    getCookie,\r\n    delCookie,\r\n    varType\r\n} from \"./util\";\r\nimport {\r\n    Message,\r\n    MessageBox\r\n} from 'element-ui';\r\n\r\nimport router from '@/router'\r\n\r\n//axios配置\r\naxios.defaults.timeout = 50000;\r\naxios.defaults.withCredentials = true;\r\naxios.defaults.baseURL = process.env.API_HOST; //设置开发时跨域求后台数据的基础url;\r\naxios.defaults.headers['Content-Type'] = 'application/json;charset=UTF-8';\r\n\r\nvar loginOut = function() {\r\n    window.sessionStorage.clear();\r\n    delCookie('name');\r\n    delCookie('st');\r\n    window.location.href = Vue.prototype.homePage;\r\n}\r\n\r\n// let loadingTime;\r\nlet loading;\r\n//axios request 拦截器\r\naxios.interceptors.request.use(\r\n    config => {\r\n        const token = getCookie('st'); //获取Cookie\r\n        //todo 打包后要改\r\n        // if (!token) {\r\n        //     loginOut();\r\n        // }\r\n        //如果传入noLoading为真值,那么就没有loading效果\r\n        if (!config.noLoading) {\r\n            loading = config.loadingTarget;\r\n            if (config.loadingTarget && !(varType(config.loadingTarget) === \"number\")) {\r\n                // loadingTime = new Date().getTime();\r\n                config.loadingTarget.openLoading();\r\n            } else {\r\n                try {\r\n                    vm.$store.commit(\"setLoading\", config.loadingTarget || 2)\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            }\r\n        }\r\n        // if (typeof config.resoureType === \"undefined\") {\r\n        //     config.headers[\"mm\"] = vm.$route.query.id;\r\n        // } else {\r\n        //     config.headers[\"mm\"] = config.resoureType;\r\n        // }\r\n        return config;\r\n    },\r\n    err => {\r\n        return Promise.reject(err);\r\n    }\r\n);\r\n\r\n//axios response  拦截器\r\naxios.interceptors.response.use(\r\n    response => {\r\n        var config = response.config;\r\n        if (!config.noLoading) {\r\n            let fn = config.loadingTarget ? function() {\r\n                config.loadingTarget.closeLoading();\r\n            } : function() {\r\n                vm.$store.commit(\"setLoading\", 0);\r\n            }\r\n            setTimeout(() => {\r\n                fn();\r\n            }, 500);\r\n        }\r\n        return response;\r\n    },\r\n    error => {\r\n        setTimeout(() => {\r\n            if (loading) {\r\n                loading.closeLoading();\r\n            } else {\r\n                vm.$store.commit(\"setLoading\", 0);\r\n            }\r\n        }, 500);\r\n        switch (error.response.status) {\r\n            case 40201:\r\n                //todo 打包后要改\r\n                loginOut();\r\n                break;\r\n            case 40301:\r\n                Message({\r\n                    showClose: true,\r\n                    message: '该资源不存在！',\r\n                    type: 'error',\r\n                    duration: 5 * 1000\r\n                })\r\n                break;\r\n            case 40302:\r\n                MessageBox.alert('危险行为,操作已被拦截!', '警告', {\r\n                    type: 'warning',\r\n                    confirmButtonText: '确定'\r\n                })\r\n                break;\r\n            case 40303:\r\n                MessageBox.confirm('账号在另一个地方登录,是否需要重新定义', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    //todo 打包后要改\r\n                    loginOut();\r\n                })\r\n                break;\r\n            case 40304:\r\n                //TODO 定向到服务器拒绝页面\r\n                window.location.href = 'err.html'\r\n                break;\r\n            case 502:\r\n                loginOut();\r\n                break;\r\n        }\r\n        return Promise.reject(error.response.data)\r\n    });\r\n\r\nexport default axios;\n\n\n// WEBPACK FOOTER //\n// ./src/util/http.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-button', {\n    attrs: {\n      \"icon\": \"arrow-left\",\n      \"plain\": \"\"\n    },\n    on: {\n      \"click\": _vm.pre\n    }\n  }), _vm._v(\" \"), _c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择\"\n    },\n    on: {\n      \"change\": _vm.selectChange\n    },\n    model: {\n      value: (_vm.value),\n      callback: function($$v) {\n        _vm.value = $$v\n      },\n      expression: \"value\"\n    }\n  }, _vm._l((_vm.options), function(item) {\n    return _c('el-option', {\n      key: item.value,\n      attrs: {\n        \"label\": item.label,\n        \"value\": item.value\n      }\n    })\n  })), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"icon\": \"arrow-right\"\n    },\n    on: {\n      \"click\": _vm.next\n    }\n  })], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-ec0b9cbc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/base/select.vue\n// module id = Jd5Q\n// module chunks = 57","<template>\r\n  <div :class=\"className\" :id=\"id\" :style=\"{height:height,width:width}\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport echarts from \"echarts\";\r\nimport resize from \"./mixins/resize\";\r\nimport { dateCalcRound } from \"@/util\";\r\nimport { varType, deepJSONCopy, formatTime, extend } from \"../../util/util\";\r\n\r\nexport default {\r\n  mixins: [resize],\r\n  props: {\r\n    className: {\r\n      type: String,\r\n      default: \"chart\"\r\n    },\r\n    legendDisplace: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      }\r\n    },\r\n    id: {\r\n      type: String,\r\n      default: \"chart\"\r\n    },\r\n    width: {\r\n      type: String,\r\n      default: \"100%\"\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: \"250px\"\r\n    },\r\n    title: {\r\n      type: String\r\n    },\r\n    lineData: {\r\n      type: Object\r\n    },\r\n    // legend属性\r\n    label: {\r\n      type: String,\r\n      default: \"name\"\r\n    },\r\n    unit: {\r\n      type: String,\r\n      default: \"targetUnit\"\r\n    },\r\n    // 数值属性\r\n    valueKey: {\r\n      type: String,\r\n      default: \"dataValue\"\r\n    },\r\n    // x轴属性\r\n    xAxisKey: {\r\n      type: String,\r\n      default: \"dataTime\"\r\n    },\r\n    // 多y轴显示\r\n    nyAxis: {\r\n      type: [Number, Array],\r\n      default: 1\r\n    },\r\n    // 是否数据堆叠\r\n    isStack: {\r\n      type: Boolean,\r\n      defautl: false\r\n    },\r\n    // 是否支持区域缩放\r\n    hasDataZoom: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    isStep: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: \"line\" // line bar\r\n    },\r\n    // x轴显示时格式化\r\n    xAxisFormat: {\r\n      type: [String] // 是否需要格式化\r\n    },\r\n    // 生成x轴时时间的格式化\r\n    format: {\r\n      type: String\r\n    },\r\n    // 数据里的时间格式化，用于同比环比，label相同，时间类似的情况\r\n    legendFormat: {\r\n      type: String\r\n    },\r\n    // 对象数组\r\n    dataLists: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      }\r\n    },\r\n    dateTime: {\r\n      // 不传[以data的xAxisKey为准]，时间字符串[2017、2017-01、2017-01-01]或用逗号分隔的开始结束时间，时间数组[自定义x轴]\r\n      type: [String, Array]\r\n    },\r\n    // otherAttr: {\r\n    //   type: Object,\r\n    //   default() {\r\n    //     return {\r\n    //       unit: \"targetUnit\"\r\n    //     };\r\n    //   }\r\n    // },\r\n    // 20180904 自定义目标值、标杆值、及排序\r\n    lineDataAttr: {\r\n      type: Array,\r\n      default() {\r\n        return [\"target\", \"benchmark\", \"quota\"];\r\n      }\r\n    },\r\n\r\n    // echart的其他属性\r\n    cusProps: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      chart: null,\r\n      xAxis: [], // 用作显示\r\n      truexAxis: [], // 用作比较日期数据\r\n      options: {} // 整个对象\r\n    };\r\n  },\r\n  watch: {\r\n    dataLists: {\r\n      handler(lists) {\r\n        if (this.dataLists.length === 0) {\r\n          document.getElementById(this.id).innerHTML = this.chartNoData();\r\n          return;\r\n        }\r\n        this.truexAxis = [];\r\n        this.calcTime(this.dateTime);\r\n        let legend = [];\r\n        let series = [];\r\n        let xAxis = [];\r\n        let yAxis = [];\r\n        // x轴根据时间生成\r\n        if (this.dateTime) {\r\n          this.$each(lists, item => {\r\n            let trueName = this.legendDisplace[item[this.label]] // 判断其真实名字\r\n              ? this.legendDisplace[item[this.label]]\r\n              : item[this.label] || this.label;\r\n            if (this.legendFormat) {\r\n              trueName = this.$moment(trueName, this.legendFormat);\r\n            }\r\n            let serieIndex = legend.indexOf(trueName); // 判断产品数量\r\n            let dataIndex = -1; // 判断在x轴上哪个点\r\n            // 格式化下x轴样式\r\n            if (this.xAxisFormat) {\r\n              dataIndex = this.xAxis.indexOf(\r\n                this.$moment(new Date(item[this.xAxisKey]), this.xAxisFormat)\r\n              );\r\n            } else {\r\n              dataIndex = this.xAxis.indexOf(item[this.xAxisKey]);\r\n            }\r\n            if (serieIndex === -1) {\r\n              let yAxisIndex = yAxis.length - 1; // 显示在第几轴上\r\n              if (varType(this.nyAxis) === \"array\") {\r\n                let nyIndex = series.length;\r\n                if (\r\n                  nyIndex <= Math.max.apply(null, this.nyAxis) &&\r\n                  !yAxis[nyIndex]\r\n                ) {\r\n                  let i = yAxis.length;\r\n                  yAxis.push({\r\n                    type: \"value\", // 类型\r\n                    name: \"(\" + (item[this.unit] || this.unit || \"-\") + \")\", // y轴顶部的名称（这里放单位）\r\n                    axisTick: {\r\n                      show: false\r\n                    },\r\n                    position: i === 0 ? \"left\" : \"right\",\r\n                    offset: i === 0 ? \"\" : 50 * (i - 1), // 位置\r\n                    // splitNumber: 10, // 分割线数量\r\n                    splitLine: {\r\n                      show: i === 0\r\n                    },\r\n                    axisLabel: {\r\n                      margin: 10,\r\n                      textStyle: {\r\n                        fontSize: 14\r\n                      }\r\n                    }\r\n                  });\r\n                  yAxisIndex = this.nyAxis[nyIndex];\r\n                }\r\n              } else {\r\n                if (yAxis.length < this.nyAxis) {\r\n                  let i = yAxis.length;\r\n                  yAxis.push({\r\n                    type: \"value\", // 类型\r\n                    name: \"(\" + (item[this.unit] || this.unit || \"-\") + \")\", // y轴顶部的名称（这里放单位）\r\n                    axisTick: {\r\n                      show: false\r\n                    },\r\n                    position: i === 0 ? \"left\" : \"right\",\r\n                    offset: i === 0 ? \"\" : 50 * (i - 1), // 位置\r\n                    // splitNumber: 10, // 分割线数量\r\n                    splitLine: {\r\n                      show: i === 0\r\n                    },\r\n                    axisLabel: {\r\n                      margin: 10,\r\n                      textStyle: {\r\n                        fontSize: 14\r\n                      }\r\n                    }\r\n                  });\r\n                  yAxisIndex = i;\r\n                }\r\n              }\r\n              legend.push(trueName);\r\n              series.push({\r\n                stack: this.isStack ? \"one\" : null,\r\n                yAxisIndex: yAxisIndex,\r\n                smooth: !this.isStep,\r\n                step: this.isStep,\r\n                name: trueName,\r\n                type: this.type,\r\n                data: Array(this.xAxis.length).fill(\"-\")\r\n              });\r\n              serieIndex = legend.length - 1;\r\n            }\r\n            if (dataIndex === -1) {\r\n              console.warn(item[this.xAxisKey] + \"不存在x轴。\", this.xAxis);\r\n            } else {\r\n              series[serieIndex].data[dataIndex] = item[this.valueKey];\r\n            }\r\n          });\r\n          xAxis = this.xAxis;\r\n        } else {\r\n          let newLists = this.sortData(deepJSONCopy(lists));\r\n          this.$each(newLists, (item, index) => {\r\n            let trueName = this.legendDisplace[item[this.label]] // 判断其真实名字\r\n              ? this.legendDisplace[item[this.label]]\r\n              : item[this.label] || this.label;\r\n            let serieIndex = legend.indexOf(trueName); // 判断产品数量\r\n\r\n            // 格式化下x轴样式\r\n            let formatXAis = this.xAxisFormat\r\n              ? this.$moment(new Date(item[this.xAxisKey]), this.xAxisFormat)\r\n              : item[this.xAxisKey];\r\n            let dataIndex = xAxis.indexOf(formatXAis); // 判断在x轴上哪个点\r\n            if (serieIndex === -1) {\r\n              let yAxisIndex = yAxis.length - 1; // 显示在第几轴上\r\n              // 是否多Y轴\r\n              if (varType(this.nyAxis) === \"array\") {\r\n                let nyIndex = series.length;\r\n                if (\r\n                  nyIndex <= Math.max.apply(null, this.nyAxis) &&\r\n                  !yAxis[nyIndex]\r\n                ) {\r\n                  let i = yAxis.length;\r\n                  yAxis.push({\r\n                    type: \"value\", // 类型\r\n                    name: \"(\" + (item[this.unit] || this.unit || \"-\") + \")\", // y轴顶部的名称（这里放单位）\r\n                    axisTick: {\r\n                      show: false\r\n                    },\r\n                    position: i === 0 ? \"left\" : \"right\",\r\n                    offset: i === 0 ? \"\" : 50 * (i - 1), // 位置\r\n                    // splitNumber: 10, // 分割线数量\r\n                    splitLine: {\r\n                      show: i === 0\r\n                    },\r\n                    axisLabel: {\r\n                      margin: 10,\r\n                      textStyle: {\r\n                        fontSize: 14\r\n                      }\r\n                    }\r\n                  });\r\n                  yAxisIndex = this.nyAxis[nyIndex];\r\n                }\r\n              } else {\r\n                if (yAxis.length < this.nyAxis) {\r\n                  let i = yAxis.length;\r\n                  yAxis.push({\r\n                    type: \"value\",\r\n                    name: \"(\" + (item[this.unit] || this.unit || \"-\") + \")\",\r\n                    axisTick: {\r\n                      show: false\r\n                    },\r\n                    position: i === 0 ? \"left\" : \"right\",\r\n                    offset: i === 0 ? \"\" : 50 * (i - 1), // 位置\r\n                    // splitNumber: 10, // 分割线数量\r\n                    splitLine: {\r\n                      show: i === 0\r\n                    },\r\n                    axisLabel: {\r\n                      margin: 10,\r\n                      textStyle: {\r\n                        fontSize: 14\r\n                      }\r\n                    }\r\n                  });\r\n                  yAxisIndex = i;\r\n                }\r\n              }\r\n              legend.push(trueName);\r\n              series.push({\r\n                stack: this.isStack ? \"one\" : null,\r\n                yAxisIndex: yAxisIndex,\r\n                name: trueName,\r\n                type: this.type,\r\n                smooth: !this.isStep,\r\n                step: this.isStep,\r\n                data: Array(xAxis.length).fill(\"-\")\r\n              });\r\n              serieIndex = legend.length - 1;\r\n            }\r\n            // 判断该坐标系是否有坐标点\r\n            if (dataIndex === -1) {\r\n              xAxis.push(formatXAis);\r\n              this.truexAxis.push(item[this.xAxisKey]);\r\n              this.$each(series, item => {\r\n                item.data.push(\"-\");\r\n              });\r\n              dataIndex = xAxis.length - 1;\r\n            }\r\n            series[serieIndex].data[dataIndex] = item[this.valueKey];\r\n          });\r\n          this.xAxis = xAxis;\r\n        }\r\n        this.initChart(xAxis, legend, yAxis, series);\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    if (!this.chart) {\r\n      return;\r\n    }\r\n    this.chart.dispose();\r\n    this.chart = null;\r\n  },\r\n  // computed: {\r\n  //   unit() {\r\n  //     return this.dataLists[0][this.unit];\r\n  //   }\r\n  // },\r\n  methods: {\r\n    // 设置目标值、标杆值、定额值\r\n    setLineData() {\r\n      let series = [];\r\n      let legend = [];\r\n      let xAxis = this.truexAxis;\r\n\r\n      // 默认值\r\n      let lineDataAttr = {\r\n        target: {\r\n          name: \"目标值\",\r\n          yIndex: 0,\r\n          attr: \"target\",\r\n          color: \"#2eff2e\"\r\n        },\r\n        benchmark: {\r\n          name: \"标杆值\",\r\n          yIndex: 0,\r\n          attr: \"benchmark\",\r\n          color: \"#2eff2e\"\r\n        },\r\n        quota: {\r\n          name: \"定额值\",\r\n          yIndex: 0,\r\n          attr: \"quota\",\r\n          color: \"#c23531\"\r\n        }\r\n      };\r\n\r\n      this.lineDataAttr.forEach(item => {\r\n        let seriesInitObj = {};\r\n        let attr = \"\";\r\n        let j = 0;\r\n        if (varType(item) === \"string\") {\r\n          attr = item;\r\n          seriesInitObj = lineDataAttr[item];\r\n        } else if (varType(item) === \"object\") {\r\n          attr = item.attr;\r\n          seriesInitObj = extend({}, lineDataAttr[item.attr], item);\r\n        } else {\r\n          console.warn(\"传值错误，请重新填\");\r\n          return false;\r\n        }\r\n        let orginData = this.lineData[attr];\r\n        let dealData = new Array(xAxis.length).fill(\"-\");\r\n        if (orginData && orginData.length > 0) {\r\n          for (let i = 0, len = orginData.length; i < len; i++) {\r\n            let sTime = new Date(orginData[i].startTime).getTime();\r\n            let eTime = new Date(orginData[i].endTime).getTime();\r\n            for (; j < xAxis.length; j++) {\r\n              let curTime = new Date(xAxis[j]).getTime();\r\n              if (curTime >= sTime) {\r\n                if (curTime <= eTime) {\r\n                  dealData[j] = orginData[i].value;\r\n                } else {\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          series.push({\r\n            id: attr,\r\n            name: seriesInitObj.name,\r\n            type: this.type,\r\n            itemStyle: {\r\n              normal: {\r\n                color: seriesInitObj.color\r\n              }\r\n            },\r\n            yAxisIndex: seriesInitObj.yIndex,\r\n            data: dealData\r\n          });\r\n          legend.push(seriesInitObj.name);\r\n        }\r\n      });\r\n\r\n      return {\r\n        series,\r\n        legend\r\n      };\r\n    },\r\n    sortData(lists) {\r\n      return lists.sort((a, b) => {\r\n        let aToTime = new Date(a[this.xAxisKey]);\r\n        let bToTime = new Date(b[this.xAxisKey]);\r\n        if (aToTime > bToTime) {\r\n          return 1;\r\n        } else if (aToTime < bToTime) {\r\n          return -1;\r\n        } else {\r\n          return 0;\r\n        }\r\n      });\r\n    },\r\n    beforeDestroy() {\r\n      if (!this.chart) {\r\n        return;\r\n      }\r\n      this.chart.dispose();\r\n      this.chart = null;\r\n    },\r\n    xAxisFormatter(value, index) {\r\n      if (isNaN(Number(value))) {\r\n        return value;\r\n      }\r\n      let date = new Date(Number(value));\r\n      if (isNaN(date.getTime())) {\r\n        date = value;\r\n      } else {\r\n        date = this.$moment(date, \"YYYY-MM-DD\");\r\n      }\r\n      return date;\r\n    },\r\n    calcTime(value) {\r\n      if (this.dateTime && varType(this.dateTime) === \"string\") {\r\n        let timeFormat = value;\r\n        if (this.format) {\r\n          timeFormat = value\r\n            .split(\",\")\r\n            .map(item => {\r\n              return this.$moment(new Date(item), this.format);\r\n            })\r\n            .join(\",\");\r\n        }\r\n        if (this.xAxisFormat) {\r\n          this.xAxis = dateCalcRound(timeFormat).map(item => {\r\n            this.truexAxis.push(item);\r\n            return this.$moment(new Date(item), this.xAxisFormat);\r\n          });\r\n        } else {\r\n          this.xAxis = dateCalcRound(timeFormat);\r\n          this.truexAxis = [].concat(timeFormat);\r\n        }\r\n      } else if (varType(this.dateTime) === \"array\") {\r\n        this.xAxis = this.dateTime;\r\n      }\r\n    },\r\n    changeTarget(data) {\r\n      this.lineData = data;\r\n      let benchmark = this.setLineData();\r\n      let index = -1;\r\n      let seriesData = this.options.series;\r\n      let legend = this.options.legend;\r\n      this.$each(benchmark.series, (item, j) => {\r\n        let index = -1;\r\n        this.$each(seriesData, (serie, i) => {\r\n          if (serie.id === item.id) {\r\n            index = i;\r\n            seriesData[i] = item;\r\n            legend[i] = benchmark.legend[j];\r\n          }\r\n        });\r\n        if (index === -1) {\r\n          seriesData.push(item);\r\n          legend.push(benchmark.legend[j]);\r\n        }\r\n      });\r\n      this.chart.setOption(this.options, true);\r\n    },\r\n\r\n    initChart(xAxis, legend, yAxis, series) {\r\n      if (this.chart) {\r\n        this.beforeDestroy();\r\n      }\r\n\r\n      // 增加目标值 标杆值\r\n      if (this.lineData) {\r\n        let benchmark = this.setLineData();\r\n        series = series.concat(benchmark.series);\r\n        legend = legend.concat(benchmark.legend);\r\n      }\r\n\r\n      this.chart = echarts.init(document.getElementById(this.id), \"shine\");\r\n      let me = this;\r\n      let obj = {\r\n        title: {\r\n          top: 20,\r\n          text: this.title,\r\n          textStyle: {\r\n            fontWeight: \"normal\",\r\n            fontSize: 16\r\n          },\r\n          left: \"30%\"\r\n        },\r\n        tooltip: {\r\n          trigger: \"axis\",\r\n          // formatter: (params, ticket, callback) => {\r\n          //   console.log(params);\r\n\r\n          //   return \"111\";\r\n          // },\r\n          axisPointer: {\r\n            type: \"cross\",\r\n            animation: false,\r\n            label: {\r\n              backgroundColor: \"#505765\"\r\n            }\r\n          }\r\n        },\r\n        legend: {\r\n          top: 20,\r\n          icon: \"rect\",\r\n          itemWidth: 14,\r\n          itemHeight: 5,\r\n          itemGap: 13,\r\n          data: legend,\r\n          right: \"4%\",\r\n          textStyle: {\r\n            fontSize: 12\r\n            // color: \"#F1F1F3\"\r\n          }\r\n        },\r\n        grid: {\r\n          // top: 100,\r\n          left: \"3%\",\r\n          right: \"4%\",\r\n          bottom: \"2%\",\r\n          containLabel: true\r\n        },\r\n        xAxis: [\r\n          {\r\n            type: \"category\",\r\n            boundaryGap: this.type === \"line\" ? false : true,\r\n            axisLine: {\r\n              lineStyle: {\r\n                // color: \"#57617B\"\r\n              }\r\n            },\r\n            axisLabel: {\r\n              // formatter(value, index) {\r\n              //   return me.xAxisFormatter(value, index);\r\n              // }\r\n            },\r\n            data: xAxis\r\n          }\r\n        ],\r\n        yAxis: yAxis,\r\n        series: series\r\n      };\r\n      // 是否数据缩放\r\n      if (this.hasDataZoom) {\r\n        obj.dataZoom = [\r\n          {\r\n            show: true,\r\n            realtime: true,\r\n            start: 65,\r\n            end: 85\r\n          },\r\n          {\r\n            type: \"inside\",\r\n            realtime: true,\r\n            start: 65,\r\n            end: 85\r\n          }\r\n        ];\r\n        obj.grid = {\r\n          bottom: 60\r\n        };\r\n      }\r\n\r\n      // 暴露echart属性给用户修改\r\n      extend(obj, this.cusProps);\r\n      this.options = obj;\r\n      this.chart.setOption(obj, true);\r\n    }\r\n  },\r\n  mounted() {\r\n    // if (this.dateTime) {\r\n    //   this.calcTime(this.dateTime);\r\n    // }\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/analysis/lineChart.vue?143a5abd","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c0e0d0a0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c0e0d0a0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 57","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"sys_echart\",\n    style: (_vm.echartStyle),\n    attrs: {\n      \"id\": _vm.id\n    },\n    on: {\n      \"click\": _vm.selectedEchart,\n      \"resize\": _vm.handleResize\n    }\n  })\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-566bf778\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/base/echarts.vue\n// module id = MB9r\n// module chunks = 57","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./gaugeChart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-150f0820\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./gaugeChart.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/analysis/gaugeChart.vue\n// module id = MGpf\n// module chunks = 57","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"base-tree\",\n    style: ({\n      height: _vm.height + 'px'\n    })\n  }, [(_vm.load) ? _c('el-tree', {\n    ref: \"loadTree\",\n    attrs: {\n      \"data\": _vm.data,\n      \"props\": _vm.props,\n      \"show-checkbox\": _vm.showCheckbox,\n      \"default-expand-all\": _vm.defaultExpand,\n      \"expand-on-click-node\": _vm.expandOnClickNode,\n      \"node-key\": _vm.defaultKeys.nodeKey,\n      \"check-strictly\": _vm.checkStrictly,\n      \"default-expanded-keys\": _vm.defaultKeys.expandedKeys,\n      \"default-checked-keys\": _vm.defaultKeys.checkedKeys,\n      \"highlight-current\": \"\",\n      \"load\": _vm.loadNode,\n      \"render-content\": _vm.renderContent\n    },\n    on: {\n      \"node-click\": _vm.handleNodeClick,\n      \"check-change\": _vm.checkChange,\n      \"current-change\": _vm.currentChange,\n      \"node-expand\": _vm.nodeExpand\n    }\n  }) : _c('el-tree', {\n    ref: \"noLoadTree\",\n    attrs: {\n      \"props\": _vm.props,\n      \"data\": _vm.data,\n      \"show-checkbox\": _vm.showCheckbox,\n      \"highlight-current\": \"\",\n      \"filter-node-method\": _vm.filterNodeMethod,\n      \"render-content\": _vm.renderContent,\n      \"node-key\": \"id\",\n      \"default-expanded-keys\": _vm.defaultKeys.expandedKeys,\n      \"default-expand-all\": _vm.defaultExpand,\n      \"check-strictly\": _vm.checkStrictly,\n      \"expand-on-click-node\": _vm.expandOnClickNode,\n      \"default-checked-keys\": _vm.defaultKeys.checkedKeys\n    },\n    on: {\n      \"node-click\": _vm.handleNodeClick,\n      \"check-change\": _vm.checkChange,\n      \"current-change\": _vm.currentChange,\n      \"node-expand\": _vm.nodeExpand\n    }\n  })], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-6173fac4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/base/tree.vue\n// module id = MoCZ\n// module chunks = 57","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"panel\",\n    style: ({\n      width: _vm.width,\n      margin: _vm.margin,\n      padding: _vm.padValue,\n      'min-width': _vm.minWidth\n    })\n  }, [_vm._t(\"head\", [(!_vm.noHead) ? _c('div', {\n    staticClass: \"panel-head\"\n  }, [(_vm.icon || _vm.title) ? _c('h4', {\n    staticClass: \"panel-title\"\n  }, [(_vm.icon) ? _c('i', {\n    class: _vm.icon\n  }) : _vm._e(), _vm._v(_vm._s(_vm.title))]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"panel-search\"\n  }, [_vm._t(\"search\")], 2)]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.isLoading),\n      expression: \"isLoading\"\n    }],\n    staticClass: \"panel-body clearfix\",\n    style: ({\n      height: _vm.height,\n      'max-height': _vm.maxHeight,\n      padding: _vm.padContValue,\n      'min-height': _vm.minHeight,\n      'border': _vm.border ? '1px solid #78adfe' : false,\n      overflow: _vm.overflow\n    })\n  }, [_vm._t(\"default\")], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"panel-footer\"\n  }, [_vm._t(\"footer\")], 2)], 2)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-438dc696\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/pageLayout/panel.vue\n// module id = NAuE\n// module chunks = 57","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from './util/vueutil'\nimport App from './App'\nimport router, {\n    platRoute\n} from './router'\nimport ElementUi from 'element-ui' //饿了么ui\nimport 'element-ui/lib/theme-chalk/index.css'\nimport './assets/styles/reset.css' //公共样式\nimport './assets/styles/setElementUi.css' //组件公共样式\nimport './assets/styles/style.css' //系统自定义样式库\nimport store from './store'\nimport 'babel-polyfill' //ie打开空白页面问题\n\n//ueditor\nimport '../static/scripts/utf8-jsp/ueditor.config.js'\nimport '../static/scripts/utf8-jsp/ueditor.all.js'\nimport '../static/scripts/utf8-jsp/lang/zh-cn/zh-cn.js'\nimport '../static/scripts/utf8-jsp/ueditor.parse.min.js'\n\nimport {\n    getCookie,\n    delCookie\n} from \"./util/util\";\n\n\nVue.config.productionTip = false;\nVue.use(ElementUi);\n\nconst whiteList = ['/login'] // 白名单，不需要权限也能访问\n\nrouter.beforeEach((to, from, next) => {\n    if (getCookie(\"account\")) {\n        if (to.path === '/login') {\n            next({\n                path: from.path\n            })\n        } else if (platRoute.some(item => item.path === to.path)) {\n            store.commit(\"setLoading\", 2) //进路由之前设置isloading为true\n            next();\n        } else {\n            next(\"/\");\n        }\n    } else {\n        if (whiteList.indexOf(to.path) > -1) {\n            next();\n        } else {\n            next(\"/login\")\n        }\n    }\n    // if (true) {\n    //     next();\n    // } else {\n    //     // from.name ? next({ name: from.name }) :\n    //     next('/')\n    // }\n})\nrouter.afterEach((to, from) => {\n    store.commit(\"setLoading\", 0); //进路由之后设置isloading为false\n});\n\n/* eslint-disable no-new */\nlet vm = new Vue({\n    el: '#app',\n    store,\n    router,\n    template: '<App/>',\n    components: {\n        App\n    }\n})\n\nexport default vm;\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-af492aa8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./radioSelect.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./radioSelect.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-af492aa8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./radioSelect.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-af492aa8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/analysis/radioSelect.vue\n// module id = Oz2X\n// module chunks = 57","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f721956c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./TreeGrid.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./TreeGrid.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f721956c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./TreeGrid.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f721956c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/base/TreeGrid.vue\n// module id = PSlP\n// module chunks = 57","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./lineChart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8055f042\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./lineChart.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/analysis/lineChart.vue\n// module id = QUzg\n// module chunks = 57","<template>\r\n  <div class=\"base-selectTree\" :style=\"style\" clearable>\r\n    <i :class=\"['base-selectTree__icon','el-icon-caret-top',{'is-reverse':showTree}]\" @click=\"clickInput\"></i>\r\n    <i class=\"base-selectTree__icon el-icon-error\" v-show=\"text\" @click=\"clickClear\"></i>\r\n    <div class=\"select-wrap\">\r\n      <!-- <span v-if=\"multiple\">\r\n                <span v-for=\"item in multipleData\" :key=\"item[nodeKey]\">{{item[props.label]}}</span>\r\n            </span> -->\r\n      <el-input :disabled=\"disabled\" @click=\"clickInput\" readonly placeholder=\"请选择...\" v-model=\"text\"></el-input>\r\n    </div>\r\n    <!--不需要懒加载-->\r\n    <el-tree v-if=\"!load\" :ref=\"id\" :node-key=\"nodeKey\" :current-node-key=\"currentNodeKey\" class=\"base-selectTree-tree\" :indent=\"10\" :filter-node-method=\"filterNode\" v-show=\"showTree\" :data=\"data\" :props=\"props\" highlight-current :default-expand-all=\"defaultExpandAll\" @node-click=\"handleNodeClick\" :expand-on-click-node=\"false\" :style=\"styleAttr\">\r\n    </el-tree>\r\n    <!--懒加载-->\r\n    <el-tree v-else :ref=\"id\" :node-key=\"nodeKey\" :current-node-key=\"currentNodeKey\" class=\"base-selectTree-tree\" highlight-current :indent=\"10\" :filter-node-method=\"filterNode\" v-show=\"showTree\" :data=\"data\" :props=\"props\" lazy @node-click=\"handleNodeClick\" :load=\"loadNode\" :expand-on-click-node=\"false\" :style=\"styleAttr\">\r\n    </el-tree>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getListByTree } from \"@/util/util.js\";\r\nexport default {\r\n  props: {\r\n    value: {\r\n      type: [Number, String, Array, Object]\r\n    },\r\n    id: {\r\n      type: String,\r\n      default: \"baseDivSelectTree\"\r\n    },\r\n    //下拉树唯一标示符\r\n    nodeKey: {\r\n      type: String,\r\n      default: \"id\"\r\n    },\r\n    //查找父节点，转换节点\r\n    parentKey: {\r\n      type: String,\r\n      default: \"parentId\"\r\n    },\r\n    //多选\r\n    multiple: {\r\n      default: false\r\n    },\r\n    //默认展开\r\n    defaultExpandAll: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 过滤的id节点\r\n    hideNode: {\r\n      type: [Number, String]\r\n    },\r\n    //懒加载\r\n    load: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    textP: {\r\n      default: \"\"\r\n    },\r\n    width: {\r\n      default: \"200px\"\r\n    },\r\n    //树的数据\r\n    data: {\r\n      type: Array,\r\n      default: []\r\n    },\r\n    props: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          children: \"children\",\r\n          label: \"name\"\r\n        };\r\n      }\r\n    },\r\n    realVal: String, //显示框显示的值，适应组织机构管理\r\n    styleAttr: {\r\n      type: String\r\n    },\r\n\r\n    loadNode: {\r\n      type: Function,\r\n      default(node, resolve) {\r\n        //加载节点\r\n        let tier = []; // 数组的排序代表当前节点的位置(逆序)\r\n        if (node.level == 0) {\r\n          resolve(this.data); //渲染起始数组\r\n          return;\r\n        }\r\n        var findParent = function(obj) {\r\n          if (!obj.parent) {\r\n            //当无父节点时跳出\r\n            return obj;\r\n          }\r\n          for (var i = 0; i < obj.parent.childNodes.length; i++) {\r\n            var item = obj.parent.childNodes[i];\r\n            if (item.label == obj.label) {\r\n              tier.push(i);\r\n              break;\r\n            }\r\n          }\r\n          return findParent(obj.parent);\r\n        };\r\n        findParent(node); //获得节点层级\r\n        var tempObj = this.data; //获取渲染节点所在children\r\n        for (var i = tier.length; i > 0; i--) {\r\n          tempObj = tempObj[tier[i - 1]].children\r\n            ? tempObj[tier[i - 1]].children\r\n            : [];\r\n        }\r\n        resolve(tempObj); // 需要转圈效果加上计时器延迟\r\n\r\n        //                resolve(this.readchildNode(tempObj))// 需要转圈效果加上计时器延迟\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      text: \"\",\r\n      showTree: false,\r\n      style: {\r\n        // width: this.width\r\n        //                    margin: \"0 auto\",\r\n      },\r\n      currentNodeKey: \"\", //当前被选中的值\r\n      realText: \"\", //下拉树内部保存text的值\r\n      index: 0\r\n    };\r\n  },\r\n  computed: {\r\n    multipleData() {\r\n      let textArr = this.text ? this.text.split(\";\") : [],\r\n        me = this,\r\n        multipleData = [];\r\n      textArr.forEach(item => {\r\n        me.findNode(me.data, item, multipleData);\r\n      });\r\n      return multipleData;\r\n    },\r\n    // 树形结构转换为list\r\n    treeToList() {\r\n      return getListByTree(this.data, this.nodeKey, \"children\", this.parentKey);\r\n    }\r\n  },\r\n  methods: {\r\n    clickInput() {\r\n      if (this.disabled) {\r\n        return false;\r\n      }\r\n      this.$refs[this.id].filter(\"\");\r\n      this.showTree = !this.showTree;\r\n      if (this.showTree) {\r\n        setTimeout(() => {\r\n          this.setScrollTop();\r\n        }, 100);\r\n      }\r\n      if (!this.index) {\r\n        let width = this.$el.clientWidth;\r\n        this.$el.querySelector(\".base-selectTree-tree\").style.width =\r\n          width + \"px\";\r\n      }\r\n      this.index++;\r\n    },\r\n    handleNodeClick(data) {\r\n      if (this.multiple) {\r\n        //多选且以前没有选中\r\n        //                    if (!this.text || (this.text && this.text.indexOf(data[this.props.label]) == -1)) {\r\n        if (this.text === undefined) {\r\n          this.text = \"\";\r\n        }\r\n        if (this.text.indexOf(data[this.props.label]) == -1) {\r\n          this.text = this.text\r\n            ? this.text + \";\" + data[this.props.label]\r\n            : this.text + data[this.props.label];\r\n        } else {\r\n          let index = this.text.indexOf(data[this.props.label]),\r\n            length = data[this.props.label].length;\r\n          if (index === 0) {\r\n            this.text =\r\n              this.text.slice(0, index) + this.text.slice(index + length + 1);\r\n          } else {\r\n            this.text =\r\n              this.text.slice(0, index - 1) + this.text.slice(index + length);\r\n          }\r\n        }\r\n        this.$emit(\r\n          \"input\",\r\n          this.multipleData\r\n            .map(item => {\r\n              return item[this.nodeKey];\r\n            })\r\n            .join(\",\")\r\n        );\r\n        this.$emit(\"change\", this.multipleData);\r\n      } else {\r\n        //单选\r\n        let lastSelect = {};\r\n        if (this.value) {\r\n          lastSelect = this.findNodeByValue(this.value);\r\n        }\r\n        this.text = this.realVal ? data[this.realVal] : data[this.props.label]; //传了realval，则输入框显示另外一个值，不传默认显示props对应的值\r\n        this.showTree = false;\r\n        this.$emit(\"input\", data[this.nodeKey]);\r\n        this.$emit(\"change\", data, lastSelect);\r\n      }\r\n    },\r\n    readchildNode(arr, callback) {\r\n      //读取子节点数组\r\n      let me = this;\r\n      var tempData = [];\r\n      if (arr) {\r\n        arr.forEach(function(item) {\r\n          let obj = {};\r\n          obj[me.props[\"label\"]] = item[me.props[\"label\"]];\r\n          obj.id = item.id;\r\n          tempData.push(obj);\r\n        });\r\n      }\r\n      return tempData;\r\n    },\r\n    clickClear() {\r\n      this.text = \"\";\r\n      this.$emit(\"input\", \"\");\r\n    },\r\n    setText(val, realVale) {\r\n      //传递两个值，适应组织机构区域树的情况\r\n      this.text = val;\r\n      if (realVale) {\r\n        this.currentNodeKey = this.getCurrentNodeKey(realVale);\r\n      } else {\r\n        this.currentNodeKey = this.getCurrentNodeKey(val);\r\n      }\r\n    },\r\n    closeTree() {\r\n      this.showTree = false;\r\n    },\r\n    findNode(arr = [], value, multipleData = []) {\r\n      let me = this;\r\n      arr.forEach(val => {\r\n        if (val[me.props.label] == value) {\r\n          multipleData.push(val);\r\n        }\r\n        if (val.children && val.children.length > 0) {\r\n          me.findNode(val.children, value, multipleData);\r\n        }\r\n      });\r\n    },\r\n    findNodeByValue(value) {\r\n      let node = null;\r\n      this.$each(this.treeToList, item => {\r\n        if (item[this.nodeKey] === value) {\r\n          node = item;\r\n        }\r\n      });\r\n      return node;\r\n    },\r\n    //获取当前高亮的值\r\n    getCurrentNodeKey(val) {\r\n      let list = this.treeToList;\r\n      for (let i = 0, len = list.length; i < len; i++) {\r\n        if (list[i][this.props.label] == val) {\r\n          return list[i][this.nodeKey];\r\n        }\r\n      }\r\n    },\r\n    setScrollTop() {\r\n      let selectTree = this.$el.querySelector(\".base-selectTree-tree\"),\r\n        curentKey = this.$el.querySelector(\".is-current\");\r\n      selectTree.scrollTop = curentKey ? curentKey.offsetTop - 50 : 0;\r\n    },\r\n    filterNode(value, data) {\r\n      // 过滤某个节点id及其子节点\r\n      if (this.hideNode) {\r\n        let node = this.$refs[this.id].getNode(data);\r\n        while (node.key) {\r\n          if (node.data[this.nodeKey] === this.hideNode) {\r\n            return false;\r\n          }\r\n          node = node.parent;\r\n        }\r\n      }\r\n\r\n      if (!value) {\r\n        return true;\r\n      }\r\n      var splitValue = value.split(\";\");\r\n      if (\r\n        this.multiple &&\r\n        this.treeToList.some(item => {\r\n          return item[this.props.label] === splitValue[splitValue.length - 1];\r\n        })\r\n      ) {\r\n        return true;\r\n      }\r\n      return data[this.props.label].indexOf(value) !== -1;\r\n    }\r\n  },\r\n  watch: {\r\n    textP(val) {\r\n      this.text = val;\r\n    },\r\n    text(val) {\r\n      if (this.text === \"\") {\r\n        this.$emit(\"textNull\");\r\n      }\r\n      this.$refs[this.id].filter(val);\r\n    },\r\n    value(val) {\r\n      if (val) {\r\n        let curNode = this.findNodeByValue(val);\r\n        if (curNode && curNode[this.props.label] !== this.text) {\r\n          this.text = curNode[this.props.label];\r\n        }\r\n      } else {\r\n        this.text = \"\";\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    let textData = \"\";\r\n    if (this.value === undefined || this.value === null) {\r\n    } else {\r\n      let curNode = this.findNodeByValue(this.value);\r\n      if (curNode && curNode[this.props.label] !== this.text) {\r\n        textData = curNode[this.props.label];\r\n      } else {\r\n        textData = this.value;\r\n      }\r\n    }\r\n    this.text = textData;\r\n\r\n    let me = this;\r\n    document.addEventListener(\"click\", function(e) {\r\n      let flag = false;\r\n      for (var i = 0; i < me.$el.childNodes.length; i++) {\r\n        var item = me.$el.childNodes[i];\r\n        if (item == e.target) {\r\n          flag = true;\r\n          return;\r\n        }\r\n      }\r\n      me.showTree = flag;\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.base-selectTree {\r\n  position: relative;\r\n}\r\n.base-selectTree .el-tree-node__expand-icon {\r\n  /*border: 8px solid transparent;*/\r\n  /*border-left-width: 9px;*/\r\n  /*border-left-color: #97a8be;*/\r\n}\r\n\r\n.base-selectTree .el-tree-node__expand-icon.is-leaf {\r\n  border-color: transparent;\r\n}\r\n\r\n.base-selectTree > input {\r\n  width: 100%;\r\n}\r\n\r\n.base-selectTree > input[disabled] {\r\n  background-color: #eef1f6;\r\n  border-color: #d1dbe5;\r\n  color: #bbb;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.base-selectTree-tree {\r\n  min-height: 100px;\r\n  max-height: 200px;\r\n  overflow: auto;\r\n  position: absolute;\r\n  width: 100%;\r\n  z-index: 4;\r\n  /* position: fixed; */\r\n  border: 1px solid #ddd;\r\n}\r\n\r\n.base-selectTree__icon {\r\n  color: #bfcbd9;\r\n  font-size: 12px;\r\n  transition: transform 0.3s;\r\n  transform: translateY(-50%) rotate(180deg);\r\n  line-height: 16px;\r\n  top: 50%;\r\n  cursor: pointer;\r\n  position: absolute;\r\n  right: 8px;\r\n  z-index: 2;\r\n}\r\n\r\n.base-selectTree__icon.el-icon-error {\r\n  right: 25px;\r\n}\r\n\r\n.base-selectTree__icon.is-reverse {\r\n  transform: translateY(-50%);\r\n  /*top: 50%;*/\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/base/selectTree.vue?f97f8156","export default {\r\n    \"color\": [\r\n        \"#005eaa\",\r\n        \"#71669e\",\r\n        \"#339ca8\",\r\n        \"#5ab1ef\",\r\n        \"#759aa0\",\r\n        \"#787464\",\r\n        \"#e87c25\",\r\n        \"#dd6b66\",\r\n        \"#e69d87\",\r\n        \"#af8978\"\r\n    ],\r\n    \"backgroundColor\": \"rgba(0,0,0,0)\",\r\n    \"textStyle\": {},\r\n    \"title\": {\r\n        \"textStyle\": {\r\n            \"color\": \"#333333\"\r\n        },\r\n        \"subtextStyle\": {\r\n            \"color\": \"#aaaaaa\"\r\n        }\r\n    },\r\n    \"line\": {\r\n        \"itemStyle\": {\r\n            \"normal\": {\r\n                \"borderWidth\": 1\r\n            }\r\n        },\r\n        \"lineStyle\": {\r\n            \"normal\": {\r\n                \"width\": 2\r\n            }\r\n        },\r\n        \"symbolSize\": 4,\r\n        \"symbol\": \"emptyCircle\",\r\n        \"smooth\": false\r\n    },\r\n    \"radar\": {\r\n        \"itemStyle\": {\r\n            \"normal\": {\r\n                \"borderWidth\": 1\r\n            }\r\n        },\r\n        \"lineStyle\": {\r\n            \"normal\": {\r\n                \"width\": 2\r\n            }\r\n        },\r\n        \"symbolSize\": 4,\r\n        \"symbol\": \"emptyCircle\",\r\n        \"smooth\": false\r\n    },\r\n    \"bar\": {\r\n        \"itemStyle\": {\r\n            \"normal\": {\r\n                \"barBorderWidth\": 0,\r\n                \"barBorderColor\": \"#ccc\"\r\n            },\r\n            \"emphasis\": {\r\n                \"barBorderWidth\": 0,\r\n                \"barBorderColor\": \"#ccc\"\r\n            }\r\n        }\r\n    },\r\n    \"pie\": {\r\n        \"itemStyle\": {\r\n            \"normal\": {\r\n                \"borderWidth\": 0,\r\n                \"borderColor\": \"#ccc\"\r\n            },\r\n            \"emphasis\": {\r\n                \"borderWidth\": 0,\r\n                \"borderColor\": \"#ccc\"\r\n            }\r\n        }\r\n    },\r\n    \"scatter\": {\r\n        \"itemStyle\": {\r\n            \"normal\": {\r\n                \"borderWidth\": 0,\r\n                \"borderColor\": \"#ccc\"\r\n            },\r\n            \"emphasis\": {\r\n                \"borderWidth\": 0,\r\n                \"borderColor\": \"#ccc\"\r\n            }\r\n        }\r\n    },\r\n    \"boxplot\": {\r\n        \"itemStyle\": {\r\n            \"normal\": {\r\n                \"borderWidth\": 0,\r\n                \"borderColor\": \"#ccc\"\r\n            },\r\n            \"emphasis\": {\r\n                \"borderWidth\": 0,\r\n                \"borderColor\": \"#ccc\"\r\n            }\r\n        }\r\n    },\r\n    \"parallel\": {\r\n        \"itemStyle\": {\r\n            \"normal\": {\r\n                \"borderWidth\": 0,\r\n                \"borderColor\": \"#ccc\"\r\n            },\r\n            \"emphasis\": {\r\n                \"borderWidth\": 0,\r\n                \"borderColor\": \"#ccc\"\r\n            }\r\n        }\r\n    },\r\n    \"sankey\": {\r\n        \"itemStyle\": {\r\n            \"normal\": {\r\n                \"borderWidth\": 0,\r\n                \"borderColor\": \"#ccc\"\r\n            },\r\n            \"emphasis\": {\r\n                \"borderWidth\": 0,\r\n                \"borderColor\": \"#ccc\"\r\n            }\r\n        }\r\n    },\r\n    \"funnel\": {\r\n        \"itemStyle\": {\r\n            \"normal\": {\r\n                \"borderWidth\": 0,\r\n                \"borderColor\": \"#ccc\"\r\n            },\r\n            \"emphasis\": {\r\n                \"borderWidth\": 0,\r\n                \"borderColor\": \"#ccc\"\r\n            }\r\n        }\r\n    },\r\n    \"gauge\": {\r\n        \"itemStyle\": {\r\n            \"normal\": {\r\n                \"borderWidth\": 0,\r\n                \"borderColor\": \"#ccc\"\r\n            },\r\n            \"emphasis\": {\r\n                \"borderWidth\": 0,\r\n                \"borderColor\": \"#ccc\"\r\n            }\r\n        }\r\n    },\r\n    \"candlestick\": {\r\n        \"itemStyle\": {\r\n            \"normal\": {\r\n                \"color\": \"#c12e34\",\r\n                \"color0\": \"#2b821d\",\r\n                \"borderColor\": \"#c12e34\",\r\n                \"borderColor0\": \"#2b821d\",\r\n                \"borderWidth\": 1\r\n            }\r\n        }\r\n    },\r\n    \"graph\": {\r\n        \"itemStyle\": {\r\n            \"normal\": {\r\n                \"borderWidth\": 0,\r\n                \"borderColor\": \"#ccc\"\r\n            }\r\n        },\r\n        \"lineStyle\": {\r\n            \"normal\": {\r\n                \"width\": 1,\r\n                \"color\": \"#aaaaaa\"\r\n            }\r\n        },\r\n        \"symbolSize\": 4,\r\n        \"symbol\": \"emptyCircle\",\r\n        \"smooth\": false,\r\n        \"color\": [\r\n            \"#005eaa\",\r\n            \"#71669e\",\r\n            \"#339ca8\",\r\n            \"#5ab1ef\",\r\n            \"#759aa0\",\r\n            \"#787464\",\r\n            \"#e87c25\",\r\n            \"#dd6b66\",\r\n            \"#e69d87\",\r\n            \"#af8978\"\r\n        ],\r\n        \"label\": {\r\n            \"normal\": {\r\n                \"textStyle\": {\r\n                    \"color\": \"#eeeeee\"\r\n                }\r\n            }\r\n        }\r\n    },\r\n    \"map\": {\r\n        \"itemStyle\": {\r\n            \"normal\": {\r\n                \"areaColor\": \"#dddddd\",\r\n                \"borderColor\": \"#eeeeee\",\r\n                \"borderWidth\": 0.5\r\n            },\r\n            \"emphasis\": {\r\n                \"areaColor\": \"rgba(230,182,0,1)\",\r\n                \"borderColor\": \"#dddddd\",\r\n                \"borderWidth\": 1\r\n            }\r\n        },\r\n        \"label\": {\r\n            \"normal\": {\r\n                \"textStyle\": {\r\n                    \"color\": \"#c12e34\"\r\n                }\r\n            },\r\n            \"emphasis\": {\r\n                \"textStyle\": {\r\n                    \"color\": \"rgb(193,46,52)\"\r\n                }\r\n            }\r\n        }\r\n    },\r\n    \"geo\": {\r\n        \"itemStyle\": {\r\n            \"normal\": {\r\n                \"areaColor\": \"#dddddd\",\r\n                \"borderColor\": \"#eeeeee\",\r\n                \"borderWidth\": 0.5\r\n            },\r\n            \"emphasis\": {\r\n                \"areaColor\": \"rgba(230,182,0,1)\",\r\n                \"borderColor\": \"#dddddd\",\r\n                \"borderWidth\": 1\r\n            }\r\n        },\r\n        \"label\": {\r\n            \"normal\": {\r\n                \"textStyle\": {\r\n                    \"color\": \"#c12e34\"\r\n                }\r\n            },\r\n            \"emphasis\": {\r\n                \"textStyle\": {\r\n                    \"color\": \"rgb(193,46,52)\"\r\n                }\r\n            }\r\n        }\r\n    },\r\n    \"categoryAxis\": {\r\n        \"axisLine\": {\r\n            \"show\": true,\r\n            \"lineStyle\": {\r\n                \"color\": \"#333\"\r\n            }\r\n        },\r\n        \"axisTick\": {\r\n            \"show\": true,\r\n            \"lineStyle\": {\r\n                \"color\": \"#333\"\r\n            }\r\n        },\r\n        \"axisLabel\": {\r\n            \"show\": true,\r\n            \"textStyle\": {\r\n                \"color\": \"#333\"\r\n            }\r\n        },\r\n        \"splitLine\": {\r\n            \"show\": false,\r\n            \"lineStyle\": {\r\n                \"color\": [\r\n                    \"#ccc\"\r\n                ]\r\n            }\r\n        },\r\n        \"splitArea\": {\r\n            \"show\": false,\r\n            \"areaStyle\": {\r\n                \"color\": [\r\n                    \"rgba(250,250,250,0.3)\",\r\n                    \"rgba(200,200,200,0.3)\"\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    \"valueAxis\": {\r\n        \"axisLine\": {\r\n            \"show\": true,\r\n            \"lineStyle\": {\r\n                \"color\": \"#333\"\r\n            }\r\n        },\r\n        \"axisTick\": {\r\n            \"show\": true,\r\n            \"lineStyle\": {\r\n                \"color\": \"#333\"\r\n            }\r\n        },\r\n        \"axisLabel\": {\r\n            \"show\": true,\r\n            \"textStyle\": {\r\n                \"color\": \"#333\"\r\n            }\r\n        },\r\n        \"splitLine\": {\r\n            \"show\": true,\r\n            \"lineStyle\": {\r\n                \"color\": [\r\n                    \"#ccc\"\r\n                ]\r\n            }\r\n        },\r\n        \"splitArea\": {\r\n            \"show\": false,\r\n            \"areaStyle\": {\r\n                \"color\": [\r\n                    \"rgba(250,250,250,0.3)\",\r\n                    \"rgba(200,200,200,0.3)\"\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    \"logAxis\": {\r\n        \"axisLine\": {\r\n            \"show\": true,\r\n            \"lineStyle\": {\r\n                \"color\": \"#333\"\r\n            }\r\n        },\r\n        \"axisTick\": {\r\n            \"show\": true,\r\n            \"lineStyle\": {\r\n                \"color\": \"#333\"\r\n            }\r\n        },\r\n        \"axisLabel\": {\r\n            \"show\": true,\r\n            \"textStyle\": {\r\n                \"color\": \"#333\"\r\n            }\r\n        },\r\n        \"splitLine\": {\r\n            \"show\": true,\r\n            \"lineStyle\": {\r\n                \"color\": [\r\n                    \"#ccc\"\r\n                ]\r\n            }\r\n        },\r\n        \"splitArea\": {\r\n            \"show\": false,\r\n            \"areaStyle\": {\r\n                \"color\": [\r\n                    \"rgba(250,250,250,0.3)\",\r\n                    \"rgba(200,200,200,0.3)\"\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    \"timeAxis\": {\r\n        \"axisLine\": {\r\n            \"show\": true,\r\n            \"lineStyle\": {\r\n                \"color\": \"#333\"\r\n            }\r\n        },\r\n        \"axisTick\": {\r\n            \"show\": true,\r\n            \"lineStyle\": {\r\n                \"color\": \"#333\"\r\n            }\r\n        },\r\n        \"axisLabel\": {\r\n            \"show\": true,\r\n            \"textStyle\": {\r\n                \"color\": \"#333\"\r\n            }\r\n        },\r\n        \"splitLine\": {\r\n            \"show\": true,\r\n            \"lineStyle\": {\r\n                \"color\": [\r\n                    \"#ccc\"\r\n                ]\r\n            }\r\n        },\r\n        \"splitArea\": {\r\n            \"show\": false,\r\n            \"areaStyle\": {\r\n                \"color\": [\r\n                    \"rgba(250,250,250,0.3)\",\r\n                    \"rgba(200,200,200,0.3)\"\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    \"toolbox\": {\r\n        \"iconStyle\": {\r\n            \"normal\": {\r\n                \"borderColor\": \"#06467c\"\r\n            },\r\n            \"emphasis\": {\r\n                \"borderColor\": \"#4187c2\"\r\n            }\r\n        }\r\n    },\r\n    \"legend\": {\r\n        \"textStyle\": {\r\n            \"color\": \"#333333\"\r\n        }\r\n    },\r\n    \"tooltip\": {\r\n        \"axisPointer\": {\r\n            \"lineStyle\": {\r\n                \"color\": \"#cccccc\",\r\n                \"width\": 1\r\n            },\r\n            \"crossStyle\": {\r\n                \"color\": \"#cccccc\",\r\n                \"width\": 1\r\n            }\r\n        }\r\n    },\r\n    \"timeline\": {\r\n        \"lineStyle\": {\r\n            \"color\": \"#005eaa\",\r\n            \"width\": 1\r\n        },\r\n        \"itemStyle\": {\r\n            \"normal\": {\r\n                \"color\": \"#005eaa\",\r\n                \"borderWidth\": 1\r\n            },\r\n            \"emphasis\": {\r\n                \"color\": \"#005eaa\"\r\n            }\r\n        },\r\n        \"controlStyle\": {\r\n            \"normal\": {\r\n                \"color\": \"#005eaa\",\r\n                \"borderColor\": \"#005eaa\",\r\n                \"borderWidth\": 0.5\r\n            },\r\n            \"emphasis\": {\r\n                \"color\": \"#005eaa\",\r\n                \"borderColor\": \"#005eaa\",\r\n                \"borderWidth\": 0.5\r\n            }\r\n        },\r\n        \"checkpointStyle\": {\r\n            \"color\": \"#005eaa\",\r\n            \"borderColor\": \"rgba(49,107,194,0.5)\"\r\n        },\r\n        \"label\": {\r\n            \"normal\": {\r\n                \"textStyle\": {\r\n                    \"color\": \"#005eaa\"\r\n                }\r\n            },\r\n            \"emphasis\": {\r\n                \"textStyle\": {\r\n                    \"color\": \"#005eaa\"\r\n                }\r\n            }\r\n        }\r\n    },\r\n    \"visualMap\": {\r\n        \"color\": [\r\n            \"#1790cf\",\r\n            \"#a2d4e6\"\r\n        ]\r\n    },\r\n    \"dataZoom\": {\r\n        \"backgroundColor\": \"rgba(47,69,84,0)\",\r\n        \"dataBackgroundColor\": \"rgba(47,69,84,0.3)\",\r\n        \"fillerColor\": \"rgba(167,183,204,0.4)\",\r\n        \"handleColor\": \"#a7b7cc\",\r\n        \"handleSize\": \"100%\",\r\n        \"textStyle\": {\r\n            \"color\": \"#333333\"\r\n        }\r\n    },\r\n    \"markPoint\": {\r\n        \"label\": {\r\n            \"normal\": {\r\n                \"textStyle\": {\r\n                    \"color\": \"#eeeeee\"\r\n                }\r\n            },\r\n            \"emphasis\": {\r\n                \"textStyle\": {\r\n                    \"color\": \"#eeeeee\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/analysis/mixins/echart-theme.js","<template>\r\n  <div>\r\n    <el-transfer :class=\"'transfer_' + size\" :data=\"chooseData\" v-model=\"accreditedList\" :filterable=\"filterable\" :render-content=\"renderContent\" :left-default-checked=\"leftDefaultChecked\" :right-default-checked=\"rightDefaultChecked\" :titles=\"titles\" :props=\"{\r\n          key: myKey,\r\n          label: myLabel,\r\n          disabled: myDisabled\r\n        }\" :button-texts=\"buttonTexts\" :format=\"{\r\n        noChecked: '${total}',\r\n        hasChecked: '${checked}/${total}'\r\n        }\" @change=\"handleChange\" :footer-format=\"{ noChecked: '共 ${total} 项', hasChecked: '全选，已选 ${checked}项，共${total}项' }\">\r\n      <!--<el-button class=\"transfer-footer\" slot=\"left-footer\" size=\"small\">操作</el-button>-->\r\n      <!--<el-button class=\"transfer-footer\" slot=\"right-footer\" size=\"small\">操作</el-button>-->\r\n    </el-transfer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { varType } from \"../../util/util.js\";\r\n\r\nexport default {\r\n  name: \"myTransfer\",\r\n  components: {},\r\n  props: {\r\n    rend: {\r\n      type: Function\r\n    },\r\n    size: {\r\n      // 控制主内容高度大小，只能设置xs,sm,md,lg\r\n      type: String,\r\n      default: \"sm\"\r\n    },\r\n    chooseList: {\r\n      /*总数据*/\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    accredited: {\r\n      /*默认授权出现在右边的选项,为索引数组,从1开始*/\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    filterable: {\r\n      /*是否可搜索*/\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    leftDefaultChecked: {\r\n      /*左右默认被勾选的选项,为索引数组,从1开始,支持选中数据的数组传入*/\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    rightDefaultChecked: {\r\n      /*左右默认被勾选的选项,为索引数组,从1开始*/\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    titles: {\r\n      /*数组,左右两边的标题,两个*/\r\n      type: Array,\r\n      default: () => [\"未授权角色:\", \"已授权角色:\"]\r\n    },\r\n    buttonTexts: {\r\n      /*数组,中间按钮的文字,四个*/\r\n      type: Array,\r\n      default: () => [\"删除\", \"授权\", \"保存\", \"返回\"]\r\n    },\r\n    myKey: {\r\n      /*自定义排序id*/\r\n      type: String,\r\n      default: \"id\"\r\n    },\r\n    myLabel: {\r\n      /*自定义排序name*/\r\n      type: String,\r\n      default: \"name\"\r\n    },\r\n    myDisabled: {\r\n      /*自定义排序id*/\r\n      type: String,\r\n      default: \"disabled\"\r\n    },\r\n    saveClick: {\r\n      type: Function\r\n    },\r\n    backClick: {\r\n      type: Function\r\n    },\r\n    filterList: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      }\r\n    },\r\n    filterType: {\r\n      type: String,\r\n      default: \"0\"\r\n    },\r\n    emptyText: {\r\n      default: \"暂无数据\"\r\n    },\r\n    footerFormat: {\r\n      type: Object\r\n      //                default: () => {\r\n      //                    noChecked: '${total}',\r\n      //                        hasChecked:'${checked}/${total}'\r\n      //                }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      chooseData: [],\r\n      accreditedList: []\r\n    };\r\n  },\r\n  computed: {},\r\n  created() {\r\n    this.chooseData = this.chooseList;\r\n    this.accreditedList = this.accredited;\r\n  },\r\n  mounted() {\r\n    /*添加保存和返回*/\r\n    let btns = this.$el.getElementsByClassName(\"el-transfer__buttons\")[0];\r\n    let btnChild = btns.children[1].children[0];\r\n    btnChild.insertBefore(btnChild.children[1], btnChild.children[0]);\r\n    /*将i标签的位置调换*/\r\n    /**遍历生成按钮 */\r\n    for (let i = 2; i < this.buttonTexts.length; i++) {\r\n      var item = this.buttonTexts[i];\r\n      let tempBtn = document.createElement(\"button\");\r\n      tempBtn.innerHTML = `<span><i></i><span>${item}</span></span>`;\r\n      tempBtn.classList.add(\r\n        \"el-button\",\r\n        \"el-button--primary\",\r\n        \"el-button--small\"\r\n      );\r\n      if (i == 2 && this.saveClick) {\r\n        tempBtn.addEventListener(\"click\", () => {\r\n          this.saveClick();\r\n        });\r\n      }\r\n      if (i == 3 && this.backClick) {\r\n        tempBtn.addEventListener(\"click\", () => {\r\n          this.backClick();\r\n        });\r\n      }\r\n      btns.appendChild(tempBtn);\r\n    }\r\n  },\r\n  methods: {\r\n    handleChange(value, direction, movedKeys) {\r\n      let tempObj = [];\r\n      movedKeys.forEach((item, index) => {\r\n        tempObj.push(this.chooseData[item - 1]);\r\n      });\r\n      this.$emit(\r\n        \"transfer\" /*当发生改变,父组件监听transfer事件,接受到一个对象,有下列四个属性*/,\r\n        {\r\n          changed: tempObj /*改变的数据*/,\r\n          value /*依然被授权的索引*/,\r\n          direction /*方向,left和right*/,\r\n          movedKeys /*此次移动的索引*/\r\n        }\r\n      );\r\n    },\r\n    renderContent(h, option) {\r\n      if (this.rend) {\r\n        return this.rend(h, option);\r\n      }\r\n      return <span>{option[this.myLabel]}</span>;\r\n    }\r\n  },\r\n  watch: {\r\n    chooseList(val) {\r\n      this.chooseData = val;\r\n      if (this.chooseData.length == 0) {\r\n        let nodes = this.$el.querySelectorAll(\".el-transfer-panel__empty\");\r\n        nodes[1].innerHTML = this.emptyText;\r\n        if (this.accreditedList.length == 0) {\r\n          nodes[3].innerHTML = this.emptyText;\r\n        }\r\n        //                    for(var i=0,len=nodes.length;i<len;i++){\r\n        //                        if(i%2 != 0){\r\n        //                            nodes[i].innerHTML = this.emptyText\r\n        //                        }\r\n        //                  }\r\n      } else {\r\n        let nodes = this.$el.querySelectorAll(\".el-transfer-panel__empty\");\r\n        nodes[1].innerHTML = \"暂无数据\";\r\n      }\r\n    },\r\n    accredited(val) {\r\n      //传递值的类型判断\r\n      if (\r\n        val.every(function(item) {\r\n          return typeof item === \"string\" || typeof item === \"number\";\r\n        })\r\n      ) {\r\n        this.accreditedList = val;\r\n      } else {\r\n        let key = this.myKey;\r\n        this.accreditedList = val.map(function(item) {\r\n          return item[key];\r\n        });\r\n      }\r\n\r\n      if (val.length == 0 && this.chooseList != 0) {\r\n        this.$el.querySelectorAll(\".el-transfer-panel__empty\")[3].innerHTML =\r\n          \"暂无数据\";\r\n      }\r\n    },\r\n    filterList: {\r\n      handler(obj) {\r\n        var ids = [],\r\n          that = this;\r\n\r\n        //对所有数据进行过滤\r\n        that.chooseData = that.chooseList.filter(function(item) {\r\n          let condition = false,\r\n            isElement = -1;\r\n          for (var attr in obj) {\r\n            if (\r\n              obj[attr] === \"\" ||\r\n              varType(item[attr]) === \"null\" ||\r\n              varType(item[attr]) === \"undefined\"\r\n            ) {\r\n              continue;\r\n            } else if (varType(obj[attr]) === \"array\") {\r\n              isElement = obj[attr].indexOf(item[attr]);\r\n            } else if (\r\n              varType(obj[attr]) === \"string\" ||\r\n              varType(obj[attr]) === \"number\"\r\n            ) {\r\n              isElement = item[attr].indexOf(obj[attr]);\r\n            }\r\n\r\n            // 带三种值类型，0为都过滤，1为过滤左侧列表，2为过滤右侧列表\r\n            if (that.filterType === \"0\") {\r\n              condition = isElement === -1;\r\n            } else if (that.filterType === \"1\") {\r\n              condition =\r\n                that.accreditedList.indexOf(item[that.myKey]) === -1 &&\r\n                isElement === -1;\r\n            } else if (that.filterType === \"2\") {\r\n              condition =\r\n                that.accreditedList.indexOf(item[that.myKey]) > -1 &&\r\n                isElement === -1;\r\n            }\r\n            if (condition) {\r\n              return false;\r\n            }\r\n          }\r\n          return true;\r\n        });\r\n      }\r\n      // deep: true\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<!-- Add 'scoped' attribute to limit CSS to this component only  -->\r\n<style>\r\n.bg-purple-light {\r\n  background: #eeeeee;\r\n}\r\n\r\n.transfer_xs .el-transfer-panel__body {\r\n  height: 200px;\r\n}\r\n\r\n.transfer_sm .el-transfer-panel__body {\r\n  height: 350px;\r\n}\r\n\r\n.transfer_md .el-transfer-panel__body {\r\n  height: 550px;\r\n}\r\n\r\n.transfer_lg .el-transfer-panel__body {\r\n  height: 800px;\r\n}\r\n\r\n.userRightsManage_span_icon {\r\n  margin-left: 10px;\r\n}\r\n\r\n.userRightsManage_span_title {\r\n  margin-left: 10px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/base/myTransfer.vue?54695362","<template>\r\n  <el-radio-group v-if=\"optionLists.length > 0 && optionLists.length < maxNum\" v-model=\"selected\" @change=\"changeHandle\">111\r\n    <el-radio-button v-for=\"(item, index) in optionLists\" :key=\"index\" :label=\"item[valueKey]\">{{item[label]}}</el-radio-button>\r\n  </el-radio-group>\r\n  <div v-else class=\"rs_wrap\" :width=\"width\">\r\n    <el-button @click=\"lastHandle\">\r\n      <i class=\"el-icon-arrow-left\"></i>\r\n    </el-button>\r\n    <el-select class=\"rs_select\" v-model=\"selected\" filterable placeholder=\"请选择\" @change=\"changeHandle\">\r\n      <el-option v-for=\"(item, index) in optionLists\" :key=\"index\" :label=\"item[label]\" :value=\"item[valueKey]\">\r\n      </el-option>\r\n    </el-select>\r\n    <el-button @click=\"nextHandle\">\r\n      <i class=\"el-icon-arrow-right\"></i>\r\n    </el-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    value: {\r\n      type: [String, Number]\r\n    },\r\n    // 当数据大于maxNum时显示下拉\r\n    maxNum: {\r\n      type: Number,\r\n      default: 5\r\n    },\r\n    optionLists: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      }\r\n    },\r\n    label: {\r\n      type: String,\r\n      default: \"name\"\r\n    },\r\n    valueKey: {\r\n      type: String,\r\n      default: \"id\"\r\n    },\r\n    width: {\r\n      type: String,\r\n      width: \"auto\"\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      selected: {\r\n        type: [String, Number]\r\n      }\r\n    };\r\n  },\r\n  watch: {\r\n    optionLists(lists) {\r\n      if (lists.length === 0) {\r\n        this.$emit(\"input\", \"\");\r\n      } else if (this.value !== \"\") {\r\n        this.selected = this.value;\r\n      } else if (lists.length > 0) {\r\n        this.$emit(\"input\", lists[0][this.valueKey]);\r\n        // this.changeHandle(this.selected);\r\n      }\r\n    },\r\n    value() {\r\n      if (this.value !== this.selected) {\r\n        this.selected = this.value;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    changeHandle(value) {\r\n      this.$emit(\"input\", value);\r\n      this.$emit(\"change\", value);\r\n    },\r\n    lastHandle() {\r\n      let index = this.findNode(this.selected);\r\n      if (index > 0) {\r\n        this.selected = this.optionLists[index - 1][this.valueKey];\r\n        this.changeHandle(this.selected);\r\n      }\r\n    },\r\n    nextHandle() {\r\n      let index = this.findNode(this.selected);\r\n      if (index < this.optionLists.length - 1) {\r\n        this.selected = this.optionLists[index + 1][this.valueKey];\r\n        this.changeHandle(this.selected);\r\n      }\r\n    },\r\n    findNode(value) {\r\n      let temp = \"\";\r\n      this.$each(this.optionLists, (item, index) => {\r\n        if (item[this.valueKey] === value) {\r\n          temp = index;\r\n          return false;\r\n        }\r\n      });\r\n      return temp;\r\n    }\r\n  },\r\n  mounted() {\r\n    if (this.optionLists.length > 0 && this.value !== 0 && !this.value) {\r\n      this.$emit(\"input\", this.optionLists[0][this.valueKey]);\r\n      this.selected = this.value;\r\n    } else {\r\n      this.selected = this.value;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.rs_wrap {\r\n  display: inline-block;\r\n}\r\n.rs-no-data {\r\n  padding: 5px 10px;\r\n}\r\n.rs_select {\r\n  width: 150px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/analysis/radioSelect.vue?caef6d02","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"base-selectTree\",\n    style: (_vm.style),\n    attrs: {\n      \"clearable\": \"\"\n    }\n  }, [_c('i', {\n    class: ['base-selectTree__icon', 'el-icon-caret-top', {\n      'is-reverse': _vm.showTree\n    }],\n    on: {\n      \"click\": _vm.clickInput\n    }\n  }), _vm._v(\" \"), _c('i', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.text),\n      expression: \"text\"\n    }],\n    staticClass: \"base-selectTree__icon el-icon-error\",\n    on: {\n      \"click\": _vm.clickClear\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"select-wrap\"\n  }, [_c('el-input', {\n    attrs: {\n      \"disabled\": _vm.disabled,\n      \"readonly\": \"\",\n      \"placeholder\": \"请选择...\"\n    },\n    on: {\n      \"click\": _vm.clickInput\n    },\n    model: {\n      value: (_vm.text),\n      callback: function($$v) {\n        _vm.text = $$v\n      },\n      expression: \"text\"\n    }\n  })], 1), _vm._v(\" \"), (!_vm.load) ? _c('el-tree', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showTree),\n      expression: \"showTree\"\n    }],\n    ref: _vm.id,\n    staticClass: \"base-selectTree-tree\",\n    style: (_vm.styleAttr),\n    attrs: {\n      \"node-key\": _vm.nodeKey,\n      \"current-node-key\": _vm.currentNodeKey,\n      \"indent\": 10,\n      \"filter-node-method\": _vm.filterNode,\n      \"data\": _vm.data,\n      \"props\": _vm.props,\n      \"highlight-current\": \"\",\n      \"default-expand-all\": _vm.defaultExpandAll,\n      \"expand-on-click-node\": false\n    },\n    on: {\n      \"node-click\": _vm.handleNodeClick\n    }\n  }) : _c('el-tree', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showTree),\n      expression: \"showTree\"\n    }],\n    ref: _vm.id,\n    staticClass: \"base-selectTree-tree\",\n    style: (_vm.styleAttr),\n    attrs: {\n      \"node-key\": _vm.nodeKey,\n      \"current-node-key\": _vm.currentNodeKey,\n      \"highlight-current\": \"\",\n      \"indent\": 10,\n      \"filter-node-method\": _vm.filterNode,\n      \"data\": _vm.data,\n      \"props\": _vm.props,\n      \"lazy\": \"\",\n      \"load\": _vm.loadNode,\n      \"expand-on-click-node\": false\n    },\n    on: {\n      \"node-click\": _vm.handleNodeClick\n    }\n  })], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-35017560\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/base/selectTree.vue\n// module id = Sl5w\n// module chunks = 57","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.lock\",\n      value: (_vm.isLoading),\n      expression: \"isLoading\",\n      modifiers: {\n        \"lock\": true\n      }\n    }],\n    ref: \"baseTreeGrid\",\n    staticClass: \"base-treeGrid\",\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.data,\n      \"border\": \"\",\n      \"height\": _vm.treeGridHeight + 'px',\n      \"row-style\": _vm.showTr,\n      \"default-sort\": _vm.defaultSort,\n      \"row-class-name\": _vm.rowClassName\n    },\n    on: {\n      \"row-click\": _vm.rowClick,\n      \"selection-change\": _vm.selectionChange,\n      \"select\": _vm.selectCheck,\n      \"select-all\": _vm.selectCheck\n    }\n  }, [(_vm.showSelection) ? _c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"align\": \"center\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"type\": \"index\",\n      \"width\": \"70px\",\n      \"label\": \"序号\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _vm._l((_vm.columns), function(column, index) {\n    return _c('el-table-column', {\n      key: column.prop,\n      attrs: {\n        \"label\": column.label,\n        \"min-width\": column.width,\n        \"align\": index == 0 ? 'left' : column.align,\n        \"header-align\": \"center\"\n      },\n      scopedSlots: _vm._u([{\n        key: \"default\",\n        fn: function(scope) {\n          return [_vm._l((scope.row._level), function(space, levelIndex) {\n            return (_vm.spaceIconShow(index)) ? _c('div', {\n              key: levelIndex,\n              staticClass: \"ms-tree-space\"\n            }) : _vm._e()\n          }), _vm._v(\" \"), (_vm.toggleIconShow(index, scope.row, scope)) ? _c('i', {\n            class: scope.row._expanded ? 'el-icon-caret-bottom' : 'el-icon-caret-right',\n            on: {\n              \"click\": function($event) {\n                _vm.toggle(scope.$index, scope.row)\n              }\n            }\n          }) : (index === 0) ? _c('div', {\n            staticClass: \"ms-tree-space\"\n          }) : _vm._e(), _vm._v(\"\\n      \" + _vm._s(_vm.customDisplay(column, scope)) + \"\\n    \")]\n        }\n      }])\n    })\n  }), _vm._v(\" \"), _vm._t(\"operation\", [(_vm.treeType === 'normal') ? _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"width\": \"115\",\n      \"align\": \"left\",\n      \"header-align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.editModule(scope.row, scope)\n            }\n          }\n        }, [_vm._v(\"\\n          编辑\\n        \")]), _vm._v(\" \"), _c('el-button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (!scope.row.state),\n            expression: \"!scope.row.state\"\n          }],\n          attrs: {\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.deleteModule(scope.row)\n            }\n          }\n        }, [_vm._v(\"\\n          删除\\n        \")])]\n      }\n    }])\n  }) : _vm._e()])], 2)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-f721956c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/base/TreeGrid.vue\n// module id = TezJ\n// module chunks = 57","<template>\r\n  <!-- class=\"echartsHight\"  -->\r\n  <div>\r\n    <slot name=\"searchTool\">\r\n    </slot>\r\n    <el-table :ref=\"id\" :id=\"id\" :data=\"data\" :show-summary=\"showSummary\" :summary-method=\"summaryMethod\" :border=\"border\" v-loading.lock=\"isLoading\" :max-height=\"maxHeight\" :highlight-current-row=\"showRadio\" @select=\"select\" @select-all=\"selectAll\" @row-click=\"rowClick\" @row-dblclick=\"rowDblclick\" @selection-change=\"selectionChange\" style=\"width: 100%\">\r\n      <el-table-column v-if=\"showSelection\" type=\"selection\" header-align=\"center\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column v-if=\"showIndex\" type=\"index\" label=\"序号\" width=\"60\" header-align=\"center\" align=\"center\">\r\n      </el-table-column>\r\n      <!-- :class-name=\"item.subStr === true?'sys_text_substr':''\" -->\r\n      <template v-for='item in colums'>\r\n        <el-table-column :label=\"item.label\" v-if=\"!item.hidden===true&&item.children\" :align=\"item.align? item.align:'center'\" header-align=\"center\" :key=\"item.prop\" :prop=\"item.prop\" :class-name=\"item.subStr === true?'sys_text_substr':''\" :min-width=\"item.width ? item.width:' '\" :sortable=\"item.sortable? item.sortable:false\" :show-overflow-tooltip=\"item.showOverflowTooltip ? item.showOverflowTooltip : false\">\r\n          <el-table-column v-for='itemChild in item.children' :label=\"itemChild.label\" :align=\"itemChild.align? itemChild.align:'center'\" header-align=\"center\" :key=\"itemChild.prop\" :prop=\"itemChild.prop\" :class-name=\"itemChild.subStr === true?'sys_text_substr':''\" :min-width=\"itemChild.width ? itemChild.width:' '\" :sortable=\"itemChild.sortable? itemChild.sortable:false\" :show-overflow-tooltip=\"itemChild.showOverflowTooltip ? itemChild.showOverflowTooltip : false\">\r\n            <template slot-scope=\"scope2\">\r\n              <el-popover class=\"table_popover\" trigger=\"hover\" placement=\"top\" v-if=\"itemChild.popover\">\r\n                <slot name=\"hover\">\r\n                  <p>{{ typeof itemChild.popover === \"boolean\"?customDisplay(itemChild, scope2):scope2.row[itemChild.popover]||itemChild.popover }}</p>\r\n                </slot>\r\n                <div slot=\"reference\" class=\"name-wrapper\">\r\n                  <el-tag>{{ customDisplay(itemChild, scope2) }}</el-tag>\r\n                </div>\r\n              </el-popover>\r\n              <template v-if=\"!itemChild.popover\">{{customDisplay(itemChild, scope2)}}</template>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table-column>\r\n        <el-table-column :label=\"item.label\" v-if=\"!(item.hidden===true)&&!item.children\" :align=\"item.align? item.align:'center'\" header-align=\"center\" :key=\"item.prop\" :prop=\"item.prop\" :class-name=\"item.subStr === true?'sys_text_substr':''\" :min-width=\"item.width ? item.width:' '\" :sortable=\"item.sortable? item.sortable:false\" :show-overflow-tooltip=\"item.showOverflowTooltip ? item.showOverflowTooltip : false\">\r\n          <template slot-scope=\"scope\">\r\n            <el-popover class=\"table_popover\" trigger=\"hover\" placement=\"top\" v-if=\"item.popover\">\r\n              <slot name=\"hover\">\r\n                <p>{{ typeof item.popover === \"boolean\"?customDisplay(item, scope):scope.row[item.popover]||item.popover }}</p>\r\n              </slot>\r\n              <div slot=\"reference\" class=\"name-wrapper\">\r\n                <el-tag>{{ customDisplay(item, scope) }}</el-tag>\r\n              </div>\r\n            </el-popover>\r\n            <template v-if=\"!item.popover\">{{customDisplay(item, scope)}}</template>\r\n          </template>\r\n        </el-table-column>\r\n      </template>\r\n      <slot></slot>\r\n      <slot name=\"operation\">\r\n      </slot>\r\n\r\n    </el-table>\r\n    <v-page v-if=\"isPage\" :page=\"page\" @currentChange=\"currentChange\" @pageSizeChange=\"pageSizeChange\" :class=\"isClass?'cation':' ' \"></v-page>\r\n    <!-- :class=isClass?'cation':\"\" -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/*需要时间格式化的东西需要在colums传入format 内容为格式的内容\r\n   * cols属性为一个数组,数组由对象组成，\r\n   * 每个对象由label,prop,align(对齐方式,默认居中),\r\n   * width(表格宽度,默认平均分配),\r\n   * sortable(是否排序),\r\n   * displace(文本替换) {id1:\"要替换的值1\",id2:\"要替换的值2\",...}\r\n   * format(时间格式化) \"YYYY-MM-DD HH:mm:ss\"\r\n   * subStr(字符串长度截取，超过规定长度用英文...表示) true(自动截取) [number](超长截取固定字段)\r\n   * popover(内容悬浮显示窗体) true(显示自身内容) [string](对应其他同行数据的其他内容)\r\n   * customFn(自定义返回处理函数)\r\n   * showSummary(合计)  summaryMethod 自定义值\r\n   *\r\n   * 父组件传入showSelection(默认不显示),布尔类型,是否显示CheckBox\r\n   * 父组件传入showIndex(默认显示),布尔类型,是否显示索引\r\n   * 父组件传入showRadio(默认显示),布尔类型,是否高亮显示\r\n   * 父组件传入border(默认显示),布尔类型,是否显示边框\r\n   *\r\n   * 子组件传出select事件(选择CheckBox),附带selection和row信息,以对象传出去\r\n   * 子组件传出selectAll事件(全选事件),附带selection信息,以对象传出去\r\n   * 子组件传出rowClick事件(行单击事件),附带row, event, column信息,以对象传出去\r\n   * 子组件传出rowDblclick事件(行双击事件),附带row, event信息,以对象传出去\r\n   *\r\n   * 增加前端分页;传入frontPage为真值,setdata时的值为后台返回的数据\r\n   *\r\n   * */\r\nimport vPage from \"./page\";\r\nimport { varType } from \"../../util/util.js\";\r\nimport FileSaver from \"file-saver\";\r\nimport XLSX from \"xlsx\";\r\n\r\nexport default {\r\n  props: {\r\n    // propData: {\r\n    //   type: Array,\r\n    //   default: []\r\n    // },\r\n    id: {\r\n      type: String,\r\n      default: \"baseTable\"\r\n    },\r\n    frontPage: {\r\n      default: false\r\n    },\r\n    tableList: {\r\n      type: [Object, Array]\r\n    },\r\n    colums: {\r\n      type: Array,\r\n      default() {}\r\n    },\r\n    searchData: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          currentPage: 1,\r\n          pageSize: 5\r\n        };\r\n      }\r\n    },\r\n    isClass: {\r\n      default: false\r\n    },\r\n    //是否多选,默认不显示\r\n    showSelection: {\r\n      //                type: [Boolean,String,N],\r\n      default: false\r\n    },\r\n    //是否显示操作行\r\n    type: {\r\n      type: String,\r\n      default: \"normal\"\r\n    },\r\n    //是否显示索引,默认不显示\r\n    showIndex: {\r\n      //                type: Boolean,\r\n      default: true\r\n    },\r\n    //是否高亮显示单行,默认显示\r\n    showRadio: {\r\n      //                type: Boolean,\r\n      default: true\r\n    },\r\n    //是否显示边框 默认显示\r\n    border: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // maxHeight: {\r\n    //   default() {\r\n    //     return 500;\r\n    //   }\r\n    // },\r\n    showSummary: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    summaryMethod: {\r\n      type: Function\r\n    },\r\n    that: {\r\n      default: null\r\n    },\r\n    selectAttr: {\r\n      type: String\r\n    }\r\n  },\r\n  components: {\r\n    vPage\r\n  },\r\n  data() {\r\n    // this.$nextTick(() => {\r\n    // this.maxHeight = document.getElementsByClassName(\r\n    //   \"plat-div-content\"\r\n    // )[0].clientHeight;\r\n    // });\r\n    return {\r\n      maxHeight: 500,\r\n      isLoading: false,\r\n      tableData: [],\r\n      page: {\r\n        pageSizes: 0,\r\n        pageRange: 10,\r\n        thisPage: 1,\r\n        totalPage: 0\r\n      },\r\n      isPage: true,\r\n      checkList: [],\r\n      selectable: item => {\r\n        return false;\r\n      },\r\n      filterList: null\r\n    };\r\n  },\r\n  methods: {\r\n    //选择checkbox事件\r\n    select(selection, row) {\r\n      let val = {\r\n        selection,\r\n        row\r\n      };\r\n      this.$emit(\"select\", val);\r\n    },\r\n    setData(data) {\r\n      // 直接传入数组，则为不分页显示\r\n      if (varType(data) === \"array\") {\r\n        this.tableData = data;\r\n        if (this.frontPage) {\r\n          this.isPage = true;\r\n          this.page = {\r\n            pageSizes: data.length,\r\n            pageRange: this.page.pageRange,\r\n            thisPage: this.page.thisPage,\r\n            totalPage: Math.ceil(data.length / this.page.pageRange)\r\n          };\r\n        } else {\r\n          this.isPage = false;\r\n        }\r\n      } else {\r\n        if (!this.frontPage) {\r\n          //后端分页\r\n          this.tableData = data.records;\r\n          let aspnetPager = data.aspnetPager;\r\n          if (aspnetPager && aspnetPager.currentPage) {\r\n            this.page = {\r\n              pageSizes: aspnetPager.totalCount,\r\n              pageRange: aspnetPager.pageSize,\r\n              thisPage: aspnetPager.currentPage,\r\n              totalPage: Math.ceil(\r\n                aspnetPager.totalCount / aspnetPager.pageSize\r\n              )\r\n            };\r\n          } else {\r\n            this.isPage = false;\r\n          }\r\n        } else {\r\n          //前端分页\r\n          data = data ? data : [];\r\n          this.tableData = data;\r\n          this.page = {\r\n            pageSizes: data.length,\r\n            pageRange: this.page.pageRange,\r\n            thisPage: this.page.thisPage,\r\n            totalPage: Math.ceil(data.length / this.page.pageRange)\r\n          };\r\n        }\r\n      }\r\n      // 设置选中值\r\n\r\n      this.$nextTick(() => {\r\n        if (this.showSelection && this.selectAttr) {\r\n          // this.$refs.table.\r\n          // console.log(this.tableData, this.$refs[this.id]);\r\n          this.tableData.forEach(item => {\r\n            if (item[this.selectAttr]) {\r\n              this.$refs[this.id].toggleRowSelection(item, true);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    currentChange(val) {\r\n      if (!this.frontPage) {\r\n        //后台分页\r\n        this.searchData.currentPage = val;\r\n        this.$emit(\"callBack\", this.searchData);\r\n      } else {\r\n        //前台分页\r\n        this.page.thisPage = val;\r\n      }\r\n    },\r\n    pageSizeChange(size) {\r\n      if (!this.frontPage) {\r\n        //后台分页\r\n        this.searchData.pageSize = size;\r\n        this.$emit(\"callBack\", this.searchData);\r\n      } else {\r\n        //前台分页\r\n        this.page.pageRange = size;\r\n        this.page.totalPage = Math.ceil(this.tableData.length / size);\r\n      }\r\n    },\r\n    //全选事件\r\n    selectAll(selection) {\r\n      let val = {\r\n        selection\r\n      };\r\n      this.$emit(\"selectAll\", val);\r\n    },\r\n    //行单击事件\r\n    rowClick(row, event, column) {\r\n      if (\r\n        event.target.outerHTML.indexOf(\"span\") == -1 ||\r\n        event.target.outerHTML.indexOf(\"el-checkbox\") != -1\r\n      ) {\r\n        this.$refs[this.id].toggleRowSelection(row);\r\n      }\r\n      let val = {\r\n        row,\r\n        event,\r\n        column\r\n      };\r\n      this.$emit(\"rowClick\", val);\r\n    },\r\n    //行双击事件\r\n    rowDblclick(row, event) {\r\n      let val = {\r\n        row: row,\r\n        event: event\r\n      };\r\n      this.$emit(\"rowDblclick\", val);\r\n    },\r\n\r\n    edit(val) {\r\n      this.$emit(\"editTable\", val);\r\n    },\r\n    deleteTable(val) {\r\n      this.$emit(\"deleteTable\", val);\r\n    },\r\n    format(value, format) {\r\n      return this.$moment(value, format);\r\n    },\r\n    customDisplay(item, scope) {\r\n      var temp = \"\";\r\n      if (item.displace) {\r\n        temp = item.displace[scope.row[item.prop]];\r\n      } else {\r\n        temp = scope.row[item.prop];\r\n      }\r\n\r\n      //需要格式化的时间格式必须为时间戳（数字）或时间字符串格式\r\n      if (\r\n        item.format &&\r\n        (typeof temp === \"string\" || typeof temp === \"number\")\r\n      ) {\r\n        try {\r\n          temp = this.format(temp, item.format);\r\n        } catch (e) {\r\n          console.warn(e);\r\n        }\r\n      }\r\n\r\n      //字符串截取长度\r\n      if (\r\n        item.subStr &&\r\n        typeof item.subStr === \"number\" &&\r\n        temp.length > item.subStr\r\n      ) {\r\n        temp = temp.substring(0, item.subStr) + \"...\";\r\n      } else if (typeof item.subStr === \"boolean\") {\r\n      }\r\n\r\n      if (varType(item.customFn) === \"function\") {\r\n        temp = item.customFn(temp, scope.row);\r\n      }\r\n      return temp;\r\n    },\r\n    //选择项发生改变\r\n    selectionChange(selection) {\r\n      this.checkList = selection;\r\n      this.$emit(\"selection-change\", selection);\r\n    },\r\n\r\n    //获取选中的行\r\n    getCheckedRows() {\r\n      return this.checkList;\r\n    },\r\n    // 用于多选表格，切换某一行的选中状态，如果使用了第二个参数，则是设置这一行选中与否（selected 为 true 则选中）\r\n    toggleRowSelection(rows) {\r\n      this.$each(rows, item => {\r\n        this.$refs[this.id].toggleRowSelection(item, true);\r\n      });\r\n    },\r\n    //用于多选表格，清空用户的选择\r\n    clearSelection() {\r\n      this.$refs[this.id].clearSelection();\r\n    },\r\n    openLoading() {\r\n      this.isLoading = true;\r\n    },\r\n    closeLoading() {\r\n      this.isLoading = false;\r\n    },\r\n    export(name) {\r\n      /* generate workbook object from table */\r\n      var wb = XLSX.utils.table_to_book(this.$el);\r\n      /* get binary string as output */\r\n      var wbout = XLSX.write(wb, {\r\n        bookType: \"xlsx\",\r\n        bookSST: true,\r\n        type: \"array\"\r\n      });\r\n      try {\r\n        FileSaver.saveAs(\r\n          new Blob([wbout], { type: \"application/octet-stream\" }),\r\n          (name || \"template\") + \".xlsx\"\r\n        );\r\n      } catch (e) {\r\n        if (typeof console !== \"undefined\") console.log(e, wbout);\r\n      }\r\n      return wbout;\r\n    },\r\n    filterData(query) {\r\n      let data = this.tableData.filter(item => {\r\n        for (let element in query) {\r\n          // 当数据与查询条件存在不符时去掉\r\n          if (query[element] && item[element].indexOf(query[element]) === -1) {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      });\r\n      this.filterList = data;\r\n      this.page = {\r\n        pageSizes: data.length,\r\n        pageRange: this.page.pageRange,\r\n        thisPage: 1,\r\n        totalPage: Math.ceil(data.length / this.page.pageRange)\r\n      };\r\n    }\r\n  },\r\n  computed: {\r\n    data() {\r\n      if (!this.frontPage) {\r\n        //后台分页\r\n        return this.tableData;\r\n      } else {\r\n        let data = [].concat(this.tableData);\r\n        // 前端过滤\r\n        if (varType(this.filterList) === \"array\") {\r\n          data = this.filterList;\r\n        }\r\n\r\n        //前台分页\r\n        let start = (this.page.thisPage - 1) * this.page.pageRange,\r\n          end =\r\n            (this.page.thisPage - 1) * this.page.pageRange +\r\n            this.page.pageRange;\r\n        return data.slice(start, end);\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    tableList(val) {\r\n      this.setData(val);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.cation {\r\n  position: fixed;\r\n  bottom: 25px;\r\n  right: 0;\r\n  width: 100%;\r\n  padding-left: 206px;\r\n}\r\n\r\n.table_popover .name-wrapper {\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  vertical-align: bottom;\r\n  display: inline-block;\r\n}\r\n\r\n.table_popover .name-wrapper .el-tag {\r\n  vertical-align: bottom;\r\n}\r\n.table_popover .el-tag {\r\n  border: 0;\r\n  background: none;\r\n  color: #444;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/base/table.vue?524dd9a4","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2636df3e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./timeRangeSelect.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./timeRangeSelect.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2636df3e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./timeRangeSelect.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2636df3e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/analysis/timeRangeSelect.vue\n// module id = U83o\n// module chunks = 57","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2d5a7b27\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./equalHeightPanel.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./equalHeightPanel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2d5a7b27\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./equalHeightPanel.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2d5a7b27\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pageLayout/equalHeightPanel.vue\n// module id = Uj9y\n// module chunks = 57","const getters = {}\r\nexport default getters\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: _vm.className,\n    style: ({\n      height: _vm.height,\n      width: _vm.width\n    }),\n    attrs: {\n      \"id\": _vm.id\n    }\n  })\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-8055f042\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/analysis/lineChart.vue\n// module id = VApH\n// module chunks = 57","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"base-div-page\"\n  }, [_c('el-pagination', {\n    attrs: {\n      \"current-page\": _vm.page.thisPage,\n      \"total\": _vm.page.pageSizes,\n      \"layout\": \"slot,prev, pager, next,jumper\",\n      \"page-size\": _vm.pageRangeN\n    },\n    on: {\n      \"current-change\": _vm.handleCurrentChange\n    }\n  }, [_vm._t(\"default\", [_c('div', {\n    staticClass: \"base-table-pageLeft\"\n  }, [_vm._v(\"\\n                \" + _vm._s(_vm.page.pageSizes) + \"条记录，\" + _vm._s(_vm.page.thisPage) + \"/\" + _vm._s(_vm.page.totalPage) + \"页，每页\\n                \"), _c('span', {\n    staticClass: \"base-table-pagesize\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model.lazy\",\n      value: (_vm.pageRange),\n      expression: \"pageRange\",\n      modifiers: {\n        \"lazy\": true\n      }\n    }],\n    ref: \"basePageInput\",\n    staticClass: \"base-input-pageSizes\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.pageRange)\n    },\n    on: {\n      \"change\": [function($event) {\n        _vm.pageRange = $event.target.value\n      }, _vm.pageSizeChange],\n      \"click\": _vm.showPageSizes\n    }\n  }), _vm._v(\" \"), _c('ul', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isShowPageSizes),\n      expression: \"isShowPageSizes\"\n    }],\n    staticClass: \"base-ul-page\"\n  }, _vm._l((_vm.pageSizes), function(item) {\n    return _c('li', {\n      key: item,\n      on: {\n        \"click\": function($event) {\n          _vm.selectPage(item)\n        }\n      }\n    }, [_vm._v(_vm._s(item))])\n  }))]), _vm._v(\"\\n                条\\n            \")])])], 2)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-420f0935\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/base/page.vue\n// module id = W+85\n// module chunks = 57","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"chart\",\n    class: _vm.className,\n    style: ({\n      width: _vm.width,\n      height: _vm.height,\n      width: '100%'\n    }),\n    attrs: {\n      \"id\": _vm.id\n    }\n  })\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-150f0820\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/analysis/gaugeChart.vue\n// module id = Xz3D\n// module chunks = 57","import Vue from 'vue'\nimport Router from 'vue-router'\nimport app from '../store/app'\nimport {\n  getCookie\n} from \"../util/util\"\nimport {\n  delCookie\n} from \"../util/util\"\nimport axios from '../util/http'\n\n\nVue.use(Router)\n\n//路由配置\nexport const platRoute = [\n  //首页\n  {\n    path: '/welcome',\n    name: '欢迎界面',\n    meta: {\n      id: \"-1\",\n      name: \"首页\"\n    },\n    component: () =>\n      import ('$plat/welcome.vue')\n  },\n  //用能总览\n  {\n    path: '/energyUseOverview',\n    name: '总览页面',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/energyUseOverview/energyUseOverview.vue')\n  },\n  // 能效分析\n  {\n    path: '/efficiencyMapAnalysis',\n    name: '企业能效地图',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/efficiencyAnalysis/efficiencyMapAnalysis.vue')\n  },\n  {\n    path: '/energyConsumptionAnalysis',\n    name: '综合能耗分析',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/efficiencyAnalysis/energyConsumptionAnalysis.vue')\n  },\n  {\n    path: '/costAnalysis',\n    name: '用能成本分析',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/efficiencyAnalysis/costAnalysis.vue')\n  },\n  {\n    path: '/powerQualityAnalysis',\n    name: '电能质量分析',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/efficiencyAnalysis/powerQualityAnalysis.vue')\n  },\n  {\n    path: '/energyPeakAnalysis',\n    name: '谷平峰用电分析',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/efficiencyAnalysis/energyPeakAnalysis.vue')\n  },\n  {\n    path: '/comprehensiveTargetAnalysis',\n    name: '综合能效对标分析',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/efficiencyAnalysis/comprehensiveTargetAnalysis.vue')\n  },\n  {\n    path: '/productTargetAnalysis',\n    name: '产品能效对标分析',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/efficiencyAnalysis/productTargetAnalysis.vue')\n  },\n  {\n    path: '/workshopTargetAnalysis',\n    name: '车间能耗对标分析',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/efficiencyAnalysis/workshopTargetAnalysis.vue')\n  },\n  {\n    path: '/productionLineTargetAnalysis',\n    name: '产线能效对标分析',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/efficiencyAnalysis/productionLineTargetAnalysis.vue')\n  },\n  {\n    path: '/workingProcedureTargetAnalysis',\n    name: '工序能耗对标分析',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/efficiencyAnalysis/workingProcedureTargetAnalysis.vue')\n  },\n  {\n    path: '/equipmentTargetAnalysis',\n    name: '设备能效对标分析',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/efficiencyAnalysis/equipmentTargetAnalysis.vue')\n  },\n  // 能源管理\n  {\n    path: '/energySavingAnalysis',\n    name: '节能分析',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/energy/energySavingAnalysis.vue')\n  },\n  {\n    path: '/carbonEmissionAnalysis',\n    name: '碳排放分析',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/energy/carbonEmissionAnalysis.vue')\n  },\n  {\n    path: '/entEnergy',\n    name: '能源种类管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/energy/entEnergy.vue')\n  },\n  {\n    path: '/calorificEnergy',\n    name: '能源质量管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/energy/calorificEnergy.vue')\n  },\n  {\n    path: '/energyPriceElec',\n    name: '分时电价管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/energy/energyPriceElec.vue')\n  },\n  {\n    path: '/priceEnergy',\n    name: '能源价格管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/energy/priceEnergy.vue')\n  },\n  {\n    path: '/targetBenchLimit',\n    name: '指标标杆与定额管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/energy/targetBenchLimit.vue')\n  },\n  {\n    path: '/equipBenchLimit',\n    name: '设备标杆与定额管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/energy/equipBenchLimit.vue')\n  },\n  {\n    path: '/tabulationEquipmentLedger',\n    name: '表计配备与台账',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/energy/tabulationEquipmentLedger.vue')\n  },\n  // 运行监测\n  {\n    path: '/alarmCentre',\n    name: '告警中心',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/running/alarmCentre.vue')\n  },\n  {\n    path: '/alarmHistorySearch',\n    name: '历史告警查询',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/running/alarmHistorySearch.vue')\n  },\n  {\n    path: '/alarmStatisticsAnalysis',\n    name: '告警统计和分析',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/running/alarmStatisticsAnalysis.vue')\n  },\n  {\n    path: '/alarmConfiguration',\n    name: '告警项配置',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import('$plat/running/alarmConfiguration.vue')\n  },\n\n  {\n    path: '/electricityMonitoring',\n    name: '用电监测',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/running/electricityMonitoring.vue')\n  },\n  {\n    path: '/measurementNetworkMonitoring',\n    name: '计量网络监测',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/running/measurementNetworkMonitoring.vue')\n  },\n  {\n    path: '/tabularDataQuery',\n    name: '表计数据查询',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/running/tabularDataQuery.vue')\n  },\n  {\n    path: '/equipmentMonitoring',\n    name: '运行运行状态监测',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/running/equipmentMonitoring.vue')\n  },\n\n  {\n    path: '/threshold',\n    name: '运行状态参数配置',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/running/threshold.vue')\n  },\n  // 数据管理\n\n  // 系统信息管理\n  {\n    path: '/resource',\n    name: '资源管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/basic/resource.vue')\n  },\n  {\n    path: '/logLogin',\n    name: '系统日志管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/system/logLogin.vue')\n  },\n  {\n    path: '/code',\n    name: '数据字典管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/system/code.vue')\n  },\n  // 基础信息管理\n  {\n    path: '/energySubitem',\n    name: '分项资料管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/basic/energySubitem.vue')\n  },\n  {\n    path: '/equip',\n    name: '设备资料管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/basic/equip.vue')\n  },\n  {\n    path: '/organization',\n    name: '用能对象管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/basic/organization.vue')\n  },\n  {\n    path: '/product',\n    name: '产品资料管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/basic/product.vue')\n  },\n  {\n    path: '/alarmGroup',\n    name: '告警分组管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/basic/alarmGroup.vue')\n  },\n  // 指标信息管理\n  {\n    path: '/target',\n    name: '指标资料管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/target/target.vue')\n  },\n  {\n    path: '/targetData',\n    name: '指标类型管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/target/targetData.vue')\n  },\n  {\n    path: '/targetType',\n    name: '指标类型管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/target/targetType.vue')\n  },\n  // 计量网络资料管理\n  {\n    path: '/meter',\n    name: '表计资料管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/measure/meter.vue')\n  },\n  {\n    path: '/instrument',\n    name: '表计类型管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/measure/instrument.vue')\n  },\n  // 超级管理员区\n  {\n    path: '/moduleConfiguration',\n    name: '表单配置',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/moduleConfiguration/moduleConfiguration.vue')\n  },\n  {\n    path: '/module',\n    name: '模块资料管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/basic/module.vue')\n  },\n  {\n    path: '/role',\n    name: '角色管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/basic/role.vue')\n  },\n  {\n    path: '/user',\n    name: '用户管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/basic/user.vue')\n  },\n  {\n    path: '/personalMessage',\n    name: '用户信息',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/basic/personalMessage.vue')\n  },\n  {\n    path: '/resetPassword',\n    name: '修改密码',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/basic/resetPassword.vue')\n  },\n\n  {\n    path: '/enterprise',\n    name: '企业资料管理',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/superadmin/enterprise.vue')\n  },\n  {\n    path: '/carbonEmission',\n    name: \"碳排放量分析\",\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/analysis/carbonEmission.vue')\n  },\n  {\n    path: '/example',\n    name: \"组件例子\",\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('$plat/analysis/example.vue')\n  },\n  {\n    path: '/iframeTemplate',\n    name: 'iframe',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('@/components/pageLayout/iframeTemplate.vue')\n  }\n];\n\nconst router = new Router({\n  routes: [{\n    path: '/',\n    name: '首页',\n    redirect: '/welcome'\n  }, {\n    path: '/login',\n    name: '登录界面',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('@/views/login/login')\n  }, {\n    path: '/manage',\n    name: '管理页面',\n    // redirect: '/welcome',\n    meta: {\n      id: \"\"\n    },\n    component: () =>\n      import ('@/views/layout/layout'),\n    children: platRoute\n  }]\n});\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (_vm.optionLists.length > 0 && _vm.optionLists.length < _vm.maxNum) ? _c('el-radio-group', {\n    on: {\n      \"change\": _vm.changeHandle\n    },\n    model: {\n      value: (_vm.selected),\n      callback: function($$v) {\n        _vm.selected = $$v\n      },\n      expression: \"selected\"\n    }\n  }, [_vm._v(\"111\\n  \"), _vm._l((_vm.optionLists), function(item, index) {\n    return _c('el-radio-button', {\n      key: index,\n      attrs: {\n        \"label\": item[_vm.valueKey]\n      }\n    }, [_vm._v(_vm._s(item[_vm.label]))])\n  })], 2) : _c('div', {\n    staticClass: \"rs_wrap\",\n    attrs: {\n      \"width\": _vm.width\n    }\n  }, [_c('el-button', {\n    on: {\n      \"click\": _vm.lastHandle\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-arrow-left\"\n  })]), _vm._v(\" \"), _c('el-select', {\n    staticClass: \"rs_select\",\n    attrs: {\n      \"filterable\": \"\",\n      \"placeholder\": \"请选择\"\n    },\n    on: {\n      \"change\": _vm.changeHandle\n    },\n    model: {\n      value: (_vm.selected),\n      callback: function($$v) {\n        _vm.selected = $$v\n      },\n      expression: \"selected\"\n    }\n  }, _vm._l((_vm.optionLists), function(item, index) {\n    return _c('el-option', {\n      key: index,\n      attrs: {\n        \"label\": item[_vm.label],\n        \"value\": item[_vm.valueKey]\n      }\n    })\n  })), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": _vm.nextHandle\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-arrow-right\"\n  })])], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-af492aa8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/analysis/radioSelect.vue\n// module id = YdHv\n// module chunks = 57","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"inblock\",\n    style: ({\n      width: _vm.width\n    })\n  }, [_c('el-radio-group', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.visibleType),\n      expression: \"visibleType\"\n    }],\n    staticClass: \"ts-radio\",\n    on: {\n      \"change\": _vm.changeHandle\n    },\n    model: {\n      value: (_vm.dateType),\n      callback: function($$v) {\n        _vm.dateType = $$v\n      },\n      expression: \"dateType\"\n    }\n  }, _vm._l((_vm.showTime), function(item, index) {\n    return _c('el-radio-button', {\n      key: index,\n      attrs: {\n        \"label\": item\n      }\n    }, [_vm._v(_vm._s(_vm.riadoList[item.toString()] ? _vm.riadoList[item.toString()].label : \"\"))])\n  })), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": _vm.lastTime\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-arrow-left\"\n  })]), _vm._v(\" \"), _c('el-date-picker', {\n    attrs: {\n      \"type\": _vm.riadoList[_vm.dateType.toString()] ? _vm.riadoList[_vm.dateType.toString()].type : '',\n      \"clearable\": false\n    },\n    on: {\n      \"change\": _vm.changeInput\n    },\n    model: {\n      value: (_vm.timeSelected),\n      callback: function($$v) {\n        _vm.timeSelected = $$v\n      },\n      expression: \"timeSelected\"\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": _vm.nextTime\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-arrow-right\"\n  })])], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-7785a1e4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/analysis/timeSelect.vue\n// module id = YtF0\n// module chunks = 57","<template>\n  <div id=\"app\">\n    <!-- <keep-alive>   -->\n    <router-view></router-view>\n    <!-- </keep-alive>  -->\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"app\"\n};\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue?75215d32","import {\r\n    calcTime,\r\n    formatTime\r\n} from \"./util\";\r\n\r\nfunction nodeEach(list) { //将NodeList转换为Array\r\n    var arr = new Array();\r\n    for (var i = 0; list.length > i; i++) {\r\n        var node = list[i];\r\n        arr.push(node);\r\n    }\r\n    return arr;\r\n}\r\n\r\nfunction in_array(search, array) {\r\n    for (var i in array) {\r\n        if (array[i] == search) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction getJsonObjLength(jsonObj) {\r\n    var Length = 0;\r\n    for (var item in jsonObj) {\r\n        Length++;\r\n    }\r\n    return Length;\r\n}\r\n\r\nexport function serialize(formDom) {\r\n    // var formDom = document.getElementById(id);\r\n    var valueList = []; //保存待处理的值，结构为： name , value\r\n    var data = {}; //返回结果的json数组\r\n\r\n    var type1List = new Array();\r\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='color']\")));\r\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='date']\")));\r\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='datetime']\")));\r\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='datetime-local']\")));\r\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='email']\")));\r\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='hidden']\")));\r\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='month']\")));\r\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='number']\")));\r\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='password']\")));\r\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='range']\")));\r\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='search']\")));\r\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='tel']\")));\r\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='text']\")));\r\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='time']\")));\r\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='url']\")));\r\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='week']\")));\r\n    type1List = type1List.concat(nodeEach(formDom.querySelectorAll(\"input[type='radio']:checked\")));\r\n    for (var i = 0; type1List.length > i; i++) {\r\n        var dom = type1List[i];\r\n        var name = dom.getAttribute(\"name\"); //键名\r\n        var value = dom.value; //值\r\n        valueList.push({\r\n            name: name,\r\n            value: value\r\n        });\r\n\r\n    }\r\n\r\n    var type3List = formDom.querySelectorAll(\"input[type='checkbox']:checked\");\r\n    var existCheckbox = new Array();\r\n    for (var i = 0; type3List.length > i; i++) {\r\n        if (in_array(type3List[i].getAttribute(\"name\"), existCheckbox)) //判断是否已处理\r\n            continue;\r\n\r\n        var dom = type3List[i];\r\n\r\n        var name = dom.getAttribute(\"name\"); //键名\r\n        var value = dom.value; //值\r\n\r\n        var cache = {\r\n            name: name,\r\n            value: []\r\n        };\r\n\r\n        var l = formDom.querySelectorAll(\"input[type='checkbox'][name='\" + name + \"']:checked\");\r\n        for (var j = 0; l.length > j; j++) {\r\n            cache.value.push(l[j].value);\r\n        }\r\n        valueList.push(cache);\r\n\r\n    }\r\n\r\n    var type4List = formDom.querySelectorAll(\"select\");\r\n    for (var i = 0; type4List.length > i; i++) {\r\n        var name = type4List[i].getAttribute(\"name\"); //键名\r\n        var value = type4List[i].options[type4List[i].options.selectedIndex].getAttribute(\"value\"); //值\r\n        valueList.push({\r\n            name: name,\r\n            value: value\r\n        });\r\n\r\n    }\r\n\r\n    for (var i = 0; valueList.length > i; i++) {\r\n        var row = valueList[i];\r\n        var name = row.name;\r\n        if (!name) {\r\n            continue;\r\n        }\r\n        var value = row.value ? row.value : null;\r\n        var kArr = name.split(\"[\"); //是否是数组\r\n\r\n        var cDatas = \"data\";\r\n        for (var j = 0; j < kArr.length; j++) {\r\n            var cn = kArr[j].replace(/\\]/g, \"\").trim(); //去除右方括号\r\n            if (cn) {\r\n\r\n                if (!isNaN(cn)) {\r\n                    cDatas += \"[\" + cn + \"]\";\r\n                } else {\r\n                    cDatas += \".\" + cn;\r\n                }\r\n                if (eval(cDatas + \" == null\")) {\r\n                    eval(cDatas + \"= {};\");\r\n                }\r\n\r\n            } else { //追加\r\n                cDatas += \"[\" + eval(\"getJsonObjLength(\" + cDatas + \")\") + \"]\";\r\n                eval(cDatas + \" = {};\");\r\n            }\r\n        }\r\n\r\n        eval(cDatas + \" = value;\");\r\n\r\n    }\r\n    return data;\r\n}\r\n\r\nexport function debounce(func, wait, immediate) {\r\n    let timeout, args, context, timestamp, result\r\n\r\n    const later = function() {\r\n        // 据上一次触发时间间隔\r\n        const last = +new Date() - timestamp\r\n\r\n        // 上次被包装函数被调用时间间隔last小于设定时间间隔wait\r\n        if (last < wait && last > 0) {\r\n            timeout = setTimeout(later, wait - last)\r\n        } else {\r\n            timeout = null\r\n                // 如果设定为immediate===true，因为开始边界已经调用过了此处无需调用\r\n            if (!immediate) {\r\n                result = func.apply(context, args)\r\n                if (!timeout) context = args = null\r\n            }\r\n        }\r\n    }\r\n\r\n    return function(...args) {\r\n        context = this\r\n        timestamp = +new Date()\r\n        const callNow = immediate && !timeout\r\n            // 如果延时不存在，重新设定延时\r\n        if (!timeout) timeout = setTimeout(later, wait)\r\n        if (callNow) {\r\n            result = func.apply(context, args)\r\n            context = args = null\r\n        }\r\n\r\n        return result\r\n    }\r\n}\r\n\r\n// 时间坐标轴计算\r\nexport function dateCalcRound(date) {\r\n    let isTimeRange = date.split(\",\"); // 是否传入开始结束时间还是指传时间值\r\n    let xAxis = [];\r\n    if (isTimeRange.length === 1) {\r\n        let temp = date.split(\"-\");\r\n        switch (temp.length) {\r\n            case 1: // 月\r\n                for (let i = 1; i < 13; i++) {\r\n                    xAxis.push(date + \"-\" + (i < 10 ? \"0\" + i : i));\r\n                }\r\n                break;\r\n            case 2: // 日\r\n                for (let i = 1, len = new Date(temp[0], temp[1] + 1, 0).getDate(); i < len; i++) {\r\n                    xAxis.push(date + \"-\" + (i < 10 ? \"0\" + i : i));\r\n                }\r\n                break;\r\n            case 3: // 小时\r\n                for (let i = 0; i < 24; i++) {\r\n                    xAxis.push(date + \" \" + (i < 10 ? \"0\" + i : i) + \":00\");\r\n                }\r\n                break;\r\n        }\r\n    } else if (isTimeRange.length > 1) {\r\n        let temp0 = isTimeRange[0].split(\"-\");\r\n        let temp1 = isTimeRange[1].split(\"-\");\r\n        if (temp0.length !== temp1.length) {\r\n            console.warn(\"开始结束时间格式不对等。\");\r\n            return [];\r\n        }\r\n        switch (temp0.length) {\r\n            case 1: // 年\r\n                for (let i = parseInt(temp0); i <= parseInt(temp1) + 1; i++) {\r\n                    xAxis.push(i.toString());\r\n                }\r\n                break;\r\n            case 2: // 月\r\n                let i = isTimeRange[0];\r\n                xAxis.push(i);\r\n                do {\r\n                    i = formatTime(calcTime(i, 1, 5), \"YYYY-MM\");\r\n                    xAxis.push(i);\r\n                } while (i !== isTimeRange[1])\r\n                // for (let i = temp0; i == temp[1]; i = formatTime(new Date(temp[0], temp0[1] + 1), \"YYYY-MM\")) {\r\n                //     xAxis.push(temp0);\r\n                // }\r\n                break;\r\n            case 3: // 日\r\n                for (let i = isTimeRange[0]; i !== isTimeRange[1]; i = formatTime(calcTime(i, 1, 3), \"YYYY-MM-DD\")) {\r\n                    xAxis.push(i);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    return xAxis;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/index.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cbc01824\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./dialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./dialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cbc01824\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./dialog.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/base/dialog.vue\n// module id = aGyw\n// module chunks = 57","\nimport Vue from 'vue'\n\nfunction DataTransfer(data) {\n    if (!(this instanceof DataTransfer)) {\n        return new DataTransfer(data, null, null)\n    }\n}\n\nDataTransfer.treeToArray = function (data, parent, level, expandedAll) {\n    let tmp = []\n    Array.from(data).forEach(function (record) {\n        if (record._expanded === undefined) {\n            Vue.set(record, '_expanded', expandedAll)\n        }\n        if (parent) {\n            Vue.set(record, '_parent', parent)\n        }\n        let _level = 0\n        if (level !== undefined && level !== null) {\n            _level = level + 1\n        }\n        Vue.set(record, '_level', _level)\n        tmp.push(record)\n        if (record.children && record.children.length > 0) {\n            let children = DataTransfer.treeToArray(record.children, record, _level, expandedAll)\n            tmp = tmp.concat(children)\n        }\n    })\n    return tmp\n}\n\nexport default { DataTransfer }\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/dataTranslate/dataTranslate.js","import Vue from 'vue'\r\nimport echarts from 'echarts'\r\nimport axios from './http.js'\r\nimport ruleType from \"./validate.js\"\r\n\r\nimport vloading from '@/components/base/vLoading/index.js'\r\nimport table from '@/components/base/table.vue'\r\nimport select from '@/components/base/select.vue'\r\nimport selectTree from '@/components/base/selectTree.vue'\r\nimport treeGrid from '@/components/base/TreeGrid.vue'\r\nimport tree from '@/components/base/tree.vue'\r\nimport myTransfer from \"@/components/base/myTransfer.vue\"\r\nimport dialog from \"@/components/base/dialog.vue\"\r\nimport time from \"@/components/base/dateTime.vue\"\r\nimport echart from \"@/components/base/echarts.vue\"\r\nimport upload from \"@/components/base/fileUpload.vue\"\r\n// 布局\r\nimport managePage from \"@/components/pageLayout/manage.vue\"\r\n// 分析平台布局\r\nimport panel from \"@/components/pageLayout/panel.vue\"\r\nimport equalHeightPanel from \"@/components/pageLayout/equalHeightPanel.vue\"\r\nimport timeSelect from \"@/components/analysis/timeSelect.vue\"\r\nimport timeRangeSelect from \"@/components/analysis/timeRangeSelect.vue\"\r\nimport radioSelect from \"@/components/analysis/radioSelect.vue\"\r\nimport radioBlock from \"@/components/analysis/radioBlock.vue\"\r\nimport lineChart from \"@/components/analysis/lineChart.vue\"\r\nimport gaugeChart from \"@/components/analysis/gaugeChart.vue\"\r\nimport pieChart from \"@/components/analysis/pieChart.vue\"\r\nimport analysisPanel from \"@/components/analysis/analysis.vue\"\r\n\r\n// Vue.component(vloading.name, vloading) // loading组件\r\n// Vue.prototype.$vLoading = vloading // 使用$vLoading方法调用组件,传入一个target\r\n// Vue.$vLoading = vloading;\r\nVue.use(vloading)\r\n\r\nimport {\r\n    getCookie,\r\n    setCookie,\r\n    delCookie,\r\n    varType,\r\n    extend,\r\n    deepCopy,\r\n    formatTime,\r\n    each\r\n} from './util'\r\n// XXX 跳转到登录界面\r\nVue.prototype.homePage = \"https://\" + location.hostname + \":8443/urp/login.html\";\r\n\r\nVue.prototype.getCookie = getCookie;\r\nVue.prototype.setCookie = setCookie;\r\nVue.prototype.delCookie = delCookie;\r\nVue.prototype.$echarts = echarts;\r\nVue.prototype.$moment = formatTime;\r\nVue.prototype.$each = each;\r\nVue.prototype.$ajax = axios; //设置全局的请求,子组件使用this.$ajax去发送请求;\r\n\r\nconst STANDARDtIMEFORMAT = [\"YYYY\", \"MM\", \"DD\", \"HH\", \"mm\", \"ss\"];\r\n\r\nvar success1 = function() {\r\n        console.log('success');\r\n    },\r\n    er1 = function() {\r\n        console.log('err');\r\n    }\r\n\r\nVue.prototype.$alertMsg = function(msg, title, type = 'success', success, err) {\r\n    if (success === undefined) {\r\n        success = success1\r\n    }\r\n    if (err === undefined) {\r\n        err = er1\r\n    }\r\n    this.$confirm(msg, title, {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: type\r\n    }).then(() => {\r\n        success()\r\n    }).catch(() => {\r\n        err()\r\n    });\r\n}\r\nVue.prototype.$showMsg = function(msg, title, type = 'success') {\r\n    this.$notify({\r\n        title: title,\r\n        message: msg,\r\n        type: type\r\n    });\r\n};\r\n//注册全局组件\r\nVue.component('da-table', table);\r\nVue.component('da-select-tree', selectTree);\r\nVue.component('da-select', select);\r\nVue.component('da-treeGrid', treeGrid);\r\nVue.component('da-tree', tree);\r\nVue.component('da-transfer', myTransfer);\r\nVue.component('da-dialog', dialog);\r\nVue.component('da-time', time);\r\nVue.component('da-echart', echart);\r\nVue.component('da-manage-page', managePage);\r\nVue.component('da-upload', upload);\r\n// 分析平台\r\nVue.component('da-panel', panel);\r\nVue.component('da-equal-panel', equalHeightPanel);\r\nVue.component('da-time-select', timeSelect);\r\nVue.component('da-time-range', timeRangeSelect);\r\nVue.component('da-radio-select', radioSelect);\r\nVue.component('da-radio-block', radioBlock);\r\nVue.component('da-line-chart', lineChart);\r\nVue.component('da-gauge-chart', gaugeChart);\r\nVue.component('da-pie-chart', pieChart);\r\nVue.component('da-analysis-panel', analysisPanel);\r\n\r\n\r\n//调用子组件中的方法\r\nVue.prototype.$invokeSubMethod = function(method, subComponents, data) {\r\n    var arr = data;\r\n    if (!(data instanceof Array)) {\r\n        arr = [data];\r\n    }\r\n    return this.$refs[subComponents][method].apply(this, arr);\r\n}\r\n\r\n//普通字符转换为任意符\r\nVue.prototype.html2Escape = function(sHtml) {\r\n    if (sHtml !== 0 && !sHtml || sHtml.length === 0) {\r\n        return \"\";\r\n    }\r\n    return sHtml.replace(/[<>&\"]/g, function(c) {\r\n        return {\r\n            '<': '&lt;',\r\n            '>': '&gt;',\r\n            '&': '&amp;',\r\n            '\"': '&quot;'\r\n        }[c];\r\n    });\r\n}\r\n\r\n//任意符转换为普通字符\r\nVue.prototype.escape2Html = function(str) {\r\n    if (str !== 0 && !str || str.length === 0) {\r\n        return \"\";\r\n    }\r\n    var arrEntities = {\r\n        'lt': '<',\r\n        'gt': '>',\r\n        'nbsp': ' ',\r\n        'amp': '&',\r\n        'quot': '\"'\r\n    };\r\n    return str.replace(/&(lt|gt|nbsp|amp|quot);/ig, function(all, t) {\r\n        return arrEntities[t];\r\n    });\r\n}\r\n\r\nVue.prototype.eachValidate = function(obj) {\r\n    var rules = {};\r\n    for (name in obj) {\r\n        rules[name] = this.validation(obj[name]);\r\n    }\r\n    return rules;\r\n}\r\n\r\n//表单验证\r\nVue.prototype.validation = function(ruleObj) {\r\n    var rules = [],\r\n        rule;\r\n\r\n    for (name in ruleObj) {\r\n        // if (ruleObj[name]) {\r\n        let item = {},\r\n            ruleIsBaseData = false;\r\n\r\n        if (varType(ruleType[name]) === \"object\") {\r\n            item = deepCopy(ruleType[name]);\r\n        }\r\n\r\n        if (varType(ruleObj[name]) === \"object\") {\r\n            extend(item, ruleObj[name]);\r\n        } else if (varType(ruleObj[name]) === \"function\") {\r\n            extend(item, {\r\n                \"validator\": ruleObj[name]\r\n            });\r\n        } else if (varType(ruleObj[name]) === \"array\" || varType(ruleObj[name]) !== \"boolean\") {\r\n            extend(item, {\r\n                \"data\": ruleObj[name]\r\n            });\r\n        }\r\n        // XXX 对原来存在的验证及规则重写比较麻烦，故一些基本也自定义\r\n        // else if (varType(ruleObj[name]) === \"array\" || (ruleIsBaseData = typeof ruleObj[name] !== \"object\")) {\r\n        //     let objItem = {};\r\n        //     //基本数据类型\r\n        //     if (ruleIsBaseData) {\r\n        //         objItem[name] = ruleObj[name];\r\n        //     } else {\r\n\r\n        //     }\r\n        //     extend(item, objItem);\r\n        // }\r\n        rules.push(item);\r\n        // }\r\n    }\r\n    return rules;\r\n}\r\nVue.prototype.chartNoData = () => {\r\n    return \"暂无数据\"\r\n}\r\n\r\nVue.directive(\"drag\", {\r\n    bind: function(el, binding) {\r\n        let oDiv = binding.value ? el.getElementsByClassName(binding.value)[0] : el,\r\n            self = this;\r\n        oDiv.onmousedown = function(e) {\r\n            let disX = e.clientX - oDiv.offsetLeft,\r\n                disY = e.clientY - oDiv.offsetTop;\r\n            document.onmousemove = function(e) {\r\n                //通过事件委托，计算移动的距离 \r\n                let l = e.clientX - disX;\r\n                let t = e.clientY - disY;\r\n                //移动当前元素  \r\n                oDiv.style.left = l + 'px';\r\n                oDiv.style.top = t + 'px';\r\n                //将此时的位置传出去\r\n                // binding.value({ x: e.pageX, y: e.pageY })\r\n            };\r\n            document.onmouseup = function(e) {\r\n                document.onmousemove = null;\r\n                document.onmouseup = null;\r\n            };\r\n        }\r\n    }\r\n});\r\nexport default Vue;\n\n\n// WEBPACK FOOTER //\n// ./src/util/vueutil.js","/*!\n * UEditor\n * version: ueditor\n * build: Wed Aug 10 2016 11:06:19 GMT+0800 (CST)\n */\n\n!function(){!function(){UE=window.UE||{};var a=!!window.ActiveXObject,b={removeLastbs:function(a){return a.replace(/\\/$/,\"\")},extend:function(a,b){for(var c=arguments,d=!!this.isBoolean(c[c.length-1])&&c[c.length-1],e=this.isBoolean(c[c.length-1])?c.length-1:c.length,f=1;f<e;f++){var g=c[f];for(var h in g)d&&a.hasOwnProperty(h)||(a[h]=g[h])}return a},isIE:a,cssRule:a?function(a,b,c){var d,e;c=c||document,d=c.indexList?c.indexList:c.indexList={};var f;if(d[a])f=c.styleSheets[d[a]];else{if(void 0===b)return\"\";f=c.createStyleSheet(\"\",e=c.styleSheets.length),d[a]=e}return void 0===b?f.cssText:void(f.cssText=f.cssText+\"\\n\"+(b||\"\"))}:function(a,b,c){c=c||document;var d,e=c.getElementsByTagName(\"head\")[0];if(!(d=c.getElementById(a))){if(void 0===b)return\"\";d=c.createElement(\"style\"),d.id=a,e.appendChild(d)}return void 0===b?d.innerHTML:void(\"\"!==b?d.innerHTML=d.innerHTML+\"\\n\"+b:e.removeChild(d))},domReady:function(b){var c=window.document;\"complete\"===c.readyState?b():a?(!function(){if(!c.isReady){try{c.documentElement.doScroll(\"left\")}catch(a){return void setTimeout(arguments.callee,0)}b()}}(),window.attachEvent(\"onload\",function(){b()})):(c.addEventListener(\"DOMContentLoaded\",function(){c.removeEventListener(\"DOMContentLoaded\",arguments.callee,!1),b()},!1),window.addEventListener(\"load\",function(){b()},!1))},each:function(a,b,c){if(null!=a)if(a.length===+a.length){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a)===!1)return!1}else for(var f in a)if(a.hasOwnProperty(f)&&b.call(c,a[f],f,a)===!1)return!1},inArray:function(a,b){var c=-1;return this.each(a,function(a,d){if(a===b)return c=d,!1}),c},pushItem:function(a,b){this.inArray(a,b)==-1&&a.push(b)},trim:function(a){return a.replace(/(^[ \\t\\n\\r]+)|([ \\t\\n\\r]+$)/g,\"\")},indexOf:function(a,b,c){var d=-1;return c=this.isNumber(c)?c:0,this.each(a,function(a,e){if(e>=c&&a===b)return d=e,!1}),d},hasClass:function(a,b){b=b.replace(/(^[ ]+)|([ ]+$)/g,\"\").replace(/[ ]{2,}/g,\" \").split(\" \");for(var c,d=0,e=a.className;c=b[d++];)if(!new RegExp(\"\\\\b\"+c+\"\\\\b\",\"i\").test(e))return!1;return d-1==b.length},addClass:function(a,c){if(a){c=this.trim(c).replace(/[ ]{2,}/g,\" \").split(\" \");for(var d,e=0,f=a.className;d=c[e++];)new RegExp(\"\\\\b\"+d+\"\\\\b\").test(f)||(f+=\" \"+d);a.className=b.trim(f)}},removeClass:function(a,b){b=this.isArray(b)?b:this.trim(b).replace(/[ ]{2,}/g,\" \").split(\" \");for(var c,d=0,e=a.className;c=b[d++];)e=e.replace(new RegExp(\"\\\\b\"+c+\"\\\\b\"),\"\");e=this.trim(e).replace(/[ ]{2,}/g,\" \"),a.className=e,!e&&a.removeAttribute(\"className\")},on:function(a,c,d){var e=this.isArray(c)?c:c.split(/\\s+/),f=e.length;if(f)for(;f--;)if(c=e[f],a.addEventListener)a.addEventListener(c,d,!1);else{d._d||(d._d={els:[]});var g=c+d.toString(),h=b.indexOf(d._d.els,a);d._d[g]&&h!=-1||(h==-1&&d._d.els.push(a),d._d[g]||(d._d[g]=function(a){return d.call(a.srcElement,a||window.event)}),a.attachEvent(\"on\"+c,d._d[g]))}a=null},off:function(a,c,d){var e=this.isArray(c)?c:c.split(/\\s+/),f=e.length;if(f)for(;f--;)if(c=e[f],a.removeEventListener)a.removeEventListener(c,d,!1);else{var g=c+d.toString();try{a.detachEvent(\"on\"+c,d._d?d._d[g]:d)}catch(h){}if(d._d&&d._d[g]){var i=b.indexOf(d._d.els,a);i!=-1&&d._d.els.splice(i,1),0==d._d.els.length&&delete d._d[g]}}},loadFile:function(){function a(a,c){try{for(var d,e=0;d=b[e++];)if(d.doc===a&&d.url==(c.src||c.href))return d}catch(f){return null}}var b=[];return function(c,d,e){var f=a(c,d);if(f)return void(f.ready?e&&e():f.funs.push(e));if(b.push({doc:c,url:d.src||d.href,funs:[e]}),!c.body){var g=[];for(var h in d)\"tag\"!=h&&g.push(h+'=\"'+d[h]+'\"');return void c.write(\"<\"+d.tag+\" \"+g.join(\" \")+\" ></\"+d.tag+\">\")}if(!d.id||!c.getElementById(d.id)){var i=c.createElement(d.tag);delete d.tag;for(var h in d)i.setAttribute(h,d[h]);i.onload=i.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){if(f=a(c,d),f.funs.length>0){f.ready=1;for(var b;b=f.funs.pop();)b()}i.onload=i.onreadystatechange=null}},i.onerror=function(){throw Error(\"The load \"+(d.href||d.src)+\" fails,check the url\")},c.getElementsByTagName(\"head\")[0].appendChild(i)}}}()};b.each([\"String\",\"Function\",\"Array\",\"Number\",\"RegExp\",\"Object\",\"Boolean\"],function(a){b[\"is\"+a]=function(b){return Object.prototype.toString.apply(b)==\"[object \"+a+\"]\"}});var c={};UE.parse={register:function(a,b){c[a]=b},load:function(a){b.each(c,function(c){c.call(a,b)})}},uParse=function(a,c){b.domReady(function(){var d;if(document.querySelectorAll)d=document.querySelectorAll(a);else if(/^#/.test(a))d=[document.getElementById(a.replace(/^#/,\"\"))];else if(/^\\./.test(a)){var d=[];b.each(document.getElementsByTagName(\"*\"),function(b){b.className&&new RegExp(\"\\\\b\"+a.replace(/^\\./,\"\")+\"\\\\b\",\"i\").test(b.className)&&d.push(b)})}else d=document.getElementsByTagName(a);b.each(d,function(d){UE.parse.load(b.extend({root:d,selector:a},c))})})}}(),UE.parse.register(\"insertcode\",function(a){var b=this.root.getElementsByTagName(\"pre\");if(b.length)if(\"undefined\"==typeof XRegExp){var c,d;void 0!==this.rootPath?(c=a.removeLastbs(this.rootPath)+\"/third-party/SyntaxHighlighter/shCore.js\",d=a.removeLastbs(this.rootPath)+\"/third-party/SyntaxHighlighter/shCoreDefault.css\"):(c=this.highlightJsUrl,d=this.highlightCssUrl),a.loadFile(document,{id:\"syntaxhighlighter_css\",tag:\"link\",rel:\"stylesheet\",type:\"text/css\",href:d}),a.loadFile(document,{id:\"syntaxhighlighter_js\",src:c,tag:\"script\",type:\"text/javascript\",defer:\"defer\"},function(){a.each(b,function(a){a&&/brush/i.test(a.className)&&SyntaxHighlighter.highlight(a)})})}else a.each(b,function(a){a&&/brush/i.test(a.className)&&SyntaxHighlighter.highlight(a)})}),UE.parse.register(\"table\",function(a){function b(b,c){var d,e=b;for(c=a.isArray(c)?c:[c];e;){for(d=0;d<c.length;d++)if(e.tagName==c[d].toUpperCase())return e;e=e.parentNode}return null}function c(b,c,e){for(var f=b.rows,g=[],h=\"TH\"===f[0].cells[0].tagName,i=0,j=0,k=f.length;j<k;j++)g[j]=f[j];var l={reversecurrent:function(a,b){return 1},orderbyasc:function(a,b){var c=a.innerText||a.textContent,d=b.innerText||b.textContent;return c.localeCompare(d)},reversebyasc:function(a,b){var c=a.innerHTML,d=b.innerHTML;return d.localeCompare(c)},orderbynum:function(b,c){var d=b[a.isIE?\"innerText\":\"textContent\"].match(/\\d+/),e=c[a.isIE?\"innerText\":\"textContent\"].match(/\\d+/);return d&&(d=+d[0]),e&&(e=+e[0]),(d||0)-(e||0)},reversebynum:function(b,c){var d=b[a.isIE?\"innerText\":\"textContent\"].match(/\\d+/),e=c[a.isIE?\"innerText\":\"textContent\"].match(/\\d+/);return d&&(d=+d[0]),e&&(e=+e[0]),(e||0)-(d||0)}};b.setAttribute(\"data-sort-type\",e&&\"string\"==typeof e&&l[e]?e:\"\"),h&&g.splice(0,1),g=d(g,function(a,b){var d;return d=e&&\"function\"==typeof e?e.call(this,a.cells[c],b.cells[c]):e&&\"number\"==typeof e?1:e&&\"string\"==typeof e&&l[e]?l[e].call(this,a.cells[c],b.cells[c]):l.orderbyasc.call(this,a.cells[c],b.cells[c])});for(var m=b.ownerDocument.createDocumentFragment(),n=0,k=g.length;n<k;n++)m.appendChild(g[n]);var o=b.getElementsByTagName(\"tbody\")[0];i?o.insertBefore(m,f[i-range.endRowIndex+range.beginRowIndex-1]):o.appendChild(m)}function d(a,b){b=b||function(a,b){return a.localeCompare(b)};for(var c=0,d=a.length;c<d;c++)for(var e=c,f=a.length;e<f;e++)if(b(a[c],a[e])>0){var g=a[c];a[c]=a[e],a[e]=g}return a}function e(b){if(!a.hasClass(b.rows[0],\"firstRow\")){for(var c=1;c<b.rows.length;c++)a.removeClass(b.rows[c],\"firstRow\");a.addClass(b.rows[0],\"firstRow\")}}var f=this,g=this.root,h=g.getElementsByTagName(\"table\");if(h.length){var i=this.selector;a.cssRule(\"table\",i+\" table.noBorderTable td,\"+i+\" table.noBorderTable th,\"+i+\" table.noBorderTable caption{border:1px dashed #ddd !important}\"+i+\" table.sortEnabled tr.firstRow th,\"+i+\" table.sortEnabled tr.firstRow td{padding-right:20px; background-repeat: no-repeat;background-position: center right; background-image:url(\"+this.rootPath+\"themes/default/images/sortable.png);}\"+i+\" table.sortEnabled tr.firstRow th:hover,\"+i+\" table.sortEnabled tr.firstRow td:hover{background-color: #EEE;}\"+i+\" table{margin-bottom:10px;border-collapse:collapse;display:table;}\"+i+\" td,\"+i+\" th{ background:white; padding: 5px 10px;border: 1px solid #DDD;}\"+i+\" caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}\"+i+\" th{border-top:1px solid #BBB;background:#F7F7F7;}\"+i+\" table tr.firstRow th{border-top:2px solid #BBB;background:#F7F7F7;}\"+i+\" tr.ue-table-interlace-color-single td{ background: #fcfcfc; }\"+i+\" tr.ue-table-interlace-color-double td{ background: #f7faff; }\"+i+\" td p{margin:0;padding:0;}\",document),a.each(\"td th caption\".split(\" \"),function(b){var c=g.getElementsByTagName(b);c.length&&a.each(c,function(a){a.firstChild||(a.innerHTML=\"&nbsp;\")})});var h=g.getElementsByTagName(\"table\");a.each(h,function(d){/\\bsortEnabled\\b/.test(d.className)&&a.on(d,\"click\",function(d){var g=d.target||d.srcElement,h=b(g,[\"td\",\"th\"]),i=b(g,\"table\"),j=a.indexOf(i.rows[0].cells,h),k=i.getAttribute(\"data-sort-type\");j!=-1&&(c(i,j,f.tableSortCompareFn||k),e(i))})})}}),UE.parse.register(\"charts\",function(a){function b(){return n?c(n):null}function c(a){for(var b,c=[],e=a.getElementsByTagName(\"table\"),f=0;b=e[f];f++)null!==b.getAttribute(\"data-chart\")&&c.push(d(b));return c.length?c:null}function d(a){for(var b,c=a.getAttribute(\"data-chart\"),d={},e=[],f=0;b=a.rows[f];f++){for(var g,h=[],i=0;g=b.cells[i];i++){var j=g.innerText||g.textContent||\"\";h.push(\"TH\"==g.tagName?j:0|j)}e.push(h)}c=c.split(\";\");for(var k,f=0;k=c[f];f++)k=k.split(\":\"),d[k[0]]=k[1];return{table:a,meta:d,data:e}}function e(){f()}function f(){window.jQuery?g():a.loadFile(document,{src:m+\"/third-party/jquery-1.10.2.min.js\",tag:\"script\",type:\"text/javascript\",defer:\"defer\"},function(){g()})}function g(){window.Highcharts?h():a.loadFile(document,{src:m+\"/third-party/highcharts/highcharts.js\",tag:\"script\",type:\"text/javascript\",defer:\"defer\"},function(){h()})}function h(){a.loadFile(document,{src:m+\"/dialogs/charts/chart.config.js\",tag:\"script\",type:\"text/javascript\",defer:\"defer\"},function(){i()})}function i(){for(var a=null,b=null,c=null,d=0,e=o.length;d<e;d++)a=o[d],b=l(a),c=k(a.table),j(c,typeConfig[a.meta.chartType],b)}function j(a,b,c){$(a).highcharts($.extend({},b,{credits:{enabled:!1},exporting:{enabled:!1},title:{text:c.title,x:-20},subtitle:{text:c.subTitle,x:-20},xAxis:{title:{text:c.xTitle},categories:c.categories},yAxis:{title:{text:c.yTitle},plotLines:[{value:0,width:1,color:\"#808080\"}]},tooltip:{enabled:!0,valueSuffix:c.suffix},legend:{layout:\"vertical\",align:\"right\",verticalAlign:\"middle\",borderWidth:1},series:c.series}))}function k(a){var b=document.createElement(\"div\");return b.className=\"edui-chart-container\",a.parentNode.replaceChild(b,a),b}function l(a){var b=[],c=[],d=[],e=a.data,f=a.meta;if(\"1\"!=f.dataFormat){for(var g=0,h=e.length;g<h;g++)for(var i=0,j=e[g].length;i<j;i++)d[i]||(d[i]=[]),d[i][g]=e[g][i];e=d}if(d={},f.chartType!=typeConfig.length-1){c=e[0].slice(1);for(var k,g=1;k=e[g];g++)b.push({name:k[0],data:k.slice(1)});d.series=b,d.categories=c,d.title=f.title,d.subTitle=f.subTitle,d.xTitle=f.xTitle,d.yTitle=f.yTitle,d.suffix=f.suffix}else{for(var k=[],g=1,h=e[0].length;g<h;g++)k.push([e[0][g],0|e[1][g]]);b[0]={type:\"pie\",name:f.tip,data:k},d.series=b,d.title=f.title,d.suffix=f.suffix}return d}a.cssRule(\"chartsContainerHeight\",\".edui-chart-container { height:\"+(this.chartContainerHeight||300)+\"px}\");var m=this.rootPath,n=this.root,o=null;m&&(o=b())&&e()}),UE.parse.register(\"background\",function(a){for(var b,c,d=this,e=d.root,f=e.getElementsByTagName(\"p\"),g=0;c=f[g++];)b=c.getAttribute(\"data-background\"),b&&c.parentNode.removeChild(c);b&&a.cssRule(\"ueditor_background\",d.selector+\"{\"+b+\"}\",document)}),UE.parse.register(\"list\",function(a){function b(b){var e=this;a.each(b,function(b){if(b.className&&/custom_/i.test(b.className)){var f=b.className.match(/custom_(\\w+)/)[1];if(\"dash\"==f||\"dot\"==f)a.pushItem(c,h+\" li.list-\"+d[f]+\"{background-image:url(\"+e.liiconpath+d[f]+\".gif)}\"),a.pushItem(c,h+\" ul.custom_\"+f+\"{list-style:none;} \"+h+\" ul.custom_\"+f+\" li{background-position:0 3px;background-repeat:no-repeat}\");else{var g=1;a.each(b.childNodes,function(b){\"LI\"==b.tagName&&(a.pushItem(c,h+\" li.list-\"+d[f]+g+\"{background-image:url(\"+e.liiconpath+\"list-\"+d[f]+g+\".gif)}\"),g++)}),a.pushItem(c,h+\" ol.custom_\"+f+\"{list-style:none;}\"+h+\" ol.custom_\"+f+\" li{background-position:0 3px;background-repeat:no-repeat}\")}switch(f){case\"cn\":a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-1{padding-left:25px}\"),a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-2{padding-left:40px}\"),a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-3{padding-left:55px}\");break;case\"cn1\":a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-1{padding-left:30px}\"),a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-2{padding-left:40px}\"),a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-3{padding-left:55px}\");break;case\"cn2\":a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-1{padding-left:40px}\"),a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-2{padding-left:55px}\"),a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-3{padding-left:68px}\");break;case\"num\":case\"num1\":a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-1{padding-left:25px}\");break;case\"num2\":a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-1{padding-left:35px}\"),a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft-2{padding-left:40px}\");break;case\"dash\":a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft{padding-left:35px}\");break;case\"dot\":a.pushItem(c,h+\" li.list-\"+f+\"-paddingleft{padding-left:20px}\")}}})}var c=[],d={cn:\"cn-1-\",cn1:\"cn-2-\",cn2:\"cn-3-\",num:\"num-1-\",num1:\"num-2-\",num2:\"num-3-\",dash:\"dash\",dot:\"dot\"};a.extend(this,{liiconpath:\"http://bs.baidu.com/listicon/\",listDefaultPaddingLeft:\"20\"});var e=this.root,f=e.getElementsByTagName(\"ol\"),g=e.getElementsByTagName(\"ul\"),h=this.selector;f.length&&b.call(this,f),g.length&&b.call(this,g),(f.length||g.length)&&(c.push(h+\" .list-paddingleft-1{padding-left:0}\"),c.push(h+\" .list-paddingleft-2{padding-left:\"+this.listDefaultPaddingLeft+\"px}\"),c.push(h+\" .list-paddingleft-3{padding-left:\"+2*this.listDefaultPaddingLeft+\"px}\"),a.cssRule(\"list\",h+\" ol,\"+h+\" ul{margin:0;padding:0;}li{clear:both;}\"+c.join(\"\\n\"),document))}),UE.parse.register(\"vedio\",function(a){var b=this.root.getElementsByTagName(\"video\"),c=this.root.getElementsByTagName(\"audio\");if(document.createElement(\"video\"),document.createElement(\"audio\"),b.length||c.length){var d=a.removeLastbs(this.rootPath),e=d+\"/third-party/video-js/video.js\",f=d+\"/third-party/video-js/video-js.min.css\",g=d+\"/third-party/video-js/video-js.swf\";window.videojs?videojs.autoSetup():(a.loadFile(document,{id:\"video_css\",tag:\"link\",rel:\"stylesheet\",type:\"text/css\",href:f}),a.loadFile(document,{id:\"video_js\",src:e,tag:\"script\",type:\"text/javascript\"},function(){videojs.options.flash.swf=g,videojs.autoSetup()}))}})}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/scripts/utf8-jsp/ueditor.parse.min.js\n// module id = alkQ\n// module chunks = 57","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-44400d7e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./dateTime.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./dateTime.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-44400d7e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./dateTime.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-44400d7e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/base/dateTime.vue\n// module id = bmGs\n// module chunks = 57","<template>\r\n  <div class=\"panel\" :style=\"{width:width,margin: margin,padding: padValue, 'min-width': minWidth}\">\r\n    <slot name=\"head\">\r\n      <div class=\"panel-head\" v-if=\"!noHead\">\r\n        <h4 v-if=\"icon||title\" class=\"panel-title\">\r\n          <i v-if=\"icon\" :class=\"icon\"></i>{{title}}</h4>\r\n        <div class=\"panel-search\">\r\n          <slot name=\"search\"></slot>\r\n        </div>\r\n      </div>\r\n    </slot>\r\n    <div class=\"panel-body clearfix\" :style=\"{height:height,'max-height':maxHeight,padding: padContValue,'min-height':minHeight,'border': border?'1px solid #78adfe':false, overflow:overflow}\" v-loading=\"isLoading\">\r\n      <slot></slot>\r\n    </div>\r\n    <div class=\"panel-footer\">\r\n      <slot name=\"footer\"></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: {\r\n      type: String\r\n    },\r\n    icon: {\r\n      type: String\r\n    },\r\n    width: {\r\n      type: String,\r\n      default: \"100%\"\r\n    },\r\n    minWidth: {\r\n      type: String\r\n    },\r\n    border: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    height: {\r\n      type: String\r\n    },\r\n    maxHeight: {\r\n      type: String\r\n    },\r\n    minHeight: {\r\n      type: String\r\n      // default: \"50px\"\r\n    },\r\n    padding: {\r\n      type: String,\r\n      default: \"\" // trbl l左r右t上b下加padding值\r\n    },\r\n    // padding: {\r\n    //   type: String,\r\n    //   default: \"10px 0\"\r\n    // },\r\n    paddingContent: {\r\n      type: String,\r\n      default: \"\" // trbl l左r右t上b下加padding值\r\n    },\r\n    margin: {\r\n      type: String,\r\n      default: \"0\"\r\n    },\r\n    overflow: {\r\n      type: String,\r\n      default: \"visible\"\r\n    },\r\n    noHead: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: false\r\n    };\r\n  },\r\n  computed: {\r\n    // 设值值\r\n    padValue() {\r\n      return this.setPad(this.padding);\r\n    },\r\n    padContValue() {\r\n      return this.setPad(this.paddingContent);\r\n    }\r\n  },\r\n  methods: {\r\n    setPad(padV) {\r\n      return [\"t\", \"r\", \"b\", \"l\"]\r\n        .map(item => {\r\n          if (padV.indexOf(item) === -1) {\r\n            return 0;\r\n          } else {\r\n            return \"10px\";\r\n          }\r\n        })\r\n        .join(\" \");\r\n    },\r\n    openLoading() {\r\n      this.isLoading = true;\r\n    },\r\n    closeLoading() {\r\n      this.isLoading = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.panel {\r\n  /* margin: 0 10px; */\r\n  float: left;\r\n}\r\n.panel-head {\r\n  display: flex;\r\n  align-items: flex-end;\r\n  border-bottom: 3px solid #d5e8ff;\r\n}\r\n\r\n.panel-title {\r\n  font-size: 16px;\r\n  border-bottom: 3px solid #569cf1;\r\n  margin-bottom: -3px;\r\n  padding-right: 5px;\r\n  width: auto;\r\n}\r\n.panel-title i {\r\n  margin-right: 5px;\r\n  font-weight: bold;\r\n}\r\n.panel-search {\r\n  flex: 1;\r\n  text-align: right;\r\n  margin-bottom: 3px;\r\n}\r\n.panel-head + .panel-body {\r\n  margin: 3px 0 0;\r\n}\r\n/* .panel-body { */\r\n/* padding: 15px 10px; */\r\n/* overflow: auto; */\r\n/* } */\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/pageLayout/panel.vue?1f2b348c","<template>\r\n  <div class=\"sys_echart\" :id=\"id\" :style=\"echartStyle\" @click=\"selectedEchart\" @resize=\"handleResize\"></div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { randomUUID } from \"@/util/util.js\";\r\nexport default {\r\n  props: {\r\n    data: {\r\n      type: Object\r\n    },\r\n    css: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          width: \"100%\",\r\n          height: \"350px\"\r\n        };\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    echartStyle: {\r\n      get() {\r\n        var html = \"\";\r\n        for (let key in this.css) {\r\n          html += key + \":\" + this.css[key] + \";\";\r\n        }\r\n        return html;\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      id: \"echart_\" + randomUUID(),\r\n      myChart: {}\r\n    };\r\n  },\r\n  mounted() {\r\n    this.myChart = this.$echarts.init(document.getElementById(this.id));\r\n    var option = {\r\n      title: {\r\n        text: \"用能趋势图\"\r\n      },\r\n      tooltip: {},\r\n      legend: {\r\n        data: [\"销量\"]\r\n      },\r\n      xAxis: {\r\n        data: [\"衬衫\", \"羊毛衫\", \"雪纺衫\", \"裤子\", \"高跟鞋\", \"袜子\"]\r\n      },\r\n      yAxis: {},\r\n      series: [\r\n        {\r\n          name: \"销量\",\r\n          type: \"bar\",\r\n          data: [5, 20, 36, 10, 10, 20]\r\n        }\r\n      ]\r\n    };\r\n\r\n    // 使用刚指定的配置项和数据显示图表。\r\n    this.myChart.setOption(option);\r\n  },\r\n  methods: {\r\n    selectedEchart() {\r\n      console.log(this.id);\r\n    },\r\n    handleResize() {\r\n      this.myChart.resize();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/base/echarts.vue?7506579a","const app = {\r\n    state: {\r\n        userInfo: JSON.parse(localStorage.getItem(\"userInfo\") || \"{}\"),\r\n        tabs: JSON.parse(localStorage.getItem(\"tabs\") || \"[]\"),\r\n        isloading: 0, //0 不显示，1全屏loading,2main-loading\r\n        platRoute: []\r\n    },\r\n    mutations: {\r\n        setUserInfo(state, payload) {\r\n            state.userInfo = payload;\r\n            localStorage.setItem(\"userInfo\", JSON.stringify(state.userInfo)); // 将点击的菜单推入到tabs本地缓存\r\n        },\r\n        addTab(state, payload) {\r\n            // 判断是否已经添加了\r\n            if (!state.tabs.some(item => {\r\n                    return item.path === payload.path;\r\n                })) {\r\n                state.tabs.push({\r\n                    name: payload.meta.name || payload.name,\r\n                    path: payload.path,\r\n                    type: payload.meta.type,\r\n                    id: payload.meta.id.toString() || payload.path,\r\n                    noClose: payload.meta.noClose\r\n                });\r\n                localStorage.setItem(\"tabs\", JSON.stringify(state.tabs)); // 将点击的菜单推入到tabs本地缓存\r\n            }\r\n        },\r\n        removeTab(state, payload) {\r\n            for (let i = 0, len = state.tabs.length; i < len; i++) {\r\n                if (state.tabs[i].path === payload.path) {\r\n                    state.tabs.splice(i, 1);\r\n                    localStorage.setItem(\"tabs\", JSON.stringify(state.tabs)); // 将点击的菜单推入到tabs本地缓存\r\n                    break;\r\n                }\r\n            }\r\n        },\r\n        clearTabs(state) {\r\n            state.tabs = [];\r\n            localStorage.setItem(\"tabs\", []);\r\n        },\r\n        setPlat(state, payload) {\r\n            state.platRoute = payload;\r\n        },\r\n        setLoading(state, payload) {\r\n            state.isloading = payload;\r\n            setTimeout(() => {\r\n                if (state.isloading) {\r\n                    state.isloading = false;\r\n                }\r\n            }, 20000)\r\n        }\r\n    },\r\n    actions: {}\r\n\r\n}\r\nexport default app\n\n\n// WEBPACK FOOTER //\n// ./src/store/app.js","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./pieChart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0769a9ad\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./pieChart.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/analysis/pieChart.vue\n// module id = giTt\n// module chunks = 57","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-438dc696\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./panel.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./panel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-438dc696\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./panel.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-438dc696\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pageLayout/panel.vue\n// module id = gzMA\n// module chunks = 57","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-upload', {\n    attrs: {\n      \"action\": _vm.action,\n      \"on-success\": _vm.handleChange,\n      \"on-remove\": _vm.handleRemove,\n      \"file-list\": _vm.mailFileList,\n      \"accept\": _vm.accept\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\"点击上传\")])], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-3d87207a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/base/fileUpload.vue\n// module id = jCdM\n// module chunks = 57","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-c0e0d0a0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = jLBv\n// module chunks = 57","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: _vm.className,\n    style: ({\n      height: _vm.height,\n      width: _vm.width\n    }),\n    attrs: {\n      \"id\": _vm.id\n    }\n  })\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-0769a9ad\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/analysis/pieChart.vue\n// module id = kWqY\n// module chunks = 57","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-420f0935\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./page.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./page.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-420f0935\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./page.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-420f0935\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/base/page.vue\n// module id = mDaC\n// module chunks = 57","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('transition', {\n    attrs: {\n      \"name\": \"loading\"\n    },\n    on: {\n      \"after-leave\": _vm.handleAfterLeave\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.visible),\n      expression: \"visible\"\n    }],\n    staticClass: \"loading-mask\",\n    class: {\n      'fullscreen': _vm.fullscreen\n    }\n  }, [_c('div', {\n    staticClass: \"loading\"\n  }, [_vm._v(\"\\n            ...\\n        \")]), _vm._v(\" \"), (_vm.text) ? _c('div', {\n    staticClass: \"loading-text\"\n  }, [_vm._v(\"\\n            \" + _vm._s(_vm.text) + \"\\n        \")]) : _vm._e()])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-e5682b8e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/base/vLoading/vLoading.vue\n// module id = mWET\n// module chunks = 57","<template>\r\n  <div class=\"inblock\">\r\n    <el-radio-group v-show=\"visibleType\" class=\"ts-radio\" v-model=\"type\" @change=\"changeHandle\">\r\n      <el-radio-button v-for=\"(item, index) in showTime\" :key=\"index\" :label=\"item\">{{riadoList[item.toString()]?riadoList[item.toString()].label:\"\"}}</el-radio-button>\r\n    </el-radio-group>\r\n    <da-time v-model=\"timeSelected\" :label=\"label\" :type=\"riadoList[type.toString()]?riadoList[type.toString()].timeName:''\" :is-picker-end=\"isPickerEnd\" :width=\"width\" @change=\"changeInput\"></da-time>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { cycleTime } from \"../../util/util\";\r\nexport default {\r\n  props: {\r\n    value: {\r\n      type: Array,\r\n      default() {\r\n        return [new Date(), new Date()];\r\n      }\r\n    },\r\n    timeType: {\r\n      type: [String, Number]\r\n    },\r\n    label: {\r\n      type: Object,\r\n      default() {\r\n        return { sLabel: \"统计期\", eLabel: \"基期\" };\r\n      }\r\n    },\r\n    isPickerEnd: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    width: {\r\n      type: String,\r\n      default: \"350px\"\r\n    },\r\n    showTime: {\r\n      type: Array,\r\n      default() {\r\n        return [3, 5, 8];\r\n      }\r\n    },\r\n    // 是否隐藏时间类型选择\r\n    visibleType: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data() {\r\n    let time = [];\r\n    let type = this.timeType;\r\n    let riadoList = {\r\n      3: {\r\n        label: \"日\",\r\n        value: \"day\",\r\n        timeName: \"date\",\r\n        format: \"YYYY-MM-DD\"\r\n      },\r\n      5: {\r\n        label: \"月\",\r\n        value: \"month\",\r\n        timeName: \"month\",\r\n        format: \"YYYY-MM-01\"\r\n      },\r\n      8: {\r\n        label: \"年\",\r\n        value: \"year\",\r\n        timeName: \"year\",\r\n        format: \"YYYY-01-01\"\r\n      }\r\n    };\r\n    if (!this.timeType) {\r\n      this.$emit(\"update:timeType\", this.showTime[0]);\r\n      type = this.showTime[0];\r\n    }\r\n    if (!(this.value && this.value[0] && this.value[1])) {\r\n      let date = this.$moment(new Date(), riadoList[type.toString()].format);\r\n      this.$emit(\"input\", [date, date]);\r\n      time = [date, date];\r\n    } else {\r\n      time = this.value;\r\n    }\r\n    return {\r\n      timeSelected: time,\r\n      riadoList: riadoList,\r\n      cycle: this.$store.state.targetConstant.targetCycle,\r\n      type: type\r\n    };\r\n  },\r\n  watch: {\r\n    value: {\r\n      handler() {\r\n        if (this.timeSelected !== this.value) {\r\n          this.timeSelected = this.value;\r\n        }\r\n      },\r\n      deep: true\r\n    },\r\n    timeType() {\r\n      if (this.timeType && this.timeType !== this.type) {\r\n        this.type = this.timeType;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    changeHandle() {\r\n      this.$emit(\"update:timeType\", this.type);\r\n      this.setData(this.timeSelected);\r\n      this.$emit(\"radioChange\", this.value, this.type);\r\n    },\r\n    changeInput(value) {\r\n      this.setData(value);\r\n      this.$emit(\"inputChange\", value, this.type);\r\n    },\r\n    setData(value) {\r\n      let data = [\r\n        value[0]\r\n          ? this.$moment(value[0], this.riadoList[this.type.toString()].format)\r\n          : \"\",\r\n        value[1] ? cycleTime(value[1], this.type)[1] : \"\"\r\n      ];\r\n      this.$emit(\"input\", data);\r\n      this.$emit(\"change\", data, this.type);\r\n    }\r\n  },\r\n  mounted() {}\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.ts-radio {\r\n  vertical-align: top;\r\n}\r\n.el-input {\r\n  width: 120px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/analysis/timeRangeSelect.vue?7b316e92","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ec0b9cbc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./select.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./select.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ec0b9cbc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./select.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ec0b9cbc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/base/select.vue\n// module id = qMqN\n// module chunks = 57","/**\r\n * Created with JetBrains PhpStorm.\r\n * User: taoqili\r\n * Date: 12-6-12\r\n * Time: 下午5:02\r\n * To change this template use File | Settings | File Templates.\r\n */\r\nUE.I18N['zh-cn'] = {\r\n    'labelMap':{\r\n        'anchor':'锚点', 'undo':'撤销', 'redo':'重做', 'bold':'加粗', 'indent':'首行缩进', 'snapscreen':'截图',\r\n        'italic':'斜体', 'underline':'下划线', 'strikethrough':'删除线', 'subscript':'下标','fontborder':'字符边框',\r\n        'superscript':'上标', 'formatmatch':'格式刷', 'source':'源代码', 'blockquote':'引用',\r\n        'pasteplain':'纯文本粘贴模式', 'selectall':'全选', 'print':'打印', 'preview':'预览',\r\n        'horizontal':'分隔线', 'removeformat':'清除格式', 'time':'时间', 'date':'日期',\r\n        'unlink':'取消链接', 'insertrow':'前插入行', 'insertcol':'前插入列', 'mergeright':'右合并单元格', 'mergedown':'下合并单元格',\r\n        'deleterow':'删除行', 'deletecol':'删除列', 'splittorows':'拆分成行',\r\n        'splittocols':'拆分成列', 'splittocells':'完全拆分单元格','deletecaption':'删除表格标题','inserttitle':'插入标题',\r\n        'mergecells':'合并多个单元格', 'deletetable':'删除表格', 'cleardoc':'清空文档','insertparagraphbeforetable':\"表格前插入行\",'insertcode':'代码语言',\r\n        'fontfamily':'字体', 'fontsize':'字号', 'paragraph':'段落格式', 'simpleupload':'单图上传', 'insertimage':'多图上传','edittable':'表格属性','edittd':'单元格属性', 'link':'超链接',\r\n        'emotion':'表情', 'spechars':'特殊字符', 'searchreplace':'查询替换', 'map':'Baidu地图', 'gmap':'Google地图',\r\n        'insertvideo':'视频', 'help':'帮助', 'justifyleft':'居左对齐', 'justifyright':'居右对齐', 'justifycenter':'居中对齐',\r\n        'justifyjustify':'两端对齐', 'forecolor':'字体颜色', 'backcolor':'背景色', 'insertorderedlist':'有序列表',\r\n        'insertunorderedlist':'无序列表', 'fullscreen':'全屏', 'directionalityltr':'从左向右输入', 'directionalityrtl':'从右向左输入',\r\n        'rowspacingtop':'段前距', 'rowspacingbottom':'段后距',  'pagebreak':'分页', 'insertframe':'插入Iframe', 'imagenone':'默认',\r\n        'imageleft':'左浮动', 'imageright':'右浮动', 'attachment':'附件', 'imagecenter':'居中', 'wordimage':'图片转存',\r\n        'lineheight':'行间距','edittip' :'编辑提示','customstyle':'自定义标题', 'autotypeset':'自动排版',\r\n        'webapp':'百度应用','touppercase':'字母大写', 'tolowercase':'字母小写','background':'背景','template':'模板','scrawl':'涂鸦',\r\n        'music':'音乐','inserttable':'插入表格','drafts': '从草稿箱加载', 'charts': '图表'\r\n    },\r\n    'insertorderedlist':{\r\n        'num':'1,2,3...',\r\n        'num1':'1),2),3)...',\r\n        'num2':'(1),(2),(3)...',\r\n        'cn':'一,二,三....',\r\n        'cn1':'一),二),三)....',\r\n        'cn2':'(一),(二),(三)....',\r\n        'decimal':'1,2,3...',\r\n        'lower-alpha':'a,b,c...',\r\n        'lower-roman':'i,ii,iii...',\r\n        'upper-alpha':'A,B,C...',\r\n        'upper-roman':'I,II,III...'\r\n    },\r\n    'insertunorderedlist':{\r\n        'circle':'○ 大圆圈',\r\n        'disc':'● 小黑点',\r\n        'square':'■ 小方块 ',\r\n        'dash' :'— 破折号',\r\n        'dot':' 。 小圆圈'\r\n    },\r\n    'paragraph':{'p':'段落', 'h1':'标题 1', 'h2':'标题 2', 'h3':'标题 3', 'h4':'标题 4', 'h5':'标题 5', 'h6':'标题 6'},\r\n    'fontfamily':{\r\n        'songti':'宋体',\r\n        'kaiti':'楷体',\r\n        'heiti':'黑体',\r\n        'lishu':'隶书',\r\n        'yahei':'微软雅黑',\r\n        'andaleMono':'andale mono',\r\n        'arial': 'arial',\r\n        'arialBlack':'arial black',\r\n        'comicSansMs':'comic sans ms',\r\n        'impact':'impact',\r\n        'timesNewRoman':'times new roman'\r\n    },\r\n    'customstyle':{\r\n        'tc':'标题居中',\r\n        'tl':'标题居左',\r\n        'im':'强调',\r\n        'hi':'明显强调'\r\n    },\r\n    'autoupload': {\r\n        'exceedSizeError': '文件大小超出限制',\r\n        'exceedTypeError': '文件格式不允许',\r\n        'jsonEncodeError': '服务器返回格式错误',\r\n        'loading':\"正在上传...\",\r\n        'loadError':\"上传错误\",\r\n        'errorLoadConfig': '后端配置项没有正常加载，上传插件不能正常使用！'\r\n    },\r\n    'simpleupload':{\r\n        'exceedSizeError': '文件大小超出限制',\r\n        'exceedTypeError': '文件格式不允许',\r\n        'jsonEncodeError': '服务器返回格式错误',\r\n        'loading':\"正在上传...\",\r\n        'loadError':\"上传错误\",\r\n        'errorLoadConfig': '后端配置项没有正常加载，上传插件不能正常使用！'\r\n    },\r\n    'elementPathTip':\"元素路径\",\r\n    'wordCountTip':\"字数统计\",\r\n    'wordCountMsg':'当前已输入{#count}个字符, 您还可以输入{#leave}个字符。 ',\r\n    'wordOverFlowMsg':'<span style=\"color:red;\">字数超出最大允许值，服务器可能拒绝保存！</span>',\r\n    'ok':\"确认\",\r\n    'cancel':\"取消\",\r\n    'closeDialog':\"关闭对话框\",\r\n    'tableDrag':\"表格拖动必须引入uiUtils.js文件！\",\r\n    'autofloatMsg':\"工具栏浮动依赖编辑器UI，您首先需要引入UI文件!\",\r\n    'loadconfigError': '获取后台配置项请求出错，上传功能将不能正常使用！',\r\n    'loadconfigFormatError': '后台配置项返回格式出错，上传功能将不能正常使用！',\r\n    'loadconfigHttpError': '请求后台配置项http错误，上传功能将不能正常使用！',\r\n    'snapScreen_plugin':{\r\n        'browserMsg':\"仅支持IE浏览器！\",\r\n        'callBackErrorMsg':\"服务器返回数据有误，请检查配置项之后重试。\",\r\n        'uploadErrorMsg':\"截图上传失败，请检查服务器端环境! \"\r\n    },\r\n    'insertcode':{\r\n        'as3':'ActionScript 3',\r\n        'bash':'Bash/Shell',\r\n        'cpp':'C/C++',\r\n        'css':'CSS',\r\n        'cf':'ColdFusion',\r\n        'c#':'C#',\r\n        'delphi':'Delphi',\r\n        'diff':'Diff',\r\n        'erlang':'Erlang',\r\n        'groovy':'Groovy',\r\n        'html':'HTML',\r\n        'java':'Java',\r\n        'jfx':'JavaFX',\r\n        'js':'JavaScript',\r\n        'pl':'Perl',\r\n        'php':'PHP',\r\n        'plain':'Plain Text',\r\n        'ps':'PowerShell',\r\n        'python':'Python',\r\n        'ruby':'Ruby',\r\n        'scala':'Scala',\r\n        'sql':'SQL',\r\n        'vb':'Visual Basic',\r\n        'xml':'XML'\r\n    },\r\n    'confirmClear':\"确定清空当前文档么？\",\r\n    'contextMenu':{\r\n        'delete':\"删除\",\r\n        'selectall':\"全选\",\r\n        'deletecode':\"删除代码\",\r\n        'cleardoc':\"清空文档\",\r\n        'confirmclear':\"确定清空当前文档么？\",\r\n        'unlink':\"删除超链接\",\r\n        'paragraph':\"段落格式\",\r\n        'edittable':\"表格属性\",\r\n        'aligntd':\"单元格对齐方式\",\r\n        'aligntable':'表格对齐方式',\r\n        'tableleft':'左浮动',\r\n        'tablecenter':'居中显示',\r\n        'tableright':'右浮动',\r\n        'edittd':\"单元格属性\",\r\n        'setbordervisible':'设置表格边线可见',\r\n        'justifyleft':'左对齐',\r\n        'justifyright':'右对齐',\r\n        'justifycenter':'居中对齐',\r\n        'justifyjustify':'两端对齐',\r\n        'table':\"表格\",\r\n        'inserttable':'插入表格',\r\n        'deletetable':\"删除表格\",\r\n        'insertparagraphbefore':\"前插入段落\",\r\n        'insertparagraphafter':'后插入段落',\r\n        'deleterow':\"删除当前行\",\r\n        'deletecol':\"删除当前列\",\r\n        'insertrow':\"前插入行\",\r\n        'insertcol':\"左插入列\",\r\n        'insertrownext':'后插入行',\r\n        'insertcolnext':'右插入列',\r\n        'insertcaption':'插入表格名称',\r\n        'deletecaption':'删除表格名称',\r\n        'inserttitle':'插入表格标题行',\r\n        'deletetitle':'删除表格标题行',\r\n        'inserttitlecol':'插入表格标题列',\r\n        'deletetitlecol':'删除表格标题列',\r\n        'averageDiseRow':'平均分布各行',\r\n        'averageDisCol':'平均分布各列',\r\n        'mergeright':\"向右合并\",\r\n        'mergeleft':\"向左合并\",\r\n        'mergedown':\"向下合并\",\r\n        'mergecells':\"合并单元格\",\r\n        'splittocells':\"完全拆分单元格\",\r\n        'splittocols':\"拆分成列\",\r\n        'splittorows':\"拆分成行\",\r\n        'tablesort':'表格排序',\r\n        'enablesort':'设置表格可排序',\r\n        'disablesort':'取消表格可排序',\r\n        'reversecurrent':'逆序当前',\r\n        'orderbyasc':'按ASCII字符升序',\r\n        'reversebyasc':'按ASCII字符降序',\r\n        'orderbynum':'按数值大小升序',\r\n        'reversebynum':'按数值大小降序',\r\n        'borderbk':'边框底纹',\r\n        'setcolor':'表格隔行变色',\r\n        'unsetcolor':'取消表格隔行变色',\r\n        'setbackground':'选区背景隔行',\r\n        'unsetbackground':'取消选区背景',\r\n        'redandblue':'红蓝相间',\r\n        'threecolorgradient':'三色渐变',\r\n        'copy':\"复制(Ctrl + c)\",\r\n        'copymsg': \"浏览器不支持,请使用 'Ctrl + c'\",\r\n        'paste':\"粘贴(Ctrl + v)\",\r\n         'pastemsg': \"浏览器不支持,请使用 'Ctrl + v'\"\r\n    },\r\n    'copymsg': \"浏览器不支持,请使用 'Ctrl + c'\",\r\n    'pastemsg': \"浏览器不支持,请使用 'Ctrl + v'\",\r\n    'anthorMsg':\"链接\",\r\n    'clearColor':'清空颜色',\r\n    'standardColor':'标准颜色',\r\n    'themeColor':'主题颜色',\r\n    'property':'属性',\r\n    'default':'默认',\r\n    'modify':'修改',\r\n    'justifyleft':'左对齐',\r\n    'justifyright':'右对齐',\r\n    'justifycenter':'居中',\r\n    'justify':'默认',\r\n    'clear':'清除',\r\n    'anchorMsg':'锚点',\r\n    'delete':'删除',\r\n    'clickToUpload':\"点击上传\",\r\n    'unset':'尚未设置语言文件',\r\n    't_row':'行',\r\n    't_col':'列',\r\n    'more':'更多',\r\n    'pasteOpt':'粘贴选项',\r\n    'pasteSourceFormat':\"保留源格式\",\r\n    'tagFormat':'只保留标签',\r\n    'pasteTextFormat':'只保留文本',\r\n    'autoTypeSet':{\r\n        'mergeLine':\"合并空行\",\r\n        'delLine':\"清除空行\",\r\n        'removeFormat':\"清除格式\",\r\n        'indent':\"首行缩进\",\r\n        'alignment':\"对齐方式\",\r\n        'imageFloat':\"图片浮动\",\r\n        'removeFontsize':\"清除字号\",\r\n        'removeFontFamily':\"清除字体\",\r\n        'removeHtml':\"清除冗余HTML代码\",\r\n        'pasteFilter':\"粘贴过滤\",\r\n        'run':\"执行\",\r\n        'symbol':'符号转换',\r\n        'bdc2sb':'全角转半角',\r\n        'tobdc':'半角转全角'\r\n    },\r\n\r\n    'background':{\r\n        'static':{\r\n            'lang_background_normal':'背景设置',\r\n            'lang_background_local':'在线图片',\r\n            'lang_background_set':'选项',\r\n            'lang_background_none':'无背景色',\r\n            'lang_background_colored':'有背景色',\r\n            'lang_background_color':'颜色设置',\r\n            'lang_background_netimg':'网络图片',\r\n            'lang_background_align':'对齐方式',\r\n            'lang_background_position':'精确定位',\r\n            'repeatType':{'options':[\"居中\", \"横向重复\", \"纵向重复\", \"平铺\",\"自定义\"]}\r\n\r\n        },\r\n        'noUploadImage':\"当前未上传过任何图片！\",\r\n        'toggleSelect':\"单击可切换选中状态\\n原图尺寸: \"\r\n    },\r\n    //===============dialog i18N=======================\r\n    'insertimage':{\r\n        'static':{\r\n            'lang_tab_remote':\"插入图片\", //节点\r\n            'lang_tab_upload':\"本地上传\",\r\n            'lang_tab_online':\"在线管理\",\r\n            'lang_tab_search':\"图片搜索\",\r\n            'lang_input_url':\"地 址：\",\r\n            'lang_input_size':\"大 小：\",\r\n            'lang_input_width':\"宽度\",\r\n            'lang_input_height':\"高度\",\r\n            'lang_input_border':\"边 框：\",\r\n            'lang_input_vhspace':\"边 距：\",\r\n            'lang_input_title':\"描 述：\",\r\n            'lang_input_align':'图片浮动方式：',\r\n            'lang_imgLoading':\"　图片加载中……\",\r\n            'lang_start_upload':\"开始上传\",\r\n            'lock':{'title':\"锁定宽高比例\"}, //属性\r\n            'searchType':{'title':\"图片类型\", 'options':[\"新闻\", \"壁纸\", \"表情\", \"头像\"]}, //select的option\r\n            'searchTxt':{'value':\"请输入搜索关键词\"},\r\n            'searchBtn':{'value':\"百度一下\"},\r\n            'searchReset':{'value':\"清空搜索\"},\r\n            'noneAlign':{'title':'无浮动'},\r\n            'leftAlign':{'title':'左浮动'},\r\n            'rightAlign':{'title':'右浮动'},\r\n            'centerAlign':{'title':'居中独占一行'}\r\n        },\r\n        'uploadSelectFile':'点击选择图片',\r\n        'uploadAddFile':'继续添加',\r\n        'uploadStart':'开始上传',\r\n        'uploadPause':'暂停上传',\r\n        'uploadContinue':'继续上传',\r\n        'uploadRetry':'重试上传',\r\n        'uploadDelete':'删除',\r\n        'uploadTurnLeft':'向左旋转',\r\n        'uploadTurnRight':'向右旋转',\r\n        'uploadPreview':'预览中',\r\n        'uploadNoPreview':'不能预览',\r\n        'updateStatusReady': '选中_张图片，共_KB。',\r\n        'updateStatusConfirm': '已成功上传_张照片，_张照片上传失败',\r\n        'updateStatusFinish': '共_张（_KB），_张上传成功',\r\n        'updateStatusError': '，_张上传失败。',\r\n        'errorNotSupport': 'WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。',\r\n        'errorLoadConfig': '后端配置项没有正常加载，上传插件不能正常使用！',\r\n        'errorExceedSize':'文件大小超出',\r\n        'errorFileType':'文件格式不允许',\r\n        'errorInterrupt':'文件传输中断',\r\n        'errorUploadRetry':'上传失败，请重试',\r\n        'errorHttp':'http请求错误',\r\n        'errorServerUpload':'服务器返回出错',\r\n        'remoteLockError':\"宽高不正确,不能所定比例\",\r\n        'numError':\"请输入正确的长度或者宽度值！例如：123，400\",\r\n        'imageUrlError':\"不允许的图片格式或者图片域！\",\r\n        'imageLoadError':\"图片加载失败！请检查链接地址或网络状态！\",\r\n        'searchRemind':\"请输入搜索关键词\",\r\n        'searchLoading':\"图片加载中，请稍后……\",\r\n        'searchRetry':\" :( ，抱歉，没有找到图片！请重试一次！\"\r\n    },\r\n    'attachment':{\r\n        'static':{\r\n            'lang_tab_upload': '上传附件',\r\n            'lang_tab_online': '在线附件',\r\n            'lang_start_upload':\"开始上传\",\r\n            'lang_drop_remind':\"可以将文件拖到这里，单次最多可选100个文件\"\r\n        },\r\n        'uploadSelectFile':'点击选择文件',\r\n        'uploadAddFile':'继续添加',\r\n        'uploadStart':'开始上传',\r\n        'uploadPause':'暂停上传',\r\n        'uploadContinue':'继续上传',\r\n        'uploadRetry':'重试上传',\r\n        'uploadDelete':'删除',\r\n        'uploadTurnLeft':'向左旋转',\r\n        'uploadTurnRight':'向右旋转',\r\n        'uploadPreview':'预览中',\r\n        'updateStatusReady': '选中_个文件，共_KB。',\r\n        'updateStatusConfirm': '已成功上传_个文件，_个文件上传失败',\r\n        'updateStatusFinish': '共_个（_KB），_个上传成功',\r\n        'updateStatusError': '，_张上传失败。',\r\n        'errorNotSupport': 'WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。',\r\n        'errorLoadConfig': '后端配置项没有正常加载，上传插件不能正常使用！',\r\n        'errorExceedSize':'文件大小超出',\r\n        'errorFileType':'文件格式不允许',\r\n        'errorInterrupt':'文件传输中断',\r\n        'errorUploadRetry':'上传失败，请重试',\r\n        'errorHttp':'http请求错误',\r\n        'errorServerUpload':'服务器返回出错'\r\n    },\r\n    'insertvideo':{\r\n        'static':{\r\n            'lang_tab_insertV':\"插入视频\",\r\n            'lang_tab_searchV':\"搜索视频\",\r\n            'lang_tab_uploadV':\"上传视频\",\r\n            'lang_video_url':\"视频网址\",\r\n            'lang_video_size':\"视频尺寸\",\r\n            'lang_videoW':\"宽度\",\r\n            'lang_videoH':\"高度\",\r\n            'lang_alignment':\"对齐方式\",\r\n            'videoSearchTxt':{'value':\"请输入搜索关键字！\"},\r\n            'videoType':{'options':[\"全部\", \"热门\", \"娱乐\", \"搞笑\", \"体育\", \"科技\", \"综艺\"]},\r\n            'videoSearchBtn':{'value':\"百度一下\"},\r\n            'videoSearchReset':{'value':\"清空结果\"},\r\n\r\n            'lang_input_fileStatus':' 当前未上传文件',\r\n            'startUpload':{'style':\"background:url(upload.png) no-repeat;\"},\r\n\r\n            'lang_upload_size':\"视频尺寸\",\r\n            'lang_upload_width':\"宽度\",\r\n            'lang_upload_height':\"高度\",\r\n            'lang_upload_alignment':\"对齐方式\",\r\n            'lang_format_advice':\"建议使用mp4格式.\"\r\n\r\n        },\r\n        'numError':\"请输入正确的数值，如123,400\",\r\n        'floatLeft':\"左浮动\",\r\n        'floatRight':\"右浮动\",\r\n        '\"default\"':\"默认\",\r\n        'block':\"独占一行\",\r\n        'urlError':\"输入的视频地址有误，请检查后再试！\",\r\n        'loading':\" &nbsp;视频加载中，请等待……\",\r\n        'clickToSelect':\"点击选中\",\r\n        'goToSource':'访问源视频',\r\n        'noVideo':\" &nbsp; &nbsp;抱歉，找不到对应的视频，请重试！\",\r\n\r\n        'browseFiles':'浏览文件',\r\n        'uploadSuccess':'上传成功!',\r\n        'delSuccessFile':'从成功队列中移除',\r\n        'delFailSaveFile':'移除保存失败文件',\r\n        'statusPrompt':' 个文件已上传！ ',\r\n        'flashVersionError':'当前Flash版本过低，请更新FlashPlayer后重试！',\r\n        'flashLoadingError':'Flash加载失败!请检查路径或网络状态',\r\n        'fileUploadReady':'等待上传……',\r\n        'delUploadQueue':'从上传队列中移除',\r\n        'limitPrompt1':'单次不能选择超过',\r\n        'limitPrompt2':'个文件！请重新选择！',\r\n        'delFailFile':'移除失败文件',\r\n        'fileSizeLimit':'文件大小超出限制！',\r\n        'emptyFile':'空文件无法上传！',\r\n        'fileTypeError':'文件类型不允许！',\r\n        'unknownError':'未知错误！',\r\n        'fileUploading':'上传中，请等待……',\r\n        'cancelUpload':'取消上传',\r\n        'netError':'网络错误',\r\n        'failUpload':'上传失败!',\r\n        'serverIOError':'服务器IO错误！',\r\n        'noAuthority':'无权限！',\r\n        'fileNumLimit':'上传个数限制',\r\n        'failCheck':'验证失败，本次上传被跳过！',\r\n        'fileCanceling':'取消中，请等待……',\r\n        'stopUploading':'上传已停止……',\r\n\r\n        'uploadSelectFile':'点击选择文件',\r\n        'uploadAddFile':'继续添加',\r\n        'uploadStart':'开始上传',\r\n        'uploadPause':'暂停上传',\r\n        'uploadContinue':'继续上传',\r\n        'uploadRetry':'重试上传',\r\n        'uploadDelete':'删除',\r\n        'uploadTurnLeft':'向左旋转',\r\n        'uploadTurnRight':'向右旋转',\r\n        'uploadPreview':'预览中',\r\n        'updateStatusReady': '选中_个文件，共_KB。',\r\n        'updateStatusConfirm': '成功上传_个，_个失败',\r\n        'updateStatusFinish': '共_个(_KB)，_个成功上传',\r\n        'updateStatusError': '，_张上传失败。',\r\n        'errorNotSupport': 'WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。',\r\n        'errorLoadConfig': '后端配置项没有正常加载，上传插件不能正常使用！',\r\n        'errorExceedSize':'文件大小超出',\r\n        'errorFileType':'文件格式不允许',\r\n        'errorInterrupt':'文件传输中断',\r\n        'errorUploadRetry':'上传失败，请重试',\r\n        'errorHttp':'http请求错误',\r\n        'errorServerUpload':'服务器返回出错'\r\n    },\r\n    'webapp':{\r\n        'tip1':\"本功能由百度APP提供，如看到此页面，请各位站长首先申请百度APPKey!\",\r\n        'tip2':\"申请完成之后请至ueditor.config.js中配置获得的appkey! \",\r\n        'applyFor':\"点此申请\",\r\n        'anthorApi':\"百度API\"\r\n    },\r\n    'template':{\r\n        'static':{\r\n            'lang_template_bkcolor':'背景颜色',\r\n            'lang_template_clear' : '保留原有内容',\r\n            'lang_template_select' : '选择模板'\r\n        },\r\n        'blank':\"空白文档\",\r\n        'blog':\"博客文章\",\r\n        'resume':\"个人简历\",\r\n        'richText':\"图文混排\",\r\n        'sciPapers':\"科技论文\"\r\n\r\n\r\n    },\r\n    'scrawl':{\r\n        'static':{\r\n            'lang_input_previousStep':\"上一步\",\r\n            'lang_input_nextsStep':\"下一步\",\r\n            'lang_input_clear':'清空',\r\n            'lang_input_addPic':'添加背景',\r\n            'lang_input_ScalePic':'缩放背景',\r\n            'lang_input_removePic':'删除背景',\r\n            'J_imgTxt':{title:'添加背景图片'}\r\n        },\r\n        'noScarwl':\"尚未作画，白纸一张~\",\r\n        'scrawlUpLoading':\"涂鸦上传中,别急哦~\",\r\n        'continueBtn':\"继续\",\r\n        'imageError':\"糟糕，图片读取失败了！\",\r\n        'backgroundUploading':'背景图片上传中,别急哦~'\r\n    },\r\n    'music':{\r\n        'static':{\r\n            'lang_input_tips':\"输入歌手/歌曲/专辑，搜索您感兴趣的音乐！\",\r\n            'J_searchBtn':{value:'搜索歌曲'}\r\n        },\r\n        'emptyTxt':'未搜索到相关音乐结果，请换一个关键词试试。',\r\n        'chapter':'歌曲',\r\n        'singer':'歌手',\r\n        'special':'专辑',\r\n        'listenTest':'试听'\r\n    },\r\n    'anchor':{\r\n        'static':{\r\n            'lang_input_anchorName':'锚点名字：'\r\n        }\r\n    },\r\n    'charts':{\r\n        'static':{\r\n            'lang_data_source':'数据源：',\r\n            'lang_chart_format': '图表格式：',\r\n            'lang_data_align': '数据对齐方式',\r\n            'lang_chart_align_same': '数据源与图表X轴Y轴一致',\r\n            'lang_chart_align_reverse': '数据源与图表X轴Y轴相反',\r\n            'lang_chart_title': '图表标题',\r\n            'lang_chart_main_title': '主标题：',\r\n            'lang_chart_sub_title': '子标题：',\r\n            'lang_chart_x_title': 'X轴标题：',\r\n            'lang_chart_y_title': 'Y轴标题：',\r\n            'lang_chart_tip': '提示文字',\r\n            'lang_cahrt_tip_prefix': '提示文字前缀：',\r\n            'lang_cahrt_tip_description': '仅饼图有效， 当鼠标移动到饼图中相应的块上时，提示框内的文字的前缀',\r\n            'lang_chart_data_unit': '数据单位',\r\n            'lang_chart_data_unit_title': '单位：',\r\n            'lang_chart_data_unit_description': '显示在每个数据点上的数据的单位， 比如： 温度的单位 ℃',\r\n            'lang_chart_type': '图表类型：',\r\n            'lang_prev_btn': '上一个',\r\n            'lang_next_btn': '下一个'\r\n        }\r\n    },\r\n    'emotion':{\r\n        'static':{\r\n            'lang_input_choice':'精选',\r\n            'lang_input_Tuzki':'兔斯基',\r\n            'lang_input_BOBO':'BOBO',\r\n            'lang_input_lvdouwa':'绿豆蛙',\r\n            'lang_input_babyCat':'baby猫',\r\n            'lang_input_bubble':'泡泡',\r\n            'lang_input_youa':'有啊'\r\n        }\r\n    },\r\n    'gmap':{\r\n        'static':{\r\n            'lang_input_address':'地址',\r\n            'lang_input_search':'搜索',\r\n            'address':{value:\"北京\"}\r\n        },\r\n        searchError:'无法定位到该地址!'\r\n    },\r\n    'help':{\r\n        'static':{\r\n            'lang_input_about':'关于UEditor',\r\n            'lang_input_shortcuts':'快捷键',\r\n            'lang_input_introduction':'UEditor是由百度web前端研发部开发的所见即所得富文本web编辑器，具有轻量，可定制，注重用户体验等特点。开源基于BSD协议，允许自由使用和修改代码。',\r\n            'lang_Txt_shortcuts':'快捷键',\r\n            'lang_Txt_func':'功能',\r\n            'lang_Txt_bold':'给选中字设置为加粗',\r\n            'lang_Txt_copy':'复制选中内容',\r\n            'lang_Txt_cut':'剪切选中内容',\r\n            'lang_Txt_Paste':'粘贴',\r\n            'lang_Txt_undo':'重新执行上次操作',\r\n            'lang_Txt_redo':'撤销上一次操作',\r\n            'lang_Txt_italic':'给选中字设置为斜体',\r\n            'lang_Txt_underline':'给选中字加下划线',\r\n            'lang_Txt_selectAll':'全部选中',\r\n            'lang_Txt_visualEnter':'软回车',\r\n            'lang_Txt_fullscreen':'全屏'\r\n        }\r\n    },\r\n    'insertframe':{\r\n        'static':{\r\n            'lang_input_address':'地址：',\r\n            'lang_input_width':'宽度：',\r\n            'lang_input_height':'高度：',\r\n            'lang_input_isScroll':'允许滚动条：',\r\n            'lang_input_frameborder':'显示框架边框：',\r\n            'lang_input_alignMode':'对齐方式：',\r\n            'align':{title:\"对齐方式\", options:[\"默认\", \"左对齐\", \"右对齐\", \"居中\"]}\r\n        },\r\n        'enterAddress':'请输入地址!'\r\n    },\r\n    'link':{\r\n        'static':{\r\n            'lang_input_text':'文本内容：',\r\n            'lang_input_url':'链接地址：',\r\n            'lang_input_title':'标题：',\r\n            'lang_input_target':'是否在新窗口打开：'\r\n        },\r\n        'validLink':'只支持选中一个链接时生效',\r\n        'httpPrompt':'您输入的超链接中不包含http等协议名称，默认将为您添加http://前缀'\r\n    },\r\n    'map':{\r\n        'static':{\r\n            lang_city:\"城市\",\r\n            lang_address:\"地址\",\r\n            city:{value:\"北京\"},\r\n            lang_search:\"搜索\",\r\n            lang_dynamicmap:\"插入动态地图\"\r\n        },\r\n        cityMsg:\"请选择城市\",\r\n        errorMsg:\"抱歉，找不到该位置！\"\r\n    },\r\n    'searchreplace':{\r\n        'static':{\r\n            lang_tab_search:\"查找\",\r\n            lang_tab_replace:\"替换\",\r\n            lang_search1:\"查找\",\r\n            lang_search2:\"查找\",\r\n            lang_replace:\"替换\",\r\n            lang_searchReg:'支持正则表达式，添加前后斜杠标示为正则表达式，例如“/表达式/”',\r\n            lang_searchReg1:'支持正则表达式，添加前后斜杠标示为正则表达式，例如“/表达式/”',\r\n            lang_case_sensitive1:\"区分大小写\",\r\n            lang_case_sensitive2:\"区分大小写\",\r\n            nextFindBtn:{value:\"下一个\"},\r\n            preFindBtn:{value:\"上一个\"},\r\n            nextReplaceBtn:{value:\"下一个\"},\r\n            preReplaceBtn:{value:\"上一个\"},\r\n            repalceBtn:{value:\"替换\"},\r\n            repalceAllBtn:{value:\"全部替换\"}\r\n        },\r\n        getEnd:\"已经搜索到文章末尾！\",\r\n        getStart:\"已经搜索到文章头部\",\r\n        countMsg:\"总共替换了{#count}处！\"\r\n    },\r\n    'snapscreen':{\r\n        'static':{\r\n            lang_showMsg:\"截图功能需要首先安装UEditor截图插件！ \",\r\n            lang_download:\"点此下载\",\r\n            lang_step1:\"第一步，下载UEditor截图插件并运行安装。\",\r\n            lang_step2:\"第二步，插件安装完成后即可使用，如不生效，请重启浏览器后再试！\"\r\n        }\r\n    },\r\n    'spechars':{\r\n        'static':{},\r\n        tsfh:\"特殊字符\",\r\n        lmsz:\"罗马字符\",\r\n        szfh:\"数学字符\",\r\n        rwfh:\"日文字符\",\r\n        xlzm:\"希腊字母\",\r\n        ewzm:\"俄文字符\",\r\n        pyzm:\"拼音字母\",\r\n        yyyb:\"英语音标\",\r\n        zyzf:\"其他\"\r\n    },\r\n    'edittable':{\r\n        'static':{\r\n            'lang_tableStyle':'表格样式',\r\n            'lang_insertCaption':'添加表格名称行',\r\n            'lang_insertTitle':'添加表格标题行',\r\n            'lang_insertTitleCol':'添加表格标题列',\r\n            'lang_orderbycontent':\"使表格内容可排序\",\r\n            'lang_tableSize':'自动调整表格尺寸',\r\n            'lang_autoSizeContent':'按表格文字自适应',\r\n            'lang_autoSizePage':'按页面宽度自适应',\r\n            'lang_example':'示例',\r\n            'lang_borderStyle':'表格边框',\r\n            'lang_color':'颜色:'\r\n        },\r\n        captionName:'表格名称',\r\n        titleName:'标题',\r\n        cellsName:'内容',\r\n        errorMsg:'有合并单元格，不可排序'\r\n    },\r\n    'edittip':{\r\n        'static':{\r\n            lang_delRow:'删除整行',\r\n            lang_delCol:'删除整列'\r\n        }\r\n    },\r\n    'edittd':{\r\n        'static':{\r\n            lang_tdBkColor:'背景颜色:'\r\n        }\r\n    },\r\n    'formula':{\r\n        'static':{\r\n        }\r\n    },\r\n    'wordimage':{\r\n        'static':{\r\n            lang_resave:\"转存步骤\",\r\n            uploadBtn:{src:\"upload.png\",alt:\"上传\"},\r\n            clipboard:{style:\"background: url(copy.png) -153px -1px no-repeat;\"},\r\n            lang_step:\"1、点击顶部复制按钮，将地址复制到剪贴板；2、点击添加照片按钮，在弹出的对话框中使用Ctrl+V粘贴地址；3、点击打开后选择图片上传流程。\"\r\n        },\r\n        'fileType':\"图片\",\r\n        'flashError':\"FLASH初始化失败，请检查FLASH插件是否正确安装！\",\r\n        'netError':\"网络连接错误，请重试！\",\r\n        'copySuccess':\"图片地址已经复制！\",\r\n        'flashI18n':{} //留空默认中文\r\n    },\r\n    'autosave': {\r\n        'saving':'保存中...',\r\n        'success':'本地保存成功'\r\n    }\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/scripts/utf8-jsp/lang/zh-cn/zh-cn.js\n// module id = qQfM\n// module chunks = 57","/**\n * ueditor完整配置项\n * 可以在这里配置整个编辑器的特性\n */\n/**************************提示********************************\n * 所有被注释的配置项均为UEditor默认值。\n * 修改默认配置请首先确保已经完全明确该参数的真实用途。\n * 主要有两种修改方案，一种是取消此处注释，然后修改成对应参数；另一种是在实例化编辑器时传入对应参数。\n * 当升级编辑器时，可直接使用旧版配置文件替换新版配置文件,不用担心旧版配置文件中因缺少新功能所需的参数而导致脚本报错。\n **************************提示********************************/\n\n(function () {\n\n    /**\n     * 编辑器资源文件根路径。它所表示的含义是：以编辑器实例化页面为当前路径，指向编辑器资源文件（即dialog等文件夹）的路径。\n     * 鉴于很多同学在使用编辑器的时候出现的种种路径问题，此处强烈建议大家使用\"相对于网站根目录的相对路径\"进行配置。\n     * \"相对于网站根目录的相对路径\"也就是以斜杠开头的形如\"/myProject/ueditor/\"这样的路径。\n     * 如果站点中有多个不在同一层级的页面需要实例化编辑器，且引用了同一UEditor的时候，此处的URL可能不适用于每个页面的编辑器。\n     * 因此，UEditor提供了针对不同页面的编辑器可单独配置的根路径，具体来说，在需要实例化编辑器的页面最顶部写上如下代码即可。当然，需要令此处的URL等于对应的配置。\n     * window.UEDITOR_HOME_URL = \"/xxxx/xxxx/\";\n     */\n    window.UEDITOR_HOME_URL = \"/static/utf8-jsp/\";\n    var URL = window.UEDITOR_HOME_URL || getUEBasePath();\n\n    /**\n     * 配置项主体。注意，此处所有涉及到路径的配置别遗漏URL变量。\n     */\n    window.UEDITOR_CONFIG = {\n\n        //为编辑器实例添加一个路径，这个不能被注释\n        UEDITOR_HOME_URL: URL\n\n        // 服务器统一请求接口路径\n        // ,\n        // serverUrl: URL + \"jsp/controller.jsp\"\n\n        //工具栏上的所有的功能按钮和下拉框，可以在new编辑器的实例时选择自己需要的重新定义\n        ,\n        // 不需要的图标功能：'source', 'formatmatch', 'autotypeset','blockquote','pasteplain','backcolor', 'selectall', 'cleardoc','fullscreen','rowspacingtop','rowspacingbottom', 'lineheight','indent','unlink','anchor','imagenone','imageleft', 'imageright', 'imagecenter','simpleupload', 'scrawl', 'insertvideo','music','gmap','insertcode','webapp','pagebreak','template','background','date', 'time','snapscreen', 'inserttable', 'deletetable', 'insertparagraphbeforetable','insertrow', 'deleterow', 'insertcol', 'deletecol','mergecells','mergeright', 'mergedown','splittocells', 'splittorows', 'splittocols', 'drafts'， 'attachment', 'map',  'insertframe',  'wordimage','charts'\n        toolbars: [\n            [\n                'undo', 'redo','|', 'bold', 'italic', 'underline', 'strikethrough', 'superscript', 'subscript', 'fontborder', 'fontfamily', 'fontsize', 'forecolor', 'removeformat','spechars', '|','touppercase', 'tolowercase','|', 'customstyle', 'paragraph', '|','insertorderedlist', 'insertunorderedlist', '|','justifyleft', 'justifycenter', 'justifyright', 'justifyjustify', '|','link', 'emotion', 'insertimage', 'horizontal','|', 'directionalityltr', 'directionalityrtl','|',  'print', 'preview', 'searchreplace', 'help'\n            ]\n        ]\n        //当鼠标放在工具栏上时显示的tooltip提示,留空支持自动多语言配置，否则以配置值为准\n        //,labelMap:{\n        //    'anchor':'', 'undo':''\n        //}\n\n        //语言配置项,默认是zh-cn。有需要的话也可以使用如下这样的方式来自动多语言切换，当然，前提条件是lang文件夹下存在对应的语言文件：\n        //lang值也可以通过自动获取 (navigator.language||navigator.browserLanguage ||navigator.userLanguage).toLowerCase()\n        //,lang:\"zh-cn\"\n        //,langPath:URL +\"lang/\"\n\n        //主题配置项,默认是default。有需要的话也可以使用如下这样的方式来自动多主题切换，当然，前提条件是themes文件夹下存在对应的主题文件：\n        //现有如下皮肤:default\n        //,theme:'default'\n        //,themePath:URL +\"themes/\"\n\n        ,\n        zIndex: 9000 //编辑器层级的基数,默认是900\n\n        //针对getAllHtml方法，会在对应的head标签中增加该编码设置。\n        //,charset:\"utf-8\"\n\n        //若实例化编辑器的页面手动修改的domain，此处需要设置为true\n        //,customDomain:false\n\n        //常用配置项目\n        //,isShow : true    //默认显示编辑器\n\n        //,textarea:'editorValue' // 提交表单时，服务器获取编辑器提交内容的所用的参数，多实例时可以给容器name属性，会将name给定的值最为每个实例的键值，不用每次实例化的时候都设置这个值\n\n        //,initialContent:'欢迎使用ueditor!'    //初始化编辑器的内容,也可以通过textarea/script给值，看官网例子\n\n        //,autoClearinitialContent:true //是否自动清除编辑器初始内容，注意：如果focus属性设置为true,这个也为真，那么编辑器一上来就会触发导致初始化的内容看不到了\n\n        //,focus:false //初始化时，是否让编辑器获得焦点true或false\n\n        //如果自定义，最好给p标签如下的行高，要不输入中文时，会有跳动感\n        //,initialStyle:'p{line-height:1em}'//编辑器层级的基数,可以用来改变字体等\n\n        //,iframeCssUrl: URL + '/themes/iframe.css' //给编辑区域的iframe引入一个css文件\n\n        //indentValue\n        //首行缩进距离,默认是2em\n        //,indentValue:'2em'\n\n        //,initialFrameWidth:1000  //初始化编辑器宽度,默认1000\n        //,initialFrameHeight:320  //初始化编辑器高度,默认320\n\n        //,readonly : false //编辑器初始化结束后,编辑区域是否是只读的，默认是false\n\n        //,autoClearEmptyNode : true //getContent时，是否删除空的inlineElement节点（包括嵌套的情况）\n\n        //启用自动保存\n        ,\n        enableAutoSave: false\n        //自动保存间隔时间， 单位ms\n        ,\n        saveInterval: 0\n\n        //,fullscreen : false //是否开启初始化时即全屏，默认关闭\n\n        //,imagePopup:true      //图片操作的浮层开关，默认打开\n\n        //,autoSyncData:true //自动同步编辑器要提交的数据\n        //,emotionLocalization:false //是否开启表情本地化，默认关闭。若要开启请确保emotion文件夹下包含官网提供的images表情文件夹\n\n        //粘贴只保留标签，去除标签所有属性\n        //,retainOnlyLabelPasted: false\n\n        //,pasteplain:false  //是否默认为纯文本粘贴。false为不使用纯文本粘贴，true为使用纯文本粘贴\n        //纯文本粘贴模式下的过滤规则\n        //'filterTxtRules' : function(){\n        //    function transP(node){\n        //        node.tagName = 'p';\n        //        node.setStyle();\n        //    }\n        //    return {\n        //        //直接删除及其字节点内容\n        //        '-' : 'script style object iframe embed input select',\n        //        'p': {$:{}},\n        //        'br':{$:{}},\n        //        'div':{'$':{}},\n        //        'li':{'$':{}},\n        //        'caption':transP,\n        //        'th':transP,\n        //        'tr':transP,\n        //        'h1':transP,'h2':transP,'h3':transP,'h4':transP,'h5':transP,'h6':transP,\n        //        'td':function(node){\n        //            //没有内容的td直接删掉\n        //            var txt = !!node.innerText();\n        //            if(txt){\n        //                node.parentNode.insertAfter(UE.uNode.createText(' &nbsp; &nbsp;'),node);\n        //            }\n        //            node.parentNode.removeChild(node,node.innerText())\n        //        }\n        //    }\n        //}()\n\n        //,allHtmlEnabled:false //提交到后台的数据是否包含整个html字符串\n\n        //insertorderedlist\n        //有序列表的下拉配置,值留空时支持多语言自动识别，若配置值，则以此值为准\n        //,'insertorderedlist':{\n        //      //自定的样式\n        //        'num':'1,2,3...',\n        //        'num1':'1),2),3)...',\n        //        'num2':'(1),(2),(3)...',\n        //        'cn':'一,二,三....',\n        //        'cn1':'一),二),三)....',\n        //        'cn2':'(一),(二),(三)....',\n        //     //系统自带\n        //     'decimal' : '' ,         //'1,2,3...'\n        //     'lower-alpha' : '' ,    // 'a,b,c...'\n        //     'lower-roman' : '' ,    //'i,ii,iii...'\n        //     'upper-alpha' : '' , lang   //'A,B,C'\n        //     'upper-roman' : ''      //'I,II,III...'\n        //}\n\n        //insertunorderedlist\n        //无序列表的下拉配置，值留空时支持多语言自动识别，若配置值，则以此值为准\n        //,insertunorderedlist : { //自定的样式\n        //    'dash' :'— 破折号', //-破折号\n        //    'dot':' 。 小圆圈', //系统自带\n        //    'circle' : '',  // '○ 小圆圈'\n        //    'disc' : '',    // '● 小圆点'\n        //    'square' : ''   //'■ 小方块'\n        //}\n        //,listDefaultPaddingLeft : '30'//默认的左边缩进的基数倍\n        //,listiconpath : 'http://bs.baidu.com/listicon/'//自定义标号的路径\n        //,maxListLevel : 3 //限制可以tab的级数, 设置-1为不限制\n\n        //,autoTransWordToList:false  //禁止word中粘贴进来的列表自动变成列表标签\n\n        //fontfamily\n        //字体设置 label留空支持多语言自动切换，若配置，则以配置值为准\n        //,'fontfamily':[\n        //    { label:'',name:'songti',val:'宋体,SimSun'},\n        //    { label:'',name:'kaiti',val:'楷体,楷体_GB2312, SimKai'},\n        //    { label:'',name:'yahei',val:'微软雅黑,Microsoft YaHei'},\n        //    { label:'',name:'heiti',val:'黑体, SimHei'},\n        //    { label:'',name:'lishu',val:'隶书, SimLi'},\n        //    { label:'',name:'andaleMono',val:'andale mono'},\n        //    { label:'',name:'arial',val:'arial, helvetica,sans-serif'},\n        //    { label:'',name:'arialBlack',val:'arial black,avant garde'},\n        //    { label:'',name:'comicSansMs',val:'comic sans ms'},\n        //    { label:'',name:'impact',val:'impact,chicago'},\n        //    { label:'',name:'timesNewRoman',val:'times new roman'}\n        //]\n\n        //fontsize\n        //字号\n        //,'fontsize':[10, 11, 12, 14, 16, 18, 20, 24, 36]\n\n        //paragraph\n        //段落格式 值留空时支持多语言自动识别，若配置，则以配置值为准\n        //,'paragraph':{'p':'', 'h1':'', 'h2':'', 'h3':'', 'h4':'', 'h5':'', 'h6':''}\n\n        //rowspacingtop\n        //段间距 值和显示的名字相同\n        //,'rowspacingtop':['5', '10', '15', '20', '25']\n\n        //rowspacingBottom\n        //段间距 值和显示的名字相同\n        //,'rowspacingbottom':['5', '10', '15', '20', '25']\n\n        //lineheight\n        //行内间距 值和显示的名字相同\n        //,'lineheight':['1', '1.5','1.75','2', '3', '4', '5']\n\n        //customstyle\n        //自定义样式，不支持国际化，此处配置值即可最后显示值\n        //block的元素是依据设置段落的逻辑设置的，inline的元素依据BIU的逻辑设置\n        //尽量使用一些常用的标签\n        //参数说明\n        //tag 使用的标签名字\n        //label 显示的名字也是用来标识不同类型的标识符，注意这个值每个要不同，\n        //style 添加的样式\n        //每一个对象就是一个自定义的样式\n        //,'customstyle':[\n        //    {tag:'h1', name:'tc', label:'', style:'border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;'},\n        //    {tag:'h1', name:'tl',label:'', style:'border-bottom:#ccc 2px solid;padding:0 4px 0 0;margin:0 0 10px 0;'},\n        //    {tag:'span',name:'im', label:'', style:'font-style:italic;font-weight:bold'},\n        //    {tag:'span',name:'hi', label:'', style:'font-style:italic;font-weight:bold;color:rgb(51, 153, 204)'}\n        //]\n\n        //打开右键菜单功能\n        //,enableContextMenu: true\n        //右键菜单的内容，可以参考plugins/contextmenu.js里边的默认菜单的例子，label留空支持国际化，否则以此配置为准\n        //,contextMenu:[\n        //    {\n        //        label:'',       //显示的名称\n        //        cmdName:'selectall',//执行的command命令，当点击这个右键菜单时\n        //        //exec可选，有了exec就会在点击时执行这个function，优先级高于cmdName\n        //        exec:function () {\n        //            //this是当前编辑器的实例\n        //            //this.ui._dialogs['inserttableDialog'].open();\n        //        }\n        //    }\n        //]\n\n        //快捷菜单\n        //,shortcutMenu:[\"fontfamily\", \"fontsize\", \"bold\", \"italic\", \"underline\", \"forecolor\", \"backcolor\", \"insertorderedlist\", \"insertunorderedlist\"]\n\n        //elementPathEnabled\n        //是否启用元素路径，默认是显示\n        //,elementPathEnabled : true\n\n        //wordCount\n        //,wordCount:true          //是否开启字数统计\n        //,maximumWords:10000       //允许的最大字符数\n        //字数统计提示，{#count}代表当前字数，{#leave}代表还可以输入多少字符数,留空支持多语言自动切换，否则按此配置显示\n        //,wordCountMsg:''   //当前已输入 {#count} 个字符，您还可以输入{#leave} 个字符\n        //超出字数限制提示  留空支持多语言自动切换，否则按此配置显示\n        //,wordOverFlowMsg:''    //<span style=\"color:red;\">你输入的字符个数已经超出最大允许值，服务器可能会拒绝保存！</span>\n\n        //tab\n        //点击tab键时移动的距离,tabSize倍数，tabNode什么字符做为单位\n        //,tabSize:4\n        //,tabNode:'&nbsp;'\n\n        //removeFormat\n        //清除格式时可以删除的标签和属性\n        //removeForamtTags标签\n        //,removeFormatTags:'b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var'\n        //removeFormatAttributes属性\n        //,removeFormatAttributes:'class,style,lang,width,height,align,hspace,valign'\n\n        //undo\n        //可以最多回退的次数,默认20\n        //,maxUndoCount:20\n        //当输入的字符数超过该值时，保存一次现场\n        //,maxInputCount:1\n\n        //autoHeightEnabled\n        // 是否自动长高,默认true\n        //,autoHeightEnabled:true\n\n        //scaleEnabled\n        //是否可以拉伸长高,默认true(当开启时，自动长高失效)\n        //,scaleEnabled:false\n        //,minFrameWidth:800    //编辑器拖动时最小宽度,默认800\n        //,minFrameHeight:220  //编辑器拖动时最小高度,默认220\n\n        //autoFloatEnabled\n        //是否保持toolbar的位置不动,默认true\n        //,autoFloatEnabled:true\n        //浮动时工具栏距离浏览器顶部的高度，用于某些具有固定头部的页面\n        //,topOffset:30\n        //编辑器底部距离工具栏高度(如果参数大于等于编辑器高度，则设置无效)\n        //,toolbarTopOffset:400\n\n        //设置远程图片是否抓取到本地保存\n        //,catchRemoteImageEnable: true //设置是否抓取远程图片\n\n        //pageBreakTag\n        //分页标识符,默认是_ueditor_page_break_tag_\n        //,pageBreakTag:'_ueditor_page_break_tag_'\n\n        //autotypeset\n        //自动排版参数\n        //,autotypeset: {\n        //    mergeEmptyline: true,           //合并空行\n        //    removeClass: true,              //去掉冗余的class\n        //    removeEmptyline: false,         //去掉空行\n        //    textAlign:\"left\",               //段落的排版方式，可以是 left,right,center,justify 去掉这个属性表示不执行排版\n        //    imageBlockLine: 'center',       //图片的浮动方式，独占一行剧中,左右浮动，默认: center,left,right,none 去掉这个属性表示不执行排版\n        //    pasteFilter: false,             //根据规则过滤没事粘贴进来的内容\n        //    clearFontSize: false,           //去掉所有的内嵌字号，使用编辑器默认的字号\n        //    clearFontFamily: false,         //去掉所有的内嵌字体，使用编辑器默认的字体\n        //    removeEmptyNode: false,         // 去掉空节点\n        //    //可以去掉的标签\n        //    removeTagNames: {标签名字:1},\n        //    indent: false,                  // 行首缩进\n        //    indentValue : '2em',            //行首缩进的大小\n        //    bdc2sb: false,\n        //    tobdc: false\n        //}\n\n        //tableDragable\n        //表格是否可以拖拽\n        //,tableDragable: true\n\n\n        //sourceEditor\n        //源码的查看方式,codemirror 是代码高亮，textarea是文本框,默认是codemirror\n        //注意默认codemirror只能在ie8+和非ie中使用\n        //,sourceEditor:\"codemirror\"\n        //如果sourceEditor是codemirror，还用配置一下两个参数\n        //codeMirrorJsUrl js加载的路径，默认是 URL + \"third-party/codemirror/codemirror.js\"\n        //,codeMirrorJsUrl:URL + \"third-party/codemirror/codemirror.js\"\n        //codeMirrorCssUrl css加载的路径，默认是 URL + \"third-party/codemirror/codemirror.css\"\n        //,codeMirrorCssUrl:URL + \"third-party/codemirror/codemirror.css\"\n        //编辑器初始化完成后是否进入源码模式，默认为否。\n        //,sourceEditorFirst:false\n\n        //iframeUrlMap\n        //dialog内容的路径 ～会被替换成URL,垓属性一旦打开，将覆盖所有的dialog的默认路径\n        //,iframeUrlMap:{\n        //    'anchor':'~/dialogs/anchor/anchor.html',\n        //}\n\n        //allowLinkProtocol 允许的链接地址，有这些前缀的链接地址不会自动添加http\n        //, allowLinkProtocols: ['http:', 'https:', '#', '/', 'ftp:', 'mailto:', 'tel:', 'git:', 'svn:']\n\n        //webAppKey 百度应用的APIkey，每个站长必须首先去百度官网注册一个key后方能正常使用app功能，注册介绍，http://app.baidu.com/static/cms/getapikey.html\n        //, webAppKey: \"\"\n\n        //默认过滤规则相关配置项目\n        //,disabledTableInTable:true  //禁止表格嵌套\n        //,allowDivTransToP:true      //允许进入编辑器的div标签自动变成p标签\n        //,rgb2Hex:true               //默认产出的数据中的color自动从rgb格式变成16进制格式\n\n        // xss 过滤是否开启,inserthtml等操作\n        ,\n        xssFilterRules: true\n        //input xss过滤\n        ,\n        inputXssFilter: true\n        //output xss过滤\n        ,\n        outputXssFilter: true\n        // xss过滤白名单 名单来源: https://raw.githubusercontent.com/leizongmin/js-xss/master/lib/default.js\n        ,\n        whitList: {\n            a: ['target', 'href', 'title', 'class', 'style'],\n            abbr: ['title', 'class', 'style'],\n            address: ['class', 'style'],\n            area: ['shape', 'coords', 'href', 'alt'],\n            article: [],\n            aside: [],\n            audio: ['autoplay', 'controls', 'loop', 'preload', 'src', 'class', 'style'],\n            b: ['class', 'style'],\n            bdi: ['dir'],\n            bdo: ['dir'],\n            big: [],\n            blockquote: ['cite', 'class', 'style'],\n            br: [],\n            caption: ['class', 'style'],\n            center: [],\n            cite: [],\n            code: ['class', 'style'],\n            col: ['align', 'valign', 'span', 'width', 'class', 'style'],\n            colgroup: ['align', 'valign', 'span', 'width', 'class', 'style'],\n            dd: ['class', 'style'],\n            del: ['datetime'],\n            details: ['open'],\n            div: ['class', 'style'],\n            dl: ['class', 'style'],\n            dt: ['class', 'style'],\n            em: ['class', 'style'],\n            font: ['color', 'size', 'face'],\n            footer: [],\n            h1: ['class', 'style'],\n            h2: ['class', 'style'],\n            h3: ['class', 'style'],\n            h4: ['class', 'style'],\n            h5: ['class', 'style'],\n            h6: ['class', 'style'],\n            header: [],\n            hr: [],\n            i: ['class', 'style'],\n            img: ['src', 'alt', 'title', 'width', 'height', 'id', '_src', 'loadingclass', 'class', 'data-latex'],\n            ins: ['datetime'],\n            li: ['class', 'style'],\n            mark: [],\n            nav: [],\n            ol: ['class', 'style'],\n            p: ['class', 'style'],\n            pre: ['class', 'style'],\n            s: [],\n            section: [],\n            small: [],\n            span: ['class', 'style'],\n            sub: ['class', 'style'],\n            sup: ['class', 'style'],\n            strong: ['class', 'style'],\n            table: ['width', 'border', 'align', 'valign', 'class', 'style'],\n            tbody: ['align', 'valign', 'class', 'style'],\n            td: ['width', 'rowspan', 'colspan', 'align', 'valign', 'class', 'style'],\n            tfoot: ['align', 'valign', 'class', 'style'],\n            th: ['width', 'rowspan', 'colspan', 'align', 'valign', 'class', 'style'],\n            thead: ['align', 'valign', 'class', 'style'],\n            tr: ['rowspan', 'align', 'valign', 'class', 'style'],\n            tt: [],\n            u: [],\n            ul: ['class', 'style'],\n            video: ['autoplay', 'controls', 'loop', 'preload', 'src', 'height', 'width', 'class', 'style']\n        }\n    };\n\n    function getUEBasePath(docUrl, confUrl) {\n\n        return getBasePath(docUrl || self.document.URL || self.location.href, confUrl || getConfigFilePath());\n\n    }\n\n    function getConfigFilePath() {\n\n        var configPath = document.getElementsByTagName('script');\n\n        return configPath[configPath.length - 1].src;\n\n    }\n\n    function getBasePath(docUrl, confUrl) {\n\n        var basePath = confUrl;\n\n\n        if (/^(\\/|\\\\\\\\)/.test(confUrl)) {\n\n            basePath = /^.+?\\w(\\/|\\\\\\\\)/.exec(docUrl)[0] + confUrl.replace(/^(\\/|\\\\\\\\)/, '');\n\n        } else if (!/^[a-z]+:/i.test(confUrl)) {\n\n            docUrl = docUrl.split(\"#\")[0].split(\"?\")[0].replace(/[^\\\\\\/]+$/, '');\n\n            basePath = docUrl + \"\" + confUrl;\n\n        }\n\n        return optimizationPath(basePath);\n\n    }\n\n    function optimizationPath(path) {\n\n        var protocol = /^[a-z]+:\\/\\//.exec(path)[0],\n            tmp = null,\n            res = [];\n\n        path = path.replace(protocol, \"\").split(\"?\")[0].split(\"#\")[0];\n\n        path = path.replace(/\\\\/g, '/').split(/\\//);\n\n        path[path.length - 1] = \"\";\n\n        while (path.length) {\n\n            if ((tmp = path.shift()) === \"..\") {\n                res.pop();\n            } else if (tmp !== \".\") {\n                res.push(tmp);\n            }\n\n        }\n\n        return protocol + res.join(\"/\");\n\n    }\n\n    window.UE = {\n        getUEBasePath: getUEBasePath\n    };\n\n})();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/scripts/utf8-jsp/ueditor.config.js\n// module id = rJJT\n// module chunks = 57","<template>\r\n  <el-upload :action=\"action\" :on-success=\"handleChange\" :on-remove=\"handleRemove\" :file-list=\"mailFileList\" :accept=\"accept\">\r\n    <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n  </el-upload>\r\n</template>\r\n<script>\r\n/**\r\n * @author LJW 20171206\r\n * @description 文件上传操作框组件\r\n *\r\n */\r\nexport default {\r\n  props: {\r\n    url: {\r\n      type: String,\r\n      default: \"rest/mailService/upLoadFile/file\"\r\n    },\r\n    fileList1: {\r\n      type: String,\r\n      default() {\r\n        return \"\";\r\n      }\r\n    },\r\n    accept: {\r\n      type: String,\r\n      default() {\r\n        return \"*\";\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      filename: \"\",\r\n      mailFileList: []\r\n    };\r\n  },\r\n  watch: {\r\n    fileList1: function(newData, oldData) {\r\n      this.filename = this.fileList1;\r\n      this.mailFileList = this.fileList1\r\n        .split(\";\")\r\n        .filter(function(item, index) {\r\n          if (item.trim() != \"\") {\r\n            return item;\r\n          }\r\n        })\r\n        .map(function(item, index) {\r\n          return {\r\n            name: item.substring(item.lastIndexOf(\"/\") + 1),\r\n            url: item\r\n          };\r\n        });\r\n    }\r\n  },\r\n  computed: {\r\n    action() {\r\n      return \"api/\" + this.url;\r\n    }\r\n  },\r\n  methods: {\r\n    // 文件上传成功后返回后台传入的地址；失败提示错误信息，不进行操作\r\n    handleChange(response, file, fileList) {\r\n      if (response.success) {\r\n        this.filename += response.data + \";\";\r\n        this.$emit(\"change\", response.data);\r\n      } else {\r\n        let len = this.fileList1.length;\r\n        this.$message.error(response.msg);\r\n        this.$emit(\"error\", this.fileList1.slice(\"-\" + len));\r\n      }\r\n    },\r\n    // 删除附件信息返回删除的地址\r\n    handleRemove(file, fileList) {\r\n      this.filename = this.filename.replace(curFile + \";\", \"\");\r\n      this.$emit(\"remove\", file.response.data);\r\n    },\r\n    getFileName() {\r\n      return this.filename;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/base/fileUpload.vue?6ab9f9ae","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0dfa2c52\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./analysis.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./analysis.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0dfa2c52\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./analysis.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0dfa2c52\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/analysis/analysis.vue\n// module id = soPF\n// module chunks = 57","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"panel-flex\",\n    style: ({\n      width: _vm.width,\n      padding: _vm.padValue\n    })\n  }, [_c('div', {\n    class: {\n      'panel-flex-1': !_vm.leftWidth\n    },\n    style: ({\n      width: _vm.leftWidth,\n      'min-width': _vm.leftWidth,\n      height: _vm.height\n    })\n  }, [_vm._t(\"left\")], 2), _vm._v(\" \"), _c('div', {\n    class: {\n      'panel-flex-1': !_vm.rightWidth\n    },\n    style: ({\n      width: _vm.rightWidth,\n      height: _vm.height\n    })\n  }, [_vm._t(\"right\")], 2), _vm._v(\" \"), _vm._t(\"default\")], 2)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-2d5a7b27\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/pageLayout/equalHeightPanel.vue\n// module id = stRy\n// module chunks = 57","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./echarts.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-566bf778\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./echarts.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/base/echarts.vue\n// module id = tDMO\n// module chunks = 57","<template>\r\n    <div class=\"analysis-panel\" :style=\"{width:width}\">\r\n        <h3 class=\"text-center\">{{title}}</h3>\r\n        <div class=\"analysis-panel-body\">\r\n            <slot></slot>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: \"分析结论\"\r\n    },\r\n    width: {\r\n      type: String,\r\n      default: \"280px\"\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.analysis-panel {\r\n  border: 1px solid #78adfe;\r\n}\r\n\r\n.analysis-panel h3 {\r\n  line-height: 30px;\r\n  background-color: #13599f;\r\n  color: #fff;\r\n}\r\n.analysis-panel .analysis-panel-body {\r\n  padding: 10px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/analysis/analysis.vue?3e21d8a8","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"date-time\",\n    style: ({\n      width: _vm.width\n    })\n  }, [(_vm.type === 'datetimerange' || _vm.type === 'daterange') ? _c('el-date-picker', {\n    attrs: {\n      \"type\": _vm.type,\n      \"placeholder\": \"选择日期范围\",\n      \"range-separator\": _vm.rangeSeparator,\n      \"start-placeholder\": _vm.startPlaceholder,\n      \"editable\": false\n    },\n    model: {\n      value: (_vm.time),\n      callback: function($$v) {\n        _vm.time = $$v\n      },\n      expression: \"time\"\n    }\n  }) : _c('div', {\n    staticClass: \"date-time-wrap\"\n  }, [(_vm.label.sLabel) ? _c('span', [_vm._v(_vm._s(_vm.label.sLabel))]) : _vm._e(), _vm._v(\" \"), _c('el-date-picker', {\n    staticClass: \"date-time-input\",\n    attrs: {\n      \"format\": _vm.changeFormat(_vm.format[_vm.type]),\n      \"type\": _vm.type,\n      \"placeholder\": \"选择日期范围\",\n      \"editable\": false\n    },\n    on: {\n      \"change\": _vm.handleStartTime\n    },\n    model: {\n      value: (_vm.stime),\n      callback: function($$v) {\n        _vm.stime = $$v\n      },\n      expression: \"stime\"\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.label.eLabel))]), _vm._v(\" \"), _c('el-date-picker', {\n    staticClass: \"date-time-input\",\n    attrs: {\n      \"format\": _vm.changeFormat(_vm.format[_vm.type]),\n      \"type\": _vm.type,\n      \"picker-options\": _vm.pickerOptions,\n      \"placeholder\": \"选择日期范围\",\n      \"editable\": false\n    },\n    on: {\n      \"change\": _vm.handleEndTime\n    },\n    model: {\n      value: (_vm.etime),\n      callback: function($$v) {\n        _vm.etime = $$v\n      },\n      expression: \"etime\"\n    }\n  })], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-44400d7e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/base/dateTime.vue\n// module id = tunb\n// module chunks = 57","/**\r\n * 表单验证规则模块\r\n * 20180105 ljw\r\n */\r\nimport {\r\n    varType,\r\n    extend,\r\n    trimAll,\r\n    changeArr\r\n} from './util';\r\nimport Vue from \"./vueutil\";\r\n\r\n/**\r\n * 使用方法(结合elementui的表单验证总结)：\r\n * <el-form :rule=\"ruleForm\"></el-form>\r\n *\r\n * data() {\r\n *   ruleForm:this.eachValidate({\r\n *      name:{required:true},\r\n *      email:{email:true, required:true}\r\n *   })\r\n * }\r\n *\r\n * 常用验证方法如下：\r\n * required:true(必填)\r\n * tel:true(固定电话)\r\n * 数值大小判断：len:5(等于5)  min:5(不小于5)  max:10(不大于10) range:[5,10](5到10之间)\r\n * number:true(数字)\r\n * digits:true(整数)\r\n * url:true\r\n * email:true\r\n * creditcard:true(信用卡)\r\n * accept : \".jpg|.png\"(合法后缀)\r\n * idCardNo : true(身份证验证)\r\n * mobile : true(手机电话)\r\n * tel : true(固定)\r\n * telAndMobile : true(手机号码/固定电话)\r\n * code : true(邮政编码)\r\n *\r\n * stringCheck : true（中文字、英文字母、数字和下划线,不能包含分发字符）\r\n * account: true(只能输入英文、数字或下划线)\r\n * alnum : true(英文字母或数字)\r\n * chcharacter : true(只能输入汉字)\r\n * imeDisabled: true(不能输入汉字)\r\n * string : true(字符验证)\r\n * letter ： true(只能输入英文字母)\r\n *\r\n * notSpace : true(不能为空格)\r\n * exclusive:\"abc\"(验证值不允许包含特定值)\r\n * unequal:\"abc\"(验证值不允许等于特定值)\r\n * dateTime: true(时间,格式为yyyy-mm-dd)\r\n *\r\n * lenString : 5(字符长度必须等于5)\r\n * rangeString : [5,10](字符长度在5到10内)\r\n * minString : 10(字符串最小长度)\r\n * maxString : 50(字符串最大长度)\r\n *\r\n * min:5(数值不得小于5)\r\n * max:10(数值不得大于10)\r\n * range:[5,10](数值在5到10内)\r\n * len: 5(数值等于5)\r\n *\r\n * remote:\"\"/[]/{}(ajax请求后台返回错误信息)传字符串url（get请求）、数组[url, paramsName]（get请求）、ajax请求的对象{}\r\n * customVail:funcitnName(自定义校验规则)\r\n */\r\n\r\n// 15位身份证时间验证\r\nfunction isDate6(sDate) {\r\n    if (!/^[0-9]{6}$/.test(sDate)) {\r\n        return false;\r\n    }\r\n    var year, month, day;\r\n    year = sDate.substring(0, 4);\r\n    month = sDate.substring(4, 6);\r\n    if (year < 1800 || year > 2100)\r\n        return false\r\n    if (month < 1 || month > 12)\r\n        return false\r\n    return true\r\n}\r\n\r\n// 18位身份证时间验证\r\nfunction isDate8(sDate) {\r\n    if (!/^[0-9]{8}$/.test(sDate)) {\r\n        return false;\r\n    }\r\n    var year, month, day;\r\n    year = sDate.substring(0, 4);\r\n    month = sDate.substring(4, 6);\r\n    day = sDate.substring(6, 8);\r\n    var iaMonthDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\r\n    if (year < 1800 || year > 2100)\r\n        return false\r\n    if (((year % 4 == 0) && (year % 100 != 0)) || (year % 400 == 0))\r\n        iaMonthDays[1] = 29;\r\n    if (month < 1 || month > 12)\r\n        return false\r\n    if (day < 1 || day > iaMonthDays[month - 1])\r\n        return false\r\n    return true\r\n}\r\n\r\nvar validate = {\r\n    number: (rule, value, callback, source, options) => {\r\n        if (value === '' || value === null) {\r\n            return callback();\r\n\r\n        }\r\n        if (!isNaN(value)) { //varType(value) === \"number\"\r\n            switch (rule.type) {\r\n                case \"number\":\r\n                    callback();\r\n                    break;\r\n                case \"len\":\r\n                    if (value !== Number(rule.data)) {\r\n                        callback(new Error((rule.name || \"数值\") + \"必须等于\" + rule.data));\r\n                    } else {\r\n                        callback();\r\n                    }\r\n                    break;\r\n                case \"min\":\r\n                    if (value < Number(rule.data)) {\r\n                        callback(new Error((rule.name || \"数值\") + \"不得小于\" + rule.data));\r\n                    } else {\r\n                        callback();\r\n                    }\r\n                    break;\r\n                case \"max\":\r\n                    if (value > Number(rule.data)) {\r\n                        callback(new Error((rule.name || \"数值\") + \"不得大于\" + rule.data));\r\n                    } else {\r\n                        callback();\r\n                    }\r\n                    break;\r\n                case \"range\":\r\n                    if (value < Number(rule.data[0]) || value > Number(rule.data[1])) {\r\n                        callback(new Error((rule.name || \"数值\") + \"必须在\" + rule.data[0] + \"和\" + rule.data[1] + \"之间\"));\r\n                    } else {\r\n                        callback();\r\n                    }\r\n                    break;\r\n            }\r\n        } else {\r\n            callback(new Error(\"请输入数字\"));\r\n        }\r\n    },\r\n    string: (rule, value, callback, source, options) => {\r\n        if (value === \"\" || value === undefined || value === null) {\r\n            callback();\r\n            return false;\r\n        }\r\n        if (varType(value) === \"string\") {\r\n            var len = value.length;\r\n            switch (rule.type) {\r\n                case \"len\":\r\n                    if (len !== Number(rule.data)) {\r\n                        callback(new Error((rule.name || \"字符\") + \"长度必须等于\" + rule.data));\r\n                    } else {\r\n                        callback();\r\n                    }\r\n                    break;\r\n                case \"min\":\r\n                    if (len < Number(rule.data)) {\r\n                        callback(new Error((rule.name || \"字符\") + \"长度不得小于\" + rule.data));\r\n                    } else {\r\n                        callback();\r\n                    }\r\n                    break;\r\n                case \"max\":\r\n                    if (len > Number(rule.data)) {\r\n                        callback(new Error((rule.name || \"字符\") + \"长度不得大于\" + rule.data));\r\n                    } else {\r\n                        callback();\r\n                    }\r\n                    break;\r\n                case \"range\":\r\n                    if (len < Number(rule.data[0]) || value > Number(rule.data[1])) {\r\n                        callback(new Error((rule.name || \"字符\") + \"长度必须在\" + rule.data[0] + \"和\" + rule.data[1] + \"之间\"));\r\n                    } else {\r\n                        callback();\r\n                    }\r\n                    break;\r\n                case \"exclusive\":\r\n                    if (value.indexOf(rule.data) > -1) {\r\n                        callback(new Error((rule.name || \"字符\") + \"不得包含\" + rule.data));\r\n                    } else {\r\n                        callback();\r\n                    }\r\n                    break;\r\n                case \"unequal\":\r\n                    if (value === rule.data) {\r\n                        callback(new Error((rule.name || \"字符\") + \"不得与\" + rule.data + \"相同\"));\r\n                    } else {\r\n                        callback();\r\n                    }\r\n                    break;\r\n            }\r\n        } else {\r\n            callback(new Error(\"请输入字符串\"));\r\n        }\r\n    },\r\n    creditcard: (rule, value, callback, source, options) => {\r\n        value = trimAll(value); //去空\r\n        if (/[^0-9 \\-]+/.test(value)) {\r\n            callback(new Error(rule.message));\r\n        }\r\n        var nCheck = 0,\r\n            nDigit = 0,\r\n            bEven = false;\r\n        value = value.replace(/\\D/g, \"\");\r\n        for (var n = value.length - 1; n >= 0; n--) {\r\n            var cDigit = value.charAt(n);\r\n            nDigit = parseInt(cDigit, 10);\r\n            if (bEven) {\r\n                if ((nDigit *= 2) > 9) {\r\n                    nDigit -= 9\r\n                }\r\n            }\r\n            nCheck += nDigit;\r\n            bEven = !bEven\r\n        }\r\n        if (!((nCheck % 10) === 0)) {\r\n            callback(new Error(rule.message));\r\n        } else {\r\n            callback();\r\n        }\r\n    },\r\n    idCardNo: (rule, value, callback, source, options) => {\r\n        var factorArr = new Array(7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2, 1); // 加权因子\r\n        var parityBit = new Array(\"1\", \"0\", \"X\", \"9\", \"8\", \"7\", \"6\", \"5\", \"4\", \"3\", \"2\"); // 身份证验证位值\r\n        var varArray = new Array(),\r\n            i;\r\n        var intValue;\r\n        var lngProduct = 0;\r\n        var intCheckDigit;\r\n        var intStrLen = value.length;\r\n        var idNumber = value;\r\n        // 长度是否为15或18\r\n        if ((intStrLen != 15) && (intStrLen != 18)) {\r\n            callback(new Error(rule.message));\r\n            return false;\r\n        } else {\r\n            for (i = 0; i < intStrLen; i++) {\r\n                varArray[i] = idNumber.charAt(i);\r\n                if ((varArray[i] < '0' || varArray[i] > '9') && (i != 17)) {\r\n                    callback(new Error(rule.message));\r\n                    return false;\r\n                } else if (i < 17) {\r\n                    varArray[i] = varArray[i] * factorArr[i];\r\n                }\r\n            }\r\n\r\n            if (intStrLen == 18) { // 长度为18位\r\n                // 日期校验\r\n                var date8 = idNumber.substring(6, 14);\r\n                if (isDate8(date8) == false) {\r\n                    callback(new Error(rule.message));\r\n                    return false;\r\n                }\r\n                // 计算前17位身份证数字总和\r\n                for (i = 0; i < 17; i++) {\r\n                    lngProduct = lngProduct + varArray[i];\r\n                }\r\n                // 计算最后一位验证码的结果\r\n                intCheckDigit = parityBit[lngProduct % 11];\r\n                // 检查最后一个数字\r\n                if (varArray[17] != intCheckDigit) {\r\n                    callback(new Error(rule.message));\r\n                    return false;\r\n                }\r\n            } else { // 长度为15位\r\n                // 日期校验\r\n                var date6 = idNumber.substring(6, 12);\r\n                if (isDate6(date6) == false) {\r\n                    callback(new Error(rule.message));\r\n                    return false;\r\n                }\r\n            }\r\n            callback();\r\n        }\r\n    },\r\n    accept: (rule, value, callback, source, options) => {\r\n        if (new RegExp(rule.data + \"$\").test(value)) {\r\n            callback();\r\n        } else {\r\n            callback(new Error(\"请输入以\" + rule.data + \"为后缀名的字符串\"));\r\n        }\r\n    },\r\n    regExp: (rule, value, callback, source, options) => {\r\n        if (value === \"\") {\r\n            callback();\r\n        } else {\r\n            if (new RegExp(rule.data).test(value)) {\r\n                callback();\r\n            } else {\r\n                callback(new Error(rule.message));\r\n            }\r\n        }\r\n    },\r\n    regExpEcho: (rule, value, callback, source, options) => {\r\n        if (value === \"\") {\r\n            callback();\r\n        } else {\r\n            if (new RegExp(rule.data).test(value)) {\r\n                callback(new Error(rule.message));\r\n            } else {\r\n                callback();\r\n            }\r\n        }\r\n    },\r\n    regExpArr: (rule, value, callback, source, options) => {\r\n        if (varType(rule.data) === \"object\") {\r\n            rule.data.length = Object.keys(rule.data).length; //XXX 兼容性未知\r\n            rule.data = changeArr(rule.data);\r\n        }\r\n        value = trimAll(value);\r\n        if (value === \"\") {\r\n            callback();\r\n        } else {\r\n            if (rule.data.some(function(item) {\r\n                    return new RegExp(item).test(value);\r\n                })) {\r\n                callback();\r\n            } else {\r\n                callback(new Error(rule.message));\r\n            }\r\n        }\r\n    },\r\n    remote: (rule, value, callback, source, options) => {\r\n        var ajaxObj = {\r\n            method: \"GET\",\r\n            url: \"\",\r\n            params: {}\r\n        };\r\n        if (varType(rule.data) === \"array\") {\r\n            ajaxObj.url = rule.data[0];\r\n            ajaxObj.params[rule.data[1]] = value;\r\n            // } else if (varType(rule.data) === \"object\") {\r\n            //     ajaxObj = rule.data;\r\n        } else {\r\n            ajaxObj.url = rule.data;\r\n            ajaxObj.params.account = value;\r\n        }\r\n\r\n        ajaxObj.noLoading = true;\r\n\r\n        Vue.prototype.$ajax(ajaxObj).then((res) => {\r\n            if (!res.data.success) {\r\n                return callback(new Error(res.data.msg || \"验证不通过\"))\r\n            } else {\r\n                callback();\r\n            }\r\n        }).catch((err) => {\r\n            console.log(err);\r\n        });\r\n    }\r\n};\r\nvar ruleType = {\r\n    required: {\r\n        required: true,\r\n        message: '不能为空',\r\n        trigger: 'blur'\r\n    },\r\n    email: {\r\n        type: 'email',\r\n        message: '请输入正确的邮箱地址',\r\n        trigger: 'blur'\r\n    },\r\n    url: {\r\n        type: 'url',\r\n        message: '请输入正确的网址格式',\r\n        trigger: 'blur'\r\n    },\r\n    //数值\r\n    number: {\r\n        validator: validate.number,\r\n        type: 'number',\r\n        message: \"请输入数字\",\r\n        trigger: 'blur'\r\n    },\r\n    digits: {\r\n        type: 'integer',\r\n        message: \"请输入整数\",\r\n        trigger: 'blur'\r\n    },\r\n    creditcard: {\r\n        validator: validate.creditcard,\r\n        message: \"请输入正确的信用卡号\",\r\n        trigger: 'blur'\r\n    },\r\n    len: {\r\n        validator: validate.number,\r\n        type: \"len\",\r\n        trigger: 'blur'\r\n    },\r\n    min: {\r\n        validator: validate.number,\r\n        type: \"min\",\r\n        trigger: 'blur'\r\n    },\r\n    max: {\r\n        validator: validate.number,\r\n        type: \"max\",\r\n        trigger: 'blur'\r\n    },\r\n    range: {\r\n        validator: validate.number,\r\n        type: \"range\",\r\n        trigger: 'blur'\r\n    },\r\n\r\n    accept: {\r\n        validator: validate.accept,\r\n        trigger: 'blur'\r\n    },\r\n    stringCheck: { //[a-zA-Z][A-Za-z0-9_]\r\n        validator: validate.regExp,\r\n        data: \"^[\\\\u4E00-\\\\u9FA5A-Za-z0-9_]+$\",\r\n        message: \"只允许输入中文字、英文字母、数字和下划线\",\r\n        trigger: 'blur'\r\n    },\r\n    account: {\r\n        validator: validate.regExp,\r\n        data: \"^[A-Za-z0-9_]+$\",\r\n        message: \"只允许输入英文、数字或下划线\",\r\n        trigger: 'blur'\r\n    },\r\n    alnum: {\r\n        validator: validate.regExp,\r\n        data: \"^[a-zA-Z0-9]+$\",\r\n        message: \"只允许输入英文字母或数字\",\r\n        trigger: 'blur'\r\n    },\r\n    chcharacter: {\r\n        validator: validate.regExp,\r\n        data: \"^[\\\\u4e00-\\\\u9fa5]+$\",\r\n        message: \"只允许输入中文\",\r\n        trigger: 'blur'\r\n    },\r\n    imeDisabled: {\r\n        validator: validate.regExpEcho,\r\n        data: \"^[\\\\u4e00-\\\\u9fa5]+$\",\r\n        message: \"不允许输入中文\",\r\n        trigger: 'blur'\r\n    },\r\n    letter: {\r\n        validator: validate.regExp,\r\n        data: \"^[a-zA-Z]+$\",\r\n        message: \"只允许输入英文字母\",\r\n        trigger: 'blur'\r\n    },\r\n    idCardNo: {\r\n        validator: validate.idCardNo,\r\n        message: \"请输入正确的身份证号码\",\r\n        trigger: 'blur'\r\n    },\r\n    mobile: {\r\n        validator: validate.regExp,\r\n        data: \"^(\\\\d{3}|\\\\d{4})?(\\\\d{8}|\\\\d{7})?(\\\\d{1,6})?$\",\r\n        message: \"请输入正确的手机号码\",\r\n        trigger: 'blur'\r\n    },\r\n    tel: {\r\n        validator: validate.regExp,\r\n        data: \"^(0[0-9]{2,3}\\\\-)?([2-9][0-9]{6,7})+(\\\\-[0-9]{1,4})?$\",\r\n        message: \"请输入正确的固定电话\",\r\n        trigger: 'blur'\r\n    },\r\n    telAndMobile: {\r\n        validator: validate.regExpArr,\r\n        data: [\"^(0[0-9]{2,3}\\\\-)?([2-9][0-9]{6,7})+(\\\\-[0-9]{1,4})?$\", \"^(\\\\d{3}|\\\\d{4})?(\\\\d{8}|\\\\d{7})?(\\\\d{1,6})?$\"],\r\n        message: \"请输入正确的手机号码或固定电话\",\r\n        trigger: 'blur'\r\n    },\r\n    code: {\r\n        validator: validate.regExp,\r\n        data: \"[1-9]\\\\d{5}(?!\\\\d)\",\r\n        message: \"请输入正确的邮政编码\",\r\n        trigger: 'blur'\r\n    },\r\n    notSpace: {\r\n        validator: validate.regExp,\r\n        data: \"^[^\\\\s]+$\",\r\n        message: \"不允许有空格\",\r\n        trigger: 'blur'\r\n    },\r\n\r\n    string: {\r\n        type: 'string',\r\n        message: \"请输入字符串\",\r\n        trigger: 'blur'\r\n    },\r\n    lenString: {\r\n        validator: validate.string,\r\n        type: \"len\",\r\n        trigger: 'blur'\r\n    },\r\n    unequal: {\r\n        validator: validate.string,\r\n        type: \"unequal\",\r\n        trigger: 'blur'\r\n    },\r\n    exclusive: {\r\n        validator: validate.string,\r\n        type: \"exclusive\",\r\n        trigger: 'blur'\r\n    },\r\n    minString: {\r\n        validator: validate.string,\r\n        type: \"min\",\r\n        trigger: 'blur'\r\n    },\r\n    maxString: {\r\n        validator: validate.string,\r\n        type: \"max\",\r\n        trigger: 'blur'\r\n    },\r\n    rangeString: {\r\n        validator: validate.string,\r\n        type: \"range\",\r\n        trigger: 'blur'\r\n    },\r\n    dateTime: {\r\n        validator: validate.regExp,\r\n        data: \"^(\\\\d{4})-(0\\\\d{1}|1[0-2])-(0\\\\d{1}|[12]\\\\d{1}|3[01])$\",\r\n        message: \"请输入正确的时间格式\",\r\n        trigger: 'blur'\r\n    },\r\n    remote: {\r\n        validator: validate.remote,\r\n        trigger: 'blur'\r\n    },\r\n    customVail: {\r\n        trigger: 'blur'\r\n    }\r\n};\r\n\r\nexport default ruleType;\n\n\n// WEBPACK FOOTER //\n// ./src/util/validate.js","import Vue from 'vue'\r\n\r\nconst store = {\r\n    state: { //存放组件共享的数据\r\n    },\r\n    getters: { //类似于计算属性\r\n\r\n    },\r\n    actions: {},\r\n    mutations: {}\r\n}\r\nexport default store\n\n\n// WEBPACK FOOTER //\n// ./src/store/store.js","<template>\r\n    <transition name=\"loading\" @after-leave=\"handleAfterLeave\">\r\n        <div v-show=\"visible\" class=\"loading-mask\" :class=\"{'fullscreen': fullscreen}\">\r\n            <div class=\"loading\">\r\n                ...\r\n            </div>\r\n            <div class=\"loading-text\" v-if=\"text\">\r\n                {{ text }}\r\n            </div>\r\n        </div>\r\n    </transition>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"loading\",\r\n  data() {\r\n    return {\r\n      visible: true,\r\n      fullscreen: true,\r\n      text: \"正在加载中\"\r\n    };\r\n  },\r\n  methods: {\r\n    handleAfterLeave() {\r\n      this.$emit(\"after-leave\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.loading-mask {\r\n  position: absolute;\r\n  z-index: 10000;\r\n  background-color: rgba(255, 235, 215, 0.8);\r\n  margin: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  transition: opacity 0.3s;\r\n}\r\n.loading-mask.fullscreen {\r\n  position: fixed;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/base/vLoading/vLoading.vue?712f7986","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1b042ddd\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./myTransfer.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./myTransfer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1b042ddd\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./myTransfer.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/base/myTransfer.vue\n// module id = yJdf\n// module chunks = 57","import UUID from './uuId.js'\r\n\r\nfunction getCookie(name) {\r\n    var arr,\r\n        reg = new RegExp(\"(^| )\" + name + \"=([^;]*)(;|$)\");\r\n    if (arr = document.cookie.match(reg))\r\n        return (arr[2]);\r\n    else\r\n        return null;\r\n}\r\n\r\n//设置cookie,增加到vue实例方便全局调用\r\nfunction setCookie(c_name, value, expiredays) {\r\n    var exdate = new Date();\r\n    exdate.setDate(exdate.getDate() + expiredays);\r\n    document.cookie = c_name + \"=\" + escape(value) + ((expiredays == null) ?\r\n        \"\" :\r\n        \";expires=\" + exdate.toGMTString());\r\n};\r\n\r\n//删除cookie\r\nfunction delCookie(name) {\r\n    var exp = new Date();\r\n    exp.setTime(exp.getTime() - 1);\r\n    var cval = getCookie(name);\r\n    if (cval != null) {\r\n        document.cookie = name + \"=\" + cval + \";expires=\" + exp.toGMTString();\r\n    }\r\n};\r\n\r\n/**\r\n * 清空cookie\r\n */\r\nfunction clearCookie() {\r\n    var keys = document\r\n        .cookie\r\n        .match(/[^ =;]+(?=\\=)/g);\r\n    if (keys) {\r\n        for (var i = keys.length; i--;)\r\n            document.cookie = keys[i] + '=0;expires=' + new Date(0).toUTCString()\r\n    }\r\n}\r\n\r\n/*功能:根据key,获取value;\r\n * arr: 树状数据;\r\n * itemKey: 树状数据对应的key\r\n * itmeValue: 树状数据返回另一个key的值;\r\n * value: 树状数据对应的key与实际相等的值\r\n * */\r\nfunction getValue(arr, itemKey1, itemKey2, value, setV) {\r\n    arr\r\n        .forEach(function(item) {\r\n            if (item[itemKey1] === value) {\r\n                setV = item[itemKey2];\r\n                return\r\n            } else {\r\n                if (item.children) {\r\n                    getValue(item.children, itemKey1, itemKey2, value)\r\n                }\r\n            }\r\n        })\r\n}\r\n\r\n/*功能:根据id,获取name;\r\n * arr: 对象;\r\n * itemKey: 对象的id\r\n * itmeValue: 对象的name;\r\n * value: 已知的id的值\r\n * */\r\nfunction findValue(obj, itemKey1, itemKey2, value) {\r\n    if (obj[itemKey1] === value) {\r\n        return obj[itemKey2]\r\n    }\r\n}\r\n\r\n//数组转成对象\r\nfunction changeTree(arr, id, name, obj) {\r\n    arr\r\n        .forEach(function(item) {\r\n            obj[item[id]] = item[name];\r\n            if (item.children && item.children.length > 0) {\r\n                changeTree(item.children, id, name, obj)\r\n            }\r\n        });\r\n}\r\n// 数组转成对象\r\nfunction changeToTree(arr, id) {\r\n    let obj = {};\r\n    arr.forEach(function(item) {\r\n        obj[item[id]] = item;\r\n        if (item.children && item.children.length > 0) {\r\n            extend(obj, changeTree(item.children, id));\r\n        }\r\n    });\r\n    return obj;\r\n}\r\n\r\n//类数组转成数组\r\nfunction changeArr(obj) {\r\n    return Array\r\n        .prototype\r\n        .slice\r\n        .call(obj);\r\n}\r\n\r\n/**\r\n *\r\n * @desc 字符串去空（前后）\r\n * @param {String} str\r\n * @return {Boolean}\r\n */\r\nfunction trim(str) {\r\n    return str.replace(/[^\\s*]|[\\s$]/g, \"\");\r\n};\r\n\r\n/**\r\n *\r\n * @desc 字符串去空（所有）\r\n * @param {String} str\r\n * @return {Boolean}\r\n */\r\nfunction trimAll(str) {\r\n    return str.replace(/\\s*/g, \"\");\r\n};\r\n\r\n/**\r\n * \r\n * 数组遍历\r\n * @param {Array} arr\r\n * @param {Function} callback\r\n * */\r\nfunction each(arr, callback) {\r\n    for (let i = 0, len = arr.length; i < len; i++) {\r\n        callback(arr[i], i);\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n * @desc 判断两个数组是否相等\r\n * @param {Array} arr1\r\n * @param {Array} arr2\r\n * @return {Boolean}\r\n */\r\nfunction arrayEqual(arr1, arr2) {\r\n    if (arr1 === arr2) {\r\n        return true;\r\n    }\r\n    if (arr1.length != arr2.length)\r\n        return false;\r\n\r\n    for (var i = 0; i < arr1.length; ++i) {\r\n        if (arr1[i] !== arr2[i])\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\n\r\n/**\r\n *\r\n * @desc 判断数组内元素是否重复\r\n * @param {Array} arr\r\n * @param {String} attr\r\n * @return {res} 返回新的去重数组\r\n */\r\n// DOTO\r\nfunction unique(arr, attr) {\r\n    var res = [];\r\n    var json = {};\r\n    for (var i = 0; i < arr.length; i++) {\r\n        let name = attr ? arr[i].attr : arr[i];\r\n        if (!json[name]) {\r\n            res.push(arr[i]);\r\n            json[name] = 1;\r\n        }\r\n    }\r\n    return res;\r\n}\r\n\r\n/**\r\n *\r\n * @desc 生成随机数\r\n * @param {Number} min\r\n * @param {Number} min\r\n * @return {Boolean}\r\n */\r\nfunction randomNum(min, max) {\r\n    return Math.floor(min + Math.random() * (max - min));\r\n}\r\n\r\n/**\r\n *\r\n * @desc 生成32位随机数UUID\r\n * @param {Array} arr\r\n * @return {Boolean}\r\n */\r\nfunction randomUUID() {\r\n    return UUID\r\n        .prototype\r\n        .createUUID();\r\n}\r\n\r\n/**\r\n *\r\n * @desc   判断`obj`是否为空\r\n * @param  {Object} obj\r\n * @return {Boolean}\r\n */\r\nfunction isEmptyObject(obj) {\r\n    if (!obj || typeof obj !== 'object' || Array.isArray(obj)) {\r\n        return false;\r\n    }\r\n    return !Object\r\n        .keys(obj)\r\n        .length;\r\n}\r\n\r\n/**\r\n * 列表生成树\r\n *\r\n * @param list 需要排序的列表\r\n * @param id id标示\r\n * @param pid 父id标示\r\n * @param root 根节点标示\r\n * @return\r\n */\r\nfunction getTreeByList(list, id, pid, root) {\r\n    if ((!list instanceof Array) || list.length === 0) {\r\n        return [];\r\n    }\r\n    var head = {},\r\n        treeList = new Array(list.length),\r\n        indexMap = [],\r\n        len = list.length;\r\n    for (var i = 0; i < len; i++) {\r\n        indexMap.push(list[i][id]);\r\n        treeList[i] = list[i];\r\n    }\r\n\r\n    for (var j = 0; j < len; j++) {\r\n        let node = list[j];\r\n        if (indexMap.indexOf(node[pid]) === -1) {\r\n            addChildren2Map(head, node);\r\n            continue;\r\n        }\r\n        if (root === undefined ?\r\n            node[pid] === undefined :\r\n            node[pid] === root) {\r\n            addChildren2Map(head, node);\r\n        } else {\r\n            addChildren2Map(treeList[indexMap.indexOf(node[pid])], node);\r\n        }\r\n    }\r\n\r\n    return head.children;\r\n}\r\n\r\nfunction addChildren2Map(map, childMap) {\r\n    if (map.children === undefined) {\r\n        map.children = [];\r\n    }\r\n    map.children.push(childMap);\r\n}\r\n\r\n/**\r\n * 获取排序树\r\n *\r\n * @param list 需要排序的列表\r\n * @param root 根节点标示\r\n * @return\r\n */\r\n\r\nfunction getListByTree(tree, id, cid, pid, pidV) {\r\n    var list = [];\r\n    for (var i = 0, len = tree.length; i < len; i++) {\r\n        pidV\r\n            ?\r\n            tree[i][pid] = pidV :\r\n            \"\";\r\n        list.push(tree[i]);\r\n        if (tree[i][cid] && tree[i][cid].length > 0) {\r\n            list = list.concat(getListByTree(tree[i][cid], id, cid, pid, tree[i][id]));\r\n            // delete tree[i][cid];\r\n        }\r\n\r\n    }\r\n    return list;\r\n}\r\n\r\n//对象的深拷贝\r\nfunction deepCopy(source) {\r\n    var result = {};\r\n    for (var key in source) {\r\n        result[key] = typeof source[key] === \"object\" ?\r\n            deepCopy(source[key]) :\r\n            source[key];\r\n    }\r\n    return result;\r\n}\r\n\r\n//json对象或数组的深拷贝\r\nfunction deepJSONCopy(data) {\r\n    if (data instanceof Array) {\r\n        return JSON\r\n            .parse(JSON.stringify({\r\n                data: data\r\n            }))\r\n            .data;\r\n    }\r\n    return JSON.parse(JSON.stringify(data));\r\n}\r\n\r\n/**\r\n * 对象合并,默认深度合并\r\n * 例子：\r\n * extend( target, [ object1 ,... objectN ] )深度合并\r\n * extend( [ deep ], target, [object1,... objectN ] )只合并第一层\r\n */\r\nfunction extend() {\r\n    var options,\r\n        name,\r\n        src,\r\n        copy,\r\n        copyIsArray,\r\n        clone,\r\n        target = arguments[0],\r\n        i = 1,\r\n        len = arguments.length,\r\n        deep = true;\r\n    // target为第一个参数，如果第一个参数是Boolean类型的值，则把target赋值给deep\r\n    // deep表示是否进行深层面的复制，当为true时，进行深度复制，否则只进行第一层扩展\r\n    if (varType(target) === \"boolean\") {\r\n        deep = target;\r\n\r\n        target = arguments[i] || {};\r\n        i++;\r\n    }\r\n    if (typeof target !== \"object\" && varType(target) !== \"function\") {\r\n        target = {};\r\n    }\r\n    // if(i = length) {     target = this; }\r\n    for (; i < len; i++) {\r\n        // 处理第i个被扩展的对象，即除去deep和target之外的对象\r\n        if ((options = arguments[i]) != null) {\r\n            for (name in options) {\r\n                src = target[name];\r\n                copy = options[name];\r\n                //当嵌套数组或者对象深拷贝完毕,跳出当前属性,开始拷贝下一属性 防止target和obj的某个属性指向的是同一对象进入死循环\r\n                if (target === copy) {\r\n                    continue;\r\n                }\r\n                //如果传入的合并对象里面嵌套数组或者对象,那么递归扩展对象\r\n                if (deep && copy && (varType(copy) === \"object\" || (copyIsArray = (varType(copy) === \"array\")))) {\r\n                    if (copyIsArray) {\r\n                        copyIsArray = false;\r\n                        clone = src && varType(src) === \"array\" ?\r\n                            src : [];\r\n                    } else {\r\n                        clone = src && varType(src) === \"object\" ?\r\n                            src : {};\r\n                    }\r\n\r\n                    target[name] = extend(deep, clone, copy);\r\n                } else if (copy != undefined) {\r\n                    //覆盖添加\r\n                    target[name] = copy;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // 原对象被改变，因此如果不想改变原对象，target可传入{}\r\n    return target;\r\n}\r\n\r\n/**\r\n * 数组比较,获取saveList 和 deleteList\r\n *\r\n * @param arr1 保存之前的数组\r\n * @param arr2 保存后的数组\r\n * @param id 数组由对象组成时,辨别是否相同的对象的key\r\n * @return\r\n */\r\nfunction difference(arr1, arr2, id, fn) {\r\n    //arr1之前保存的数组，arr2后保存的数组 id 为数组是对象时,判断已id为key做的参数\r\n    arr1 = Array.from(arr1);\r\n    arr2 = Array.from(arr2);\r\n    let total = [],\r\n        saveList = [],\r\n        deleteList = []; //总的数组\r\n    if (id !== undefined) {\r\n        arr2\r\n            .concat(arr1)\r\n            .forEach((item, index) => {\r\n                //对象时\r\n                if (!(total.some(value => value[id] == item[id]))) {\r\n                    total.push(item)\r\n                }\r\n            })\r\n        pushList(total, arr1, saveList, id);\r\n        pushList(total, arr2, deleteList, id);\r\n    } else {\r\n        total = new Set(arr1.concat(arr2));\r\n        pushList(total, arr1, saveList);\r\n        pushList(total, arr2, deleteList);\r\n    }\r\n\r\n    // let total = new Set(arr1.concat(arr2)),\r\n    function pushList(total, orginArr, list, id) {\r\n        if (fn) {\r\n            Array.from(total).forEach(item => {\r\n                //如果有子数组有该值就不加，没有就放入list数组\r\n                // if (orginArr.some(value => item[id] === value[id])) {\r\n                if (fn(item, orginArr)) {\r\n                    return;\r\n                } else {\r\n                    list.push(item)\r\n                }\r\n                // return\r\n                // }\r\n            });\r\n        } else if (id === undefined) {\r\n            Array.from(total).forEach(item => {\r\n                //如果有子数组有该值就不加，没有就放入list数组\r\n                if (orginArr.some(value => item === value)) {\r\n                    return\r\n                }\r\n                list.push(item)\r\n            });\r\n        } else {\r\n            Array.from(total).forEach(item => {\r\n                //如果有子数组有该值就不加，没有就放入list数组\r\n                if (orginArr.some(value => item[id] === value[id])) {\r\n                    return\r\n                }\r\n                list.push(item)\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    return {\r\n        saveList,\r\n        deleteList\r\n    }\r\n}\r\n\r\nfunction varType(arg) {\r\n    var class2type = {\r\n        '[object Boolean]': 'boolean',\r\n        '[object Number]': 'number',\r\n        '[object String]': 'string',\r\n        '[object Function]': 'function',\r\n        '[object Undefined]': 'undefined',\r\n        '[object Null]': 'null',\r\n        '[object Array]': 'array',\r\n        '[object Date]': 'date',\r\n        '[object RegExp]': 'regexp',\r\n        '[object Object]': 'object',\r\n        '[object Error]': 'error'\r\n    };\r\n    return class2type[\r\n        Object\r\n        .prototype\r\n        .toString\r\n        .call(arg)\r\n    ];\r\n}\r\n\r\n/**\r\n * 获取子路由的moduleId\r\n *\r\n * @param arr vuex保存的菜单数组\r\n * @param path 子路由第一个路径,例如/orgManagement/role/11,第一个orgManagement\r\n * @return moduleId\r\n */\r\nfunction getModuleId(arr, path) {\r\n    for (let i = 0, len = arr.length; i < len; i++) {\r\n        if (arr[i].path.indexOf(path) > -1) {\r\n            return arr[i].id\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n * @desc 获取浏览器类型和版本\r\n * @return {String}\r\n */\r\nfunction getExplore(ua) {\r\n    var sys = {},\r\n        s;\r\n    ua = (ua || navigator.userAgent).toLowerCase();\r\n    (s = ua.match(/rv:([\\d.]+)\\) like gecko/)) ?\r\n    sys.ie = s[1]: (s = ua.match(/msie ([\\d\\.]+)/)) ?\r\n        sys.ie = s[1] :\r\n        (s = ua.match(/edge\\/([\\d\\.]+)/)) ?\r\n        sys.edge = s[1] :\r\n        (s = ua.match(/firefox\\/([\\d\\.]+)/)) ?\r\n        sys.firefox = s[1] :\r\n        (s = ua.match(/(?:opera|opr).([\\d\\.]+)/)) ?\r\n        sys.opera = s[1] :\r\n        (s = ua.match(/chrome\\/([\\d\\.]+)/)) ?\r\n        sys.chrome = s[1] :\r\n        (s = ua.match(/version\\/([\\d\\.]+).*safari/)) ?\r\n        sys.safari = s[1] :\r\n        0;\r\n    // 根据关系进行判断\r\n    if (sys.ie) {\r\n        return ('IE: ' + sys.ie);\r\n    }\r\n    if (sys.edge) {\r\n        return ('EDGE: ' + sys.edge);\r\n    }\r\n    if (sys.firefox) {\r\n        return ('火狐: ' + sys.firefox);\r\n    }\r\n    if (sys.chrome) {\r\n        return ('谷歌: ' + sys.chrome);\r\n    }\r\n    if (sys.opera) {\r\n        return ('欧朋: ' + sys.opera);\r\n    }\r\n    if (sys.safari) {\r\n        return ('Safari: ' + sys.safari);\r\n    }\r\n    return 'Unkonwn'\r\n}\r\n\r\n/*数组及数组对象的排序*/\r\nfunction sortRule(list, sortStr) {\r\n    for (let i = 0; i < list.length; i++) {\r\n        for (let j = i + 1; j < list.length; j++) {\r\n            if (list[i][sortStr] >= list[j][sortStr]) {\r\n                let tempLi = list[j];\r\n                list[j] = list[i];\r\n                list[i] = tempLi;\r\n            }\r\n        }\r\n    }\r\n    return list;\r\n}\r\n/**\r\n * 根据某字段分类汇总\r\n * @param {arr} Array 需要计算的数组\r\n * @param {name} String 分类的属性名称\r\n * @param {value} String 计算累加的属性名称\r\n * @param {displace} Object 可选，name的转换属性\r\n * @return Array [{name: \"a\",value: 3}...]\r\n * \r\n */\r\nfunction reduceById(arr, name, value, unit, displace) {\r\n    let indexTotal = [];\r\n    let target = [];\r\n    each(arr, item => {\r\n        let disName = item[name];\r\n        if (displace) {\r\n            disName = displace[disName] || item[name];\r\n        }\r\n        let index = indexTotal.indexOf(disName);\r\n        if (index === -1) {\r\n            indexTotal.push(disName);\r\n            target.push({\r\n                id: item[name],\r\n                name: disName,\r\n                value: item[value],\r\n                targetUnit: item[unit]\r\n            });\r\n        } else {\r\n            target[index].value += item[value];\r\n        }\r\n    });\r\n    return target;\r\n}\r\n\r\n// 时间格式化\r\nfunction formatTime(date, format) {\r\n    format = format || \"YYYY-MM-DD\";\r\n    var time = new Date(date);\r\n    var year = time.getFullYear() || \"1970\";\r\n    var month = (time.getMonth() + 1) || 1;\r\n    var day = time.getDate() || 1;\r\n    var hour = time.getHours() || 0;\r\n    var minute = time.getMinutes() || 0;\r\n    var second = time.getSeconds() || 0;\r\n    format = format.replace(\"YYYY\", year);\r\n    format = format.replace(\"MM\", month < 10 ? \"0\" + month : month);\r\n    format = format.replace(\"DD\", day < 10 ? \"0\" + day : day);\r\n    format = format.replace(\"HH\", hour < 10 ? \"0\" + hour : hour);\r\n    format = format.replace(\"mm\", minute < 10 ? \"0\" + minute : minute);\r\n    format = format.replace(\"ss\", second < 10 ? \"0\" + second : second);\r\n    return format;\r\n}\r\n\r\n/**\r\n * 时间计算函数，返回加减后的时间格式\r\n * @param {date} [String,Date] 时间\r\n * @param {identify} Number 加减多少时间，正数为加，负数为减\r\n * @param {index} Number 1为小时，2为班，3为日，4为周，5为月，6为季度，7为半年，8为年\r\n * @param {format}  String 时间格式 YYYY-MM-DD HH:mm:ss\r\n * */\r\nfunction calcTime(date, identify, index, format) {\r\n    let time = new Date(date);\r\n    let orginDate = time.getDate();\r\n    let splitTime = [\"\", \"Hours\", \"\", \"Date\", \"\", \"Month\", \"\", \"\", \"FullYear\"];\r\n    let timeType = [\"\", \"YYYY-MM-DD HH:00:00\", \"\", \"YYYY-MM-DD\", \"\", \"YYYY-MM\", \"\", \"\", \"YYYY\"];\r\n    if (isNaN(time.getTime()) || index > 8 || splitTime[index] === \"\") {\r\n        console.warn(\"当前传入时间或时间类型不正确！参数为：(\" + date + \",\" + identify + \",\" + index + \")\");\r\n    }\r\n    // 避免当前月份比计算后的月份的天数多，导致时间不对等\r\n    if (index === 5) {\r\n        let timeDate = new Date(time.getFullYear(), (time.getMonth() + (1 + identify)), 0).getDate();\r\n        if (orginDate > timeDate) {\r\n            time.setDate(timeDate);\r\n        }\r\n    } else if (index === 8) {\r\n        let timeDate = new Date(time.getFullYear() + identify, time.getMonth() + 1, 0).getDate();\r\n        if (orginDate > timeDate) {\r\n            time.setDate(timeDate);\r\n        }\r\n    }\r\n    time[\"set\" + splitTime[index]](\r\n        time[\"get\" + splitTime[index]]() + identify\r\n    );\r\n    return formatTime(time, format || timeType[index]);\r\n}\r\n\r\n/**\r\n * 时间周期计算函数，返回开始结束时间(日)\r\n * @param {date} 时间\r\n * @param {index} 1为小时，2为班，3为日，4为周，5为月，6为季度，7为半年，8为年\r\n * */\r\nfunction cycleTime(date, index) {\r\n    let time = new Date(date);\r\n    let splitTime = [\"\", \"Hours\", \"\", \"Date\", \"\", \"Month\", \"\", \"\", \"FullYear\"];\r\n    let timeType = [\"\", \"\", \"\", \"YYYY-MM-DD\", \"\", \"YYYY-MM-01\", \"\", \"\", \"YYYY-01-01\"];\r\n    if (isNaN(time.getTime()) || timeType[index] === \"\") {\r\n        console.warn(\"时间格式不正确！\");\r\n    }\r\n    let startTime = formatTime(time, timeType[index]);\r\n    let endTime = calcTime(calcTime(time, 1, index), -1, 3);\r\n    return [startTime, endTime];\r\n}\r\n\r\n/**\r\n * 得到四舍五入后的数据\r\n * @param array 需要进行四舍五入的对象，可为数组、对象、数字（包括数字字符串）\r\n * @param dataField 四舍五入时的数字字段或小数位数，可为字段（字符串）、数字（显示小数位数），为空默认为“dataValue”\r\n * @param displayField 四舍五入时的显示小数位数的字段或小数位数，可为字段（字符串）、数字（显示小数位数），为空默认为“displayPrecisions”\r\n */\r\nfunction getFixedDisplayData(array, dataField, displayField) {\r\n    if (!dataField || dataField == \"\") {\r\n        dataField = \"dataValue\";\r\n    }\r\n    if (!displayField || displayField == \"\") {\r\n        displayField = \"displayPrecisions\";\r\n    }\r\n    if (array instanceof Array) {\r\n        for (let i = 0; i < array.length; i++) {\r\n            if (!isNaN(array[i][dataField])) {\r\n                array[i][dataField] = parseFloat(array[i][dataField]);\r\n            }\r\n            if (!isNaN(displayField)) {\r\n                array[i][dataField] = array[i][dataField].toFixed(parseFloat(displayField));\r\n            } else {\r\n                array[i][dataField] = array[i][dataField].toFixed(\r\n                        array[i][displayField]\r\n                    ) ?\r\n                    array[i][dataField].toFixed(array[i][displayField]) :\r\n                    array[i][dataField];\r\n            }\r\n        }\r\n    } else if (array instanceof Object) {\r\n        array[dataField] = array[dataField].toFixed(array[displayField]);\r\n    } else if (!isNaN(array)) {\r\n        if (!isNaN(dataField)) {\r\n            array = array.toFixed(dataField);\r\n        } else if (!isNaN(displayField)) {\r\n            array = array.toFixed(displayField);\r\n        } else {\r\n            array = array.toFixed(2);\r\n        }\r\n    }\r\n    return array;\r\n}\r\n\r\nexport {\r\n    varType, //变量类型判断\r\n    getExplore, //获取浏览器类型和版本\r\n    getCookie, //获取cookie\r\n    setCookie, //设置cookie\r\n    delCookie, //删除cookie\r\n    clearCookie, //清除cookie\r\n\r\n    trim, //字符串去空（首尾）\r\n    trimAll, //字符串去空（所有）\r\n\r\n    deepCopy, //对象的深拷贝\r\n    deepJSONCopy, //json对象或数组的深拷贝\r\n    extend, //对象合并\r\n    isEmptyObject, //判断`obj`是否为空\r\n    getValue, //根据key,获取value;\r\n    findValue, //根据id,获取name;\r\n\r\n    each, // 数组遍历\r\n    arrayEqual, //判断两个数组是否相同\r\n    unique, //去除数组内部的相同项\r\n    getTreeByList, //列表转换为树结构\r\n    getListByTree, //树结构转换为列表\r\n    changeTree, //数组转成对象\r\n    changeToTree,\r\n    changeArr, //对象转成数组\r\n    difference, //两个数组比较\r\n    sortRule, //数组的排序\r\n    reduceById, // 根据某字段分类汇总\r\n\r\n    randomNum, //生成随机数\r\n    randomUUID, //生成32位UUID\r\n    getModuleId, //获取子路由的moduleId\r\n    formatTime, // 时间格式化\r\n    calcTime,\r\n    cycleTime,\r\n    getFixedDisplayData\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/util.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-transfer', {\n    class: 'transfer_' + _vm.size,\n    attrs: {\n      \"data\": _vm.chooseData,\n      \"filterable\": _vm.filterable,\n      \"render-content\": _vm.renderContent,\n      \"left-default-checked\": _vm.leftDefaultChecked,\n      \"right-default-checked\": _vm.rightDefaultChecked,\n      \"titles\": _vm.titles,\n      \"props\": {\n        key: _vm.myKey,\n        label: _vm.myLabel,\n        disabled: _vm.myDisabled\n      },\n      \"button-texts\": _vm.buttonTexts,\n      \"format\": {\n        noChecked: '${total}',\n        hasChecked: '${checked}/${total}'\n      },\n      \"footer-format\": {\n        noChecked: '共 ${total} 项',\n        hasChecked: '全选，已选 ${checked}项，共${total}项'\n      }\n    },\n    on: {\n      \"change\": _vm.handleChange\n    },\n    model: {\n      value: (_vm.accreditedList),\n      callback: function($$v) {\n        _vm.accreditedList = $$v\n      },\n      expression: \"accreditedList\"\n    }\n  })], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-1b042ddd\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/base/myTransfer.vue\n// module id = zD9C\n// module chunks = 57"],"sourceRoot":""}