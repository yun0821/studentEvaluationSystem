{"version":3,"sources":["webpack:///static/js/31.4e38df9e210cc32dcb29.js","webpack:///./src/views/platform/basic/role.vue?8f77","webpack:///src/views/platform/basic/role.vue","webpack:///./src/views/platform/basic/role.vue?117c","webpack:///./src/views/platform/basic/role.vue","webpack:///./src/views/platform/basic/role.vue?3d28"],"names":["webpackJsonp","3O4Q","module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","BKCp","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_3__util_util_js__","initForm","name","remark","entId","data","me","this","valiName","rule","value","callback","_this","Error","changeName","checkNameLoading","$ajax","get","params","noLoading","then","res","status","records","msg","answerMsg","$message","error","cs","columns","label","prop","align","displace","entData","orgTreeObj","form","formdata","currentPage","pageSize","tableList","empowerForm","exceptId","rules","required","validator","trigger","max","message","tableRow","addForm","JSON","parse","title","isAdd","addSourceVisible","empowerVisible","transfer","chooseList","accredited","list","before","after","empowerModuleVisible","sourceData","sourceDataObj","props","children","disabled","node","isNecessary","defaultKeys","nodeKey","expandedKeys","checkedKeys","roleId","moduleList","moduleTreeList","empowerSourceVisible","activeName","sourceProps","undefined","resourceName","moduleName","defaultSourceKeys","sourceModuleList","sourceTreeList","copyEmpowerVisible","methods","request","_this2","loadingTarget","$refs","dataDicTable","empowerRequest","$invokeSubMethod","request2","catch","map","item","id","requestOrgTree","_this3","toObj","$each","selectForm","val","hasOwnProperty","orgId","parentId","area","showAddDialog","lookData","editData","empowerUser","saveClick","getList","arr","arguments","length","deleteUser","index","obj","userId","roleUserId","_this4","post","saveList","deleteList","success","handleRoleChange","checkAll","every","checked","forEach","requestEmpower","_this5","roleModuleTree","setData","some","moduleId","console","log","empowerModule","closeModuleDialog","closeDialog","formName","resetFields","openEmpowerDialog","$nextTick","closeEmpowerDialog","saveDialog","validate","valid","err","put","cancelTreeDialog","saveTreeDialog","getParentChecked","parentModuleId","_this6","noLoadTree","getCheckedNodes","a","info","empowerSource","roleSourceTree","handleId","identifyId","saveSource","getList2","getCheckedKeys","filter","list2","closeEmpowerSource","copyEmpower","saveCopeEmpower","_this7","referRoleId","closeCopyEmpower","change","replace","mounted","computed","D+Pv","content","locals","WjbN","injectStyle","ssrContext","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_role_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_1e4c89a1_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_role_vue__","normalizeComponent","__vue_styles__","Component","xrIE","render","_vm","_h","$createElement","_c","_self","attrs","slot","icon","on","click","_v","ref","model","inline","$$v","$set","expression","staticClass","colums","table-list","search-data","callBack","property","width","header-align","scopedSlots","_u","key","fn","scope","size","type","$event","row","visible","update:visible","close","label-width","filterable","placeholder","_l","directives","rawName","auto-complete","titles","buttonTexts","emptyText","open","show-checkbox","defaultExpand","maxHeight","staticRenderFns","esExports"],"mappings":"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","file":"static/js/31.4e38df9e210cc32dcb29.js","sourcesContent":["webpackJsonp([31],{\n\n/***/ \"3O4Q\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"acE3\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".role-item-textarea .el-form-item__content{width:180px}.role-div-header .el-input{width:100px}.empower-div-addDialog>.el-dialog{width:750px}.empower-div-addDialog .el-dialog__body{padding:15px 25px}.empower-div-addDialog .plat-header>div{padding-top:1px}.empower-div-addDialog .el-form-item{margin-bottom:5px}.empower-div-addDialog .el-form-item:last-of-type{position:relative;top:-1px;left:0}.empower-div-addDialog .el-input__inner{height:25px}.role-div-addDialog>.el-dialog{width:380px}.role-div-addDialog .el-input{width:180px}.role-div-addDialog .el-dialog__body{overflow:visible}.empowerModule-div-addDialog .el-dialog__body .base-tree{height:450px;overflow:auto}.empowerSource-div-addDialog .el-dialog{width:700px}.empowerSource-div-addDialog .empowerSource-hasModule{height:386px;overflow:auto}.role-copyEmpower-dialog .el-dialog{width:500px}.role-copyEmpower-dialog .role-div-header{justify-content:flex-end}\", \"\", {\"version\":3,\"sources\":[\"C:/vscode/ysems_webapp/src/views/platform/basic/role.vue\"],\"names\":[],\"mappings\":\"AACA,2CACE,WAAa,CACd,AACD,2BACE,WAAa,CACd,AACD,kCACE,WAAa,CACd,AAKD,wCACE,iBAAmB,CACpB,AACD,wCACE,eAAiB,CAClB,AACD,qCACE,iBAAmB,CACpB,AACD,kDACE,kBAAmB,AACnB,SAAU,AACV,MAAQ,CACT,AACD,wCACE,WAAa,CACd,AACD,+BACE,WAAa,CACd,AACD,8BACE,WAAa,CACd,AACD,qCACE,gBAAkB,CACnB,AACD,yDACE,aAAc,AACd,aAAe,CAChB,AACD,wCACE,WAAa,CACd,AACD,sDACE,aAAc,AACd,aAAe,CAChB,AACD,oCACE,WAAa,CACd,AACD,0CACE,wBAA0B,CAC3B\",\"file\":\"role.vue\",\"sourcesContent\":[\"\\n.role-item-textarea .el-form-item__content {\\r\\n  width: 180px;\\n}\\n.role-div-header .el-input {\\r\\n  width: 100px;\\n}\\n.empower-div-addDialog > .el-dialog {\\r\\n  width: 750px;\\n}\\r\\n\\r\\n/*.empower-div-addDialog .el-input {*/\\r\\n/*width: 100px;*/\\r\\n/*}*/\\n.empower-div-addDialog .el-dialog__body {\\r\\n  padding: 15px 25px;\\n}\\n.empower-div-addDialog .plat-header > div {\\r\\n  padding-top: 1px;\\n}\\n.empower-div-addDialog .el-form-item {\\r\\n  margin-bottom: 5px;\\n}\\n.empower-div-addDialog .el-form-item:last-of-type {\\r\\n  position: relative;\\r\\n  top: -1px;\\r\\n  left: 0;\\n}\\n.empower-div-addDialog .el-input__inner {\\r\\n  height: 25px;\\n}\\n.role-div-addDialog > .el-dialog {\\r\\n  width: 380px;\\n}\\n.role-div-addDialog .el-input {\\r\\n  width: 180px;\\n}\\n.role-div-addDialog .el-dialog__body {\\r\\n  overflow: visible;\\n}\\n.empowerModule-div-addDialog .el-dialog__body .base-tree {\\r\\n  height: 450px;\\r\\n  overflow: auto;\\n}\\n.empowerSource-div-addDialog .el-dialog {\\r\\n  width: 700px;\\n}\\n.empowerSource-div-addDialog .empowerSource-hasModule {\\r\\n  height: 386px;\\r\\n  overflow: auto;\\n}\\n.role-copyEmpower-dialog .el-dialog {\\r\\n  width: 500px;\\n}\\n.role-copyEmpower-dialog .role-div-header {\\r\\n  justify-content: flex-end;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"BKCp\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__ = __webpack_require__(\"zsLt\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__ = __webpack_require__(\"kfHR\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"3cXf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util_util_js__ = __webpack_require__(\"yt7g\");\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\nvar initForm = {\n  name: \"\",\n  remark: \"\",\n  entId: \"\"\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: \"role\",\n  data: function data() {\n    var me = this;\n    var valiName = function valiName(rule, value, callback) {\n      var _this = this;\n\n      if (!value) {\n        return callback(new Error(\"不能为空\"));\n      } else {\n        if (me.changeName) {\n          this.checkNameLoading = true;\n          me.$ajax.get(\"rest/role/nameIsLegal\", {\n            params: {\n              name: value,\n              entId: 0\n            },\n            noLoading: true\n          }).then(function (res) {\n            _this.checkNameLoading = false;\n            if (res.data.status) {\n              if (res.data.records) {\n                callback();\n              } else {\n                return callback(new Error(\"角色已存在\"));\n              }\n            } else {\n              var msg = res.data.answerMsg ? res.data.answerMsg : \"操作失败\";\n              me.$message.error(msg);\n            }\n          });\n        } else {\n          callback();\n        }\n      }\n    };\n    var nodeKey = \"resourceId\";\n    return {\n      checkNameLoading: false,\n      cs: \"1\",\n      //角色搜索表单及表格\n      columns: [{ label: \"角色名称\", prop: \"name\" }, { label: \"企业名称\", prop: \"entId\", align: \"left\", displace: {} }, { label: \"备注\", prop: \"remark\", align: \"left\" }],\n      entData: [], //企业列表\n      orgTreeObj: {},\n      form: {\n        formdata: {\n          name: \"\"\n        },\n        currentPage: 1,\n        pageSize: 10\n      },\n      tableList: {},\n      empowerForm: {\n        formdata: {\n          name: \"\"\n        },\n        currentPage: 1,\n        pageSize: 10,\n        exceptId: \"\"\n      },\n      rules: {\n        name: [{ required: true }, { validator: valiName, trigger: \"blur\" }, { max: 20, message: \"内容不能超过20个字符\", trigger: \"blur\" }],\n        remark: [{ max: 100, message: \"内容不能超过100个字符\", trigger: \"blur\" }]\n      },\n      changeName: false,\n      //角色信息的form数据\n      tableRow: \"\",\n      addForm: JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(initForm)),\n      title: \"\",\n      isAdd: false,\n      addSourceVisible: false,\n\n      //授权用户角色信息\n      empowerVisible: false,\n      transfer: {\n        chooseList: [], //总数据\n        accredited: [] //右边的选项\n      },\n      list: {\n        before: [], //之前保存的\n        after: [] //之后保存的\n      },\n      //授予资源\n      empowerModuleVisible: false,\n      sourceData: [],\n      sourceDataObj: {},\n      props: {\n        label: \"moduleName\",\n        children: \"children\",\n        disabled: function disabled(data, node) {\n          if (data.isNecessary && data.isNecessary === \"0\") {\n            return false;\n          } else if (data.isNecessary && data.isNecessary === \"1\") {\n            return true;\n          }\n        }\n      },\n      defaultKeys: {\n        nodeKey: \"moduleId\",\n        expandedKeys: [],\n        checkedKeys: []\n      },\n      roleId: \"\",\n      moduleList: {\n        before: [], //之前保存的\n        after: [] //之后保存的\n      },\n      moduleTreeList: [],\n\n      //资源\n      empowerSourceVisible: false,\n      activeName: \"first\",\n      /*\r\n                //无模块资源\r\n                transferSource: {\r\n                    chooseList: [],//总数据\r\n                    accredited: [],//右边的选项\r\n                },\r\n                listSource: {\r\n                    before: [],//之前保存的\r\n                    after: [],//之后保存的\r\n                },\r\n                */\n      //模块资源\n      sourceProps: {\n        label: function label(data, node) {\n          if (data.resourceName !== undefined) {\n            return data.resourceName;\n          }\n          return data.moduleName;\n        },\n        children: \"children\",\n        disabled: function disabled(data, node) {\n          if (data.isNecessary) {\n            return true;\n          }\n          return false;\n        }\n      },\n      defaultSourceKeys: {\n        nodeKey: \"identifyId\",\n        //                    expandedKeys: [],\n        checkedKeys: []\n      },\n      sourceModuleList: {\n        before: [], //之前保存的\n        after: [] //之后保存的\n      },\n      sourceTreeList: [],\n\n      //参照授权\n      copyEmpowerVisible: false\n    };\n  },\n\n  methods: {\n    request: function request() {\n      var _this2 = this;\n\n      var me = this;\n      me.$ajax.get(\"rest/role/page\", {\n        params: me.form,\n        loadingTarget: this.$refs.dataDicTable\n      }).then(function (res) {\n        if (res.data.status) {\n          _this2.tableList = res.data;\n        }\n      });\n    },\n    empowerRequest: function empowerRequest() {\n      var me = this;\n      me.$ajax.get(\"rest/role/page/reference\", {\n        params: me.empowerForm\n      }).then(function (res) {\n        if (res.data.status) {\n          me.$invokeSubMethod(\"setData\", \"empowerTable\", res.data);\n        }\n      });\n    },\n\n    //获取角色对应用户\n    request2: function request2() {\n      var me = this;\n      me.$ajax.get(\"rest/role/user/all\", {\n        params: {\n          roleId: me.roleId\n        }\n      }).then(function (res) {\n        if (res.data.status) {\n          me.transfer.chooseList = res.data.records;\n        }\n      }).catch().then(function () {\n        me.$ajax.get(\"rest/role/user/checked\", {\n          params: {\n            roleId: me.roleId\n          }\n        }).then(function (res) {\n          me.transfer.accredited = res.data.records;\n          me.list.before = me.transfer.accredited.map(function (item) {\n            return item.id;\n          }); //一个对象\n        });\n      });\n    },\n\n    //组织架构树\n    requestOrgTree: function requestOrgTree() {\n      var _this3 = this;\n\n      this.$ajax.get(\"rest/enterprise/list\").then(function (res) {\n        if (res.data.status) {\n          _this3.entData = res.data.records;\n          var toObj = {};\n          _this3.$each(res.data.records, function (item) {\n            toObj[item.id] = item.name;\n          });\n          _this3.columns[1].displace = toObj;\n        }\n      });\n    },\n\n    //搜索树选择\n    selectForm: function selectForm(val) {\n      var me = this;\n      if (val) {\n        if (val.hasOwnProperty(\"type\")) {\n          me.form.formdata.orgId = val.id;\n        } else if (val.hasOwnProperty(\"subjectionId\")) {\n          me.form.formdata.parentId = val.id;\n        } else if (val.hasOwnProperty(\"areaName\")) {\n          me.form.formdata.area = val.id;\n        }\n      }\n    },\n\n\n    //新增\n    showAddDialog: function showAddDialog() {\n      this.addSourceVisible = true;\n      this.isAdd = true;\n      this.title = \"新增角色\";\n    },\n\n\n    //详情\n    lookData: function lookData(val) {\n      this.tableRow = val;\n      this.addForm = JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(val));\n      this.addSourceVisible = true;\n      this.title = \"查看角色\";\n    },\n\n    //编辑\n    editData: function editData(val) {\n      this.roleId = val.id;\n      this.tableRow = val;\n      this.addSourceVisible = true;\n      this.isAdd = false;\n      this.addForm = JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(val));\n      this.title = \"编辑角色\";\n    },\n\n    /*\r\n            //删除\r\n            deleteData(val) {\r\n                let me = this;\r\n                this.$alertMsg(\"确定删除所选编码?\", \"操作确认\", \"warning\", function () {\r\n                    me.$ajax({\r\n                        url: \"rest/role\",\r\n                        method: \"delete\",\r\n                        data: val.id\r\n                    }).then((res) => {\r\n                        if (res.data.status) {\r\n                            me.request();\r\n                            me.$message.success(res.data.answerMsg);\r\n                        } else {\r\n                            me.$message.error(res.data.answerMsg);\r\n                        }\r\n                    }).catch((err) => {\r\n                      })\r\n                });\r\n            },\r\n    */\n\n    //授权用户\n    empowerUser: function empowerUser(val) {\n      var me = this;\n      this.roleId = val.id;\n      this.request2();\n      this.empowerVisible = true;\n    },\n    saveClick: function saveClick() {\n      var _this4 = this;\n\n      var me = this,\n          list = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util_util_js__[\"i\" /* difference */])(this.list.before, this.list.after); //获取保存之前的值和保存的值\n      function getList() {\n        var arr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var deleteUser = arguments[1];\n\n        //获取对象数组\n        return arr.map(function (item, index) {\n          var obj = {};\n          obj.roleId = me.roleId;\n          obj.userId = item;\n          if (deleteUser !== undefined) {\n            for (var i = 0; i < me.transfer.accredited.length; i++) {\n              //获取对应的roleuserid\n              if (me.transfer.accredited[i].id === obj.userId) {\n                obj.id = me.transfer.accredited[i].roleUserId;\n              }\n            }\n          }\n          return obj;\n        });\n      }\n      this.$ajax.post(\"rest/user/roleUser/\", {\n        saveList: getList(list.saveList),\n        deleteList: getList(list.deleteList, \"deleteUser\")\n      }).then(function (res) {\n        if (res.data.status) {\n          _this4.$message.success(res.data.answerMsg);\n          _this4.empowerVisible = false;\n        } else {\n          _this4.$message.error(res.data.answerMsg);\n        }\n      });\n    },\n    handleRoleChange: function handleRoleChange(val) {\n      this.list.after = val.value; //保存的用户id\n    },\n\n    //找出是否是下面的模块都是选中的,\n    checkAll: function checkAll(obj) {\n      var me = this;\n      //自己已选中且children都得选中\n      if (obj.children && obj.children.length > 0) {\n        //对children进行判断\n        if (obj.children.every(function (item) {\n          return item.checked == 1;\n        })) {\n          obj.children.forEach(function (value) {\n            if (value.children && value.children.length > 0) {\n              return me.checkAll(value);\n            }\n          });\n          //                        return true\n        }\n        return false;\n      } else {\n        return true;\n      }\n    },\n\n    //授权模块\n    requestEmpower: function requestEmpower() {\n      var _this5 = this;\n\n      var checkArr = [],\n          me = this;\n      this.$ajax.get(\"rest/role/roleModule\", {\n        params: {\n          roleId: this.roleId\n        }\n      }).then(function (res) {\n        if (res.data.status) {\n          _this5.$refs.roleModuleTree.setData(res.data.records);\n          me.moduleTreeList = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util_util_js__[\"b\" /* getListByTree */])(res.data.records, \"id\", \"children\"); //转换成列表\n          me.moduleTreeList.forEach(function (item) {\n            if (item.checked != 0) {\n              //设置默认选中项\n              // 子元素有选中\n              if (item.children && item.children.some(function (item) {\n                return item.checked;\n              })) {\n                me.moduleList.before.push(item.moduleId);\n                console.log(item.moduleId, item.id, item.moduleName);\n              } else if (!item.children) {\n                me.moduleList.before.push(item.moduleId);\n                console.log(item.moduleId, item.id, item.moduleName);\n              }\n              // if (!item.children) {\n              //   console.log(item.moduleId, item.id, item.moduleName);\n              // }\n              if (me.checkAll(item)) {\n                me.defaultKeys.checkedKeys.push(item.id);\n              }\n            }\n          });\n          //设置默认展开项\n          if (res.data.records && res.data.records.length > 0) {\n            me.defaultKeys.expandedKeys.push(res.data.records[0].moduleId);\n          }\n        }\n      });\n    },\n    empowerModule: function empowerModule(val) {\n      this.roleId = val.id;\n      this.empowerModuleVisible = true;\n    },\n    closeModuleDialog: function closeModuleDialog() {\n      this.moduleList.before = [];\n      this.defaultKeys = {\n        nodeKey: \"moduleId\",\n        expandedKeys: [],\n        checkedKeys: []\n      };\n    },\n\n    //取消验证\n    closeDialog: function closeDialog(formName) {\n      this.changeName = false;\n      this.$refs[formName].resetFields();\n      this.addForm = JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(initForm));\n    },\n    openEmpowerDialog: function openEmpowerDialog() {\n      this.$nextTick(function () {\n        this.requestEmpower();\n      });\n    },\n    closeEmpowerDialog: function closeEmpowerDialog() {},\n\n\n    //保存\n    saveDialog: function saveDialog(formName) {\n      var me = this;\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          if (me.isAdd) {\n            //发送新增请求\n            me.$ajax.post(\"rest/role\", me.addForm).then(function (res) {\n              if (res.data.status) {\n                me.$message.success(res.data.answerMsg);\n                me.addSourceVisible = false;\n                me.request();\n              } else {\n                me.$message.error(res.data.answerMsg);\n              }\n            }).catch(function (err) {});\n          } else {\n            //发送编辑请求\n            me.$ajax.put(\"rest/role\", me.addForm).then(function (res) {\n              if (res.data.status) {\n                me.$message.success(res.data.answerMsg);\n                me.addSourceVisible = false;\n                me.request();\n              } else {\n                me.$message.error(res.data.answerMsg);\n              }\n            }).catch(function (err) {});\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n    cancelTreeDialog: function cancelTreeDialog() {\n      this.empowerModuleVisible = false;\n    },\n    saveTreeDialog: function saveTreeDialog() {\n      var _this6 = this;\n\n      this.moduleList.after = this.$refs.roleModuleTree.$refs.noLoadTree.getCheckedNodes().map(function (item) {\n        return item.moduleId;\n      }); //之后的moduleID\n      console.log(this.defaultKeys.checkedKeys, this.$refs.roleModuleTree.$refs.noLoadTree.getCheckedNodes());\n      var me = this;\n\n      function getParentChecked(id) {\n        //子模块选中后,父模块也应该被选中\n        me.moduleTreeList.forEach(function (item) {\n          if (item.moduleId == id && item.parentModuleId && item.parentModuleId !== \"0\") {\n            me.moduleList.after.push(item.parentModuleId);\n            getParentChecked(item.parentModuleId);\n          }\n        });\n      }\n      this.moduleList.after.forEach(function (item) {\n        getParentChecked(item); //加上父模块moduleid\n      });\n      me.moduleList.after = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default.a(me.moduleList.after));\n      var list = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util_util_js__[\"i\" /* difference */])(this.moduleList.before, this.moduleList.after);\n\n      function getList() {\n        var arr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var deleteUser = arguments[1];\n\n        //获取对象数组\n        return arr.map(function (item, index) {\n          var obj = {};\n          obj.roleId = me.roleId;\n          obj.moduleId = item;\n          if (deleteUser !== undefined) {\n            for (var i = 0; i < me.moduleTreeList.length; i++) {\n              //获取对应的roleuserid\n              if (me.moduleTreeList[i].moduleId === obj.moduleId) {\n                obj.id = me.moduleTreeList[i].id;\n              }\n            }\n          }\n          return obj;\n        });\n      }\n      if (list.saveList.length === 0 && list.deleteList === 0) {\n        this.$message.info(\"模块授权尚未发生变化。\");\n        return false;\n      }\n      this.$ajax.post(\"rest/role/roleModule\", {\n        saveList: getList(list.saveList),\n        deleteList: getList(list.deleteList, \"deleteUser\")\n      }).then(function (res) {\n        if (res.data.status) {\n          _this6.$message.success(res.data.answerMsg);\n          _this6.empowerModuleVisible = false;\n        } else {\n          _this6.$message.error(res.data.answerMsg);\n        }\n      });\n    },\n\n    //资源配置\n    empowerSource: function empowerSource(val) {\n      var me = this;\n      me.roleId = val.id;\n      me.empowerSourceVisible = true;\n\n      //模块资源\n      me.$ajax.get(\"rest/role/roleModuleHandle\", {\n        params: {\n          roleId: me.roleId\n        },\n        noLoading: true\n      }).then(function (res) {\n        //每一项都加上resourceid\n        me.$refs.roleSourceTree.setData(res.data.records);\n        me.sourceTreeList = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util_util_js__[\"b\" /* getListByTree */])(res.data.records, \"id\", \"children\"); //转换成列表\n        me.sourceTreeList.forEach(function (item) {\n          if ((item.checked != 0 || item.isNecessary) && item.handleId) {\n            //设置默认选中项\n            //                            if (me.checkAll(item)) {\n            me.defaultSourceKeys.checkedKeys.push(item.identifyId);\n            me.sourceModuleList.before.push(item);\n            //                            }\n          }\n        });\n      });\n\n      /*\r\n                                //无模块资源\r\n                                this.$ajax.get('rest/module/baseResource/list', {\r\n                                    noLoading: true\r\n                                }).then(res => {\r\n                                    if (res.data.status) {\r\n                                        me.transferSource.chooseList = res.data.records\r\n                                    }\r\n                                }).catch().then(() => {\r\n                                    me.$ajax.get(\"rest/role/roleModuleResource/single\", {\r\n                                        params: {\r\n                                            roleId: me.roleId\r\n                                        },\r\n                                        noLoading: true\r\n                                    }).then(res => {\r\n                                        me.transferSource.accredited = res.data.records.map(item => {\r\n                                            return {name: item.resourceName, id: item.resourceId, realId: item.id}\r\n                                        });\r\n                                        me.listSource.before = me.transferSource.accredited.map(item => item.id);//\r\n                                    })\r\n                                })\r\n                                */\n    },\n\n\n    //            handleSourceChange(val) {\n    //                this.listSource.after = val.value;//保存的用户id\n    //            },\n    //无保存资源\n    saveSource: function saveSource() {\n      this.sourceModuleList.after = this.$refs.roleSourceTree.$refs.noLoadTree.getCheckedKeys(); //之后的identifyId,\n      var me = this,\n\n      //                    list1 = difference(this.listSource.before, this.listSource.after),//获取保存之前的值和保存的值\n      after = me.sourceTreeList.filter(function (item) {\n        return me.sourceModuleList.after.some(function (value) {\n          return item.identifyId == value && item.handleId;\n        });\n      });\n      var list2 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util_util_js__[\"i\" /* difference */])(this.sourceModuleList.before, after, \"identifyId\"),\n          saveList = getList2(list2.saveList),\n          //getList1(list1.saveList).concat(getList2(list2.saveList)),\n      deleteList = getList2(list2.deleteList, \"deleteUser\"); //getList1(list1.deleteList, 'deleteUser').concat(getList2(list2.deleteList, 'deleteUser'));\n      function getList2() {\n        var arr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var deleteUser = arguments[1];\n\n        //获取对象数组\n        return arr.map(function (item, index) {\n          var obj = {\n            roleId: me.roleId,\n            handleId: item.handleId,\n            moduleId: item.parentModuleId\n          };\n          //删除时获取id\n          if (deleteUser) {\n            obj.id = item.id;\n          }\n          return obj;\n        });\n      }\n\n      this.$ajax.post(\"rest/role/roleModuleHandle\", {\n        saveList: saveList,\n        deleteList: deleteList\n      }).then(function (res) {\n        if (res.data.status) {\n          me.$message.success(res.data.answerMsg);\n          me.empowerSourceVisible = false; //关闭资源弹窗\n        } else {\n          me.$message.error(res.data.answerMsg);\n        }\n      });\n\n      //                this.flag++;\n      //                if (this.flag <= 1) {\n      //                    this.saveSourceTreeDialog();//保存有模块资源\n      //                }\n    },\n    closeEmpowerSource: function closeEmpowerSource() {\n      this.sourceModuleList.before = [];\n      this.sourceModuleList.after = [];\n      this.defaultSourceKeys.checkedKeys = [];\n    },\n\n    //参照授权\n    copyEmpower: function copyEmpower(val) {\n      this.roleId = val.id;\n      this.empowerForm.exceptId = val.id;\n      this.empowerRequest();\n      this.copyEmpowerVisible = true;\n    },\n\n    //保存\n    saveCopeEmpower: function saveCopeEmpower(val) {\n      var _this7 = this;\n\n      this.$ajax.post(\"rest/role/handle/reference\", {\n        roleId: this.roleId,\n        referRoleId: val.id\n      }).then(function (res) {\n        if (res.data.status) {\n          _this7.$message.success(res.data.answerMsg);\n          //                        this.empowerVisible = false;\n        } else {\n          _this7.$message.error(res.data.answerMsg);\n        }\n      });\n    },\n    closeCopyEmpower: function closeCopyEmpower() {\n      this.empowerForm = {\n        formdata: {\n          name: \"\"\n        },\n        currentPage: 1,\n        pageSize: 10,\n        exceptId: this.roleId\n      };\n    },\n    change: function change(val) {\n      this.changeName = true;\n      this.addForm.name = val.replace(/\\s+/g, \"\");\n    }\n  },\n  mounted: function mounted() {\n    this.request();\n    this.requestOrgTree();\n  },\n\n  computed: {}\n});\n\n/***/ }),\n\n/***/ \"D+Pv\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"3O4Q\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"FIqI\")(\"2d3bc2d4\", content, true, {});\n\n/***/ }),\n\n/***/ \"WjbN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_role_vue__ = __webpack_require__(\"BKCp\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_1e4c89a1_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_role_vue__ = __webpack_require__(\"xrIE\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"D+Pv\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_role_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_1e4c89a1_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_role_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"xrIE\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('da-manage-page', [_c('div', {\n    attrs: {\n      \"slot\": \"button\"\n    },\n    slot: \"button\"\n  }, [_c('el-button', {\n    attrs: {\n      \"icon\": \"my-xinzeng\"\n    },\n    on: {\n      \"click\": _vm.showAddDialog\n    }\n  }, [_vm._v(\"\\n        新增\\n      \")])], 1), _vm._v(\" \"), _c('el-form', {\n    ref: \"dataDicForm\",\n    attrs: {\n      \"slot\": \"search\",\n      \"model\": _vm.form,\n      \"inline\": true\n    },\n    slot: \"search\"\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"名称\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.formdata.name),\n      callback: function($$v) {\n        _vm.$set(_vm.form.formdata, \"name\", $$v)\n      },\n      expression: \"form.formdata.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    staticClass: \"search_button\",\n    on: {\n      \"click\": _vm.request\n    }\n  }, [_vm._v(\" 搜索\")])], 1)], 1), _vm._v(\" \"), _c('da-table', {\n    ref: \"dataDicTable\",\n    attrs: {\n      \"slot\": \"content\",\n      \"colums\": _vm.columns,\n      \"table-list\": _vm.tableList,\n      \"search-data\": _vm.form\n    },\n    on: {\n      \"callBack\": _vm.request\n    },\n    slot: \"content\"\n  }, [_c('el-table-column', {\n    attrs: {\n      \"slot\": \"operation\",\n      \"property\": \"operation\",\n      \"label\": \"授权管理\",\n      \"width\": \"313\",\n      \"align\": \"center\",\n      \"header-align\": \"center\"\n    },\n    slot: \"operation\",\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"info\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.empowerUser(scope.row)\n            }\n          }\n        }, [_vm._v(\"用户配置\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"info\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.empowerModule(scope.row)\n            }\n          }\n        }, [_vm._v(\"模块配置\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"info\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.empowerSource(scope.row)\n            }\n          }\n        }, [_vm._v(\"资源配置\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"info\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.copyEmpower(scope.row)\n            }\n          }\n        }, [_vm._v(\"参照授权\")])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"slot\": \"operation\",\n      \"property\": \"operation\",\n      \"label\": \"操作\",\n      \"width\": \"60\",\n      \"align\": \"center\",\n      \"header-align\": \"center\"\n    },\n    slot: \"operation\",\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"warning\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.editData(scope.row)\n            }\n          }\n        }, [_vm._v(\"编辑\")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('da-dialog', {\n    staticClass: \"role-div-addDialog\",\n    attrs: {\n      \"title\": _vm.title,\n      \"visible\": _vm.addSourceVisible\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.addSourceVisible = $event\n      },\n      \"close\": function($event) {\n        _vm.closeDialog('role_add')\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"role_add\",\n    attrs: {\n      \"label-width\": \"95px\",\n      \"model\": _vm.addForm,\n      \"rules\": _vm.rules,\n      \"inline\": true\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"企业名称\",\n      \"prop\": \"entId\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"filterable\": \"\",\n      \"size\": \"medium\",\n      \"placeholder\": \"请选择\"\n    },\n    model: {\n      value: (_vm.addForm.entId),\n      callback: function($$v) {\n        _vm.$set(_vm.addForm, \"entId\", $$v)\n      },\n      expression: \"addForm.entId\"\n    }\n  }, _vm._l((_vm.entData), function(item, index) {\n    return _c('el-option', {\n      key: index,\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.id\n      }\n    })\n  }))], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"角色名称\",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.checkNameLoading),\n      expression: \"checkNameLoading\"\n    }],\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    on: {\n      \"change\": _vm.change\n    },\n    model: {\n      value: (_vm.addForm.name),\n      callback: function($$v) {\n        _vm.$set(_vm.addForm, \"name\", $$v)\n      },\n      expression: \"addForm.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"role-item-textarea\",\n    attrs: {\n      \"label\": \"备注\",\n      \"prop\": \"remark\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\",\n      \"type\": \"textarea\",\n      \"row\": 3\n    },\n    model: {\n      value: (_vm.addForm.remark),\n      callback: function($$v) {\n        _vm.$set(_vm.addForm, \"remark\", $$v)\n      },\n      expression: \"addForm.remark\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.saveDialog('role_add')\n      }\n    }\n  }, [_vm._v(\"确 定\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.addSourceVisible = false;\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)], 1), _vm._v(\" \"), _c('da-dialog', {\n    staticClass: \"empower-div-addDialog\",\n    attrs: {\n      \"title\": \"用户配置\",\n      \"visible\": _vm.empowerVisible\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.empowerVisible = $event\n      },\n      \"close\": _vm.closeEmpowerDialog\n    }\n  }, [_c('da-transfer', {\n    attrs: {\n      \"chooseList\": _vm.transfer.chooseList,\n      \"accredited\": _vm.transfer.accredited,\n      \"saveClick\": _vm.saveClick,\n      \"titles\": ['未授权用户', '已授权用户'],\n      \"buttonTexts\": ['删除', '授权', '保存'],\n      \"emptyText\": \"当前角色未关联组织机构或关联的组织机构下不存在用户\"\n    },\n    on: {\n      \"transfer\": _vm.handleRoleChange\n    }\n  })], 1), _vm._v(\" \"), _c('da-dialog', {\n    staticClass: \"empowerModule-div-addDialog\",\n    attrs: {\n      \"title\": \"模块配置\",\n      \"visible\": _vm.empowerModuleVisible\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.empowerModuleVisible = $event\n      },\n      \"open\": _vm.openEmpowerDialog,\n      \"close\": _vm.closeModuleDialog\n    }\n  }, [_c('da-tree', {\n    ref: \"roleModuleTree\",\n    attrs: {\n      \"props\": _vm.props,\n      \"show-checkbox\": true,\n      \"defaultExpand\": true,\n      \"defaultKeys\": _vm.defaultKeys\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.saveTreeDialog\n    }\n  }, [_vm._v(\"保 存\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": _vm.cancelTreeDialog\n    }\n  }, [_vm._v(\"取 消\")])], 1)], 1), _vm._v(\" \"), _c('da-dialog', {\n    staticClass: \"empowerSource-div-addDialog\",\n    attrs: {\n      \"title\": \"资源配置\",\n      \"visible\": _vm.empowerSourceVisible\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.empowerSourceVisible = $event\n      },\n      \"close\": _vm.closeEmpowerSource\n    }\n  }, [_c('da-tree', {\n    ref: \"roleSourceTree\",\n    staticClass: \"empowerSource-hasModule\",\n    attrs: {\n      \"props\": _vm.sourceProps,\n      \"defaultExpand\": true,\n      \"show-checkbox\": true,\n      \"defaultKeys\": _vm.defaultSourceKeys\n    }\n  }), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.saveSource\n    }\n  }, [_vm._v(\"保 存\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.empowerSourceVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)], 1), _vm._v(\" \"), _c('da-dialog', {\n    staticClass: \"role-copyEmpower-dialog\",\n    attrs: {\n      \"title\": \"参照授权\",\n      \"visible\": _vm.copyEmpowerVisible\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.copyEmpowerVisible = $event\n      },\n      \"close\": _vm.closeCopyEmpower\n    }\n  }, [_c('div', {\n    staticClass: \"plat-header role-div-header\"\n  }, [_c('el-form', {\n    ref: \"dataDicForm\",\n    attrs: {\n      \"model\": _vm.form,\n      \"inline\": true\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"名称\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.empowerForm.formdata.name),\n      callback: function($$v) {\n        _vm.$set(_vm.empowerForm.formdata, \"name\", $$v)\n      },\n      expression: \"empowerForm.formdata.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    staticClass: \"search_button\",\n    on: {\n      \"click\": _vm.empowerRequest\n    }\n  }, [_vm._v(\" 搜索\")])], 1)], 1)], 1), _vm._v(\" \"), _c('da-table', {\n    ref: \"empowerTable\",\n    attrs: {\n      \"colums\": _vm.columns,\n      \"search-data\": _vm.empowerForm,\n      \"maxHeight\": \"400\"\n    },\n    on: {\n      \"callBack\": _vm.empowerRequest\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"slot\": \"operation\",\n      \"property\": \"operation\",\n      \"label\": \"操作\",\n      \"width\": \"80\",\n      \"align\": \"center\",\n      \"header-align\": \"center\"\n    },\n    slot: \"operation\",\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"info\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.saveCopeEmpower(scope.row)\n            }\n          }\n        }, [_vm._v(\"参照授权\\n            \")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.copyEmpowerVisible = false\n      }\n    }\n  }, [_vm._v(\"关 闭\")])], 1)], 1)], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/31.4e38df9e210cc32dcb29.js","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.0@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".role-item-textarea .el-form-item__content{width:180px}.role-div-header .el-input{width:100px}.empower-div-addDialog>.el-dialog{width:750px}.empower-div-addDialog .el-dialog__body{padding:15px 25px}.empower-div-addDialog .plat-header>div{padding-top:1px}.empower-div-addDialog .el-form-item{margin-bottom:5px}.empower-div-addDialog .el-form-item:last-of-type{position:relative;top:-1px;left:0}.empower-div-addDialog .el-input__inner{height:25px}.role-div-addDialog>.el-dialog{width:380px}.role-div-addDialog .el-input{width:180px}.role-div-addDialog .el-dialog__body{overflow:visible}.empowerModule-div-addDialog .el-dialog__body .base-tree{height:450px;overflow:auto}.empowerSource-div-addDialog .el-dialog{width:700px}.empowerSource-div-addDialog .empowerSource-hasModule{height:386px;overflow:auto}.role-copyEmpower-dialog .el-dialog{width:500px}.role-copyEmpower-dialog .role-div-header{justify-content:flex-end}\", \"\", {\"version\":3,\"sources\":[\"C:/vscode/ysems_webapp/src/views/platform/basic/role.vue\"],\"names\":[],\"mappings\":\"AACA,2CACE,WAAa,CACd,AACD,2BACE,WAAa,CACd,AACD,kCACE,WAAa,CACd,AAKD,wCACE,iBAAmB,CACpB,AACD,wCACE,eAAiB,CAClB,AACD,qCACE,iBAAmB,CACpB,AACD,kDACE,kBAAmB,AACnB,SAAU,AACV,MAAQ,CACT,AACD,wCACE,WAAa,CACd,AACD,+BACE,WAAa,CACd,AACD,8BACE,WAAa,CACd,AACD,qCACE,gBAAkB,CACnB,AACD,yDACE,aAAc,AACd,aAAe,CAChB,AACD,wCACE,WAAa,CACd,AACD,sDACE,aAAc,AACd,aAAe,CAChB,AACD,oCACE,WAAa,CACd,AACD,0CACE,wBAA0B,CAC3B\",\"file\":\"role.vue\",\"sourcesContent\":[\"\\n.role-item-textarea .el-form-item__content {\\r\\n  width: 180px;\\n}\\n.role-div-header .el-input {\\r\\n  width: 100px;\\n}\\n.empower-div-addDialog > .el-dialog {\\r\\n  width: 750px;\\n}\\r\\n\\r\\n/*.empower-div-addDialog .el-input {*/\\r\\n/*width: 100px;*/\\r\\n/*}*/\\n.empower-div-addDialog .el-dialog__body {\\r\\n  padding: 15px 25px;\\n}\\n.empower-div-addDialog .plat-header > div {\\r\\n  padding-top: 1px;\\n}\\n.empower-div-addDialog .el-form-item {\\r\\n  margin-bottom: 5px;\\n}\\n.empower-div-addDialog .el-form-item:last-of-type {\\r\\n  position: relative;\\r\\n  top: -1px;\\r\\n  left: 0;\\n}\\n.empower-div-addDialog .el-input__inner {\\r\\n  height: 25px;\\n}\\n.role-div-addDialog > .el-dialog {\\r\\n  width: 380px;\\n}\\n.role-div-addDialog .el-input {\\r\\n  width: 180px;\\n}\\n.role-div-addDialog .el-dialog__body {\\r\\n  overflow: visible;\\n}\\n.empowerModule-div-addDialog .el-dialog__body .base-tree {\\r\\n  height: 450px;\\r\\n  overflow: auto;\\n}\\n.empowerSource-div-addDialog .el-dialog {\\r\\n  width: 700px;\\n}\\n.empowerSource-div-addDialog .empowerSource-hasModule {\\r\\n  height: 386px;\\r\\n  overflow: auto;\\n}\\n.role-copyEmpower-dialog .el-dialog {\\r\\n  width: 500px;\\n}\\n.role-copyEmpower-dialog .role-div-header {\\r\\n  justify-content: flex-end;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.0@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@13.0.4@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1e4c89a1\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/platform/basic/role.vue\n// module id = 3O4Q\n// module chunks = 31","<template>\r\n  <div>\r\n    <da-manage-page>\r\n      <div slot=\"button\">\r\n        <el-button @click=\"showAddDialog\" icon=\"my-xinzeng\">\r\n          新增\r\n        </el-button>\r\n      </div>\r\n      <!--搜索表单-->\r\n      <el-form slot=\"search\" ref=\"dataDicForm\" :model=\"form\" :inline=\"true\">\r\n        <el-form-item label=\"名称\">\r\n          <el-input v-model=\"form.formdata.name\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button @click=\"request\" class=\"search_button\"> 搜索</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 角色表格 -->\r\n      <da-table :colums=\"columns\" slot=\"content\" ref=\"dataDicTable\" :table-list=\"tableList\" :search-data=\"form\" @callBack=\"request\">\r\n        <el-table-column property=\"operation\" label=\"授权管理\" width=\"313\" slot=\"operation\" align=\"center\" header-align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button @click=\"empowerUser(scope.row)\" size=\"small\" type=\"info\">用户配置</el-button>\r\n            <el-button @click=\"empowerModule(scope.row)\" size=\"small\" type=\"info\">模块配置</el-button>\r\n            <el-button @click=\"empowerSource(scope.row)\" size=\"small\" type=\"info\">资源配置</el-button>\r\n            <el-button @click=\"copyEmpower(scope.row)\" size=\"small\" type=\"info\">参照授权</el-button>\r\n            <!--<el-button @click=\"editData(scope.row)\" size=\"small\" type=\"warning\">编辑</el-button>-->\r\n            <!--<el-button @click=\"deleteData(scope.row)\" size=\"small\" type=\"danger\">删除</el-button>-->\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column property=\"operation\" label=\"操作\" width=\"60\" slot=\"operation\" align=\"center\" header-align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <!--<el-button @click=\"empowerUser(scope.row)\" size=\"small\" type=\"info\">用户配置</el-button>-->\r\n            <!--<el-button @click=\"empowerModule(scope.row)\" size=\"small\" type=\"info\">模块配置</el-button>-->\r\n            <!--<el-button @click=\"empowerSource(scope.row)\" size=\"small\" type=\"info\">资源配置</el-button>-->\r\n            <!--<el-button @click=\"copyEmpower(scope.row)\" size=\"small\" type=\"info\">参照授权</el-button>-->\r\n            <el-button @click=\"editData(scope.row)\" size=\"small\" type=\"warning\">编辑</el-button>\r\n            <!--<el-button @click=\"deleteData(scope.row)\" size=\"small\" type=\"danger\">删除</el-button>-->\r\n          </template>\r\n        </el-table-column>\r\n      </da-table>\r\n\r\n      <!--编辑角色信息-->\r\n      <da-dialog :title=\"title\" :visible.sync=\"addSourceVisible\" class=\"role-div-addDialog\" @close=\"closeDialog('role_add')\">\r\n        <el-form label-width=\"95px\" :model=\"addForm\" :rules=\"rules\" :inline=\"true\" ref=\"role_add\">\r\n          <el-form-item label=\"企业名称\" prop=\"entId\">\r\n            <el-select v-model=\"addForm.entId\" filterable size=\"medium\" placeholder=\"请选择\">\r\n              <el-option v-for=\"(item, index) in entData\" :key=\"index\" :label=\"item.name\" :value=\"item.id\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"角色名称\" prop=\"name\">\r\n            <el-input auto-complete=\"off\" v-model=\"addForm.name\" @change=\"change\" v-loading=\"checkNameLoading\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"备注\" prop=\"remark\" class=\"role-item-textarea\">\r\n            <el-input auto-complete=\"off\" v-model=\"addForm.remark\" type=\"textarea\" :row=\"3\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button type=\"primary\" @click=\"saveDialog('role_add')\">确 定</el-button>\r\n          <el-button @click=\"addSourceVisible = false;\">取 消</el-button>\r\n        </div>\r\n      </da-dialog>\r\n\r\n      <!--角色授权用户-->\r\n      <da-dialog title=\"用户配置\" :visible.sync=\"empowerVisible\" class=\"empower-div-addDialog\" @close=\"closeEmpowerDialog\">\r\n        <da-transfer :chooseList=\"transfer.chooseList\" :accredited=\"transfer.accredited\" @transfer=\"handleRoleChange\" :saveClick=\"saveClick\" :titles=\"['未授权用户', '已授权用户']\" :buttonTexts=\"['删除', '授权', '保存']\" emptyText=\"当前角色未关联组织机构或关联的组织机构下不存在用户\"></da-transfer>\r\n      </da-dialog>\r\n\r\n      <!--模块配置-->\r\n      <da-dialog title=\"模块配置\" :visible.sync=\"empowerModuleVisible\" class=\"empowerModule-div-addDialog\" @open=\"openEmpowerDialog\" @close=\"closeModuleDialog\">\r\n        <da-tree ref=\"roleModuleTree\" :props=\"props\" :show-checkbox=\"true\" :defaultExpand=\"true\" :defaultKeys=\"defaultKeys\"></da-tree>\r\n\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button type=\"primary\" @click=\"saveTreeDialog\">保 存</el-button>\r\n          <el-button @click=\"cancelTreeDialog\">取 消</el-button>\r\n        </div>\r\n      </da-dialog>\r\n      <!--资源配置-->\r\n      <da-dialog title=\"资源配置\" :visible.sync=\"empowerSourceVisible\" class=\"empowerSource-div-addDialog\" @close=\"closeEmpowerSource\">\r\n        <!--<el-tabs v-model=\"activeName\" type=\"card\" >-->\r\n        <!--<el-tab-pane label=\"模块资源\" name=\"first\">-->\r\n        <da-tree ref=\"roleSourceTree\" :props=\"sourceProps\" :defaultExpand=\"true\" :show-checkbox=\"true\" :defaultKeys=\"defaultSourceKeys\" class=\"empowerSource-hasModule\">\r\n\r\n        </da-tree>\r\n        <div slot=\"footer\">\r\n          <el-button type=\"primary\" @click=\"saveSource\">保 存</el-button>\r\n          <el-button @click=\"empowerSourceVisible = false\">取 消</el-button>\r\n        </div>\r\n        <!--</el-tab-pane>-->\r\n\r\n        <!--<el-tab-pane label=\"无模块资源\" name=\"second\">-->\r\n        <!--<da-myTransfer :chooseList=\"transferSource.chooseList\" :accredited=\"transferSource.accredited\"-->\r\n        <!--@transfer=\"handleSourceChange\" :saveClick=\"saveSource\" :titles=\"['未授权资源', '已授权资源']\"-->\r\n        <!--:buttonTexts=\"['删除', '授权', '保存']\">-->\r\n\r\n        <!--</da-myTransfer>-->\r\n        <!--</el-tab-pane>-->\r\n        <!--</el-tabs>-->\r\n      </da-dialog>\r\n      <!--参照授权empowerForm= {formdata: {name: ''},currentPage: 1,pageSize: 10,}-->\r\n      <da-dialog title=\"参照授权\" :visible.sync=\"copyEmpowerVisible\" @close=\"closeCopyEmpower\" class=\"role-copyEmpower-dialog\">\r\n        <div class=\"plat-header role-div-header\">\r\n          <!--搜索表单-->\r\n          <el-form ref=\"dataDicForm\" :model=\"form\" :inline=\"true\">\r\n            <el-form-item label=\"名称\">\r\n              <el-input v-model=\"empowerForm.formdata.name\">\r\n              </el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button @click=\"empowerRequest\" class=\"search_button\"> 搜索</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n        <da-table :colums=\"columns\" ref=\"empowerTable\" :search-data=\"empowerForm\" @callBack=\"empowerRequest\" maxHeight=\"400\">\r\n          <el-table-column property=\"operation\" label=\"操作\" width=\"80\" slot=\"operation\" align=\"center\" header-align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button @click=\"saveCopeEmpower(scope.row)\" size=\"small\" type=\"info\">参照授权\r\n              </el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </da-table>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"copyEmpowerVisible = false\">关 闭</el-button>\r\n        </div>\r\n      </da-dialog>\r\n    </da-manage-page>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getListByTree, changeTree, difference } from \"@/util/util.js\";\r\n\r\nconst initForm = {\r\n  name: \"\",\r\n  remark: \"\",\r\n  entId: \"\"\r\n};\r\nexport default {\r\n  name: \"role\",\r\n  data() {\r\n    let me = this;\r\n    var valiName = function(rule, value, callback) {\r\n      if (!value) {\r\n        return callback(new Error(\"不能为空\"));\r\n      } else {\r\n        if (me.changeName) {\r\n          this.checkNameLoading = true;\r\n          me.$ajax\r\n            .get(\"rest/role/nameIsLegal\", {\r\n              params: {\r\n                name: value,\r\n                entId: 0\r\n              },\r\n              noLoading: true\r\n            })\r\n            .then(res => {\r\n              this.checkNameLoading = false;\r\n              if (res.data.status) {\r\n                if (res.data.records) {\r\n                  callback();\r\n                } else {\r\n                  return callback(new Error(\"角色已存在\"));\r\n                }\r\n              } else {\r\n                let msg = res.data.answerMsg ? res.data.answerMsg : \"操作失败\";\r\n                me.$message.error(msg);\r\n              }\r\n            });\r\n        } else {\r\n          callback();\r\n        }\r\n      }\r\n    };\r\n    let nodeKey = \"resourceId\";\r\n    return {\r\n      checkNameLoading: false,\r\n      cs: \"1\",\r\n      //角色搜索表单及表格\r\n      columns: [\r\n        { label: \"角色名称\", prop: \"name\" },\r\n        { label: \"企业名称\", prop: \"entId\", align: \"left\", displace: {} },\r\n        { label: \"备注\", prop: \"remark\", align: \"left\" }\r\n      ],\r\n      entData: [], //企业列表\r\n      orgTreeObj: {},\r\n      form: {\r\n        formdata: {\r\n          name: \"\"\r\n        },\r\n        currentPage: 1,\r\n        pageSize: 10\r\n      },\r\n      tableList: {},\r\n      empowerForm: {\r\n        formdata: {\r\n          name: \"\"\r\n        },\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        exceptId: \"\"\r\n      },\r\n      rules: {\r\n        name: [\r\n          { required: true },\r\n          { validator: valiName, trigger: \"blur\" },\r\n          { max: 20, message: \"内容不能超过20个字符\", trigger: \"blur\" }\r\n        ],\r\n        remark: [\r\n          { max: 100, message: \"内容不能超过100个字符\", trigger: \"blur\" }\r\n        ]\r\n      },\r\n      changeName: false,\r\n      //角色信息的form数据\r\n      tableRow: \"\",\r\n      addForm: JSON.parse(JSON.stringify(initForm)),\r\n      title: \"\",\r\n      isAdd: false,\r\n      addSourceVisible: false,\r\n\r\n      //授权用户角色信息\r\n      empowerVisible: false,\r\n      transfer: {\r\n        chooseList: [], //总数据\r\n        accredited: [] //右边的选项\r\n      },\r\n      list: {\r\n        before: [], //之前保存的\r\n        after: [] //之后保存的\r\n      },\r\n      //授予资源\r\n      empowerModuleVisible: false,\r\n      sourceData: [],\r\n      sourceDataObj: {},\r\n      props: {\r\n        label: \"moduleName\",\r\n        children: \"children\",\r\n        disabled: function(data, node) {\r\n          if (data.isNecessary && data.isNecessary === \"0\") {\r\n            return false;\r\n          } else if (data.isNecessary && data.isNecessary === \"1\") {\r\n            return true;\r\n          }\r\n        }\r\n      },\r\n      defaultKeys: {\r\n        nodeKey: \"moduleId\",\r\n        expandedKeys: [],\r\n        checkedKeys: []\r\n      },\r\n      roleId: \"\",\r\n      moduleList: {\r\n        before: [], //之前保存的\r\n        after: [] //之后保存的\r\n      },\r\n      moduleTreeList: [],\r\n\r\n      //资源\r\n      empowerSourceVisible: false,\r\n      activeName: \"first\",\r\n      /*\r\n                //无模块资源\r\n                transferSource: {\r\n                    chooseList: [],//总数据\r\n                    accredited: [],//右边的选项\r\n                },\r\n                listSource: {\r\n                    before: [],//之前保存的\r\n                    after: [],//之后保存的\r\n                },\r\n                */\r\n      //模块资源\r\n      sourceProps: {\r\n        label: function(data, node) {\r\n          if (data.resourceName !== undefined) {\r\n            return data.resourceName;\r\n          }\r\n          return data.moduleName;\r\n        },\r\n        children: \"children\",\r\n        disabled: function(data, node) {\r\n          if (data.isNecessary) {\r\n            return true;\r\n          }\r\n          return false;\r\n        }\r\n      },\r\n      defaultSourceKeys: {\r\n        nodeKey: \"identifyId\",\r\n        //                    expandedKeys: [],\r\n        checkedKeys: []\r\n      },\r\n      sourceModuleList: {\r\n        before: [], //之前保存的\r\n        after: [] //之后保存的\r\n      },\r\n      sourceTreeList: [],\r\n\r\n      //参照授权\r\n      copyEmpowerVisible: false\r\n    };\r\n  },\r\n  methods: {\r\n    request() {\r\n      let me = this;\r\n      me.$ajax\r\n        .get(\"rest/role/page\", {\r\n          params: me.form,\r\n          loadingTarget: this.$refs.dataDicTable\r\n        })\r\n        .then(res => {\r\n          if (res.data.status) {\r\n            this.tableList = res.data;\r\n          }\r\n        });\r\n    },\r\n    empowerRequest() {\r\n      let me = this;\r\n      me.$ajax\r\n        .get(\"rest/role/page/reference\", {\r\n          params: me.empowerForm\r\n        })\r\n        .then(res => {\r\n          if (res.data.status) {\r\n            me.$invokeSubMethod(\"setData\", \"empowerTable\", res.data);\r\n          }\r\n        });\r\n    },\r\n    //获取角色对应用户\r\n    request2() {\r\n      let me = this;\r\n      me.$ajax\r\n        .get(\"rest/role/user/all\", {\r\n          params: {\r\n            roleId: me.roleId\r\n          }\r\n        })\r\n        .then(res => {\r\n          if (res.data.status) {\r\n            me.transfer.chooseList = res.data.records;\r\n          }\r\n        })\r\n        .catch()\r\n        .then(() => {\r\n          me.$ajax\r\n            .get(\"rest/role/user/checked\", {\r\n              params: {\r\n                roleId: me.roleId\r\n              }\r\n            })\r\n            .then(res => {\r\n              me.transfer.accredited = res.data.records;\r\n              me.list.before = me.transfer.accredited.map(item => item.id); //一个对象\r\n            });\r\n        });\r\n    },\r\n    //组织架构树\r\n    requestOrgTree() {\r\n      this.$ajax.get(\"rest/enterprise/list\").then(res => {\r\n        if (res.data.status) {\r\n          this.entData = res.data.records;\r\n          let toObj = {};\r\n          this.$each(res.data.records, item => {\r\n            toObj[item.id] = item.name;\r\n          });\r\n          this.columns[1].displace = toObj;\r\n        }\r\n      });\r\n    },\r\n    //搜索树选择\r\n    selectForm(val) {\r\n      let me = this;\r\n      if (val) {\r\n        if (val.hasOwnProperty(\"type\")) {\r\n          me.form.formdata.orgId = val.id;\r\n        } else if (val.hasOwnProperty(\"subjectionId\")) {\r\n          me.form.formdata.parentId = val.id;\r\n        } else if (val.hasOwnProperty(\"areaName\")) {\r\n          me.form.formdata.area = val.id;\r\n        }\r\n      }\r\n    },\r\n\r\n    //新增\r\n    showAddDialog() {\r\n      this.addSourceVisible = true;\r\n      this.isAdd = true;\r\n      this.title = \"新增角色\";\r\n    },\r\n\r\n    //详情\r\n    lookData(val) {\r\n      this.tableRow = val;\r\n      this.addForm = JSON.parse(JSON.stringify(val));\r\n      this.addSourceVisible = true;\r\n      this.title = \"查看角色\";\r\n    },\r\n    //编辑\r\n    editData(val) {\r\n      this.roleId = val.id;\r\n      this.tableRow = val;\r\n      this.addSourceVisible = true;\r\n      this.isAdd = false;\r\n      this.addForm = JSON.parse(JSON.stringify(val));\r\n      this.title = \"编辑角色\";\r\n    },\r\n    /*\r\n            //删除\r\n            deleteData(val) {\r\n                let me = this;\r\n                this.$alertMsg(\"确定删除所选编码?\", \"操作确认\", \"warning\", function () {\r\n                    me.$ajax({\r\n                        url: \"rest/role\",\r\n                        method: \"delete\",\r\n                        data: val.id\r\n                    }).then((res) => {\r\n                        if (res.data.status) {\r\n                            me.request();\r\n                            me.$message.success(res.data.answerMsg);\r\n                        } else {\r\n                            me.$message.error(res.data.answerMsg);\r\n                        }\r\n                    }).catch((err) => {\r\n\r\n                    })\r\n                });\r\n            },\r\n*/\r\n\r\n    //授权用户\r\n    empowerUser(val) {\r\n      let me = this;\r\n      this.roleId = val.id;\r\n      this.request2();\r\n      this.empowerVisible = true;\r\n    },\r\n    saveClick() {\r\n      let me = this,\r\n        list = difference(this.list.before, this.list.after); //获取保存之前的值和保存的值\r\n      function getList(arr = [], deleteUser) {\r\n        //获取对象数组\r\n        return arr.map((item, index) => {\r\n          let obj = {};\r\n          obj.roleId = me.roleId;\r\n          obj.userId = item;\r\n          if (deleteUser !== undefined) {\r\n            for (let i = 0; i < me.transfer.accredited.length; i++) {\r\n              //获取对应的roleuserid\r\n              if (me.transfer.accredited[i].id === obj.userId) {\r\n                obj.id = me.transfer.accredited[i].roleUserId;\r\n              }\r\n            }\r\n          }\r\n          return obj;\r\n        });\r\n      }\r\n      this.$ajax\r\n        .post(\"rest/user/roleUser/\", {\r\n          saveList: getList(list.saveList),\r\n          deleteList: getList(list.deleteList, \"deleteUser\")\r\n        })\r\n        .then(res => {\r\n          if (res.data.status) {\r\n            this.$message.success(res.data.answerMsg);\r\n            this.empowerVisible = false;\r\n          } else {\r\n            this.$message.error(res.data.answerMsg);\r\n          }\r\n        });\r\n    },\r\n\r\n    handleRoleChange(val) {\r\n      this.list.after = val.value; //保存的用户id\r\n    },\r\n    //找出是否是下面的模块都是选中的,\r\n    checkAll(obj) {\r\n      let me = this;\r\n      //自己已选中且children都得选中\r\n      if (obj.children && obj.children.length > 0) {\r\n        //对children进行判断\r\n        if (obj.children.every(item => item.checked == 1)) {\r\n          obj.children.forEach(value => {\r\n            if (value.children && value.children.length > 0) {\r\n              return me.checkAll(value);\r\n            }\r\n          });\r\n          //                        return true\r\n        }\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    },\r\n    //授权模块\r\n    requestEmpower() {\r\n      let checkArr = [],\r\n        me = this;\r\n      this.$ajax\r\n        .get(\"rest/role/roleModule\", {\r\n          params: {\r\n            roleId: this.roleId\r\n          }\r\n        })\r\n        .then(res => {\r\n          if (res.data.status) {\r\n            this.$refs.roleModuleTree.setData(res.data.records);\r\n            me.moduleTreeList = getListByTree(\r\n              res.data.records,\r\n              \"id\",\r\n              \"children\"\r\n            ); //转换成列表\r\n            me.moduleTreeList.forEach(item => {\r\n              if (item.checked != 0) {\r\n                //设置默认选中项\r\n                // 子元素有选中\r\n                if (item.children && item.children.some(item => item.checked)) {\r\n                  me.moduleList.before.push(item.moduleId);\r\n                  console.log(item.moduleId, item.id, item.moduleName);\r\n                } else if (!item.children) {\r\n                  me.moduleList.before.push(item.moduleId);\r\n                  console.log(item.moduleId, item.id, item.moduleName);\r\n                }\r\n                // if (!item.children) {\r\n                //   console.log(item.moduleId, item.id, item.moduleName);\r\n                // }\r\n                if (me.checkAll(item)) {\r\n                  me.defaultKeys.checkedKeys.push(item.id);\r\n                }\r\n              }\r\n            });\r\n            //设置默认展开项\r\n            if (res.data.records && res.data.records.length > 0) {\r\n              me.defaultKeys.expandedKeys.push(res.data.records[0].moduleId);\r\n            }\r\n          }\r\n        });\r\n    },\r\n    empowerModule(val) {\r\n      this.roleId = val.id;\r\n      this.empowerModuleVisible = true;\r\n    },\r\n    closeModuleDialog() {\r\n      this.moduleList.before = [];\r\n      this.defaultKeys = {\r\n        nodeKey: \"moduleId\",\r\n        expandedKeys: [],\r\n        checkedKeys: []\r\n      };\r\n    },\r\n    //取消验证\r\n    closeDialog(formName) {\r\n      this.changeName = false;\r\n      this.$refs[formName].resetFields();\r\n      this.addForm = JSON.parse(JSON.stringify(initForm));\r\n    },\r\n    openEmpowerDialog() {\r\n      this.$nextTick(function() {\r\n        this.requestEmpower();\r\n      });\r\n    },\r\n    closeEmpowerDialog() {},\r\n\r\n    //保存\r\n    saveDialog(formName) {\r\n      let me = this;\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          if (me.isAdd) {\r\n            //发送新增请求\r\n            me.$ajax\r\n              .post(\"rest/role\", me.addForm)\r\n              .then(res => {\r\n                if (res.data.status) {\r\n                  me.$message.success(res.data.answerMsg);\r\n                  me.addSourceVisible = false;\r\n                  me.request();\r\n                } else {\r\n                  me.$message.error(res.data.answerMsg);\r\n                }\r\n              })\r\n              .catch(err => {});\r\n          } else {\r\n            //发送编辑请求\r\n            me.$ajax\r\n              .put(\"rest/role\", me.addForm)\r\n              .then(res => {\r\n                if (res.data.status) {\r\n                  me.$message.success(res.data.answerMsg);\r\n                  me.addSourceVisible = false;\r\n                  me.request();\r\n                } else {\r\n                  me.$message.error(res.data.answerMsg);\r\n                }\r\n              })\r\n              .catch(err => {});\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    cancelTreeDialog() {\r\n      this.empowerModuleVisible = false;\r\n    },\r\n    saveTreeDialog() {\r\n      this.moduleList.after = this.$refs.roleModuleTree.$refs.noLoadTree\r\n        .getCheckedNodes()\r\n        .map(item => item.moduleId); //之后的moduleID\r\n      console.log(\r\n        this.defaultKeys.checkedKeys,\r\n        this.$refs.roleModuleTree.$refs.noLoadTree.getCheckedNodes()\r\n      );\r\n      let me = this;\r\n\r\n      function getParentChecked(id) {\r\n        //子模块选中后,父模块也应该被选中\r\n        me.moduleTreeList.forEach(item => {\r\n          if (\r\n            item.moduleId == id &&\r\n            item.parentModuleId &&\r\n            item.parentModuleId !== \"0\"\r\n          ) {\r\n            me.moduleList.after.push(item.parentModuleId);\r\n            getParentChecked(item.parentModuleId);\r\n          }\r\n        });\r\n      }\r\n      this.moduleList.after.forEach(item => {\r\n        getParentChecked(item); //加上父模块moduleid\r\n      });\r\n      me.moduleList.after = Array.from(new Set(me.moduleList.after));\r\n      let list = difference(this.moduleList.before, this.moduleList.after);\r\n\r\n      function getList(arr = [], deleteUser) {\r\n        //获取对象数组\r\n        return arr.map((item, index) => {\r\n          let obj = {};\r\n          obj.roleId = me.roleId;\r\n          obj.moduleId = item;\r\n          if (deleteUser !== undefined) {\r\n            for (let i = 0; i < me.moduleTreeList.length; i++) {\r\n              //获取对应的roleuserid\r\n              if (me.moduleTreeList[i].moduleId === obj.moduleId) {\r\n                obj.id = me.moduleTreeList[i].id;\r\n              }\r\n            }\r\n          }\r\n          return obj;\r\n        });\r\n      }\r\n      if (list.saveList.length === 0 && list.deleteList === 0) {\r\n        this.$message.info(\"模块授权尚未发生变化。\");\r\n        return false;\r\n      }\r\n      this.$ajax\r\n        .post(\"rest/role/roleModule\", {\r\n          saveList: getList(list.saveList),\r\n          deleteList: getList(list.deleteList, \"deleteUser\")\r\n        })\r\n        .then(res => {\r\n          if (res.data.status) {\r\n            this.$message.success(res.data.answerMsg);\r\n            this.empowerModuleVisible = false;\r\n          } else {\r\n            this.$message.error(res.data.answerMsg);\r\n          }\r\n        });\r\n    },\r\n    //资源配置\r\n    empowerSource(val) {\r\n      let me = this;\r\n      me.roleId = val.id;\r\n      me.empowerSourceVisible = true;\r\n\r\n      //模块资源\r\n      me.$ajax\r\n        .get(\"rest/role/roleModuleHandle\", {\r\n          params: {\r\n            roleId: me.roleId\r\n          },\r\n          noLoading: true\r\n        })\r\n        .then(res => {\r\n          //每一项都加上resourceid\r\n          me.$refs.roleSourceTree.setData(res.data.records);\r\n          me.sourceTreeList = getListByTree(res.data.records, \"id\", \"children\"); //转换成列表\r\n          me.sourceTreeList.forEach(item => {\r\n            if ((item.checked != 0 || item.isNecessary) && item.handleId) {\r\n              //设置默认选中项\r\n              //                            if (me.checkAll(item)) {\r\n              me.defaultSourceKeys.checkedKeys.push(item.identifyId);\r\n              me.sourceModuleList.before.push(item);\r\n              //                            }\r\n            }\r\n          });\r\n        });\r\n\r\n      /*\r\n                                //无模块资源\r\n                                this.$ajax.get('rest/module/baseResource/list', {\r\n                                    noLoading: true\r\n                                }).then(res => {\r\n                                    if (res.data.status) {\r\n                                        me.transferSource.chooseList = res.data.records\r\n                                    }\r\n                                }).catch().then(() => {\r\n                                    me.$ajax.get(\"rest/role/roleModuleResource/single\", {\r\n                                        params: {\r\n                                            roleId: me.roleId\r\n                                        },\r\n                                        noLoading: true\r\n                                    }).then(res => {\r\n                                        me.transferSource.accredited = res.data.records.map(item => {\r\n                                            return {name: item.resourceName, id: item.resourceId, realId: item.id}\r\n                                        });\r\n                                        me.listSource.before = me.transferSource.accredited.map(item => item.id);//\r\n                                    })\r\n                                })\r\n                                */\r\n    },\r\n\r\n    //            handleSourceChange(val) {\r\n    //                this.listSource.after = val.value;//保存的用户id\r\n    //            },\r\n    //无保存资源\r\n    saveSource() {\r\n      this.sourceModuleList.after = this.$refs.roleSourceTree.$refs.noLoadTree.getCheckedKeys(); //之后的identifyId,\r\n      let me = this,\r\n        //                    list1 = difference(this.listSource.before, this.listSource.after),//获取保存之前的值和保存的值\r\n        after = me.sourceTreeList.filter(item => {\r\n          return me.sourceModuleList.after.some(value => {\r\n            return item.identifyId == value && item.handleId;\r\n          });\r\n        });\r\n      let list2 = difference(this.sourceModuleList.before, after, \"identifyId\"),\r\n        saveList = getList2(list2.saveList), //getList1(list1.saveList).concat(getList2(list2.saveList)),\r\n        deleteList = getList2(list2.deleteList, \"deleteUser\"); //getList1(list1.deleteList, 'deleteUser').concat(getList2(list2.deleteList, 'deleteUser'));\r\n      function getList2(arr = [], deleteUser) {\r\n        //获取对象数组\r\n        return arr.map((item, index) => {\r\n          let obj = {\r\n            roleId: me.roleId,\r\n            handleId: item.handleId,\r\n            moduleId: item.parentModuleId\r\n          };\r\n          //删除时获取id\r\n          if (deleteUser) {\r\n            obj.id = item.id;\r\n          }\r\n          return obj;\r\n        });\r\n      }\r\n\r\n      this.$ajax\r\n        .post(\"rest/role/roleModuleHandle\", {\r\n          saveList: saveList,\r\n          deleteList: deleteList\r\n        })\r\n        .then(res => {\r\n          if (res.data.status) {\r\n            me.$message.success(res.data.answerMsg);\r\n            me.empowerSourceVisible = false; //关闭资源弹窗\r\n          } else {\r\n            me.$message.error(res.data.answerMsg);\r\n          }\r\n        });\r\n\r\n      //                this.flag++;\r\n      //                if (this.flag <= 1) {\r\n      //                    this.saveSourceTreeDialog();//保存有模块资源\r\n      //                }\r\n    },\r\n\r\n    closeEmpowerSource() {\r\n      this.sourceModuleList.before = [];\r\n      this.sourceModuleList.after = [];\r\n      this.defaultSourceKeys.checkedKeys = [];\r\n    },\r\n    //参照授权\r\n    copyEmpower(val) {\r\n      this.roleId = val.id;\r\n      this.empowerForm.exceptId = val.id;\r\n      this.empowerRequest();\r\n      this.copyEmpowerVisible = true;\r\n    },\r\n    //保存\r\n    saveCopeEmpower(val) {\r\n      this.$ajax\r\n        .post(\"rest/role/handle/reference\", {\r\n          roleId: this.roleId,\r\n          referRoleId: val.id\r\n        })\r\n        .then(res => {\r\n          if (res.data.status) {\r\n            this.$message.success(res.data.answerMsg);\r\n            //                        this.empowerVisible = false;\r\n          } else {\r\n            this.$message.error(res.data.answerMsg);\r\n          }\r\n        });\r\n    },\r\n    closeCopyEmpower() {\r\n      this.empowerForm = {\r\n        formdata: {\r\n          name: \"\"\r\n        },\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        exceptId: this.roleId\r\n      };\r\n    },\r\n    change(val) {\r\n      this.changeName = true;\r\n      this.addForm.name = val.replace(/\\s+/g, \"\");\r\n    }\r\n  },\r\n  mounted() {\r\n    this.request();\r\n    this.requestOrgTree();\r\n  },\r\n  computed: {}\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only  -->\r\n<style>\r\n.role-item-textarea .el-form-item__content {\r\n  width: 180px;\r\n}\r\n\r\n.role-div-header .el-input {\r\n  width: 100px;\r\n}\r\n\r\n.empower-div-addDialog > .el-dialog {\r\n  width: 750px;\r\n}\r\n\r\n/*.empower-div-addDialog .el-input {*/\r\n/*width: 100px;*/\r\n/*}*/\r\n\r\n.empower-div-addDialog .el-dialog__body {\r\n  padding: 15px 25px;\r\n}\r\n\r\n.empower-div-addDialog .plat-header > div {\r\n  padding-top: 1px;\r\n}\r\n\r\n.empower-div-addDialog .el-form-item {\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.empower-div-addDialog .el-form-item:last-of-type {\r\n  position: relative;\r\n  top: -1px;\r\n  left: 0;\r\n}\r\n\r\n.empower-div-addDialog .el-input__inner {\r\n  height: 25px;\r\n}\r\n\r\n.role-div-addDialog > .el-dialog {\r\n  width: 380px;\r\n}\r\n\r\n.role-div-addDialog .el-input {\r\n  width: 180px;\r\n}\r\n\r\n.role-div-addDialog .el-dialog__body {\r\n  overflow: visible;\r\n}\r\n\r\n.empowerModule-div-addDialog .el-dialog__body .base-tree {\r\n  height: 450px;\r\n  overflow: auto;\r\n}\r\n\r\n.empowerSource-div-addDialog .el-dialog {\r\n  width: 700px;\r\n}\r\n\r\n.empowerSource-div-addDialog .empowerSource-hasModule {\r\n  height: 386px;\r\n  overflow: auto;\r\n}\r\n\r\n.role-copyEmpower-dialog .el-dialog {\r\n  width: 500px;\r\n}\r\n\r\n.role-copyEmpower-dialog .role-div-header {\r\n  justify-content: flex-end;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/platform/basic/role.vue?7543f85a","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.0@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e4c89a1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=styles&index=0!./role.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"2d3bc2d4\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.1.2@vue-style-loader!./~/_css-loader@0.28.0@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@13.0.4@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1e4c89a1\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/platform/basic/role.vue\n// module id = D+Pv\n// module chunks = 31","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e4c89a1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./role.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./role.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e4c89a1\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./role.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/platform/basic/role.vue\n// module id = WjbN\n// module chunks = 31","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('da-manage-page', [_c('div', {\n    attrs: {\n      \"slot\": \"button\"\n    },\n    slot: \"button\"\n  }, [_c('el-button', {\n    attrs: {\n      \"icon\": \"my-xinzeng\"\n    },\n    on: {\n      \"click\": _vm.showAddDialog\n    }\n  }, [_vm._v(\"\\n        新增\\n      \")])], 1), _vm._v(\" \"), _c('el-form', {\n    ref: \"dataDicForm\",\n    attrs: {\n      \"slot\": \"search\",\n      \"model\": _vm.form,\n      \"inline\": true\n    },\n    slot: \"search\"\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"名称\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.formdata.name),\n      callback: function($$v) {\n        _vm.$set(_vm.form.formdata, \"name\", $$v)\n      },\n      expression: \"form.formdata.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    staticClass: \"search_button\",\n    on: {\n      \"click\": _vm.request\n    }\n  }, [_vm._v(\" 搜索\")])], 1)], 1), _vm._v(\" \"), _c('da-table', {\n    ref: \"dataDicTable\",\n    attrs: {\n      \"slot\": \"content\",\n      \"colums\": _vm.columns,\n      \"table-list\": _vm.tableList,\n      \"search-data\": _vm.form\n    },\n    on: {\n      \"callBack\": _vm.request\n    },\n    slot: \"content\"\n  }, [_c('el-table-column', {\n    attrs: {\n      \"slot\": \"operation\",\n      \"property\": \"operation\",\n      \"label\": \"授权管理\",\n      \"width\": \"313\",\n      \"align\": \"center\",\n      \"header-align\": \"center\"\n    },\n    slot: \"operation\",\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"info\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.empowerUser(scope.row)\n            }\n          }\n        }, [_vm._v(\"用户配置\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"info\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.empowerModule(scope.row)\n            }\n          }\n        }, [_vm._v(\"模块配置\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"info\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.empowerSource(scope.row)\n            }\n          }\n        }, [_vm._v(\"资源配置\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"info\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.copyEmpower(scope.row)\n            }\n          }\n        }, [_vm._v(\"参照授权\")])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"slot\": \"operation\",\n      \"property\": \"operation\",\n      \"label\": \"操作\",\n      \"width\": \"60\",\n      \"align\": \"center\",\n      \"header-align\": \"center\"\n    },\n    slot: \"operation\",\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"warning\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.editData(scope.row)\n            }\n          }\n        }, [_vm._v(\"编辑\")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('da-dialog', {\n    staticClass: \"role-div-addDialog\",\n    attrs: {\n      \"title\": _vm.title,\n      \"visible\": _vm.addSourceVisible\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.addSourceVisible = $event\n      },\n      \"close\": function($event) {\n        _vm.closeDialog('role_add')\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"role_add\",\n    attrs: {\n      \"label-width\": \"95px\",\n      \"model\": _vm.addForm,\n      \"rules\": _vm.rules,\n      \"inline\": true\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"企业名称\",\n      \"prop\": \"entId\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"filterable\": \"\",\n      \"size\": \"medium\",\n      \"placeholder\": \"请选择\"\n    },\n    model: {\n      value: (_vm.addForm.entId),\n      callback: function($$v) {\n        _vm.$set(_vm.addForm, \"entId\", $$v)\n      },\n      expression: \"addForm.entId\"\n    }\n  }, _vm._l((_vm.entData), function(item, index) {\n    return _c('el-option', {\n      key: index,\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.id\n      }\n    })\n  }))], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"角色名称\",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.checkNameLoading),\n      expression: \"checkNameLoading\"\n    }],\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    on: {\n      \"change\": _vm.change\n    },\n    model: {\n      value: (_vm.addForm.name),\n      callback: function($$v) {\n        _vm.$set(_vm.addForm, \"name\", $$v)\n      },\n      expression: \"addForm.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"role-item-textarea\",\n    attrs: {\n      \"label\": \"备注\",\n      \"prop\": \"remark\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\",\n      \"type\": \"textarea\",\n      \"row\": 3\n    },\n    model: {\n      value: (_vm.addForm.remark),\n      callback: function($$v) {\n        _vm.$set(_vm.addForm, \"remark\", $$v)\n      },\n      expression: \"addForm.remark\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.saveDialog('role_add')\n      }\n    }\n  }, [_vm._v(\"确 定\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.addSourceVisible = false;\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)], 1), _vm._v(\" \"), _c('da-dialog', {\n    staticClass: \"empower-div-addDialog\",\n    attrs: {\n      \"title\": \"用户配置\",\n      \"visible\": _vm.empowerVisible\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.empowerVisible = $event\n      },\n      \"close\": _vm.closeEmpowerDialog\n    }\n  }, [_c('da-transfer', {\n    attrs: {\n      \"chooseList\": _vm.transfer.chooseList,\n      \"accredited\": _vm.transfer.accredited,\n      \"saveClick\": _vm.saveClick,\n      \"titles\": ['未授权用户', '已授权用户'],\n      \"buttonTexts\": ['删除', '授权', '保存'],\n      \"emptyText\": \"当前角色未关联组织机构或关联的组织机构下不存在用户\"\n    },\n    on: {\n      \"transfer\": _vm.handleRoleChange\n    }\n  })], 1), _vm._v(\" \"), _c('da-dialog', {\n    staticClass: \"empowerModule-div-addDialog\",\n    attrs: {\n      \"title\": \"模块配置\",\n      \"visible\": _vm.empowerModuleVisible\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.empowerModuleVisible = $event\n      },\n      \"open\": _vm.openEmpowerDialog,\n      \"close\": _vm.closeModuleDialog\n    }\n  }, [_c('da-tree', {\n    ref: \"roleModuleTree\",\n    attrs: {\n      \"props\": _vm.props,\n      \"show-checkbox\": true,\n      \"defaultExpand\": true,\n      \"defaultKeys\": _vm.defaultKeys\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.saveTreeDialog\n    }\n  }, [_vm._v(\"保 存\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": _vm.cancelTreeDialog\n    }\n  }, [_vm._v(\"取 消\")])], 1)], 1), _vm._v(\" \"), _c('da-dialog', {\n    staticClass: \"empowerSource-div-addDialog\",\n    attrs: {\n      \"title\": \"资源配置\",\n      \"visible\": _vm.empowerSourceVisible\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.empowerSourceVisible = $event\n      },\n      \"close\": _vm.closeEmpowerSource\n    }\n  }, [_c('da-tree', {\n    ref: \"roleSourceTree\",\n    staticClass: \"empowerSource-hasModule\",\n    attrs: {\n      \"props\": _vm.sourceProps,\n      \"defaultExpand\": true,\n      \"show-checkbox\": true,\n      \"defaultKeys\": _vm.defaultSourceKeys\n    }\n  }), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.saveSource\n    }\n  }, [_vm._v(\"保 存\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.empowerSourceVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)], 1), _vm._v(\" \"), _c('da-dialog', {\n    staticClass: \"role-copyEmpower-dialog\",\n    attrs: {\n      \"title\": \"参照授权\",\n      \"visible\": _vm.copyEmpowerVisible\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.copyEmpowerVisible = $event\n      },\n      \"close\": _vm.closeCopyEmpower\n    }\n  }, [_c('div', {\n    staticClass: \"plat-header role-div-header\"\n  }, [_c('el-form', {\n    ref: \"dataDicForm\",\n    attrs: {\n      \"model\": _vm.form,\n      \"inline\": true\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"名称\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.empowerForm.formdata.name),\n      callback: function($$v) {\n        _vm.$set(_vm.empowerForm.formdata, \"name\", $$v)\n      },\n      expression: \"empowerForm.formdata.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    staticClass: \"search_button\",\n    on: {\n      \"click\": _vm.empowerRequest\n    }\n  }, [_vm._v(\" 搜索\")])], 1)], 1)], 1), _vm._v(\" \"), _c('da-table', {\n    ref: \"empowerTable\",\n    attrs: {\n      \"colums\": _vm.columns,\n      \"search-data\": _vm.empowerForm,\n      \"maxHeight\": \"400\"\n    },\n    on: {\n      \"callBack\": _vm.empowerRequest\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"slot\": \"operation\",\n      \"property\": \"operation\",\n      \"label\": \"操作\",\n      \"width\": \"80\",\n      \"align\": \"center\",\n      \"header-align\": \"center\"\n    },\n    slot: \"operation\",\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"info\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.saveCopeEmpower(scope.row)\n            }\n          }\n        }, [_vm._v(\"参照授权\\n            \")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.copyEmpowerVisible = false\n      }\n    }\n  }, [_vm._v(\"关 闭\")])], 1)], 1)], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-1e4c89a1\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/platform/basic/role.vue\n// module id = xrIE\n// module chunks = 31"],"sourceRoot":""}